Module([Import([alias('sys', None)], lineno=1, col_offset=0), Import([alias('os', None)], lineno=2, col_offset=0), Import([alias('unittest', None)], lineno=3, col_offset=0), Import([alias('itertools', None)], lineno=4, col_offset=0), Import([alias('time', None)], lineno=5, col_offset=0), ImportFrom('array', [alias('array', None)], 0, lineno=6, col_offset=0), ImportFrom('weakref', [alias('proxy', None)], 0, lineno=7, col_offset=0), TryExcept([Import([alias('threading', None)], lineno=9, col_offset=4)], [ExceptHandler(Name('ImportError', Load(), lineno=10, col_offset=7), None, [Assign([Name('threading', Store(), lineno=11, col_offset=4)], Name('None', Load(), lineno=11, col_offset=16), lineno=11, col_offset=4)], lineno=10, col_offset=0)], [], lineno=8, col_offset=0), ImportFrom('test', [alias('test_support', None)], 0, lineno=13, col_offset=0), ImportFrom('test.test_support', [alias('TESTFN', None), alias('run_unittest', None)], 0, lineno=14, col_offset=0), ImportFrom('UserList', [alias('UserList', None)], 0, lineno=15, col_offset=0), ClassDef('AutoFileTests', [Attribute(Name('unittest', Load(), lineno=17, col_offset=20), 'TestCase', Load(), lineno=17, col_offset=20)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=20, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=21, col_offset=8), 'f', Store(), lineno=21, col_offset=8)], Call(Name('open', Load(), lineno=21, col_offset=17), [Name('TESTFN', Load(), lineno=21, col_offset=22), Str('wb', lineno=21, col_offset=30)], [], None, None, lineno=21, col_offset=17), lineno=21, col_offset=8)], [], lineno=20, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=23, col_offset=17)], None, None, []), [If(Attribute(Name('self', Load(), lineno=24, col_offset=11), 'f', Load(), lineno=24, col_offset=11), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=25, col_offset=12), 'f', Load(), lineno=25, col_offset=12), 'close', Load(), lineno=25, col_offset=12), [], [], None, None, lineno=25, col_offset=12), lineno=25, col_offset=12)], [], lineno=24, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=26, col_offset=8), 'remove', Load(), lineno=26, col_offset=8), [Name('TESTFN', Load(), lineno=26, col_offset=18)], [], None, None, lineno=26, col_offset=8), lineno=26, col_offset=8)], [], lineno=23, col_offset=4), FunctionDef('testWeakRefs', arguments([Name('self', Param(), lineno=28, col_offset=21)], None, None, []), [Assign([Name('p', Store(), lineno=30, col_offset=8)], Call(Name('proxy', Load(), lineno=30, col_offset=12), [Attribute(Name('self', Load(), lineno=30, col_offset=18), 'f', Load(), lineno=30, col_offset=18)], [], None, None, lineno=30, col_offset=12), lineno=30, col_offset=8), Expr(Call(Attribute(Name('p', Load(), lineno=31, col_offset=8), 'write', Load(), lineno=31, col_offset=8), [Str('teststring', lineno=31, col_offset=16)], [], None, None, lineno=31, col_offset=8), lineno=31, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=32, col_offset=8), 'assertEqual', Load(), lineno=32, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=32, col_offset=25), 'f', Load(), lineno=32, col_offset=25), 'tell', Load(), lineno=32, col_offset=25), [], [], None, None, lineno=32, col_offset=25), Call(Attribute(Name('p', Load(), lineno=32, col_offset=40), 'tell', Load(), lineno=32, col_offset=40), [], [], None, None, lineno=32, col_offset=40)], [], None, None, lineno=32, col_offset=8), lineno=32, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=33, col_offset=8), 'f', Load(), lineno=33, col_offset=8), 'close', Load(), lineno=33, col_offset=8), [], [], None, None, lineno=33, col_offset=8), lineno=33, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=34, col_offset=8), 'f', Store(), lineno=34, col_offset=8)], Name('None', Load(), lineno=34, col_offset=17), lineno=34, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=35, col_offset=8), 'assertRaises', Load(), lineno=35, col_offset=8), [Name('ReferenceError', Load(), lineno=35, col_offset=26), Name('getattr', Load(), lineno=35, col_offset=42), Name('p', Load(), lineno=35, col_offset=51), Str('tell', lineno=35, col_offset=54)], [], None, None, lineno=35, col_offset=8), lineno=35, col_offset=8)], [], lineno=28, col_offset=4), FunctionDef('testAttributes', arguments([Name('self', Param(), lineno=37, col_offset=23)], None, None, []), [Assign([Name('f', Store(), lineno=39, col_offset=8)], Attribute(Name('self', Load(), lineno=39, col_offset=12), 'f', Load(), lineno=39, col_offset=12), lineno=39, col_offset=8), With(Call(Attribute(Name('test_support', Load(), lineno=40, col_offset=13), 'check_py3k_warnings', Load(), lineno=40, col_offset=13), [], [], None, None, lineno=40, col_offset=13), None, [Assign([Name('softspace', Store(), lineno=41, col_offset=12)], Attribute(Name('f', Load(), lineno=41, col_offset=24), 'softspace', Load(), lineno=41, col_offset=24), lineno=41, col_offset=12)], lineno=40, col_offset=13), Expr(Attribute(Name('f', Load(), lineno=42, col_offset=8), 'name', Load(), lineno=42, col_offset=8), lineno=42, col_offset=8), Expr(Attribute(Name('f', Load(), lineno=43, col_offset=8), 'mode', Load(), lineno=43, col_offset=8), lineno=43, col_offset=8), Expr(Attribute(Name('f', Load(), lineno=44, col_offset=8), 'closed', Load(), lineno=44, col_offset=8), lineno=44, col_offset=8), With(Call(Attribute(Name('test_support', Load(), lineno=46, col_offset=13), 'check_py3k_warnings', Load(), lineno=46, col_offset=13), [], [], None, None, lineno=46, col_offset=13), None, [Assign([Attribute(Name('f', Load(), lineno=48, col_offset=12), 'softspace', Store(), lineno=48, col_offset=12)], Name('softspace', Load(), lineno=48, col_offset=26), lineno=48, col_offset=12)], lineno=46, col_offset=13), For(Name('attr', Store(), lineno=51, col_offset=12), Tuple([Str('name', lineno=51, col_offset=20), Str('mode', lineno=51, col_offset=28), Str('closed', lineno=51, col_offset=36)], Load(), lineno=51, col_offset=20), [Expr(Call(Attribute(Name('self', Load(), lineno=52, col_offset=12), 'assertRaises', Load(), lineno=52, col_offset=12), [Tuple([Name('AttributeError', Load(), lineno=52, col_offset=31), Name('TypeError', Load(), lineno=52, col_offset=47)], Load(), lineno=52, col_offset=31), Name('setattr', Load(), lineno=52, col_offset=59), Name('f', Load(), lineno=52, col_offset=68), Name('attr', Load(), lineno=52, col_offset=71), Str('oops', lineno=52, col_offset=77)], [], None, None, lineno=52, col_offset=12), lineno=52, col_offset=12)], [], lineno=51, col_offset=8)], [], lineno=37, col_offset=4), FunctionDef('testReadinto', arguments([Name('self', Param(), lineno=54, col_offset=21)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=56, col_offset=8), 'f', Load(), lineno=56, col_offset=8), 'write', Load(), lineno=56, col_offset=8), [Str('12', lineno=56, col_offset=21)], [], None, None, lineno=56, col_offset=8), lineno=56, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=57, col_offset=8), 'f', Load(), lineno=57, col_offset=8), 'close', Load(), lineno=57, col_offset=8), [], [], None, None, lineno=57, col_offset=8), lineno=57, col_offset=8), Assign([Name('a', Store(), lineno=58, col_offset=8)], Call(Name('array', Load(), lineno=58, col_offset=12), [Str('c', lineno=58, col_offset=18), BinOp(Str('x', lineno=58, col_offset=23), Mult(), Num(10, lineno=58, col_offset=27), lineno=58, col_offset=23)], [], None, None, lineno=58, col_offset=12), lineno=58, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=59, col_offset=8), 'f', Store(), lineno=59, col_offset=8)], Call(Name('open', Load(), lineno=59, col_offset=17), [Name('TESTFN', Load(), lineno=59, col_offset=22), Str('rb', lineno=59, col_offset=30)], [], None, None, lineno=59, col_offset=17), lineno=59, col_offset=8), Assign([Name('n', Store(), lineno=60, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=60, col_offset=12), 'f', Load(), lineno=60, col_offset=12), 'readinto', Load(), lineno=60, col_offset=12), [Name('a', Load(), lineno=60, col_offset=28)], [], None, None, lineno=60, col_offset=12), lineno=60, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=61, col_offset=8), 'assertEqual', Load(), lineno=61, col_offset=8), [Str('12', lineno=61, col_offset=25), Subscript(Call(Attribute(Name('a', Load(), lineno=61, col_offset=31), 'tostring', Load(), lineno=61, col_offset=31), [], [], None, None, lineno=61, col_offset=31), Slice(None, Name('n', Load(), lineno=61, col_offset=45), None), Load(), lineno=61, col_offset=31)], [], None, None, lineno=61, col_offset=8), lineno=61, col_offset=8)], [], lineno=54, col_offset=4), FunctionDef('testWritelinesUserList', arguments([Name('self', Param(), lineno=63, col_offset=31)], None, None, []), [Assign([Name('l', Store(), lineno=65, col_offset=8)], Call(Name('UserList', Load(), lineno=65, col_offset=12), [List([Str('1', lineno=65, col_offset=22), Str('2', lineno=65, col_offset=27)], Load(), lineno=65, col_offset=21)], [], None, None, lineno=65, col_offset=12), lineno=65, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=66, col_offset=8), 'f', Load(), lineno=66, col_offset=8), 'writelines', Load(), lineno=66, col_offset=8), [Name('l', Load(), lineno=66, col_offset=26)], [], None, None, lineno=66, col_offset=8), lineno=66, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=67, col_offset=8), 'f', Load(), lineno=67, col_offset=8), 'close', Load(), lineno=67, col_offset=8), [], [], None, None, lineno=67, col_offset=8), lineno=67, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=68, col_offset=8), 'f', Store(), lineno=68, col_offset=8)], Call(Name('open', Load(), lineno=68, col_offset=17), [Name('TESTFN', Load(), lineno=68, col_offset=22), Str('rb', lineno=68, col_offset=30)], [], None, None, lineno=68, col_offset=17), lineno=68, col_offset=8), Assign([Name('buf', Store(), lineno=69, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=69, col_offset=14), 'f', Load(), lineno=69, col_offset=14), 'read', Load(), lineno=69, col_offset=14), [], [], None, None, lineno=69, col_offset=14), lineno=69, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=70, col_offset=8), 'assertEqual', Load(), lineno=70, col_offset=8), [Name('buf', Load(), lineno=70, col_offset=25), Str('12', lineno=70, col_offset=30)], [], None, None, lineno=70, col_offset=8), lineno=70, col_offset=8)], [], lineno=63, col_offset=4), FunctionDef('testWritelinesIntegers', arguments([Name('self', Param(), lineno=72, col_offset=31)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=74, col_offset=8), 'assertRaises', Load(), lineno=74, col_offset=8), [Name('TypeError', Load(), lineno=74, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=74, col_offset=37), 'f', Load(), lineno=74, col_offset=37), 'writelines', Load(), lineno=74, col_offset=37), List([Num(1, lineno=74, col_offset=57), Num(2, lineno=74, col_offset=60), Num(3, lineno=74, col_offset=63)], Load(), lineno=74, col_offset=56)], [], None, None, lineno=74, col_offset=8), lineno=74, col_offset=8)], [], lineno=72, col_offset=4), FunctionDef('testWritelinesIntegersUserList', arguments([Name('self', Param(), lineno=76, col_offset=39)], None, None, []), [Assign([Name('l', Store(), lineno=78, col_offset=8)], Call(Name('UserList', Load(), lineno=78, col_offset=12), [List([Num(1, lineno=78, col_offset=22), Num(2, lineno=78, col_offset=24), Num(3, lineno=78, col_offset=26)], Load(), lineno=78, col_offset=21)], [], None, None, lineno=78, col_offset=12), lineno=78, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=79, col_offset=8), 'assertRaises', Load(), lineno=79, col_offset=8), [Name('TypeError', Load(), lineno=79, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=79, col_offset=37), 'f', Load(), lineno=79, col_offset=37), 'writelines', Load(), lineno=79, col_offset=37), Name('l', Load(), lineno=79, col_offset=56)], [], None, None, lineno=79, col_offset=8), lineno=79, col_offset=8)], [], lineno=76, col_offset=4), FunctionDef('testWritelinesNonString', arguments([Name('self', Param(), lineno=81, col_offset=32)], None, None, []), [ClassDef('NonString', [], [Pass( lineno=84, col_offset=12)], [], lineno=83, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=86, col_offset=8), 'assertRaises', Load(), lineno=86, col_offset=8), [Name('TypeError', Load(), lineno=86, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=86, col_offset=37), 'f', Load(), lineno=86, col_offset=37), 'writelines', Load(), lineno=86, col_offset=37), List([Call(Name('NonString', Load(), lineno=87, col_offset=27), [], [], None, None, lineno=87, col_offset=27), Call(Name('NonString', Load(), lineno=87, col_offset=40), [], [], None, None, lineno=87, col_offset=40)], Load(), lineno=87, col_offset=26)], [], None, None, lineno=86, col_offset=8), lineno=86, col_offset=8)], [], lineno=81, col_offset=4), FunctionDef('testRepr', arguments([Name('self', Param(), lineno=89, col_offset=17)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=91, col_offset=8), 'assertTrue', Load(), lineno=91, col_offset=8), [Call(Attribute(Call(Name('repr', Load(), lineno=91, col_offset=24), [Attribute(Name('self', Load(), lineno=91, col_offset=29), 'f', Load(), lineno=91, col_offset=29)], [], None, None, lineno=91, col_offset=24), 'startswith', Load(), lineno=91, col_offset=24), [BinOp(Str("<open file '", lineno=91, col_offset=48), Add(), Name('TESTFN', Load(), lineno=91, col_offset=65), lineno=91, col_offset=48)], [], None, None, lineno=91, col_offset=24)], [], None, None, lineno=91, col_offset=8), lineno=91, col_offset=8)], [], lineno=89, col_offset=4), FunctionDef('testErrors', arguments([Name('self', Param(), lineno=93, col_offset=19)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=94, col_offset=8), 'f', Load(), lineno=94, col_offset=8), 'close', Load(), lineno=94, col_offset=8), [], [], None, None, lineno=94, col_offset=8), lineno=94, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=95, col_offset=8), 'f', Store(), lineno=95, col_offset=8)], Call(Name('open', Load(), lineno=95, col_offset=17), [Name('TESTFN', Load(), lineno=95, col_offset=22), Str('rb', lineno=95, col_offset=30)], [], None, None, lineno=95, col_offset=17), lineno=95, col_offset=8), Assign([Name('f', Store(), lineno=96, col_offset=8)], Attribute(Name('self', Load(), lineno=96, col_offset=12), 'f', Load(), lineno=96, col_offset=12), lineno=96, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=97, col_offset=8), 'assertEqual', Load(), lineno=97, col_offset=8), [Attribute(Name('f', Load(), lineno=97, col_offset=25), 'name', Load(), lineno=97, col_offset=25), Name('TESTFN', Load(), lineno=97, col_offset=33)], [], None, None, lineno=97, col_offset=8), lineno=97, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=98, col_offset=8), 'assertTrue', Load(), lineno=98, col_offset=8), [UnaryOp(Not(), Call(Attribute(Name('f', Load(), lineno=98, col_offset=28), 'isatty', Load(), lineno=98, col_offset=28), [], [], None, None, lineno=98, col_offset=28), lineno=98, col_offset=24)], [], None, None, lineno=98, col_offset=8), lineno=98, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=99, col_offset=8), 'assertTrue', Load(), lineno=99, col_offset=8), [UnaryOp(Not(), Attribute(Name('f', Load(), lineno=99, col_offset=28), 'closed', Load(), lineno=99, col_offset=28), lineno=99, col_offset=24)], [], None, None, lineno=99, col_offset=8), lineno=99, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=101, col_offset=8), 'assertRaises', Load(), lineno=101, col_offset=8), [Name('TypeError', Load(), lineno=101, col_offset=26), Attribute(Name('f', Load(), lineno=101, col_offset=37), 'readinto', Load(), lineno=101, col_offset=37), Str('', lineno=101, col_offset=49)], [], None, None, lineno=101, col_offset=8), lineno=101, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=102, col_offset=8), 'close', Load(), lineno=102, col_offset=8), [], [], None, None, lineno=102, col_offset=8), lineno=102, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=103, col_offset=8), 'assertTrue', Load(), lineno=103, col_offset=8), [Attribute(Name('f', Load(), lineno=103, col_offset=24), 'closed', Load(), lineno=103, col_offset=24)], [], None, None, lineno=103, col_offset=8), lineno=103, col_offset=8)], [], lineno=93, col_offset=4), FunctionDef('testMethods', arguments([Name('self', Param(), lineno=105, col_offset=20)], None, None, []), [Assign([Name('methods', Store(), lineno=106, col_offset=8)], List([Str('fileno', lineno=106, col_offset=19), Str('flush', lineno=106, col_offset=29), Str('isatty', lineno=106, col_offset=38), Str('next', lineno=106, col_offset=48), Str('read', lineno=106, col_offset=56), Str('readinto', lineno=106, col_offset=64), Str('readline', lineno=107, col_offset=19), Str('readlines', lineno=107, col_offset=31), Str('seek', lineno=107, col_offset=44), Str('tell', lineno=107, col_offset=52), Str('truncate', lineno=107, col_offset=60), Str('write', lineno=108, col_offset=19), Str('__iter__', lineno=108, col_offset=28)], Load(), lineno=106, col_offset=18), lineno=106, col_offset=8), Assign([Name('deprecated_methods', Store(), lineno=109, col_offset=8)], List([Str('xreadlines', lineno=109, col_offset=30)], Load(), lineno=109, col_offset=29), lineno=109, col_offset=8), If(Call(Attribute(Attribute(Name('sys', Load(), lineno=110, col_offset=11), 'platform', Load(), lineno=110, col_offset=11), 'startswith', Load(), lineno=110, col_offset=11), [Str('atheos', lineno=110, col_offset=35)], [], None, None, lineno=110, col_offset=11), [Expr(Call(Attribute(Name('methods', Load(), lineno=111, col_offset=12), 'remove', Load(), lineno=111, col_offset=12), [Str('truncate', lineno=111, col_offset=27)], [], None, None, lineno=111, col_offset=12), lineno=111, col_offset=12)], [], lineno=110, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=114, col_offset=8), 'f', Load(), lineno=114, col_offset=8), '__exit__', Load(), lineno=114, col_offset=8), [Name('None', Load(), lineno=114, col_offset=24), Name('None', Load(), lineno=114, col_offset=30), Name('None', Load(), lineno=114, col_offset=36)], [], None, None, lineno=114, col_offset=8), lineno=114, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=115, col_offset=8), 'assertTrue', Load(), lineno=115, col_offset=8), [Attribute(Attribute(Name('self', Load(), lineno=115, col_offset=24), 'f', Load(), lineno=115, col_offset=24), 'closed', Load(), lineno=115, col_offset=24)], [], None, None, lineno=115, col_offset=8), lineno=115, col_offset=8), For(Name('methodname', Store(), lineno=117, col_offset=12), Name('methods', Load(), lineno=117, col_offset=26), [Assign([Name('method', Store(), lineno=118, col_offset=12)], Call(Name('getattr', Load(), lineno=118, col_offset=21), [Attribute(Name('self', Load(), lineno=118, col_offset=29), 'f', Load(), lineno=118, col_offset=29), Name('methodname', Load(), lineno=118, col_offset=37)], [], None, None, lineno=118, col_offset=21), lineno=118, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=120, col_offset=12), 'assertRaises', Load(), lineno=120, col_offset=12), [Name('ValueError', Load(), lineno=120, col_offset=30), Name('method', Load(), lineno=120, col_offset=42)], [], None, None, lineno=120, col_offset=12), lineno=120, col_offset=12)], [], lineno=117, col_offset=8), With(Call(Attribute(Name('test_support', Load(), lineno=121, col_offset=13), 'check_py3k_warnings', Load(), lineno=121, col_offset=13), [], [], None, None, lineno=121, col_offset=13), None, [For(Name('methodname', Store(), lineno=122, col_offset=16), Name('deprecated_methods', Load(), lineno=122, col_offset=30), [Assign([Name('method', Store(), lineno=123, col_offset=16)], Call(Name('getattr', Load(), lineno=123, col_offset=25), [Attribute(Name('self', Load(), lineno=123, col_offset=33), 'f', Load(), lineno=123, col_offset=33), Name('methodname', Load(), lineno=123, col_offset=41)], [], None, None, lineno=123, col_offset=25), lineno=123, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=124, col_offset=16), 'assertRaises', Load(), lineno=124, col_offset=16), [Name('ValueError', Load(), lineno=124, col_offset=34), Name('method', Load(), lineno=124, col_offset=46)], [], None, None, lineno=124, col_offset=16), lineno=124, col_offset=16)], [], lineno=122, col_offset=12)], lineno=121, col_offset=13), Expr(Call(Attribute(Name('self', Load(), lineno=125, col_offset=8), 'assertRaises', Load(), lineno=125, col_offset=8), [Name('ValueError', Load(), lineno=125, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=125, col_offset=38), 'f', Load(), lineno=125, col_offset=38), 'writelines', Load(), lineno=125, col_offset=38), List([], Load(), lineno=125, col_offset=57)], [], None, None, lineno=125, col_offset=8), lineno=125, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=128, col_offset=8), 'assertEqual', Load(), lineno=128, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=128, col_offset=25), 'f', Load(), lineno=128, col_offset=25), '__exit__', Load(), lineno=128, col_offset=25), [Name('None', Load(), lineno=128, col_offset=41), Name('None', Load(), lineno=128, col_offset=47), Name('None', Load(), lineno=128, col_offset=53)], [], None, None, lineno=128, col_offset=25), Name('None', Load(), lineno=128, col_offset=60)], [], None, None, lineno=128, col_offset=8), lineno=128, col_offset=8), TryExcept([Expr(BinOp(Num(1, lineno=131, col_offset=12), FloorDiv(), Num(0, lineno=131, col_offset=17), lineno=131, col_offset=12), lineno=131, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('self', Load(), lineno=133, col_offset=12), 'assertEqual', Load(), lineno=133, col_offset=12), [Call(Attribute(Attribute(Name('self', Load(), lineno=133, col_offset=29), 'f', Load(), lineno=133, col_offset=29), '__exit__', Load(), lineno=133, col_offset=29), [], [], Call(Attribute(Name('sys', Load(), lineno=133, col_offset=46), 'exc_info', Load(), lineno=133, col_offset=46), [], [], None, None, lineno=133, col_offset=46), None, lineno=133, col_offset=29), Name('None', Load(), lineno=133, col_offset=63)], [], None, None, lineno=133, col_offset=12), lineno=133, col_offset=12)], lineno=132, col_offset=8)], [], lineno=130, col_offset=8)], [], lineno=105, col_offset=4), FunctionDef('testReadWhenWriting', arguments([Name('self', Param(), lineno=135, col_offset=28)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=136, col_offset=8), 'assertRaises', Load(), lineno=136, col_offset=8), [Name('IOError', Load(), lineno=136, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=136, col_offset=35), 'f', Load(), lineno=136, col_offset=35), 'read', Load(), lineno=136, col_offset=35)], [], None, None, lineno=136, col_offset=8), lineno=136, col_offset=8)], [], lineno=135, col_offset=4), FunctionDef('testNastyWritelinesGenerator', arguments([Name('self', Param(), lineno=138, col_offset=37)], None, None, []), [FunctionDef('nasty', arguments([], None, None, []), [For(Name('i', Store(), lineno=140, col_offset=16), Call(Name('range', Load(), lineno=140, col_offset=21), [Num(5, lineno=140, col_offset=27)], [], None, None, lineno=140, col_offset=21), [If(Compare(Name('i', Load(), lineno=141, col_offset=19), [Eq()], [Num(3, lineno=141, col_offset=24)], lineno=141, col_offset=19), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=142, col_offset=20), 'f', Load(), lineno=142, col_offset=20), 'close', Load(), lineno=142, col_offset=20), [], [], None, None, lineno=142, col_offset=20), lineno=142, col_offset=20)], [], lineno=141, col_offset=16), Expr(Yield(Call(Name('str', Load(), lineno=143, col_offset=22), [Name('i', Load(), lineno=143, col_offset=26)], [], None, None, lineno=143, col_offset=22), lineno=143, col_offset=16), lineno=143, col_offset=16)], [], lineno=140, col_offset=12)], [], lineno=139, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=144, col_offset=8), 'assertRaises', Load(), lineno=144, col_offset=8), [Name('ValueError', Load(), lineno=144, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=144, col_offset=38), 'f', Load(), lineno=144, col_offset=38), 'writelines', Load(), lineno=144, col_offset=38), Call(Name('nasty', Load(), lineno=144, col_offset=57), [], [], None, None, lineno=144, col_offset=57)], [], None, None, lineno=144, col_offset=8), lineno=144, col_offset=8)], [], lineno=138, col_offset=4), FunctionDef('testIssue5677', arguments([Name('self', Param(), lineno=146, col_offset=22)], None, None, []), [Assign([Name('data', Store(), lineno=149, col_offset=8)], Str('xxx', lineno=149, col_offset=15), lineno=149, col_offset=8), For(Name('mode', Store(), lineno=150, col_offset=12), List([Str('w', lineno=150, col_offset=21), Str('wb', lineno=150, col_offset=26), Str('a', lineno=150, col_offset=32), Str('ab', lineno=150, col_offset=37)], Load(), lineno=150, col_offset=20), [For(Name('attr', Store(), lineno=151, col_offset=16), List([Str('read', lineno=151, col_offset=25), Str('readline', lineno=151, col_offset=33), Str('readlines', lineno=151, col_offset=45)], Load(), lineno=151, col_offset=24), [Assign([Attribute(Name('self', Load(), lineno=152, col_offset=16), 'f', Store(), lineno=152, col_offset=16)], Call(Name('open', Load(), lineno=152, col_offset=25), [Name('TESTFN', Load(), lineno=152, col_offset=30), Name('mode', Load(), lineno=152, col_offset=38)], [], None, None, lineno=152, col_offset=25), lineno=152, col_offset=16), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=153, col_offset=16), 'f', Load(), lineno=153, col_offset=16), 'write', Load(), lineno=153, col_offset=16), [Name('data', Load(), lineno=153, col_offset=29)], [], None, None, lineno=153, col_offset=16), lineno=153, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=154, col_offset=16), 'assertRaises', Load(), lineno=154, col_offset=16), [Name('IOError', Load(), lineno=154, col_offset=34), Call(Name('getattr', Load(), lineno=154, col_offset=43), [Attribute(Name('self', Load(), lineno=154, col_offset=51), 'f', Load(), lineno=154, col_offset=51), Name('attr', Load(), lineno=154, col_offset=59)], [], None, None, lineno=154, col_offset=43)], [], None, None, lineno=154, col_offset=16), lineno=154, col_offset=16), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=155, col_offset=16), 'f', Load(), lineno=155, col_offset=16), 'close', Load(), lineno=155, col_offset=16), [], [], None, None, lineno=155, col_offset=16), lineno=155, col_offset=16)], [], lineno=151, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=157, col_offset=12), 'f', Store(), lineno=157, col_offset=12)], Call(Name('open', Load(), lineno=157, col_offset=21), [Name('TESTFN', Load(), lineno=157, col_offset=26), Name('mode', Load(), lineno=157, col_offset=34)], [], None, None, lineno=157, col_offset=21), lineno=157, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=158, col_offset=12), 'f', Load(), lineno=158, col_offset=12), 'write', Load(), lineno=158, col_offset=12), [Name('data', Load(), lineno=158, col_offset=25)], [], None, None, lineno=158, col_offset=12), lineno=158, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=159, col_offset=12), 'assertRaises', Load(), lineno=159, col_offset=12), [Name('IOError', Load(), lineno=159, col_offset=30), Lambda(arguments([], None, None, []), ListComp(Name('line', Load(), lineno=159, col_offset=48), [comprehension(Name('line', Store(), lineno=159, col_offset=57), Attribute(Name('self', Load(), lineno=159, col_offset=65), 'f', Load(), lineno=159, col_offset=65), [])], lineno=159, col_offset=48), lineno=159, col_offset=39)], [], None, None, lineno=159, col_offset=12), lineno=159, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=160, col_offset=12), 'f', Load(), lineno=160, col_offset=12), 'close', Load(), lineno=160, col_offset=12), [], [], None, None, lineno=160, col_offset=12), lineno=160, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=162, col_offset=12), 'f', Store(), lineno=162, col_offset=12)], Call(Name('open', Load(), lineno=162, col_offset=21), [Name('TESTFN', Load(), lineno=162, col_offset=26), Name('mode', Load(), lineno=162, col_offset=34)], [], None, None, lineno=162, col_offset=21), lineno=162, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=163, col_offset=12), 'f', Load(), lineno=163, col_offset=12), 'write', Load(), lineno=163, col_offset=12), [Name('data', Load(), lineno=163, col_offset=25)], [], None, None, lineno=163, col_offset=12), lineno=163, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=164, col_offset=12), 'assertRaises', Load(), lineno=164, col_offset=12), [Name('IOError', Load(), lineno=164, col_offset=30), Attribute(Attribute(Name('self', Load(), lineno=164, col_offset=39), 'f', Load(), lineno=164, col_offset=39), 'readinto', Load(), lineno=164, col_offset=39), Call(Name('bytearray', Load(), lineno=164, col_offset=56), [Call(Name('len', Load(), lineno=164, col_offset=66), [Name('data', Load(), lineno=164, col_offset=70)], [], None, None, lineno=164, col_offset=66)], [], None, None, lineno=164, col_offset=56)], [], None, None, lineno=164, col_offset=12), lineno=164, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=165, col_offset=12), 'f', Load(), lineno=165, col_offset=12), 'close', Load(), lineno=165, col_offset=12), [], [], None, None, lineno=165, col_offset=12), lineno=165, col_offset=12)], [], lineno=150, col_offset=8), For(Name('mode', Store(), lineno=167, col_offset=12), List([Str('r', lineno=167, col_offset=21), Str('rb', lineno=167, col_offset=26), Str('U', lineno=167, col_offset=32), Str('Ub', lineno=167, col_offset=37), Str('Ur', lineno=167, col_offset=43), Str('rU', lineno=167, col_offset=49), Str('rbU', lineno=167, col_offset=55), Str('rUb', lineno=167, col_offset=62)], Load(), lineno=167, col_offset=20), [Assign([Attribute(Name('self', Load(), lineno=168, col_offset=12), 'f', Store(), lineno=168, col_offset=12)], Call(Name('open', Load(), lineno=168, col_offset=21), [Name('TESTFN', Load(), lineno=168, col_offset=26), Name('mode', Load(), lineno=168, col_offset=34)], [], None, None, lineno=168, col_offset=21), lineno=168, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=169, col_offset=12), 'assertRaises', Load(), lineno=169, col_offset=12), [Name('IOError', Load(), lineno=169, col_offset=30), Attribute(Attribute(Name('self', Load(), lineno=169, col_offset=39), 'f', Load(), lineno=169, col_offset=39), 'write', Load(), lineno=169, col_offset=39), Name('data', Load(), lineno=169, col_offset=53)], [], None, None, lineno=169, col_offset=12), lineno=169, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=170, col_offset=12), 'f', Load(), lineno=170, col_offset=12), 'close', Load(), lineno=170, col_offset=12), [], [], None, None, lineno=170, col_offset=12), lineno=170, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=172, col_offset=12), 'f', Store(), lineno=172, col_offset=12)], Call(Name('open', Load(), lineno=172, col_offset=21), [Name('TESTFN', Load(), lineno=172, col_offset=26), Name('mode', Load(), lineno=172, col_offset=34)], [], None, None, lineno=172, col_offset=21), lineno=172, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=173, col_offset=12), 'assertRaises', Load(), lineno=173, col_offset=12), [Name('IOError', Load(), lineno=173, col_offset=30), Attribute(Attribute(Name('self', Load(), lineno=173, col_offset=39), 'f', Load(), lineno=173, col_offset=39), 'writelines', Load(), lineno=173, col_offset=39), List([Name('data', Load(), lineno=173, col_offset=59), Name('data', Load(), lineno=173, col_offset=65)], Load(), lineno=173, col_offset=58)], [], None, None, lineno=173, col_offset=12), lineno=173, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=174, col_offset=12), 'f', Load(), lineno=174, col_offset=12), 'close', Load(), lineno=174, col_offset=12), [], [], None, None, lineno=174, col_offset=12), lineno=174, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=176, col_offset=12), 'f', Store(), lineno=176, col_offset=12)], Call(Name('open', Load(), lineno=176, col_offset=21), [Name('TESTFN', Load(), lineno=176, col_offset=26), Name('mode', Load(), lineno=176, col_offset=34)], [], None, None, lineno=176, col_offset=21), lineno=176, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=177, col_offset=12), 'assertRaises', Load(), lineno=177, col_offset=12), [Name('IOError', Load(), lineno=177, col_offset=30), Attribute(Attribute(Name('self', Load(), lineno=177, col_offset=39), 'f', Load(), lineno=177, col_offset=39), 'truncate', Load(), lineno=177, col_offset=39)], [], None, None, lineno=177, col_offset=12), lineno=177, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=178, col_offset=12), 'f', Load(), lineno=178, col_offset=12), 'close', Load(), lineno=178, col_offset=12), [], [], None, None, lineno=178, col_offset=12), lineno=178, col_offset=12)], [], lineno=167, col_offset=8)], [], lineno=146, col_offset=4)], [], lineno=17, col_offset=0), ClassDef('OtherFileTests', [Attribute(Name('unittest', Load(), lineno=180, col_offset=21), 'TestCase', Load(), lineno=180, col_offset=21)], [FunctionDef('testOpenDir', arguments([Name('self', Param(), lineno=182, col_offset=20)], None, None, []), [Assign([Name('this_dir', Store(), lineno=183, col_offset=8)], BoolOp(Or(), [Call(Attribute(Attribute(Name('os', Load(), lineno=183, col_offset=19), 'path', Load(), lineno=183, col_offset=19), 'dirname', Load(), lineno=183, col_offset=19), [Name('__file__', Load(), lineno=183, col_offset=35)], [], None, None, lineno=183, col_offset=19), Attribute(Name('os', Load(), lineno=183, col_offset=48), 'curdir', Load(), lineno=183, col_offset=48)], lineno=183, col_offset=19), lineno=183, col_offset=8), For(Name('mode', Store(), lineno=184, col_offset=12), Tuple([Name('None', Load(), lineno=184, col_offset=21), Str('w', lineno=184, col_offset=27)], Load(), lineno=184, col_offset=21), [TryExcept([If(Name('mode', Load(), lineno=186, col_offset=19), [Assign([Name('f', Store(), lineno=187, col_offset=20)], Call(Name('open', Load(), lineno=187, col_offset=24), [Name('this_dir', Load(), lineno=187, col_offset=29), Name('mode', Load(), lineno=187, col_offset=39)], [], None, None, lineno=187, col_offset=24), lineno=187, col_offset=20)], [Assign([Name('f', Store(), lineno=189, col_offset=20)], Call(Name('open', Load(), lineno=189, col_offset=24), [Name('this_dir', Load(), lineno=189, col_offset=29)], [], None, None, lineno=189, col_offset=24), lineno=189, col_offset=20)], lineno=186, col_offset=16)], [ExceptHandler(Name('IOError', Load(), lineno=190, col_offset=19), Name('e', Store(), lineno=190, col_offset=30), [Expr(Call(Attribute(Name('self', Load(), lineno=191, col_offset=16), 'assertEqual', Load(), lineno=191, col_offset=16), [Attribute(Name('e', Load(), lineno=191, col_offset=33), 'filename', Load(), lineno=191, col_offset=33), Name('this_dir', Load(), lineno=191, col_offset=45)], [], None, None, lineno=191, col_offset=16), lineno=191, col_offset=16)], lineno=190, col_offset=12)], [Expr(Call(Attribute(Name('self', Load(), lineno=193, col_offset=16), 'fail', Load(), lineno=193, col_offset=16), [Str("opening a directory didn't raise an IOError", lineno=193, col_offset=26)], [], None, None, lineno=193, col_offset=16), lineno=193, col_offset=16)], lineno=185, col_offset=12)], [], lineno=184, col_offset=8)], [], lineno=182, col_offset=4), FunctionDef('testModeStrings', arguments([Name('self', Param(), lineno=195, col_offset=24)], None, None, []), [For(Name('mode', Store(), lineno=197, col_offset=12), Tuple([Str('', lineno=197, col_offset=21), Str('aU', lineno=197, col_offset=25), Str('wU+', lineno=197, col_offset=31)], Load(), lineno=197, col_offset=21), [TryExcept([Assign([Name('f', Store(), lineno=199, col_offset=16)], Call(Name('open', Load(), lineno=199, col_offset=20), [Name('TESTFN', Load(), lineno=199, col_offset=25), Name('mode', Load(), lineno=199, col_offset=33)], [], None, None, lineno=199, col_offset=20), lineno=199, col_offset=16)], [ExceptHandler(Name('ValueError', Load(), lineno=200, col_offset=19), None, [Pass( lineno=201, col_offset=16)], lineno=200, col_offset=12)], [Expr(Call(Attribute(Name('f', Load(), lineno=203, col_offset=16), 'close', Load(), lineno=203, col_offset=16), [], [], None, None, lineno=203, col_offset=16), lineno=203, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=204, col_offset=16), 'fail', Load(), lineno=204, col_offset=16), [BinOp(Str('%r is an invalid file mode', lineno=204, col_offset=26), Mod(), Name('mode', Load(), lineno=204, col_offset=57), lineno=204, col_offset=26)], [], None, None, lineno=204, col_offset=16), lineno=204, col_offset=16)], lineno=198, col_offset=12)], [], lineno=197, col_offset=8), For(Name('name', Store(), lineno=208, col_offset=12), Tuple([Name('TESTFN', Load(), lineno=208, col_offset=21), Call(Name('unicode', Load(), lineno=208, col_offset=29), [Name('TESTFN', Load(), lineno=208, col_offset=37)], [], None, None, lineno=208, col_offset=29), Call(Name('unicode', Load(), lineno=208, col_offset=46), [BinOp(Name('TESTFN', Load(), lineno=208, col_offset=54), Add(), Str('\t', lineno=208, col_offset=63), lineno=208, col_offset=54)], [], None, None, lineno=208, col_offset=46)], Load(), lineno=208, col_offset=21), [TryExcept([Assign([Name('f', Store(), lineno=210, col_offset=16)], Call(Name('open', Load(), lineno=210, col_offset=20), [Name('name', Load(), lineno=210, col_offset=25), Str('rr', lineno=210, col_offset=31)], [], None, None, lineno=210, col_offset=20), lineno=210, col_offset=16)], [ExceptHandler(Tuple([Name('IOError', Load(), lineno=211, col_offset=20), Name('ValueError', Load(), lineno=211, col_offset=29)], Load(), lineno=211, col_offset=20), None, [Pass( lineno=212, col_offset=16)], lineno=211, col_offset=12)], [Expr(Call(Attribute(Name('f', Load(), lineno=214, col_offset=16), 'close', Load(), lineno=214, col_offset=16), [], [], None, None, lineno=214, col_offset=16), lineno=214, col_offset=16)], lineno=209, col_offset=12)], [], lineno=208, col_offset=8)], [], lineno=195, col_offset=4), FunctionDef('testStdin', arguments([Name('self', Param(), lineno=216, col_offset=18)], None, None, []), [If(Compare(Attribute(Name('sys', Load(), lineno=218, col_offset=11), 'platform', Load(), lineno=218, col_offset=11), [NotEq()], [Str('osf1V5', lineno=218, col_offset=27)], lineno=218, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=219, col_offset=12), 'assertRaises', Load(), lineno=219, col_offset=12), [Name('IOError', Load(), lineno=219, col_offset=30), Attribute(Attribute(Name('sys', Load(), lineno=219, col_offset=39), 'stdin', Load(), lineno=219, col_offset=39), 'seek', Load(), lineno=219, col_offset=39), Num(-1, lineno=219, col_offset=56)], [], None, None, lineno=219, col_offset=12), lineno=219, col_offset=12)], [Print(Attribute(Name('sys', Load(), lineno=221, col_offset=20), '__stdout__', Load(), lineno=221, col_offset=20), [Str('  Skipping sys.stdin.seek(-1), it may crash the interpreter. Test manually.', lineno=222, col_offset=16)], True, lineno=221, col_offset=12)], lineno=218, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=224, col_offset=8), 'assertRaises', Load(), lineno=224, col_offset=8), [Name('IOError', Load(), lineno=224, col_offset=26), Attribute(Attribute(Name('sys', Load(), lineno=224, col_offset=35), 'stdin', Load(), lineno=224, col_offset=35), 'truncate', Load(), lineno=224, col_offset=35)], [], None, None, lineno=224, col_offset=8), lineno=224, col_offset=8)], [], lineno=216, col_offset=4), FunctionDef('testUnicodeOpen', arguments([Name('self', Param(), lineno=226, col_offset=24)], None, None, []), [Assign([Name('f', Store(), lineno=228, col_offset=8)], Call(Name('open', Load(), lineno=228, col_offset=12), [Call(Name('unicode', Load(), lineno=228, col_offset=17), [Name('TESTFN', Load(), lineno=228, col_offset=25)], [], None, None, lineno=228, col_offset=17), Str('w', lineno=228, col_offset=34)], [], None, None, lineno=228, col_offset=12), lineno=228, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=229, col_offset=8), 'assertTrue', Load(), lineno=229, col_offset=8), [Call(Attribute(Call(Name('repr', Load(), lineno=229, col_offset=24), [Name('f', Load(), lineno=229, col_offset=29)], [], None, None, lineno=229, col_offset=24), 'startswith', Load(), lineno=229, col_offset=24), [BinOp(Str("<open file u'", lineno=229, col_offset=43), Add(), Name('TESTFN', Load(), lineno=229, col_offset=61), lineno=229, col_offset=43)], [], None, None, lineno=229, col_offset=24)], [], None, None, lineno=229, col_offset=8), lineno=229, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=230, col_offset=8), 'close', Load(), lineno=230, col_offset=8), [], [], None, None, lineno=230, col_offset=8), lineno=230, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=231, col_offset=8), 'unlink', Load(), lineno=231, col_offset=8), [Name('TESTFN', Load(), lineno=231, col_offset=18)], [], None, None, lineno=231, col_offset=8), lineno=231, col_offset=8)], [], lineno=226, col_offset=4), FunctionDef('testBadModeArgument', arguments([Name('self', Param(), lineno=233, col_offset=28)], None, None, []), [Assign([Name('bad_mode', Store(), lineno=235, col_offset=8)], Str('qwerty', lineno=235, col_offset=19), lineno=235, col_offset=8), TryExcept([Assign([Name('f', Store(), lineno=237, col_offset=12)], Call(Name('open', Load(), lineno=237, col_offset=16), [Name('TESTFN', Load(), lineno=237, col_offset=21), Name('bad_mode', Load(), lineno=237, col_offset=29)], [], None, None, lineno=237, col_offset=16), lineno=237, col_offset=12)], [ExceptHandler(Name('ValueError', Load(), lineno=238, col_offset=15), Name('msg', Store(), lineno=238, col_offset=27), [If(Compare(Subscript(Attribute(Name('msg', Load(), lineno=239, col_offset=15), 'args', Load(), lineno=239, col_offset=15), Index(Num(0, lineno=239, col_offset=24)), Load(), lineno=239, col_offset=15), [NotEq()], [Num(0, lineno=239, col_offset=30)], lineno=239, col_offset=15), [Assign([Name('s', Store(), lineno=240, col_offset=16)], Call(Name('str', Load(), lineno=240, col_offset=20), [Name('msg', Load(), lineno=240, col_offset=24)], [], None, None, lineno=240, col_offset=20), lineno=240, col_offset=16), If(BoolOp(Or(), [Compare(Name('TESTFN', Load(), lineno=241, col_offset=19), [In()], [Name('s', Load(), lineno=241, col_offset=29)], lineno=241, col_offset=19), Compare(Name('bad_mode', Load(), lineno=241, col_offset=34), [NotIn()], [Name('s', Load(), lineno=241, col_offset=50)], lineno=241, col_offset=34)], lineno=241, col_offset=19), [Expr(Call(Attribute(Name('self', Load(), lineno=242, col_offset=20), 'fail', Load(), lineno=242, col_offset=20), [BinOp(Str('bad error message for invalid mode: %s', lineno=242, col_offset=30), Mod(), Name('s', Load(), lineno=242, col_offset=73), lineno=242, col_offset=30)], [], None, None, lineno=242, col_offset=20), lineno=242, col_offset=20)], [], lineno=241, col_offset=16)], [], lineno=239, col_offset=12)], lineno=238, col_offset=8)], [Expr(Call(Attribute(Name('f', Load(), lineno=246, col_offset=12), 'close', Load(), lineno=246, col_offset=12), [], [], None, None, lineno=246, col_offset=12), lineno=246, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=247, col_offset=12), 'fail', Load(), lineno=247, col_offset=12), [BinOp(Str('no error for invalid mode: %s', lineno=247, col_offset=22), Mod(), Name('bad_mode', Load(), lineno=247, col_offset=56), lineno=247, col_offset=22)], [], None, None, lineno=247, col_offset=12), lineno=247, col_offset=12)], lineno=236, col_offset=8)], [], lineno=233, col_offset=4), FunctionDef('testSetBufferSize', arguments([Name('self', Param(), lineno=249, col_offset=26)], None, None, []), [For(Name('s', Store(), lineno=252, col_offset=12), Tuple([Num(-1, lineno=252, col_offset=19), Num(0, lineno=252, col_offset=22), Num(1, lineno=252, col_offset=25), Num(512, lineno=252, col_offset=28)], Load(), lineno=252, col_offset=18), [TryExcept([Assign([Name('f', Store(), lineno=254, col_offset=16)], Call(Name('open', Load(), lineno=254, col_offset=20), [Name('TESTFN', Load(), lineno=254, col_offset=25), Str('w', lineno=254, col_offset=33), Name('s', Load(), lineno=254, col_offset=38)], [], None, None, lineno=254, col_offset=20), lineno=254, col_offset=16), Expr(Call(Attribute(Name('f', Load(), lineno=255, col_offset=16), 'write', Load(), lineno=255, col_offset=16), [Call(Name('str', Load(), lineno=255, col_offset=24), [Name('s', Load(), lineno=255, col_offset=28)], [], None, None, lineno=255, col_offset=24)], [], None, None, lineno=255, col_offset=16), lineno=255, col_offset=16), Expr(Call(Attribute(Name('f', Load(), lineno=256, col_offset=16), 'close', Load(), lineno=256, col_offset=16), [], [], None, None, lineno=256, col_offset=16), lineno=256, col_offset=16), Expr(Call(Attribute(Name('f', Load(), lineno=257, col_offset=16), 'close', Load(), lineno=257, col_offset=16), [], [], None, None, lineno=257, col_offset=16), lineno=257, col_offset=16), Assign([Name('f', Store(), lineno=258, col_offset=16)], Call(Name('open', Load(), lineno=258, col_offset=20), [Name('TESTFN', Load(), lineno=258, col_offset=25), Str('r', lineno=258, col_offset=33), Name('s', Load(), lineno=258, col_offset=38)], [], None, None, lineno=258, col_offset=20), lineno=258, col_offset=16), Assign([Name('d', Store(), lineno=259, col_offset=16)], Call(Name('int', Load(), lineno=259, col_offset=20), [Call(Attribute(Name('f', Load(), lineno=259, col_offset=24), 'read', Load(), lineno=259, col_offset=24), [], [], None, None, lineno=259, col_offset=24)], [], None, None, lineno=259, col_offset=20), lineno=259, col_offset=16), Expr(Call(Attribute(Name('f', Load(), lineno=260, col_offset=16), 'close', Load(), lineno=260, col_offset=16), [], [], None, None, lineno=260, col_offset=16), lineno=260, col_offset=16), Expr(Call(Attribute(Name('f', Load(), lineno=261, col_offset=16), 'close', Load(), lineno=261, col_offset=16), [], [], None, None, lineno=261, col_offset=16), lineno=261, col_offset=16)], [ExceptHandler(Name('IOError', Load(), lineno=262, col_offset=19), Name('msg', Store(), lineno=262, col_offset=28), [Expr(Call(Attribute(Name('self', Load(), lineno=263, col_offset=16), 'fail', Load(), lineno=263, col_offset=16), [BinOp(Str('error setting buffer size %d: %s', lineno=263, col_offset=26), Mod(), Tuple([Name('s', Load(), lineno=263, col_offset=64), Call(Name('str', Load(), lineno=263, col_offset=67), [Name('msg', Load(), lineno=263, col_offset=71)], [], None, None, lineno=263, col_offset=67)], Load(), lineno=263, col_offset=64), lineno=263, col_offset=26)], [], None, None, lineno=263, col_offset=16), lineno=263, col_offset=16)], lineno=262, col_offset=12)], [], lineno=253, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=264, col_offset=12), 'assertEqual', Load(), lineno=264, col_offset=12), [Name('d', Load(), lineno=264, col_offset=29), Name('s', Load(), lineno=264, col_offset=32)], [], None, None, lineno=264, col_offset=12), lineno=264, col_offset=12)], [], lineno=252, col_offset=8)], [], lineno=249, col_offset=4), FunctionDef('testTruncateOnWindows', arguments([Name('self', Param(), lineno=266, col_offset=30)], None, None, []), [Expr(Call(Attribute(Name('os', Load(), lineno=267, col_offset=8), 'unlink', Load(), lineno=267, col_offset=8), [Name('TESTFN', Load(), lineno=267, col_offset=18)], [], None, None, lineno=267, col_offset=8), lineno=267, col_offset=8), FunctionDef('bug801631', arguments([], None, None, []), [Assign([Name('f', Store(), lineno=272, col_offset=12)], Call(Name('open', Load(), lineno=272, col_offset=16), [Name('TESTFN', Load(), lineno=272, col_offset=21), Str('wb', lineno=272, col_offset=29)], [], None, None, lineno=272, col_offset=16), lineno=272, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=273, col_offset=12), 'write', Load(), lineno=273, col_offset=12), [Str('12345678901', lineno=273, col_offset=20)], [], None, None, lineno=273, col_offset=12), lineno=273, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=274, col_offset=12), 'close', Load(), lineno=274, col_offset=12), [], [], None, None, lineno=274, col_offset=12), lineno=274, col_offset=12), Assign([Name('f', Store(), lineno=276, col_offset=12)], Call(Name('open', Load(), lineno=276, col_offset=16), [Name('TESTFN', Load(), lineno=276, col_offset=21), Str('rb+', lineno=276, col_offset=28)], [], None, None, lineno=276, col_offset=16), lineno=276, col_offset=12), Assign([Name('data', Store(), lineno=277, col_offset=12)], Call(Attribute(Name('f', Load(), lineno=277, col_offset=19), 'read', Load(), lineno=277, col_offset=19), [Num(5, lineno=277, col_offset=26)], [], None, None, lineno=277, col_offset=19), lineno=277, col_offset=12), If(Compare(Name('data', Load(), lineno=278, col_offset=15), [NotEq()], [Str('12345', lineno=278, col_offset=23)], lineno=278, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=279, col_offset=16), 'fail', Load(), lineno=279, col_offset=16), [BinOp(Str('Read on file opened for update failed %r', lineno=279, col_offset=26), Mod(), Name('data', Load(), lineno=279, col_offset=71), lineno=279, col_offset=26)], [], None, None, lineno=279, col_offset=16), lineno=279, col_offset=16)], [], lineno=278, col_offset=12), If(Compare(Call(Attribute(Name('f', Load(), lineno=280, col_offset=15), 'tell', Load(), lineno=280, col_offset=15), [], [], None, None, lineno=280, col_offset=15), [NotEq()], [Num(5, lineno=280, col_offset=27)], lineno=280, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=281, col_offset=16), 'fail', Load(), lineno=281, col_offset=16), [BinOp(Str('File pos after read wrong %d', lineno=281, col_offset=26), Mod(), Call(Attribute(Name('f', Load(), lineno=281, col_offset=59), 'tell', Load(), lineno=281, col_offset=59), [], [], None, None, lineno=281, col_offset=59), lineno=281, col_offset=26)], [], None, None, lineno=281, col_offset=16), lineno=281, col_offset=16)], [], lineno=280, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=283, col_offset=12), 'truncate', Load(), lineno=283, col_offset=12), [], [], None, None, lineno=283, col_offset=12), lineno=283, col_offset=12), If(Compare(Call(Attribute(Name('f', Load(), lineno=284, col_offset=15), 'tell', Load(), lineno=284, col_offset=15), [], [], None, None, lineno=284, col_offset=15), [NotEq()], [Num(5, lineno=284, col_offset=27)], lineno=284, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=285, col_offset=16), 'fail', Load(), lineno=285, col_offset=16), [BinOp(Str('File pos after ftruncate wrong %d', lineno=285, col_offset=26), Mod(), Call(Attribute(Name('f', Load(), lineno=285, col_offset=64), 'tell', Load(), lineno=285, col_offset=64), [], [], None, None, lineno=285, col_offset=64), lineno=285, col_offset=26)], [], None, None, lineno=285, col_offset=16), lineno=285, col_offset=16)], [], lineno=284, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=287, col_offset=12), 'close', Load(), lineno=287, col_offset=12), [], [], None, None, lineno=287, col_offset=12), lineno=287, col_offset=12), Assign([Name('size', Store(), lineno=288, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=288, col_offset=19), 'path', Load(), lineno=288, col_offset=19), 'getsize', Load(), lineno=288, col_offset=19), [Name('TESTFN', Load(), lineno=288, col_offset=35)], [], None, None, lineno=288, col_offset=19), lineno=288, col_offset=12), If(Compare(Name('size', Load(), lineno=289, col_offset=15), [NotEq()], [Num(5, lineno=289, col_offset=23)], lineno=289, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=290, col_offset=16), 'fail', Load(), lineno=290, col_offset=16), [BinOp(Str('File size after ftruncate wrong %d', lineno=290, col_offset=26), Mod(), Name('size', Load(), lineno=290, col_offset=65), lineno=290, col_offset=26)], [], None, None, lineno=290, col_offset=16), lineno=290, col_offset=16)], [], lineno=289, col_offset=12)], [], lineno=269, col_offset=8), TryFinally([Expr(Call(Name('bug801631', Load(), lineno=293, col_offset=12), [], [], None, None, lineno=293, col_offset=12), lineno=293, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=295, col_offset=12), 'unlink', Load(), lineno=295, col_offset=12), [Name('TESTFN', Load(), lineno=295, col_offset=22)], [], None, None, lineno=295, col_offset=12), lineno=295, col_offset=12)], lineno=292, col_offset=8)], [], lineno=266, col_offset=4), FunctionDef('testIteration', arguments([Name('self', Param(), lineno=297, col_offset=22)], None, None, []), [Assign([Name('dataoffset', Store(), lineno=306, col_offset=8)], Num(16384, lineno=306, col_offset=21), lineno=306, col_offset=8), Assign([Name('filler', Store(), lineno=307, col_offset=8)], Str('ham\n', lineno=307, col_offset=17), lineno=307, col_offset=8), Assert(UnaryOp(Not(), BinOp(Name('dataoffset', Load(), lineno=308, col_offset=19), Mod(), Call(Name('len', Load(), lineno=308, col_offset=32), [Name('filler', Load(), lineno=308, col_offset=36)], [], None, None, lineno=308, col_offset=32), lineno=308, col_offset=19), lineno=308, col_offset=15), Str('dataoffset must be multiple of len(filler)', lineno=309, col_offset=12), lineno=308, col_offset=8), Assign([Name('nchunks', Store(), lineno=310, col_offset=8)], BinOp(Name('dataoffset', Load(), lineno=310, col_offset=18), FloorDiv(), Call(Name('len', Load(), lineno=310, col_offset=32), [Name('filler', Load(), lineno=310, col_offset=36)], [], None, None, lineno=310, col_offset=32), lineno=310, col_offset=18), lineno=310, col_offset=8), Assign([Name('testlines', Store(), lineno=311, col_offset=8)], List([Str('spam, spam and eggs\n', lineno=312, col_offset=12), Str('eggs, spam, ham and spam\n', lineno=313, col_offset=12), Str('saussages, spam, spam and eggs\n', lineno=314, col_offset=12), Str('spam, ham, spam and eggs\n', lineno=315, col_offset=12), Str('spam, spam, spam, spam, spam, ham, spam\n', lineno=316, col_offset=12), Str('wonderful spaaaaaam.\n', lineno=317, col_offset=12)], Load(), lineno=311, col_offset=20), lineno=311, col_offset=8), Assign([Name('methods', Store(), lineno=319, col_offset=8)], List([Tuple([Str('readline', lineno=319, col_offset=20), Tuple([], Load(), lineno=319, col_offset=32)], Load(), lineno=319, col_offset=20), Tuple([Str('read', lineno=319, col_offset=38), Tuple([], Load(), lineno=319, col_offset=46)], Load(), lineno=319, col_offset=38), Tuple([Str('readlines', lineno=319, col_offset=52), Tuple([], Load(), lineno=319, col_offset=65)], Load(), lineno=319, col_offset=52), Tuple([Str('readinto', lineno=320, col_offset=20), Tuple([Call(Name('array', Load(), lineno=320, col_offset=33), [Str('c', lineno=320, col_offset=39), BinOp(Str(' ', lineno=320, col_offset=44), Mult(), Num(100, lineno=320, col_offset=48), lineno=320, col_offset=44)], [], None, None, lineno=320, col_offset=33)], Load(), lineno=320, col_offset=33)], Load(), lineno=320, col_offset=20)], Load(), lineno=319, col_offset=18), lineno=319, col_offset=8), TryFinally([Assign([Name('bag', Store(), lineno=324, col_offset=12)], Call(Name('open', Load(), lineno=324, col_offset=18), [Name('TESTFN', Load(), lineno=324, col_offset=23), Str('w', lineno=324, col_offset=31)], [], None, None, lineno=324, col_offset=18), lineno=324, col_offset=12), Expr(Call(Attribute(Name('bag', Load(), lineno=325, col_offset=12), 'write', Load(), lineno=325, col_offset=12), [BinOp(Name('filler', Load(), lineno=325, col_offset=22), Mult(), Name('nchunks', Load(), lineno=325, col_offset=31), lineno=325, col_offset=22)], [], None, None, lineno=325, col_offset=12), lineno=325, col_offset=12), Expr(Call(Attribute(Name('bag', Load(), lineno=326, col_offset=12), 'writelines', Load(), lineno=326, col_offset=12), [Name('testlines', Load(), lineno=326, col_offset=27)], [], None, None, lineno=326, col_offset=12), lineno=326, col_offset=12), Expr(Call(Attribute(Name('bag', Load(), lineno=327, col_offset=12), 'close', Load(), lineno=327, col_offset=12), [], [], None, None, lineno=327, col_offset=12), lineno=327, col_offset=12), For(Tuple([Name('methodname', Store(), lineno=329, col_offset=16), Name('args', Store(), lineno=329, col_offset=28)], Store(), lineno=329, col_offset=16), Name('methods', Load(), lineno=329, col_offset=36), [Assign([Name('f', Store(), lineno=330, col_offset=16)], Call(Name('open', Load(), lineno=330, col_offset=20), [Name('TESTFN', Load(), lineno=330, col_offset=25)], [], None, None, lineno=330, col_offset=20), lineno=330, col_offset=16), If(Compare(Call(Attribute(Name('f', Load(), lineno=331, col_offset=19), 'next', Load(), lineno=331, col_offset=19), [], [], None, None, lineno=331, col_offset=19), [NotEq()], [Name('filler', Load(), lineno=331, col_offset=31)], lineno=331, col_offset=19), [Expr(Tuple([Attribute(Name('self', Load(), lineno=332, col_offset=20), 'fail', Load(), lineno=332, col_offset=20), Str('Broken testfile', lineno=332, col_offset=31)], Load(), lineno=332, col_offset=20), lineno=332, col_offset=20)], [], lineno=331, col_offset=16), Assign([Name('meth', Store(), lineno=333, col_offset=16)], Call(Name('getattr', Load(), lineno=333, col_offset=23), [Name('f', Load(), lineno=333, col_offset=31), Name('methodname', Load(), lineno=333, col_offset=34)], [], None, None, lineno=333, col_offset=23), lineno=333, col_offset=16), TryExcept([Expr(Call(Name('meth', Load(), lineno=335, col_offset=20), [], [], Name('args', Load(), lineno=335, col_offset=26), None, lineno=335, col_offset=20), lineno=335, col_offset=20)], [ExceptHandler(Name('ValueError', Load(), lineno=336, col_offset=23), None, [Pass( lineno=337, col_offset=20)], lineno=336, col_offset=16)], [Expr(Call(Attribute(Name('self', Load(), lineno=339, col_offset=20), 'fail', Load(), lineno=339, col_offset=20), [BinOp(Str("%s%r after next() didn't raise ValueError", lineno=339, col_offset=30), Mod(), Tuple([Name('methodname', Load(), lineno=340, col_offset=38), Name('args', Load(), lineno=340, col_offset=50)], Load(), lineno=340, col_offset=38), lineno=339, col_offset=30)], [], None, None, lineno=339, col_offset=20), lineno=339, col_offset=20)], lineno=334, col_offset=16), Expr(Call(Attribute(Name('f', Load(), lineno=341, col_offset=16), 'close', Load(), lineno=341, col_offset=16), [], [], None, None, lineno=341, col_offset=16), lineno=341, col_offset=16)], [], lineno=329, col_offset=12), Assign([Name('f', Store(), lineno=350, col_offset=12)], Call(Name('open', Load(), lineno=350, col_offset=16), [Name('TESTFN', Load(), lineno=350, col_offset=21)], [], None, None, lineno=350, col_offset=16), lineno=350, col_offset=12), For(Name('i', Store(), lineno=351, col_offset=16), Call(Name('range', Load(), lineno=351, col_offset=21), [Name('nchunks', Load(), lineno=351, col_offset=27)], [], None, None, lineno=351, col_offset=21), [Expr(Call(Attribute(Name('f', Load(), lineno=352, col_offset=16), 'next', Load(), lineno=352, col_offset=16), [], [], None, None, lineno=352, col_offset=16), lineno=352, col_offset=16)], [], lineno=351, col_offset=12), Assign([Name('testline', Store(), lineno=353, col_offset=12)], Call(Attribute(Name('testlines', Load(), lineno=353, col_offset=23), 'pop', Load(), lineno=353, col_offset=23), [Num(0, lineno=353, col_offset=37)], [], None, None, lineno=353, col_offset=23), lineno=353, col_offset=12), TryExcept([Assign([Name('line', Store(), lineno=355, col_offset=16)], Call(Attribute(Name('f', Load(), lineno=355, col_offset=23), 'readline', Load(), lineno=355, col_offset=23), [], [], None, None, lineno=355, col_offset=23), lineno=355, col_offset=16)], [ExceptHandler(Name('ValueError', Load(), lineno=356, col_offset=19), None, [Expr(Call(Attribute(Name('self', Load(), lineno=357, col_offset=16), 'fail', Load(), lineno=357, col_offset=16), [Str('readline() after next() with supposedly empty iteration-buffer failed anyway', lineno=357, col_offset=26)], [], None, None, lineno=357, col_offset=16), lineno=357, col_offset=16)], lineno=356, col_offset=12)], [], lineno=354, col_offset=12), If(Compare(Name('line', Load(), lineno=359, col_offset=15), [NotEq()], [Name('testline', Load(), lineno=359, col_offset=23)], lineno=359, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=360, col_offset=16), 'fail', Load(), lineno=360, col_offset=16), [BinOp(Str('readline() after next() with empty buffer failed. Got %r, expected %r', lineno=360, col_offset=26), Mod(), Tuple([Name('line', Load(), lineno=361, col_offset=59), Name('testline', Load(), lineno=361, col_offset=65)], Load(), lineno=361, col_offset=59), lineno=360, col_offset=26)], [], None, None, lineno=360, col_offset=16), lineno=360, col_offset=16)], [], lineno=359, col_offset=12), Assign([Name('testline', Store(), lineno=362, col_offset=12)], Call(Attribute(Name('testlines', Load(), lineno=362, col_offset=23), 'pop', Load(), lineno=362, col_offset=23), [Num(0, lineno=362, col_offset=37)], [], None, None, lineno=362, col_offset=23), lineno=362, col_offset=12), Assign([Name('buf', Store(), lineno=363, col_offset=12)], Call(Name('array', Load(), lineno=363, col_offset=18), [Str('c', lineno=363, col_offset=24), BinOp(Str('\x00', lineno=363, col_offset=29), Mult(), Call(Name('len', Load(), lineno=363, col_offset=38), [Name('testline', Load(), lineno=363, col_offset=42)], [], None, None, lineno=363, col_offset=38), lineno=363, col_offset=29)], [], None, None, lineno=363, col_offset=18), lineno=363, col_offset=12), TryExcept([Expr(Call(Attribute(Name('f', Load(), lineno=365, col_offset=16), 'readinto', Load(), lineno=365, col_offset=16), [Name('buf', Load(), lineno=365, col_offset=27)], [], None, None, lineno=365, col_offset=16), lineno=365, col_offset=16)], [ExceptHandler(Name('ValueError', Load(), lineno=366, col_offset=19), None, [Expr(Call(Attribute(Name('self', Load(), lineno=367, col_offset=16), 'fail', Load(), lineno=367, col_offset=16), [Str('readinto() after next() with supposedly empty iteration-buffer failed anyway', lineno=367, col_offset=26)], [], None, None, lineno=367, col_offset=16), lineno=367, col_offset=16)], lineno=366, col_offset=12)], [], lineno=364, col_offset=12), Assign([Name('line', Store(), lineno=369, col_offset=12)], Call(Attribute(Name('buf', Load(), lineno=369, col_offset=19), 'tostring', Load(), lineno=369, col_offset=19), [], [], None, None, lineno=369, col_offset=19), lineno=369, col_offset=12), If(Compare(Name('line', Load(), lineno=370, col_offset=15), [NotEq()], [Name('testline', Load(), lineno=370, col_offset=23)], lineno=370, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=371, col_offset=16), 'fail', Load(), lineno=371, col_offset=16), [BinOp(Str('readinto() after next() with empty buffer failed. Got %r, expected %r', lineno=371, col_offset=26), Mod(), Tuple([Name('line', Load(), lineno=372, col_offset=59), Name('testline', Load(), lineno=372, col_offset=65)], Load(), lineno=372, col_offset=59), lineno=371, col_offset=26)], [], None, None, lineno=371, col_offset=16), lineno=371, col_offset=16)], [], lineno=370, col_offset=12), Assign([Name('testline', Store(), lineno=374, col_offset=12)], Call(Attribute(Name('testlines', Load(), lineno=374, col_offset=23), 'pop', Load(), lineno=374, col_offset=23), [Num(0, lineno=374, col_offset=37)], [], None, None, lineno=374, col_offset=23), lineno=374, col_offset=12), TryExcept([Assign([Name('line', Store(), lineno=376, col_offset=16)], Call(Attribute(Name('f', Load(), lineno=376, col_offset=23), 'read', Load(), lineno=376, col_offset=23), [Call(Name('len', Load(), lineno=376, col_offset=30), [Name('testline', Load(), lineno=376, col_offset=34)], [], None, None, lineno=376, col_offset=30)], [], None, None, lineno=376, col_offset=23), lineno=376, col_offset=16)], [ExceptHandler(Name('ValueError', Load(), lineno=377, col_offset=19), None, [Expr(Call(Attribute(Name('self', Load(), lineno=378, col_offset=16), 'fail', Load(), lineno=378, col_offset=16), [Str('read() after next() with supposedly empty iteration-buffer failed anyway', lineno=378, col_offset=26)], [], None, None, lineno=378, col_offset=16), lineno=378, col_offset=16)], lineno=377, col_offset=12)], [], lineno=375, col_offset=12), If(Compare(Name('line', Load(), lineno=380, col_offset=15), [NotEq()], [Name('testline', Load(), lineno=380, col_offset=23)], lineno=380, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=381, col_offset=16), 'fail', Load(), lineno=381, col_offset=16), [BinOp(Str('read() after next() with empty buffer failed. Got %r, expected %r', lineno=381, col_offset=26), Mod(), Tuple([Name('line', Load(), lineno=382, col_offset=59), Name('testline', Load(), lineno=382, col_offset=65)], Load(), lineno=382, col_offset=59), lineno=381, col_offset=26)], [], None, None, lineno=381, col_offset=16), lineno=381, col_offset=16)], [], lineno=380, col_offset=12), TryExcept([Assign([Name('lines', Store(), lineno=384, col_offset=16)], Call(Attribute(Name('f', Load(), lineno=384, col_offset=24), 'readlines', Load(), lineno=384, col_offset=24), [], [], None, None, lineno=384, col_offset=24), lineno=384, col_offset=16)], [ExceptHandler(Name('ValueError', Load(), lineno=385, col_offset=19), None, [Expr(Call(Attribute(Name('self', Load(), lineno=386, col_offset=16), 'fail', Load(), lineno=386, col_offset=16), [Str('readlines() after next() with supposedly empty iteration-buffer failed anyway', lineno=386, col_offset=26)], [], None, None, lineno=386, col_offset=16), lineno=386, col_offset=16)], lineno=385, col_offset=12)], [], lineno=383, col_offset=12), If(Compare(Name('lines', Load(), lineno=388, col_offset=15), [NotEq()], [Name('testlines', Load(), lineno=388, col_offset=24)], lineno=388, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=389, col_offset=16), 'fail', Load(), lineno=389, col_offset=16), [BinOp(Str('readlines() after next() with empty buffer failed. Got %r, expected %r', lineno=389, col_offset=26), Mod(), Tuple([Name('line', Load(), lineno=390, col_offset=59), Name('testline', Load(), lineno=390, col_offset=65)], Load(), lineno=390, col_offset=59), lineno=389, col_offset=26)], [], None, None, lineno=389, col_offset=16), lineno=389, col_offset=16)], [], lineno=388, col_offset=12), Assign([Name('f', Store(), lineno=392, col_offset=12)], Call(Name('open', Load(), lineno=392, col_offset=16), [Name('TESTFN', Load(), lineno=392, col_offset=21)], [], None, None, lineno=392, col_offset=16), lineno=392, col_offset=12), TryFinally([For(Name('line', Store(), lineno=394, col_offset=20), Name('f', Load(), lineno=394, col_offset=28), [Pass( lineno=395, col_offset=20)], [], lineno=394, col_offset=16), TryExcept([Expr(Call(Attribute(Name('f', Load(), lineno=397, col_offset=20), 'readline', Load(), lineno=397, col_offset=20), [], [], None, None, lineno=397, col_offset=20), lineno=397, col_offset=20), Expr(Call(Attribute(Name('f', Load(), lineno=398, col_offset=20), 'readinto', Load(), lineno=398, col_offset=20), [Name('buf', Load(), lineno=398, col_offset=31)], [], None, None, lineno=398, col_offset=20), lineno=398, col_offset=20), Expr(Call(Attribute(Name('f', Load(), lineno=399, col_offset=20), 'read', Load(), lineno=399, col_offset=20), [], [], None, None, lineno=399, col_offset=20), lineno=399, col_offset=20), Expr(Call(Attribute(Name('f', Load(), lineno=400, col_offset=20), 'readlines', Load(), lineno=400, col_offset=20), [], [], None, None, lineno=400, col_offset=20), lineno=400, col_offset=20)], [ExceptHandler(Name('ValueError', Load(), lineno=401, col_offset=23), None, [Expr(Call(Attribute(Name('self', Load(), lineno=402, col_offset=20), 'fail', Load(), lineno=402, col_offset=20), [Str('read* failed after next() consumed file', lineno=402, col_offset=30)], [], None, None, lineno=402, col_offset=20), lineno=402, col_offset=20)], lineno=401, col_offset=16)], [], lineno=396, col_offset=16)], [Expr(Call(Attribute(Name('f', Load(), lineno=404, col_offset=16), 'close', Load(), lineno=404, col_offset=16), [], [], None, None, lineno=404, col_offset=16), lineno=404, col_offset=16)], lineno=393, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=406, col_offset=12), 'unlink', Load(), lineno=406, col_offset=12), [Name('TESTFN', Load(), lineno=406, col_offset=22)], [], None, None, lineno=406, col_offset=12), lineno=406, col_offset=12)], lineno=322, col_offset=8)], [], lineno=297, col_offset=4)], [], lineno=180, col_offset=0), ClassDef('FileSubclassTests', [Attribute(Name('unittest', Load(), lineno=408, col_offset=24), 'TestCase', Load(), lineno=408, col_offset=24)], [FunctionDef('testExit', arguments([Name('self', Param(), lineno=410, col_offset=17)], None, None, []), [ClassDef('C', [Name('file', Load(), lineno=412, col_offset=16)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=413, col_offset=25)], 'args', None, []), [Assign([Attribute(Name('self', Load(), lineno=414, col_offset=16), 'subclass_closed', Store(), lineno=414, col_offset=16)], Name('False', Load(), lineno=414, col_offset=39), lineno=414, col_offset=16), Expr(Call(Attribute(Name('file', Load(), lineno=415, col_offset=16), '__init__', Load(), lineno=415, col_offset=16), [Name('self', Load(), lineno=415, col_offset=30)], [], Name('args', Load(), lineno=415, col_offset=37), None, lineno=415, col_offset=16), lineno=415, col_offset=16)], [], lineno=413, col_offset=12), FunctionDef('close', arguments([Name('self', Param(), lineno=416, col_offset=22)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=417, col_offset=16), 'subclass_closed', Store(), lineno=417, col_offset=16)], Name('True', Load(), lineno=417, col_offset=39), lineno=417, col_offset=16), Expr(Call(Attribute(Name('file', Load(), lineno=418, col_offset=16), 'close', Load(), lineno=418, col_offset=16), [Name('self', Load(), lineno=418, col_offset=27)], [], None, None, lineno=418, col_offset=16), lineno=418, col_offset=16)], [], lineno=416, col_offset=12)], [], lineno=412, col_offset=8), With(Call(Name('C', Load(), lineno=420, col_offset=13), [Name('TESTFN', Load(), lineno=420, col_offset=15), Str('w', lineno=420, col_offset=23)], [], None, None, lineno=420, col_offset=13), Name('f', Store(), lineno=420, col_offset=31), [Pass( lineno=421, col_offset=12)], lineno=420, col_offset=13), Expr(Call(Attribute(Name('self', Load(), lineno=422, col_offset=8), 'assertTrue', Load(), lineno=422, col_offset=8), [Attribute(Name('f', Load(), lineno=422, col_offset=24), 'subclass_closed', Load(), lineno=422, col_offset=24)], [], None, None, lineno=422, col_offset=8), lineno=422, col_offset=8)], [], lineno=410, col_offset=4)], [], lineno=408, col_offset=0), ClassDef('FileThreadingTests', [Attribute(Name('unittest', Load(), lineno=426, col_offset=25), 'TestCase', Load(), lineno=426, col_offset=25)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=431, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=432, col_offset=8), '_threads', Store(), lineno=432, col_offset=8)], Call(Attribute(Name('test_support', Load(), lineno=432, col_offset=24), 'threading_setup', Load(), lineno=432, col_offset=24), [], [], None, None, lineno=432, col_offset=24), lineno=432, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=433, col_offset=8), 'f', Store(), lineno=433, col_offset=8)], Name('None', Load(), lineno=433, col_offset=17), lineno=433, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=434, col_offset=8), 'filename', Store(), lineno=434, col_offset=8)], Name('TESTFN', Load(), lineno=434, col_offset=24), lineno=434, col_offset=8), With(Call(Name('open', Load(), lineno=435, col_offset=13), [Attribute(Name('self', Load(), lineno=435, col_offset=18), 'filename', Load(), lineno=435, col_offset=18), Str('w', lineno=435, col_offset=33)], [], None, None, lineno=435, col_offset=13), Name('f', Store(), lineno=435, col_offset=41), [Expr(Call(Attribute(Name('f', Load(), lineno=436, col_offset=12), 'write', Load(), lineno=436, col_offset=12), [Call(Attribute(Str('\n', lineno=436, col_offset=20), 'join', Load(), lineno=436, col_offset=20), [Str('0123456789', lineno=436, col_offset=30)], [], None, None, lineno=436, col_offset=20)], [], None, None, lineno=436, col_offset=12), lineno=436, col_offset=12)], lineno=435, col_offset=13), Assign([Attribute(Name('self', Load(), lineno=437, col_offset=8), '_count_lock', Store(), lineno=437, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=437, col_offset=27), 'Lock', Load(), lineno=437, col_offset=27), [], [], None, None, lineno=437, col_offset=27), lineno=437, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=438, col_offset=8), 'close_count', Store(), lineno=438, col_offset=8)], Num(0, lineno=438, col_offset=27), lineno=438, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=439, col_offset=8), 'close_success_count', Store(), lineno=439, col_offset=8)], Num(0, lineno=439, col_offset=35), lineno=439, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=440, col_offset=8), 'use_buffering', Store(), lineno=440, col_offset=8)], Name('False', Load(), lineno=440, col_offset=29), lineno=440, col_offset=8)], [], lineno=431, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=442, col_offset=17)], None, None, []), [If(Attribute(Name('self', Load(), lineno=443, col_offset=11), 'f', Load(), lineno=443, col_offset=11), [TryExcept([Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=445, col_offset=16), 'f', Load(), lineno=445, col_offset=16), 'close', Load(), lineno=445, col_offset=16), [], [], None, None, lineno=445, col_offset=16), lineno=445, col_offset=16)], [ExceptHandler(Tuple([Name('EnvironmentError', Load(), lineno=446, col_offset=20), Name('ValueError', Load(), lineno=446, col_offset=38)], Load(), lineno=446, col_offset=20), None, [Pass( lineno=447, col_offset=16)], lineno=446, col_offset=12)], [], lineno=444, col_offset=12)], [], lineno=443, col_offset=8), TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=449, col_offset=12), 'remove', Load(), lineno=449, col_offset=12), [Attribute(Name('self', Load(), lineno=449, col_offset=22), 'filename', Load(), lineno=449, col_offset=22)], [], None, None, lineno=449, col_offset=12), lineno=449, col_offset=12)], [ExceptHandler(Name('EnvironmentError', Load(), lineno=450, col_offset=15), None, [Pass( lineno=451, col_offset=12)], lineno=450, col_offset=8)], [], lineno=448, col_offset=8), Expr(Call(Attribute(Name('test_support', Load(), lineno=452, col_offset=8), 'threading_cleanup', Load(), lineno=452, col_offset=8), [], [], Attribute(Name('self', Load(), lineno=452, col_offset=40), '_threads', Load(), lineno=452, col_offset=40), None, lineno=452, col_offset=8), lineno=452, col_offset=8)], [], lineno=442, col_offset=4), FunctionDef('_create_file', arguments([Name('self', Param(), lineno=454, col_offset=21)], None, None, []), [If(Attribute(Name('self', Load(), lineno=455, col_offset=11), 'use_buffering', Load(), lineno=455, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=456, col_offset=12), 'f', Store(), lineno=456, col_offset=12)], Call(Name('open', Load(), lineno=456, col_offset=21), [Attribute(Name('self', Load(), lineno=456, col_offset=26), 'filename', Load(), lineno=456, col_offset=26), Str('w+', lineno=456, col_offset=41)], [keyword('buffering', BinOp(Num(1024, lineno=456, col_offset=57), Mult(), Num(16, lineno=456, col_offset=62), lineno=456, col_offset=57))], None, None, lineno=456, col_offset=21), lineno=456, col_offset=12)], [Assign([Attribute(Name('self', Load(), lineno=458, col_offset=12), 'f', Store(), lineno=458, col_offset=12)], Call(Name('open', Load(), lineno=458, col_offset=21), [Attribute(Name('self', Load(), lineno=458, col_offset=26), 'filename', Load(), lineno=458, col_offset=26), Str('w+', lineno=458, col_offset=41)], [], None, None, lineno=458, col_offset=21), lineno=458, col_offset=12)], lineno=455, col_offset=8)], [], lineno=454, col_offset=4), FunctionDef('_close_file', arguments([Name('self', Param(), lineno=460, col_offset=20)], None, None, []), [With(Attribute(Name('self', Load(), lineno=461, col_offset=13), '_count_lock', Load(), lineno=461, col_offset=13), None, [AugAssign(Attribute(Name('self', Load(), lineno=462, col_offset=12), 'close_count', Store(), lineno=462, col_offset=12), Add(), Num(1, lineno=462, col_offset=32), lineno=462, col_offset=12)], lineno=461, col_offset=13), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=463, col_offset=8), 'f', Load(), lineno=463, col_offset=8), 'close', Load(), lineno=463, col_offset=8), [], [], None, None, lineno=463, col_offset=8), lineno=463, col_offset=8), With(Attribute(Name('self', Load(), lineno=464, col_offset=13), '_count_lock', Load(), lineno=464, col_offset=13), None, [AugAssign(Attribute(Name('self', Load(), lineno=465, col_offset=12), 'close_success_count', Store(), lineno=465, col_offset=12), Add(), Num(1, lineno=465, col_offset=40), lineno=465, col_offset=12)], lineno=464, col_offset=13)], [], lineno=460, col_offset=4), FunctionDef('_close_and_reopen_file', arguments([Name('self', Param(), lineno=467, col_offset=31)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=468, col_offset=8), '_close_file', Load(), lineno=468, col_offset=8), [], [], None, None, lineno=468, col_offset=8), lineno=468, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=471, col_offset=8), '_create_file', Load(), lineno=471, col_offset=8), [], [], None, None, lineno=471, col_offset=8), lineno=471, col_offset=8)], [], lineno=467, col_offset=4), FunctionDef('_run_workers', arguments([Name('self', Param(), lineno=473, col_offset=21), Name('func', Param(), lineno=473, col_offset=27), Name('nb_workers', Param(), lineno=473, col_offset=33), Name('duration', Param(), lineno=473, col_offset=45)], None, None, [Num(0.2, lineno=473, col_offset=54)]), [With(Attribute(Name('self', Load(), lineno=474, col_offset=13), '_count_lock', Load(), lineno=474, col_offset=13), None, [Assign([Attribute(Name('self', Load(), lineno=475, col_offset=12), 'close_count', Store(), lineno=475, col_offset=12)], Num(0, lineno=475, col_offset=31), lineno=475, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=476, col_offset=12), 'close_success_count', Store(), lineno=476, col_offset=12)], Num(0, lineno=476, col_offset=39), lineno=476, col_offset=12)], lineno=474, col_offset=13), Assign([Attribute(Name('self', Load(), lineno=477, col_offset=8), 'do_continue', Store(), lineno=477, col_offset=8)], Name('True', Load(), lineno=477, col_offset=27), lineno=477, col_offset=8), Assign([Name('threads', Store(), lineno=478, col_offset=8)], List([], Load(), lineno=478, col_offset=18), lineno=478, col_offset=8), TryFinally([For(Name('i', Store(), lineno=480, col_offset=16), Call(Name('range', Load(), lineno=480, col_offset=21), [Name('nb_workers', Load(), lineno=480, col_offset=27)], [], None, None, lineno=480, col_offset=21), [Assign([Name('t', Store(), lineno=481, col_offset=16)], Call(Attribute(Name('threading', Load(), lineno=481, col_offset=20), 'Thread', Load(), lineno=481, col_offset=20), [], [keyword('target', Name('func', Load(), lineno=481, col_offset=44))], None, None, lineno=481, col_offset=20), lineno=481, col_offset=16), Expr(Call(Attribute(Name('t', Load(), lineno=482, col_offset=16), 'start', Load(), lineno=482, col_offset=16), [], [], None, None, lineno=482, col_offset=16), lineno=482, col_offset=16), Expr(Call(Attribute(Name('threads', Load(), lineno=483, col_offset=16), 'append', Load(), lineno=483, col_offset=16), [Name('t', Load(), lineno=483, col_offset=31)], [], None, None, lineno=483, col_offset=16), lineno=483, col_offset=16)], [], lineno=480, col_offset=12), For(Name('_', Store(), lineno=484, col_offset=16), Call(Name('xrange', Load(), lineno=484, col_offset=21), [Num(100, lineno=484, col_offset=28)], [], None, None, lineno=484, col_offset=21), [Expr(Call(Attribute(Name('time', Load(), lineno=485, col_offset=16), 'sleep', Load(), lineno=485, col_offset=16), [BinOp(Name('duration', Load(), lineno=485, col_offset=27), Div(), Num(100, lineno=485, col_offset=36), lineno=485, col_offset=27)], [], None, None, lineno=485, col_offset=16), lineno=485, col_offset=16), With(Attribute(Name('self', Load(), lineno=486, col_offset=21), '_count_lock', Load(), lineno=486, col_offset=21), None, [If(Compare(BinOp(Attribute(Name('self', Load(), lineno=487, col_offset=23), 'close_count', Load(), lineno=487, col_offset=23), Sub(), Attribute(Name('self', Load(), lineno=487, col_offset=40), 'close_success_count', Load(), lineno=487, col_offset=40), lineno=487, col_offset=23), [Gt()], [BinOp(Name('nb_workers', Load(), lineno=487, col_offset=67), Add(), Num(1, lineno=487, col_offset=78), lineno=487, col_offset=67)], lineno=487, col_offset=23), [If(Attribute(Name('test_support', Load(), lineno=488, col_offset=27), 'verbose', Load(), lineno=488, col_offset=27), [Print(None, [Str('Q', lineno=489, col_offset=34)], False, lineno=489, col_offset=28)], [], lineno=488, col_offset=24), Break( lineno=490, col_offset=24)], [], lineno=487, col_offset=20)], lineno=486, col_offset=21)], [], lineno=484, col_offset=12), Expr(Call(Attribute(Name('time', Load(), lineno=491, col_offset=12), 'sleep', Load(), lineno=491, col_offset=12), [Name('duration', Load(), lineno=491, col_offset=23)], [], None, None, lineno=491, col_offset=12), lineno=491, col_offset=12)], [Assign([Attribute(Name('self', Load(), lineno=493, col_offset=12), 'do_continue', Store(), lineno=493, col_offset=12)], Name('False', Load(), lineno=493, col_offset=31), lineno=493, col_offset=12), For(Name('t', Store(), lineno=494, col_offset=16), Name('threads', Load(), lineno=494, col_offset=21), [Expr(Call(Attribute(Name('t', Load(), lineno=495, col_offset=16), 'join', Load(), lineno=495, col_offset=16), [], [], None, None, lineno=495, col_offset=16), lineno=495, col_offset=16)], [], lineno=494, col_offset=12)], lineno=479, col_offset=8)], [], lineno=473, col_offset=4), FunctionDef('_test_close_open_io', arguments([Name('self', Param(), lineno=497, col_offset=28), Name('io_func', Param(), lineno=497, col_offset=34), Name('nb_workers', Param(), lineno=497, col_offset=43)], None, None, [Num(5, lineno=497, col_offset=54)]), [FunctionDef('worker', arguments([], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=499, col_offset=12), '_create_file', Load(), lineno=499, col_offset=12), [], [], None, None, lineno=499, col_offset=12), lineno=499, col_offset=12), Assign([Name('funcs', Store(), lineno=500, col_offset=12)], Call(Attribute(Name('itertools', Load(), lineno=500, col_offset=20), 'cycle', Load(), lineno=500, col_offset=20), [Tuple([Lambda(arguments([], None, None, []), Call(Name('io_func', Load(), lineno=501, col_offset=24), [], [], None, None, lineno=501, col_offset=24), lineno=501, col_offset=16), Lambda(arguments([], None, None, []), Call(Attribute(Name('self', Load(), lineno=502, col_offset=24), '_close_and_reopen_file', Load(), lineno=502, col_offset=24), [], [], None, None, lineno=502, col_offset=24), lineno=502, col_offset=16)], Load(), lineno=501, col_offset=16)], [], None, None, lineno=500, col_offset=20), lineno=500, col_offset=12), For(Name('f', Store(), lineno=504, col_offset=16), Name('funcs', Load(), lineno=504, col_offset=21), [If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=505, col_offset=23), 'do_continue', Load(), lineno=505, col_offset=23), lineno=505, col_offset=19), [Break( lineno=506, col_offset=20)], [], lineno=505, col_offset=16), TryExcept([Expr(Call(Name('f', Load(), lineno=508, col_offset=20), [], [], None, None, lineno=508, col_offset=20), lineno=508, col_offset=20)], [ExceptHandler(Tuple([Name('IOError', Load(), lineno=509, col_offset=24), Name('ValueError', Load(), lineno=509, col_offset=33)], Load(), lineno=509, col_offset=24), None, [Pass( lineno=510, col_offset=20)], lineno=509, col_offset=16)], [], lineno=507, col_offset=16)], [], lineno=504, col_offset=12)], [], lineno=498, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=511, col_offset=8), '_run_workers', Load(), lineno=511, col_offset=8), [Name('worker', Load(), lineno=511, col_offset=26), Name('nb_workers', Load(), lineno=511, col_offset=34)], [], None, None, lineno=511, col_offset=8), lineno=511, col_offset=8), If(Attribute(Name('test_support', Load(), lineno=512, col_offset=11), 'verbose', Load(), lineno=512, col_offset=11), [Assign([Name('percent', Store(), lineno=517, col_offset=12)], BinOp(Num(100.0, lineno=517, col_offset=22), Sub(), BinOp(BinOp(Num(100.0, lineno=517, col_offset=29), Mult(), Attribute(Name('self', Load(), lineno=517, col_offset=34), 'close_success_count', Load(), lineno=517, col_offset=34), lineno=517, col_offset=29), Div(), Attribute(Name('self', Load(), lineno=517, col_offset=59), 'close_count', Load(), lineno=517, col_offset=59), lineno=517, col_offset=58), lineno=517, col_offset=22), lineno=517, col_offset=12), Print(None, [Attribute(Name('self', Load(), lineno=518, col_offset=18), 'close_count', Load(), lineno=518, col_offset=18), BinOp(Str('%.4f ', lineno=518, col_offset=37), Mod(), Name('percent', Load(), lineno=518, col_offset=47), lineno=518, col_offset=37)], False, lineno=518, col_offset=12)], [], lineno=512, col_offset=8)], [], lineno=497, col_offset=4), FunctionDef('test_close_open', arguments([Name('self', Param(), lineno=520, col_offset=24)], None, None, []), [FunctionDef('io_func', arguments([], None, None, []), [Pass( lineno=522, col_offset=12)], [], lineno=521, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=523, col_offset=8), '_test_close_open_io', Load(), lineno=523, col_offset=8), [Name('io_func', Load(), lineno=523, col_offset=33)], [], None, None, lineno=523, col_offset=8), lineno=523, col_offset=8)], [], lineno=520, col_offset=4), FunctionDef('test_close_open_flush', arguments([Name('self', Param(), lineno=525, col_offset=30)], None, None, []), [FunctionDef('io_func', arguments([], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=527, col_offset=12), 'f', Load(), lineno=527, col_offset=12), 'flush', Load(), lineno=527, col_offset=12), [], [], None, None, lineno=527, col_offset=12), lineno=527, col_offset=12)], [], lineno=526, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=528, col_offset=8), '_test_close_open_io', Load(), lineno=528, col_offset=8), [Name('io_func', Load(), lineno=528, col_offset=33)], [], None, None, lineno=528, col_offset=8), lineno=528, col_offset=8)], [], lineno=525, col_offset=4), FunctionDef('test_close_open_iter', arguments([Name('self', Param(), lineno=530, col_offset=29)], None, None, []), [FunctionDef('io_func', arguments([], None, None, []), [Expr(Call(Name('list', Load(), lineno=532, col_offset=12), [Call(Name('iter', Load(), lineno=532, col_offset=17), [Attribute(Name('self', Load(), lineno=532, col_offset=22), 'f', Load(), lineno=532, col_offset=22)], [], None, None, lineno=532, col_offset=17)], [], None, None, lineno=532, col_offset=12), lineno=532, col_offset=12)], [], lineno=531, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=533, col_offset=8), '_test_close_open_io', Load(), lineno=533, col_offset=8), [Name('io_func', Load(), lineno=533, col_offset=33)], [], None, None, lineno=533, col_offset=8), lineno=533, col_offset=8)], [], lineno=530, col_offset=4), FunctionDef('test_close_open_isatty', arguments([Name('self', Param(), lineno=535, col_offset=31)], None, None, []), [FunctionDef('io_func', arguments([], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=537, col_offset=12), 'f', Load(), lineno=537, col_offset=12), 'isatty', Load(), lineno=537, col_offset=12), [], [], None, None, lineno=537, col_offset=12), lineno=537, col_offset=12)], [], lineno=536, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=538, col_offset=8), '_test_close_open_io', Load(), lineno=538, col_offset=8), [Name('io_func', Load(), lineno=538, col_offset=33)], [], None, None, lineno=538, col_offset=8), lineno=538, col_offset=8)], [], lineno=535, col_offset=4), FunctionDef('test_close_open_print', arguments([Name('self', Param(), lineno=540, col_offset=30)], None, None, []), [FunctionDef('io_func', arguments([], None, None, []), [Print(Attribute(Name('self', Load(), lineno=542, col_offset=21), 'f', Load(), lineno=542, col_offset=21), [Str('', lineno=542, col_offset=29)], True, lineno=542, col_offset=12)], [], lineno=541, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=543, col_offset=8), '_test_close_open_io', Load(), lineno=543, col_offset=8), [Name('io_func', Load(), lineno=543, col_offset=33)], [], None, None, lineno=543, col_offset=8), lineno=543, col_offset=8)], [], lineno=540, col_offset=4), FunctionDef('test_close_open_print_buffered', arguments([Name('self', Param(), lineno=545, col_offset=39)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=546, col_offset=8), 'use_buffering', Store(), lineno=546, col_offset=8)], Name('True', Load(), lineno=546, col_offset=29), lineno=546, col_offset=8), FunctionDef('io_func', arguments([], None, None, []), [Print(Attribute(Name('self', Load(), lineno=548, col_offset=21), 'f', Load(), lineno=548, col_offset=21), [Str('', lineno=548, col_offset=29)], True, lineno=548, col_offset=12)], [], lineno=547, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=549, col_offset=8), '_test_close_open_io', Load(), lineno=549, col_offset=8), [Name('io_func', Load(), lineno=549, col_offset=33)], [], None, None, lineno=549, col_offset=8), lineno=549, col_offset=8)], [], lineno=545, col_offset=4), FunctionDef('test_close_open_read', arguments([Name('self', Param(), lineno=551, col_offset=29)], None, None, []), [FunctionDef('io_func', arguments([], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=553, col_offset=12), 'f', Load(), lineno=553, col_offset=12), 'read', Load(), lineno=553, col_offset=12), [Num(0, lineno=553, col_offset=24)], [], None, None, lineno=553, col_offset=12), lineno=553, col_offset=12)], [], lineno=552, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=554, col_offset=8), '_test_close_open_io', Load(), lineno=554, col_offset=8), [Name('io_func', Load(), lineno=554, col_offset=33)], [], None, None, lineno=554, col_offset=8), lineno=554, col_offset=8)], [], lineno=551, col_offset=4), FunctionDef('test_close_open_readinto', arguments([Name('self', Param(), lineno=556, col_offset=33)], None, None, []), [FunctionDef('io_func', arguments([], None, None, []), [Assign([Name('a', Store(), lineno=558, col_offset=12)], Call(Name('array', Load(), lineno=558, col_offset=16), [Str('c', lineno=558, col_offset=22), Str('xxxxx', lineno=558, col_offset=27)], [], None, None, lineno=558, col_offset=16), lineno=558, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=559, col_offset=12), 'f', Load(), lineno=559, col_offset=12), 'readinto', Load(), lineno=559, col_offset=12), [Name('a', Load(), lineno=559, col_offset=28)], [], None, None, lineno=559, col_offset=12), lineno=559, col_offset=12)], [], lineno=557, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=560, col_offset=8), '_test_close_open_io', Load(), lineno=560, col_offset=8), [Name('io_func', Load(), lineno=560, col_offset=33)], [], None, None, lineno=560, col_offset=8), lineno=560, col_offset=8)], [], lineno=556, col_offset=4), FunctionDef('test_close_open_readline', arguments([Name('self', Param(), lineno=562, col_offset=33)], None, None, []), [FunctionDef('io_func', arguments([], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=564, col_offset=12), 'f', Load(), lineno=564, col_offset=12), 'readline', Load(), lineno=564, col_offset=12), [], [], None, None, lineno=564, col_offset=12), lineno=564, col_offset=12)], [], lineno=563, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=565, col_offset=8), '_test_close_open_io', Load(), lineno=565, col_offset=8), [Name('io_func', Load(), lineno=565, col_offset=33)], [], None, None, lineno=565, col_offset=8), lineno=565, col_offset=8)], [], lineno=562, col_offset=4), FunctionDef('test_close_open_readlines', arguments([Name('self', Param(), lineno=567, col_offset=34)], None, None, []), [FunctionDef('io_func', arguments([], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=569, col_offset=12), 'f', Load(), lineno=569, col_offset=12), 'readlines', Load(), lineno=569, col_offset=12), [], [], None, None, lineno=569, col_offset=12), lineno=569, col_offset=12)], [], lineno=568, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=570, col_offset=8), '_test_close_open_io', Load(), lineno=570, col_offset=8), [Name('io_func', Load(), lineno=570, col_offset=33)], [], None, None, lineno=570, col_offset=8), lineno=570, col_offset=8)], [], lineno=567, col_offset=4), FunctionDef('test_close_open_seek', arguments([Name('self', Param(), lineno=572, col_offset=29)], None, None, []), [FunctionDef('io_func', arguments([], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=574, col_offset=12), 'f', Load(), lineno=574, col_offset=12), 'seek', Load(), lineno=574, col_offset=12), [Num(0, lineno=574, col_offset=24), Num(0, lineno=574, col_offset=27)], [], None, None, lineno=574, col_offset=12), lineno=574, col_offset=12)], [], lineno=573, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=575, col_offset=8), '_test_close_open_io', Load(), lineno=575, col_offset=8), [Name('io_func', Load(), lineno=575, col_offset=33)], [], None, None, lineno=575, col_offset=8), lineno=575, col_offset=8)], [], lineno=572, col_offset=4), FunctionDef('test_close_open_tell', arguments([Name('self', Param(), lineno=577, col_offset=29)], None, None, []), [FunctionDef('io_func', arguments([], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=579, col_offset=12), 'f', Load(), lineno=579, col_offset=12), 'tell', Load(), lineno=579, col_offset=12), [], [], None, None, lineno=579, col_offset=12), lineno=579, col_offset=12)], [], lineno=578, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=580, col_offset=8), '_test_close_open_io', Load(), lineno=580, col_offset=8), [Name('io_func', Load(), lineno=580, col_offset=33)], [], None, None, lineno=580, col_offset=8), lineno=580, col_offset=8)], [], lineno=577, col_offset=4), FunctionDef('test_close_open_truncate', arguments([Name('self', Param(), lineno=582, col_offset=33)], None, None, []), [FunctionDef('io_func', arguments([], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=584, col_offset=12), 'f', Load(), lineno=584, col_offset=12), 'truncate', Load(), lineno=584, col_offset=12), [], [], None, None, lineno=584, col_offset=12), lineno=584, col_offset=12)], [], lineno=583, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=585, col_offset=8), '_test_close_open_io', Load(), lineno=585, col_offset=8), [Name('io_func', Load(), lineno=585, col_offset=33)], [], None, None, lineno=585, col_offset=8), lineno=585, col_offset=8)], [], lineno=582, col_offset=4), FunctionDef('test_close_open_write', arguments([Name('self', Param(), lineno=587, col_offset=30)], None, None, []), [FunctionDef('io_func', arguments([], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=589, col_offset=12), 'f', Load(), lineno=589, col_offset=12), 'write', Load(), lineno=589, col_offset=12), [Str('', lineno=589, col_offset=25)], [], None, None, lineno=589, col_offset=12), lineno=589, col_offset=12)], [], lineno=588, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=590, col_offset=8), '_test_close_open_io', Load(), lineno=590, col_offset=8), [Name('io_func', Load(), lineno=590, col_offset=33)], [], None, None, lineno=590, col_offset=8), lineno=590, col_offset=8)], [], lineno=587, col_offset=4), FunctionDef('test_close_open_writelines', arguments([Name('self', Param(), lineno=592, col_offset=35)], None, None, []), [FunctionDef('io_func', arguments([], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=594, col_offset=12), 'f', Load(), lineno=594, col_offset=12), 'writelines', Load(), lineno=594, col_offset=12), [Str('', lineno=594, col_offset=30)], [], None, None, lineno=594, col_offset=12), lineno=594, col_offset=12)], [], lineno=593, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=595, col_offset=8), '_test_close_open_io', Load(), lineno=595, col_offset=8), [Name('io_func', Load(), lineno=595, col_offset=33)], [], None, None, lineno=595, col_offset=8), lineno=595, col_offset=8)], [], lineno=592, col_offset=4)], [Call(Attribute(Name('unittest', Load(), lineno=425, col_offset=1), 'skipUnless', Load(), lineno=425, col_offset=1), [Name('threading', Load(), lineno=425, col_offset=21), Str('Threading required for this test.', lineno=425, col_offset=32)], [], None, None, lineno=425, col_offset=1)], lineno=425, col_offset=0), ClassDef('StdoutTests', [Attribute(Name('unittest', Load(), lineno=598, col_offset=18), 'TestCase', Load(), lineno=598, col_offset=18)], [FunctionDef('test_move_stdout_on_write', arguments([Name('self', Param(), lineno=600, col_offset=34)], None, None, []), [Assign([Name('save_stdout', Store(), lineno=603, col_offset=8)], Attribute(Name('sys', Load(), lineno=603, col_offset=22), 'stdout', Load(), lineno=603, col_offset=22), lineno=603, col_offset=8), ClassDef('File', [], [FunctionDef('write', arguments([Name('self', Param(), lineno=606, col_offset=22), Name('data', Param(), lineno=606, col_offset=28)], None, None, []), [If(Compare(Str('\n', lineno=607, col_offset=19), [In()], [Name('data', Load(), lineno=607, col_offset=27)], lineno=607, col_offset=19), [Assign([Attribute(Name('sys', Load(), lineno=608, col_offset=20), 'stdout', Store(), lineno=608, col_offset=20)], Name('save_stdout', Load(), lineno=608, col_offset=33), lineno=608, col_offset=20)], [], lineno=607, col_offset=16)], [], lineno=606, col_offset=12)], [], lineno=605, col_offset=8), TryFinally([Assign([Attribute(Name('sys', Load(), lineno=611, col_offset=12), 'stdout', Store(), lineno=611, col_offset=12)], Call(Name('File', Load(), lineno=611, col_offset=25), [], [], None, None, lineno=611, col_offset=25), lineno=611, col_offset=12), Print(None, [Str('some text', lineno=612, col_offset=18)], True, lineno=612, col_offset=12)], [Assign([Attribute(Name('sys', Load(), lineno=614, col_offset=12), 'stdout', Store(), lineno=614, col_offset=12)], Name('save_stdout', Load(), lineno=614, col_offset=25), lineno=614, col_offset=12)], lineno=610, col_offset=8)], [], lineno=600, col_offset=4), FunctionDef('test_del_stdout_before_print', arguments([Name('self', Param(), lineno=616, col_offset=37)], None, None, []), [Assign([Name('save_stdout', Store(), lineno=619, col_offset=8)], Attribute(Name('sys', Load(), lineno=619, col_offset=22), 'stdout', Load(), lineno=619, col_offset=22), lineno=619, col_offset=8), Delete([Attribute(Name('sys', Load(), lineno=620, col_offset=12), 'stdout', Del(), lineno=620, col_offset=12)], lineno=620, col_offset=8), TryFinally([TryExcept([Print(None, [], True, lineno=622, col_offset=12)], [ExceptHandler(Name('RuntimeError', Load(), lineno=623, col_offset=15), Name('e', Store(), lineno=623, col_offset=31), [Expr(Call(Attribute(Name('self', Load(), lineno=624, col_offset=12), 'assertEqual', Load(), lineno=624, col_offset=12), [Call(Name('str', Load(), lineno=624, col_offset=29), [Name('e', Load(), lineno=624, col_offset=33)], [], None, None, lineno=624, col_offset=29), Str('lost sys.stdout', lineno=624, col_offset=37)], [], None, None, lineno=624, col_offset=12), lineno=624, col_offset=12)], lineno=623, col_offset=8)], [Expr(Call(Attribute(Name('self', Load(), lineno=626, col_offset=12), 'fail', Load(), lineno=626, col_offset=12), [Str('Expected RuntimeError', lineno=626, col_offset=22)], [], None, None, lineno=626, col_offset=12), lineno=626, col_offset=12)], lineno=621, col_offset=8)], [Assign([Attribute(Name('sys', Load(), lineno=628, col_offset=12), 'stdout', Store(), lineno=628, col_offset=12)], Name('save_stdout', Load(), lineno=628, col_offset=25), lineno=628, col_offset=12)], lineno=621, col_offset=8)], [], lineno=616, col_offset=4), FunctionDef('test_unicode', arguments([Name('self', Param(), lineno=630, col_offset=21)], None, None, []), [Import([alias('subprocess', None)], lineno=631, col_offset=8), FunctionDef('get_message', arguments([Name('encoding', Param(), lineno=633, col_offset=24)], 'code', None, []), [Assign([Name('code', Store(), lineno=634, col_offset=12)], Call(Attribute(Str('\n', lineno=634, col_offset=19), 'join', Load(), lineno=634, col_offset=19), [Name('code', Load(), lineno=634, col_offset=29)], [], None, None, lineno=634, col_offset=19), lineno=634, col_offset=12), Assign([Name('env', Store(), lineno=635, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=635, col_offset=18), 'environ', Load(), lineno=635, col_offset=18), 'copy', Load(), lineno=635, col_offset=18), [], [], None, None, lineno=635, col_offset=18), lineno=635, col_offset=12), Assign([Subscript(Name('env', Load(), lineno=636, col_offset=12), Index(Str('PYTHONIOENCODING', lineno=636, col_offset=16)), Store(), lineno=636, col_offset=12)], Name('encoding', Load(), lineno=636, col_offset=38), lineno=636, col_offset=12), Assign([Name('process', Store(), lineno=637, col_offset=12)], Call(Attribute(Name('subprocess', Load(), lineno=637, col_offset=22), 'Popen', Load(), lineno=637, col_offset=22), [List([Attribute(Name('sys', Load(), lineno=637, col_offset=40), 'executable', Load(), lineno=637, col_offset=40), Str('-c', lineno=637, col_offset=56), Name('code', Load(), lineno=637, col_offset=62)], Load(), lineno=637, col_offset=39)], [keyword('stdout', Attribute(Name('subprocess', Load(), lineno=638, col_offset=46), 'PIPE', Load(), lineno=638, col_offset=46)), keyword('env', Name('env', Load(), lineno=638, col_offset=67))], None, None, lineno=637, col_offset=22), lineno=637, col_offset=12), Assign([Tuple([Name('stdout', Store(), lineno=639, col_offset=12), Name('stderr', Store(), lineno=639, col_offset=20)], Store(), lineno=639, col_offset=12)], Call(Attribute(Name('process', Load(), lineno=639, col_offset=29), 'communicate', Load(), lineno=639, col_offset=29), [], [], None, None, lineno=639, col_offset=29), lineno=639, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=640, col_offset=12), 'assertEqual', Load(), lineno=640, col_offset=12), [Attribute(Name('process', Load(), lineno=640, col_offset=29), 'returncode', Load(), lineno=640, col_offset=29), Num(0, lineno=640, col_offset=49)], [], None, None, lineno=640, col_offset=12), lineno=640, col_offset=12), Return(Name('stdout', Load(), lineno=641, col_offset=19), lineno=641, col_offset=12)], [], lineno=633, col_offset=8), FunctionDef('check_message', arguments([Name('text', Param(), lineno=643, col_offset=26), Name('encoding', Param(), lineno=643, col_offset=32), Name('expected', Param(), lineno=643, col_offset=42)], None, None, []), [Assign([Name('stdout', Store(), lineno=644, col_offset=12)], Call(Name('get_message', Load(), lineno=644, col_offset=21), [Name('encoding', Load(), lineno=644, col_offset=33), Str('import sys', lineno=645, col_offset=16), BinOp(Str('sys.stdout.write(%r)', lineno=646, col_offset=16), Mod(), Name('text', Load(), lineno=646, col_offset=41), lineno=646, col_offset=16), Str('sys.stdout.flush()', lineno=647, col_offset=16)], [], None, None, lineno=644, col_offset=21), lineno=644, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=648, col_offset=12), 'assertEqual', Load(), lineno=648, col_offset=12), [Name('stdout', Load(), lineno=648, col_offset=29), Name('expected', Load(), lineno=648, col_offset=37)], [], None, None, lineno=648, col_offset=12), lineno=648, col_offset=12)], [], lineno=643, col_offset=8), Expr(Call(Name('check_message', Load(), lineno=651, col_offset=8), [Str(u'15\u20ac', lineno=651, col_offset=22), Str('iso-8859-15', lineno=651, col_offset=35), Str('15\xa4', lineno=651, col_offset=50)], [], None, None, lineno=651, col_offset=8), lineno=651, col_offset=8), Expr(Call(Name('check_message', Load(), lineno=652, col_offset=8), [Str(u'15\u20ac', lineno=652, col_offset=22), Str('utf-8', lineno=652, col_offset=35), Str('15\xe2\x82\xac', lineno=652, col_offset=44)], [], None, None, lineno=652, col_offset=8), lineno=652, col_offset=8), Expr(Call(Name('check_message', Load(), lineno=653, col_offset=8), [Str(u'15\u20ac', lineno=653, col_offset=22), Str('utf-16-le', lineno=653, col_offset=35), Str('1\x005\x00\xac ', lineno=653, col_offset=48)], [], None, None, lineno=653, col_offset=8), lineno=653, col_offset=8), Expr(Call(Name('check_message', Load(), lineno=656, col_offset=8), [Str(u'15\u20ac', lineno=656, col_offset=22), Str('iso-8859-1:ignore', lineno=656, col_offset=35), Str('15', lineno=656, col_offset=56)], [], None, None, lineno=656, col_offset=8), lineno=656, col_offset=8), Expr(Call(Name('check_message', Load(), lineno=657, col_offset=8), [Str(u'15\u20ac', lineno=657, col_offset=22), Str('iso-8859-1:replace', lineno=657, col_offset=35), Str('15?', lineno=657, col_offset=57)], [], None, None, lineno=657, col_offset=8), lineno=657, col_offset=8), Expr(Call(Name('check_message', Load(), lineno=658, col_offset=8), [Str(u'15\u20ac', lineno=658, col_offset=22), Str('iso-8859-1:backslashreplace', lineno=658, col_offset=35), Str('15\\u20ac', lineno=658, col_offset=66)], [], None, None, lineno=658, col_offset=8), lineno=658, col_offset=8), For(Name('objtype', Store(), lineno=661, col_offset=12), Tuple([Str('buffer', lineno=661, col_offset=24), Str('bytearray', lineno=661, col_offset=34)], Load(), lineno=661, col_offset=24), [Assign([Name('stdout', Store(), lineno=662, col_offset=12)], Call(Name('get_message', Load(), lineno=662, col_offset=21), [Str('ascii', lineno=662, col_offset=33), Str('import sys', lineno=663, col_offset=16), BinOp(Str('sys.stdout.write(%s("\\xe9"))', lineno=664, col_offset=16), Mod(), Name('objtype', Load(), lineno=664, col_offset=50), lineno=664, col_offset=16), Str('sys.stdout.flush()', lineno=665, col_offset=16)], [], None, None, lineno=662, col_offset=21), lineno=662, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=666, col_offset=12), 'assertEqual', Load(), lineno=666, col_offset=12), [Name('stdout', Load(), lineno=666, col_offset=29), Str('\xe9', lineno=666, col_offset=37)], [], None, None, lineno=666, col_offset=12), lineno=666, col_offset=12)], [], lineno=661, col_offset=8)], [], lineno=630, col_offset=4)], [], lineno=598, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [TryFinally([Expr(Call(Name('run_unittest', Load(), lineno=673, col_offset=8), [Name('AutoFileTests', Load(), lineno=673, col_offset=21), Name('OtherFileTests', Load(), lineno=673, col_offset=36), Name('FileSubclassTests', Load(), lineno=673, col_offset=52), Name('FileThreadingTests', Load(), lineno=674, col_offset=12), Name('StdoutTests', Load(), lineno=674, col_offset=32)], [], None, None, lineno=673, col_offset=8), lineno=673, col_offset=8)], [If(Call(Attribute(Attribute(Name('os', Load(), lineno=676, col_offset=11), 'path', Load(), lineno=676, col_offset=11), 'exists', Load(), lineno=676, col_offset=11), [Name('TESTFN', Load(), lineno=676, col_offset=26)], [], None, None, lineno=676, col_offset=11), [Expr(Call(Attribute(Name('os', Load(), lineno=677, col_offset=12), 'unlink', Load(), lineno=677, col_offset=12), [Name('TESTFN', Load(), lineno=677, col_offset=22)], [], None, None, lineno=677, col_offset=12), lineno=677, col_offset=12)], [], lineno=676, col_offset=8)], lineno=672, col_offset=4)], [], lineno=669, col_offset=0), If(Compare(Name('__name__', Load(), lineno=679, col_offset=3), [Eq()], [Str('__main__', lineno=679, col_offset=15)], lineno=679, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=680, col_offset=4), [], [], None, None, lineno=680, col_offset=4), lineno=680, col_offset=4)], [], lineno=679, col_offset=0)])
