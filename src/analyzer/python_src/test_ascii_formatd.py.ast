Module([Import([alias('unittest', None)], lineno=5, col_offset=0), ImportFrom('test.test_support', [alias('check_warnings', None), alias('run_unittest', None), alias('import_module', None)], 0, lineno=6, col_offset=0), Expr(Call(Name('import_module', Load(), lineno=9, col_offset=0), [Str('_ctypes', lineno=9, col_offset=14)], [], None, None, lineno=9, col_offset=0), lineno=9, col_offset=0), ImportFrom('ctypes', [alias('pythonapi', None), alias('create_string_buffer', None), alias('sizeof', None), alias('byref', None), alias('c_double', None)], 0, lineno=11, col_offset=0), Assign([Name('PyOS_ascii_formatd', Store(), lineno=12, col_offset=0)], Attribute(Name('pythonapi', Load(), lineno=12, col_offset=21), 'PyOS_ascii_formatd', Load(), lineno=12, col_offset=21), lineno=12, col_offset=0), ClassDef('FormatDeprecationTests', [Attribute(Name('unittest', Load(), lineno=15, col_offset=29), 'TestCase', Load(), lineno=15, col_offset=29)], [FunctionDef('test_format_deprecation', arguments([Name('self', Param(), lineno=17, col_offset=32)], None, None, []), [Assign([Name('buf', Store(), lineno=18, col_offset=8)], Call(Name('create_string_buffer', Load(), lineno=18, col_offset=14), [BinOp(Str(' ', lineno=18, col_offset=35), Mult(), Num(100, lineno=18, col_offset=41), lineno=18, col_offset=35)], [], None, None, lineno=18, col_offset=14), lineno=18, col_offset=8), With(Call(Name('check_warnings', Load(), lineno=20, col_offset=13), [Tuple([Str('PyOS_ascii_formatd is deprecated', lineno=20, col_offset=29), Name('DeprecationWarning', Load(), lineno=21, col_offset=29)], Load(), lineno=20, col_offset=29)], [], None, None, lineno=20, col_offset=13), None, [Expr(Call(Name('PyOS_ascii_formatd', Load(), lineno=22, col_offset=12), [Call(Name('byref', Load(), lineno=22, col_offset=31), [Name('buf', Load(), lineno=22, col_offset=37)], [], None, None, lineno=22, col_offset=31), Call(Name('sizeof', Load(), lineno=22, col_offset=43), [Name('buf', Load(), lineno=22, col_offset=50)], [], None, None, lineno=22, col_offset=43), Str('%+.10f', lineno=22, col_offset=56), Call(Name('c_double', Load(), lineno=23, col_offset=31), [Num(10.0, lineno=23, col_offset=40)], [], None, None, lineno=23, col_offset=31)], [], None, None, lineno=22, col_offset=12), lineno=22, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=24, col_offset=12), 'assertEqual', Load(), lineno=24, col_offset=12), [Attribute(Name('buf', Load(), lineno=24, col_offset=29), 'value', Load(), lineno=24, col_offset=29), Str('+10.0000000000', lineno=24, col_offset=40)], [], None, None, lineno=24, col_offset=12), lineno=24, col_offset=12)], lineno=20, col_offset=13)], [], lineno=17, col_offset=4)], [], lineno=15, col_offset=0), ClassDef('FormatTests', [Attribute(Name('unittest', Load(), lineno=27, col_offset=18), 'TestCase', Load(), lineno=27, col_offset=18)], [FunctionDef('test_format', arguments([Name('self', Param(), lineno=30, col_offset=20)], None, None, []), [Assign([Name('buf', Store(), lineno=31, col_offset=8)], Call(Name('create_string_buffer', Load(), lineno=31, col_offset=14), [BinOp(Str(' ', lineno=31, col_offset=35), Mult(), Num(100, lineno=31, col_offset=41), lineno=31, col_offset=35)], [], None, None, lineno=31, col_offset=14), lineno=31, col_offset=8), Assign([Name('tests', Store(), lineno=33, col_offset=8)], List([Tuple([Str('%f', lineno=34, col_offset=13), Num(100.0, lineno=34, col_offset=19)], Load(), lineno=34, col_offset=13), Tuple([Str('%g', lineno=35, col_offset=13), Num(100.0, lineno=35, col_offset=19)], Load(), lineno=35, col_offset=13), Tuple([Str('%#g', lineno=36, col_offset=13), Num(100.0, lineno=36, col_offset=20)], Load(), lineno=36, col_offset=13), Tuple([Str('%#.2g', lineno=37, col_offset=13), Num(100.0, lineno=37, col_offset=22)], Load(), lineno=37, col_offset=13), Tuple([Str('%#.2g', lineno=38, col_offset=13), Num(123.4567, lineno=38, col_offset=22)], Load(), lineno=38, col_offset=13), Tuple([Str('%#.2g', lineno=39, col_offset=13), Num(1.234567e+200, lineno=39, col_offset=22)], Load(), lineno=39, col_offset=13), Tuple([Str('%e', lineno=40, col_offset=13), Num(1.234567e+200, lineno=40, col_offset=19)], Load(), lineno=40, col_offset=13), Tuple([Str('%e', lineno=41, col_offset=13), Num(1.234, lineno=41, col_offset=19)], Load(), lineno=41, col_offset=13), Tuple([Str('%+e', lineno=42, col_offset=13), Num(1.234, lineno=42, col_offset=20)], Load(), lineno=42, col_offset=13), Tuple([Str('%-e', lineno=43, col_offset=13), Num(1.234, lineno=43, col_offset=20)], Load(), lineno=43, col_offset=13)], Load(), lineno=33, col_offset=16), lineno=33, col_offset=8), With(Call(Name('check_warnings', Load(), lineno=46, col_offset=13), [Tuple([Str('PyOS_ascii_formatd is deprecated', lineno=46, col_offset=29), Name('DeprecationWarning', Load(), lineno=47, col_offset=29)], Load(), lineno=46, col_offset=29)], [], None, None, lineno=46, col_offset=13), None, [For(Tuple([Name('format', Store(), lineno=48, col_offset=16), Name('val', Store(), lineno=48, col_offset=24)], Store(), lineno=48, col_offset=16), Name('tests', Load(), lineno=48, col_offset=31), [Expr(Call(Name('PyOS_ascii_formatd', Load(), lineno=49, col_offset=16), [Call(Name('byref', Load(), lineno=49, col_offset=35), [Name('buf', Load(), lineno=49, col_offset=41)], [], None, None, lineno=49, col_offset=35), Call(Name('sizeof', Load(), lineno=49, col_offset=47), [Name('buf', Load(), lineno=49, col_offset=54)], [], None, None, lineno=49, col_offset=47), Name('format', Load(), lineno=49, col_offset=60), Call(Name('c_double', Load(), lineno=50, col_offset=35), [Name('val', Load(), lineno=50, col_offset=44)], [], None, None, lineno=50, col_offset=35)], [], None, None, lineno=49, col_offset=16), lineno=49, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=51, col_offset=16), 'assertEqual', Load(), lineno=51, col_offset=16), [Attribute(Name('buf', Load(), lineno=51, col_offset=33), 'value', Load(), lineno=51, col_offset=33), BinOp(Name('format', Load(), lineno=51, col_offset=44), Mod(), Name('val', Load(), lineno=51, col_offset=53), lineno=51, col_offset=44)], [], None, None, lineno=51, col_offset=16), lineno=51, col_offset=16)], [], lineno=48, col_offset=12)], lineno=46, col_offset=13)], [], lineno=30, col_offset=4)], [], lineno=27, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Name('run_unittest', Load(), lineno=55, col_offset=4), [Name('FormatDeprecationTests', Load(), lineno=55, col_offset=17), Name('FormatTests', Load(), lineno=55, col_offset=41)], [], None, None, lineno=55, col_offset=4), lineno=55, col_offset=4)], [], lineno=54, col_offset=0), If(Compare(Name('__name__', Load(), lineno=57, col_offset=3), [Eq()], [Str('__main__', lineno=57, col_offset=15)], lineno=57, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=58, col_offset=4), [], [], None, None, lineno=58, col_offset=4), lineno=58, col_offset=4)], [], lineno=57, col_offset=0)])
