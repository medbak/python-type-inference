Module([Expr(Str('Safely evaluate Python string literals without using eval().', lineno=4, col_offset=0), lineno=4, col_offset=0), Import([alias('re', None)], lineno=6, col_offset=0), Assign([Name('simple_escapes', Store(), lineno=8, col_offset=0)], Dict([Str('a', lineno=8, col_offset=18), Str('b', lineno=9, col_offset=18), Str('f', lineno=10, col_offset=18), Str('n', lineno=11, col_offset=18), Str('r', lineno=12, col_offset=18), Str('t', lineno=13, col_offset=18), Str('v', lineno=14, col_offset=18), Str("'", lineno=15, col_offset=18), Str('"', lineno=16, col_offset=18), Str('\\', lineno=17, col_offset=18)], [Str('\x07', lineno=8, col_offset=23), Str('\x08', lineno=9, col_offset=23), Str('\x0c', lineno=10, col_offset=23), Str('\n', lineno=11, col_offset=23), Str('\r', lineno=12, col_offset=23), Str('\t', lineno=13, col_offset=23), Str('\x0b', lineno=14, col_offset=23), Str("'", lineno=15, col_offset=23), Str('"', lineno=16, col_offset=23), Str('\\', lineno=17, col_offset=24)], lineno=8, col_offset=17), lineno=8, col_offset=0), FunctionDef('escape', arguments([Name('m', Param(), lineno=19, col_offset=11)], None, None, []), [Assign([Tuple([Name('all', Store(), lineno=20, col_offset=4), Name('tail', Store(), lineno=20, col_offset=9)], Store(), lineno=20, col_offset=4)], Call(Attribute(Name('m', Load(), lineno=20, col_offset=16), 'group', Load(), lineno=20, col_offset=16), [Num(0, lineno=20, col_offset=24), Num(1, lineno=20, col_offset=27)], [], None, None, lineno=20, col_offset=16), lineno=20, col_offset=4), Assert(Call(Attribute(Name('all', Load(), lineno=21, col_offset=11), 'startswith', Load(), lineno=21, col_offset=11), [Str('\\', lineno=21, col_offset=26)], [], None, None, lineno=21, col_offset=11), None, lineno=21, col_offset=4), Assign([Name('esc', Store(), lineno=22, col_offset=4)], Call(Attribute(Name('simple_escapes', Load(), lineno=22, col_offset=10), 'get', Load(), lineno=22, col_offset=10), [Name('tail', Load(), lineno=22, col_offset=29)], [], None, None, lineno=22, col_offset=10), lineno=22, col_offset=4), If(Compare(Name('esc', Load(), lineno=23, col_offset=7), [IsNot()], [Name('None', Load(), lineno=23, col_offset=18)], lineno=23, col_offset=7), [Return(Name('esc', Load(), lineno=24, col_offset=15), lineno=24, col_offset=8)], [], lineno=23, col_offset=4), If(Call(Attribute(Name('tail', Load(), lineno=25, col_offset=7), 'startswith', Load(), lineno=25, col_offset=7), [Str('x', lineno=25, col_offset=23)], [], None, None, lineno=25, col_offset=7), [Assign([Name('hexes', Store(), lineno=26, col_offset=8)], Subscript(Name('tail', Load(), lineno=26, col_offset=16), Slice(Num(1, lineno=26, col_offset=21), None, None), Load(), lineno=26, col_offset=16), lineno=26, col_offset=8), If(Compare(Call(Name('len', Load(), lineno=27, col_offset=11), [Name('hexes', Load(), lineno=27, col_offset=15)], [], None, None, lineno=27, col_offset=11), [Lt()], [Num(2, lineno=27, col_offset=24)], lineno=27, col_offset=11), [Raise(Call(Name('ValueError', Load(), lineno=28, col_offset=18), [BinOp(Str("invalid hex string escape ('\\%s')", lineno=28, col_offset=29), Mod(), Name('tail', Load(), lineno=28, col_offset=68), lineno=28, col_offset=29)], [], None, None, lineno=28, col_offset=18), None, None, lineno=28, col_offset=12)], [], lineno=27, col_offset=8), TryExcept([Assign([Name('i', Store(), lineno=30, col_offset=12)], Call(Name('int', Load(), lineno=30, col_offset=16), [Name('hexes', Load(), lineno=30, col_offset=20), Num(16, lineno=30, col_offset=27)], [], None, None, lineno=30, col_offset=16), lineno=30, col_offset=12)], [ExceptHandler(Name('ValueError', Load(), lineno=31, col_offset=15), None, [Raise(Call(Name('ValueError', Load(), lineno=32, col_offset=18), [BinOp(Str("invalid hex string escape ('\\%s')", lineno=32, col_offset=29), Mod(), Name('tail', Load(), lineno=32, col_offset=68), lineno=32, col_offset=29)], [], None, None, lineno=32, col_offset=18), None, None, lineno=32, col_offset=12)], lineno=31, col_offset=8)], [], lineno=29, col_offset=8)], [TryExcept([Assign([Name('i', Store(), lineno=35, col_offset=12)], Call(Name('int', Load(), lineno=35, col_offset=16), [Name('tail', Load(), lineno=35, col_offset=20), Num(8, lineno=35, col_offset=26)], [], None, None, lineno=35, col_offset=16), lineno=35, col_offset=12)], [ExceptHandler(Name('ValueError', Load(), lineno=36, col_offset=15), None, [Raise(Call(Name('ValueError', Load(), lineno=37, col_offset=18), [BinOp(Str("invalid octal string escape ('\\%s')", lineno=37, col_offset=29), Mod(), Name('tail', Load(), lineno=37, col_offset=70), lineno=37, col_offset=29)], [], None, None, lineno=37, col_offset=18), None, None, lineno=37, col_offset=12)], lineno=36, col_offset=8)], [], lineno=34, col_offset=8)], lineno=25, col_offset=4), Return(Call(Name('chr', Load(), lineno=38, col_offset=11), [Name('i', Load(), lineno=38, col_offset=15)], [], None, None, lineno=38, col_offset=11), lineno=38, col_offset=4)], [], lineno=19, col_offset=0), FunctionDef('evalString', arguments([Name('s', Param(), lineno=40, col_offset=15)], None, None, []), [Assert(BoolOp(Or(), [Call(Attribute(Name('s', Load(), lineno=41, col_offset=11), 'startswith', Load(), lineno=41, col_offset=11), [Str("'", lineno=41, col_offset=24)], [], None, None, lineno=41, col_offset=11), Call(Attribute(Name('s', Load(), lineno=41, col_offset=32), 'startswith', Load(), lineno=41, col_offset=32), [Str('"', lineno=41, col_offset=45)], [], None, None, lineno=41, col_offset=32)], lineno=41, col_offset=11), Call(Name('repr', Load(), lineno=41, col_offset=51), [Subscript(Name('s', Load(), lineno=41, col_offset=56), Slice(None, Num(1, lineno=41, col_offset=59), None), Load(), lineno=41, col_offset=56)], [], None, None, lineno=41, col_offset=51), lineno=41, col_offset=4), Assign([Name('q', Store(), lineno=42, col_offset=4)], Subscript(Name('s', Load(), lineno=42, col_offset=8), Index(Num(0, lineno=42, col_offset=10)), Load(), lineno=42, col_offset=8), lineno=42, col_offset=4), If(Compare(Subscript(Name('s', Load(), lineno=43, col_offset=7), Slice(None, Num(3, lineno=43, col_offset=10), None), Load(), lineno=43, col_offset=7), [Eq()], [BinOp(Name('q', Load(), lineno=43, col_offset=16), Mult(), Num(3, lineno=43, col_offset=18), lineno=43, col_offset=16)], lineno=43, col_offset=7), [Assign([Name('q', Store(), lineno=44, col_offset=8)], BinOp(Name('q', Load(), lineno=44, col_offset=12), Mult(), Num(3, lineno=44, col_offset=14), lineno=44, col_offset=12), lineno=44, col_offset=8)], [], lineno=43, col_offset=4), Assert(Call(Attribute(Name('s', Load(), lineno=45, col_offset=11), 'endswith', Load(), lineno=45, col_offset=11), [Name('q', Load(), lineno=45, col_offset=22)], [], None, None, lineno=45, col_offset=11), Call(Name('repr', Load(), lineno=45, col_offset=26), [Subscript(Name('s', Load(), lineno=45, col_offset=31), Slice(UnaryOp(USub(), Call(Name('len', Load(), lineno=45, col_offset=34), [Name('q', Load(), lineno=45, col_offset=38)], [], None, None, lineno=45, col_offset=34), lineno=45, col_offset=33), None, None), Load(), lineno=45, col_offset=31)], [], None, None, lineno=45, col_offset=26), lineno=45, col_offset=4), Assert(Compare(Call(Name('len', Load(), lineno=46, col_offset=11), [Name('s', Load(), lineno=46, col_offset=15)], [], None, None, lineno=46, col_offset=11), [GtE()], [BinOp(Num(2, lineno=46, col_offset=21), Mult(), Call(Name('len', Load(), lineno=46, col_offset=23), [Name('q', Load(), lineno=46, col_offset=27)], [], None, None, lineno=46, col_offset=23), lineno=46, col_offset=21)], lineno=46, col_offset=11), None, lineno=46, col_offset=4), Assign([Name('s', Store(), lineno=47, col_offset=4)], Subscript(Name('s', Load(), lineno=47, col_offset=8), Slice(Call(Name('len', Load(), lineno=47, col_offset=10), [Name('q', Load(), lineno=47, col_offset=14)], [], None, None, lineno=47, col_offset=10), UnaryOp(USub(), Call(Name('len', Load(), lineno=47, col_offset=18), [Name('q', Load(), lineno=47, col_offset=22)], [], None, None, lineno=47, col_offset=18), lineno=47, col_offset=17), None), Load(), lineno=47, col_offset=8), lineno=47, col_offset=4), Return(Call(Attribute(Name('re', Load(), lineno=48, col_offset=11), 'sub', Load(), lineno=48, col_offset=11), [Str('\\\\(\\\'|\\"|\\\\|[abfnrtv]|x.{0,2}|[0-7]{1,3})', lineno=48, col_offset=18), Name('escape', Load(), lineno=48, col_offset=64), Name('s', Load(), lineno=48, col_offset=72)], [], None, None, lineno=48, col_offset=11), lineno=48, col_offset=4)], [], lineno=40, col_offset=0), FunctionDef('test', arguments([], None, None, []), [For(Name('i', Store(), lineno=51, col_offset=8), Call(Name('range', Load(), lineno=51, col_offset=13), [Num(256, lineno=51, col_offset=19)], [], None, None, lineno=51, col_offset=13), [Assign([Name('c', Store(), lineno=52, col_offset=8)], Call(Name('chr', Load(), lineno=52, col_offset=12), [Name('i', Load(), lineno=52, col_offset=16)], [], None, None, lineno=52, col_offset=12), lineno=52, col_offset=8), Assign([Name('s', Store(), lineno=53, col_offset=8)], Call(Name('repr', Load(), lineno=53, col_offset=12), [Name('c', Load(), lineno=53, col_offset=17)], [], None, None, lineno=53, col_offset=12), lineno=53, col_offset=8), Assign([Name('e', Store(), lineno=54, col_offset=8)], Call(Name('evalString', Load(), lineno=54, col_offset=12), [Name('s', Load(), lineno=54, col_offset=23)], [], None, None, lineno=54, col_offset=12), lineno=54, col_offset=8), If(Compare(Name('e', Load(), lineno=55, col_offset=11), [NotEq()], [Name('c', Load(), lineno=55, col_offset=16)], lineno=55, col_offset=11), [Print(None, [Name('i', Load(), lineno=56, col_offset=18), Name('c', Load(), lineno=56, col_offset=21), Name('s', Load(), lineno=56, col_offset=24), Name('e', Load(), lineno=56, col_offset=27)], True, lineno=56, col_offset=12)], [], lineno=55, col_offset=8)], [], lineno=51, col_offset=4)], [], lineno=50, col_offset=0), If(Compare(Name('__name__', Load(), lineno=59, col_offset=3), [Eq()], [Str('__main__', lineno=59, col_offset=15)], lineno=59, col_offset=3), [Expr(Call(Name('test', Load(), lineno=60, col_offset=4), [], [], None, None, lineno=60, col_offset=4), lineno=60, col_offset=4)], [], lineno=59, col_offset=0)])
