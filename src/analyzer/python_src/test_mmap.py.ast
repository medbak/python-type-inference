Module([ImportFrom('test.test_support', [alias('TESTFN', None), alias('run_unittest', None), alias('import_module', None)], 0, lineno=1, col_offset=0), Import([alias('unittest', None)], lineno=2, col_offset=0), Import([alias('os', None), alias('re', None), alias('itertools', None), alias('socket', None)], lineno=3, col_offset=0), Assign([Name('mmap', Store(), lineno=5, col_offset=0)], Call(Name('import_module', Load(), lineno=5, col_offset=7), [Str('mmap', lineno=5, col_offset=21)], [], None, None, lineno=5, col_offset=7), lineno=5, col_offset=0), Assign([Name('PAGESIZE', Store(), lineno=7, col_offset=0)], Attribute(Name('mmap', Load(), lineno=7, col_offset=11), 'PAGESIZE', Load(), lineno=7, col_offset=11), lineno=7, col_offset=0), ClassDef('MmapTests', [Attribute(Name('unittest', Load(), lineno=9, col_offset=16), 'TestCase', Load(), lineno=9, col_offset=16)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=11, col_offset=14)], None, None, []), [If(Call(Attribute(Attribute(Name('os', Load(), lineno=12, col_offset=11), 'path', Load(), lineno=12, col_offset=11), 'exists', Load(), lineno=12, col_offset=11), [Name('TESTFN', Load(), lineno=12, col_offset=26)], [], None, None, lineno=12, col_offset=11), [Expr(Call(Attribute(Name('os', Load(), lineno=13, col_offset=12), 'unlink', Load(), lineno=13, col_offset=12), [Name('TESTFN', Load(), lineno=13, col_offset=22)], [], None, None, lineno=13, col_offset=12), lineno=13, col_offset=12)], [], lineno=12, col_offset=8)], [], lineno=11, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=15, col_offset=17)], None, None, []), [TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=17, col_offset=12), 'unlink', Load(), lineno=17, col_offset=12), [Name('TESTFN', Load(), lineno=17, col_offset=22)], [], None, None, lineno=17, col_offset=12), lineno=17, col_offset=12)], [ExceptHandler(Name('OSError', Load(), lineno=18, col_offset=15), None, [Pass( lineno=19, col_offset=12)], lineno=18, col_offset=8)], [], lineno=16, col_offset=8)], [], lineno=15, col_offset=4), FunctionDef('test_basic', arguments([Name('self', Param(), lineno=21, col_offset=19)], None, None, []), [Assign([Name('f', Store(), lineno=25, col_offset=8)], Call(Name('open', Load(), lineno=25, col_offset=12), [Name('TESTFN', Load(), lineno=25, col_offset=17), Str('w+', lineno=25, col_offset=25)], [], None, None, lineno=25, col_offset=12), lineno=25, col_offset=8), TryFinally([Expr(Call(Attribute(Name('f', Load(), lineno=28, col_offset=12), 'write', Load(), lineno=28, col_offset=12), [BinOp(Str('\x00', lineno=28, col_offset=20), Mult(), Name('PAGESIZE', Load(), lineno=28, col_offset=26), lineno=28, col_offset=20)], [], None, None, lineno=28, col_offset=12), lineno=28, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=29, col_offset=12), 'write', Load(), lineno=29, col_offset=12), [Str('foo', lineno=29, col_offset=20)], [], None, None, lineno=29, col_offset=12), lineno=29, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=30, col_offset=12), 'write', Load(), lineno=30, col_offset=12), [BinOp(Str('\x00', lineno=30, col_offset=20), Mult(), BinOp(Name('PAGESIZE', Load(), lineno=30, col_offset=27), Sub(), Num(3, lineno=30, col_offset=36), lineno=30, col_offset=27), lineno=30, col_offset=20)], [], None, None, lineno=30, col_offset=12), lineno=30, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=31, col_offset=12), 'flush', Load(), lineno=31, col_offset=12), [], [], None, None, lineno=31, col_offset=12), lineno=31, col_offset=12), Assign([Name('m', Store(), lineno=32, col_offset=12)], Call(Attribute(Name('mmap', Load(), lineno=32, col_offset=16), 'mmap', Load(), lineno=32, col_offset=16), [Call(Attribute(Name('f', Load(), lineno=32, col_offset=26), 'fileno', Load(), lineno=32, col_offset=26), [], [], None, None, lineno=32, col_offset=26), BinOp(Num(2, lineno=32, col_offset=38), Mult(), Name('PAGESIZE', Load(), lineno=32, col_offset=42), lineno=32, col_offset=38)], [], None, None, lineno=32, col_offset=16), lineno=32, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=33, col_offset=12), 'close', Load(), lineno=33, col_offset=12), [], [], None, None, lineno=33, col_offset=12), lineno=33, col_offset=12), Assign([Name('tp', Store(), lineno=37, col_offset=12)], Call(Name('str', Load(), lineno=37, col_offset=17), [Call(Name('type', Load(), lineno=37, col_offset=21), [Name('m', Load(), lineno=37, col_offset=26)], [], None, None, lineno=37, col_offset=21)], [], None, None, lineno=37, col_offset=17), lineno=37, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=38, col_offset=12), 'assertEqual', Load(), lineno=38, col_offset=12), [Call(Attribute(Name('m', Load(), lineno=38, col_offset=29), 'find', Load(), lineno=38, col_offset=29), [Str('foo', lineno=38, col_offset=36)], [], None, None, lineno=38, col_offset=29), Name('PAGESIZE', Load(), lineno=38, col_offset=44)], [], None, None, lineno=38, col_offset=12), lineno=38, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=40, col_offset=12), 'assertEqual', Load(), lineno=40, col_offset=12), [Call(Name('len', Load(), lineno=40, col_offset=29), [Name('m', Load(), lineno=40, col_offset=33)], [], None, None, lineno=40, col_offset=29), BinOp(Num(2, lineno=40, col_offset=37), Mult(), Name('PAGESIZE', Load(), lineno=40, col_offset=39), lineno=40, col_offset=37)], [], None, None, lineno=40, col_offset=12), lineno=40, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=42, col_offset=12), 'assertEqual', Load(), lineno=42, col_offset=12), [Subscript(Name('m', Load(), lineno=42, col_offset=29), Index(Num(0, lineno=42, col_offset=31)), Load(), lineno=42, col_offset=29), Str('\x00', lineno=42, col_offset=35)], [], None, None, lineno=42, col_offset=12), lineno=42, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=43, col_offset=12), 'assertEqual', Load(), lineno=43, col_offset=12), [Subscript(Name('m', Load(), lineno=43, col_offset=29), Slice(Num(0, lineno=43, col_offset=31), Num(3, lineno=43, col_offset=33), None), Load(), lineno=43, col_offset=29), Str('\x00\x00\x00', lineno=43, col_offset=37)], [], None, None, lineno=43, col_offset=12), lineno=43, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=46, col_offset=12), 'assertRaises', Load(), lineno=46, col_offset=12), [Name('IndexError', Load(), lineno=46, col_offset=30), Attribute(Name('m', Load(), lineno=46, col_offset=42), '__getitem__', Load(), lineno=46, col_offset=42), Call(Name('len', Load(), lineno=46, col_offset=57), [Name('m', Load(), lineno=46, col_offset=61)], [], None, None, lineno=46, col_offset=57)], [], None, None, lineno=46, col_offset=12), lineno=46, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=47, col_offset=12), 'assertRaises', Load(), lineno=47, col_offset=12), [Name('IndexError', Load(), lineno=47, col_offset=30), Attribute(Name('m', Load(), lineno=47, col_offset=42), '__setitem__', Load(), lineno=47, col_offset=42), Call(Name('len', Load(), lineno=47, col_offset=57), [Name('m', Load(), lineno=47, col_offset=61)], [], None, None, lineno=47, col_offset=57), Str('\x00', lineno=47, col_offset=65)], [], None, None, lineno=47, col_offset=12), lineno=47, col_offset=12), Assign([Subscript(Name('m', Load(), lineno=50, col_offset=12), Index(Num(0, lineno=50, col_offset=14)), Store(), lineno=50, col_offset=12)], Str('3', lineno=50, col_offset=19), lineno=50, col_offset=12), Assign([Subscript(Name('m', Load(), lineno=51, col_offset=12), Slice(BinOp(Name('PAGESIZE', Load(), lineno=51, col_offset=14), Add(), Num(3, lineno=51, col_offset=24), lineno=51, col_offset=14), BinOp(BinOp(Name('PAGESIZE', Load(), lineno=51, col_offset=27), Add(), Num(3, lineno=51, col_offset=37), lineno=51, col_offset=27), Add(), Num(3, lineno=51, col_offset=39), lineno=51, col_offset=38), None), Store(), lineno=51, col_offset=12)], Str('bar', lineno=51, col_offset=44), lineno=51, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=54, col_offset=12), 'assertEqual', Load(), lineno=54, col_offset=12), [Subscript(Name('m', Load(), lineno=54, col_offset=29), Index(Num(0, lineno=54, col_offset=31)), Load(), lineno=54, col_offset=29), Str('3', lineno=54, col_offset=35)], [], None, None, lineno=54, col_offset=12), lineno=54, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=55, col_offset=12), 'assertEqual', Load(), lineno=55, col_offset=12), [Subscript(Name('m', Load(), lineno=55, col_offset=29), Slice(Num(0, lineno=55, col_offset=31), Num(3, lineno=55, col_offset=33), None), Load(), lineno=55, col_offset=29), Str('3\x00\x00', lineno=55, col_offset=37)], [], None, None, lineno=55, col_offset=12), lineno=55, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=56, col_offset=12), 'assertEqual', Load(), lineno=56, col_offset=12), [Subscript(Name('m', Load(), lineno=56, col_offset=29), Slice(BinOp(Name('PAGESIZE', Load(), lineno=56, col_offset=31), Sub(), Num(1, lineno=56, col_offset=40), lineno=56, col_offset=31), BinOp(Name('PAGESIZE', Load(), lineno=56, col_offset=44), Add(), Num(7, lineno=56, col_offset=55), lineno=56, col_offset=44), None), Load(), lineno=56, col_offset=29), Str('\x00foobar\x00', lineno=56, col_offset=59)], [], None, None, lineno=56, col_offset=12), lineno=56, col_offset=12), Expr(Call(Attribute(Name('m', Load(), lineno=58, col_offset=12), 'flush', Load(), lineno=58, col_offset=12), [], [], None, None, lineno=58, col_offset=12), lineno=58, col_offset=12), Assign([Name('match', Store(), lineno=61, col_offset=12)], Call(Attribute(Name('re', Load(), lineno=61, col_offset=20), 'search', Load(), lineno=61, col_offset=20), [Str('[A-Za-z]+', lineno=61, col_offset=30), Name('m', Load(), lineno=61, col_offset=43)], [], None, None, lineno=61, col_offset=20), lineno=61, col_offset=12), If(Compare(Name('match', Load(), lineno=62, col_offset=15), [Is()], [Name('None', Load(), lineno=62, col_offset=24)], lineno=62, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=63, col_offset=16), 'fail', Load(), lineno=63, col_offset=16), [Str('regex match on mmap failed!', lineno=63, col_offset=26)], [], None, None, lineno=63, col_offset=16), lineno=63, col_offset=16)], [Assign([Tuple([Name('start', Store(), lineno=65, col_offset=16), Name('end', Store(), lineno=65, col_offset=23)], Store(), lineno=65, col_offset=16)], Call(Attribute(Name('match', Load(), lineno=65, col_offset=29), 'span', Load(), lineno=65, col_offset=29), [Num(0, lineno=65, col_offset=40)], [], None, None, lineno=65, col_offset=29), lineno=65, col_offset=16), Assign([Name('length', Store(), lineno=66, col_offset=16)], BinOp(Name('end', Load(), lineno=66, col_offset=25), Sub(), Name('start', Load(), lineno=66, col_offset=31), lineno=66, col_offset=25), lineno=66, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=68, col_offset=16), 'assertEqual', Load(), lineno=68, col_offset=16), [Name('start', Load(), lineno=68, col_offset=33), Name('PAGESIZE', Load(), lineno=68, col_offset=40)], [], None, None, lineno=68, col_offset=16), lineno=68, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=69, col_offset=16), 'assertEqual', Load(), lineno=69, col_offset=16), [Name('end', Load(), lineno=69, col_offset=33), BinOp(Name('PAGESIZE', Load(), lineno=69, col_offset=38), Add(), Num(6, lineno=69, col_offset=49), lineno=69, col_offset=38)], [], None, None, lineno=69, col_offset=16), lineno=69, col_offset=16)], lineno=62, col_offset=12), Expr(Call(Attribute(Name('m', Load(), lineno=72, col_offset=12), 'seek', Load(), lineno=72, col_offset=12), [Num(0, lineno=72, col_offset=19), Num(0, lineno=72, col_offset=21)], [], None, None, lineno=72, col_offset=12), lineno=72, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=73, col_offset=12), 'assertEqual', Load(), lineno=73, col_offset=12), [Call(Attribute(Name('m', Load(), lineno=73, col_offset=29), 'tell', Load(), lineno=73, col_offset=29), [], [], None, None, lineno=73, col_offset=29), Num(0, lineno=73, col_offset=39)], [], None, None, lineno=73, col_offset=12), lineno=73, col_offset=12), Expr(Call(Attribute(Name('m', Load(), lineno=74, col_offset=12), 'seek', Load(), lineno=74, col_offset=12), [Num(42, lineno=74, col_offset=19), Num(1, lineno=74, col_offset=22)], [], None, None, lineno=74, col_offset=12), lineno=74, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=75, col_offset=12), 'assertEqual', Load(), lineno=75, col_offset=12), [Call(Attribute(Name('m', Load(), lineno=75, col_offset=29), 'tell', Load(), lineno=75, col_offset=29), [], [], None, None, lineno=75, col_offset=29), Num(42, lineno=75, col_offset=39)], [], None, None, lineno=75, col_offset=12), lineno=75, col_offset=12), Expr(Call(Attribute(Name('m', Load(), lineno=76, col_offset=12), 'seek', Load(), lineno=76, col_offset=12), [Num(0, lineno=76, col_offset=19), Num(2, lineno=76, col_offset=21)], [], None, None, lineno=76, col_offset=12), lineno=76, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=77, col_offset=12), 'assertEqual', Load(), lineno=77, col_offset=12), [Call(Attribute(Name('m', Load(), lineno=77, col_offset=29), 'tell', Load(), lineno=77, col_offset=29), [], [], None, None, lineno=77, col_offset=29), Call(Name('len', Load(), lineno=77, col_offset=39), [Name('m', Load(), lineno=77, col_offset=43)], [], None, None, lineno=77, col_offset=39)], [], None, None, lineno=77, col_offset=12), lineno=77, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=80, col_offset=12), 'assertRaises', Load(), lineno=80, col_offset=12), [Name('ValueError', Load(), lineno=80, col_offset=30), Attribute(Name('m', Load(), lineno=80, col_offset=42), 'seek', Load(), lineno=80, col_offset=42), Num(-1, lineno=80, col_offset=51)], [], None, None, lineno=80, col_offset=12), lineno=80, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=83, col_offset=12), 'assertRaises', Load(), lineno=83, col_offset=12), [Name('ValueError', Load(), lineno=83, col_offset=30), Attribute(Name('m', Load(), lineno=83, col_offset=42), 'seek', Load(), lineno=83, col_offset=42), Num(1, lineno=83, col_offset=50), Num(2, lineno=83, col_offset=53)], [], None, None, lineno=83, col_offset=12), lineno=83, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=86, col_offset=12), 'assertRaises', Load(), lineno=86, col_offset=12), [Name('ValueError', Load(), lineno=86, col_offset=30), Attribute(Name('m', Load(), lineno=86, col_offset=42), 'seek', Load(), lineno=86, col_offset=42), BinOp(UnaryOp(USub(), Call(Name('len', Load(), lineno=86, col_offset=51), [Name('m', Load(), lineno=86, col_offset=55)], [], None, None, lineno=86, col_offset=51), lineno=86, col_offset=50), Sub(), Num(1, lineno=86, col_offset=58), lineno=86, col_offset=50), Num(2, lineno=86, col_offset=61)], [], None, None, lineno=86, col_offset=12), lineno=86, col_offset=12), TryExcept([Expr(Call(Attribute(Name('m', Load(), lineno=90, col_offset=16), 'resize', Load(), lineno=90, col_offset=16), [Num(512, lineno=90, col_offset=25)], [], None, None, lineno=90, col_offset=16), lineno=90, col_offset=16)], [ExceptHandler(Name('SystemError', Load(), lineno=91, col_offset=19), None, [Pass( lineno=95, col_offset=16)], lineno=91, col_offset=12)], [Expr(Call(Attribute(Name('self', Load(), lineno=98, col_offset=16), 'assertEqual', Load(), lineno=98, col_offset=16), [Call(Name('len', Load(), lineno=98, col_offset=33), [Name('m', Load(), lineno=98, col_offset=37)], [], None, None, lineno=98, col_offset=33), Num(512, lineno=98, col_offset=41)], [], None, None, lineno=98, col_offset=16), lineno=98, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=100, col_offset=16), 'assertRaises', Load(), lineno=100, col_offset=16), [Name('ValueError', Load(), lineno=100, col_offset=34), Attribute(Name('m', Load(), lineno=100, col_offset=46), 'seek', Load(), lineno=100, col_offset=46), Num(513, lineno=100, col_offset=54), Num(0, lineno=100, col_offset=59)], [], None, None, lineno=100, col_offset=16), lineno=100, col_offset=16), Assign([Name('f', Store(), lineno=104, col_offset=16)], Call(Name('open', Load(), lineno=104, col_offset=20), [Name('TESTFN', Load(), lineno=104, col_offset=25)], [], None, None, lineno=104, col_offset=20), lineno=104, col_offset=16), Expr(Call(Attribute(Name('f', Load(), lineno=105, col_offset=16), 'seek', Load(), lineno=105, col_offset=16), [Num(0, lineno=105, col_offset=23), Num(2, lineno=105, col_offset=26)], [], None, None, lineno=105, col_offset=16), lineno=105, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=106, col_offset=16), 'assertEqual', Load(), lineno=106, col_offset=16), [Call(Attribute(Name('f', Load(), lineno=106, col_offset=33), 'tell', Load(), lineno=106, col_offset=33), [], [], None, None, lineno=106, col_offset=33), Num(512, lineno=106, col_offset=43)], [], None, None, lineno=106, col_offset=16), lineno=106, col_offset=16), Expr(Call(Attribute(Name('f', Load(), lineno=107, col_offset=16), 'close', Load(), lineno=107, col_offset=16), [], [], None, None, lineno=107, col_offset=16), lineno=107, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=108, col_offset=16), 'assertEqual', Load(), lineno=108, col_offset=16), [Call(Attribute(Name('m', Load(), lineno=108, col_offset=33), 'size', Load(), lineno=108, col_offset=33), [], [], None, None, lineno=108, col_offset=33), Num(512, lineno=108, col_offset=43)], [], None, None, lineno=108, col_offset=16), lineno=108, col_offset=16)], lineno=89, col_offset=12), Expr(Call(Attribute(Name('m', Load(), lineno=110, col_offset=12), 'close', Load(), lineno=110, col_offset=12), [], [], None, None, lineno=110, col_offset=12), lineno=110, col_offset=12)], [TryExcept([Expr(Call(Attribute(Name('f', Load(), lineno=114, col_offset=16), 'close', Load(), lineno=114, col_offset=16), [], [], None, None, lineno=114, col_offset=16), lineno=114, col_offset=16)], [ExceptHandler(Name('OSError', Load(), lineno=115, col_offset=19), None, [Pass( lineno=116, col_offset=16)], lineno=115, col_offset=12)], [], lineno=113, col_offset=12)], lineno=26, col_offset=8)], [], lineno=21, col_offset=4), FunctionDef('test_access_parameter', arguments([Name('self', Param(), lineno=118, col_offset=30)], None, None, []), [Assign([Name('mapsize', Store(), lineno=120, col_offset=8)], Num(10, lineno=120, col_offset=18), lineno=120, col_offset=8), Expr(Call(Attribute(Call(Name('open', Load(), lineno=121, col_offset=8), [Name('TESTFN', Load(), lineno=121, col_offset=13), Str('wb', lineno=121, col_offset=21)], [], None, None, lineno=121, col_offset=8), 'write', Load(), lineno=121, col_offset=8), [BinOp(Str('a', lineno=121, col_offset=33), Mult(), Name('mapsize', Load(), lineno=121, col_offset=37), lineno=121, col_offset=33)], [], None, None, lineno=121, col_offset=8), lineno=121, col_offset=8), Assign([Name('f', Store(), lineno=122, col_offset=8)], Call(Name('open', Load(), lineno=122, col_offset=12), [Name('TESTFN', Load(), lineno=122, col_offset=17), Str('rb', lineno=122, col_offset=25)], [], None, None, lineno=122, col_offset=12), lineno=122, col_offset=8), Assign([Name('m', Store(), lineno=123, col_offset=8)], Call(Attribute(Name('mmap', Load(), lineno=123, col_offset=12), 'mmap', Load(), lineno=123, col_offset=12), [Call(Attribute(Name('f', Load(), lineno=123, col_offset=22), 'fileno', Load(), lineno=123, col_offset=22), [], [], None, None, lineno=123, col_offset=22), Name('mapsize', Load(), lineno=123, col_offset=34)], [keyword('access', Attribute(Name('mmap', Load(), lineno=123, col_offset=50), 'ACCESS_READ', Load(), lineno=123, col_offset=50))], None, None, lineno=123, col_offset=12), lineno=123, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=124, col_offset=8), 'assertEqual', Load(), lineno=124, col_offset=8), [Subscript(Name('m', Load(), lineno=124, col_offset=25), Slice(None, None, None), Load(), lineno=124, col_offset=25), BinOp(Str('a', lineno=124, col_offset=31), Mult(), Name('mapsize', Load(), lineno=124, col_offset=35), lineno=124, col_offset=31), Str('Readonly memory map data incorrect.', lineno=124, col_offset=44)], [], None, None, lineno=124, col_offset=8), lineno=124, col_offset=8), TryExcept([Assign([Subscript(Name('m', Load(), lineno=128, col_offset=12), Slice(None, None, None), Store(), lineno=128, col_offset=12)], BinOp(Str('b', lineno=128, col_offset=19), Mult(), Name('mapsize', Load(), lineno=128, col_offset=23), lineno=128, col_offset=19), lineno=128, col_offset=12)], [ExceptHandler(Name('TypeError', Load(), lineno=129, col_offset=15), None, [Pass( lineno=130, col_offset=12)], lineno=129, col_offset=8)], [Expr(Call(Attribute(Name('self', Load(), lineno=132, col_offset=12), 'fail', Load(), lineno=132, col_offset=12), [Str('Able to write to readonly memory map', lineno=132, col_offset=22)], [], None, None, lineno=132, col_offset=12), lineno=132, col_offset=12)], lineno=127, col_offset=8), TryExcept([Assign([Subscript(Name('m', Load(), lineno=136, col_offset=12), Index(Num(0, lineno=136, col_offset=14)), Store(), lineno=136, col_offset=12)], Str('b', lineno=136, col_offset=19), lineno=136, col_offset=12)], [ExceptHandler(Name('TypeError', Load(), lineno=137, col_offset=15), None, [Pass( lineno=138, col_offset=12)], lineno=137, col_offset=8)], [Expr(Call(Attribute(Name('self', Load(), lineno=140, col_offset=12), 'fail', Load(), lineno=140, col_offset=12), [Str('Able to write to readonly memory map', lineno=140, col_offset=22)], [], None, None, lineno=140, col_offset=12), lineno=140, col_offset=12)], lineno=135, col_offset=8), TryExcept([Expr(Call(Attribute(Name('m', Load(), lineno=144, col_offset=12), 'seek', Load(), lineno=144, col_offset=12), [Num(0, lineno=144, col_offset=19), Num(0, lineno=144, col_offset=21)], [], None, None, lineno=144, col_offset=12), lineno=144, col_offset=12), Expr(Call(Attribute(Name('m', Load(), lineno=145, col_offset=12), 'write', Load(), lineno=145, col_offset=12), [Str('abc', lineno=145, col_offset=20)], [], None, None, lineno=145, col_offset=12), lineno=145, col_offset=12)], [ExceptHandler(Name('TypeError', Load(), lineno=146, col_offset=15), None, [Pass( lineno=147, col_offset=12)], lineno=146, col_offset=8)], [Expr(Call(Attribute(Name('self', Load(), lineno=149, col_offset=12), 'fail', Load(), lineno=149, col_offset=12), [Str('Able to write to readonly memory map', lineno=149, col_offset=22)], [], None, None, lineno=149, col_offset=12), lineno=149, col_offset=12)], lineno=143, col_offset=8), TryExcept([Expr(Call(Attribute(Name('m', Load(), lineno=153, col_offset=12), 'seek', Load(), lineno=153, col_offset=12), [Num(0, lineno=153, col_offset=19), Num(0, lineno=153, col_offset=21)], [], None, None, lineno=153, col_offset=12), lineno=153, col_offset=12), Expr(Call(Attribute(Name('m', Load(), lineno=154, col_offset=12), 'write_byte', Load(), lineno=154, col_offset=12), [Str('d', lineno=154, col_offset=25)], [], None, None, lineno=154, col_offset=12), lineno=154, col_offset=12)], [ExceptHandler(Name('TypeError', Load(), lineno=155, col_offset=15), None, [Pass( lineno=156, col_offset=12)], lineno=155, col_offset=8)], [Expr(Call(Attribute(Name('self', Load(), lineno=158, col_offset=12), 'fail', Load(), lineno=158, col_offset=12), [Str('Able to write to readonly memory map', lineno=158, col_offset=22)], [], None, None, lineno=158, col_offset=12), lineno=158, col_offset=12)], lineno=152, col_offset=8), TryExcept([Expr(Call(Attribute(Name('m', Load(), lineno=162, col_offset=12), 'resize', Load(), lineno=162, col_offset=12), [BinOp(Num(2, lineno=162, col_offset=21), Mult(), Name('mapsize', Load(), lineno=162, col_offset=23), lineno=162, col_offset=21)], [], None, None, lineno=162, col_offset=12), lineno=162, col_offset=12)], [ExceptHandler(Name('SystemError', Load(), lineno=163, col_offset=15), None, [Pass( lineno=164, col_offset=12)], lineno=163, col_offset=8), ExceptHandler(Name('TypeError', Load(), lineno=165, col_offset=15), None, [Pass( lineno=166, col_offset=12)], lineno=165, col_offset=8)], [Expr(Call(Attribute(Name('self', Load(), lineno=168, col_offset=12), 'fail', Load(), lineno=168, col_offset=12), [Str('Able to resize readonly memory map', lineno=168, col_offset=22)], [], None, None, lineno=168, col_offset=12), lineno=168, col_offset=12)], lineno=161, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=169, col_offset=8), 'close', Load(), lineno=169, col_offset=8), [], [], None, None, lineno=169, col_offset=8), lineno=169, col_offset=8), Delete([Name('m', Del(), lineno=170, col_offset=12), Name('f', Del(), lineno=170, col_offset=15)], lineno=170, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=171, col_offset=8), 'assertEqual', Load(), lineno=171, col_offset=8), [Call(Attribute(Call(Name('open', Load(), lineno=171, col_offset=25), [Name('TESTFN', Load(), lineno=171, col_offset=30), Str('rb', lineno=171, col_offset=38)], [], None, None, lineno=171, col_offset=25), 'read', Load(), lineno=171, col_offset=25), [], [], None, None, lineno=171, col_offset=25), BinOp(Str('a', lineno=171, col_offset=52), Mult(), Name('mapsize', Load(), lineno=171, col_offset=56), lineno=171, col_offset=52), Str('Readonly memory map data file was modified', lineno=172, col_offset=15)], [], None, None, lineno=171, col_offset=8), lineno=171, col_offset=8), Import([alias('sys', None)], lineno=175, col_offset=8), Assign([Name('f', Store(), lineno=176, col_offset=8)], Call(Name('open', Load(), lineno=176, col_offset=12), [Name('TESTFN', Load(), lineno=176, col_offset=17), Str('r+b', lineno=176, col_offset=25)], [], None, None, lineno=176, col_offset=12), lineno=176, col_offset=8), TryExcept([Assign([Name('m', Store(), lineno=178, col_offset=12)], Call(Attribute(Name('mmap', Load(), lineno=178, col_offset=16), 'mmap', Load(), lineno=178, col_offset=16), [Call(Attribute(Name('f', Load(), lineno=178, col_offset=26), 'fileno', Load(), lineno=178, col_offset=26), [], [], None, None, lineno=178, col_offset=26), BinOp(Name('mapsize', Load(), lineno=178, col_offset=38), Add(), Num(1, lineno=178, col_offset=46), lineno=178, col_offset=38)], [], None, None, lineno=178, col_offset=16), lineno=178, col_offset=12)], [ExceptHandler(Name('ValueError', Load(), lineno=179, col_offset=15), None, [If(Call(Attribute(Attribute(Name('sys', Load(), lineno=184, col_offset=15), 'platform', Load(), lineno=184, col_offset=15), 'startswith', Load(), lineno=184, col_offset=15), [Str('win', lineno=184, col_offset=39)], [], None, None, lineno=184, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=185, col_offset=16), 'fail', Load(), lineno=185, col_offset=16), [Str('Opening mmap with size+1 should work on Windows.', lineno=185, col_offset=26)], [], None, None, lineno=185, col_offset=16), lineno=185, col_offset=16)], [], lineno=184, col_offset=12)], lineno=179, col_offset=8)], [If(UnaryOp(Not(), Call(Attribute(Attribute(Name('sys', Load(), lineno=188, col_offset=19), 'platform', Load(), lineno=188, col_offset=19), 'startswith', Load(), lineno=188, col_offset=19), [Str('win', lineno=188, col_offset=43)], [], None, None, lineno=188, col_offset=19), lineno=188, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=189, col_offset=16), 'fail', Load(), lineno=189, col_offset=16), [Str('Opening mmap with size+1 should raise ValueError.', lineno=189, col_offset=26)], [], None, None, lineno=189, col_offset=16), lineno=189, col_offset=16)], [], lineno=188, col_offset=12), Expr(Call(Attribute(Name('m', Load(), lineno=190, col_offset=12), 'close', Load(), lineno=190, col_offset=12), [], [], None, None, lineno=190, col_offset=12), lineno=190, col_offset=12)], lineno=177, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=191, col_offset=8), 'close', Load(), lineno=191, col_offset=8), [], [], None, None, lineno=191, col_offset=8), lineno=191, col_offset=8), If(Call(Attribute(Attribute(Name('sys', Load(), lineno=192, col_offset=11), 'platform', Load(), lineno=192, col_offset=11), 'startswith', Load(), lineno=192, col_offset=11), [Str('win', lineno=192, col_offset=35)], [], None, None, lineno=192, col_offset=11), [Assign([Name('f', Store(), lineno=194, col_offset=12)], Call(Name('open', Load(), lineno=194, col_offset=16), [Name('TESTFN', Load(), lineno=194, col_offset=21), Str('r+b', lineno=194, col_offset=29)], [], None, None, lineno=194, col_offset=16), lineno=194, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=195, col_offset=12), 'truncate', Load(), lineno=195, col_offset=12), [Name('mapsize', Load(), lineno=195, col_offset=23)], [], None, None, lineno=195, col_offset=12), lineno=195, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=196, col_offset=12), 'close', Load(), lineno=196, col_offset=12), [], [], None, None, lineno=196, col_offset=12), lineno=196, col_offset=12)], [], lineno=192, col_offset=8), Assign([Name('f', Store(), lineno=199, col_offset=8)], Call(Name('open', Load(), lineno=199, col_offset=12), [Name('TESTFN', Load(), lineno=199, col_offset=17), Str('r+b', lineno=199, col_offset=25)], [], None, None, lineno=199, col_offset=12), lineno=199, col_offset=8), Assign([Name('m', Store(), lineno=200, col_offset=8)], Call(Attribute(Name('mmap', Load(), lineno=200, col_offset=12), 'mmap', Load(), lineno=200, col_offset=12), [Call(Attribute(Name('f', Load(), lineno=200, col_offset=22), 'fileno', Load(), lineno=200, col_offset=22), [], [], None, None, lineno=200, col_offset=22), Name('mapsize', Load(), lineno=200, col_offset=34)], [keyword('access', Attribute(Name('mmap', Load(), lineno=200, col_offset=50), 'ACCESS_WRITE', Load(), lineno=200, col_offset=50))], None, None, lineno=200, col_offset=12), lineno=200, col_offset=8), Assign([Subscript(Name('m', Load(), lineno=202, col_offset=8), Slice(None, None, None), Store(), lineno=202, col_offset=8)], BinOp(Str('c', lineno=202, col_offset=15), Mult(), Name('mapsize', Load(), lineno=202, col_offset=19), lineno=202, col_offset=15), lineno=202, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=203, col_offset=8), 'assertEqual', Load(), lineno=203, col_offset=8), [Subscript(Name('m', Load(), lineno=203, col_offset=25), Slice(None, None, None), Load(), lineno=203, col_offset=25), BinOp(Str('c', lineno=203, col_offset=31), Mult(), Name('mapsize', Load(), lineno=203, col_offset=35), lineno=203, col_offset=31), Str('Write-through memory map memory not updated properly.', lineno=204, col_offset=15)], [], None, None, lineno=203, col_offset=8), lineno=203, col_offset=8), Expr(Call(Attribute(Name('m', Load(), lineno=205, col_offset=8), 'flush', Load(), lineno=205, col_offset=8), [], [], None, None, lineno=205, col_offset=8), lineno=205, col_offset=8), Expr(Call(Attribute(Name('m', Load(), lineno=206, col_offset=8), 'close', Load(), lineno=206, col_offset=8), [], [], None, None, lineno=206, col_offset=8), lineno=206, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=207, col_offset=8), 'close', Load(), lineno=207, col_offset=8), [], [], None, None, lineno=207, col_offset=8), lineno=207, col_offset=8), Assign([Name('f', Store(), lineno=208, col_offset=8)], Call(Name('open', Load(), lineno=208, col_offset=12), [Name('TESTFN', Load(), lineno=208, col_offset=17), Str('rb', lineno=208, col_offset=25)], [], None, None, lineno=208, col_offset=12), lineno=208, col_offset=8), Assign([Name('stuff', Store(), lineno=209, col_offset=8)], Call(Attribute(Name('f', Load(), lineno=209, col_offset=16), 'read', Load(), lineno=209, col_offset=16), [], [], None, None, lineno=209, col_offset=16), lineno=209, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=210, col_offset=8), 'close', Load(), lineno=210, col_offset=8), [], [], None, None, lineno=210, col_offset=8), lineno=210, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=211, col_offset=8), 'assertEqual', Load(), lineno=211, col_offset=8), [Name('stuff', Load(), lineno=211, col_offset=25), BinOp(Str('c', lineno=211, col_offset=32), Mult(), Name('mapsize', Load(), lineno=211, col_offset=36), lineno=211, col_offset=32), Str('Write-through memory map data file not updated properly.', lineno=212, col_offset=15)], [], None, None, lineno=211, col_offset=8), lineno=211, col_offset=8), Assign([Name('f', Store(), lineno=215, col_offset=8)], Call(Name('open', Load(), lineno=215, col_offset=12), [Name('TESTFN', Load(), lineno=215, col_offset=17), Str('r+b', lineno=215, col_offset=25)], [], None, None, lineno=215, col_offset=12), lineno=215, col_offset=8), Assign([Name('m', Store(), lineno=216, col_offset=8)], Call(Attribute(Name('mmap', Load(), lineno=216, col_offset=12), 'mmap', Load(), lineno=216, col_offset=12), [Call(Attribute(Name('f', Load(), lineno=216, col_offset=22), 'fileno', Load(), lineno=216, col_offset=22), [], [], None, None, lineno=216, col_offset=22), Name('mapsize', Load(), lineno=216, col_offset=34)], [keyword('access', Attribute(Name('mmap', Load(), lineno=216, col_offset=50), 'ACCESS_COPY', Load(), lineno=216, col_offset=50))], None, None, lineno=216, col_offset=12), lineno=216, col_offset=8), Assign([Subscript(Name('m', Load(), lineno=218, col_offset=8), Slice(None, None, None), Store(), lineno=218, col_offset=8)], BinOp(Str('d', lineno=218, col_offset=15), Mult(), Name('mapsize', Load(), lineno=218, col_offset=19), lineno=218, col_offset=15), lineno=218, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=219, col_offset=8), 'assertEqual', Load(), lineno=219, col_offset=8), [Subscript(Name('m', Load(), lineno=219, col_offset=25), Slice(None, None, None), Load(), lineno=219, col_offset=25), BinOp(Str('d', lineno=219, col_offset=31), Mult(), Name('mapsize', Load(), lineno=219, col_offset=37), lineno=219, col_offset=31), Str('Copy-on-write memory map data not written correctly.', lineno=220, col_offset=15)], [], None, None, lineno=219, col_offset=8), lineno=219, col_offset=8), Expr(Call(Attribute(Name('m', Load(), lineno=221, col_offset=8), 'flush', Load(), lineno=221, col_offset=8), [], [], None, None, lineno=221, col_offset=8), lineno=221, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=222, col_offset=8), 'assertEqual', Load(), lineno=222, col_offset=8), [Call(Attribute(Call(Name('open', Load(), lineno=222, col_offset=25), [Name('TESTFN', Load(), lineno=222, col_offset=30), Str('rb', lineno=222, col_offset=38)], [], None, None, lineno=222, col_offset=25), 'read', Load(), lineno=222, col_offset=25), [], [], None, None, lineno=222, col_offset=25), BinOp(Str('c', lineno=222, col_offset=52), Mult(), Name('mapsize', Load(), lineno=222, col_offset=56), lineno=222, col_offset=52), Str('Copy-on-write test data file should not be modified.', lineno=223, col_offset=15)], [], None, None, lineno=222, col_offset=8), lineno=222, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=225, col_offset=8), 'assertRaises', Load(), lineno=225, col_offset=8), [Name('TypeError', Load(), lineno=225, col_offset=26), Attribute(Name('m', Load(), lineno=225, col_offset=37), 'resize', Load(), lineno=225, col_offset=37), BinOp(Num(2, lineno=225, col_offset=47), Mult(), Name('mapsize', Load(), lineno=225, col_offset=49), lineno=225, col_offset=47)], [], None, None, lineno=225, col_offset=8), lineno=225, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=226, col_offset=8), 'close', Load(), lineno=226, col_offset=8), [], [], None, None, lineno=226, col_offset=8), lineno=226, col_offset=8), Delete([Name('m', Del(), lineno=227, col_offset=12), Name('f', Del(), lineno=227, col_offset=15)], lineno=227, col_offset=8), Assign([Name('f', Store(), lineno=230, col_offset=8)], Call(Name('open', Load(), lineno=230, col_offset=12), [Name('TESTFN', Load(), lineno=230, col_offset=17), Str('r+b', lineno=230, col_offset=25)], [], None, None, lineno=230, col_offset=12), lineno=230, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=231, col_offset=8), 'assertRaises', Load(), lineno=231, col_offset=8), [Name('ValueError', Load(), lineno=231, col_offset=26), Attribute(Name('mmap', Load(), lineno=231, col_offset=38), 'mmap', Load(), lineno=231, col_offset=38), Call(Attribute(Name('f', Load(), lineno=231, col_offset=49), 'fileno', Load(), lineno=231, col_offset=49), [], [], None, None, lineno=231, col_offset=49), Name('mapsize', Load(), lineno=231, col_offset=61)], [keyword('access', Num(4, lineno=231, col_offset=77))], None, None, lineno=231, col_offset=8), lineno=231, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=232, col_offset=8), 'close', Load(), lineno=232, col_offset=8), [], [], None, None, lineno=232, col_offset=8), lineno=232, col_offset=8), If(Compare(Attribute(Name('os', Load(), lineno=234, col_offset=11), 'name', Load(), lineno=234, col_offset=11), [Eq()], [Str('posix', lineno=234, col_offset=22)], lineno=234, col_offset=11), [Assign([Name('f', Store(), lineno=236, col_offset=12)], Call(Name('open', Load(), lineno=236, col_offset=16), [Name('TESTFN', Load(), lineno=236, col_offset=21), Str('r+b', lineno=236, col_offset=29)], [], None, None, lineno=236, col_offset=16), lineno=236, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=237, col_offset=12), 'assertRaises', Load(), lineno=237, col_offset=12), [Name('ValueError', Load(), lineno=237, col_offset=30), Attribute(Name('mmap', Load(), lineno=237, col_offset=42), 'mmap', Load(), lineno=237, col_offset=42), Call(Attribute(Name('f', Load(), lineno=237, col_offset=53), 'fileno', Load(), lineno=237, col_offset=53), [], [], None, None, lineno=237, col_offset=53), Name('mapsize', Load(), lineno=237, col_offset=65)], [keyword('flags', Attribute(Name('mmap', Load(), lineno=238, col_offset=36), 'MAP_PRIVATE', Load(), lineno=238, col_offset=36)), keyword('prot', Attribute(Name('mmap', Load(), lineno=239, col_offset=35), 'PROT_READ', Load(), lineno=239, col_offset=35)), keyword('access', Attribute(Name('mmap', Load(), lineno=239, col_offset=58), 'ACCESS_WRITE', Load(), lineno=239, col_offset=58))], None, None, lineno=237, col_offset=12), lineno=237, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=240, col_offset=12), 'close', Load(), lineno=240, col_offset=12), [], [], None, None, lineno=240, col_offset=12), lineno=240, col_offset=12)], [], lineno=234, col_offset=8)], [], lineno=118, col_offset=4), FunctionDef('test_bad_file_desc', arguments([Name('self', Param(), lineno=242, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=244, col_offset=8), 'assertRaises', Load(), lineno=244, col_offset=8), [Attribute(Name('mmap', Load(), lineno=244, col_offset=26), 'error', Load(), lineno=244, col_offset=26), Attribute(Name('mmap', Load(), lineno=244, col_offset=38), 'mmap', Load(), lineno=244, col_offset=38), Num(-2, lineno=244, col_offset=50), Num(4096, lineno=244, col_offset=53)], [], None, None, lineno=244, col_offset=8), lineno=244, col_offset=8)], [], lineno=242, col_offset=4), FunctionDef('test_tougher_find', arguments([Name('self', Param(), lineno=246, col_offset=26)], None, None, []), [Assign([Name('f', Store(), lineno=249, col_offset=8)], Call(Name('open', Load(), lineno=249, col_offset=12), [Name('TESTFN', Load(), lineno=249, col_offset=17), Str('w+', lineno=249, col_offset=25)], [], None, None, lineno=249, col_offset=12), lineno=249, col_offset=8), Assign([Name('data', Store(), lineno=251, col_offset=8)], Str('aabaac\x00deef\x00\x00aa\x00', lineno=251, col_offset=15), lineno=251, col_offset=8), Assign([Name('n', Store(), lineno=252, col_offset=8)], Call(Name('len', Load(), lineno=252, col_offset=12), [Name('data', Load(), lineno=252, col_offset=16)], [], None, None, lineno=252, col_offset=12), lineno=252, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=253, col_offset=8), 'write', Load(), lineno=253, col_offset=8), [Name('data', Load(), lineno=253, col_offset=16)], [], None, None, lineno=253, col_offset=8), lineno=253, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=254, col_offset=8), 'flush', Load(), lineno=254, col_offset=8), [], [], None, None, lineno=254, col_offset=8), lineno=254, col_offset=8), Assign([Name('m', Store(), lineno=255, col_offset=8)], Call(Attribute(Name('mmap', Load(), lineno=255, col_offset=12), 'mmap', Load(), lineno=255, col_offset=12), [Call(Attribute(Name('f', Load(), lineno=255, col_offset=22), 'fileno', Load(), lineno=255, col_offset=22), [], [], None, None, lineno=255, col_offset=22), Name('n', Load(), lineno=255, col_offset=34)], [], None, None, lineno=255, col_offset=12), lineno=255, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=256, col_offset=8), 'close', Load(), lineno=256, col_offset=8), [], [], None, None, lineno=256, col_offset=8), lineno=256, col_offset=8), For(Name('start', Store(), lineno=258, col_offset=12), Call(Name('range', Load(), lineno=258, col_offset=21), [BinOp(Name('n', Load(), lineno=258, col_offset=27), Add(), Num(1, lineno=258, col_offset=29), lineno=258, col_offset=27)], [], None, None, lineno=258, col_offset=21), [For(Name('finish', Store(), lineno=259, col_offset=16), Call(Name('range', Load(), lineno=259, col_offset=26), [Name('start', Load(), lineno=259, col_offset=32), BinOp(Name('n', Load(), lineno=259, col_offset=39), Add(), Num(1, lineno=259, col_offset=41), lineno=259, col_offset=39)], [], None, None, lineno=259, col_offset=26), [Assign([Name('slice', Store(), lineno=260, col_offset=16)], Subscript(Name('data', Load(), lineno=260, col_offset=24), Slice(Name('start', Load(), lineno=260, col_offset=29), Name('finish', Load(), lineno=260, col_offset=37), None), Load(), lineno=260, col_offset=24), lineno=260, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=261, col_offset=16), 'assertEqual', Load(), lineno=261, col_offset=16), [Call(Attribute(Name('m', Load(), lineno=261, col_offset=33), 'find', Load(), lineno=261, col_offset=33), [Name('slice', Load(), lineno=261, col_offset=40)], [], None, None, lineno=261, col_offset=33), Call(Attribute(Name('data', Load(), lineno=261, col_offset=48), 'find', Load(), lineno=261, col_offset=48), [Name('slice', Load(), lineno=261, col_offset=58)], [], None, None, lineno=261, col_offset=48)], [], None, None, lineno=261, col_offset=16), lineno=261, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=262, col_offset=16), 'assertEqual', Load(), lineno=262, col_offset=16), [Call(Attribute(Name('m', Load(), lineno=262, col_offset=33), 'find', Load(), lineno=262, col_offset=33), [BinOp(Name('slice', Load(), lineno=262, col_offset=40), Add(), Str('x', lineno=262, col_offset=48), lineno=262, col_offset=40)], [], None, None, lineno=262, col_offset=33), Num(-1, lineno=262, col_offset=55)], [], None, None, lineno=262, col_offset=16), lineno=262, col_offset=16)], [], lineno=259, col_offset=12)], [], lineno=258, col_offset=8), Expr(Call(Attribute(Name('m', Load(), lineno=263, col_offset=8), 'close', Load(), lineno=263, col_offset=8), [], [], None, None, lineno=263, col_offset=8), lineno=263, col_offset=8)], [], lineno=246, col_offset=4), FunctionDef('test_find_end', arguments([Name('self', Param(), lineno=265, col_offset=22)], None, None, []), [Assign([Name('f', Store(), lineno=267, col_offset=8)], Call(Name('open', Load(), lineno=267, col_offset=12), [Name('TESTFN', Load(), lineno=267, col_offset=17), Str('w+', lineno=267, col_offset=25)], [], None, None, lineno=267, col_offset=12), lineno=267, col_offset=8), Assign([Name('data', Store(), lineno=268, col_offset=8)], Str('one two ones', lineno=268, col_offset=15), lineno=268, col_offset=8), Assign([Name('n', Store(), lineno=269, col_offset=8)], Call(Name('len', Load(), lineno=269, col_offset=12), [Name('data', Load(), lineno=269, col_offset=16)], [], None, None, lineno=269, col_offset=12), lineno=269, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=270, col_offset=8), 'write', Load(), lineno=270, col_offset=8), [Name('data', Load(), lineno=270, col_offset=16)], [], None, None, lineno=270, col_offset=8), lineno=270, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=271, col_offset=8), 'flush', Load(), lineno=271, col_offset=8), [], [], None, None, lineno=271, col_offset=8), lineno=271, col_offset=8), Assign([Name('m', Store(), lineno=272, col_offset=8)], Call(Attribute(Name('mmap', Load(), lineno=272, col_offset=12), 'mmap', Load(), lineno=272, col_offset=12), [Call(Attribute(Name('f', Load(), lineno=272, col_offset=22), 'fileno', Load(), lineno=272, col_offset=22), [], [], None, None, lineno=272, col_offset=22), Name('n', Load(), lineno=272, col_offset=34)], [], None, None, lineno=272, col_offset=12), lineno=272, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=273, col_offset=8), 'close', Load(), lineno=273, col_offset=8), [], [], None, None, lineno=273, col_offset=8), lineno=273, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=275, col_offset=8), 'assertEqual', Load(), lineno=275, col_offset=8), [Call(Attribute(Name('m', Load(), lineno=275, col_offset=25), 'find', Load(), lineno=275, col_offset=25), [Str('one', lineno=275, col_offset=32)], [], None, None, lineno=275, col_offset=25), Num(0, lineno=275, col_offset=40)], [], None, None, lineno=275, col_offset=8), lineno=275, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=276, col_offset=8), 'assertEqual', Load(), lineno=276, col_offset=8), [Call(Attribute(Name('m', Load(), lineno=276, col_offset=25), 'find', Load(), lineno=276, col_offset=25), [Str('ones', lineno=276, col_offset=32)], [], None, None, lineno=276, col_offset=25), Num(8, lineno=276, col_offset=41)], [], None, None, lineno=276, col_offset=8), lineno=276, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=277, col_offset=8), 'assertEqual', Load(), lineno=277, col_offset=8), [Call(Attribute(Name('m', Load(), lineno=277, col_offset=25), 'find', Load(), lineno=277, col_offset=25), [Str('one', lineno=277, col_offset=32), Num(0, lineno=277, col_offset=39), Num(-1, lineno=277, col_offset=43)], [], None, None, lineno=277, col_offset=25), Num(0, lineno=277, col_offset=47)], [], None, None, lineno=277, col_offset=8), lineno=277, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=278, col_offset=8), 'assertEqual', Load(), lineno=278, col_offset=8), [Call(Attribute(Name('m', Load(), lineno=278, col_offset=25), 'find', Load(), lineno=278, col_offset=25), [Str('one', lineno=278, col_offset=32), Num(1, lineno=278, col_offset=39)], [], None, None, lineno=278, col_offset=25), Num(8, lineno=278, col_offset=43)], [], None, None, lineno=278, col_offset=8), lineno=278, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=279, col_offset=8), 'assertEqual', Load(), lineno=279, col_offset=8), [Call(Attribute(Name('m', Load(), lineno=279, col_offset=25), 'find', Load(), lineno=279, col_offset=25), [Str('one', lineno=279, col_offset=32), Num(1, lineno=279, col_offset=39), Num(-1, lineno=279, col_offset=43)], [], None, None, lineno=279, col_offset=25), Num(8, lineno=279, col_offset=47)], [], None, None, lineno=279, col_offset=8), lineno=279, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=280, col_offset=8), 'assertEqual', Load(), lineno=280, col_offset=8), [Call(Attribute(Name('m', Load(), lineno=280, col_offset=25), 'find', Load(), lineno=280, col_offset=25), [Str('one', lineno=280, col_offset=32), Num(1, lineno=280, col_offset=39), Num(-2, lineno=280, col_offset=43)], [], None, None, lineno=280, col_offset=25), Num(-1, lineno=280, col_offset=48)], [], None, None, lineno=280, col_offset=8), lineno=280, col_offset=8)], [], lineno=265, col_offset=4), FunctionDef('test_rfind', arguments([Name('self', Param(), lineno=283, col_offset=19)], None, None, []), [Assign([Name('f', Store(), lineno=285, col_offset=8)], Call(Name('open', Load(), lineno=285, col_offset=12), [Name('TESTFN', Load(), lineno=285, col_offset=17), Str('w+', lineno=285, col_offset=25)], [], None, None, lineno=285, col_offset=12), lineno=285, col_offset=8), Assign([Name('data', Store(), lineno=286, col_offset=8)], Str('one two ones', lineno=286, col_offset=15), lineno=286, col_offset=8), Assign([Name('n', Store(), lineno=287, col_offset=8)], Call(Name('len', Load(), lineno=287, col_offset=12), [Name('data', Load(), lineno=287, col_offset=16)], [], None, None, lineno=287, col_offset=12), lineno=287, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=288, col_offset=8), 'write', Load(), lineno=288, col_offset=8), [Name('data', Load(), lineno=288, col_offset=16)], [], None, None, lineno=288, col_offset=8), lineno=288, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=289, col_offset=8), 'flush', Load(), lineno=289, col_offset=8), [], [], None, None, lineno=289, col_offset=8), lineno=289, col_offset=8), Assign([Name('m', Store(), lineno=290, col_offset=8)], Call(Attribute(Name('mmap', Load(), lineno=290, col_offset=12), 'mmap', Load(), lineno=290, col_offset=12), [Call(Attribute(Name('f', Load(), lineno=290, col_offset=22), 'fileno', Load(), lineno=290, col_offset=22), [], [], None, None, lineno=290, col_offset=22), Name('n', Load(), lineno=290, col_offset=34)], [], None, None, lineno=290, col_offset=12), lineno=290, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=291, col_offset=8), 'close', Load(), lineno=291, col_offset=8), [], [], None, None, lineno=291, col_offset=8), lineno=291, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=293, col_offset=8), 'assertEqual', Load(), lineno=293, col_offset=8), [Call(Attribute(Name('m', Load(), lineno=293, col_offset=25), 'rfind', Load(), lineno=293, col_offset=25), [Str('one', lineno=293, col_offset=33)], [], None, None, lineno=293, col_offset=25), Num(8, lineno=293, col_offset=41)], [], None, None, lineno=293, col_offset=8), lineno=293, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=294, col_offset=8), 'assertEqual', Load(), lineno=294, col_offset=8), [Call(Attribute(Name('m', Load(), lineno=294, col_offset=25), 'rfind', Load(), lineno=294, col_offset=25), [Str('one ', lineno=294, col_offset=33)], [], None, None, lineno=294, col_offset=25), Num(0, lineno=294, col_offset=42)], [], None, None, lineno=294, col_offset=8), lineno=294, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=295, col_offset=8), 'assertEqual', Load(), lineno=295, col_offset=8), [Call(Attribute(Name('m', Load(), lineno=295, col_offset=25), 'rfind', Load(), lineno=295, col_offset=25), [Str('one', lineno=295, col_offset=33), Num(0, lineno=295, col_offset=40), Num(-1, lineno=295, col_offset=44)], [], None, None, lineno=295, col_offset=25), Num(8, lineno=295, col_offset=48)], [], None, None, lineno=295, col_offset=8), lineno=295, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=296, col_offset=8), 'assertEqual', Load(), lineno=296, col_offset=8), [Call(Attribute(Name('m', Load(), lineno=296, col_offset=25), 'rfind', Load(), lineno=296, col_offset=25), [Str('one', lineno=296, col_offset=33), Num(0, lineno=296, col_offset=40), Num(-2, lineno=296, col_offset=44)], [], None, None, lineno=296, col_offset=25), Num(0, lineno=296, col_offset=48)], [], None, None, lineno=296, col_offset=8), lineno=296, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=297, col_offset=8), 'assertEqual', Load(), lineno=297, col_offset=8), [Call(Attribute(Name('m', Load(), lineno=297, col_offset=25), 'rfind', Load(), lineno=297, col_offset=25), [Str('one', lineno=297, col_offset=33), Num(1, lineno=297, col_offset=40), Num(-1, lineno=297, col_offset=44)], [], None, None, lineno=297, col_offset=25), Num(8, lineno=297, col_offset=48)], [], None, None, lineno=297, col_offset=8), lineno=297, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=298, col_offset=8), 'assertEqual', Load(), lineno=298, col_offset=8), [Call(Attribute(Name('m', Load(), lineno=298, col_offset=25), 'rfind', Load(), lineno=298, col_offset=25), [Str('one', lineno=298, col_offset=33), Num(1, lineno=298, col_offset=40), Num(-2, lineno=298, col_offset=44)], [], None, None, lineno=298, col_offset=25), Num(-1, lineno=298, col_offset=49)], [], None, None, lineno=298, col_offset=8), lineno=298, col_offset=8)], [], lineno=283, col_offset=4), FunctionDef('test_double_close', arguments([Name('self', Param(), lineno=301, col_offset=26)], None, None, []), [Assign([Name('f', Store(), lineno=303, col_offset=8)], Call(Name('open', Load(), lineno=303, col_offset=12), [Name('TESTFN', Load(), lineno=303, col_offset=17), Str('w+', lineno=303, col_offset=25)], [], None, None, lineno=303, col_offset=12), lineno=303, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=305, col_offset=8), 'write', Load(), lineno=305, col_offset=8), [BinOp(BinOp(Num(2, lineno=305, col_offset=16), Pow(), Num(16, lineno=305, col_offset=19), lineno=305, col_offset=16), Mult(), Str('a', lineno=305, col_offset=24), lineno=305, col_offset=16)], [], None, None, lineno=305, col_offset=8), lineno=305, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=306, col_offset=8), 'close', Load(), lineno=306, col_offset=8), [], [], None, None, lineno=306, col_offset=8), lineno=306, col_offset=8), Assign([Name('f', Store(), lineno=308, col_offset=8)], Call(Name('open', Load(), lineno=308, col_offset=12), [Name('TESTFN', Load(), lineno=308, col_offset=17)], [], None, None, lineno=308, col_offset=12), lineno=308, col_offset=8), Assign([Name('mf', Store(), lineno=309, col_offset=8)], Call(Attribute(Name('mmap', Load(), lineno=309, col_offset=13), 'mmap', Load(), lineno=309, col_offset=13), [Call(Attribute(Name('f', Load(), lineno=309, col_offset=23), 'fileno', Load(), lineno=309, col_offset=23), [], [], None, None, lineno=309, col_offset=23), BinOp(Num(2, lineno=309, col_offset=35), Pow(), Num(16, lineno=309, col_offset=38), lineno=309, col_offset=35)], [keyword('access', Attribute(Name('mmap', Load(), lineno=309, col_offset=49), 'ACCESS_READ', Load(), lineno=309, col_offset=49))], None, None, lineno=309, col_offset=13), lineno=309, col_offset=8), Expr(Call(Attribute(Name('mf', Load(), lineno=310, col_offset=8), 'close', Load(), lineno=310, col_offset=8), [], [], None, None, lineno=310, col_offset=8), lineno=310, col_offset=8), Expr(Call(Attribute(Name('mf', Load(), lineno=311, col_offset=8), 'close', Load(), lineno=311, col_offset=8), [], [], None, None, lineno=311, col_offset=8), lineno=311, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=312, col_offset=8), 'close', Load(), lineno=312, col_offset=8), [], [], None, None, lineno=312, col_offset=8), lineno=312, col_offset=8)], [], lineno=301, col_offset=4), FunctionDef('test_entire_file', arguments([Name('self', Param(), lineno=314, col_offset=25)], None, None, []), [If(Call(Name('hasattr', Load(), lineno=316, col_offset=11), [Name('os', Load(), lineno=316, col_offset=19), Str('stat', lineno=316, col_offset=23)], [], None, None, lineno=316, col_offset=11), [Assign([Name('f', Store(), lineno=317, col_offset=12)], Call(Name('open', Load(), lineno=317, col_offset=16), [Name('TESTFN', Load(), lineno=317, col_offset=21), Str('w+', lineno=317, col_offset=29)], [], None, None, lineno=317, col_offset=16), lineno=317, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=319, col_offset=12), 'write', Load(), lineno=319, col_offset=12), [BinOp(BinOp(Num(2, lineno=319, col_offset=20), Pow(), Num(16, lineno=319, col_offset=23), lineno=319, col_offset=20), Mult(), Str('m', lineno=319, col_offset=28), lineno=319, col_offset=20)], [], None, None, lineno=319, col_offset=12), lineno=319, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=320, col_offset=12), 'close', Load(), lineno=320, col_offset=12), [], [], None, None, lineno=320, col_offset=12), lineno=320, col_offset=12), Assign([Name('f', Store(), lineno=322, col_offset=12)], Call(Name('open', Load(), lineno=322, col_offset=16), [Name('TESTFN', Load(), lineno=322, col_offset=21), Str('rb+', lineno=322, col_offset=29)], [], None, None, lineno=322, col_offset=16), lineno=322, col_offset=12), Assign([Name('mf', Store(), lineno=323, col_offset=12)], Call(Attribute(Name('mmap', Load(), lineno=323, col_offset=17), 'mmap', Load(), lineno=323, col_offset=17), [Call(Attribute(Name('f', Load(), lineno=323, col_offset=27), 'fileno', Load(), lineno=323, col_offset=27), [], [], None, None, lineno=323, col_offset=27), Num(0, lineno=323, col_offset=39)], [], None, None, lineno=323, col_offset=17), lineno=323, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=324, col_offset=12), 'assertEqual', Load(), lineno=324, col_offset=12), [Call(Name('len', Load(), lineno=324, col_offset=29), [Name('mf', Load(), lineno=324, col_offset=33)], [], None, None, lineno=324, col_offset=29), BinOp(Num(2, lineno=324, col_offset=38), Pow(), Num(16, lineno=324, col_offset=41), lineno=324, col_offset=38), Str('Map size should equal file size.', lineno=324, col_offset=45)], [], None, None, lineno=324, col_offset=12), lineno=324, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=325, col_offset=12), 'assertEqual', Load(), lineno=325, col_offset=12), [Call(Attribute(Name('mf', Load(), lineno=325, col_offset=29), 'read', Load(), lineno=325, col_offset=29), [BinOp(Num(2, lineno=325, col_offset=37), Pow(), Num(16, lineno=325, col_offset=40), lineno=325, col_offset=37)], [], None, None, lineno=325, col_offset=29), BinOp(BinOp(Num(2, lineno=325, col_offset=45), Pow(), Num(16, lineno=325, col_offset=48), lineno=325, col_offset=45), Mult(), Str('m', lineno=325, col_offset=53), lineno=325, col_offset=45)], [], None, None, lineno=325, col_offset=12), lineno=325, col_offset=12), Expr(Call(Attribute(Name('mf', Load(), lineno=326, col_offset=12), 'close', Load(), lineno=326, col_offset=12), [], [], None, None, lineno=326, col_offset=12), lineno=326, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=327, col_offset=12), 'close', Load(), lineno=327, col_offset=12), [], [], None, None, lineno=327, col_offset=12), lineno=327, col_offset=12)], [], lineno=316, col_offset=8)], [], lineno=314, col_offset=4), FunctionDef('test_move', arguments([Name('self', Param(), lineno=329, col_offset=18)], None, None, []), [Assign([Name('f', Store(), lineno=331, col_offset=8)], Call(Name('open', Load(), lineno=331, col_offset=12), [Name('TESTFN', Load(), lineno=331, col_offset=17), Str('w+', lineno=331, col_offset=25)], [], None, None, lineno=331, col_offset=12), lineno=331, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=333, col_offset=8), 'write', Load(), lineno=333, col_offset=8), [Str('ABCDEabcde', lineno=333, col_offset=16)], [], None, None, lineno=333, col_offset=8), lineno=333, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=334, col_offset=8), 'flush', Load(), lineno=334, col_offset=8), [], [], None, None, lineno=334, col_offset=8), lineno=334, col_offset=8), Assign([Name('mf', Store(), lineno=336, col_offset=8)], Call(Attribute(Name('mmap', Load(), lineno=336, col_offset=13), 'mmap', Load(), lineno=336, col_offset=13), [Call(Attribute(Name('f', Load(), lineno=336, col_offset=23), 'fileno', Load(), lineno=336, col_offset=23), [], [], None, None, lineno=336, col_offset=23), Num(10, lineno=336, col_offset=35)], [], None, None, lineno=336, col_offset=13), lineno=336, col_offset=8), Expr(Call(Attribute(Name('mf', Load(), lineno=337, col_offset=8), 'move', Load(), lineno=337, col_offset=8), [Num(5, lineno=337, col_offset=16), Num(0, lineno=337, col_offset=19), Num(5, lineno=337, col_offset=22)], [], None, None, lineno=337, col_offset=8), lineno=337, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=338, col_offset=8), 'assertEqual', Load(), lineno=338, col_offset=8), [Subscript(Name('mf', Load(), lineno=338, col_offset=25), Slice(None, None, None), Load(), lineno=338, col_offset=25), Str('ABCDEABCDE', lineno=338, col_offset=32), Str('Map move should have duplicated front 5', lineno=338, col_offset=46)], [], None, None, lineno=338, col_offset=8), lineno=338, col_offset=8), Expr(Call(Attribute(Name('mf', Load(), lineno=339, col_offset=8), 'close', Load(), lineno=339, col_offset=8), [], [], None, None, lineno=339, col_offset=8), lineno=339, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=340, col_offset=8), 'close', Load(), lineno=340, col_offset=8), [], [], None, None, lineno=340, col_offset=8), lineno=340, col_offset=8), Assign([Name('data', Store(), lineno=343, col_offset=8)], Str('0123456789', lineno=343, col_offset=15), lineno=343, col_offset=8), For(Name('dest', Store(), lineno=344, col_offset=12), Call(Name('range', Load(), lineno=344, col_offset=20), [Call(Name('len', Load(), lineno=344, col_offset=26), [Name('data', Load(), lineno=344, col_offset=30)], [], None, None, lineno=344, col_offset=26)], [], None, None, lineno=344, col_offset=20), [For(Name('src', Store(), lineno=345, col_offset=16), Call(Name('range', Load(), lineno=345, col_offset=23), [Call(Name('len', Load(), lineno=345, col_offset=29), [Name('data', Load(), lineno=345, col_offset=33)], [], None, None, lineno=345, col_offset=29)], [], None, None, lineno=345, col_offset=23), [For(Name('count', Store(), lineno=346, col_offset=20), Call(Name('range', Load(), lineno=346, col_offset=29), [BinOp(Call(Name('len', Load(), lineno=346, col_offset=35), [Name('data', Load(), lineno=346, col_offset=39)], [], None, None, lineno=346, col_offset=35), Sub(), Call(Name('max', Load(), lineno=346, col_offset=47), [Name('dest', Load(), lineno=346, col_offset=51), Name('src', Load(), lineno=346, col_offset=57)], [], None, None, lineno=346, col_offset=47), lineno=346, col_offset=35)], [], None, None, lineno=346, col_offset=29), [Assign([Name('expected', Store(), lineno=347, col_offset=20)], BinOp(BinOp(Subscript(Name('data', Load(), lineno=347, col_offset=31), Slice(None, Name('dest', Load(), lineno=347, col_offset=37), None), Load(), lineno=347, col_offset=31), Add(), Subscript(Name('data', Load(), lineno=347, col_offset=45), Slice(Name('src', Load(), lineno=347, col_offset=50), BinOp(Name('src', Load(), lineno=347, col_offset=54), Add(), Name('count', Load(), lineno=347, col_offset=58), lineno=347, col_offset=54), None), Load(), lineno=347, col_offset=45), lineno=347, col_offset=31), Add(), Subscript(Name('data', Load(), lineno=347, col_offset=67), Slice(BinOp(Name('dest', Load(), lineno=347, col_offset=72), Add(), Name('count', Load(), lineno=347, col_offset=77), lineno=347, col_offset=72), None, None), Load(), lineno=347, col_offset=67), lineno=347, col_offset=65), lineno=347, col_offset=20), Assign([Name('m', Store(), lineno=348, col_offset=20)], Call(Attribute(Name('mmap', Load(), lineno=348, col_offset=24), 'mmap', Load(), lineno=348, col_offset=24), [Num(-1, lineno=348, col_offset=35), Call(Name('len', Load(), lineno=348, col_offset=38), [Name('data', Load(), lineno=348, col_offset=42)], [], None, None, lineno=348, col_offset=38)], [], None, None, lineno=348, col_offset=24), lineno=348, col_offset=20), Assign([Subscript(Name('m', Load(), lineno=349, col_offset=20), Slice(None, None, None), Store(), lineno=349, col_offset=20)], Name('data', Load(), lineno=349, col_offset=27), lineno=349, col_offset=20), Expr(Call(Attribute(Name('m', Load(), lineno=350, col_offset=20), 'move', Load(), lineno=350, col_offset=20), [Name('dest', Load(), lineno=350, col_offset=27), Name('src', Load(), lineno=350, col_offset=33), Name('count', Load(), lineno=350, col_offset=38)], [], None, None, lineno=350, col_offset=20), lineno=350, col_offset=20), Expr(Call(Attribute(Name('self', Load(), lineno=351, col_offset=20), 'assertEqual', Load(), lineno=351, col_offset=20), [Subscript(Name('m', Load(), lineno=351, col_offset=37), Slice(None, None, None), Load(), lineno=351, col_offset=37), Name('expected', Load(), lineno=351, col_offset=43)], [], None, None, lineno=351, col_offset=20), lineno=351, col_offset=20), Expr(Call(Attribute(Name('m', Load(), lineno=352, col_offset=20), 'close', Load(), lineno=352, col_offset=20), [], [], None, None, lineno=352, col_offset=20), lineno=352, col_offset=20)], [], lineno=346, col_offset=16)], [], lineno=345, col_offset=12)], [], lineno=344, col_offset=8), Assign([Name('m', Store(), lineno=355, col_offset=8)], Call(Attribute(Name('mmap', Load(), lineno=355, col_offset=12), 'mmap', Load(), lineno=355, col_offset=12), [Num(-1, lineno=355, col_offset=23), Num(100, lineno=355, col_offset=26)], [], None, None, lineno=355, col_offset=12), lineno=355, col_offset=8), Assign([Name('offsets', Store(), lineno=356, col_offset=8)], List([Num(-100, lineno=356, col_offset=20), Num(-1, lineno=356, col_offset=26), Num(0, lineno=356, col_offset=29), Num(1, lineno=356, col_offset=32), Num(100, lineno=356, col_offset=35)], Load(), lineno=356, col_offset=18), lineno=356, col_offset=8), For(Tuple([Name('source', Store(), lineno=357, col_offset=12), Name('dest', Store(), lineno=357, col_offset=20), Name('size', Store(), lineno=357, col_offset=26)], Store(), lineno=357, col_offset=12), Call(Attribute(Name('itertools', Load(), lineno=357, col_offset=34), 'product', Load(), lineno=357, col_offset=34), [Name('offsets', Load(), lineno=357, col_offset=52), Name('offsets', Load(), lineno=357, col_offset=61), Name('offsets', Load(), lineno=357, col_offset=70)], [], None, None, lineno=357, col_offset=34), [TryExcept([Expr(Call(Attribute(Name('m', Load(), lineno=359, col_offset=16), 'move', Load(), lineno=359, col_offset=16), [Name('source', Load(), lineno=359, col_offset=23), Name('dest', Load(), lineno=359, col_offset=31), Name('size', Load(), lineno=359, col_offset=37)], [], None, None, lineno=359, col_offset=16), lineno=359, col_offset=16)], [ExceptHandler(Name('ValueError', Load(), lineno=360, col_offset=19), None, [Pass( lineno=361, col_offset=16)], lineno=360, col_offset=12)], [], lineno=358, col_offset=12)], [], lineno=357, col_offset=8), Assign([Name('offsets', Store(), lineno=363, col_offset=8)], List([Tuple([Num(-1, lineno=363, col_offset=21), Num(-1, lineno=363, col_offset=25), Num(-1, lineno=363, col_offset=29)], Load(), lineno=363, col_offset=20), Tuple([Num(-1, lineno=363, col_offset=35), Num(-1, lineno=363, col_offset=39), Num(0, lineno=363, col_offset=42)], Load(), lineno=363, col_offset=34), Tuple([Num(-1, lineno=363, col_offset=48), Num(0, lineno=363, col_offset=51), Num(-1, lineno=363, col_offset=55)], Load(), lineno=363, col_offset=47), Tuple([Num(0, lineno=363, col_offset=60), Num(-1, lineno=363, col_offset=64), Num(-1, lineno=363, col_offset=68)], Load(), lineno=363, col_offset=60), Tuple([Num(-1, lineno=364, col_offset=21), Num(0, lineno=364, col_offset=24), Num(0, lineno=364, col_offset=27)], Load(), lineno=364, col_offset=20), Tuple([Num(0, lineno=364, col_offset=32), Num(-1, lineno=364, col_offset=36), Num(0, lineno=364, col_offset=39)], Load(), lineno=364, col_offset=32), Tuple([Num(0, lineno=364, col_offset=44), Num(0, lineno=364, col_offset=47), Num(-1, lineno=364, col_offset=51)], Load(), lineno=364, col_offset=44)], Load(), lineno=363, col_offset=18), lineno=363, col_offset=8), For(Tuple([Name('source', Store(), lineno=365, col_offset=12), Name('dest', Store(), lineno=365, col_offset=20), Name('size', Store(), lineno=365, col_offset=26)], Store(), lineno=365, col_offset=12), Name('offsets', Load(), lineno=365, col_offset=34), [Expr(Call(Attribute(Name('self', Load(), lineno=366, col_offset=12), 'assertRaises', Load(), lineno=366, col_offset=12), [Name('ValueError', Load(), lineno=366, col_offset=30), Attribute(Name('m', Load(), lineno=366, col_offset=42), 'move', Load(), lineno=366, col_offset=42), Name('source', Load(), lineno=366, col_offset=50), Name('dest', Load(), lineno=366, col_offset=58), Name('size', Load(), lineno=366, col_offset=64)], [], None, None, lineno=366, col_offset=12), lineno=366, col_offset=12)], [], lineno=365, col_offset=8), Expr(Call(Attribute(Name('m', Load(), lineno=368, col_offset=8), 'close', Load(), lineno=368, col_offset=8), [], [], None, None, lineno=368, col_offset=8), lineno=368, col_offset=8), Assign([Name('m', Store(), lineno=370, col_offset=8)], Call(Attribute(Name('mmap', Load(), lineno=370, col_offset=12), 'mmap', Load(), lineno=370, col_offset=12), [Num(-1, lineno=370, col_offset=23), Num(1, lineno=370, col_offset=26)], [], None, None, lineno=370, col_offset=12), lineno=370, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=371, col_offset=8), 'assertRaises', Load(), lineno=371, col_offset=8), [Name('ValueError', Load(), lineno=371, col_offset=26), Attribute(Name('m', Load(), lineno=371, col_offset=38), 'move', Load(), lineno=371, col_offset=38), Num(0, lineno=371, col_offset=46), Num(0, lineno=371, col_offset=49), Num(2, lineno=371, col_offset=52)], [], None, None, lineno=371, col_offset=8), lineno=371, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=372, col_offset=8), 'assertRaises', Load(), lineno=372, col_offset=8), [Name('ValueError', Load(), lineno=372, col_offset=26), Attribute(Name('m', Load(), lineno=372, col_offset=38), 'move', Load(), lineno=372, col_offset=38), Num(1, lineno=372, col_offset=46), Num(0, lineno=372, col_offset=49), Num(1, lineno=372, col_offset=52)], [], None, None, lineno=372, col_offset=8), lineno=372, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=373, col_offset=8), 'assertRaises', Load(), lineno=373, col_offset=8), [Name('ValueError', Load(), lineno=373, col_offset=26), Attribute(Name('m', Load(), lineno=373, col_offset=38), 'move', Load(), lineno=373, col_offset=38), Num(0, lineno=373, col_offset=46), Num(1, lineno=373, col_offset=49), Num(1, lineno=373, col_offset=52)], [], None, None, lineno=373, col_offset=8), lineno=373, col_offset=8), Expr(Call(Attribute(Name('m', Load(), lineno=374, col_offset=8), 'move', Load(), lineno=374, col_offset=8), [Num(0, lineno=374, col_offset=15), Num(0, lineno=374, col_offset=18), Num(1, lineno=374, col_offset=21)], [], None, None, lineno=374, col_offset=8), lineno=374, col_offset=8), Expr(Call(Attribute(Name('m', Load(), lineno=375, col_offset=8), 'move', Load(), lineno=375, col_offset=8), [Num(0, lineno=375, col_offset=15), Num(0, lineno=375, col_offset=18), Num(0, lineno=375, col_offset=21)], [], None, None, lineno=375, col_offset=8), lineno=375, col_offset=8)], [], lineno=329, col_offset=4), FunctionDef('test_anonymous', arguments([Name('self', Param(), lineno=378, col_offset=23)], None, None, []), [Assign([Name('m', Store(), lineno=380, col_offset=8)], Call(Attribute(Name('mmap', Load(), lineno=380, col_offset=12), 'mmap', Load(), lineno=380, col_offset=12), [Num(-1, lineno=380, col_offset=23), Name('PAGESIZE', Load(), lineno=380, col_offset=26)], [], None, None, lineno=380, col_offset=12), lineno=380, col_offset=8), For(Name('x', Store(), lineno=381, col_offset=12), Call(Name('xrange', Load(), lineno=381, col_offset=17), [Name('PAGESIZE', Load(), lineno=381, col_offset=24)], [], None, None, lineno=381, col_offset=17), [Expr(Call(Attribute(Name('self', Load(), lineno=382, col_offset=12), 'assertEqual', Load(), lineno=382, col_offset=12), [Subscript(Name('m', Load(), lineno=382, col_offset=29), Index(Name('x', Load(), lineno=382, col_offset=31)), Load(), lineno=382, col_offset=29), Str('\x00', lineno=382, col_offset=35), Str("anonymously mmap'ed contents should be zero", lineno=382, col_offset=41)], [], None, None, lineno=382, col_offset=12), lineno=382, col_offset=12)], [], lineno=381, col_offset=8), For(Name('x', Store(), lineno=384, col_offset=12), Call(Name('xrange', Load(), lineno=384, col_offset=17), [Name('PAGESIZE', Load(), lineno=384, col_offset=24)], [], None, None, lineno=384, col_offset=17), [Assign([Subscript(Name('m', Load(), lineno=385, col_offset=12), Index(Name('x', Load(), lineno=385, col_offset=14)), Store(), lineno=385, col_offset=12), Name('ch', Store(), lineno=385, col_offset=19)], Call(Name('chr', Load(), lineno=385, col_offset=24), [BinOp(Name('x', Load(), lineno=385, col_offset=28), BitAnd(), Num(255, lineno=385, col_offset=32), lineno=385, col_offset=28)], [], None, None, lineno=385, col_offset=24), lineno=385, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=386, col_offset=12), 'assertEqual', Load(), lineno=386, col_offset=12), [Subscript(Name('m', Load(), lineno=386, col_offset=29), Index(Name('x', Load(), lineno=386, col_offset=31)), Load(), lineno=386, col_offset=29), Name('ch', Load(), lineno=386, col_offset=35)], [], None, None, lineno=386, col_offset=12), lineno=386, col_offset=12)], [], lineno=384, col_offset=8)], [], lineno=378, col_offset=4), FunctionDef('test_extended_getslice', arguments([Name('self', Param(), lineno=388, col_offset=31)], None, None, []), [Assign([Name('s', Store(), lineno=390, col_offset=8)], Call(Attribute(Str('', lineno=390, col_offset=12), 'join', Load(), lineno=390, col_offset=12), [GeneratorExp(Call(Name('chr', Load(), lineno=390, col_offset=20), [Name('c', Load(), lineno=390, col_offset=24)], [], None, None, lineno=390, col_offset=20), [comprehension(Name('c', Store(), lineno=390, col_offset=31), Call(Name('reversed', Load(), lineno=390, col_offset=36), [Call(Name('range', Load(), lineno=390, col_offset=45), [Num(256, lineno=390, col_offset=51)], [], None, None, lineno=390, col_offset=45)], [], None, None, lineno=390, col_offset=36), [])], lineno=390, col_offset=20)], [], None, None, lineno=390, col_offset=12), lineno=390, col_offset=8), Assign([Name('m', Store(), lineno=391, col_offset=8)], Call(Attribute(Name('mmap', Load(), lineno=391, col_offset=12), 'mmap', Load(), lineno=391, col_offset=12), [Num(-1, lineno=391, col_offset=23), Call(Name('len', Load(), lineno=391, col_offset=26), [Name('s', Load(), lineno=391, col_offset=30)], [], None, None, lineno=391, col_offset=26)], [], None, None, lineno=391, col_offset=12), lineno=391, col_offset=8), Assign([Subscript(Name('m', Load(), lineno=392, col_offset=8), Slice(None, None, None), Store(), lineno=392, col_offset=8)], Name('s', Load(), lineno=392, col_offset=15), lineno=392, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=393, col_offset=8), 'assertEqual', Load(), lineno=393, col_offset=8), [Subscript(Name('m', Load(), lineno=393, col_offset=25), Slice(None, None, None), Load(), lineno=393, col_offset=25), Name('s', Load(), lineno=393, col_offset=31)], [], None, None, lineno=393, col_offset=8), lineno=393, col_offset=8), Assign([Name('indices', Store(), lineno=394, col_offset=8)], Tuple([Num(0, lineno=394, col_offset=19), Name('None', Load(), lineno=394, col_offset=22), Num(1, lineno=394, col_offset=28), Num(3, lineno=394, col_offset=31), Num(19, lineno=394, col_offset=34), Num(300, lineno=394, col_offset=38), Num(-1, lineno=394, col_offset=44), Num(-2, lineno=394, col_offset=48), Num(-31, lineno=394, col_offset=52), Num(-300, lineno=394, col_offset=57)], Load(), lineno=394, col_offset=19), lineno=394, col_offset=8), For(Name('start', Store(), lineno=395, col_offset=12), Name('indices', Load(), lineno=395, col_offset=21), [For(Name('stop', Store(), lineno=396, col_offset=16), Name('indices', Load(), lineno=396, col_offset=24), [For(Name('step', Store(), lineno=398, col_offset=20), Subscript(Name('indices', Load(), lineno=398, col_offset=28), Slice(Num(1, lineno=398, col_offset=36), None, None), Load(), lineno=398, col_offset=28), [Expr(Call(Attribute(Name('self', Load(), lineno=399, col_offset=20), 'assertEqual', Load(), lineno=399, col_offset=20), [Subscript(Name('m', Load(), lineno=399, col_offset=37), Slice(Name('start', Load(), lineno=399, col_offset=39), Name('stop', Load(), lineno=399, col_offset=45), Name('step', Load(), lineno=399, col_offset=50)), Load(), lineno=399, col_offset=37), Subscript(Name('s', Load(), lineno=400, col_offset=37), Slice(Name('start', Load(), lineno=400, col_offset=39), Name('stop', Load(), lineno=400, col_offset=45), Name('step', Load(), lineno=400, col_offset=50)), Load(), lineno=400, col_offset=37)], [], None, None, lineno=399, col_offset=20), lineno=399, col_offset=20)], [], lineno=398, col_offset=16)], [], lineno=396, col_offset=12)], [], lineno=395, col_offset=8)], [], lineno=388, col_offset=4), FunctionDef('test_extended_set_del_slice', arguments([Name('self', Param(), lineno=402, col_offset=36)], None, None, []), [Assign([Name('s', Store(), lineno=404, col_offset=8)], Call(Attribute(Str('', lineno=404, col_offset=12), 'join', Load(), lineno=404, col_offset=12), [GeneratorExp(Call(Name('chr', Load(), lineno=404, col_offset=20), [Name('c', Load(), lineno=404, col_offset=24)], [], None, None, lineno=404, col_offset=20), [comprehension(Name('c', Store(), lineno=404, col_offset=31), Call(Name('reversed', Load(), lineno=404, col_offset=36), [Call(Name('range', Load(), lineno=404, col_offset=45), [Num(256, lineno=404, col_offset=51)], [], None, None, lineno=404, col_offset=45)], [], None, None, lineno=404, col_offset=36), [])], lineno=404, col_offset=20)], [], None, None, lineno=404, col_offset=12), lineno=404, col_offset=8), Assign([Name('m', Store(), lineno=405, col_offset=8)], Call(Attribute(Name('mmap', Load(), lineno=405, col_offset=12), 'mmap', Load(), lineno=405, col_offset=12), [Num(-1, lineno=405, col_offset=23), Call(Name('len', Load(), lineno=405, col_offset=26), [Name('s', Load(), lineno=405, col_offset=30)], [], None, None, lineno=405, col_offset=26)], [], None, None, lineno=405, col_offset=12), lineno=405, col_offset=8), Assign([Name('indices', Store(), lineno=406, col_offset=8)], Tuple([Num(0, lineno=406, col_offset=19), Name('None', Load(), lineno=406, col_offset=22), Num(1, lineno=406, col_offset=28), Num(3, lineno=406, col_offset=31), Num(19, lineno=406, col_offset=34), Num(300, lineno=406, col_offset=38), Num(-1, lineno=406, col_offset=44), Num(-2, lineno=406, col_offset=48), Num(-31, lineno=406, col_offset=52), Num(-300, lineno=406, col_offset=57)], Load(), lineno=406, col_offset=19), lineno=406, col_offset=8), For(Name('start', Store(), lineno=407, col_offset=12), Name('indices', Load(), lineno=407, col_offset=21), [For(Name('stop', Store(), lineno=408, col_offset=16), Name('indices', Load(), lineno=408, col_offset=24), [For(Name('step', Store(), lineno=410, col_offset=20), Subscript(Name('indices', Load(), lineno=410, col_offset=28), Slice(Num(1, lineno=410, col_offset=36), None, None), Load(), lineno=410, col_offset=28), [Assign([Subscript(Name('m', Load(), lineno=411, col_offset=20), Slice(None, None, None), Store(), lineno=411, col_offset=20)], Name('s', Load(), lineno=411, col_offset=27), lineno=411, col_offset=20), Expr(Call(Attribute(Name('self', Load(), lineno=412, col_offset=20), 'assertEqual', Load(), lineno=412, col_offset=20), [Subscript(Name('m', Load(), lineno=412, col_offset=37), Slice(None, None, None), Load(), lineno=412, col_offset=37), Name('s', Load(), lineno=412, col_offset=43)], [], None, None, lineno=412, col_offset=20), lineno=412, col_offset=20), Assign([Name('L', Store(), lineno=413, col_offset=20)], Call(Name('list', Load(), lineno=413, col_offset=24), [Name('s', Load(), lineno=413, col_offset=29)], [], None, None, lineno=413, col_offset=24), lineno=413, col_offset=20), Assign([Name('data', Store(), lineno=416, col_offset=20)], Subscript(Name('L', Load(), lineno=416, col_offset=27), Slice(Name('start', Load(), lineno=416, col_offset=29), Name('stop', Load(), lineno=416, col_offset=35), Name('step', Load(), lineno=416, col_offset=40)), Load(), lineno=416, col_offset=27), lineno=416, col_offset=20), Assign([Name('data', Store(), lineno=417, col_offset=20)], Call(Attribute(Str('', lineno=417, col_offset=27), 'join', Load(), lineno=417, col_offset=27), [Call(Name('reversed', Load(), lineno=417, col_offset=35), [Name('data', Load(), lineno=417, col_offset=44)], [], None, None, lineno=417, col_offset=35)], [], None, None, lineno=417, col_offset=27), lineno=417, col_offset=20), Assign([Subscript(Name('L', Load(), lineno=418, col_offset=20), Slice(Name('start', Load(), lineno=418, col_offset=22), Name('stop', Load(), lineno=418, col_offset=28), Name('step', Load(), lineno=418, col_offset=33)), Store(), lineno=418, col_offset=20)], Name('data', Load(), lineno=418, col_offset=41), lineno=418, col_offset=20), Assign([Subscript(Name('m', Load(), lineno=419, col_offset=20), Slice(Name('start', Load(), lineno=419, col_offset=22), Name('stop', Load(), lineno=419, col_offset=28), Name('step', Load(), lineno=419, col_offset=33)), Store(), lineno=419, col_offset=20)], Name('data', Load(), lineno=419, col_offset=41), lineno=419, col_offset=20), Expr(Call(Attribute(Name('self', Load(), lineno=420, col_offset=20), 'assertEqual', Load(), lineno=420, col_offset=20), [Subscript(Name('m', Load(), lineno=420, col_offset=37), Slice(None, None, None), Load(), lineno=420, col_offset=37), Call(Attribute(Str('', lineno=420, col_offset=43), 'join', Load(), lineno=420, col_offset=43), [Name('L', Load(), lineno=420, col_offset=51)], [], None, None, lineno=420, col_offset=43)], [], None, None, lineno=420, col_offset=20), lineno=420, col_offset=20)], [], lineno=410, col_offset=16)], [], lineno=408, col_offset=12)], [], lineno=407, col_offset=8)], [], lineno=402, col_offset=4), FunctionDef('make_mmap_file', arguments([Name('self', Param(), lineno=422, col_offset=24), Name('f', Param(), lineno=422, col_offset=30), Name('halfsize', Param(), lineno=422, col_offset=33)], None, None, []), [Expr(Call(Attribute(Name('f', Load(), lineno=424, col_offset=8), 'write', Load(), lineno=424, col_offset=8), [BinOp(Str('\x00', lineno=424, col_offset=17), Mult(), Name('halfsize', Load(), lineno=424, col_offset=24), lineno=424, col_offset=17)], [], None, None, lineno=424, col_offset=8), lineno=424, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=425, col_offset=8), 'write', Load(), lineno=425, col_offset=8), [Str('foo', lineno=425, col_offset=17)], [], None, None, lineno=425, col_offset=8), lineno=425, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=426, col_offset=8), 'write', Load(), lineno=426, col_offset=8), [BinOp(Str('\x00', lineno=426, col_offset=17), Mult(), BinOp(Name('halfsize', Load(), lineno=426, col_offset=25), Sub(), Num(3, lineno=426, col_offset=36), lineno=426, col_offset=25), lineno=426, col_offset=17)], [], None, None, lineno=426, col_offset=8), lineno=426, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=427, col_offset=8), 'flush', Load(), lineno=427, col_offset=8), [], [], None, None, lineno=427, col_offset=8), lineno=427, col_offset=8), Return(Call(Attribute(Name('mmap', Load(), lineno=428, col_offset=15), 'mmap', Load(), lineno=428, col_offset=15), [Call(Attribute(Name('f', Load(), lineno=428, col_offset=26), 'fileno', Load(), lineno=428, col_offset=26), [], [], None, None, lineno=428, col_offset=26), Num(0, lineno=428, col_offset=38)], [], None, None, lineno=428, col_offset=15), lineno=428, col_offset=8)], [], lineno=422, col_offset=4), FunctionDef('test_offset', arguments([Name('self', Param(), lineno=430, col_offset=21)], None, None, []), [Assign([Name('f', Store(), lineno=431, col_offset=8)], Call(Name('open', Load(), lineno=431, col_offset=12), [Name('TESTFN', Load(), lineno=431, col_offset=18), Str('w+b', lineno=431, col_offset=26)], [], None, None, lineno=431, col_offset=12), lineno=431, col_offset=8), TryFinally([Assign([Name('halfsize', Store(), lineno=434, col_offset=12)], Attribute(Name('mmap', Load(), lineno=434, col_offset=23), 'ALLOCATIONGRANULARITY', Load(), lineno=434, col_offset=23), lineno=434, col_offset=12), Assign([Name('m', Store(), lineno=435, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=435, col_offset=16), 'make_mmap_file', Load(), lineno=435, col_offset=16), [Name('f', Load(), lineno=435, col_offset=37), Name('halfsize', Load(), lineno=435, col_offset=40)], [], None, None, lineno=435, col_offset=16), lineno=435, col_offset=12), Expr(Call(Attribute(Name('m', Load(), lineno=436, col_offset=12), 'close', Load(), lineno=436, col_offset=12), [], [], None, None, lineno=436, col_offset=12), lineno=436, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=437, col_offset=12), 'close', Load(), lineno=437, col_offset=12), [], [], None, None, lineno=437, col_offset=12), lineno=437, col_offset=12), Assign([Name('mapsize', Store(), lineno=439, col_offset=12)], BinOp(Name('halfsize', Load(), lineno=439, col_offset=22), Mult(), Num(2, lineno=439, col_offset=33), lineno=439, col_offset=22), lineno=439, col_offset=12), Assign([Name('f', Store(), lineno=441, col_offset=12)], Call(Name('open', Load(), lineno=441, col_offset=16), [Name('TESTFN', Load(), lineno=441, col_offset=21), Str('r+b', lineno=441, col_offset=29)], [], None, None, lineno=441, col_offset=16), lineno=441, col_offset=12), For(Name('offset', Store(), lineno=442, col_offset=16), List([Num(-2, lineno=442, col_offset=28), Num(-1, lineno=442, col_offset=32), Name('None', Load(), lineno=442, col_offset=35)], Load(), lineno=442, col_offset=26), [TryExcept([Assign([Name('m', Store(), lineno=444, col_offset=20)], Call(Attribute(Name('mmap', Load(), lineno=444, col_offset=24), 'mmap', Load(), lineno=444, col_offset=24), [Call(Attribute(Name('f', Load(), lineno=444, col_offset=34), 'fileno', Load(), lineno=444, col_offset=34), [], [], None, None, lineno=444, col_offset=34), Name('mapsize', Load(), lineno=444, col_offset=46)], [keyword('offset', Name('offset', Load(), lineno=444, col_offset=62))], None, None, lineno=444, col_offset=24), lineno=444, col_offset=20), Expr(Call(Attribute(Name('self', Load(), lineno=445, col_offset=20), 'assertEqual', Load(), lineno=445, col_offset=20), [Num(0, lineno=445, col_offset=37), Num(1, lineno=445, col_offset=40)], [], None, None, lineno=445, col_offset=20), lineno=445, col_offset=20)], [ExceptHandler(Tuple([Name('ValueError', Load(), lineno=446, col_offset=24), Name('TypeError', Load(), lineno=446, col_offset=36), Name('OverflowError', Load(), lineno=446, col_offset=47)], Load(), lineno=446, col_offset=24), None, [Pass( lineno=447, col_offset=20)], lineno=446, col_offset=16)], [Expr(Call(Attribute(Name('self', Load(), lineno=449, col_offset=20), 'assertEqual', Load(), lineno=449, col_offset=20), [Num(0, lineno=449, col_offset=37), Num(0, lineno=449, col_offset=40)], [], None, None, lineno=449, col_offset=20), lineno=449, col_offset=20)], lineno=443, col_offset=16)], [], lineno=442, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=450, col_offset=12), 'close', Load(), lineno=450, col_offset=12), [], [], None, None, lineno=450, col_offset=12), lineno=450, col_offset=12), Assign([Name('f', Store(), lineno=453, col_offset=12)], Call(Name('open', Load(), lineno=453, col_offset=16), [Name('TESTFN', Load(), lineno=453, col_offset=21), Str('r+b', lineno=453, col_offset=29)], [], None, None, lineno=453, col_offset=16), lineno=453, col_offset=12), Assign([Name('m', Store(), lineno=454, col_offset=12)], Call(Attribute(Name('mmap', Load(), lineno=454, col_offset=16), 'mmap', Load(), lineno=454, col_offset=16), [Call(Attribute(Name('f', Load(), lineno=454, col_offset=26), 'fileno', Load(), lineno=454, col_offset=26), [], [], None, None, lineno=454, col_offset=26), BinOp(Name('mapsize', Load(), lineno=454, col_offset=38), Sub(), Name('halfsize', Load(), lineno=454, col_offset=48), lineno=454, col_offset=38)], [keyword('offset', Name('halfsize', Load(), lineno=454, col_offset=65))], None, None, lineno=454, col_offset=16), lineno=454, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=455, col_offset=12), 'assertEqual', Load(), lineno=455, col_offset=12), [Subscript(Name('m', Load(), lineno=455, col_offset=29), Slice(Num(0, lineno=455, col_offset=31), Num(3, lineno=455, col_offset=33), None), Load(), lineno=455, col_offset=29), Str('foo', lineno=455, col_offset=37)], [], None, None, lineno=455, col_offset=12), lineno=455, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=456, col_offset=12), 'close', Load(), lineno=456, col_offset=12), [], [], None, None, lineno=456, col_offset=12), lineno=456, col_offset=12), TryExcept([Expr(Call(Attribute(Name('m', Load(), lineno=460, col_offset=16), 'resize', Load(), lineno=460, col_offset=16), [Num(512, lineno=460, col_offset=25)], [], None, None, lineno=460, col_offset=16), lineno=460, col_offset=16)], [ExceptHandler(Name('SystemError', Load(), lineno=461, col_offset=19), None, [Pass( lineno=462, col_offset=16)], lineno=461, col_offset=12)], [Expr(Call(Attribute(Name('self', Load(), lineno=465, col_offset=16), 'assertEqual', Load(), lineno=465, col_offset=16), [Call(Name('len', Load(), lineno=465, col_offset=33), [Name('m', Load(), lineno=465, col_offset=37)], [], None, None, lineno=465, col_offset=33), Num(512, lineno=465, col_offset=41)], [], None, None, lineno=465, col_offset=16), lineno=465, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=467, col_offset=16), 'assertRaises', Load(), lineno=467, col_offset=16), [Name('ValueError', Load(), lineno=467, col_offset=34), Attribute(Name('m', Load(), lineno=467, col_offset=46), 'seek', Load(), lineno=467, col_offset=46), Num(513, lineno=467, col_offset=54), Num(0, lineno=467, col_offset=59)], [], None, None, lineno=467, col_offset=16), lineno=467, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=469, col_offset=16), 'assertEqual', Load(), lineno=469, col_offset=16), [Subscript(Name('m', Load(), lineno=469, col_offset=33), Slice(Num(0, lineno=469, col_offset=35), Num(3, lineno=469, col_offset=37), None), Load(), lineno=469, col_offset=33), Str('foo', lineno=469, col_offset=41)], [], None, None, lineno=469, col_offset=16), lineno=469, col_offset=16), Assign([Name('f', Store(), lineno=472, col_offset=16)], Call(Name('open', Load(), lineno=472, col_offset=20), [Name('TESTFN', Load(), lineno=472, col_offset=25)], [], None, None, lineno=472, col_offset=20), lineno=472, col_offset=16), Expr(Call(Attribute(Name('f', Load(), lineno=473, col_offset=16), 'seek', Load(), lineno=473, col_offset=16), [Num(0, lineno=473, col_offset=23), Num(2, lineno=473, col_offset=26)], [], None, None, lineno=473, col_offset=16), lineno=473, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=474, col_offset=16), 'assertEqual', Load(), lineno=474, col_offset=16), [Call(Attribute(Name('f', Load(), lineno=474, col_offset=33), 'tell', Load(), lineno=474, col_offset=33), [], [], None, None, lineno=474, col_offset=33), BinOp(Name('halfsize', Load(), lineno=474, col_offset=43), Add(), Num(512, lineno=474, col_offset=54), lineno=474, col_offset=43)], [], None, None, lineno=474, col_offset=16), lineno=474, col_offset=16), Expr(Call(Attribute(Name('f', Load(), lineno=475, col_offset=16), 'close', Load(), lineno=475, col_offset=16), [], [], None, None, lineno=475, col_offset=16), lineno=475, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=476, col_offset=16), 'assertEqual', Load(), lineno=476, col_offset=16), [Call(Attribute(Name('m', Load(), lineno=476, col_offset=33), 'size', Load(), lineno=476, col_offset=33), [], [], None, None, lineno=476, col_offset=33), BinOp(Name('halfsize', Load(), lineno=476, col_offset=43), Add(), Num(512, lineno=476, col_offset=54), lineno=476, col_offset=43)], [], None, None, lineno=476, col_offset=16), lineno=476, col_offset=16)], lineno=459, col_offset=12), Expr(Call(Attribute(Name('m', Load(), lineno=478, col_offset=12), 'close', Load(), lineno=478, col_offset=12), [], [], None, None, lineno=478, col_offset=12), lineno=478, col_offset=12)], [Expr(Call(Attribute(Name('f', Load(), lineno=481, col_offset=12), 'close', Load(), lineno=481, col_offset=12), [], [], None, None, lineno=481, col_offset=12), lineno=481, col_offset=12), TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=483, col_offset=16), 'unlink', Load(), lineno=483, col_offset=16), [Name('TESTFN', Load(), lineno=483, col_offset=26)], [], None, None, lineno=483, col_offset=16), lineno=483, col_offset=16)], [ExceptHandler(Name('OSError', Load(), lineno=484, col_offset=19), None, [Pass( lineno=485, col_offset=16)], lineno=484, col_offset=12)], [], lineno=482, col_offset=12)], lineno=433, col_offset=8)], [], lineno=430, col_offset=4), FunctionDef('test_subclass', arguments([Name('self', Param(), lineno=487, col_offset=22)], None, None, []), [ClassDef('anon_mmap', [Attribute(Name('mmap', Load(), lineno=488, col_offset=24), 'mmap', Load(), lineno=488, col_offset=24)], [FunctionDef('__new__', arguments([Name('klass', Param(), lineno=489, col_offset=24)], 'args', 'kwargs', []), [Return(Call(Attribute(Attribute(Name('mmap', Load(), lineno=490, col_offset=23), 'mmap', Load(), lineno=490, col_offset=23), '__new__', Load(), lineno=490, col_offset=23), [Name('klass', Load(), lineno=490, col_offset=41), Num(-1, lineno=490, col_offset=49)], [], Name('args', Load(), lineno=490, col_offset=53), Name('kwargs', Load(), lineno=490, col_offset=61), lineno=490, col_offset=23), lineno=490, col_offset=16)], [], lineno=489, col_offset=12)], [], lineno=488, col_offset=8), Expr(Call(Name('anon_mmap', Load(), lineno=491, col_offset=8), [Name('PAGESIZE', Load(), lineno=491, col_offset=18)], [], None, None, lineno=491, col_offset=8), lineno=491, col_offset=8)], [], lineno=487, col_offset=4), FunctionDef('test_prot_readonly', arguments([Name('self', Param(), lineno=493, col_offset=27)], None, None, []), [If(UnaryOp(Not(), Call(Name('hasattr', Load(), lineno=494, col_offset=15), [Name('mmap', Load(), lineno=494, col_offset=23), Str('PROT_READ', lineno=494, col_offset=29)], [], None, None, lineno=494, col_offset=15), lineno=494, col_offset=11), [Return(None, lineno=495, col_offset=12)], [], lineno=494, col_offset=8), Assign([Name('mapsize', Store(), lineno=496, col_offset=8)], Num(10, lineno=496, col_offset=18), lineno=496, col_offset=8), Expr(Call(Attribute(Call(Name('open', Load(), lineno=497, col_offset=8), [Name('TESTFN', Load(), lineno=497, col_offset=13), Str('wb', lineno=497, col_offset=21)], [], None, None, lineno=497, col_offset=8), 'write', Load(), lineno=497, col_offset=8), [BinOp(Str('a', lineno=497, col_offset=33), Mult(), Name('mapsize', Load(), lineno=497, col_offset=37), lineno=497, col_offset=33)], [], None, None, lineno=497, col_offset=8), lineno=497, col_offset=8), Assign([Name('f', Store(), lineno=498, col_offset=8)], Call(Name('open', Load(), lineno=498, col_offset=12), [Name('TESTFN', Load(), lineno=498, col_offset=17), Str('rb', lineno=498, col_offset=25)], [], None, None, lineno=498, col_offset=12), lineno=498, col_offset=8), Assign([Name('m', Store(), lineno=499, col_offset=8)], Call(Attribute(Name('mmap', Load(), lineno=499, col_offset=12), 'mmap', Load(), lineno=499, col_offset=12), [Call(Attribute(Name('f', Load(), lineno=499, col_offset=22), 'fileno', Load(), lineno=499, col_offset=22), [], [], None, None, lineno=499, col_offset=22), Name('mapsize', Load(), lineno=499, col_offset=34)], [keyword('prot', Attribute(Name('mmap', Load(), lineno=499, col_offset=48), 'PROT_READ', Load(), lineno=499, col_offset=48))], None, None, lineno=499, col_offset=12), lineno=499, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=500, col_offset=8), 'assertRaises', Load(), lineno=500, col_offset=8), [Name('TypeError', Load(), lineno=500, col_offset=26), Attribute(Name('m', Load(), lineno=500, col_offset=37), 'write', Load(), lineno=500, col_offset=37), Str('foo', lineno=500, col_offset=46)], [], None, None, lineno=500, col_offset=8), lineno=500, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=501, col_offset=8), 'close', Load(), lineno=501, col_offset=8), [], [], None, None, lineno=501, col_offset=8), lineno=501, col_offset=8)], [], lineno=493, col_offset=4), FunctionDef('test_error', arguments([Name('self', Param(), lineno=503, col_offset=19)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=504, col_offset=8), 'assertTrue', Load(), lineno=504, col_offset=8), [Call(Name('issubclass', Load(), lineno=504, col_offset=24), [Attribute(Name('mmap', Load(), lineno=504, col_offset=35), 'error', Load(), lineno=504, col_offset=35), Name('EnvironmentError', Load(), lineno=504, col_offset=47)], [], None, None, lineno=504, col_offset=24)], [], None, None, lineno=504, col_offset=8), lineno=504, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=505, col_offset=8), 'assertIn', Load(), lineno=505, col_offset=8), [Str('mmap.error', lineno=505, col_offset=22), Call(Name('str', Load(), lineno=505, col_offset=36), [Attribute(Name('mmap', Load(), lineno=505, col_offset=40), 'error', Load(), lineno=505, col_offset=40)], [], None, None, lineno=505, col_offset=36)], [], None, None, lineno=505, col_offset=8), lineno=505, col_offset=8)], [], lineno=503, col_offset=4), FunctionDef('test_io_methods', arguments([Name('self', Param(), lineno=507, col_offset=24)], None, None, []), [Assign([Name('data', Store(), lineno=508, col_offset=8)], Str('0123456789', lineno=508, col_offset=15), lineno=508, col_offset=8), Expr(Call(Attribute(Call(Name('open', Load(), lineno=509, col_offset=8), [Name('TESTFN', Load(), lineno=509, col_offset=13), Str('wb', lineno=509, col_offset=21)], [], None, None, lineno=509, col_offset=8), 'write', Load(), lineno=509, col_offset=8), [BinOp(Str('x', lineno=509, col_offset=33), Mult(), Call(Name('len', Load(), lineno=509, col_offset=37), [Name('data', Load(), lineno=509, col_offset=41)], [], None, None, lineno=509, col_offset=37), lineno=509, col_offset=33)], [], None, None, lineno=509, col_offset=8), lineno=509, col_offset=8), Assign([Name('f', Store(), lineno=510, col_offset=8)], Call(Name('open', Load(), lineno=510, col_offset=12), [Name('TESTFN', Load(), lineno=510, col_offset=17), Str('r+b', lineno=510, col_offset=25)], [], None, None, lineno=510, col_offset=12), lineno=510, col_offset=8), Assign([Name('m', Store(), lineno=511, col_offset=8)], Call(Attribute(Name('mmap', Load(), lineno=511, col_offset=12), 'mmap', Load(), lineno=511, col_offset=12), [Call(Attribute(Name('f', Load(), lineno=511, col_offset=22), 'fileno', Load(), lineno=511, col_offset=22), [], [], None, None, lineno=511, col_offset=22), Call(Name('len', Load(), lineno=511, col_offset=34), [Name('data', Load(), lineno=511, col_offset=38)], [], None, None, lineno=511, col_offset=34)], [], None, None, lineno=511, col_offset=12), lineno=511, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=512, col_offset=8), 'close', Load(), lineno=512, col_offset=8), [], [], None, None, lineno=512, col_offset=8), lineno=512, col_offset=8), For(Name('i', Store(), lineno=514, col_offset=12), Call(Name('xrange', Load(), lineno=514, col_offset=17), [Call(Name('len', Load(), lineno=514, col_offset=24), [Name('data', Load(), lineno=514, col_offset=28)], [], None, None, lineno=514, col_offset=24)], [], None, None, lineno=514, col_offset=17), [Expr(Call(Attribute(Name('self', Load(), lineno=515, col_offset=12), 'assertEqual', Load(), lineno=515, col_offset=12), [Call(Attribute(Name('m', Load(), lineno=515, col_offset=29), 'tell', Load(), lineno=515, col_offset=29), [], [], None, None, lineno=515, col_offset=29), Name('i', Load(), lineno=515, col_offset=39)], [], None, None, lineno=515, col_offset=12), lineno=515, col_offset=12), Expr(Call(Attribute(Name('m', Load(), lineno=516, col_offset=12), 'write_byte', Load(), lineno=516, col_offset=12), [Subscript(Name('data', Load(), lineno=516, col_offset=25), Index(Name('i', Load(), lineno=516, col_offset=30)), Load(), lineno=516, col_offset=25)], [], None, None, lineno=516, col_offset=12), lineno=516, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=517, col_offset=12), 'assertEqual', Load(), lineno=517, col_offset=12), [Call(Attribute(Name('m', Load(), lineno=517, col_offset=29), 'tell', Load(), lineno=517, col_offset=29), [], [], None, None, lineno=517, col_offset=29), BinOp(Name('i', Load(), lineno=517, col_offset=39), Add(), Num(1, lineno=517, col_offset=41), lineno=517, col_offset=39)], [], None, None, lineno=517, col_offset=12), lineno=517, col_offset=12)], [], lineno=514, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=518, col_offset=8), 'assertRaises', Load(), lineno=518, col_offset=8), [Name('ValueError', Load(), lineno=518, col_offset=26), Attribute(Name('m', Load(), lineno=518, col_offset=38), 'write_byte', Load(), lineno=518, col_offset=38), Str('x', lineno=518, col_offset=52)], [], None, None, lineno=518, col_offset=8), lineno=518, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=519, col_offset=8), 'assertEqual', Load(), lineno=519, col_offset=8), [Subscript(Name('m', Load(), lineno=519, col_offset=25), Slice(None, None, None), Load(), lineno=519, col_offset=25), Name('data', Load(), lineno=519, col_offset=31)], [], None, None, lineno=519, col_offset=8), lineno=519, col_offset=8), Expr(Call(Attribute(Name('m', Load(), lineno=521, col_offset=8), 'seek', Load(), lineno=521, col_offset=8), [Num(0, lineno=521, col_offset=15)], [], None, None, lineno=521, col_offset=8), lineno=521, col_offset=8), For(Name('i', Store(), lineno=522, col_offset=12), Call(Name('xrange', Load(), lineno=522, col_offset=17), [Call(Name('len', Load(), lineno=522, col_offset=24), [Name('data', Load(), lineno=522, col_offset=28)], [], None, None, lineno=522, col_offset=24)], [], None, None, lineno=522, col_offset=17), [Expr(Call(Attribute(Name('self', Load(), lineno=523, col_offset=12), 'assertEqual', Load(), lineno=523, col_offset=12), [Call(Attribute(Name('m', Load(), lineno=523, col_offset=29), 'tell', Load(), lineno=523, col_offset=29), [], [], None, None, lineno=523, col_offset=29), Name('i', Load(), lineno=523, col_offset=39)], [], None, None, lineno=523, col_offset=12), lineno=523, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=524, col_offset=12), 'assertEqual', Load(), lineno=524, col_offset=12), [Call(Attribute(Name('m', Load(), lineno=524, col_offset=29), 'read_byte', Load(), lineno=524, col_offset=29), [], [], None, None, lineno=524, col_offset=29), Subscript(Name('data', Load(), lineno=524, col_offset=44), Index(Name('i', Load(), lineno=524, col_offset=49)), Load(), lineno=524, col_offset=44)], [], None, None, lineno=524, col_offset=12), lineno=524, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=525, col_offset=12), 'assertEqual', Load(), lineno=525, col_offset=12), [Call(Attribute(Name('m', Load(), lineno=525, col_offset=29), 'tell', Load(), lineno=525, col_offset=29), [], [], None, None, lineno=525, col_offset=29), BinOp(Name('i', Load(), lineno=525, col_offset=39), Add(), Num(1, lineno=525, col_offset=41), lineno=525, col_offset=39)], [], None, None, lineno=525, col_offset=12), lineno=525, col_offset=12)], [], lineno=522, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=526, col_offset=8), 'assertRaises', Load(), lineno=526, col_offset=8), [Name('ValueError', Load(), lineno=526, col_offset=26), Attribute(Name('m', Load(), lineno=526, col_offset=38), 'read_byte', Load(), lineno=526, col_offset=38)], [], None, None, lineno=526, col_offset=8), lineno=526, col_offset=8), Expr(Call(Attribute(Name('m', Load(), lineno=528, col_offset=8), 'seek', Load(), lineno=528, col_offset=8), [Num(3, lineno=528, col_offset=15)], [], None, None, lineno=528, col_offset=8), lineno=528, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=529, col_offset=8), 'assertEqual', Load(), lineno=529, col_offset=8), [Call(Attribute(Name('m', Load(), lineno=529, col_offset=25), 'read', Load(), lineno=529, col_offset=25), [Num(3, lineno=529, col_offset=32)], [], None, None, lineno=529, col_offset=25), Str('345', lineno=529, col_offset=36)], [], None, None, lineno=529, col_offset=8), lineno=529, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=530, col_offset=8), 'assertEqual', Load(), lineno=530, col_offset=8), [Call(Attribute(Name('m', Load(), lineno=530, col_offset=25), 'tell', Load(), lineno=530, col_offset=25), [], [], None, None, lineno=530, col_offset=25), Num(6, lineno=530, col_offset=35)], [], None, None, lineno=530, col_offset=8), lineno=530, col_offset=8), Expr(Call(Attribute(Name('m', Load(), lineno=532, col_offset=8), 'seek', Load(), lineno=532, col_offset=8), [Num(3, lineno=532, col_offset=15)], [], None, None, lineno=532, col_offset=8), lineno=532, col_offset=8), Expr(Call(Attribute(Name('m', Load(), lineno=533, col_offset=8), 'write', Load(), lineno=533, col_offset=8), [Str('bar', lineno=533, col_offset=16)], [], None, None, lineno=533, col_offset=8), lineno=533, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=534, col_offset=8), 'assertEqual', Load(), lineno=534, col_offset=8), [Call(Attribute(Name('m', Load(), lineno=534, col_offset=25), 'tell', Load(), lineno=534, col_offset=25), [], [], None, None, lineno=534, col_offset=25), Num(6, lineno=534, col_offset=35)], [], None, None, lineno=534, col_offset=8), lineno=534, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=535, col_offset=8), 'assertEqual', Load(), lineno=535, col_offset=8), [Subscript(Name('m', Load(), lineno=535, col_offset=25), Slice(None, None, None), Load(), lineno=535, col_offset=25), Str('012bar6789', lineno=535, col_offset=31)], [], None, None, lineno=535, col_offset=8), lineno=535, col_offset=8), Expr(Call(Attribute(Name('m', Load(), lineno=536, col_offset=8), 'seek', Load(), lineno=536, col_offset=8), [Num(8, lineno=536, col_offset=15)], [], None, None, lineno=536, col_offset=8), lineno=536, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=537, col_offset=8), 'assertRaises', Load(), lineno=537, col_offset=8), [Name('ValueError', Load(), lineno=537, col_offset=26), Attribute(Name('m', Load(), lineno=537, col_offset=38), 'write', Load(), lineno=537, col_offset=38), Str('bar', lineno=537, col_offset=47)], [], None, None, lineno=537, col_offset=8), lineno=537, col_offset=8)], [], lineno=507, col_offset=4), If(Compare(Attribute(Name('os', Load(), lineno=539, col_offset=7), 'name', Load(), lineno=539, col_offset=7), [Eq()], [Str('nt', lineno=539, col_offset=18)], lineno=539, col_offset=7), [FunctionDef('test_tagname', arguments([Name('self', Param(), lineno=540, col_offset=25)], None, None, []), [Assign([Name('data1', Store(), lineno=541, col_offset=12)], Str('0123456789', lineno=541, col_offset=20), lineno=541, col_offset=12), Assign([Name('data2', Store(), lineno=542, col_offset=12)], Str('abcdefghij', lineno=542, col_offset=20), lineno=542, col_offset=12), Assert(Compare(Call(Name('len', Load(), lineno=543, col_offset=19), [Name('data1', Load(), lineno=543, col_offset=23)], [], None, None, lineno=543, col_offset=19), [Eq()], [Call(Name('len', Load(), lineno=543, col_offset=33), [Name('data2', Load(), lineno=543, col_offset=37)], [], None, None, lineno=543, col_offset=33)], lineno=543, col_offset=19), None, lineno=543, col_offset=12), Assign([Name('m1', Store(), lineno=546, col_offset=12)], Call(Attribute(Name('mmap', Load(), lineno=546, col_offset=17), 'mmap', Load(), lineno=546, col_offset=17), [Num(-1, lineno=546, col_offset=28), Call(Name('len', Load(), lineno=546, col_offset=31), [Name('data1', Load(), lineno=546, col_offset=35)], [], None, None, lineno=546, col_offset=31)], [keyword('tagname', Str('foo', lineno=546, col_offset=51))], None, None, lineno=546, col_offset=17), lineno=546, col_offset=12), Assign([Subscript(Name('m1', Load(), lineno=547, col_offset=12), Slice(None, None, None), Store(), lineno=547, col_offset=12)], Name('data1', Load(), lineno=547, col_offset=20), lineno=547, col_offset=12), Assign([Name('m2', Store(), lineno=548, col_offset=12)], Call(Attribute(Name('mmap', Load(), lineno=548, col_offset=17), 'mmap', Load(), lineno=548, col_offset=17), [Num(-1, lineno=548, col_offset=28), Call(Name('len', Load(), lineno=548, col_offset=31), [Name('data2', Load(), lineno=548, col_offset=35)], [], None, None, lineno=548, col_offset=31)], [keyword('tagname', Str('foo', lineno=548, col_offset=51))], None, None, lineno=548, col_offset=17), lineno=548, col_offset=12), Assign([Subscript(Name('m2', Load(), lineno=549, col_offset=12), Slice(None, None, None), Store(), lineno=549, col_offset=12)], Name('data2', Load(), lineno=549, col_offset=20), lineno=549, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=550, col_offset=12), 'assertEqual', Load(), lineno=550, col_offset=12), [Subscript(Name('m1', Load(), lineno=550, col_offset=29), Slice(None, None, None), Load(), lineno=550, col_offset=29), Name('data2', Load(), lineno=550, col_offset=36)], [], None, None, lineno=550, col_offset=12), lineno=550, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=551, col_offset=12), 'assertEqual', Load(), lineno=551, col_offset=12), [Subscript(Name('m2', Load(), lineno=551, col_offset=29), Slice(None, None, None), Load(), lineno=551, col_offset=29), Name('data2', Load(), lineno=551, col_offset=36)], [], None, None, lineno=551, col_offset=12), lineno=551, col_offset=12), Expr(Call(Attribute(Name('m2', Load(), lineno=552, col_offset=12), 'close', Load(), lineno=552, col_offset=12), [], [], None, None, lineno=552, col_offset=12), lineno=552, col_offset=12), Expr(Call(Attribute(Name('m1', Load(), lineno=553, col_offset=12), 'close', Load(), lineno=553, col_offset=12), [], [], None, None, lineno=553, col_offset=12), lineno=553, col_offset=12), Assign([Name('m1', Store(), lineno=556, col_offset=12)], Call(Attribute(Name('mmap', Load(), lineno=556, col_offset=17), 'mmap', Load(), lineno=556, col_offset=17), [Num(-1, lineno=556, col_offset=28), Call(Name('len', Load(), lineno=556, col_offset=31), [Name('data1', Load(), lineno=556, col_offset=35)], [], None, None, lineno=556, col_offset=31)], [keyword('tagname', Str('foo', lineno=556, col_offset=51))], None, None, lineno=556, col_offset=17), lineno=556, col_offset=12), Assign([Subscript(Name('m1', Load(), lineno=557, col_offset=12), Slice(None, None, None), Store(), lineno=557, col_offset=12)], Name('data1', Load(), lineno=557, col_offset=20), lineno=557, col_offset=12), Assign([Name('m2', Store(), lineno=558, col_offset=12)], Call(Attribute(Name('mmap', Load(), lineno=558, col_offset=17), 'mmap', Load(), lineno=558, col_offset=17), [Num(-1, lineno=558, col_offset=28), Call(Name('len', Load(), lineno=558, col_offset=31), [Name('data2', Load(), lineno=558, col_offset=35)], [], None, None, lineno=558, col_offset=31)], [keyword('tagname', Str('boo', lineno=558, col_offset=51))], None, None, lineno=558, col_offset=17), lineno=558, col_offset=12), Assign([Subscript(Name('m2', Load(), lineno=559, col_offset=12), Slice(None, None, None), Store(), lineno=559, col_offset=12)], Name('data2', Load(), lineno=559, col_offset=20), lineno=559, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=560, col_offset=12), 'assertEqual', Load(), lineno=560, col_offset=12), [Subscript(Name('m1', Load(), lineno=560, col_offset=29), Slice(None, None, None), Load(), lineno=560, col_offset=29), Name('data1', Load(), lineno=560, col_offset=36)], [], None, None, lineno=560, col_offset=12), lineno=560, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=561, col_offset=12), 'assertEqual', Load(), lineno=561, col_offset=12), [Subscript(Name('m2', Load(), lineno=561, col_offset=29), Slice(None, None, None), Load(), lineno=561, col_offset=29), Name('data2', Load(), lineno=561, col_offset=36)], [], None, None, lineno=561, col_offset=12), lineno=561, col_offset=12), Expr(Call(Attribute(Name('m2', Load(), lineno=562, col_offset=12), 'close', Load(), lineno=562, col_offset=12), [], [], None, None, lineno=562, col_offset=12), lineno=562, col_offset=12), Expr(Call(Attribute(Name('m1', Load(), lineno=563, col_offset=12), 'close', Load(), lineno=563, col_offset=12), [], [], None, None, lineno=563, col_offset=12), lineno=563, col_offset=12)], [], lineno=540, col_offset=8), FunctionDef('test_crasher_on_windows', arguments([Name('self', Param(), lineno=565, col_offset=36)], None, None, []), [Assign([Name('m', Store(), lineno=567, col_offset=12)], Call(Attribute(Name('mmap', Load(), lineno=567, col_offset=16), 'mmap', Load(), lineno=567, col_offset=16), [Num(-1, lineno=567, col_offset=27), Num(1000, lineno=567, col_offset=30)], [keyword('tagname', Str('foo', lineno=567, col_offset=44))], None, None, lineno=567, col_offset=16), lineno=567, col_offset=12), TryExcept([Expr(Subscript(Call(Attribute(Name('mmap', Load(), lineno=569, col_offset=16), 'mmap', Load(), lineno=569, col_offset=16), [Num(-1, lineno=569, col_offset=27), Num(5000, lineno=569, col_offset=30)], [keyword('tagname', Str('foo', lineno=569, col_offset=44))], None, None, lineno=569, col_offset=16), Slice(None, None, None), Load(), lineno=569, col_offset=16), lineno=569, col_offset=16)], [ExceptHandler(None, None, [Pass( lineno=571, col_offset=16)], lineno=570, col_offset=12)], [], lineno=568, col_offset=12), Expr(Call(Attribute(Name('m', Load(), lineno=572, col_offset=12), 'close', Load(), lineno=572, col_offset=12), [], [], None, None, lineno=572, col_offset=12), lineno=572, col_offset=12), Expr(Call(Attribute(Call(Name('open', Load(), lineno=575, col_offset=12), [Name('TESTFN', Load(), lineno=575, col_offset=17), Str('wb', lineno=575, col_offset=25)], [], None, None, lineno=575, col_offset=12), 'write', Load(), lineno=575, col_offset=12), [BinOp(Str('x', lineno=575, col_offset=37), Mult(), Num(10, lineno=575, col_offset=41), lineno=575, col_offset=37)], [], None, None, lineno=575, col_offset=12), lineno=575, col_offset=12), Assign([Name('f', Store(), lineno=576, col_offset=12)], Call(Name('open', Load(), lineno=576, col_offset=16), [Name('TESTFN', Load(), lineno=576, col_offset=21), Str('r+b', lineno=576, col_offset=29)], [], None, None, lineno=576, col_offset=16), lineno=576, col_offset=12), Assign([Name('m', Store(), lineno=577, col_offset=12)], Call(Attribute(Name('mmap', Load(), lineno=577, col_offset=16), 'mmap', Load(), lineno=577, col_offset=16), [Call(Attribute(Name('f', Load(), lineno=577, col_offset=26), 'fileno', Load(), lineno=577, col_offset=26), [], [], None, None, lineno=577, col_offset=26), Num(0, lineno=577, col_offset=38)], [], None, None, lineno=577, col_offset=16), lineno=577, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=578, col_offset=12), 'close', Load(), lineno=578, col_offset=12), [], [], None, None, lineno=578, col_offset=12), lineno=578, col_offset=12), TryExcept([Expr(Call(Attribute(Name('m', Load(), lineno=580, col_offset=16), 'resize', Load(), lineno=580, col_offset=16), [Num(0, lineno=580, col_offset=25)], [], None, None, lineno=580, col_offset=16), lineno=580, col_offset=16)], [ExceptHandler(None, None, [Pass( lineno=582, col_offset=16)], lineno=581, col_offset=12)], [], lineno=579, col_offset=12), TryExcept([Expr(Subscript(Name('m', Load(), lineno=584, col_offset=16), Slice(None, None, None), Load(), lineno=584, col_offset=16), lineno=584, col_offset=16)], [ExceptHandler(None, None, [Pass( lineno=586, col_offset=16)], lineno=585, col_offset=12)], [], lineno=583, col_offset=12), Expr(Call(Attribute(Name('m', Load(), lineno=587, col_offset=12), 'close', Load(), lineno=587, col_offset=12), [], [], None, None, lineno=587, col_offset=12), lineno=587, col_offset=12)], [], lineno=565, col_offset=8), FunctionDef('test_invalid_descriptor', arguments([Name('self', Param(), lineno=589, col_offset=36)], None, None, []), [Assign([Name('s', Store(), lineno=593, col_offset=12)], Call(Attribute(Name('socket', Load(), lineno=593, col_offset=16), 'socket', Load(), lineno=593, col_offset=16), [], [], None, None, lineno=593, col_offset=16), lineno=593, col_offset=12), TryFinally([With(Call(Attribute(Name('self', Load(), lineno=595, col_offset=21), 'assertRaises', Load(), lineno=595, col_offset=21), [Attribute(Name('mmap', Load(), lineno=595, col_offset=39), 'error', Load(), lineno=595, col_offset=39)], [], None, None, lineno=595, col_offset=21), None, [Assign([Name('m', Store(), lineno=596, col_offset=20)], Call(Attribute(Name('mmap', Load(), lineno=596, col_offset=24), 'mmap', Load(), lineno=596, col_offset=24), [Call(Attribute(Name('s', Load(), lineno=596, col_offset=34), 'fileno', Load(), lineno=596, col_offset=34), [], [], None, None, lineno=596, col_offset=34), Num(10, lineno=596, col_offset=46)], [], None, None, lineno=596, col_offset=24), lineno=596, col_offset=20)], lineno=595, col_offset=21)], [Expr(Call(Attribute(Name('s', Load(), lineno=598, col_offset=16), 'close', Load(), lineno=598, col_offset=16), [], [], None, None, lineno=598, col_offset=16), lineno=598, col_offset=16)], lineno=594, col_offset=12)], [], lineno=589, col_offset=8)], [], lineno=539, col_offset=4)], [], lineno=9, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Name('run_unittest', Load(), lineno=601, col_offset=4), [Name('MmapTests', Load(), lineno=601, col_offset=17)], [], None, None, lineno=601, col_offset=4), lineno=601, col_offset=4)], [], lineno=600, col_offset=0), If(Compare(Name('__name__', Load(), lineno=603, col_offset=3), [Eq()], [Str('__main__', lineno=603, col_offset=15)], lineno=603, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=604, col_offset=4), [], [], None, None, lineno=604, col_offset=4), lineno=604, col_offset=4)], [], lineno=603, col_offset=0)])
