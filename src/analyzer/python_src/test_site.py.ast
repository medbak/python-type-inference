Module([Expr(Str("Tests for 'site'.\n\nTests assume the initial paths in sys.path once the interpreter has begun\nexecuting have not been removed.\n\n", lineno=6, col_offset=-1), lineno=6, col_offset=-1), Import([alias('unittest', None)], lineno=7, col_offset=0), ImportFrom('test.test_support', [alias('run_unittest', None), alias('TESTFN', None), alias('EnvironmentVarGuard', None)], 0, lineno=8, col_offset=0), Import([alias('__builtin__', None)], lineno=9, col_offset=0), Import([alias('os', None)], lineno=10, col_offset=0), Import([alias('sys', None)], lineno=11, col_offset=0), Import([alias('encodings', None)], lineno=12, col_offset=0), Import([alias('subprocess', None)], lineno=13, col_offset=0), Import([alias('sysconfig', None)], lineno=14, col_offset=0), ImportFrom('copy', [alias('copy', None)], 0, lineno=15, col_offset=0), If(Compare(Str('site', lineno=20, col_offset=3), [In()], [Attribute(Name('sys', Load(), lineno=20, col_offset=13), 'modules', Load(), lineno=20, col_offset=13)], lineno=20, col_offset=3), [Import([alias('site', None)], lineno=21, col_offset=4)], [Raise(Call(Attribute(Name('unittest', Load(), lineno=23, col_offset=10), 'SkipTest', Load(), lineno=23, col_offset=10), [Str('importation of site.py suppressed', lineno=23, col_offset=28)], [], None, None, lineno=23, col_offset=10), None, None, lineno=23, col_offset=4)], lineno=20, col_offset=0), If(UnaryOp(Not(), Call(Attribute(Attribute(Name('os', Load(), lineno=25, col_offset=7), 'path', Load(), lineno=25, col_offset=7), 'isdir', Load(), lineno=25, col_offset=7), [Attribute(Name('site', Load(), lineno=25, col_offset=21), 'USER_SITE', Load(), lineno=25, col_offset=21)], [], None, None, lineno=25, col_offset=7), lineno=25, col_offset=3), [Expr(Call(Attribute(Name('os', Load(), lineno=27, col_offset=4), 'makedirs', Load(), lineno=27, col_offset=4), [Attribute(Name('site', Load(), lineno=27, col_offset=16), 'USER_SITE', Load(), lineno=27, col_offset=16)], [], None, None, lineno=27, col_offset=4), lineno=27, col_offset=4), Expr(Call(Attribute(Name('site', Load(), lineno=28, col_offset=4), 'addsitedir', Load(), lineno=28, col_offset=4), [Attribute(Name('site', Load(), lineno=28, col_offset=20), 'USER_SITE', Load(), lineno=28, col_offset=20)], [], None, None, lineno=28, col_offset=4), lineno=28, col_offset=4)], [], lineno=25, col_offset=0), ClassDef('HelperFunctionsTests', [Attribute(Name('unittest', Load(), lineno=30, col_offset=27), 'TestCase', Load(), lineno=30, col_offset=27)], [Expr(Str('Tests for helper functions.\n\n    The setting of the encoding (set using sys.setdefaultencoding) used by\n    the Unicode implementation is not tested.\n\n    ', lineno=36, col_offset=-1), lineno=36, col_offset=-1), FunctionDef('setUp', arguments([Name('self', Param(), lineno=38, col_offset=14)], None, None, []), [Expr(Str('Save a copy of sys.path', lineno=39, col_offset=8), lineno=39, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=40, col_offset=8), 'sys_path', Store(), lineno=40, col_offset=8)], Subscript(Attribute(Name('sys', Load(), lineno=40, col_offset=24), 'path', Load(), lineno=40, col_offset=24), Slice(None, None, None), Load(), lineno=40, col_offset=24), lineno=40, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=41, col_offset=8), 'old_base', Store(), lineno=41, col_offset=8)], Attribute(Name('site', Load(), lineno=41, col_offset=24), 'USER_BASE', Load(), lineno=41, col_offset=24), lineno=41, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=42, col_offset=8), 'old_site', Store(), lineno=42, col_offset=8)], Attribute(Name('site', Load(), lineno=42, col_offset=24), 'USER_SITE', Load(), lineno=42, col_offset=24), lineno=42, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=43, col_offset=8), 'old_prefixes', Store(), lineno=43, col_offset=8)], Attribute(Name('site', Load(), lineno=43, col_offset=28), 'PREFIXES', Load(), lineno=43, col_offset=28), lineno=43, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=44, col_offset=8), 'old_vars', Store(), lineno=44, col_offset=8)], Call(Name('copy', Load(), lineno=44, col_offset=24), [Attribute(Name('sysconfig', Load(), lineno=44, col_offset=29), '_CONFIG_VARS', Load(), lineno=44, col_offset=29)], [], None, None, lineno=44, col_offset=24), lineno=44, col_offset=8)], [], lineno=38, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=46, col_offset=17)], None, None, []), [Expr(Str('Restore sys.path', lineno=47, col_offset=8), lineno=47, col_offset=8), Assign([Subscript(Attribute(Name('sys', Load(), lineno=48, col_offset=8), 'path', Load(), lineno=48, col_offset=8), Slice(None, None, None), Store(), lineno=48, col_offset=8)], Attribute(Name('self', Load(), lineno=48, col_offset=22), 'sys_path', Load(), lineno=48, col_offset=22), lineno=48, col_offset=8), Assign([Attribute(Name('site', Load(), lineno=49, col_offset=8), 'USER_BASE', Store(), lineno=49, col_offset=8)], Attribute(Name('self', Load(), lineno=49, col_offset=25), 'old_base', Load(), lineno=49, col_offset=25), lineno=49, col_offset=8), Assign([Attribute(Name('site', Load(), lineno=50, col_offset=8), 'USER_SITE', Store(), lineno=50, col_offset=8)], Attribute(Name('self', Load(), lineno=50, col_offset=25), 'old_site', Load(), lineno=50, col_offset=25), lineno=50, col_offset=8), Assign([Attribute(Name('site', Load(), lineno=51, col_offset=8), 'PREFIXES', Store(), lineno=51, col_offset=8)], Attribute(Name('self', Load(), lineno=51, col_offset=24), 'old_prefixes', Load(), lineno=51, col_offset=24), lineno=51, col_offset=8), Assign([Attribute(Name('sysconfig', Load(), lineno=52, col_offset=8), '_CONFIG_VARS', Store(), lineno=52, col_offset=8)], Attribute(Name('self', Load(), lineno=52, col_offset=33), 'old_vars', Load(), lineno=52, col_offset=33), lineno=52, col_offset=8)], [], lineno=46, col_offset=4), FunctionDef('test_makepath', arguments([Name('self', Param(), lineno=54, col_offset=22)], None, None, []), [Assign([Name('path_parts', Store(), lineno=58, col_offset=8)], Tuple([Str('Beginning', lineno=58, col_offset=22), Str('End', lineno=58, col_offset=35)], Load(), lineno=58, col_offset=22), lineno=58, col_offset=8), Assign([Name('original_dir', Store(), lineno=59, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=59, col_offset=23), 'path', Load(), lineno=59, col_offset=23), 'join', Load(), lineno=59, col_offset=23), [], [], Name('path_parts', Load(), lineno=59, col_offset=37), None, lineno=59, col_offset=23), lineno=59, col_offset=8), Assign([Tuple([Name('abs_dir', Store(), lineno=60, col_offset=8), Name('norm_dir', Store(), lineno=60, col_offset=17)], Store(), lineno=60, col_offset=8)], Call(Attribute(Name('site', Load(), lineno=60, col_offset=28), 'makepath', Load(), lineno=60, col_offset=28), [], [], Name('path_parts', Load(), lineno=60, col_offset=43), None, lineno=60, col_offset=28), lineno=60, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=61, col_offset=8), 'assertEqual', Load(), lineno=61, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=61, col_offset=25), 'path', Load(), lineno=61, col_offset=25), 'abspath', Load(), lineno=61, col_offset=25), [Name('original_dir', Load(), lineno=61, col_offset=41)], [], None, None, lineno=61, col_offset=25), Name('abs_dir', Load(), lineno=61, col_offset=56)], [], None, None, lineno=61, col_offset=8), lineno=61, col_offset=8), If(Compare(Name('original_dir', Load(), lineno=62, col_offset=11), [Eq()], [Call(Attribute(Attribute(Name('os', Load(), lineno=62, col_offset=27), 'path', Load(), lineno=62, col_offset=27), 'normcase', Load(), lineno=62, col_offset=27), [Name('original_dir', Load(), lineno=62, col_offset=44)], [], None, None, lineno=62, col_offset=27)], lineno=62, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=63, col_offset=12), 'assertEqual', Load(), lineno=63, col_offset=12), [Name('abs_dir', Load(), lineno=63, col_offset=29), Name('norm_dir', Load(), lineno=63, col_offset=38)], [], None, None, lineno=63, col_offset=12), lineno=63, col_offset=12)], [Expr(Call(Attribute(Name('self', Load(), lineno=65, col_offset=12), 'assertEqual', Load(), lineno=65, col_offset=12), [Call(Attribute(Attribute(Name('os', Load(), lineno=65, col_offset=29), 'path', Load(), lineno=65, col_offset=29), 'normcase', Load(), lineno=65, col_offset=29), [Name('abs_dir', Load(), lineno=65, col_offset=46)], [], None, None, lineno=65, col_offset=29), Name('norm_dir', Load(), lineno=65, col_offset=56)], [], None, None, lineno=65, col_offset=12), lineno=65, col_offset=12)], lineno=62, col_offset=8)], [], lineno=54, col_offset=4), FunctionDef('test_init_pathinfo', arguments([Name('self', Param(), lineno=67, col_offset=27)], None, None, []), [Assign([Name('dir_set', Store(), lineno=68, col_offset=8)], Call(Attribute(Name('site', Load(), lineno=68, col_offset=18), '_init_pathinfo', Load(), lineno=68, col_offset=18), [], [], None, None, lineno=68, col_offset=18), lineno=68, col_offset=8), For(Name('entry', Store(), lineno=69, col_offset=12), ListComp(Subscript(Call(Attribute(Name('site', Load(), lineno=69, col_offset=22), 'makepath', Load(), lineno=69, col_offset=22), [Name('path', Load(), lineno=69, col_offset=36)], [], None, None, lineno=69, col_offset=22), Index(Num(1, lineno=69, col_offset=42)), Load(), lineno=69, col_offset=22), [comprehension(Name('path', Store(), lineno=69, col_offset=49), Attribute(Name('sys', Load(), lineno=69, col_offset=57), 'path', Load(), lineno=69, col_offset=57), [BoolOp(And(), [Name('path', Load(), lineno=70, col_offset=27), Call(Attribute(Attribute(Name('os', Load(), lineno=70, col_offset=36), 'path', Load(), lineno=70, col_offset=36), 'isdir', Load(), lineno=70, col_offset=36), [Name('path', Load(), lineno=70, col_offset=50)], [], None, None, lineno=70, col_offset=36)], lineno=70, col_offset=27)])], lineno=69, col_offset=22), [Expr(Call(Attribute(Name('self', Load(), lineno=71, col_offset=12), 'assertIn', Load(), lineno=71, col_offset=12), [Name('entry', Load(), lineno=71, col_offset=26), Name('dir_set', Load(), lineno=71, col_offset=33), BinOp(Str('%s from sys.path not found in set returned by _init_pathinfo(): %s', lineno=72, col_offset=26), Mod(), Tuple([Name('entry', Load(), lineno=73, col_offset=55), Name('dir_set', Load(), lineno=73, col_offset=62)], Load(), lineno=73, col_offset=55), lineno=72, col_offset=26)], [], None, None, lineno=71, col_offset=12), lineno=71, col_offset=12)], [], lineno=69, col_offset=8)], [], lineno=67, col_offset=4), FunctionDef('pth_file_tests', arguments([Name('self', Param(), lineno=75, col_offset=23), Name('pth_file', Param(), lineno=75, col_offset=29)], None, None, []), [Expr(Str('Contain common code for testing results of reading a .pth file', lineno=76, col_offset=8), lineno=76, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=77, col_offset=8), 'assertIn', Load(), lineno=77, col_offset=8), [Attribute(Name('pth_file', Load(), lineno=77, col_offset=22), 'imported', Load(), lineno=77, col_offset=22), Attribute(Name('sys', Load(), lineno=77, col_offset=41), 'modules', Load(), lineno=77, col_offset=41), BinOp(Str('%s not in sys.modules', lineno=78, col_offset=22), Mod(), Attribute(Name('pth_file', Load(), lineno=78, col_offset=48), 'imported', Load(), lineno=78, col_offset=48), lineno=78, col_offset=22)], [], None, None, lineno=77, col_offset=8), lineno=77, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=79, col_offset=8), 'assertIn', Load(), lineno=79, col_offset=8), [Subscript(Call(Attribute(Name('site', Load(), lineno=79, col_offset=22), 'makepath', Load(), lineno=79, col_offset=22), [Attribute(Name('pth_file', Load(), lineno=79, col_offset=36), 'good_dir_path', Load(), lineno=79, col_offset=36)], [], None, None, lineno=79, col_offset=22), Index(Num(0, lineno=79, col_offset=60)), Load(), lineno=79, col_offset=22), Attribute(Name('sys', Load(), lineno=79, col_offset=64), 'path', Load(), lineno=79, col_offset=64)], [], None, None, lineno=79, col_offset=8), lineno=79, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=80, col_offset=8), 'assertFalse', Load(), lineno=80, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=80, col_offset=25), 'path', Load(), lineno=80, col_offset=25), 'exists', Load(), lineno=80, col_offset=25), [Attribute(Name('pth_file', Load(), lineno=80, col_offset=40), 'bad_dir_path', Load(), lineno=80, col_offset=40)], [], None, None, lineno=80, col_offset=25)], [], None, None, lineno=80, col_offset=8), lineno=80, col_offset=8)], [], lineno=75, col_offset=4), FunctionDef('test_addpackage', arguments([Name('self', Param(), lineno=82, col_offset=24)], None, None, []), [Assign([Name('pth_file', Store(), lineno=87, col_offset=8)], Call(Name('PthFile', Load(), lineno=87, col_offset=19), [], [], None, None, lineno=87, col_offset=19), lineno=87, col_offset=8), Expr(Call(Attribute(Name('pth_file', Load(), lineno=88, col_offset=8), 'cleanup', Load(), lineno=88, col_offset=8), [], [keyword('prep', Name('True', Load(), lineno=88, col_offset=30))], None, None, lineno=88, col_offset=8), lineno=88, col_offset=8), TryFinally([Expr(Call(Attribute(Name('pth_file', Load(), lineno=91, col_offset=12), 'create', Load(), lineno=91, col_offset=12), [], [], None, None, lineno=91, col_offset=12), lineno=91, col_offset=12), Expr(Call(Attribute(Name('site', Load(), lineno=92, col_offset=12), 'addpackage', Load(), lineno=92, col_offset=12), [Attribute(Name('pth_file', Load(), lineno=92, col_offset=28), 'base_dir', Load(), lineno=92, col_offset=28), Attribute(Name('pth_file', Load(), lineno=92, col_offset=47), 'filename', Load(), lineno=92, col_offset=47), Call(Name('set', Load(), lineno=92, col_offset=66), [], [], None, None, lineno=92, col_offset=66)], [], None, None, lineno=92, col_offset=12), lineno=92, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=93, col_offset=12), 'pth_file_tests', Load(), lineno=93, col_offset=12), [Name('pth_file', Load(), lineno=93, col_offset=32)], [], None, None, lineno=93, col_offset=12), lineno=93, col_offset=12)], [Expr(Call(Attribute(Name('pth_file', Load(), lineno=95, col_offset=12), 'cleanup', Load(), lineno=95, col_offset=12), [], [], None, None, lineno=95, col_offset=12), lineno=95, col_offset=12)], lineno=90, col_offset=8)], [], lineno=82, col_offset=4), FunctionDef('test_addsitedir', arguments([Name('self', Param(), lineno=97, col_offset=24)], None, None, []), [Assign([Name('pth_file', Store(), lineno=100, col_offset=8)], Call(Name('PthFile', Load(), lineno=100, col_offset=19), [], [], None, None, lineno=100, col_offset=19), lineno=100, col_offset=8), Expr(Call(Attribute(Name('pth_file', Load(), lineno=101, col_offset=8), 'cleanup', Load(), lineno=101, col_offset=8), [], [keyword('prep', Name('True', Load(), lineno=101, col_offset=30))], None, None, lineno=101, col_offset=8), lineno=101, col_offset=8), TryFinally([Expr(Call(Attribute(Name('pth_file', Load(), lineno=104, col_offset=12), 'create', Load(), lineno=104, col_offset=12), [], [], None, None, lineno=104, col_offset=12), lineno=104, col_offset=12), Expr(Call(Attribute(Name('site', Load(), lineno=105, col_offset=12), 'addsitedir', Load(), lineno=105, col_offset=12), [Attribute(Name('pth_file', Load(), lineno=105, col_offset=28), 'base_dir', Load(), lineno=105, col_offset=28), Call(Name('set', Load(), lineno=105, col_offset=47), [], [], None, None, lineno=105, col_offset=47)], [], None, None, lineno=105, col_offset=12), lineno=105, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=106, col_offset=12), 'pth_file_tests', Load(), lineno=106, col_offset=12), [Name('pth_file', Load(), lineno=106, col_offset=32)], [], None, None, lineno=106, col_offset=12), lineno=106, col_offset=12)], [Expr(Call(Attribute(Name('pth_file', Load(), lineno=108, col_offset=12), 'cleanup', Load(), lineno=108, col_offset=12), [], [], None, None, lineno=108, col_offset=12), lineno=108, col_offset=12)], lineno=103, col_offset=8)], [], lineno=97, col_offset=4), FunctionDef('test_s_option', arguments([Name('self', Param(), lineno=110, col_offset=22)], None, None, []), [Assign([Name('usersite', Store(), lineno=111, col_offset=8)], Attribute(Name('site', Load(), lineno=111, col_offset=19), 'USER_SITE', Load(), lineno=111, col_offset=19), lineno=111, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=112, col_offset=8), 'assertIn', Load(), lineno=112, col_offset=8), [Name('usersite', Load(), lineno=112, col_offset=22), Attribute(Name('sys', Load(), lineno=112, col_offset=32), 'path', Load(), lineno=112, col_offset=32)], [], None, None, lineno=112, col_offset=8), lineno=112, col_offset=8), Assign([Name('rc', Store(), lineno=114, col_offset=8)], Call(Attribute(Name('subprocess', Load(), lineno=114, col_offset=13), 'call', Load(), lineno=114, col_offset=13), [List([Attribute(Name('sys', Load(), lineno=114, col_offset=30), 'executable', Load(), lineno=114, col_offset=30), Str('-c', lineno=114, col_offset=46), BinOp(Str('import sys; sys.exit(%r in sys.path)', lineno=115, col_offset=12), Mod(), Name('usersite', Load(), lineno=115, col_offset=53), lineno=115, col_offset=12)], Load(), lineno=114, col_offset=29)], [], None, None, lineno=114, col_offset=13), lineno=114, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=116, col_offset=8), 'assertEqual', Load(), lineno=116, col_offset=8), [Name('rc', Load(), lineno=116, col_offset=25), Num(1, lineno=116, col_offset=29), BinOp(Str('%r is not in sys.path (sys.exit returned %r)', lineno=116, col_offset=32), Mod(), Tuple([Name('usersite', Load(), lineno=117, col_offset=19), Name('rc', Load(), lineno=117, col_offset=29)], Load(), lineno=117, col_offset=19), lineno=116, col_offset=32)], [], None, None, lineno=116, col_offset=8), lineno=116, col_offset=8), Assign([Name('rc', Store(), lineno=119, col_offset=8)], Call(Attribute(Name('subprocess', Load(), lineno=119, col_offset=13), 'call', Load(), lineno=119, col_offset=13), [List([Attribute(Name('sys', Load(), lineno=119, col_offset=30), 'executable', Load(), lineno=119, col_offset=30), Str('-s', lineno=119, col_offset=46), Str('-c', lineno=119, col_offset=52), BinOp(Str('import sys; sys.exit(%r in sys.path)', lineno=120, col_offset=12), Mod(), Name('usersite', Load(), lineno=120, col_offset=53), lineno=120, col_offset=12)], Load(), lineno=119, col_offset=29)], [], None, None, lineno=119, col_offset=13), lineno=119, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=121, col_offset=8), 'assertEqual', Load(), lineno=121, col_offset=8), [Name('rc', Load(), lineno=121, col_offset=25), Num(0, lineno=121, col_offset=29)], [], None, None, lineno=121, col_offset=8), lineno=121, col_offset=8), Assign([Name('env', Store(), lineno=123, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=123, col_offset=14), 'environ', Load(), lineno=123, col_offset=14), 'copy', Load(), lineno=123, col_offset=14), [], [], None, None, lineno=123, col_offset=14), lineno=123, col_offset=8), Assign([Subscript(Name('env', Load(), lineno=124, col_offset=8), Index(Str('PYTHONNOUSERSITE', lineno=124, col_offset=12)), Store(), lineno=124, col_offset=8)], Str('1', lineno=124, col_offset=34), lineno=124, col_offset=8), Assign([Name('rc', Store(), lineno=125, col_offset=8)], Call(Attribute(Name('subprocess', Load(), lineno=125, col_offset=13), 'call', Load(), lineno=125, col_offset=13), [List([Attribute(Name('sys', Load(), lineno=125, col_offset=30), 'executable', Load(), lineno=125, col_offset=30), Str('-c', lineno=125, col_offset=46), BinOp(Str('import sys; sys.exit(%r in sys.path)', lineno=126, col_offset=12), Mod(), Name('usersite', Load(), lineno=126, col_offset=53), lineno=126, col_offset=12)], Load(), lineno=125, col_offset=29)], [keyword('env', Name('env', Load(), lineno=127, col_offset=16))], None, None, lineno=125, col_offset=13), lineno=125, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=128, col_offset=8), 'assertEqual', Load(), lineno=128, col_offset=8), [Name('rc', Load(), lineno=128, col_offset=25), Num(0, lineno=128, col_offset=29)], [], None, None, lineno=128, col_offset=8), lineno=128, col_offset=8), Assign([Name('env', Store(), lineno=130, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=130, col_offset=14), 'environ', Load(), lineno=130, col_offset=14), 'copy', Load(), lineno=130, col_offset=14), [], [], None, None, lineno=130, col_offset=14), lineno=130, col_offset=8), Assign([Subscript(Name('env', Load(), lineno=131, col_offset=8), Index(Str('PYTHONUSERBASE', lineno=131, col_offset=12)), Store(), lineno=131, col_offset=8)], Str('/tmp', lineno=131, col_offset=32), lineno=131, col_offset=8), Assign([Name('rc', Store(), lineno=132, col_offset=8)], Call(Attribute(Name('subprocess', Load(), lineno=132, col_offset=13), 'call', Load(), lineno=132, col_offset=13), [List([Attribute(Name('sys', Load(), lineno=132, col_offset=30), 'executable', Load(), lineno=132, col_offset=30), Str('-c', lineno=132, col_offset=46), Str('import sys, site; sys.exit(site.USER_BASE.startswith("/tmp"))', lineno=133, col_offset=12)], Load(), lineno=132, col_offset=29)], [keyword('env', Name('env', Load(), lineno=134, col_offset=16))], None, None, lineno=132, col_offset=13), lineno=132, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=135, col_offset=8), 'assertEqual', Load(), lineno=135, col_offset=8), [Name('rc', Load(), lineno=135, col_offset=25), Num(1, lineno=135, col_offset=29)], [], None, None, lineno=135, col_offset=8), lineno=135, col_offset=8)], [], lineno=110, col_offset=4), FunctionDef('test_getuserbase', arguments([Name('self', Param(), lineno=137, col_offset=25)], None, None, []), [Assign([Attribute(Name('site', Load(), lineno=138, col_offset=8), 'USER_BASE', Store(), lineno=138, col_offset=8)], Name('None', Load(), lineno=138, col_offset=25), lineno=138, col_offset=8), Assign([Name('user_base', Store(), lineno=139, col_offset=8)], Call(Attribute(Name('site', Load(), lineno=139, col_offset=20), 'getuserbase', Load(), lineno=139, col_offset=20), [], [], None, None, lineno=139, col_offset=20), lineno=139, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=142, col_offset=8), 'assertEqual', Load(), lineno=142, col_offset=8), [Attribute(Name('site', Load(), lineno=142, col_offset=25), 'USER_BASE', Load(), lineno=142, col_offset=25), Name('user_base', Load(), lineno=142, col_offset=41)], [], None, None, lineno=142, col_offset=8), lineno=142, col_offset=8), Assign([Attribute(Name('site', Load(), lineno=145, col_offset=8), 'USER_BASE', Store(), lineno=145, col_offset=8)], Name('None', Load(), lineno=145, col_offset=25), lineno=145, col_offset=8), Import([alias('sysconfig', None)], lineno=146, col_offset=8), Assign([Attribute(Name('sysconfig', Load(), lineno=147, col_offset=8), '_CONFIG_VARS', Store(), lineno=147, col_offset=8)], Name('None', Load(), lineno=147, col_offset=33), lineno=147, col_offset=8), With(Call(Name('EnvironmentVarGuard', Load(), lineno=149, col_offset=13), [], [], None, None, lineno=149, col_offset=13), Name('environ', Store(), lineno=149, col_offset=38), [Assign([Subscript(Name('environ', Load(), lineno=150, col_offset=12), Index(Str('PYTHONUSERBASE', lineno=150, col_offset=20)), Store(), lineno=150, col_offset=12)], Str('xoxo', lineno=150, col_offset=40), lineno=150, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=151, col_offset=12), 'assertTrue', Load(), lineno=151, col_offset=12), [Call(Attribute(Call(Attribute(Name('site', Load(), lineno=151, col_offset=28), 'getuserbase', Load(), lineno=151, col_offset=28), [], [], None, None, lineno=151, col_offset=28), 'startswith', Load(), lineno=151, col_offset=28), [Str('xoxo', lineno=151, col_offset=58)], [], None, None, lineno=151, col_offset=28), Call(Attribute(Name('site', Load(), lineno=152, col_offset=28), 'getuserbase', Load(), lineno=152, col_offset=28), [], [], None, None, lineno=152, col_offset=28)], [], None, None, lineno=151, col_offset=12), lineno=151, col_offset=12)], lineno=149, col_offset=13)], [], lineno=137, col_offset=4), FunctionDef('test_getusersitepackages', arguments([Name('self', Param(), lineno=154, col_offset=33)], None, None, []), [Assign([Attribute(Name('site', Load(), lineno=155, col_offset=8), 'USER_SITE', Store(), lineno=155, col_offset=8)], Name('None', Load(), lineno=155, col_offset=25), lineno=155, col_offset=8), Assign([Attribute(Name('site', Load(), lineno=156, col_offset=8), 'USER_BASE', Store(), lineno=156, col_offset=8)], Name('None', Load(), lineno=156, col_offset=25), lineno=156, col_offset=8), Assign([Name('user_site', Store(), lineno=157, col_offset=8)], Call(Attribute(Name('site', Load(), lineno=157, col_offset=20), 'getusersitepackages', Load(), lineno=157, col_offset=20), [], [], None, None, lineno=157, col_offset=20), lineno=157, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=160, col_offset=8), 'assertEqual', Load(), lineno=160, col_offset=8), [Attribute(Name('site', Load(), lineno=160, col_offset=25), 'USER_SITE', Load(), lineno=160, col_offset=25), Name('user_site', Load(), lineno=160, col_offset=41)], [], None, None, lineno=160, col_offset=8), lineno=160, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=161, col_offset=8), 'assertTrue', Load(), lineno=161, col_offset=8), [Call(Attribute(Name('user_site', Load(), lineno=161, col_offset=24), 'startswith', Load(), lineno=161, col_offset=24), [Attribute(Name('site', Load(), lineno=161, col_offset=45), 'USER_BASE', Load(), lineno=161, col_offset=45)], [], None, None, lineno=161, col_offset=24), Name('user_site', Load(), lineno=161, col_offset=62)], [], None, None, lineno=161, col_offset=8), lineno=161, col_offset=8)], [], lineno=154, col_offset=4), FunctionDef('test_getsitepackages', arguments([Name('self', Param(), lineno=163, col_offset=29)], None, None, []), [Assign([Attribute(Name('site', Load(), lineno=164, col_offset=8), 'PREFIXES', Store(), lineno=164, col_offset=8)], List([Str('xoxo', lineno=164, col_offset=25)], Load(), lineno=164, col_offset=24), lineno=164, col_offset=8), Assign([Name('dirs', Store(), lineno=165, col_offset=8)], Call(Attribute(Name('site', Load(), lineno=165, col_offset=15), 'getsitepackages', Load(), lineno=165, col_offset=15), [], [], None, None, lineno=165, col_offset=15), lineno=165, col_offset=8), If(Compare(Attribute(Name('sys', Load(), lineno=167, col_offset=11), 'platform', Load(), lineno=167, col_offset=11), [In()], [Tuple([Str('os2emx', lineno=167, col_offset=28), Str('riscos', lineno=167, col_offset=38)], Load(), lineno=167, col_offset=28)], lineno=167, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=168, col_offset=12), 'assertEqual', Load(), lineno=168, col_offset=12), [Call(Name('len', Load(), lineno=168, col_offset=29), [Name('dirs', Load(), lineno=168, col_offset=33)], [], None, None, lineno=168, col_offset=29), Num(1, lineno=168, col_offset=40)], [], None, None, lineno=168, col_offset=12), lineno=168, col_offset=12), Assign([Name('wanted', Store(), lineno=169, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=169, col_offset=21), 'path', Load(), lineno=169, col_offset=21), 'join', Load(), lineno=169, col_offset=21), [Str('xoxo', lineno=169, col_offset=34), Str('Lib', lineno=169, col_offset=42), Str('site-packages', lineno=169, col_offset=49)], [], None, None, lineno=169, col_offset=21), lineno=169, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=170, col_offset=12), 'assertEqual', Load(), lineno=170, col_offset=12), [Subscript(Name('dirs', Load(), lineno=170, col_offset=29), Index(Num(0, lineno=170, col_offset=34)), Load(), lineno=170, col_offset=29), Name('wanted', Load(), lineno=170, col_offset=38)], [], None, None, lineno=170, col_offset=12), lineno=170, col_offset=12)], [If(Compare(Attribute(Name('os', Load(), lineno=171, col_offset=13), 'sep', Load(), lineno=171, col_offset=13), [Eq()], [Str('/', lineno=171, col_offset=23)], lineno=171, col_offset=13), [Expr(Call(Attribute(Name('self', Load(), lineno=172, col_offset=12), 'assertEqual', Load(), lineno=172, col_offset=12), [Call(Name('len', Load(), lineno=172, col_offset=29), [Name('dirs', Load(), lineno=172, col_offset=33)], [], None, None, lineno=172, col_offset=29), Num(2, lineno=172, col_offset=40)], [], None, None, lineno=172, col_offset=12), lineno=172, col_offset=12), Assign([Name('wanted', Store(), lineno=173, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=173, col_offset=21), 'path', Load(), lineno=173, col_offset=21), 'join', Load(), lineno=173, col_offset=21), [Str('xoxo', lineno=173, col_offset=34), Str('lib', lineno=173, col_offset=42), BinOp(Str('python', lineno=173, col_offset=49), Add(), Subscript(Attribute(Name('sys', Load(), lineno=173, col_offset=60), 'version', Load(), lineno=173, col_offset=60), Slice(None, Num(3, lineno=173, col_offset=73), None), Load(), lineno=173, col_offset=60), lineno=173, col_offset=49), Str('site-packages', lineno=174, col_offset=34)], [], None, None, lineno=173, col_offset=21), lineno=173, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=175, col_offset=12), 'assertEqual', Load(), lineno=175, col_offset=12), [Subscript(Name('dirs', Load(), lineno=175, col_offset=29), Index(Num(0, lineno=175, col_offset=34)), Load(), lineno=175, col_offset=29), Name('wanted', Load(), lineno=175, col_offset=38)], [], None, None, lineno=175, col_offset=12), lineno=175, col_offset=12), Assign([Name('wanted', Store(), lineno=176, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=176, col_offset=21), 'path', Load(), lineno=176, col_offset=21), 'join', Load(), lineno=176, col_offset=21), [Str('xoxo', lineno=176, col_offset=34), Str('lib', lineno=176, col_offset=42), Str('site-python', lineno=176, col_offset=49)], [], None, None, lineno=176, col_offset=21), lineno=176, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=177, col_offset=12), 'assertEqual', Load(), lineno=177, col_offset=12), [Subscript(Name('dirs', Load(), lineno=177, col_offset=29), Index(Num(1, lineno=177, col_offset=34)), Load(), lineno=177, col_offset=29), Name('wanted', Load(), lineno=177, col_offset=38)], [], None, None, lineno=177, col_offset=12), lineno=177, col_offset=12)], [Expr(Call(Attribute(Name('self', Load(), lineno=179, col_offset=12), 'assertEqual', Load(), lineno=179, col_offset=12), [Call(Name('len', Load(), lineno=179, col_offset=29), [Name('dirs', Load(), lineno=179, col_offset=33)], [], None, None, lineno=179, col_offset=29), Num(2, lineno=179, col_offset=40)], [], None, None, lineno=179, col_offset=12), lineno=179, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=180, col_offset=12), 'assertEqual', Load(), lineno=180, col_offset=12), [Subscript(Name('dirs', Load(), lineno=180, col_offset=29), Index(Num(0, lineno=180, col_offset=34)), Load(), lineno=180, col_offset=29), Str('xoxo', lineno=180, col_offset=38)], [], None, None, lineno=180, col_offset=12), lineno=180, col_offset=12), Assign([Name('wanted', Store(), lineno=181, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=181, col_offset=21), 'path', Load(), lineno=181, col_offset=21), 'join', Load(), lineno=181, col_offset=21), [Str('xoxo', lineno=181, col_offset=34), Str('lib', lineno=181, col_offset=42), Str('site-packages', lineno=181, col_offset=49)], [], None, None, lineno=181, col_offset=21), lineno=181, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=182, col_offset=12), 'assertEqual', Load(), lineno=182, col_offset=12), [Subscript(Name('dirs', Load(), lineno=182, col_offset=29), Index(Num(1, lineno=182, col_offset=34)), Load(), lineno=182, col_offset=29), Name('wanted', Load(), lineno=182, col_offset=38)], [], None, None, lineno=182, col_offset=12), lineno=182, col_offset=12)], lineno=171, col_offset=13)], lineno=167, col_offset=8), If(BoolOp(And(), [Compare(Attribute(Name('sys', Load(), lineno=185, col_offset=12), 'platform', Load(), lineno=185, col_offset=12), [Eq()], [Str('darwin', lineno=185, col_offset=28)], lineno=185, col_offset=12), Call(Attribute(Name('sysconfig', Load(), lineno=186, col_offset=12), 'get_config_var', Load(), lineno=186, col_offset=12), [Str('PYTHONFRAMEWORK', lineno=186, col_offset=37)], [], None, None, lineno=186, col_offset=12)], lineno=185, col_offset=12), [Assign([Attribute(Name('site', Load(), lineno=187, col_offset=12), 'PREFIXES', Store(), lineno=187, col_offset=12)], List([Str('Python.framework', lineno=187, col_offset=29)], Load(), lineno=187, col_offset=28), lineno=187, col_offset=12), Assign([Name('dirs', Store(), lineno=188, col_offset=12)], Call(Attribute(Name('site', Load(), lineno=188, col_offset=19), 'getsitepackages', Load(), lineno=188, col_offset=19), [], [], None, None, lineno=188, col_offset=19), lineno=188, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=189, col_offset=12), 'assertEqual', Load(), lineno=189, col_offset=12), [Call(Name('len', Load(), lineno=189, col_offset=29), [Name('dirs', Load(), lineno=189, col_offset=33)], [], None, None, lineno=189, col_offset=29), Num(4, lineno=189, col_offset=40)], [], None, None, lineno=189, col_offset=12), lineno=189, col_offset=12), Assign([Name('wanted', Store(), lineno=190, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=190, col_offset=21), 'path', Load(), lineno=190, col_offset=21), 'join', Load(), lineno=190, col_offset=21), [Str('~', lineno=190, col_offset=34), Str('Library', lineno=190, col_offset=39), Str('Python', lineno=190, col_offset=50), Subscript(Attribute(Name('sys', Load(), lineno=191, col_offset=34), 'version', Load(), lineno=191, col_offset=34), Slice(None, Num(3, lineno=191, col_offset=47), None), Load(), lineno=191, col_offset=34), Str('site-packages', lineno=191, col_offset=51)], [], None, None, lineno=190, col_offset=21), lineno=190, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=192, col_offset=12), 'assertEqual', Load(), lineno=192, col_offset=12), [Subscript(Name('dirs', Load(), lineno=192, col_offset=29), Index(Num(2, lineno=192, col_offset=34)), Load(), lineno=192, col_offset=29), Call(Attribute(Attribute(Name('os', Load(), lineno=192, col_offset=38), 'path', Load(), lineno=192, col_offset=38), 'expanduser', Load(), lineno=192, col_offset=38), [Name('wanted', Load(), lineno=192, col_offset=57)], [], None, None, lineno=192, col_offset=38)], [], None, None, lineno=192, col_offset=12), lineno=192, col_offset=12), Assign([Name('wanted', Store(), lineno=193, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=193, col_offset=21), 'path', Load(), lineno=193, col_offset=21), 'join', Load(), lineno=193, col_offset=21), [Str('/Library', lineno=193, col_offset=34), Str('Python', lineno=193, col_offset=46), Subscript(Attribute(Name('sys', Load(), lineno=193, col_offset=56), 'version', Load(), lineno=193, col_offset=56), Slice(None, Num(3, lineno=193, col_offset=69), None), Load(), lineno=193, col_offset=56), Str('site-packages', lineno=194, col_offset=34)], [], None, None, lineno=193, col_offset=21), lineno=193, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=195, col_offset=12), 'assertEqual', Load(), lineno=195, col_offset=12), [Subscript(Name('dirs', Load(), lineno=195, col_offset=29), Index(Num(3, lineno=195, col_offset=34)), Load(), lineno=195, col_offset=29), Name('wanted', Load(), lineno=195, col_offset=38)], [], None, None, lineno=195, col_offset=12), lineno=195, col_offset=12)], [], lineno=185, col_offset=8)], [], lineno=163, col_offset=4)], [], lineno=30, col_offset=0), ClassDef('PthFile', [Name('object', Load(), lineno=197, col_offset=14)], [Expr(Str('Helper class for handling testing of .pth files', lineno=198, col_offset=4), lineno=198, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=200, col_offset=17), Name('filename_base', Param(), lineno=200, col_offset=23), Name('imported', Param(), lineno=200, col_offset=45), Name('good_dirname', Param(), lineno=201, col_offset=20), Name('bad_dirname', Param(), lineno=201, col_offset=48)], None, None, [Name('TESTFN', Load(), lineno=200, col_offset=37), Str('time', lineno=200, col_offset=54), Str('__testdir__', lineno=201, col_offset=33), Str('__bad', lineno=201, col_offset=60)]), [Expr(Str('Initialize instance variables', lineno=202, col_offset=8), lineno=202, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=203, col_offset=8), 'filename', Store(), lineno=203, col_offset=8)], BinOp(Name('filename_base', Load(), lineno=203, col_offset=24), Add(), Str('.pth', lineno=203, col_offset=40), lineno=203, col_offset=24), lineno=203, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=204, col_offset=8), 'base_dir', Store(), lineno=204, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=204, col_offset=24), 'path', Load(), lineno=204, col_offset=24), 'abspath', Load(), lineno=204, col_offset=24), [Str('', lineno=204, col_offset=40)], [], None, None, lineno=204, col_offset=24), lineno=204, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=205, col_offset=8), 'file_path', Store(), lineno=205, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=205, col_offset=25), 'path', Load(), lineno=205, col_offset=25), 'join', Load(), lineno=205, col_offset=25), [Attribute(Name('self', Load(), lineno=205, col_offset=38), 'base_dir', Load(), lineno=205, col_offset=38), Attribute(Name('self', Load(), lineno=205, col_offset=53), 'filename', Load(), lineno=205, col_offset=53)], [], None, None, lineno=205, col_offset=25), lineno=205, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=206, col_offset=8), 'imported', Store(), lineno=206, col_offset=8)], Name('imported', Load(), lineno=206, col_offset=24), lineno=206, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=207, col_offset=8), 'good_dirname', Store(), lineno=207, col_offset=8)], Name('good_dirname', Load(), lineno=207, col_offset=28), lineno=207, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=208, col_offset=8), 'bad_dirname', Store(), lineno=208, col_offset=8)], Name('bad_dirname', Load(), lineno=208, col_offset=27), lineno=208, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=209, col_offset=8), 'good_dir_path', Store(), lineno=209, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=209, col_offset=29), 'path', Load(), lineno=209, col_offset=29), 'join', Load(), lineno=209, col_offset=29), [Attribute(Name('self', Load(), lineno=209, col_offset=42), 'base_dir', Load(), lineno=209, col_offset=42), Attribute(Name('self', Load(), lineno=209, col_offset=57), 'good_dirname', Load(), lineno=209, col_offset=57)], [], None, None, lineno=209, col_offset=29), lineno=209, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=210, col_offset=8), 'bad_dir_path', Store(), lineno=210, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=210, col_offset=28), 'path', Load(), lineno=210, col_offset=28), 'join', Load(), lineno=210, col_offset=28), [Attribute(Name('self', Load(), lineno=210, col_offset=41), 'base_dir', Load(), lineno=210, col_offset=41), Attribute(Name('self', Load(), lineno=210, col_offset=56), 'bad_dirname', Load(), lineno=210, col_offset=56)], [], None, None, lineno=210, col_offset=28), lineno=210, col_offset=8)], [], lineno=200, col_offset=4), FunctionDef('create', arguments([Name('self', Param(), lineno=212, col_offset=15)], None, None, []), [Expr(Str('Create a .pth file with a comment, blank lines, an ``import\n        <self.imported>``, a line with self.good_dirname, and a line with\n        self.bad_dirname.\n\n        Creation of the directory for self.good_dir_path (based off of\n        self.good_dirname) is also performed.\n\n        Make sure to call self.cleanup() to undo anything done by this method.\n\n        ', lineno=222, col_offset=-1), lineno=222, col_offset=-1), Assign([Name('FILE', Store(), lineno=223, col_offset=8)], Call(Name('open', Load(), lineno=223, col_offset=15), [Attribute(Name('self', Load(), lineno=223, col_offset=20), 'file_path', Load(), lineno=223, col_offset=20), Str('w', lineno=223, col_offset=36)], [], None, None, lineno=223, col_offset=15), lineno=223, col_offset=8), TryFinally([Print(Name('FILE', Load(), lineno=225, col_offset=19), [Str('#import @bad module name', lineno=225, col_offset=25)], True, lineno=225, col_offset=12), Print(Name('FILE', Load(), lineno=226, col_offset=19), [Str('\n', lineno=226, col_offset=25)], True, lineno=226, col_offset=12), Print(Name('FILE', Load(), lineno=227, col_offset=19), [BinOp(Str('import %s', lineno=227, col_offset=25), Mod(), Attribute(Name('self', Load(), lineno=227, col_offset=39), 'imported', Load(), lineno=227, col_offset=39), lineno=227, col_offset=25)], True, lineno=227, col_offset=12), Print(Name('FILE', Load(), lineno=228, col_offset=19), [Attribute(Name('self', Load(), lineno=228, col_offset=25), 'good_dirname', Load(), lineno=228, col_offset=25)], True, lineno=228, col_offset=12), Print(Name('FILE', Load(), lineno=229, col_offset=19), [Attribute(Name('self', Load(), lineno=229, col_offset=25), 'bad_dirname', Load(), lineno=229, col_offset=25)], True, lineno=229, col_offset=12)], [Expr(Call(Attribute(Name('FILE', Load(), lineno=231, col_offset=12), 'close', Load(), lineno=231, col_offset=12), [], [], None, None, lineno=231, col_offset=12), lineno=231, col_offset=12)], lineno=224, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=232, col_offset=8), 'mkdir', Load(), lineno=232, col_offset=8), [Attribute(Name('self', Load(), lineno=232, col_offset=17), 'good_dir_path', Load(), lineno=232, col_offset=17)], [], None, None, lineno=232, col_offset=8), lineno=232, col_offset=8)], [], lineno=212, col_offset=4), FunctionDef('cleanup', arguments([Name('self', Param(), lineno=234, col_offset=16), Name('prep', Param(), lineno=234, col_offset=22)], None, None, [Name('False', Load(), lineno=234, col_offset=27)]), [Expr(Str('Make sure that the .pth file is deleted, self.imported is not in\n        sys.modules, and that both self.good_dirname and self.bad_dirname are\n        not existing directories.', lineno=237, col_offset=-1), lineno=237, col_offset=-1), If(Call(Attribute(Attribute(Name('os', Load(), lineno=238, col_offset=11), 'path', Load(), lineno=238, col_offset=11), 'exists', Load(), lineno=238, col_offset=11), [Attribute(Name('self', Load(), lineno=238, col_offset=26), 'file_path', Load(), lineno=238, col_offset=26)], [], None, None, lineno=238, col_offset=11), [Expr(Call(Attribute(Name('os', Load(), lineno=239, col_offset=12), 'remove', Load(), lineno=239, col_offset=12), [Attribute(Name('self', Load(), lineno=239, col_offset=22), 'file_path', Load(), lineno=239, col_offset=22)], [], None, None, lineno=239, col_offset=12), lineno=239, col_offset=12)], [], lineno=238, col_offset=8), If(Name('prep', Load(), lineno=240, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=241, col_offset=12), 'imported_module', Store(), lineno=241, col_offset=12)], Call(Attribute(Attribute(Name('sys', Load(), lineno=241, col_offset=35), 'modules', Load(), lineno=241, col_offset=35), 'get', Load(), lineno=241, col_offset=35), [Attribute(Name('self', Load(), lineno=241, col_offset=51), 'imported', Load(), lineno=241, col_offset=51)], [], None, None, lineno=241, col_offset=35), lineno=241, col_offset=12), If(Attribute(Name('self', Load(), lineno=242, col_offset=15), 'imported_module', Load(), lineno=242, col_offset=15), [Delete([Subscript(Attribute(Name('sys', Load(), lineno=243, col_offset=20), 'modules', Load(), lineno=243, col_offset=20), Index(Attribute(Name('self', Load(), lineno=243, col_offset=32), 'imported', Load(), lineno=243, col_offset=32)), Del(), lineno=243, col_offset=20)], lineno=243, col_offset=16)], [], lineno=242, col_offset=12)], [If(Attribute(Name('self', Load(), lineno=245, col_offset=15), 'imported_module', Load(), lineno=245, col_offset=15), [Assign([Subscript(Attribute(Name('sys', Load(), lineno=246, col_offset=16), 'modules', Load(), lineno=246, col_offset=16), Index(Attribute(Name('self', Load(), lineno=246, col_offset=28), 'imported', Load(), lineno=246, col_offset=28)), Store(), lineno=246, col_offset=16)], Attribute(Name('self', Load(), lineno=246, col_offset=45), 'imported_module', Load(), lineno=246, col_offset=45), lineno=246, col_offset=16)], [], lineno=245, col_offset=12)], lineno=240, col_offset=8), If(Call(Attribute(Attribute(Name('os', Load(), lineno=247, col_offset=11), 'path', Load(), lineno=247, col_offset=11), 'exists', Load(), lineno=247, col_offset=11), [Attribute(Name('self', Load(), lineno=247, col_offset=26), 'good_dir_path', Load(), lineno=247, col_offset=26)], [], None, None, lineno=247, col_offset=11), [Expr(Call(Attribute(Name('os', Load(), lineno=248, col_offset=12), 'rmdir', Load(), lineno=248, col_offset=12), [Attribute(Name('self', Load(), lineno=248, col_offset=21), 'good_dir_path', Load(), lineno=248, col_offset=21)], [], None, None, lineno=248, col_offset=12), lineno=248, col_offset=12)], [], lineno=247, col_offset=8), If(Call(Attribute(Attribute(Name('os', Load(), lineno=249, col_offset=11), 'path', Load(), lineno=249, col_offset=11), 'exists', Load(), lineno=249, col_offset=11), [Attribute(Name('self', Load(), lineno=249, col_offset=26), 'bad_dir_path', Load(), lineno=249, col_offset=26)], [], None, None, lineno=249, col_offset=11), [Expr(Call(Attribute(Name('os', Load(), lineno=250, col_offset=12), 'rmdir', Load(), lineno=250, col_offset=12), [Attribute(Name('self', Load(), lineno=250, col_offset=21), 'bad_dir_path', Load(), lineno=250, col_offset=21)], [], None, None, lineno=250, col_offset=12), lineno=250, col_offset=12)], [], lineno=249, col_offset=8)], [], lineno=234, col_offset=4)], [], lineno=197, col_offset=0), ClassDef('ImportSideEffectTests', [Attribute(Name('unittest', Load(), lineno=252, col_offset=28), 'TestCase', Load(), lineno=252, col_offset=28)], [Expr(Str("Test side-effects from importing 'site'.", lineno=253, col_offset=4), lineno=253, col_offset=4), FunctionDef('setUp', arguments([Name('self', Param(), lineno=255, col_offset=14)], None, None, []), [Expr(Str('Make a copy of sys.path', lineno=256, col_offset=8), lineno=256, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=257, col_offset=8), 'sys_path', Store(), lineno=257, col_offset=8)], Subscript(Attribute(Name('sys', Load(), lineno=257, col_offset=24), 'path', Load(), lineno=257, col_offset=24), Slice(None, None, None), Load(), lineno=257, col_offset=24), lineno=257, col_offset=8)], [], lineno=255, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=259, col_offset=17)], None, None, []), [Expr(Str('Restore sys.path', lineno=260, col_offset=8), lineno=260, col_offset=8), Assign([Subscript(Attribute(Name('sys', Load(), lineno=261, col_offset=8), 'path', Load(), lineno=261, col_offset=8), Slice(None, None, None), Store(), lineno=261, col_offset=8)], Attribute(Name('self', Load(), lineno=261, col_offset=22), 'sys_path', Load(), lineno=261, col_offset=22), lineno=261, col_offset=8)], [], lineno=259, col_offset=4), FunctionDef('test_abs__file__', arguments([Name('self', Param(), lineno=263, col_offset=25)], None, None, []), [Expr(Call(Attribute(Name('site', Load(), lineno=267, col_offset=8), 'abs__file__', Load(), lineno=267, col_offset=8), [], [], None, None, lineno=267, col_offset=8), lineno=267, col_offset=8), For(Name('module', Store(), lineno=268, col_offset=12), Tuple([Name('sys', Load(), lineno=268, col_offset=23), Name('os', Load(), lineno=268, col_offset=28), Name('__builtin__', Load(), lineno=268, col_offset=32)], Load(), lineno=268, col_offset=23), [TryExcept([Expr(Call(Attribute(Name('self', Load(), lineno=270, col_offset=16), 'assertTrue', Load(), lineno=270, col_offset=16), [Call(Attribute(Attribute(Name('os', Load(), lineno=270, col_offset=32), 'path', Load(), lineno=270, col_offset=32), 'isabs', Load(), lineno=270, col_offset=32), [Attribute(Name('module', Load(), lineno=270, col_offset=46), '__file__', Load(), lineno=270, col_offset=46)], [], None, None, lineno=270, col_offset=32), Call(Name('repr', Load(), lineno=270, col_offset=64), [Name('module', Load(), lineno=270, col_offset=69)], [], None, None, lineno=270, col_offset=64)], [], None, None, lineno=270, col_offset=16), lineno=270, col_offset=16)], [ExceptHandler(Name('AttributeError', Load(), lineno=271, col_offset=19), None, [Continue( lineno=272, col_offset=16)], lineno=271, col_offset=12)], [], lineno=269, col_offset=12)], [], lineno=268, col_offset=8)], [], lineno=263, col_offset=4), FunctionDef('test_no_duplicate_paths', arguments([Name('self', Param(), lineno=277, col_offset=32)], None, None, []), [Expr(Call(Attribute(Name('site', Load(), lineno=280, col_offset=8), 'removeduppaths', Load(), lineno=280, col_offset=8), [], [], None, None, lineno=280, col_offset=8), lineno=280, col_offset=8), Assign([Name('seen_paths', Store(), lineno=281, col_offset=8)], Call(Name('set', Load(), lineno=281, col_offset=21), [], [], None, None, lineno=281, col_offset=21), lineno=281, col_offset=8), For(Name('path', Store(), lineno=282, col_offset=12), Attribute(Name('sys', Load(), lineno=282, col_offset=20), 'path', Load(), lineno=282, col_offset=20), [Expr(Call(Attribute(Name('self', Load(), lineno=283, col_offset=12), 'assertNotIn', Load(), lineno=283, col_offset=12), [Name('path', Load(), lineno=283, col_offset=29), Name('seen_paths', Load(), lineno=283, col_offset=35)], [], None, None, lineno=283, col_offset=12), lineno=283, col_offset=12), Expr(Call(Attribute(Name('seen_paths', Load(), lineno=284, col_offset=12), 'add', Load(), lineno=284, col_offset=12), [Name('path', Load(), lineno=284, col_offset=27)], [], None, None, lineno=284, col_offset=12), lineno=284, col_offset=12)], [], lineno=282, col_offset=8)], [], lineno=277, col_offset=4), FunctionDef('test_add_build_dir', arguments([Name('self', Param(), lineno=286, col_offset=27)], None, None, []), [Pass( lineno=290, col_offset=8)], [], lineno=286, col_offset=4), FunctionDef('test_setting_quit', arguments([Name('self', Param(), lineno=292, col_offset=26)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=294, col_offset=8), 'assertTrue', Load(), lineno=294, col_offset=8), [Call(Name('hasattr', Load(), lineno=294, col_offset=24), [Name('__builtin__', Load(), lineno=294, col_offset=32), Str('quit', lineno=294, col_offset=45)], [], None, None, lineno=294, col_offset=24)], [], None, None, lineno=294, col_offset=8), lineno=294, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=295, col_offset=8), 'assertTrue', Load(), lineno=295, col_offset=8), [Call(Name('hasattr', Load(), lineno=295, col_offset=24), [Name('__builtin__', Load(), lineno=295, col_offset=32), Str('exit', lineno=295, col_offset=45)], [], None, None, lineno=295, col_offset=24)], [], None, None, lineno=295, col_offset=8), lineno=295, col_offset=8)], [], lineno=292, col_offset=4), FunctionDef('test_setting_copyright', arguments([Name('self', Param(), lineno=297, col_offset=31)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=299, col_offset=8), 'assertTrue', Load(), lineno=299, col_offset=8), [Call(Name('hasattr', Load(), lineno=299, col_offset=24), [Name('__builtin__', Load(), lineno=299, col_offset=32), Str('copyright', lineno=299, col_offset=45)], [], None, None, lineno=299, col_offset=24)], [], None, None, lineno=299, col_offset=8), lineno=299, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=300, col_offset=8), 'assertTrue', Load(), lineno=300, col_offset=8), [Call(Name('hasattr', Load(), lineno=300, col_offset=24), [Name('__builtin__', Load(), lineno=300, col_offset=32), Str('credits', lineno=300, col_offset=45)], [], None, None, lineno=300, col_offset=24)], [], None, None, lineno=300, col_offset=8), lineno=300, col_offset=8)], [], lineno=297, col_offset=4), FunctionDef('test_setting_help', arguments([Name('self', Param(), lineno=302, col_offset=26)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=304, col_offset=8), 'assertTrue', Load(), lineno=304, col_offset=8), [Call(Name('hasattr', Load(), lineno=304, col_offset=24), [Name('__builtin__', Load(), lineno=304, col_offset=32), Str('help', lineno=304, col_offset=45)], [], None, None, lineno=304, col_offset=24)], [], None, None, lineno=304, col_offset=8), lineno=304, col_offset=8)], [], lineno=302, col_offset=4), FunctionDef('test_aliasing_mbcs', arguments([Name('self', Param(), lineno=306, col_offset=27)], None, None, []), [If(Compare(Attribute(Name('sys', Load(), lineno=307, col_offset=11), 'platform', Load(), lineno=307, col_offset=11), [Eq()], [Str('win32', lineno=307, col_offset=27)], lineno=307, col_offset=11), [Import([alias('locale', None)], lineno=308, col_offset=12), If(Call(Attribute(Subscript(Call(Attribute(Name('locale', Load(), lineno=309, col_offset=15), 'getdefaultlocale', Load(), lineno=309, col_offset=15), [], [], None, None, lineno=309, col_offset=15), Index(Num(1, lineno=309, col_offset=41)), Load(), lineno=309, col_offset=15), 'startswith', Load(), lineno=309, col_offset=15), [Str('cp', lineno=309, col_offset=55)], [], None, None, lineno=309, col_offset=15), [For(Name('value', Store(), lineno=310, col_offset=20), Call(Attribute(Attribute(Attribute(Name('encodings', Load(), lineno=310, col_offset=29), 'aliases', Load(), lineno=310, col_offset=29), 'aliases', Load(), lineno=310, col_offset=29), 'itervalues', Load(), lineno=310, col_offset=29), [], [], None, None, lineno=310, col_offset=29), [If(Compare(Name('value', Load(), lineno=311, col_offset=23), [Eq()], [Str('mbcs', lineno=311, col_offset=32)], lineno=311, col_offset=23), [Break( lineno=312, col_offset=24)], [], lineno=311, col_offset=20)], [Expr(Call(Attribute(Name('self', Load(), lineno=314, col_offset=20), 'fail', Load(), lineno=314, col_offset=20), [Str('did not alias mbcs', lineno=314, col_offset=30)], [], None, None, lineno=314, col_offset=20), lineno=314, col_offset=20)], lineno=310, col_offset=16)], [], lineno=309, col_offset=12)], [], lineno=307, col_offset=8)], [], lineno=306, col_offset=4), FunctionDef('test_setdefaultencoding_removed', arguments([Name('self', Param(), lineno=316, col_offset=40)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=318, col_offset=8), 'assertTrue', Load(), lineno=318, col_offset=8), [UnaryOp(Not(), Call(Name('hasattr', Load(), lineno=318, col_offset=28), [Name('sys', Load(), lineno=318, col_offset=36), Str('setdefaultencoding', lineno=318, col_offset=41)], [], None, None, lineno=318, col_offset=28), lineno=318, col_offset=24)], [], None, None, lineno=318, col_offset=8), lineno=318, col_offset=8)], [], lineno=316, col_offset=4), FunctionDef('test_sitecustomize_executed', arguments([Name('self', Param(), lineno=320, col_offset=36)], None, None, []), [If(Compare(Str('sitecustomize', lineno=322, col_offset=11), [NotIn()], [Attribute(Name('sys', Load(), lineno=322, col_offset=34), 'modules', Load(), lineno=322, col_offset=34)], lineno=322, col_offset=11), [TryExcept([Import([alias('sitecustomize', None)], lineno=324, col_offset=16)], [ExceptHandler(Name('ImportError', Load(), lineno=325, col_offset=19), None, [Pass( lineno=326, col_offset=16)], lineno=325, col_offset=12)], [Expr(Call(Attribute(Name('self', Load(), lineno=328, col_offset=16), 'fail', Load(), lineno=328, col_offset=16), [Str('sitecustomize not imported automatically', lineno=328, col_offset=26)], [], None, None, lineno=328, col_offset=16), lineno=328, col_offset=16)], lineno=323, col_offset=12)], [], lineno=322, col_offset=8)], [], lineno=320, col_offset=4)], [], lineno=252, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Name('run_unittest', Load(), lineno=331, col_offset=4), [Name('HelperFunctionsTests', Load(), lineno=331, col_offset=17), Name('ImportSideEffectTests', Load(), lineno=331, col_offset=39)], [], None, None, lineno=331, col_offset=4), lineno=331, col_offset=4)], [], lineno=330, col_offset=0), If(Compare(Name('__name__', Load(), lineno=333, col_offset=3), [Eq()], [Str('__main__', lineno=333, col_offset=15)], lineno=333, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=334, col_offset=4), [], [], None, None, lineno=334, col_offset=4), lineno=334, col_offset=4)], [], lineno=333, col_offset=0)])
