Module([Expr(Str('HTTP/1.1 client library\n\n<intro stuff goes here>\n<other stuff, too>\n\nHTTPConnection goes through a number of "states", which define when a client\nmay legally make another request or fetch the response for a particular\nrequest. This diagram details these state transitions:\n\n    (null)\n      |\n      | HTTPConnection()\n      v\n    Idle\n      |\n      | putrequest()\n      v\n    Request-started\n      |\n      | ( putheader() )*  endheaders()\n      v\n    Request-sent\n      |\n      | response = getresponse()\n      v\n    Unread-response   [Response-headers-read]\n      |\\____________________\n      |                     |\n      | response.read()     | putrequest()\n      v                     v\n    Idle                  Req-started-unread-response\n                     ______/|\n                   /        |\n   response.read() |        | ( putheader() )*  endheaders()\n                   v        v\n       Request-started    Req-sent-unread-response\n                            |\n                            | response.read()\n                            v\n                          Request-sent\n\nThis diagram presents the following rules:\n  -- a second request may not be started until {response-headers-read}\n  -- a response [object] cannot be retrieved until {request-sent}\n  -- there is no differentiation between an unread response body and a\n     partially read response body\n\nNote: this enforcement is applied by the HTTPConnection class. The\n      HTTPResponse class does not enforce this state machine, which\n      implies sophisticated clients may accelerate the request/response\n      pipeline. Caution should be taken, though: accelerating the states\n      beyond the above pattern may imply knowledge of the server\'s\n      connection-close behavior for certain requests. For example, it\n      is impossible to tell whether the server will close the connection\n      UNTIL the response headers have been read; this means that further\n      requests cannot be placed into the pipeline until it is known that\n      the server will NOT be closing the connection.\n\nLogical State                  __state            __response\n-------------                  -------            ----------\nIdle                           _CS_IDLE           None\nRequest-started                _CS_REQ_STARTED    None\nRequest-sent                   _CS_REQ_SENT       None\nUnread-response                _CS_IDLE           <response_class>\nReq-started-unread-response    _CS_REQ_STARTED    <response_class>\nReq-sent-unread-response       _CS_REQ_SENT       <response_class>\n', lineno=67, col_offset=-1), lineno=67, col_offset=-1), ImportFrom('array', [alias('array', None)], 0, lineno=69, col_offset=0), Import([alias('os', None)], lineno=70, col_offset=0), Import([alias('socket', None)], lineno=71, col_offset=0), ImportFrom('sys', [alias('py3kwarning', None)], 0, lineno=72, col_offset=0), ImportFrom('urlparse', [alias('urlsplit', None)], 0, lineno=73, col_offset=0), Import([alias('warnings', None)], lineno=74, col_offset=0), With(Call(Attribute(Name('warnings', Load(), lineno=75, col_offset=5), 'catch_warnings', Load(), lineno=75, col_offset=5), [], [], None, None, lineno=75, col_offset=5), None, [If(Name('py3kwarning', Load(), lineno=76, col_offset=7), [Expr(Call(Attribute(Name('warnings', Load(), lineno=77, col_offset=8), 'filterwarnings', Load(), lineno=77, col_offset=8), [Str('ignore', lineno=77, col_offset=32), Str('.*mimetools has been removed', lineno=77, col_offset=42), Name('DeprecationWarning', Load(), lineno=78, col_offset=32)], [], None, None, lineno=77, col_offset=8), lineno=77, col_offset=8)], [], lineno=76, col_offset=4), Import([alias('mimetools', None)], lineno=79, col_offset=4)], lineno=75, col_offset=5), TryExcept([ImportFrom('cStringIO', [alias('StringIO', None)], 0, lineno=82, col_offset=4)], [ExceptHandler(Name('ImportError', Load(), lineno=83, col_offset=7), None, [ImportFrom('StringIO', [alias('StringIO', None)], 0, lineno=84, col_offset=4)], lineno=83, col_offset=0)], [], lineno=81, col_offset=0), Assign([Name('__all__', Store(), lineno=86, col_offset=0)], List([Str('HTTP', lineno=86, col_offset=11), Str('HTTPResponse', lineno=86, col_offset=19), Str('HTTPConnection', lineno=86, col_offset=35), Str('HTTPException', lineno=87, col_offset=11), Str('NotConnected', lineno=87, col_offset=28), Str('UnknownProtocol', lineno=87, col_offset=44), Str('UnknownTransferEncoding', lineno=88, col_offset=11), Str('UnimplementedFileMode', lineno=88, col_offset=38), Str('IncompleteRead', lineno=89, col_offset=11), Str('InvalidURL', lineno=89, col_offset=29), Str('ImproperConnectionState', lineno=89, col_offset=43), Str('CannotSendRequest', lineno=90, col_offset=11), Str('CannotSendHeader', lineno=90, col_offset=32), Str('ResponseNotReady', lineno=90, col_offset=52), Str('BadStatusLine', lineno=91, col_offset=11), Str('error', lineno=91, col_offset=28), Str('responses', lineno=91, col_offset=37)], Load(), lineno=86, col_offset=10), lineno=86, col_offset=0), Assign([Name('HTTP_PORT', Store(), lineno=93, col_offset=0)], Num(80, lineno=93, col_offset=12), lineno=93, col_offset=0), Assign([Name('HTTPS_PORT', Store(), lineno=94, col_offset=0)], Num(443, lineno=94, col_offset=13), lineno=94, col_offset=0), Assign([Name('_UNKNOWN', Store(), lineno=96, col_offset=0)], Str('UNKNOWN', lineno=96, col_offset=11), lineno=96, col_offset=0), Assign([Name('_CS_IDLE', Store(), lineno=99, col_offset=0)], Str('Idle', lineno=99, col_offset=11), lineno=99, col_offset=0), Assign([Name('_CS_REQ_STARTED', Store(), lineno=100, col_offset=0)], Str('Request-started', lineno=100, col_offset=18), lineno=100, col_offset=0), Assign([Name('_CS_REQ_SENT', Store(), lineno=101, col_offset=0)], Str('Request-sent', lineno=101, col_offset=15), lineno=101, col_offset=0), Assign([Name('CONTINUE', Store(), lineno=105, col_offset=0)], Num(100, lineno=105, col_offset=11), lineno=105, col_offset=0), Assign([Name('SWITCHING_PROTOCOLS', Store(), lineno=106, col_offset=0)], Num(101, lineno=106, col_offset=22), lineno=106, col_offset=0), Assign([Name('PROCESSING', Store(), lineno=107, col_offset=0)], Num(102, lineno=107, col_offset=13), lineno=107, col_offset=0), Assign([Name('OK', Store(), lineno=110, col_offset=0)], Num(200, lineno=110, col_offset=5), lineno=110, col_offset=0), Assign([Name('CREATED', Store(), lineno=111, col_offset=0)], Num(201, lineno=111, col_offset=10), lineno=111, col_offset=0), Assign([Name('ACCEPTED', Store(), lineno=112, col_offset=0)], Num(202, lineno=112, col_offset=11), lineno=112, col_offset=0), Assign([Name('NON_AUTHORITATIVE_INFORMATION', Store(), lineno=113, col_offset=0)], Num(203, lineno=113, col_offset=32), lineno=113, col_offset=0), Assign([Name('NO_CONTENT', Store(), lineno=114, col_offset=0)], Num(204, lineno=114, col_offset=13), lineno=114, col_offset=0), Assign([Name('RESET_CONTENT', Store(), lineno=115, col_offset=0)], Num(205, lineno=115, col_offset=16), lineno=115, col_offset=0), Assign([Name('PARTIAL_CONTENT', Store(), lineno=116, col_offset=0)], Num(206, lineno=116, col_offset=18), lineno=116, col_offset=0), Assign([Name('MULTI_STATUS', Store(), lineno=117, col_offset=0)], Num(207, lineno=117, col_offset=15), lineno=117, col_offset=0), Assign([Name('IM_USED', Store(), lineno=118, col_offset=0)], Num(226, lineno=118, col_offset=10), lineno=118, col_offset=0), Assign([Name('MULTIPLE_CHOICES', Store(), lineno=121, col_offset=0)], Num(300, lineno=121, col_offset=19), lineno=121, col_offset=0), Assign([Name('MOVED_PERMANENTLY', Store(), lineno=122, col_offset=0)], Num(301, lineno=122, col_offset=20), lineno=122, col_offset=0), Assign([Name('FOUND', Store(), lineno=123, col_offset=0)], Num(302, lineno=123, col_offset=8), lineno=123, col_offset=0), Assign([Name('SEE_OTHER', Store(), lineno=124, col_offset=0)], Num(303, lineno=124, col_offset=12), lineno=124, col_offset=0), Assign([Name('NOT_MODIFIED', Store(), lineno=125, col_offset=0)], Num(304, lineno=125, col_offset=15), lineno=125, col_offset=0), Assign([Name('USE_PROXY', Store(), lineno=126, col_offset=0)], Num(305, lineno=126, col_offset=12), lineno=126, col_offset=0), Assign([Name('TEMPORARY_REDIRECT', Store(), lineno=127, col_offset=0)], Num(307, lineno=127, col_offset=21), lineno=127, col_offset=0), Assign([Name('BAD_REQUEST', Store(), lineno=130, col_offset=0)], Num(400, lineno=130, col_offset=14), lineno=130, col_offset=0), Assign([Name('UNAUTHORIZED', Store(), lineno=131, col_offset=0)], Num(401, lineno=131, col_offset=15), lineno=131, col_offset=0), Assign([Name('PAYMENT_REQUIRED', Store(), lineno=132, col_offset=0)], Num(402, lineno=132, col_offset=19), lineno=132, col_offset=0), Assign([Name('FORBIDDEN', Store(), lineno=133, col_offset=0)], Num(403, lineno=133, col_offset=12), lineno=133, col_offset=0), Assign([Name('NOT_FOUND', Store(), lineno=134, col_offset=0)], Num(404, lineno=134, col_offset=12), lineno=134, col_offset=0), Assign([Name('METHOD_NOT_ALLOWED', Store(), lineno=135, col_offset=0)], Num(405, lineno=135, col_offset=21), lineno=135, col_offset=0), Assign([Name('NOT_ACCEPTABLE', Store(), lineno=136, col_offset=0)], Num(406, lineno=136, col_offset=17), lineno=136, col_offset=0), Assign([Name('PROXY_AUTHENTICATION_REQUIRED', Store(), lineno=137, col_offset=0)], Num(407, lineno=137, col_offset=32), lineno=137, col_offset=0), Assign([Name('REQUEST_TIMEOUT', Store(), lineno=138, col_offset=0)], Num(408, lineno=138, col_offset=18), lineno=138, col_offset=0), Assign([Name('CONFLICT', Store(), lineno=139, col_offset=0)], Num(409, lineno=139, col_offset=11), lineno=139, col_offset=0), Assign([Name('GONE', Store(), lineno=140, col_offset=0)], Num(410, lineno=140, col_offset=7), lineno=140, col_offset=0), Assign([Name('LENGTH_REQUIRED', Store(), lineno=141, col_offset=0)], Num(411, lineno=141, col_offset=18), lineno=141, col_offset=0), Assign([Name('PRECONDITION_FAILED', Store(), lineno=142, col_offset=0)], Num(412, lineno=142, col_offset=22), lineno=142, col_offset=0), Assign([Name('REQUEST_ENTITY_TOO_LARGE', Store(), lineno=143, col_offset=0)], Num(413, lineno=143, col_offset=27), lineno=143, col_offset=0), Assign([Name('REQUEST_URI_TOO_LONG', Store(), lineno=144, col_offset=0)], Num(414, lineno=144, col_offset=23), lineno=144, col_offset=0), Assign([Name('UNSUPPORTED_MEDIA_TYPE', Store(), lineno=145, col_offset=0)], Num(415, lineno=145, col_offset=25), lineno=145, col_offset=0), Assign([Name('REQUESTED_RANGE_NOT_SATISFIABLE', Store(), lineno=146, col_offset=0)], Num(416, lineno=146, col_offset=34), lineno=146, col_offset=0), Assign([Name('EXPECTATION_FAILED', Store(), lineno=147, col_offset=0)], Num(417, lineno=147, col_offset=21), lineno=147, col_offset=0), Assign([Name('UNPROCESSABLE_ENTITY', Store(), lineno=148, col_offset=0)], Num(422, lineno=148, col_offset=23), lineno=148, col_offset=0), Assign([Name('LOCKED', Store(), lineno=149, col_offset=0)], Num(423, lineno=149, col_offset=9), lineno=149, col_offset=0), Assign([Name('FAILED_DEPENDENCY', Store(), lineno=150, col_offset=0)], Num(424, lineno=150, col_offset=20), lineno=150, col_offset=0), Assign([Name('UPGRADE_REQUIRED', Store(), lineno=151, col_offset=0)], Num(426, lineno=151, col_offset=19), lineno=151, col_offset=0), Assign([Name('INTERNAL_SERVER_ERROR', Store(), lineno=154, col_offset=0)], Num(500, lineno=154, col_offset=24), lineno=154, col_offset=0), Assign([Name('NOT_IMPLEMENTED', Store(), lineno=155, col_offset=0)], Num(501, lineno=155, col_offset=18), lineno=155, col_offset=0), Assign([Name('BAD_GATEWAY', Store(), lineno=156, col_offset=0)], Num(502, lineno=156, col_offset=14), lineno=156, col_offset=0), Assign([Name('SERVICE_UNAVAILABLE', Store(), lineno=157, col_offset=0)], Num(503, lineno=157, col_offset=22), lineno=157, col_offset=0), Assign([Name('GATEWAY_TIMEOUT', Store(), lineno=158, col_offset=0)], Num(504, lineno=158, col_offset=18), lineno=158, col_offset=0), Assign([Name('HTTP_VERSION_NOT_SUPPORTED', Store(), lineno=159, col_offset=0)], Num(505, lineno=159, col_offset=29), lineno=159, col_offset=0), Assign([Name('INSUFFICIENT_STORAGE', Store(), lineno=160, col_offset=0)], Num(507, lineno=160, col_offset=23), lineno=160, col_offset=0), Assign([Name('NOT_EXTENDED', Store(), lineno=161, col_offset=0)], Num(510, lineno=161, col_offset=15), lineno=161, col_offset=0), Assign([Name('responses', Store(), lineno=164, col_offset=0)], Dict([Num(100, lineno=165, col_offset=4), Num(101, lineno=166, col_offset=4), Num(200, lineno=168, col_offset=4), Num(201, lineno=169, col_offset=4), Num(202, lineno=170, col_offset=4), Num(203, lineno=171, col_offset=4), Num(204, lineno=172, col_offset=4), Num(205, lineno=173, col_offset=4), Num(206, lineno=174, col_offset=4), Num(300, lineno=176, col_offset=4), Num(301, lineno=177, col_offset=4), Num(302, lineno=178, col_offset=4), Num(303, lineno=179, col_offset=4), Num(304, lineno=180, col_offset=4), Num(305, lineno=181, col_offset=4), Num(306, lineno=182, col_offset=4), Num(307, lineno=183, col_offset=4), Num(400, lineno=185, col_offset=4), Num(401, lineno=186, col_offset=4), Num(402, lineno=187, col_offset=4), Num(403, lineno=188, col_offset=4), Num(404, lineno=189, col_offset=4), Num(405, lineno=190, col_offset=4), Num(406, lineno=191, col_offset=4), Num(407, lineno=192, col_offset=4), Num(408, lineno=193, col_offset=4), Num(409, lineno=194, col_offset=4), Num(410, lineno=195, col_offset=4), Num(411, lineno=196, col_offset=4), Num(412, lineno=197, col_offset=4), Num(413, lineno=198, col_offset=4), Num(414, lineno=199, col_offset=4), Num(415, lineno=200, col_offset=4), Num(416, lineno=201, col_offset=4), Num(417, lineno=202, col_offset=4), Num(500, lineno=204, col_offset=4), Num(501, lineno=205, col_offset=4), Num(502, lineno=206, col_offset=4), Num(503, lineno=207, col_offset=4), Num(504, lineno=208, col_offset=4), Num(505, lineno=209, col_offset=4)], [Str('Continue', lineno=165, col_offset=9), Str('Switching Protocols', lineno=166, col_offset=9), Str('OK', lineno=168, col_offset=9), Str('Created', lineno=169, col_offset=9), Str('Accepted', lineno=170, col_offset=9), Str('Non-Authoritative Information', lineno=171, col_offset=9), Str('No Content', lineno=172, col_offset=9), Str('Reset Content', lineno=173, col_offset=9), Str('Partial Content', lineno=174, col_offset=9), Str('Multiple Choices', lineno=176, col_offset=9), Str('Moved Permanently', lineno=177, col_offset=9), Str('Found', lineno=178, col_offset=9), Str('See Other', lineno=179, col_offset=9), Str('Not Modified', lineno=180, col_offset=9), Str('Use Proxy', lineno=181, col_offset=9), Str('(Unused)', lineno=182, col_offset=9), Str('Temporary Redirect', lineno=183, col_offset=9), Str('Bad Request', lineno=185, col_offset=9), Str('Unauthorized', lineno=186, col_offset=9), Str('Payment Required', lineno=187, col_offset=9), Str('Forbidden', lineno=188, col_offset=9), Str('Not Found', lineno=189, col_offset=9), Str('Method Not Allowed', lineno=190, col_offset=9), Str('Not Acceptable', lineno=191, col_offset=9), Str('Proxy Authentication Required', lineno=192, col_offset=9), Str('Request Timeout', lineno=193, col_offset=9), Str('Conflict', lineno=194, col_offset=9), Str('Gone', lineno=195, col_offset=9), Str('Length Required', lineno=196, col_offset=9), Str('Precondition Failed', lineno=197, col_offset=9), Str('Request Entity Too Large', lineno=198, col_offset=9), Str('Request-URI Too Long', lineno=199, col_offset=9), Str('Unsupported Media Type', lineno=200, col_offset=9), Str('Requested Range Not Satisfiable', lineno=201, col_offset=9), Str('Expectation Failed', lineno=202, col_offset=9), Str('Internal Server Error', lineno=204, col_offset=9), Str('Not Implemented', lineno=205, col_offset=9), Str('Bad Gateway', lineno=206, col_offset=9), Str('Service Unavailable', lineno=207, col_offset=9), Str('Gateway Timeout', lineno=208, col_offset=9), Str('HTTP Version Not Supported', lineno=209, col_offset=9)], lineno=164, col_offset=12), lineno=164, col_offset=0), Assign([Name('MAXAMOUNT', Store(), lineno=213, col_offset=0)], Num(1048576, lineno=213, col_offset=12), lineno=213, col_offset=0), ClassDef('HTTPMessage', [Attribute(Name('mimetools', Load(), lineno=215, col_offset=18), 'Message', Load(), lineno=215, col_offset=18)], [FunctionDef('addheader', arguments([Name('self', Param(), lineno=217, col_offset=18), Name('key', Param(), lineno=217, col_offset=24), Name('value', Param(), lineno=217, col_offset=29)], None, None, []), [Expr(Str('Add header for field key handling repeats.', lineno=218, col_offset=8), lineno=218, col_offset=8), Assign([Name('prev', Store(), lineno=219, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=219, col_offset=15), 'dict', Load(), lineno=219, col_offset=15), 'get', Load(), lineno=219, col_offset=15), [Name('key', Load(), lineno=219, col_offset=29)], [], None, None, lineno=219, col_offset=15), lineno=219, col_offset=8), If(Compare(Name('prev', Load(), lineno=220, col_offset=11), [Is()], [Name('None', Load(), lineno=220, col_offset=19)], lineno=220, col_offset=11), [Assign([Subscript(Attribute(Name('self', Load(), lineno=221, col_offset=12), 'dict', Load(), lineno=221, col_offset=12), Index(Name('key', Load(), lineno=221, col_offset=22)), Store(), lineno=221, col_offset=12)], Name('value', Load(), lineno=221, col_offset=29), lineno=221, col_offset=12)], [Assign([Name('combined', Store(), lineno=223, col_offset=12)], Call(Attribute(Str(', ', lineno=223, col_offset=23), 'join', Load(), lineno=223, col_offset=23), [Tuple([Name('prev', Load(), lineno=223, col_offset=34), Name('value', Load(), lineno=223, col_offset=40)], Load(), lineno=223, col_offset=34)], [], None, None, lineno=223, col_offset=23), lineno=223, col_offset=12), Assign([Subscript(Attribute(Name('self', Load(), lineno=224, col_offset=12), 'dict', Load(), lineno=224, col_offset=12), Index(Name('key', Load(), lineno=224, col_offset=22)), Store(), lineno=224, col_offset=12)], Name('combined', Load(), lineno=224, col_offset=29), lineno=224, col_offset=12)], lineno=220, col_offset=8)], [], lineno=217, col_offset=4), FunctionDef('addcontinue', arguments([Name('self', Param(), lineno=226, col_offset=20), Name('key', Param(), lineno=226, col_offset=26), Name('more', Param(), lineno=226, col_offset=31)], None, None, []), [Expr(Str('Add more field data from a continuation line.', lineno=227, col_offset=8), lineno=227, col_offset=8), Assign([Name('prev', Store(), lineno=228, col_offset=8)], Subscript(Attribute(Name('self', Load(), lineno=228, col_offset=15), 'dict', Load(), lineno=228, col_offset=15), Index(Name('key', Load(), lineno=228, col_offset=25)), Load(), lineno=228, col_offset=15), lineno=228, col_offset=8), Assign([Subscript(Attribute(Name('self', Load(), lineno=229, col_offset=8), 'dict', Load(), lineno=229, col_offset=8), Index(Name('key', Load(), lineno=229, col_offset=18)), Store(), lineno=229, col_offset=8)], BinOp(BinOp(Name('prev', Load(), lineno=229, col_offset=25), Add(), Str('\n ', lineno=229, col_offset=32), lineno=229, col_offset=25), Add(), Name('more', Load(), lineno=229, col_offset=40), lineno=229, col_offset=38), lineno=229, col_offset=8)], [], lineno=226, col_offset=4), FunctionDef('readheaders', arguments([Name('self', Param(), lineno=231, col_offset=20)], None, None, []), [Expr(Str('Read header lines.\n\n        Read header lines up to the entirely blank line that terminates them.\n        The (normally blank) line that ends the headers is skipped, but not\n        included in the returned list.  If a non-header line ends the headers,\n        (which is an error), an attempt is made to backspace over it; it is\n        never included in the returned list.\n\n        The variable self.status is set to the empty string if all went well,\n        otherwise it is an error message.  The variable self.headers is a\n        completely uninterpreted list of lines contained in the header (so\n        printing them will reproduce the header exactly as it appears in the\n        file).\n\n        If multiple header fields with the same name occur, they are combined\n        according to the rules in RFC 2616 sec 4.2:\n\n        Appending each subsequent field-value to the first, each separated\n        by a comma. The order in which header fields with the same field-name\n        are received is significant to the interpretation of the combined\n        field value.\n        ', lineno=253, col_offset=-1), lineno=253, col_offset=-1), Assign([Attribute(Name('self', Load(), lineno=259, col_offset=8), 'dict', Store(), lineno=259, col_offset=8)], Dict([], [], lineno=259, col_offset=20), lineno=259, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=260, col_offset=8), 'unixfrom', Store(), lineno=260, col_offset=8)], Str('', lineno=260, col_offset=24), lineno=260, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=261, col_offset=8), 'headers', Store(), lineno=261, col_offset=8), Name('hlist', Store(), lineno=261, col_offset=23)], List([], Load(), lineno=261, col_offset=31), lineno=261, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=262, col_offset=8), 'status', Store(), lineno=262, col_offset=8)], Str('', lineno=262, col_offset=22), lineno=262, col_offset=8), Assign([Name('headerseen', Store(), lineno=263, col_offset=8)], Str('', lineno=263, col_offset=21), lineno=263, col_offset=8), Assign([Name('firstline', Store(), lineno=264, col_offset=8)], Num(1, lineno=264, col_offset=20), lineno=264, col_offset=8), Assign([Name('startofline', Store(), lineno=265, col_offset=8), Name('unread', Store(), lineno=265, col_offset=22), Name('tell', Store(), lineno=265, col_offset=31)], Name('None', Load(), lineno=265, col_offset=38), lineno=265, col_offset=8), If(Call(Name('hasattr', Load(), lineno=266, col_offset=11), [Attribute(Name('self', Load(), lineno=266, col_offset=19), 'fp', Load(), lineno=266, col_offset=19), Str('unread', lineno=266, col_offset=28)], [], None, None, lineno=266, col_offset=11), [Assign([Name('unread', Store(), lineno=267, col_offset=12)], Attribute(Attribute(Name('self', Load(), lineno=267, col_offset=21), 'fp', Load(), lineno=267, col_offset=21), 'unread', Load(), lineno=267, col_offset=21), lineno=267, col_offset=12)], [If(Attribute(Name('self', Load(), lineno=268, col_offset=13), 'seekable', Load(), lineno=268, col_offset=13), [Assign([Name('tell', Store(), lineno=269, col_offset=12)], Attribute(Attribute(Name('self', Load(), lineno=269, col_offset=19), 'fp', Load(), lineno=269, col_offset=19), 'tell', Load(), lineno=269, col_offset=19), lineno=269, col_offset=12)], [], lineno=268, col_offset=13)], lineno=266, col_offset=8), While(Name('True', Load(), lineno=270, col_offset=14), [If(Name('tell', Load(), lineno=271, col_offset=15), [TryExcept([Assign([Name('startofline', Store(), lineno=273, col_offset=20)], Call(Name('tell', Load(), lineno=273, col_offset=34), [], [], None, None, lineno=273, col_offset=34), lineno=273, col_offset=20)], [ExceptHandler(Name('IOError', Load(), lineno=274, col_offset=23), None, [Assign([Name('startofline', Store(), lineno=275, col_offset=20), Name('tell', Store(), lineno=275, col_offset=34)], Name('None', Load(), lineno=275, col_offset=41), lineno=275, col_offset=20), Assign([Attribute(Name('self', Load(), lineno=276, col_offset=20), 'seekable', Store(), lineno=276, col_offset=20)], Num(0, lineno=276, col_offset=36), lineno=276, col_offset=20)], lineno=274, col_offset=16)], [], lineno=272, col_offset=16)], [], lineno=271, col_offset=12), Assign([Name('line', Store(), lineno=277, col_offset=12)], Call(Attribute(Attribute(Name('self', Load(), lineno=277, col_offset=19), 'fp', Load(), lineno=277, col_offset=19), 'readline', Load(), lineno=277, col_offset=19), [], [], None, None, lineno=277, col_offset=19), lineno=277, col_offset=12), If(UnaryOp(Not(), Name('line', Load(), lineno=278, col_offset=19), lineno=278, col_offset=15), [Assign([Attribute(Name('self', Load(), lineno=279, col_offset=16), 'status', Store(), lineno=279, col_offset=16)], Str('EOF in headers', lineno=279, col_offset=30), lineno=279, col_offset=16), Break( lineno=280, col_offset=16)], [], lineno=278, col_offset=12), If(BoolOp(And(), [Name('firstline', Load(), lineno=282, col_offset=15), Call(Attribute(Name('line', Load(), lineno=282, col_offset=29), 'startswith', Load(), lineno=282, col_offset=29), [Str('From ', lineno=282, col_offset=45)], [], None, None, lineno=282, col_offset=29)], lineno=282, col_offset=15), [Assign([Attribute(Name('self', Load(), lineno=283, col_offset=16), 'unixfrom', Store(), lineno=283, col_offset=16)], BinOp(Attribute(Name('self', Load(), lineno=283, col_offset=32), 'unixfrom', Load(), lineno=283, col_offset=32), Add(), Name('line', Load(), lineno=283, col_offset=48), lineno=283, col_offset=32), lineno=283, col_offset=16), Continue( lineno=284, col_offset=16)], [], lineno=282, col_offset=12), Assign([Name('firstline', Store(), lineno=285, col_offset=12)], Num(0, lineno=285, col_offset=24), lineno=285, col_offset=12), If(BoolOp(And(), [Name('headerseen', Load(), lineno=286, col_offset=15), Compare(Subscript(Name('line', Load(), lineno=286, col_offset=30), Index(Num(0, lineno=286, col_offset=35)), Load(), lineno=286, col_offset=30), [In()], [Str(' \t', lineno=286, col_offset=41)], lineno=286, col_offset=30)], lineno=286, col_offset=15), [Expr(Call(Attribute(Name('hlist', Load(), lineno=290, col_offset=16), 'append', Load(), lineno=290, col_offset=16), [Name('line', Load(), lineno=290, col_offset=29)], [], None, None, lineno=290, col_offset=16), lineno=290, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=291, col_offset=16), 'addcontinue', Load(), lineno=291, col_offset=16), [Name('headerseen', Load(), lineno=291, col_offset=33), Call(Attribute(Name('line', Load(), lineno=291, col_offset=45), 'strip', Load(), lineno=291, col_offset=45), [], [], None, None, lineno=291, col_offset=45)], [], None, None, lineno=291, col_offset=16), lineno=291, col_offset=16), Continue( lineno=292, col_offset=16)], [If(Call(Attribute(Name('self', Load(), lineno=293, col_offset=17), 'iscomment', Load(), lineno=293, col_offset=17), [Name('line', Load(), lineno=293, col_offset=32)], [], None, None, lineno=293, col_offset=17), [Continue( lineno=295, col_offset=16)], [If(Call(Attribute(Name('self', Load(), lineno=296, col_offset=17), 'islast', Load(), lineno=296, col_offset=17), [Name('line', Load(), lineno=296, col_offset=29)], [], None, None, lineno=296, col_offset=17), [Break( lineno=298, col_offset=16)], [], lineno=296, col_offset=17)], lineno=293, col_offset=17)], lineno=286, col_offset=12), Assign([Name('headerseen', Store(), lineno=299, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=299, col_offset=25), 'isheader', Load(), lineno=299, col_offset=25), [Name('line', Load(), lineno=299, col_offset=39)], [], None, None, lineno=299, col_offset=25), lineno=299, col_offset=12), If(Name('headerseen', Load(), lineno=300, col_offset=15), [Expr(Call(Attribute(Name('hlist', Load(), lineno=302, col_offset=16), 'append', Load(), lineno=302, col_offset=16), [Name('line', Load(), lineno=302, col_offset=29)], [], None, None, lineno=302, col_offset=16), lineno=302, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=303, col_offset=16), 'addheader', Load(), lineno=303, col_offset=16), [Name('headerseen', Load(), lineno=303, col_offset=31), Call(Attribute(Subscript(Name('line', Load(), lineno=303, col_offset=43), Slice(BinOp(Call(Name('len', Load(), lineno=303, col_offset=48), [Name('headerseen', Load(), lineno=303, col_offset=52)], [], None, None, lineno=303, col_offset=48), Add(), Num(1, lineno=303, col_offset=64), lineno=303, col_offset=48), None, None), Load(), lineno=303, col_offset=43), 'strip', Load(), lineno=303, col_offset=43), [], [], None, None, lineno=303, col_offset=43)], [], None, None, lineno=303, col_offset=16), lineno=303, col_offset=16), Continue( lineno=304, col_offset=16)], [If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=307, col_offset=23), 'dict', Load(), lineno=307, col_offset=23), lineno=307, col_offset=19), [Assign([Attribute(Name('self', Load(), lineno=308, col_offset=20), 'status', Store(), lineno=308, col_offset=20)], Str('No headers', lineno=308, col_offset=34), lineno=308, col_offset=20)], [Assign([Attribute(Name('self', Load(), lineno=310, col_offset=20), 'status', Store(), lineno=310, col_offset=20)], Str('Non-header line where header expected', lineno=310, col_offset=34), lineno=310, col_offset=20)], lineno=307, col_offset=16), If(Name('unread', Load(), lineno=312, col_offset=19), [Expr(Call(Name('unread', Load(), lineno=313, col_offset=20), [Name('line', Load(), lineno=313, col_offset=27)], [], None, None, lineno=313, col_offset=20), lineno=313, col_offset=20)], [If(Name('tell', Load(), lineno=314, col_offset=21), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=315, col_offset=20), 'fp', Load(), lineno=315, col_offset=20), 'seek', Load(), lineno=315, col_offset=20), [Name('startofline', Load(), lineno=315, col_offset=33)], [], None, None, lineno=315, col_offset=20), lineno=315, col_offset=20)], [Assign([Attribute(Name('self', Load(), lineno=317, col_offset=20), 'status', Store(), lineno=317, col_offset=20)], BinOp(Attribute(Name('self', Load(), lineno=317, col_offset=34), 'status', Load(), lineno=317, col_offset=34), Add(), Str('; bad seek', lineno=317, col_offset=48), lineno=317, col_offset=34), lineno=317, col_offset=20)], lineno=314, col_offset=21)], lineno=312, col_offset=16), Break( lineno=318, col_offset=16)], lineno=300, col_offset=12)], [], lineno=270, col_offset=8)], [], lineno=231, col_offset=4)], [], lineno=215, col_offset=0), ClassDef('HTTPResponse', [], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=330, col_offset=17), Name('sock', Param(), lineno=330, col_offset=23), Name('debuglevel', Param(), lineno=330, col_offset=29), Name('strict', Param(), lineno=330, col_offset=43), Name('method', Param(), lineno=330, col_offset=53), Name('buffering', Param(), lineno=330, col_offset=66)], None, None, [Num(0, lineno=330, col_offset=40), Num(0, lineno=330, col_offset=50), Name('None', Load(), lineno=330, col_offset=60), Name('False', Load(), lineno=330, col_offset=76)]), [If(Name('buffering', Load(), lineno=331, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=334, col_offset=12), 'fp', Store(), lineno=334, col_offset=12)], Call(Attribute(Name('sock', Load(), lineno=334, col_offset=22), 'makefile', Load(), lineno=334, col_offset=22), [Str('rb', lineno=334, col_offset=36)], [], None, None, lineno=334, col_offset=22), lineno=334, col_offset=12)], [Assign([Attribute(Name('self', Load(), lineno=341, col_offset=12), 'fp', Store(), lineno=341, col_offset=12)], Call(Attribute(Name('sock', Load(), lineno=341, col_offset=22), 'makefile', Load(), lineno=341, col_offset=22), [Str('rb', lineno=341, col_offset=36), Num(0, lineno=341, col_offset=42)], [], None, None, lineno=341, col_offset=22), lineno=341, col_offset=12)], lineno=331, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=342, col_offset=8), 'debuglevel', Store(), lineno=342, col_offset=8)], Name('debuglevel', Load(), lineno=342, col_offset=26), lineno=342, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=343, col_offset=8), 'strict', Store(), lineno=343, col_offset=8)], Name('strict', Load(), lineno=343, col_offset=22), lineno=343, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=344, col_offset=8), '_method', Store(), lineno=344, col_offset=8)], Name('method', Load(), lineno=344, col_offset=23), lineno=344, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=346, col_offset=8), 'msg', Store(), lineno=346, col_offset=8)], Name('None', Load(), lineno=346, col_offset=19), lineno=346, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=349, col_offset=8), 'version', Store(), lineno=349, col_offset=8)], Name('_UNKNOWN', Load(), lineno=349, col_offset=23), lineno=349, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=350, col_offset=8), 'status', Store(), lineno=350, col_offset=8)], Name('_UNKNOWN', Load(), lineno=350, col_offset=22), lineno=350, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=351, col_offset=8), 'reason', Store(), lineno=351, col_offset=8)], Name('_UNKNOWN', Load(), lineno=351, col_offset=22), lineno=351, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=353, col_offset=8), 'chunked', Store(), lineno=353, col_offset=8)], Name('_UNKNOWN', Load(), lineno=353, col_offset=23), lineno=353, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=354, col_offset=8), 'chunk_left', Store(), lineno=354, col_offset=8)], Name('_UNKNOWN', Load(), lineno=354, col_offset=26), lineno=354, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=355, col_offset=8), 'length', Store(), lineno=355, col_offset=8)], Name('_UNKNOWN', Load(), lineno=355, col_offset=22), lineno=355, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=356, col_offset=8), 'will_close', Store(), lineno=356, col_offset=8)], Name('_UNKNOWN', Load(), lineno=356, col_offset=26), lineno=356, col_offset=8)], [], lineno=330, col_offset=4), FunctionDef('_read_status', arguments([Name('self', Param(), lineno=358, col_offset=21)], None, None, []), [Assign([Name('line', Store(), lineno=360, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=360, col_offset=15), 'fp', Load(), lineno=360, col_offset=15), 'readline', Load(), lineno=360, col_offset=15), [], [], None, None, lineno=360, col_offset=15), lineno=360, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=361, col_offset=11), 'debuglevel', Load(), lineno=361, col_offset=11), [Gt()], [Num(0, lineno=361, col_offset=29)], lineno=361, col_offset=11), [Print(None, [Str('reply:', lineno=362, col_offset=18), Call(Name('repr', Load(), lineno=362, col_offset=28), [Name('line', Load(), lineno=362, col_offset=33)], [], None, None, lineno=362, col_offset=28)], True, lineno=362, col_offset=12)], [], lineno=361, col_offset=8), If(UnaryOp(Not(), Name('line', Load(), lineno=363, col_offset=15), lineno=363, col_offset=11), [Raise(Call(Name('BadStatusLine', Load(), lineno=366, col_offset=18), [Name('line', Load(), lineno=366, col_offset=32)], [], None, None, lineno=366, col_offset=18), None, None, lineno=366, col_offset=12)], [], lineno=363, col_offset=8), TryExcept([Assign([List([Name('version', Store(), lineno=368, col_offset=13), Name('status', Store(), lineno=368, col_offset=22), Name('reason', Store(), lineno=368, col_offset=30)], Store(), lineno=368, col_offset=12)], Call(Attribute(Name('line', Load(), lineno=368, col_offset=40), 'split', Load(), lineno=368, col_offset=40), [Name('None', Load(), lineno=368, col_offset=51), Num(2, lineno=368, col_offset=57)], [], None, None, lineno=368, col_offset=40), lineno=368, col_offset=12)], [ExceptHandler(Name('ValueError', Load(), lineno=369, col_offset=15), None, [TryExcept([Assign([List([Name('version', Store(), lineno=371, col_offset=17), Name('status', Store(), lineno=371, col_offset=26)], Store(), lineno=371, col_offset=16)], Call(Attribute(Name('line', Load(), lineno=371, col_offset=36), 'split', Load(), lineno=371, col_offset=36), [Name('None', Load(), lineno=371, col_offset=47), Num(1, lineno=371, col_offset=53)], [], None, None, lineno=371, col_offset=36), lineno=371, col_offset=16), Assign([Name('reason', Store(), lineno=372, col_offset=16)], Str('', lineno=372, col_offset=25), lineno=372, col_offset=16)], [ExceptHandler(Name('ValueError', Load(), lineno=373, col_offset=19), None, [Assign([Name('version', Store(), lineno=376, col_offset=16)], Str('', lineno=376, col_offset=26), lineno=376, col_offset=16)], lineno=373, col_offset=12)], [], lineno=370, col_offset=12)], lineno=369, col_offset=8)], [], lineno=367, col_offset=8), If(UnaryOp(Not(), Call(Attribute(Name('version', Load(), lineno=377, col_offset=15), 'startswith', Load(), lineno=377, col_offset=15), [Str('HTTP/', lineno=377, col_offset=34)], [], None, None, lineno=377, col_offset=15), lineno=377, col_offset=11), [If(Attribute(Name('self', Load(), lineno=378, col_offset=15), 'strict', Load(), lineno=378, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=379, col_offset=16), 'close', Load(), lineno=379, col_offset=16), [], [], None, None, lineno=379, col_offset=16), lineno=379, col_offset=16), Raise(Call(Name('BadStatusLine', Load(), lineno=380, col_offset=22), [Name('line', Load(), lineno=380, col_offset=36)], [], None, None, lineno=380, col_offset=22), None, None, lineno=380, col_offset=16)], [Assign([Attribute(Name('self', Load(), lineno=383, col_offset=16), 'fp', Store(), lineno=383, col_offset=16)], Call(Name('LineAndFileWrapper', Load(), lineno=383, col_offset=26), [Name('line', Load(), lineno=383, col_offset=45), Attribute(Name('self', Load(), lineno=383, col_offset=51), 'fp', Load(), lineno=383, col_offset=51)], [], None, None, lineno=383, col_offset=26), lineno=383, col_offset=16), Return(Tuple([Str('HTTP/0.9', lineno=384, col_offset=23), Num(200, lineno=384, col_offset=35), Str('', lineno=384, col_offset=40)], Load(), lineno=384, col_offset=23), lineno=384, col_offset=16)], lineno=378, col_offset=12)], [], lineno=377, col_offset=8), TryExcept([Assign([Name('status', Store(), lineno=388, col_offset=12)], Call(Name('int', Load(), lineno=388, col_offset=21), [Name('status', Load(), lineno=388, col_offset=25)], [], None, None, lineno=388, col_offset=21), lineno=388, col_offset=12), If(BoolOp(Or(), [Compare(Name('status', Load(), lineno=389, col_offset=15), [Lt()], [Num(100, lineno=389, col_offset=24)], lineno=389, col_offset=15), Compare(Name('status', Load(), lineno=389, col_offset=31), [Gt()], [Num(999, lineno=389, col_offset=40)], lineno=389, col_offset=31)], lineno=389, col_offset=15), [Raise(Call(Name('BadStatusLine', Load(), lineno=390, col_offset=22), [Name('line', Load(), lineno=390, col_offset=36)], [], None, None, lineno=390, col_offset=22), None, None, lineno=390, col_offset=16)], [], lineno=389, col_offset=12)], [ExceptHandler(Name('ValueError', Load(), lineno=391, col_offset=15), None, [Raise(Call(Name('BadStatusLine', Load(), lineno=392, col_offset=18), [Name('line', Load(), lineno=392, col_offset=32)], [], None, None, lineno=392, col_offset=18), None, None, lineno=392, col_offset=12)], lineno=391, col_offset=8)], [], lineno=387, col_offset=8), Return(Tuple([Name('version', Load(), lineno=393, col_offset=15), Name('status', Load(), lineno=393, col_offset=24), Name('reason', Load(), lineno=393, col_offset=32)], Load(), lineno=393, col_offset=15), lineno=393, col_offset=8)], [], lineno=358, col_offset=4), FunctionDef('begin', arguments([Name('self', Param(), lineno=395, col_offset=14)], None, None, []), [If(Compare(Attribute(Name('self', Load(), lineno=396, col_offset=11), 'msg', Load(), lineno=396, col_offset=11), [IsNot()], [Name('None', Load(), lineno=396, col_offset=27)], lineno=396, col_offset=11), [Return(None, lineno=398, col_offset=12)], [], lineno=396, col_offset=8), While(Name('True', Load(), lineno=401, col_offset=14), [Assign([Tuple([Name('version', Store(), lineno=402, col_offset=12), Name('status', Store(), lineno=402, col_offset=21), Name('reason', Store(), lineno=402, col_offset=29)], Store(), lineno=402, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=402, col_offset=38), '_read_status', Load(), lineno=402, col_offset=38), [], [], None, None, lineno=402, col_offset=38), lineno=402, col_offset=12), If(Compare(Name('status', Load(), lineno=403, col_offset=15), [NotEq()], [Name('CONTINUE', Load(), lineno=403, col_offset=25)], lineno=403, col_offset=15), [Break( lineno=404, col_offset=16)], [], lineno=403, col_offset=12), While(Name('True', Load(), lineno=406, col_offset=18), [Assign([Name('skip', Store(), lineno=407, col_offset=16)], Call(Attribute(Call(Attribute(Attribute(Name('self', Load(), lineno=407, col_offset=23), 'fp', Load(), lineno=407, col_offset=23), 'readline', Load(), lineno=407, col_offset=23), [], [], None, None, lineno=407, col_offset=23), 'strip', Load(), lineno=407, col_offset=23), [], [], None, None, lineno=407, col_offset=23), lineno=407, col_offset=16), If(UnaryOp(Not(), Name('skip', Load(), lineno=408, col_offset=23), lineno=408, col_offset=19), [Break( lineno=409, col_offset=20)], [], lineno=408, col_offset=16), If(Compare(Attribute(Name('self', Load(), lineno=410, col_offset=19), 'debuglevel', Load(), lineno=410, col_offset=19), [Gt()], [Num(0, lineno=410, col_offset=37)], lineno=410, col_offset=19), [Print(None, [Str('header:', lineno=411, col_offset=26), Name('skip', Load(), lineno=411, col_offset=37)], True, lineno=411, col_offset=20)], [], lineno=410, col_offset=16)], [], lineno=406, col_offset=12)], [], lineno=401, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=413, col_offset=8), 'status', Store(), lineno=413, col_offset=8)], Name('status', Load(), lineno=413, col_offset=22), lineno=413, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=414, col_offset=8), 'reason', Store(), lineno=414, col_offset=8)], Call(Attribute(Name('reason', Load(), lineno=414, col_offset=22), 'strip', Load(), lineno=414, col_offset=22), [], [], None, None, lineno=414, col_offset=22), lineno=414, col_offset=8), If(Compare(Name('version', Load(), lineno=415, col_offset=11), [Eq()], [Str('HTTP/1.0', lineno=415, col_offset=22)], lineno=415, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=416, col_offset=12), 'version', Store(), lineno=416, col_offset=12)], Num(10, lineno=416, col_offset=27), lineno=416, col_offset=12)], [If(Call(Attribute(Name('version', Load(), lineno=417, col_offset=13), 'startswith', Load(), lineno=417, col_offset=13), [Str('HTTP/1.', lineno=417, col_offset=32)], [], None, None, lineno=417, col_offset=13), [Assign([Attribute(Name('self', Load(), lineno=418, col_offset=12), 'version', Store(), lineno=418, col_offset=12)], Num(11, lineno=418, col_offset=27), lineno=418, col_offset=12)], [If(Compare(Name('version', Load(), lineno=419, col_offset=13), [Eq()], [Str('HTTP/0.9', lineno=419, col_offset=24)], lineno=419, col_offset=13), [Assign([Attribute(Name('self', Load(), lineno=420, col_offset=12), 'version', Store(), lineno=420, col_offset=12)], Num(9, lineno=420, col_offset=27), lineno=420, col_offset=12)], [Raise(Call(Name('UnknownProtocol', Load(), lineno=422, col_offset=18), [Name('version', Load(), lineno=422, col_offset=34)], [], None, None, lineno=422, col_offset=18), None, None, lineno=422, col_offset=12)], lineno=419, col_offset=13)], lineno=417, col_offset=13)], lineno=415, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=424, col_offset=11), 'version', Load(), lineno=424, col_offset=11), [Eq()], [Num(9, lineno=424, col_offset=27)], lineno=424, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=425, col_offset=12), 'length', Store(), lineno=425, col_offset=12)], Name('None', Load(), lineno=425, col_offset=26), lineno=425, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=426, col_offset=12), 'chunked', Store(), lineno=426, col_offset=12)], Num(0, lineno=426, col_offset=27), lineno=426, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=427, col_offset=12), 'will_close', Store(), lineno=427, col_offset=12)], Num(1, lineno=427, col_offset=30), lineno=427, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=428, col_offset=12), 'msg', Store(), lineno=428, col_offset=12)], Call(Name('HTTPMessage', Load(), lineno=428, col_offset=23), [Call(Name('StringIO', Load(), lineno=428, col_offset=35), [], [], None, None, lineno=428, col_offset=35)], [], None, None, lineno=428, col_offset=23), lineno=428, col_offset=12), Return(None, lineno=429, col_offset=12)], [], lineno=424, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=431, col_offset=8), 'msg', Store(), lineno=431, col_offset=8)], Call(Name('HTTPMessage', Load(), lineno=431, col_offset=19), [Attribute(Name('self', Load(), lineno=431, col_offset=31), 'fp', Load(), lineno=431, col_offset=31), Num(0, lineno=431, col_offset=40)], [], None, None, lineno=431, col_offset=19), lineno=431, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=432, col_offset=11), 'debuglevel', Load(), lineno=432, col_offset=11), [Gt()], [Num(0, lineno=432, col_offset=29)], lineno=432, col_offset=11), [For(Name('hdr', Store(), lineno=433, col_offset=16), Attribute(Attribute(Name('self', Load(), lineno=433, col_offset=23), 'msg', Load(), lineno=433, col_offset=23), 'headers', Load(), lineno=433, col_offset=23), [Print(None, [Str('header:', lineno=434, col_offset=22), Name('hdr', Load(), lineno=434, col_offset=33)], False, lineno=434, col_offset=16)], [], lineno=433, col_offset=12)], [], lineno=432, col_offset=8), Assign([Attribute(Attribute(Name('self', Load(), lineno=437, col_offset=8), 'msg', Load(), lineno=437, col_offset=8), 'fp', Store(), lineno=437, col_offset=8)], Name('None', Load(), lineno=437, col_offset=22), lineno=437, col_offset=8), Assign([Name('tr_enc', Store(), lineno=440, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=440, col_offset=17), 'msg', Load(), lineno=440, col_offset=17), 'getheader', Load(), lineno=440, col_offset=17), [Str('transfer-encoding', lineno=440, col_offset=36)], [], None, None, lineno=440, col_offset=17), lineno=440, col_offset=8), If(BoolOp(And(), [Name('tr_enc', Load(), lineno=441, col_offset=11), Compare(Call(Attribute(Name('tr_enc', Load(), lineno=441, col_offset=22), 'lower', Load(), lineno=441, col_offset=22), [], [], None, None, lineno=441, col_offset=22), [Eq()], [Str('chunked', lineno=441, col_offset=40)], lineno=441, col_offset=22)], lineno=441, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=442, col_offset=12), 'chunked', Store(), lineno=442, col_offset=12)], Num(1, lineno=442, col_offset=27), lineno=442, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=443, col_offset=12), 'chunk_left', Store(), lineno=443, col_offset=12)], Name('None', Load(), lineno=443, col_offset=30), lineno=443, col_offset=12)], [Assign([Attribute(Name('self', Load(), lineno=445, col_offset=12), 'chunked', Store(), lineno=445, col_offset=12)], Num(0, lineno=445, col_offset=27), lineno=445, col_offset=12)], lineno=441, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=448, col_offset=8), 'will_close', Store(), lineno=448, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=448, col_offset=26), '_check_close', Load(), lineno=448, col_offset=26), [], [], None, None, lineno=448, col_offset=26), lineno=448, col_offset=8), Assign([Name('length', Store(), lineno=452, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=452, col_offset=17), 'msg', Load(), lineno=452, col_offset=17), 'getheader', Load(), lineno=452, col_offset=17), [Str('content-length', lineno=452, col_offset=36)], [], None, None, lineno=452, col_offset=17), lineno=452, col_offset=8), If(BoolOp(And(), [Name('length', Load(), lineno=453, col_offset=11), UnaryOp(Not(), Attribute(Name('self', Load(), lineno=453, col_offset=26), 'chunked', Load(), lineno=453, col_offset=26), lineno=453, col_offset=22)], lineno=453, col_offset=11), [TryExcept([Assign([Attribute(Name('self', Load(), lineno=455, col_offset=16), 'length', Store(), lineno=455, col_offset=16)], Call(Name('int', Load(), lineno=455, col_offset=30), [Name('length', Load(), lineno=455, col_offset=34)], [], None, None, lineno=455, col_offset=30), lineno=455, col_offset=16)], [ExceptHandler(Name('ValueError', Load(), lineno=456, col_offset=19), None, [Assign([Attribute(Name('self', Load(), lineno=457, col_offset=16), 'length', Store(), lineno=457, col_offset=16)], Name('None', Load(), lineno=457, col_offset=30), lineno=457, col_offset=16)], lineno=456, col_offset=12)], [If(Compare(Attribute(Name('self', Load(), lineno=459, col_offset=19), 'length', Load(), lineno=459, col_offset=19), [Lt()], [Num(0, lineno=459, col_offset=33)], lineno=459, col_offset=19), [Assign([Attribute(Name('self', Load(), lineno=460, col_offset=20), 'length', Store(), lineno=460, col_offset=20)], Name('None', Load(), lineno=460, col_offset=34), lineno=460, col_offset=20)], [], lineno=459, col_offset=16)], lineno=454, col_offset=12)], [Assign([Attribute(Name('self', Load(), lineno=462, col_offset=12), 'length', Store(), lineno=462, col_offset=12)], Name('None', Load(), lineno=462, col_offset=26), lineno=462, col_offset=12)], lineno=453, col_offset=8), If(BoolOp(Or(), [Compare(Name('status', Load(), lineno=465, col_offset=12), [Eq()], [Name('NO_CONTENT', Load(), lineno=465, col_offset=22)], lineno=465, col_offset=12), Compare(Name('status', Load(), lineno=465, col_offset=36), [Eq()], [Name('NOT_MODIFIED', Load(), lineno=465, col_offset=46)], lineno=465, col_offset=36), Compare(Num(100, lineno=466, col_offset=12), [LtE(), Lt()], [Name('status', Load(), lineno=466, col_offset=19), Num(200, lineno=466, col_offset=28)], lineno=466, col_offset=12), Compare(Attribute(Name('self', Load(), lineno=467, col_offset=12), '_method', Load(), lineno=467, col_offset=12), [Eq()], [Str('HEAD', lineno=467, col_offset=28)], lineno=467, col_offset=12)], lineno=465, col_offset=12), [Assign([Attribute(Name('self', Load(), lineno=468, col_offset=12), 'length', Store(), lineno=468, col_offset=12)], Num(0, lineno=468, col_offset=26), lineno=468, col_offset=12)], [], lineno=465, col_offset=8), If(BoolOp(And(), [UnaryOp(Not(), Attribute(Name('self', Load(), lineno=473, col_offset=15), 'will_close', Load(), lineno=473, col_offset=15), lineno=473, col_offset=11), UnaryOp(Not(), Attribute(Name('self', Load(), lineno=474, col_offset=15), 'chunked', Load(), lineno=474, col_offset=15), lineno=474, col_offset=11), Compare(Attribute(Name('self', Load(), lineno=475, col_offset=11), 'length', Load(), lineno=475, col_offset=11), [Is()], [Name('None', Load(), lineno=475, col_offset=26)], lineno=475, col_offset=11)], lineno=473, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=476, col_offset=12), 'will_close', Store(), lineno=476, col_offset=12)], Num(1, lineno=476, col_offset=30), lineno=476, col_offset=12)], [], lineno=473, col_offset=8)], [], lineno=395, col_offset=4), FunctionDef('_check_close', arguments([Name('self', Param(), lineno=478, col_offset=21)], None, None, []), [Assign([Name('conn', Store(), lineno=479, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=479, col_offset=15), 'msg', Load(), lineno=479, col_offset=15), 'getheader', Load(), lineno=479, col_offset=15), [Str('connection', lineno=479, col_offset=34)], [], None, None, lineno=479, col_offset=15), lineno=479, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=480, col_offset=11), 'version', Load(), lineno=480, col_offset=11), [Eq()], [Num(11, lineno=480, col_offset=27)], lineno=480, col_offset=11), [Assign([Name('conn', Store(), lineno=483, col_offset=12)], Call(Attribute(Attribute(Name('self', Load(), lineno=483, col_offset=19), 'msg', Load(), lineno=483, col_offset=19), 'getheader', Load(), lineno=483, col_offset=19), [Str('connection', lineno=483, col_offset=38)], [], None, None, lineno=483, col_offset=19), lineno=483, col_offset=12), If(BoolOp(And(), [Name('conn', Load(), lineno=484, col_offset=15), Compare(Str('close', lineno=484, col_offset=24), [In()], [Call(Attribute(Name('conn', Load(), lineno=484, col_offset=35), 'lower', Load(), lineno=484, col_offset=35), [], [], None, None, lineno=484, col_offset=35)], lineno=484, col_offset=24)], lineno=484, col_offset=15), [Return(Name('True', Load(), lineno=485, col_offset=23), lineno=485, col_offset=16)], [], lineno=484, col_offset=12), Return(Name('False', Load(), lineno=486, col_offset=19), lineno=486, col_offset=12)], [], lineno=480, col_offset=8), If(Call(Attribute(Attribute(Name('self', Load(), lineno=492, col_offset=11), 'msg', Load(), lineno=492, col_offset=11), 'getheader', Load(), lineno=492, col_offset=11), [Str('keep-alive', lineno=492, col_offset=30)], [], None, None, lineno=492, col_offset=11), [Return(Name('False', Load(), lineno=493, col_offset=19), lineno=493, col_offset=12)], [], lineno=492, col_offset=8), If(BoolOp(And(), [Name('conn', Load(), lineno=497, col_offset=11), Compare(Str('keep-alive', lineno=497, col_offset=20), [In()], [Call(Attribute(Name('conn', Load(), lineno=497, col_offset=36), 'lower', Load(), lineno=497, col_offset=36), [], [], None, None, lineno=497, col_offset=36)], lineno=497, col_offset=20)], lineno=497, col_offset=11), [Return(Name('False', Load(), lineno=498, col_offset=19), lineno=498, col_offset=12)], [], lineno=497, col_offset=8), Assign([Name('pconn', Store(), lineno=501, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=501, col_offset=16), 'msg', Load(), lineno=501, col_offset=16), 'getheader', Load(), lineno=501, col_offset=16), [Str('proxy-connection', lineno=501, col_offset=35)], [], None, None, lineno=501, col_offset=16), lineno=501, col_offset=8), If(BoolOp(And(), [Name('pconn', Load(), lineno=502, col_offset=11), Compare(Str('keep-alive', lineno=502, col_offset=21), [In()], [Call(Attribute(Name('pconn', Load(), lineno=502, col_offset=37), 'lower', Load(), lineno=502, col_offset=37), [], [], None, None, lineno=502, col_offset=37)], lineno=502, col_offset=21)], lineno=502, col_offset=11), [Return(Name('False', Load(), lineno=503, col_offset=19), lineno=503, col_offset=12)], [], lineno=502, col_offset=8), Return(Name('True', Load(), lineno=506, col_offset=15), lineno=506, col_offset=8)], [], lineno=478, col_offset=4), FunctionDef('close', arguments([Name('self', Param(), lineno=508, col_offset=14)], None, None, []), [If(Attribute(Name('self', Load(), lineno=509, col_offset=11), 'fp', Load(), lineno=509, col_offset=11), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=510, col_offset=12), 'fp', Load(), lineno=510, col_offset=12), 'close', Load(), lineno=510, col_offset=12), [], [], None, None, lineno=510, col_offset=12), lineno=510, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=511, col_offset=12), 'fp', Store(), lineno=511, col_offset=12)], Name('None', Load(), lineno=511, col_offset=22), lineno=511, col_offset=12)], [], lineno=509, col_offset=8)], [], lineno=508, col_offset=4), FunctionDef('isclosed', arguments([Name('self', Param(), lineno=513, col_offset=17)], None, None, []), [Return(Compare(Attribute(Name('self', Load(), lineno=520, col_offset=15), 'fp', Load(), lineno=520, col_offset=15), [Is()], [Name('None', Load(), lineno=520, col_offset=26)], lineno=520, col_offset=15), lineno=520, col_offset=8)], [], lineno=513, col_offset=4), FunctionDef('read', arguments([Name('self', Param(), lineno=524, col_offset=13), Name('amt', Param(), lineno=524, col_offset=19)], None, None, [Name('None', Load(), lineno=524, col_offset=23)]), [If(Compare(Attribute(Name('self', Load(), lineno=525, col_offset=11), 'fp', Load(), lineno=525, col_offset=11), [Is()], [Name('None', Load(), lineno=525, col_offset=22)], lineno=525, col_offset=11), [Return(Str('', lineno=526, col_offset=19), lineno=526, col_offset=12)], [], lineno=525, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=528, col_offset=11), '_method', Load(), lineno=528, col_offset=11), [Eq()], [Str('HEAD', lineno=528, col_offset=27)], lineno=528, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=529, col_offset=12), 'close', Load(), lineno=529, col_offset=12), [], [], None, None, lineno=529, col_offset=12), lineno=529, col_offset=12), Return(Str('', lineno=530, col_offset=19), lineno=530, col_offset=12)], [], lineno=528, col_offset=8), If(Attribute(Name('self', Load(), lineno=532, col_offset=11), 'chunked', Load(), lineno=532, col_offset=11), [Return(Call(Attribute(Name('self', Load(), lineno=533, col_offset=19), '_read_chunked', Load(), lineno=533, col_offset=19), [Name('amt', Load(), lineno=533, col_offset=38)], [], None, None, lineno=533, col_offset=19), lineno=533, col_offset=12)], [], lineno=532, col_offset=8), If(Compare(Name('amt', Load(), lineno=535, col_offset=11), [Is()], [Name('None', Load(), lineno=535, col_offset=18)], lineno=535, col_offset=11), [If(Compare(Attribute(Name('self', Load(), lineno=537, col_offset=15), 'length', Load(), lineno=537, col_offset=15), [Is()], [Name('None', Load(), lineno=537, col_offset=30)], lineno=537, col_offset=15), [Assign([Name('s', Store(), lineno=538, col_offset=16)], Call(Attribute(Attribute(Name('self', Load(), lineno=538, col_offset=20), 'fp', Load(), lineno=538, col_offset=20), 'read', Load(), lineno=538, col_offset=20), [], [], None, None, lineno=538, col_offset=20), lineno=538, col_offset=16)], [Assign([Name('s', Store(), lineno=540, col_offset=16)], Call(Attribute(Name('self', Load(), lineno=540, col_offset=20), '_safe_read', Load(), lineno=540, col_offset=20), [Attribute(Name('self', Load(), lineno=540, col_offset=36), 'length', Load(), lineno=540, col_offset=36)], [], None, None, lineno=540, col_offset=20), lineno=540, col_offset=16), Assign([Attribute(Name('self', Load(), lineno=541, col_offset=16), 'length', Store(), lineno=541, col_offset=16)], Num(0, lineno=541, col_offset=30), lineno=541, col_offset=16)], lineno=537, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=542, col_offset=12), 'close', Load(), lineno=542, col_offset=12), [], [], None, None, lineno=542, col_offset=12), lineno=542, col_offset=12), Return(Name('s', Load(), lineno=543, col_offset=19), lineno=543, col_offset=12)], [], lineno=535, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=545, col_offset=11), 'length', Load(), lineno=545, col_offset=11), [IsNot()], [Name('None', Load(), lineno=545, col_offset=30)], lineno=545, col_offset=11), [If(Compare(Name('amt', Load(), lineno=546, col_offset=15), [Gt()], [Attribute(Name('self', Load(), lineno=546, col_offset=21), 'length', Load(), lineno=546, col_offset=21)], lineno=546, col_offset=15), [Assign([Name('amt', Store(), lineno=548, col_offset=16)], Attribute(Name('self', Load(), lineno=548, col_offset=22), 'length', Load(), lineno=548, col_offset=22), lineno=548, col_offset=16)], [], lineno=546, col_offset=12)], [], lineno=545, col_offset=8), Assign([Name('s', Store(), lineno=553, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=553, col_offset=12), 'fp', Load(), lineno=553, col_offset=12), 'read', Load(), lineno=553, col_offset=12), [Name('amt', Load(), lineno=553, col_offset=25)], [], None, None, lineno=553, col_offset=12), lineno=553, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=554, col_offset=11), 'length', Load(), lineno=554, col_offset=11), [IsNot()], [Name('None', Load(), lineno=554, col_offset=30)], lineno=554, col_offset=11), [AugAssign(Attribute(Name('self', Load(), lineno=555, col_offset=12), 'length', Store(), lineno=555, col_offset=12), Sub(), Call(Name('len', Load(), lineno=555, col_offset=27), [Name('s', Load(), lineno=555, col_offset=31)], [], None, None, lineno=555, col_offset=27), lineno=555, col_offset=12), If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=556, col_offset=19), 'length', Load(), lineno=556, col_offset=19), lineno=556, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=557, col_offset=16), 'close', Load(), lineno=557, col_offset=16), [], [], None, None, lineno=557, col_offset=16), lineno=557, col_offset=16)], [], lineno=556, col_offset=12)], [], lineno=554, col_offset=8), Return(Name('s', Load(), lineno=558, col_offset=15), lineno=558, col_offset=8)], [], lineno=524, col_offset=4), FunctionDef('_read_chunked', arguments([Name('self', Param(), lineno=560, col_offset=22), Name('amt', Param(), lineno=560, col_offset=28)], None, None, []), [Assert(Compare(Attribute(Name('self', Load(), lineno=561, col_offset=15), 'chunked', Load(), lineno=561, col_offset=15), [NotEq()], [Name('_UNKNOWN', Load(), lineno=561, col_offset=31)], lineno=561, col_offset=15), None, lineno=561, col_offset=8), Assign([Name('chunk_left', Store(), lineno=562, col_offset=8)], Attribute(Name('self', Load(), lineno=562, col_offset=21), 'chunk_left', Load(), lineno=562, col_offset=21), lineno=562, col_offset=8), Assign([Name('value', Store(), lineno=563, col_offset=8)], List([], Load(), lineno=563, col_offset=16), lineno=563, col_offset=8), While(Name('True', Load(), lineno=564, col_offset=14), [If(Compare(Name('chunk_left', Load(), lineno=565, col_offset=15), [Is()], [Name('None', Load(), lineno=565, col_offset=29)], lineno=565, col_offset=15), [Assign([Name('line', Store(), lineno=566, col_offset=16)], Call(Attribute(Attribute(Name('self', Load(), lineno=566, col_offset=23), 'fp', Load(), lineno=566, col_offset=23), 'readline', Load(), lineno=566, col_offset=23), [], [], None, None, lineno=566, col_offset=23), lineno=566, col_offset=16), Assign([Name('i', Store(), lineno=567, col_offset=16)], Call(Attribute(Name('line', Load(), lineno=567, col_offset=20), 'find', Load(), lineno=567, col_offset=20), [Str(';', lineno=567, col_offset=30)], [], None, None, lineno=567, col_offset=20), lineno=567, col_offset=16), If(Compare(Name('i', Load(), lineno=568, col_offset=19), [GtE()], [Num(0, lineno=568, col_offset=24)], lineno=568, col_offset=19), [Assign([Name('line', Store(), lineno=569, col_offset=20)], Subscript(Name('line', Load(), lineno=569, col_offset=27), Slice(None, Name('i', Load(), lineno=569, col_offset=33), None), Load(), lineno=569, col_offset=27), lineno=569, col_offset=20)], [], lineno=568, col_offset=16), TryExcept([Assign([Name('chunk_left', Store(), lineno=571, col_offset=20)], Call(Name('int', Load(), lineno=571, col_offset=33), [Name('line', Load(), lineno=571, col_offset=37), Num(16, lineno=571, col_offset=43)], [], None, None, lineno=571, col_offset=33), lineno=571, col_offset=20)], [ExceptHandler(Name('ValueError', Load(), lineno=572, col_offset=23), None, [Expr(Call(Attribute(Name('self', Load(), lineno=575, col_offset=20), 'close', Load(), lineno=575, col_offset=20), [], [], None, None, lineno=575, col_offset=20), lineno=575, col_offset=20), Raise(Call(Name('IncompleteRead', Load(), lineno=576, col_offset=26), [Call(Attribute(Str('', lineno=576, col_offset=41), 'join', Load(), lineno=576, col_offset=41), [Name('value', Load(), lineno=576, col_offset=49)], [], None, None, lineno=576, col_offset=41)], [], None, None, lineno=576, col_offset=26), None, None, lineno=576, col_offset=20)], lineno=572, col_offset=16)], [], lineno=570, col_offset=16), If(Compare(Name('chunk_left', Load(), lineno=577, col_offset=19), [Eq()], [Num(0, lineno=577, col_offset=33)], lineno=577, col_offset=19), [Break( lineno=578, col_offset=20)], [], lineno=577, col_offset=16)], [], lineno=565, col_offset=12), If(Compare(Name('amt', Load(), lineno=579, col_offset=15), [Is()], [Name('None', Load(), lineno=579, col_offset=22)], lineno=579, col_offset=15), [Expr(Call(Attribute(Name('value', Load(), lineno=580, col_offset=16), 'append', Load(), lineno=580, col_offset=16), [Call(Attribute(Name('self', Load(), lineno=580, col_offset=29), '_safe_read', Load(), lineno=580, col_offset=29), [Name('chunk_left', Load(), lineno=580, col_offset=45)], [], None, None, lineno=580, col_offset=29)], [], None, None, lineno=580, col_offset=16), lineno=580, col_offset=16)], [If(Compare(Name('amt', Load(), lineno=581, col_offset=17), [Lt()], [Name('chunk_left', Load(), lineno=581, col_offset=23)], lineno=581, col_offset=17), [Expr(Call(Attribute(Name('value', Load(), lineno=582, col_offset=16), 'append', Load(), lineno=582, col_offset=16), [Call(Attribute(Name('self', Load(), lineno=582, col_offset=29), '_safe_read', Load(), lineno=582, col_offset=29), [Name('amt', Load(), lineno=582, col_offset=45)], [], None, None, lineno=582, col_offset=29)], [], None, None, lineno=582, col_offset=16), lineno=582, col_offset=16), Assign([Attribute(Name('self', Load(), lineno=583, col_offset=16), 'chunk_left', Store(), lineno=583, col_offset=16)], BinOp(Name('chunk_left', Load(), lineno=583, col_offset=34), Sub(), Name('amt', Load(), lineno=583, col_offset=47), lineno=583, col_offset=34), lineno=583, col_offset=16), Return(Call(Attribute(Str('', lineno=584, col_offset=23), 'join', Load(), lineno=584, col_offset=23), [Name('value', Load(), lineno=584, col_offset=31)], [], None, None, lineno=584, col_offset=23), lineno=584, col_offset=16)], [If(Compare(Name('amt', Load(), lineno=585, col_offset=17), [Eq()], [Name('chunk_left', Load(), lineno=585, col_offset=24)], lineno=585, col_offset=17), [Expr(Call(Attribute(Name('value', Load(), lineno=586, col_offset=16), 'append', Load(), lineno=586, col_offset=16), [Call(Attribute(Name('self', Load(), lineno=586, col_offset=29), '_safe_read', Load(), lineno=586, col_offset=29), [Name('amt', Load(), lineno=586, col_offset=45)], [], None, None, lineno=586, col_offset=29)], [], None, None, lineno=586, col_offset=16), lineno=586, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=587, col_offset=16), '_safe_read', Load(), lineno=587, col_offset=16), [Num(2, lineno=587, col_offset=32)], [], None, None, lineno=587, col_offset=16), lineno=587, col_offset=16), Assign([Attribute(Name('self', Load(), lineno=588, col_offset=16), 'chunk_left', Store(), lineno=588, col_offset=16)], Name('None', Load(), lineno=588, col_offset=34), lineno=588, col_offset=16), Return(Call(Attribute(Str('', lineno=589, col_offset=23), 'join', Load(), lineno=589, col_offset=23), [Name('value', Load(), lineno=589, col_offset=31)], [], None, None, lineno=589, col_offset=23), lineno=589, col_offset=16)], [Expr(Call(Attribute(Name('value', Load(), lineno=591, col_offset=16), 'append', Load(), lineno=591, col_offset=16), [Call(Attribute(Name('self', Load(), lineno=591, col_offset=29), '_safe_read', Load(), lineno=591, col_offset=29), [Name('chunk_left', Load(), lineno=591, col_offset=45)], [], None, None, lineno=591, col_offset=29)], [], None, None, lineno=591, col_offset=16), lineno=591, col_offset=16), AugAssign(Name('amt', Store(), lineno=592, col_offset=16), Sub(), Name('chunk_left', Load(), lineno=592, col_offset=23), lineno=592, col_offset=16)], lineno=585, col_offset=17)], lineno=581, col_offset=17)], lineno=579, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=595, col_offset=12), '_safe_read', Load(), lineno=595, col_offset=12), [Num(2, lineno=595, col_offset=28)], [], None, None, lineno=595, col_offset=12), lineno=595, col_offset=12), Assign([Name('chunk_left', Store(), lineno=596, col_offset=12)], Name('None', Load(), lineno=596, col_offset=25), lineno=596, col_offset=12)], [], lineno=564, col_offset=8), While(Name('True', Load(), lineno=600, col_offset=14), [Assign([Name('line', Store(), lineno=601, col_offset=12)], Call(Attribute(Attribute(Name('self', Load(), lineno=601, col_offset=19), 'fp', Load(), lineno=601, col_offset=19), 'readline', Load(), lineno=601, col_offset=19), [], [], None, None, lineno=601, col_offset=19), lineno=601, col_offset=12), If(UnaryOp(Not(), Name('line', Load(), lineno=602, col_offset=19), lineno=602, col_offset=15), [Break( lineno=605, col_offset=16)], [], lineno=602, col_offset=12), If(Compare(Name('line', Load(), lineno=606, col_offset=15), [Eq()], [Str('\r\n', lineno=606, col_offset=23)], lineno=606, col_offset=15), [Break( lineno=607, col_offset=16)], [], lineno=606, col_offset=12)], [], lineno=600, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=610, col_offset=8), 'close', Load(), lineno=610, col_offset=8), [], [], None, None, lineno=610, col_offset=8), lineno=610, col_offset=8), Return(Call(Attribute(Str('', lineno=612, col_offset=15), 'join', Load(), lineno=612, col_offset=15), [Name('value', Load(), lineno=612, col_offset=23)], [], None, None, lineno=612, col_offset=15), lineno=612, col_offset=8)], [], lineno=560, col_offset=4), FunctionDef('_safe_read', arguments([Name('self', Param(), lineno=614, col_offset=19), Name('amt', Param(), lineno=614, col_offset=25)], None, None, []), [Expr(Str('Read the number of bytes requested, compensating for partial reads.\n\n        Normally, we have a blocking socket, but a read() can be interrupted\n        by a signal (resulting in a partial read).\n\n        Note that we cannot distinguish between EOF and an interrupt when zero\n        bytes have been read. IncompleteRead() will be raised in this\n        situation.\n\n        This function should be used when <amt> bytes "should" be present for\n        reading. If the bytes are truly not available (due to EOF), then the\n        IncompleteRead exception can be used to detect the problem.\n        ', lineno=627, col_offset=-1), lineno=627, col_offset=-1), Assign([Name('s', Store(), lineno=633, col_offset=8)], List([], Load(), lineno=633, col_offset=12), lineno=633, col_offset=8), While(Compare(Name('amt', Load(), lineno=634, col_offset=14), [Gt()], [Num(0, lineno=634, col_offset=20)], lineno=634, col_offset=14), [Assign([Name('chunk', Store(), lineno=635, col_offset=12)], Call(Attribute(Attribute(Name('self', Load(), lineno=635, col_offset=20), 'fp', Load(), lineno=635, col_offset=20), 'read', Load(), lineno=635, col_offset=20), [Call(Name('min', Load(), lineno=635, col_offset=33), [Name('amt', Load(), lineno=635, col_offset=37), Name('MAXAMOUNT', Load(), lineno=635, col_offset=42)], [], None, None, lineno=635, col_offset=33)], [], None, None, lineno=635, col_offset=20), lineno=635, col_offset=12), If(UnaryOp(Not(), Name('chunk', Load(), lineno=636, col_offset=19), lineno=636, col_offset=15), [Raise(Call(Name('IncompleteRead', Load(), lineno=637, col_offset=22), [Call(Attribute(Str('', lineno=637, col_offset=37), 'join', Load(), lineno=637, col_offset=37), [Name('s', Load(), lineno=637, col_offset=45)], [], None, None, lineno=637, col_offset=37), Name('amt', Load(), lineno=637, col_offset=49)], [], None, None, lineno=637, col_offset=22), None, None, lineno=637, col_offset=16)], [], lineno=636, col_offset=12), Expr(Call(Attribute(Name('s', Load(), lineno=638, col_offset=12), 'append', Load(), lineno=638, col_offset=12), [Name('chunk', Load(), lineno=638, col_offset=21)], [], None, None, lineno=638, col_offset=12), lineno=638, col_offset=12), AugAssign(Name('amt', Store(), lineno=639, col_offset=12), Sub(), Call(Name('len', Load(), lineno=639, col_offset=19), [Name('chunk', Load(), lineno=639, col_offset=23)], [], None, None, lineno=639, col_offset=19), lineno=639, col_offset=12)], [], lineno=634, col_offset=8), Return(Call(Attribute(Str('', lineno=640, col_offset=15), 'join', Load(), lineno=640, col_offset=15), [Name('s', Load(), lineno=640, col_offset=23)], [], None, None, lineno=640, col_offset=15), lineno=640, col_offset=8)], [], lineno=614, col_offset=4), FunctionDef('fileno', arguments([Name('self', Param(), lineno=642, col_offset=15)], None, None, []), [Return(Call(Attribute(Attribute(Name('self', Load(), lineno=643, col_offset=15), 'fp', Load(), lineno=643, col_offset=15), 'fileno', Load(), lineno=643, col_offset=15), [], [], None, None, lineno=643, col_offset=15), lineno=643, col_offset=8)], [], lineno=642, col_offset=4), FunctionDef('getheader', arguments([Name('self', Param(), lineno=645, col_offset=18), Name('name', Param(), lineno=645, col_offset=24), Name('default', Param(), lineno=645, col_offset=30)], None, None, [Name('None', Load(), lineno=645, col_offset=38)]), [If(Compare(Attribute(Name('self', Load(), lineno=646, col_offset=11), 'msg', Load(), lineno=646, col_offset=11), [Is()], [Name('None', Load(), lineno=646, col_offset=23)], lineno=646, col_offset=11), [Raise(Call(Name('ResponseNotReady', Load(), lineno=647, col_offset=18), [], [], None, None, lineno=647, col_offset=18), None, None, lineno=647, col_offset=12)], [], lineno=646, col_offset=8), Return(Call(Attribute(Attribute(Name('self', Load(), lineno=648, col_offset=15), 'msg', Load(), lineno=648, col_offset=15), 'getheader', Load(), lineno=648, col_offset=15), [Name('name', Load(), lineno=648, col_offset=34), Name('default', Load(), lineno=648, col_offset=40)], [], None, None, lineno=648, col_offset=15), lineno=648, col_offset=8)], [], lineno=645, col_offset=4), FunctionDef('getheaders', arguments([Name('self', Param(), lineno=650, col_offset=19)], None, None, []), [Expr(Str('Return list of (header, value) tuples.', lineno=651, col_offset=8), lineno=651, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=652, col_offset=11), 'msg', Load(), lineno=652, col_offset=11), [Is()], [Name('None', Load(), lineno=652, col_offset=23)], lineno=652, col_offset=11), [Raise(Call(Name('ResponseNotReady', Load(), lineno=653, col_offset=18), [], [], None, None, lineno=653, col_offset=18), None, None, lineno=653, col_offset=12)], [], lineno=652, col_offset=8), Return(Call(Attribute(Attribute(Name('self', Load(), lineno=654, col_offset=15), 'msg', Load(), lineno=654, col_offset=15), 'items', Load(), lineno=654, col_offset=15), [], [], None, None, lineno=654, col_offset=15), lineno=654, col_offset=8)], [], lineno=650, col_offset=4)], [], lineno=320, col_offset=0), ClassDef('HTTPConnection', [], [Assign([Name('_http_vsn', Store(), lineno=659, col_offset=4)], Num(11, lineno=659, col_offset=16), lineno=659, col_offset=4), Assign([Name('_http_vsn_str', Store(), lineno=660, col_offset=4)], Str('HTTP/1.1', lineno=660, col_offset=20), lineno=660, col_offset=4), Assign([Name('response_class', Store(), lineno=662, col_offset=4)], Name('HTTPResponse', Load(), lineno=662, col_offset=21), lineno=662, col_offset=4), Assign([Name('default_port', Store(), lineno=663, col_offset=4)], Name('HTTP_PORT', Load(), lineno=663, col_offset=19), lineno=663, col_offset=4), Assign([Name('auto_open', Store(), lineno=664, col_offset=4)], Num(1, lineno=664, col_offset=16), lineno=664, col_offset=4), Assign([Name('debuglevel', Store(), lineno=665, col_offset=4)], Num(0, lineno=665, col_offset=17), lineno=665, col_offset=4), Assign([Name('strict', Store(), lineno=666, col_offset=4)], Num(0, lineno=666, col_offset=13), lineno=666, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=668, col_offset=17), Name('host', Param(), lineno=668, col_offset=23), Name('port', Param(), lineno=668, col_offset=29), Name('strict', Param(), lineno=668, col_offset=40), Name('timeout', Param(), lineno=669, col_offset=17), Name('source_address', Param(), lineno=669, col_offset=57)], None, None, [Name('None', Load(), lineno=668, col_offset=34), Name('None', Load(), lineno=668, col_offset=47), Attribute(Name('socket', Load(), lineno=669, col_offset=25), '_GLOBAL_DEFAULT_TIMEOUT', Load(), lineno=669, col_offset=25), Name('None', Load(), lineno=669, col_offset=72)]), [Assign([Attribute(Name('self', Load(), lineno=670, col_offset=8), 'timeout', Store(), lineno=670, col_offset=8)], Name('timeout', Load(), lineno=670, col_offset=23), lineno=670, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=671, col_offset=8), 'source_address', Store(), lineno=671, col_offset=8)], Name('source_address', Load(), lineno=671, col_offset=30), lineno=671, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=672, col_offset=8), 'sock', Store(), lineno=672, col_offset=8)], Name('None', Load(), lineno=672, col_offset=20), lineno=672, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=673, col_offset=8), '_buffer', Store(), lineno=673, col_offset=8)], List([], Load(), lineno=673, col_offset=23), lineno=673, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=674, col_offset=8), '__response', Store(), lineno=674, col_offset=8)], Name('None', Load(), lineno=674, col_offset=26), lineno=674, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=675, col_offset=8), '__state', Store(), lineno=675, col_offset=8)], Name('_CS_IDLE', Load(), lineno=675, col_offset=23), lineno=675, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=676, col_offset=8), '_method', Store(), lineno=676, col_offset=8)], Name('None', Load(), lineno=676, col_offset=23), lineno=676, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=677, col_offset=8), '_tunnel_host', Store(), lineno=677, col_offset=8)], Name('None', Load(), lineno=677, col_offset=28), lineno=677, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=678, col_offset=8), '_tunnel_port', Store(), lineno=678, col_offset=8)], Name('None', Load(), lineno=678, col_offset=28), lineno=678, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=679, col_offset=8), '_tunnel_headers', Store(), lineno=679, col_offset=8)], Dict([], [], lineno=679, col_offset=31), lineno=679, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=681, col_offset=8), '_set_hostport', Load(), lineno=681, col_offset=8), [Name('host', Load(), lineno=681, col_offset=27), Name('port', Load(), lineno=681, col_offset=33)], [], None, None, lineno=681, col_offset=8), lineno=681, col_offset=8), If(Compare(Name('strict', Load(), lineno=682, col_offset=11), [IsNot()], [Name('None', Load(), lineno=682, col_offset=25)], lineno=682, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=683, col_offset=12), 'strict', Store(), lineno=683, col_offset=12)], Name('strict', Load(), lineno=683, col_offset=26), lineno=683, col_offset=12)], [], lineno=682, col_offset=8)], [], lineno=668, col_offset=4), FunctionDef('set_tunnel', arguments([Name('self', Param(), lineno=685, col_offset=19), Name('host', Param(), lineno=685, col_offset=25), Name('port', Param(), lineno=685, col_offset=31), Name('headers', Param(), lineno=685, col_offset=42)], None, None, [Name('None', Load(), lineno=685, col_offset=36), Name('None', Load(), lineno=685, col_offset=50)]), [Expr(Str(' Sets up the host and the port for the HTTP CONNECT Tunnelling.\n\n        The headers argument should be a mapping of extra HTTP headers\n        to send with the CONNECT request.\n        ', lineno=690, col_offset=-1), lineno=690, col_offset=-1), Assign([Attribute(Name('self', Load(), lineno=691, col_offset=8), '_tunnel_host', Store(), lineno=691, col_offset=8)], Name('host', Load(), lineno=691, col_offset=28), lineno=691, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=692, col_offset=8), '_tunnel_port', Store(), lineno=692, col_offset=8)], Name('port', Load(), lineno=692, col_offset=28), lineno=692, col_offset=8), If(Name('headers', Load(), lineno=693, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=694, col_offset=12), '_tunnel_headers', Store(), lineno=694, col_offset=12)], Name('headers', Load(), lineno=694, col_offset=35), lineno=694, col_offset=12)], [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=696, col_offset=12), '_tunnel_headers', Load(), lineno=696, col_offset=12), 'clear', Load(), lineno=696, col_offset=12), [], [], None, None, lineno=696, col_offset=12), lineno=696, col_offset=12)], lineno=693, col_offset=8)], [], lineno=685, col_offset=4), FunctionDef('_set_hostport', arguments([Name('self', Param(), lineno=698, col_offset=22), Name('host', Param(), lineno=698, col_offset=28), Name('port', Param(), lineno=698, col_offset=34)], None, None, []), [If(Compare(Name('port', Load(), lineno=699, col_offset=11), [Is()], [Name('None', Load(), lineno=699, col_offset=19)], lineno=699, col_offset=11), [Assign([Name('i', Store(), lineno=700, col_offset=12)], Call(Attribute(Name('host', Load(), lineno=700, col_offset=16), 'rfind', Load(), lineno=700, col_offset=16), [Str(':', lineno=700, col_offset=27)], [], None, None, lineno=700, col_offset=16), lineno=700, col_offset=12), Assign([Name('j', Store(), lineno=701, col_offset=12)], Call(Attribute(Name('host', Load(), lineno=701, col_offset=16), 'rfind', Load(), lineno=701, col_offset=16), [Str(']', lineno=701, col_offset=27)], [], None, None, lineno=701, col_offset=16), lineno=701, col_offset=12), If(Compare(Name('i', Load(), lineno=702, col_offset=15), [Gt()], [Name('j', Load(), lineno=702, col_offset=19)], lineno=702, col_offset=15), [TryExcept([Assign([Name('port', Store(), lineno=704, col_offset=20)], Call(Name('int', Load(), lineno=704, col_offset=27), [Subscript(Name('host', Load(), lineno=704, col_offset=31), Slice(BinOp(Name('i', Load(), lineno=704, col_offset=36), Add(), Num(1, lineno=704, col_offset=38), lineno=704, col_offset=36), None, None), Load(), lineno=704, col_offset=31)], [], None, None, lineno=704, col_offset=27), lineno=704, col_offset=20)], [ExceptHandler(Name('ValueError', Load(), lineno=705, col_offset=23), None, [Raise(Call(Name('InvalidURL', Load(), lineno=706, col_offset=26), [BinOp(Str("nonnumeric port: '%s'", lineno=706, col_offset=37), Mod(), Subscript(Name('host', Load(), lineno=706, col_offset=63), Slice(BinOp(Name('i', Load(), lineno=706, col_offset=68), Add(), Num(1, lineno=706, col_offset=70), lineno=706, col_offset=68), None, None), Load(), lineno=706, col_offset=63), lineno=706, col_offset=37)], [], None, None, lineno=706, col_offset=26), None, None, lineno=706, col_offset=20)], lineno=705, col_offset=16)], [], lineno=703, col_offset=16), Assign([Name('host', Store(), lineno=707, col_offset=16)], Subscript(Name('host', Load(), lineno=707, col_offset=23), Slice(None, Name('i', Load(), lineno=707, col_offset=29), None), Load(), lineno=707, col_offset=23), lineno=707, col_offset=16)], [Assign([Name('port', Store(), lineno=709, col_offset=16)], Attribute(Name('self', Load(), lineno=709, col_offset=23), 'default_port', Load(), lineno=709, col_offset=23), lineno=709, col_offset=16)], lineno=702, col_offset=12), If(BoolOp(And(), [Name('host', Load(), lineno=710, col_offset=15), Compare(Subscript(Name('host', Load(), lineno=710, col_offset=24), Index(Num(0, lineno=710, col_offset=29)), Load(), lineno=710, col_offset=24), [Eq()], [Str('[', lineno=710, col_offset=35)], lineno=710, col_offset=24), Compare(Subscript(Name('host', Load(), lineno=710, col_offset=43), Index(Num(-1, lineno=710, col_offset=49)), Load(), lineno=710, col_offset=43), [Eq()], [Str(']', lineno=710, col_offset=55)], lineno=710, col_offset=43)], lineno=710, col_offset=15), [Assign([Name('host', Store(), lineno=711, col_offset=16)], Subscript(Name('host', Load(), lineno=711, col_offset=23), Slice(Num(1, lineno=711, col_offset=28), Num(-1, lineno=711, col_offset=31), None), Load(), lineno=711, col_offset=23), lineno=711, col_offset=16)], [], lineno=710, col_offset=12)], [], lineno=699, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=712, col_offset=8), 'host', Store(), lineno=712, col_offset=8)], Name('host', Load(), lineno=712, col_offset=20), lineno=712, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=713, col_offset=8), 'port', Store(), lineno=713, col_offset=8)], Name('port', Load(), lineno=713, col_offset=20), lineno=713, col_offset=8)], [], lineno=698, col_offset=4), FunctionDef('set_debuglevel', arguments([Name('self', Param(), lineno=715, col_offset=23), Name('level', Param(), lineno=715, col_offset=29)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=716, col_offset=8), 'debuglevel', Store(), lineno=716, col_offset=8)], Name('level', Load(), lineno=716, col_offset=26), lineno=716, col_offset=8)], [], lineno=715, col_offset=4), FunctionDef('_tunnel', arguments([Name('self', Param(), lineno=718, col_offset=16)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=719, col_offset=8), '_set_hostport', Load(), lineno=719, col_offset=8), [Attribute(Name('self', Load(), lineno=719, col_offset=27), '_tunnel_host', Load(), lineno=719, col_offset=27), Attribute(Name('self', Load(), lineno=719, col_offset=46), '_tunnel_port', Load(), lineno=719, col_offset=46)], [], None, None, lineno=719, col_offset=8), lineno=719, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=720, col_offset=8), 'send', Load(), lineno=720, col_offset=8), [BinOp(Str('CONNECT %s:%d HTTP/1.0\r\n', lineno=720, col_offset=18), Mod(), Tuple([Attribute(Name('self', Load(), lineno=720, col_offset=50), 'host', Load(), lineno=720, col_offset=50), Attribute(Name('self', Load(), lineno=720, col_offset=61), 'port', Load(), lineno=720, col_offset=61)], Load(), lineno=720, col_offset=50), lineno=720, col_offset=18)], [], None, None, lineno=720, col_offset=8), lineno=720, col_offset=8), For(Tuple([Name('header', Store(), lineno=721, col_offset=12), Name('value', Store(), lineno=721, col_offset=20)], Store(), lineno=721, col_offset=12), Call(Attribute(Attribute(Name('self', Load(), lineno=721, col_offset=29), '_tunnel_headers', Load(), lineno=721, col_offset=29), 'iteritems', Load(), lineno=721, col_offset=29), [], [], None, None, lineno=721, col_offset=29), [Expr(Call(Attribute(Name('self', Load(), lineno=722, col_offset=12), 'send', Load(), lineno=722, col_offset=12), [BinOp(Str('%s: %s\r\n', lineno=722, col_offset=22), Mod(), Tuple([Name('header', Load(), lineno=722, col_offset=38), Name('value', Load(), lineno=722, col_offset=46)], Load(), lineno=722, col_offset=38), lineno=722, col_offset=22)], [], None, None, lineno=722, col_offset=12), lineno=722, col_offset=12)], [], lineno=721, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=723, col_offset=8), 'send', Load(), lineno=723, col_offset=8), [Str('\r\n', lineno=723, col_offset=18)], [], None, None, lineno=723, col_offset=8), lineno=723, col_offset=8), Assign([Name('response', Store(), lineno=724, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=724, col_offset=19), 'response_class', Load(), lineno=724, col_offset=19), [Attribute(Name('self', Load(), lineno=724, col_offset=39), 'sock', Load(), lineno=724, col_offset=39)], [keyword('strict', Attribute(Name('self', Load(), lineno=724, col_offset=59), 'strict', Load(), lineno=724, col_offset=59)), keyword('method', Attribute(Name('self', Load(), lineno=725, col_offset=48), '_method', Load(), lineno=725, col_offset=48))], None, None, lineno=724, col_offset=19), lineno=724, col_offset=8), Assign([Tuple([Name('version', Store(), lineno=726, col_offset=9), Name('code', Store(), lineno=726, col_offset=18), Name('message', Store(), lineno=726, col_offset=24)], Store(), lineno=726, col_offset=9)], Call(Attribute(Name('response', Load(), lineno=726, col_offset=35), '_read_status', Load(), lineno=726, col_offset=35), [], [], None, None, lineno=726, col_offset=35), lineno=726, col_offset=8), If(Compare(Name('code', Load(), lineno=728, col_offset=11), [NotEq()], [Num(200, lineno=728, col_offset=19)], lineno=728, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=729, col_offset=12), 'close', Load(), lineno=729, col_offset=12), [], [], None, None, lineno=729, col_offset=12), lineno=729, col_offset=12), Raise(Call(Attribute(Name('socket', Load(), lineno=730, col_offset=18), 'error', Load(), lineno=730, col_offset=18), [BinOp(Str('Tunnel connection failed: %d %s', lineno=730, col_offset=31), Mod(), Tuple([Name('code', Load(), lineno=730, col_offset=68), Call(Attribute(Name('message', Load(), lineno=731, col_offset=68), 'strip', Load(), lineno=731, col_offset=68), [], [], None, None, lineno=731, col_offset=68)], Load(), lineno=730, col_offset=68), lineno=730, col_offset=31)], [], None, None, lineno=730, col_offset=18), None, None, lineno=730, col_offset=12)], [], lineno=728, col_offset=8), While(Name('True', Load(), lineno=732, col_offset=14), [Assign([Name('line', Store(), lineno=733, col_offset=12)], Call(Attribute(Attribute(Name('response', Load(), lineno=733, col_offset=19), 'fp', Load(), lineno=733, col_offset=19), 'readline', Load(), lineno=733, col_offset=19), [], [], None, None, lineno=733, col_offset=19), lineno=733, col_offset=12), If(Compare(Name('line', Load(), lineno=734, col_offset=15), [Eq()], [Str('\r\n', lineno=734, col_offset=23)], lineno=734, col_offset=15), [Break( lineno=734, col_offset=31)], [], lineno=734, col_offset=12)], [], lineno=732, col_offset=8)], [], lineno=718, col_offset=4), FunctionDef('connect', arguments([Name('self', Param(), lineno=737, col_offset=16)], None, None, []), [Expr(Str('Connect to the host and port specified in __init__.', lineno=738, col_offset=8), lineno=738, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=739, col_offset=8), 'sock', Store(), lineno=739, col_offset=8)], Call(Attribute(Name('socket', Load(), lineno=739, col_offset=20), 'create_connection', Load(), lineno=739, col_offset=20), [Tuple([Attribute(Name('self', Load(), lineno=739, col_offset=46), 'host', Load(), lineno=739, col_offset=46), Attribute(Name('self', Load(), lineno=739, col_offset=56), 'port', Load(), lineno=739, col_offset=56)], Load(), lineno=739, col_offset=46), Attribute(Name('self', Load(), lineno=740, col_offset=45), 'timeout', Load(), lineno=740, col_offset=45), Attribute(Name('self', Load(), lineno=740, col_offset=59), 'source_address', Load(), lineno=740, col_offset=59)], [], None, None, lineno=739, col_offset=20), lineno=739, col_offset=8), If(Attribute(Name('self', Load(), lineno=742, col_offset=11), '_tunnel_host', Load(), lineno=742, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=743, col_offset=12), '_tunnel', Load(), lineno=743, col_offset=12), [], [], None, None, lineno=743, col_offset=12), lineno=743, col_offset=12)], [], lineno=742, col_offset=8)], [], lineno=737, col_offset=4), FunctionDef('close', arguments([Name('self', Param(), lineno=745, col_offset=14)], None, None, []), [Expr(Str('Close the connection to the HTTP server.', lineno=746, col_offset=8), lineno=746, col_offset=8), If(Attribute(Name('self', Load(), lineno=747, col_offset=11), 'sock', Load(), lineno=747, col_offset=11), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=748, col_offset=12), 'sock', Load(), lineno=748, col_offset=12), 'close', Load(), lineno=748, col_offset=12), [], [], None, None, lineno=748, col_offset=12), lineno=748, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=749, col_offset=12), 'sock', Store(), lineno=749, col_offset=12)], Name('None', Load(), lineno=749, col_offset=24), lineno=749, col_offset=12)], [], lineno=747, col_offset=8), If(Attribute(Name('self', Load(), lineno=750, col_offset=11), '__response', Load(), lineno=750, col_offset=11), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=751, col_offset=12), '__response', Load(), lineno=751, col_offset=12), 'close', Load(), lineno=751, col_offset=12), [], [], None, None, lineno=751, col_offset=12), lineno=751, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=752, col_offset=12), '__response', Store(), lineno=752, col_offset=12)], Name('None', Load(), lineno=752, col_offset=30), lineno=752, col_offset=12)], [], lineno=750, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=753, col_offset=8), '__state', Store(), lineno=753, col_offset=8)], Name('_CS_IDLE', Load(), lineno=753, col_offset=23), lineno=753, col_offset=8)], [], lineno=745, col_offset=4), FunctionDef('send', arguments([Name('self', Param(), lineno=755, col_offset=13), Name('data', Param(), lineno=755, col_offset=19)], None, None, []), [Expr(Str("Send `data' to the server.", lineno=756, col_offset=8), lineno=756, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=757, col_offset=11), 'sock', Load(), lineno=757, col_offset=11), [Is()], [Name('None', Load(), lineno=757, col_offset=24)], lineno=757, col_offset=11), [If(Attribute(Name('self', Load(), lineno=758, col_offset=15), 'auto_open', Load(), lineno=758, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=759, col_offset=16), 'connect', Load(), lineno=759, col_offset=16), [], [], None, None, lineno=759, col_offset=16), lineno=759, col_offset=16)], [Raise(Call(Name('NotConnected', Load(), lineno=761, col_offset=22), [], [], None, None, lineno=761, col_offset=22), None, None, lineno=761, col_offset=16)], lineno=758, col_offset=12)], [], lineno=757, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=763, col_offset=11), 'debuglevel', Load(), lineno=763, col_offset=11), [Gt()], [Num(0, lineno=763, col_offset=29)], lineno=763, col_offset=11), [Print(None, [Str('send:', lineno=764, col_offset=18), Call(Name('repr', Load(), lineno=764, col_offset=27), [Name('data', Load(), lineno=764, col_offset=32)], [], None, None, lineno=764, col_offset=27)], True, lineno=764, col_offset=12)], [], lineno=763, col_offset=8), Assign([Name('blocksize', Store(), lineno=765, col_offset=8)], Num(8192, lineno=765, col_offset=20), lineno=765, col_offset=8), If(BoolOp(And(), [Call(Name('hasattr', Load(), lineno=766, col_offset=11), [Name('data', Load(), lineno=766, col_offset=19), Str('read', lineno=766, col_offset=24)], [], None, None, lineno=766, col_offset=11), UnaryOp(Not(), Call(Name('isinstance', Load(), lineno=766, col_offset=40), [Name('data', Load(), lineno=766, col_offset=51), Name('array', Load(), lineno=766, col_offset=57)], [], None, None, lineno=766, col_offset=40), lineno=766, col_offset=36)], lineno=766, col_offset=11), [If(Compare(Attribute(Name('self', Load(), lineno=767, col_offset=15), 'debuglevel', Load(), lineno=767, col_offset=15), [Gt()], [Num(0, lineno=767, col_offset=33)], lineno=767, col_offset=15), [Print(None, [Str('sendIng a read()able', lineno=767, col_offset=42)], True, lineno=767, col_offset=36)], [], lineno=767, col_offset=12), Assign([Name('datablock', Store(), lineno=768, col_offset=12)], Call(Attribute(Name('data', Load(), lineno=768, col_offset=24), 'read', Load(), lineno=768, col_offset=24), [Name('blocksize', Load(), lineno=768, col_offset=34)], [], None, None, lineno=768, col_offset=24), lineno=768, col_offset=12), While(Name('datablock', Load(), lineno=769, col_offset=18), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=770, col_offset=16), 'sock', Load(), lineno=770, col_offset=16), 'sendall', Load(), lineno=770, col_offset=16), [Name('datablock', Load(), lineno=770, col_offset=34)], [], None, None, lineno=770, col_offset=16), lineno=770, col_offset=16), Assign([Name('datablock', Store(), lineno=771, col_offset=16)], Call(Attribute(Name('data', Load(), lineno=771, col_offset=28), 'read', Load(), lineno=771, col_offset=28), [Name('blocksize', Load(), lineno=771, col_offset=38)], [], None, None, lineno=771, col_offset=28), lineno=771, col_offset=16)], [], lineno=769, col_offset=12)], [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=773, col_offset=12), 'sock', Load(), lineno=773, col_offset=12), 'sendall', Load(), lineno=773, col_offset=12), [Name('data', Load(), lineno=773, col_offset=30)], [], None, None, lineno=773, col_offset=12), lineno=773, col_offset=12)], lineno=766, col_offset=8)], [], lineno=755, col_offset=4), FunctionDef('_output', arguments([Name('self', Param(), lineno=775, col_offset=16), Name('s', Param(), lineno=775, col_offset=22)], None, None, []), [Expr(Str('Add a line of output to the current request buffer.\n\n        Assumes that the line does *not* end with \\r\\n.\n        ', lineno=779, col_offset=-1), lineno=779, col_offset=-1), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=780, col_offset=8), '_buffer', Load(), lineno=780, col_offset=8), 'append', Load(), lineno=780, col_offset=8), [Name('s', Load(), lineno=780, col_offset=28)], [], None, None, lineno=780, col_offset=8), lineno=780, col_offset=8)], [], lineno=775, col_offset=4), FunctionDef('_send_output', arguments([Name('self', Param(), lineno=782, col_offset=21), Name('message_body', Param(), lineno=782, col_offset=27)], None, None, [Name('None', Load(), lineno=782, col_offset=40)]), [Expr(Str('Send the currently buffered request and clear the buffer.\n\n        Appends an extra \\r\\n to the buffer.\n        A message_body may be specified, to be appended to the request.\n        ', lineno=787, col_offset=-1), lineno=787, col_offset=-1), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=788, col_offset=8), '_buffer', Load(), lineno=788, col_offset=8), 'extend', Load(), lineno=788, col_offset=8), [Tuple([Str('', lineno=788, col_offset=29), Str('', lineno=788, col_offset=33)], Load(), lineno=788, col_offset=29)], [], None, None, lineno=788, col_offset=8), lineno=788, col_offset=8), Assign([Name('msg', Store(), lineno=789, col_offset=8)], Call(Attribute(Str('\r\n', lineno=789, col_offset=14), 'join', Load(), lineno=789, col_offset=14), [Attribute(Name('self', Load(), lineno=789, col_offset=26), '_buffer', Load(), lineno=789, col_offset=26)], [], None, None, lineno=789, col_offset=14), lineno=789, col_offset=8), Delete([Subscript(Attribute(Name('self', Load(), lineno=790, col_offset=12), '_buffer', Load(), lineno=790, col_offset=12), Slice(None, None, None), Del(), lineno=790, col_offset=12)], lineno=790, col_offset=8), If(Call(Name('isinstance', Load(), lineno=794, col_offset=11), [Name('message_body', Load(), lineno=794, col_offset=22), Name('str', Load(), lineno=794, col_offset=36)], [], None, None, lineno=794, col_offset=11), [AugAssign(Name('msg', Store(), lineno=795, col_offset=12), Add(), Name('message_body', Load(), lineno=795, col_offset=19), lineno=795, col_offset=12), Assign([Name('message_body', Store(), lineno=796, col_offset=12)], Name('None', Load(), lineno=796, col_offset=27), lineno=796, col_offset=12)], [], lineno=794, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=797, col_offset=8), 'send', Load(), lineno=797, col_offset=8), [Name('msg', Load(), lineno=797, col_offset=18)], [], None, None, lineno=797, col_offset=8), lineno=797, col_offset=8), If(Compare(Name('message_body', Load(), lineno=798, col_offset=11), [IsNot()], [Name('None', Load(), lineno=798, col_offset=31)], lineno=798, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=801, col_offset=12), 'send', Load(), lineno=801, col_offset=12), [Name('message_body', Load(), lineno=801, col_offset=22)], [], None, None, lineno=801, col_offset=12), lineno=801, col_offset=12)], [], lineno=798, col_offset=8)], [], lineno=782, col_offset=4), FunctionDef('putrequest', arguments([Name('self', Param(), lineno=803, col_offset=19), Name('method', Param(), lineno=803, col_offset=25), Name('url', Param(), lineno=803, col_offset=33), Name('skip_host', Param(), lineno=803, col_offset=38), Name('skip_accept_encoding', Param(), lineno=803, col_offset=51)], None, None, [Num(0, lineno=803, col_offset=48), Num(0, lineno=803, col_offset=72)]), [Expr(Str("Send a request to the server.\n\n        `method' specifies an HTTP request method, e.g. 'GET'.\n        `url' specifies the object being requested, e.g. '/index.html'.\n        `skip_host' if True does not add automatically a 'Host:' header\n        `skip_accept_encoding' if True does not add automatically an\n           'Accept-Encoding:' header\n        ", lineno=811, col_offset=-1), lineno=811, col_offset=-1), If(BoolOp(And(), [Attribute(Name('self', Load(), lineno=814, col_offset=11), '__response', Load(), lineno=814, col_offset=11), Call(Attribute(Attribute(Name('self', Load(), lineno=814, col_offset=31), '__response', Load(), lineno=814, col_offset=31), 'isclosed', Load(), lineno=814, col_offset=31), [], [], None, None, lineno=814, col_offset=31)], lineno=814, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=815, col_offset=12), '__response', Store(), lineno=815, col_offset=12)], Name('None', Load(), lineno=815, col_offset=30), lineno=815, col_offset=12)], [], lineno=814, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=836, col_offset=11), '__state', Load(), lineno=836, col_offset=11), [Eq()], [Name('_CS_IDLE', Load(), lineno=836, col_offset=27)], lineno=836, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=837, col_offset=12), '__state', Store(), lineno=837, col_offset=12)], Name('_CS_REQ_STARTED', Load(), lineno=837, col_offset=27), lineno=837, col_offset=12)], [Raise(Call(Name('CannotSendRequest', Load(), lineno=839, col_offset=18), [], [], None, None, lineno=839, col_offset=18), None, None, lineno=839, col_offset=12)], lineno=836, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=842, col_offset=8), '_method', Store(), lineno=842, col_offset=8)], Name('method', Load(), lineno=842, col_offset=23), lineno=842, col_offset=8), If(UnaryOp(Not(), Name('url', Load(), lineno=843, col_offset=15), lineno=843, col_offset=11), [Assign([Name('url', Store(), lineno=844, col_offset=12)], Str('/', lineno=844, col_offset=18), lineno=844, col_offset=12)], [], lineno=843, col_offset=8), Assign([Name('hdr', Store(), lineno=845, col_offset=8)], BinOp(Str('%s %s %s', lineno=845, col_offset=14), Mod(), Tuple([Name('method', Load(), lineno=845, col_offset=28), Name('url', Load(), lineno=845, col_offset=36), Attribute(Name('self', Load(), lineno=845, col_offset=41), '_http_vsn_str', Load(), lineno=845, col_offset=41)], Load(), lineno=845, col_offset=28), lineno=845, col_offset=14), lineno=845, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=847, col_offset=8), '_output', Load(), lineno=847, col_offset=8), [Name('hdr', Load(), lineno=847, col_offset=21)], [], None, None, lineno=847, col_offset=8), lineno=847, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=849, col_offset=11), '_http_vsn', Load(), lineno=849, col_offset=11), [Eq()], [Num(11, lineno=849, col_offset=29)], lineno=849, col_offset=11), [If(UnaryOp(Not(), Name('skip_host', Load(), lineno=852, col_offset=19), lineno=852, col_offset=15), [Assign([Name('netloc', Store(), lineno=867, col_offset=16)], Str('', lineno=867, col_offset=25), lineno=867, col_offset=16), If(Call(Attribute(Name('url', Load(), lineno=868, col_offset=19), 'startswith', Load(), lineno=868, col_offset=19), [Str('http', lineno=868, col_offset=34)], [], None, None, lineno=868, col_offset=19), [Assign([Tuple([Name('nil', Store(), lineno=869, col_offset=20), Name('netloc', Store(), lineno=869, col_offset=25), Name('nil', Store(), lineno=869, col_offset=33), Name('nil', Store(), lineno=869, col_offset=38), Name('nil', Store(), lineno=869, col_offset=43)], Store(), lineno=869, col_offset=20)], Call(Name('urlsplit', Load(), lineno=869, col_offset=49), [Name('url', Load(), lineno=869, col_offset=58)], [], None, None, lineno=869, col_offset=49), lineno=869, col_offset=20)], [], lineno=868, col_offset=16), If(Name('netloc', Load(), lineno=871, col_offset=19), [TryExcept([Assign([Name('netloc_enc', Store(), lineno=873, col_offset=24)], Call(Attribute(Name('netloc', Load(), lineno=873, col_offset=37), 'encode', Load(), lineno=873, col_offset=37), [Str('ascii', lineno=873, col_offset=51)], [], None, None, lineno=873, col_offset=37), lineno=873, col_offset=24)], [ExceptHandler(Name('UnicodeEncodeError', Load(), lineno=874, col_offset=27), None, [Assign([Name('netloc_enc', Store(), lineno=875, col_offset=24)], Call(Attribute(Name('netloc', Load(), lineno=875, col_offset=37), 'encode', Load(), lineno=875, col_offset=37), [Str('idna', lineno=875, col_offset=51)], [], None, None, lineno=875, col_offset=37), lineno=875, col_offset=24)], lineno=874, col_offset=20)], [], lineno=872, col_offset=20), Expr(Call(Attribute(Name('self', Load(), lineno=876, col_offset=20), 'putheader', Load(), lineno=876, col_offset=20), [Str('Host', lineno=876, col_offset=35), Name('netloc_enc', Load(), lineno=876, col_offset=43)], [], None, None, lineno=876, col_offset=20), lineno=876, col_offset=20)], [TryExcept([Assign([Name('host_enc', Store(), lineno=879, col_offset=24)], Call(Attribute(Attribute(Name('self', Load(), lineno=879, col_offset=35), 'host', Load(), lineno=879, col_offset=35), 'encode', Load(), lineno=879, col_offset=35), [Str('ascii', lineno=879, col_offset=52)], [], None, None, lineno=879, col_offset=35), lineno=879, col_offset=24)], [ExceptHandler(Name('UnicodeEncodeError', Load(), lineno=880, col_offset=27), None, [Assign([Name('host_enc', Store(), lineno=881, col_offset=24)], Call(Attribute(Attribute(Name('self', Load(), lineno=881, col_offset=35), 'host', Load(), lineno=881, col_offset=35), 'encode', Load(), lineno=881, col_offset=35), [Str('idna', lineno=881, col_offset=52)], [], None, None, lineno=881, col_offset=35), lineno=881, col_offset=24)], lineno=880, col_offset=20)], [], lineno=878, col_offset=20), If(Compare(Call(Attribute(Name('host_enc', Load(), lineno=883, col_offset=23), 'find', Load(), lineno=883, col_offset=23), [Str(':', lineno=883, col_offset=37)], [], None, None, lineno=883, col_offset=23), [GtE()], [Num(0, lineno=883, col_offset=45)], lineno=883, col_offset=23), [Assign([Name('host_enc', Store(), lineno=884, col_offset=24)], BinOp(BinOp(Str('[', lineno=884, col_offset=35), Add(), Name('host_enc', Load(), lineno=884, col_offset=41), lineno=884, col_offset=35), Add(), Str(']', lineno=884, col_offset=52), lineno=884, col_offset=50), lineno=884, col_offset=24)], [], lineno=883, col_offset=20), If(Compare(Attribute(Name('self', Load(), lineno=885, col_offset=23), 'port', Load(), lineno=885, col_offset=23), [Eq()], [Attribute(Name('self', Load(), lineno=885, col_offset=36), 'default_port', Load(), lineno=885, col_offset=36)], lineno=885, col_offset=23), [Expr(Call(Attribute(Name('self', Load(), lineno=886, col_offset=24), 'putheader', Load(), lineno=886, col_offset=24), [Str('Host', lineno=886, col_offset=39), Name('host_enc', Load(), lineno=886, col_offset=47)], [], None, None, lineno=886, col_offset=24), lineno=886, col_offset=24)], [Expr(Call(Attribute(Name('self', Load(), lineno=888, col_offset=24), 'putheader', Load(), lineno=888, col_offset=24), [Str('Host', lineno=888, col_offset=39), BinOp(Str('%s:%s', lineno=888, col_offset=47), Mod(), Tuple([Name('host_enc', Load(), lineno=888, col_offset=58), Attribute(Name('self', Load(), lineno=888, col_offset=68), 'port', Load(), lineno=888, col_offset=68)], Load(), lineno=888, col_offset=58), lineno=888, col_offset=47)], [], None, None, lineno=888, col_offset=24), lineno=888, col_offset=24)], lineno=885, col_offset=20)], lineno=871, col_offset=16)], [], lineno=852, col_offset=12), If(UnaryOp(Not(), Name('skip_accept_encoding', Load(), lineno=898, col_offset=19), lineno=898, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=899, col_offset=16), 'putheader', Load(), lineno=899, col_offset=16), [Str('Accept-Encoding', lineno=899, col_offset=31), Str('identity', lineno=899, col_offset=50)], [], None, None, lineno=899, col_offset=16), lineno=899, col_offset=16)], [], lineno=898, col_offset=12)], [Pass( lineno=911, col_offset=12)], lineno=849, col_offset=8)], [], lineno=803, col_offset=4), FunctionDef('putheader', arguments([Name('self', Param(), lineno=913, col_offset=18), Name('header', Param(), lineno=913, col_offset=24)], 'values', None, []), [Expr(Str("Send a request header line to the server.\n\n        For example: h.putheader('Accept', 'text/html')\n        ", lineno=917, col_offset=-1), lineno=917, col_offset=-1), If(Compare(Attribute(Name('self', Load(), lineno=918, col_offset=11), '__state', Load(), lineno=918, col_offset=11), [NotEq()], [Name('_CS_REQ_STARTED', Load(), lineno=918, col_offset=27)], lineno=918, col_offset=11), [Raise(Call(Name('CannotSendHeader', Load(), lineno=919, col_offset=18), [], [], None, None, lineno=919, col_offset=18), None, None, lineno=919, col_offset=12)], [], lineno=918, col_offset=8), Assign([Name('hdr', Store(), lineno=921, col_offset=8)], BinOp(Str('%s: %s', lineno=921, col_offset=14), Mod(), Tuple([Name('header', Load(), lineno=921, col_offset=26), Call(Attribute(Str('\r\n\t', lineno=921, col_offset=34), 'join', Load(), lineno=921, col_offset=34), [ListComp(Call(Name('str', Load(), lineno=921, col_offset=49), [Name('v', Load(), lineno=921, col_offset=53)], [], None, None, lineno=921, col_offset=49), [comprehension(Name('v', Store(), lineno=921, col_offset=60), Name('values', Load(), lineno=921, col_offset=65), [])], lineno=921, col_offset=49)], [], None, None, lineno=921, col_offset=34)], Load(), lineno=921, col_offset=26), lineno=921, col_offset=14), lineno=921, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=922, col_offset=8), '_output', Load(), lineno=922, col_offset=8), [Name('hdr', Load(), lineno=922, col_offset=21)], [], None, None, lineno=922, col_offset=8), lineno=922, col_offset=8)], [], lineno=913, col_offset=4), FunctionDef('endheaders', arguments([Name('self', Param(), lineno=924, col_offset=19), Name('message_body', Param(), lineno=924, col_offset=25)], None, None, [Name('None', Load(), lineno=924, col_offset=38)]), [Expr(Str('Indicate that the last header line has been sent to the server.\n\n        This method sends the request to the server.  The optional\n        message_body argument can be used to pass message body\n        associated with the request.  The message body will be sent in\n        the same packet as the message headers if possible.  The\n        message_body should be a string.\n        ', lineno=932, col_offset=-1), lineno=932, col_offset=-1), If(Compare(Attribute(Name('self', Load(), lineno=933, col_offset=11), '__state', Load(), lineno=933, col_offset=11), [Eq()], [Name('_CS_REQ_STARTED', Load(), lineno=933, col_offset=27)], lineno=933, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=934, col_offset=12), '__state', Store(), lineno=934, col_offset=12)], Name('_CS_REQ_SENT', Load(), lineno=934, col_offset=27), lineno=934, col_offset=12)], [Raise(Call(Name('CannotSendHeader', Load(), lineno=936, col_offset=18), [], [], None, None, lineno=936, col_offset=18), None, None, lineno=936, col_offset=12)], lineno=933, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=937, col_offset=8), '_send_output', Load(), lineno=937, col_offset=8), [Name('message_body', Load(), lineno=937, col_offset=26)], [], None, None, lineno=937, col_offset=8), lineno=937, col_offset=8)], [], lineno=924, col_offset=4), FunctionDef('request', arguments([Name('self', Param(), lineno=939, col_offset=16), Name('method', Param(), lineno=939, col_offset=22), Name('url', Param(), lineno=939, col_offset=30), Name('body', Param(), lineno=939, col_offset=35), Name('headers', Param(), lineno=939, col_offset=46)], None, None, [Name('None', Load(), lineno=939, col_offset=40), Dict([], [], lineno=939, col_offset=54)]), [Expr(Str('Send a complete request to the server.', lineno=940, col_offset=8), lineno=940, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=941, col_offset=8), '_send_request', Load(), lineno=941, col_offset=8), [Name('method', Load(), lineno=941, col_offset=27), Name('url', Load(), lineno=941, col_offset=35), Name('body', Load(), lineno=941, col_offset=40), Name('headers', Load(), lineno=941, col_offset=46)], [], None, None, lineno=941, col_offset=8), lineno=941, col_offset=8)], [], lineno=939, col_offset=4), FunctionDef('_set_content_length', arguments([Name('self', Param(), lineno=943, col_offset=28), Name('body', Param(), lineno=943, col_offset=34)], None, None, []), [Assign([Name('thelen', Store(), lineno=945, col_offset=8)], Name('None', Load(), lineno=945, col_offset=17), lineno=945, col_offset=8), TryExcept([Assign([Name('thelen', Store(), lineno=947, col_offset=12)], Call(Name('str', Load(), lineno=947, col_offset=21), [Call(Name('len', Load(), lineno=947, col_offset=25), [Name('body', Load(), lineno=947, col_offset=29)], [], None, None, lineno=947, col_offset=25)], [], None, None, lineno=947, col_offset=21), lineno=947, col_offset=12)], [ExceptHandler(Name('TypeError', Load(), lineno=948, col_offset=15), Name('te', Store(), lineno=948, col_offset=26), [TryExcept([Assign([Name('thelen', Store(), lineno=952, col_offset=16)], Call(Name('str', Load(), lineno=952, col_offset=25), [Attribute(Call(Attribute(Name('os', Load(), lineno=952, col_offset=29), 'fstat', Load(), lineno=952, col_offset=29), [Call(Attribute(Name('body', Load(), lineno=952, col_offset=38), 'fileno', Load(), lineno=952, col_offset=38), [], [], None, None, lineno=952, col_offset=38)], [], None, None, lineno=952, col_offset=29), 'st_size', Load(), lineno=952, col_offset=29)], [], None, None, lineno=952, col_offset=25), lineno=952, col_offset=16)], [ExceptHandler(Tuple([Name('AttributeError', Load(), lineno=953, col_offset=20), Name('OSError', Load(), lineno=953, col_offset=36)], Load(), lineno=953, col_offset=20), None, [If(Compare(Attribute(Name('self', Load(), lineno=955, col_offset=19), 'debuglevel', Load(), lineno=955, col_offset=19), [Gt()], [Num(0, lineno=955, col_offset=37)], lineno=955, col_offset=19), [Print(None, [Str('Cannot stat!!', lineno=955, col_offset=46)], True, lineno=955, col_offset=40)], [], lineno=955, col_offset=16)], lineno=953, col_offset=12)], [], lineno=951, col_offset=12)], lineno=948, col_offset=8)], [], lineno=946, col_offset=8), If(Compare(Name('thelen', Load(), lineno=957, col_offset=11), [IsNot()], [Name('None', Load(), lineno=957, col_offset=25)], lineno=957, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=958, col_offset=12), 'putheader', Load(), lineno=958, col_offset=12), [Str('Content-Length', lineno=958, col_offset=27), Name('thelen', Load(), lineno=958, col_offset=45)], [], None, None, lineno=958, col_offset=12), lineno=958, col_offset=12)], [], lineno=957, col_offset=8)], [], lineno=943, col_offset=4), FunctionDef('_send_request', arguments([Name('self', Param(), lineno=960, col_offset=22), Name('method', Param(), lineno=960, col_offset=28), Name('url', Param(), lineno=960, col_offset=36), Name('body', Param(), lineno=960, col_offset=41), Name('headers', Param(), lineno=960, col_offset=47)], None, None, []), [Assign([Name('header_names', Store(), lineno=962, col_offset=8)], Call(Attribute(Name('dict', Load(), lineno=962, col_offset=23), 'fromkeys', Load(), lineno=962, col_offset=23), [ListComp(Call(Attribute(Name('k', Load(), lineno=962, col_offset=38), 'lower', Load(), lineno=962, col_offset=38), [], [], None, None, lineno=962, col_offset=38), [comprehension(Name('k', Store(), lineno=962, col_offset=52), Name('headers', Load(), lineno=962, col_offset=57), [])], lineno=962, col_offset=38)], [], None, None, lineno=962, col_offset=23), lineno=962, col_offset=8), Assign([Name('skips', Store(), lineno=963, col_offset=8)], Dict([], [], lineno=963, col_offset=16), lineno=963, col_offset=8), If(Compare(Str('host', lineno=964, col_offset=11), [In()], [Name('header_names', Load(), lineno=964, col_offset=21)], lineno=964, col_offset=11), [Assign([Subscript(Name('skips', Load(), lineno=965, col_offset=12), Index(Str('skip_host', lineno=965, col_offset=18)), Store(), lineno=965, col_offset=12)], Num(1, lineno=965, col_offset=33), lineno=965, col_offset=12)], [], lineno=964, col_offset=8), If(Compare(Str('accept-encoding', lineno=966, col_offset=11), [In()], [Name('header_names', Load(), lineno=966, col_offset=32)], lineno=966, col_offset=11), [Assign([Subscript(Name('skips', Load(), lineno=967, col_offset=12), Index(Str('skip_accept_encoding', lineno=967, col_offset=18)), Store(), lineno=967, col_offset=12)], Num(1, lineno=967, col_offset=44), lineno=967, col_offset=12)], [], lineno=966, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=969, col_offset=8), 'putrequest', Load(), lineno=969, col_offset=8), [Name('method', Load(), lineno=969, col_offset=24), Name('url', Load(), lineno=969, col_offset=32)], [], None, Name('skips', Load(), lineno=969, col_offset=39), lineno=969, col_offset=8), lineno=969, col_offset=8), If(BoolOp(And(), [Name('body', Load(), lineno=971, col_offset=11), Compare(Str('content-length', lineno=971, col_offset=21), [NotIn()], [Name('header_names', Load(), lineno=971, col_offset=45)], lineno=971, col_offset=21)], lineno=971, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=972, col_offset=12), '_set_content_length', Load(), lineno=972, col_offset=12), [Name('body', Load(), lineno=972, col_offset=37)], [], None, None, lineno=972, col_offset=12), lineno=972, col_offset=12)], [], lineno=971, col_offset=8), For(Tuple([Name('hdr', Store(), lineno=973, col_offset=12), Name('value', Store(), lineno=973, col_offset=17)], Store(), lineno=973, col_offset=12), Call(Attribute(Name('headers', Load(), lineno=973, col_offset=26), 'iteritems', Load(), lineno=973, col_offset=26), [], [], None, None, lineno=973, col_offset=26), [Expr(Call(Attribute(Name('self', Load(), lineno=974, col_offset=12), 'putheader', Load(), lineno=974, col_offset=12), [Name('hdr', Load(), lineno=974, col_offset=27), Name('value', Load(), lineno=974, col_offset=32)], [], None, None, lineno=974, col_offset=12), lineno=974, col_offset=12)], [], lineno=973, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=975, col_offset=8), 'endheaders', Load(), lineno=975, col_offset=8), [Name('body', Load(), lineno=975, col_offset=24)], [], None, None, lineno=975, col_offset=8), lineno=975, col_offset=8)], [], lineno=960, col_offset=4), FunctionDef('getresponse', arguments([Name('self', Param(), lineno=977, col_offset=20), Name('buffering', Param(), lineno=977, col_offset=26)], None, None, [Name('False', Load(), lineno=977, col_offset=36)]), [Expr(Str('Get the response from the server.', lineno=978, col_offset=8), lineno=978, col_offset=8), If(BoolOp(And(), [Attribute(Name('self', Load(), lineno=981, col_offset=11), '__response', Load(), lineno=981, col_offset=11), Call(Attribute(Attribute(Name('self', Load(), lineno=981, col_offset=31), '__response', Load(), lineno=981, col_offset=31), 'isclosed', Load(), lineno=981, col_offset=31), [], [], None, None, lineno=981, col_offset=31)], lineno=981, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=982, col_offset=12), '__response', Store(), lineno=982, col_offset=12)], Name('None', Load(), lineno=982, col_offset=30), lineno=982, col_offset=12)], [], lineno=981, col_offset=8), If(BoolOp(Or(), [Compare(Attribute(Name('self', Load(), lineno=1000, col_offset=11), '__state', Load(), lineno=1000, col_offset=11), [NotEq()], [Name('_CS_REQ_SENT', Load(), lineno=1000, col_offset=27)], lineno=1000, col_offset=11), Attribute(Name('self', Load(), lineno=1000, col_offset=43), '__response', Load(), lineno=1000, col_offset=43)], lineno=1000, col_offset=11), [Raise(Call(Name('ResponseNotReady', Load(), lineno=1001, col_offset=18), [], [], None, None, lineno=1001, col_offset=18), None, None, lineno=1001, col_offset=12)], [], lineno=1000, col_offset=8), Assign([Name('args', Store(), lineno=1003, col_offset=8)], Tuple([Attribute(Name('self', Load(), lineno=1003, col_offset=16), 'sock', Load(), lineno=1003, col_offset=16)], Load(), lineno=1003, col_offset=16), lineno=1003, col_offset=8), Assign([Name('kwds', Store(), lineno=1004, col_offset=8)], Dict([Str('strict', lineno=1004, col_offset=16), Str('method', lineno=1004, col_offset=38)], [Attribute(Name('self', Load(), lineno=1004, col_offset=25), 'strict', Load(), lineno=1004, col_offset=25), Attribute(Name('self', Load(), lineno=1004, col_offset=47), '_method', Load(), lineno=1004, col_offset=47)], lineno=1004, col_offset=15), lineno=1004, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=1005, col_offset=11), 'debuglevel', Load(), lineno=1005, col_offset=11), [Gt()], [Num(0, lineno=1005, col_offset=29)], lineno=1005, col_offset=11), [AugAssign(Name('args', Store(), lineno=1006, col_offset=12), Add(), Tuple([Attribute(Name('self', Load(), lineno=1006, col_offset=21), 'debuglevel', Load(), lineno=1006, col_offset=21)], Load(), lineno=1006, col_offset=21), lineno=1006, col_offset=12)], [], lineno=1005, col_offset=8), If(Name('buffering', Load(), lineno=1007, col_offset=11), [Assign([Subscript(Name('kwds', Load(), lineno=1010, col_offset=12), Index(Str('buffering', lineno=1010, col_offset=17)), Store(), lineno=1010, col_offset=12)], Name('True', Load(), lineno=1010, col_offset=32), lineno=1010, col_offset=12)], [], lineno=1007, col_offset=8), Assign([Name('response', Store(), lineno=1011, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=1011, col_offset=19), 'response_class', Load(), lineno=1011, col_offset=19), [], [], Name('args', Load(), lineno=1011, col_offset=40), Name('kwds', Load(), lineno=1011, col_offset=48), lineno=1011, col_offset=19), lineno=1011, col_offset=8), Expr(Call(Attribute(Name('response', Load(), lineno=1013, col_offset=8), 'begin', Load(), lineno=1013, col_offset=8), [], [], None, None, lineno=1013, col_offset=8), lineno=1013, col_offset=8), Assert(Compare(Attribute(Name('response', Load(), lineno=1014, col_offset=15), 'will_close', Load(), lineno=1014, col_offset=15), [NotEq()], [Name('_UNKNOWN', Load(), lineno=1014, col_offset=38)], lineno=1014, col_offset=15), None, lineno=1014, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1015, col_offset=8), '__state', Store(), lineno=1015, col_offset=8)], Name('_CS_IDLE', Load(), lineno=1015, col_offset=23), lineno=1015, col_offset=8), If(Attribute(Name('response', Load(), lineno=1017, col_offset=11), 'will_close', Load(), lineno=1017, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=1019, col_offset=12), 'close', Load(), lineno=1019, col_offset=12), [], [], None, None, lineno=1019, col_offset=12), lineno=1019, col_offset=12)], [Assign([Attribute(Name('self', Load(), lineno=1022, col_offset=12), '__response', Store(), lineno=1022, col_offset=12)], Name('response', Load(), lineno=1022, col_offset=30), lineno=1022, col_offset=12)], lineno=1017, col_offset=8), Return(Name('response', Load(), lineno=1024, col_offset=15), lineno=1024, col_offset=8)], [], lineno=977, col_offset=4)], [], lineno=657, col_offset=0), ClassDef('HTTP', [], [Expr(Str('Compatibility class with httplib.py from 1.5.', lineno=1028, col_offset=4), lineno=1028, col_offset=4), Assign([Name('_http_vsn', Store(), lineno=1030, col_offset=4)], Num(10, lineno=1030, col_offset=16), lineno=1030, col_offset=4), Assign([Name('_http_vsn_str', Store(), lineno=1031, col_offset=4)], Str('HTTP/1.0', lineno=1031, col_offset=20), lineno=1031, col_offset=4), Assign([Name('debuglevel', Store(), lineno=1033, col_offset=4)], Num(0, lineno=1033, col_offset=17), lineno=1033, col_offset=4), Assign([Name('_connection_class', Store(), lineno=1035, col_offset=4)], Name('HTTPConnection', Load(), lineno=1035, col_offset=24), lineno=1035, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=1037, col_offset=17), Name('host', Param(), lineno=1037, col_offset=23), Name('port', Param(), lineno=1037, col_offset=32), Name('strict', Param(), lineno=1037, col_offset=43)], None, None, [Str('', lineno=1037, col_offset=28), Name('None', Load(), lineno=1037, col_offset=37), Name('None', Load(), lineno=1037, col_offset=50)]), [Expr(Str('Provide a default host, since the superclass requires one.', lineno=1038, col_offset=8), lineno=1038, col_offset=8), If(Compare(Name('port', Load(), lineno=1041, col_offset=11), [Eq()], [Num(0, lineno=1041, col_offset=19)], lineno=1041, col_offset=11), [Assign([Name('port', Store(), lineno=1042, col_offset=12)], Name('None', Load(), lineno=1042, col_offset=19), lineno=1042, col_offset=12)], [], lineno=1041, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1047, col_offset=8), '_setup', Load(), lineno=1047, col_offset=8), [Call(Attribute(Name('self', Load(), lineno=1047, col_offset=20), '_connection_class', Load(), lineno=1047, col_offset=20), [Name('host', Load(), lineno=1047, col_offset=43), Name('port', Load(), lineno=1047, col_offset=49), Name('strict', Load(), lineno=1047, col_offset=55)], [], None, None, lineno=1047, col_offset=20)], [], None, None, lineno=1047, col_offset=8), lineno=1047, col_offset=8)], [], lineno=1037, col_offset=4), FunctionDef('_setup', arguments([Name('self', Param(), lineno=1049, col_offset=15), Name('conn', Param(), lineno=1049, col_offset=21)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=1050, col_offset=8), '_conn', Store(), lineno=1050, col_offset=8)], Name('conn', Load(), lineno=1050, col_offset=21), lineno=1050, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1053, col_offset=8), 'send', Store(), lineno=1053, col_offset=8)], Attribute(Name('conn', Load(), lineno=1053, col_offset=20), 'send', Load(), lineno=1053, col_offset=20), lineno=1053, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1054, col_offset=8), 'putrequest', Store(), lineno=1054, col_offset=8)], Attribute(Name('conn', Load(), lineno=1054, col_offset=26), 'putrequest', Load(), lineno=1054, col_offset=26), lineno=1054, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1055, col_offset=8), 'putheader', Store(), lineno=1055, col_offset=8)], Attribute(Name('conn', Load(), lineno=1055, col_offset=25), 'putheader', Load(), lineno=1055, col_offset=25), lineno=1055, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1056, col_offset=8), 'endheaders', Store(), lineno=1056, col_offset=8)], Attribute(Name('conn', Load(), lineno=1056, col_offset=26), 'endheaders', Load(), lineno=1056, col_offset=26), lineno=1056, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1057, col_offset=8), 'set_debuglevel', Store(), lineno=1057, col_offset=8)], Attribute(Name('conn', Load(), lineno=1057, col_offset=30), 'set_debuglevel', Load(), lineno=1057, col_offset=30), lineno=1057, col_offset=8), Assign([Attribute(Name('conn', Load(), lineno=1059, col_offset=8), '_http_vsn', Store(), lineno=1059, col_offset=8)], Attribute(Name('self', Load(), lineno=1059, col_offset=25), '_http_vsn', Load(), lineno=1059, col_offset=25), lineno=1059, col_offset=8), Assign([Attribute(Name('conn', Load(), lineno=1060, col_offset=8), '_http_vsn_str', Store(), lineno=1060, col_offset=8)], Attribute(Name('self', Load(), lineno=1060, col_offset=29), '_http_vsn_str', Load(), lineno=1060, col_offset=29), lineno=1060, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1062, col_offset=8), 'file', Store(), lineno=1062, col_offset=8)], Name('None', Load(), lineno=1062, col_offset=20), lineno=1062, col_offset=8)], [], lineno=1049, col_offset=4), FunctionDef('connect', arguments([Name('self', Param(), lineno=1064, col_offset=16), Name('host', Param(), lineno=1064, col_offset=22), Name('port', Param(), lineno=1064, col_offset=33)], None, None, [Name('None', Load(), lineno=1064, col_offset=27), Name('None', Load(), lineno=1064, col_offset=38)]), [Expr(Str("Accept arguments to set the host/port, since the superclass doesn't.", lineno=1065, col_offset=8), lineno=1065, col_offset=8), If(Compare(Name('host', Load(), lineno=1067, col_offset=11), [IsNot()], [Name('None', Load(), lineno=1067, col_offset=23)], lineno=1067, col_offset=11), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=1068, col_offset=12), '_conn', Load(), lineno=1068, col_offset=12), '_set_hostport', Load(), lineno=1068, col_offset=12), [Name('host', Load(), lineno=1068, col_offset=37), Name('port', Load(), lineno=1068, col_offset=43)], [], None, None, lineno=1068, col_offset=12), lineno=1068, col_offset=12)], [], lineno=1067, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=1069, col_offset=8), '_conn', Load(), lineno=1069, col_offset=8), 'connect', Load(), lineno=1069, col_offset=8), [], [], None, None, lineno=1069, col_offset=8), lineno=1069, col_offset=8)], [], lineno=1064, col_offset=4), FunctionDef('getfile', arguments([Name('self', Param(), lineno=1071, col_offset=16)], None, None, []), [Expr(Str("Provide a getfile, since the superclass' does not use this concept.", lineno=1072, col_offset=8), lineno=1072, col_offset=8), Return(Attribute(Name('self', Load(), lineno=1073, col_offset=15), 'file', Load(), lineno=1073, col_offset=15), lineno=1073, col_offset=8)], [], lineno=1071, col_offset=4), FunctionDef('getreply', arguments([Name('self', Param(), lineno=1075, col_offset=17), Name('buffering', Param(), lineno=1075, col_offset=23)], None, None, [Name('False', Load(), lineno=1075, col_offset=33)]), [Expr(Str('Compat definition since superclass does not define it.\n\n        Returns a tuple consisting of:\n        - server status code (e.g. \'200\' if all goes well)\n        - server "reason" corresponding to status code\n        - any RFC822 headers in the response from the server\n        ', lineno=1082, col_offset=-1), lineno=1082, col_offset=-1), TryExcept([If(UnaryOp(Not(), Name('buffering', Load(), lineno=1084, col_offset=19), lineno=1084, col_offset=15), [Assign([Name('response', Store(), lineno=1085, col_offset=16)], Call(Attribute(Attribute(Name('self', Load(), lineno=1085, col_offset=27), '_conn', Load(), lineno=1085, col_offset=27), 'getresponse', Load(), lineno=1085, col_offset=27), [], [], None, None, lineno=1085, col_offset=27), lineno=1085, col_offset=16)], [Assign([Name('response', Store(), lineno=1089, col_offset=16)], Call(Attribute(Attribute(Name('self', Load(), lineno=1089, col_offset=27), '_conn', Load(), lineno=1089, col_offset=27), 'getresponse', Load(), lineno=1089, col_offset=27), [Name('buffering', Load(), lineno=1089, col_offset=50)], [], None, None, lineno=1089, col_offset=27), lineno=1089, col_offset=16)], lineno=1084, col_offset=12)], [ExceptHandler(Name('BadStatusLine', Load(), lineno=1090, col_offset=15), Name('e', Store(), lineno=1090, col_offset=30), [Assign([Attribute(Name('self', Load(), lineno=1096, col_offset=12), 'file', Store(), lineno=1096, col_offset=12)], Call(Attribute(Attribute(Attribute(Name('self', Load(), lineno=1096, col_offset=24), '_conn', Load(), lineno=1096, col_offset=24), 'sock', Load(), lineno=1096, col_offset=24), 'makefile', Load(), lineno=1096, col_offset=24), [Str('rb', lineno=1096, col_offset=49), Num(0, lineno=1096, col_offset=55)], [], None, None, lineno=1096, col_offset=24), lineno=1096, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=1099, col_offset=12), 'close', Load(), lineno=1099, col_offset=12), [], [], None, None, lineno=1099, col_offset=12), lineno=1099, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=1101, col_offset=12), 'headers', Store(), lineno=1101, col_offset=12)], Name('None', Load(), lineno=1101, col_offset=27), lineno=1101, col_offset=12), Return(Tuple([Num(-1, lineno=1102, col_offset=20), Attribute(Name('e', Load(), lineno=1102, col_offset=23), 'line', Load(), lineno=1102, col_offset=23), Name('None', Load(), lineno=1102, col_offset=31)], Load(), lineno=1102, col_offset=19), lineno=1102, col_offset=12)], lineno=1090, col_offset=8)], [], lineno=1083, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1104, col_offset=8), 'headers', Store(), lineno=1104, col_offset=8)], Attribute(Name('response', Load(), lineno=1104, col_offset=23), 'msg', Load(), lineno=1104, col_offset=23), lineno=1104, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1105, col_offset=8), 'file', Store(), lineno=1105, col_offset=8)], Attribute(Name('response', Load(), lineno=1105, col_offset=20), 'fp', Load(), lineno=1105, col_offset=20), lineno=1105, col_offset=8), Return(Tuple([Attribute(Name('response', Load(), lineno=1106, col_offset=15), 'status', Load(), lineno=1106, col_offset=15), Attribute(Name('response', Load(), lineno=1106, col_offset=32), 'reason', Load(), lineno=1106, col_offset=32), Attribute(Name('response', Load(), lineno=1106, col_offset=49), 'msg', Load(), lineno=1106, col_offset=49)], Load(), lineno=1106, col_offset=15), lineno=1106, col_offset=8)], [], lineno=1075, col_offset=4), FunctionDef('close', arguments([Name('self', Param(), lineno=1108, col_offset=14)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=1109, col_offset=8), '_conn', Load(), lineno=1109, col_offset=8), 'close', Load(), lineno=1109, col_offset=8), [], [], None, None, lineno=1109, col_offset=8), lineno=1109, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1116, col_offset=8), 'file', Store(), lineno=1116, col_offset=8)], Name('None', Load(), lineno=1116, col_offset=20), lineno=1116, col_offset=8)], [], lineno=1108, col_offset=4)], [], lineno=1027, col_offset=0), TryExcept([Import([alias('ssl', None)], lineno=1119, col_offset=4)], [ExceptHandler(Name('ImportError', Load(), lineno=1120, col_offset=7), None, [Pass( lineno=1121, col_offset=4)], lineno=1120, col_offset=0)], [ClassDef('HTTPSConnection', [Name('HTTPConnection', Load(), lineno=1123, col_offset=26)], [Expr(Str('This class allows communication via SSL.', lineno=1124, col_offset=8), lineno=1124, col_offset=8), Assign([Name('default_port', Store(), lineno=1126, col_offset=8)], Name('HTTPS_PORT', Load(), lineno=1126, col_offset=23), lineno=1126, col_offset=8), FunctionDef('__init__', arguments([Name('self', Param(), lineno=1128, col_offset=21), Name('host', Param(), lineno=1128, col_offset=27), Name('port', Param(), lineno=1128, col_offset=33), Name('key_file', Param(), lineno=1128, col_offset=44), Name('cert_file', Param(), lineno=1128, col_offset=59), Name('strict', Param(), lineno=1129, col_offset=21), Name('timeout', Param(), lineno=1129, col_offset=34), Name('source_address', Param(), lineno=1130, col_offset=21)], None, None, [Name('None', Load(), lineno=1128, col_offset=38), Name('None', Load(), lineno=1128, col_offset=53), Name('None', Load(), lineno=1128, col_offset=69), Name('None', Load(), lineno=1129, col_offset=28), Attribute(Name('socket', Load(), lineno=1129, col_offset=42), '_GLOBAL_DEFAULT_TIMEOUT', Load(), lineno=1129, col_offset=42), Name('None', Load(), lineno=1130, col_offset=36)]), [Expr(Call(Attribute(Name('HTTPConnection', Load(), lineno=1131, col_offset=12), '__init__', Load(), lineno=1131, col_offset=12), [Name('self', Load(), lineno=1131, col_offset=36), Name('host', Load(), lineno=1131, col_offset=42), Name('port', Load(), lineno=1131, col_offset=48), Name('strict', Load(), lineno=1131, col_offset=54), Name('timeout', Load(), lineno=1131, col_offset=62), Name('source_address', Load(), lineno=1132, col_offset=36)], [], None, None, lineno=1131, col_offset=12), lineno=1131, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=1133, col_offset=12), 'key_file', Store(), lineno=1133, col_offset=12)], Name('key_file', Load(), lineno=1133, col_offset=28), lineno=1133, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=1134, col_offset=12), 'cert_file', Store(), lineno=1134, col_offset=12)], Name('cert_file', Load(), lineno=1134, col_offset=29), lineno=1134, col_offset=12)], [], lineno=1128, col_offset=8), FunctionDef('connect', arguments([Name('self', Param(), lineno=1136, col_offset=20)], None, None, []), [Expr(Str('Connect to a host on a given (SSL) port.', lineno=1137, col_offset=12), lineno=1137, col_offset=12), Assign([Name('sock', Store(), lineno=1139, col_offset=12)], Call(Attribute(Name('socket', Load(), lineno=1139, col_offset=19), 'create_connection', Load(), lineno=1139, col_offset=19), [Tuple([Attribute(Name('self', Load(), lineno=1139, col_offset=45), 'host', Load(), lineno=1139, col_offset=45), Attribute(Name('self', Load(), lineno=1139, col_offset=56), 'port', Load(), lineno=1139, col_offset=56)], Load(), lineno=1139, col_offset=45), Attribute(Name('self', Load(), lineno=1140, col_offset=44), 'timeout', Load(), lineno=1140, col_offset=44), Attribute(Name('self', Load(), lineno=1140, col_offset=58), 'source_address', Load(), lineno=1140, col_offset=58)], [], None, None, lineno=1139, col_offset=19), lineno=1139, col_offset=12), If(Attribute(Name('self', Load(), lineno=1141, col_offset=15), '_tunnel_host', Load(), lineno=1141, col_offset=15), [Assign([Attribute(Name('self', Load(), lineno=1142, col_offset=16), 'sock', Store(), lineno=1142, col_offset=16)], Name('sock', Load(), lineno=1142, col_offset=28), lineno=1142, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=1143, col_offset=16), '_tunnel', Load(), lineno=1143, col_offset=16), [], [], None, None, lineno=1143, col_offset=16), lineno=1143, col_offset=16)], [], lineno=1141, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=1144, col_offset=12), 'sock', Store(), lineno=1144, col_offset=12)], Call(Attribute(Name('ssl', Load(), lineno=1144, col_offset=24), 'wrap_socket', Load(), lineno=1144, col_offset=24), [Name('sock', Load(), lineno=1144, col_offset=40), Attribute(Name('self', Load(), lineno=1144, col_offset=46), 'key_file', Load(), lineno=1144, col_offset=46), Attribute(Name('self', Load(), lineno=1144, col_offset=61), 'cert_file', Load(), lineno=1144, col_offset=61)], [], None, None, lineno=1144, col_offset=24), lineno=1144, col_offset=12)], [], lineno=1136, col_offset=8)], [], lineno=1123, col_offset=4), Expr(Call(Attribute(Name('__all__', Load(), lineno=1146, col_offset=4), 'append', Load(), lineno=1146, col_offset=4), [Str('HTTPSConnection', lineno=1146, col_offset=19)], [], None, None, lineno=1146, col_offset=4), lineno=1146, col_offset=4), ClassDef('HTTPS', [Name('HTTP', Load(), lineno=1148, col_offset=16)], [Expr(Str('Compatibility with 1.5 httplib interface\n\n        Python 1.5.2 did not have an HTTPS class, but it defined an\n        interface for sending http requests that is also useful for\n        https.\n        ', lineno=1154, col_offset=-1), lineno=1154, col_offset=-1), Assign([Name('_connection_class', Store(), lineno=1156, col_offset=8)], Name('HTTPSConnection', Load(), lineno=1156, col_offset=28), lineno=1156, col_offset=8), FunctionDef('__init__', arguments([Name('self', Param(), lineno=1158, col_offset=21), Name('host', Param(), lineno=1158, col_offset=27), Name('port', Param(), lineno=1158, col_offset=36), Name('key_file', Param(), lineno=1158, col_offset=47), Name('cert_file', Param(), lineno=1158, col_offset=62), Name('strict', Param(), lineno=1159, col_offset=21)], None, None, [Str('', lineno=1158, col_offset=32), Name('None', Load(), lineno=1158, col_offset=41), Name('None', Load(), lineno=1158, col_offset=56), Name('None', Load(), lineno=1158, col_offset=72), Name('None', Load(), lineno=1159, col_offset=28)]), [If(Compare(Name('port', Load(), lineno=1163, col_offset=15), [Eq()], [Num(0, lineno=1163, col_offset=23)], lineno=1163, col_offset=15), [Assign([Name('port', Store(), lineno=1164, col_offset=16)], Name('None', Load(), lineno=1164, col_offset=23), lineno=1164, col_offset=16)], [], lineno=1163, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=1165, col_offset=12), '_setup', Load(), lineno=1165, col_offset=12), [Call(Attribute(Name('self', Load(), lineno=1165, col_offset=24), '_connection_class', Load(), lineno=1165, col_offset=24), [Name('host', Load(), lineno=1165, col_offset=47), Name('port', Load(), lineno=1165, col_offset=53), Name('key_file', Load(), lineno=1165, col_offset=59), Name('cert_file', Load(), lineno=1166, col_offset=47), Name('strict', Load(), lineno=1166, col_offset=58)], [], None, None, lineno=1165, col_offset=24)], [], None, None, lineno=1165, col_offset=12), lineno=1165, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=1170, col_offset=12), 'key_file', Store(), lineno=1170, col_offset=12)], Name('key_file', Load(), lineno=1170, col_offset=28), lineno=1170, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=1171, col_offset=12), 'cert_file', Store(), lineno=1171, col_offset=12)], Name('cert_file', Load(), lineno=1171, col_offset=29), lineno=1171, col_offset=12)], [], lineno=1158, col_offset=8)], [], lineno=1148, col_offset=4), FunctionDef('FakeSocket', arguments([Name('sock', Param(), lineno=1174, col_offset=20), Name('sslobj', Param(), lineno=1174, col_offset=26)], None, None, []), [Expr(Call(Attribute(Name('warnings', Load(), lineno=1175, col_offset=8), 'warn', Load(), lineno=1175, col_offset=8), [BinOp(Str("FakeSocket is deprecated, and won't be in 3.x.  ", lineno=1175, col_offset=22), Add(), Str('Use the result of ssl.wrap_socket() directly instead.', lineno=1176, col_offset=22), lineno=1175, col_offset=22), Name('DeprecationWarning', Load(), lineno=1177, col_offset=22)], [keyword('stacklevel', Num(2, lineno=1177, col_offset=53))], None, None, lineno=1175, col_offset=8), lineno=1175, col_offset=8), Return(Name('sslobj', Load(), lineno=1178, col_offset=15), lineno=1178, col_offset=8)], [], lineno=1174, col_offset=4)], lineno=1118, col_offset=0), ClassDef('HTTPException', [Name('Exception', Load(), lineno=1181, col_offset=20)], [Pass( lineno=1184, col_offset=4)], [], lineno=1181, col_offset=0), ClassDef('NotConnected', [Name('HTTPException', Load(), lineno=1186, col_offset=19)], [Pass( lineno=1187, col_offset=4)], [], lineno=1186, col_offset=0), ClassDef('InvalidURL', [Name('HTTPException', Load(), lineno=1189, col_offset=17)], [Pass( lineno=1190, col_offset=4)], [], lineno=1189, col_offset=0), ClassDef('UnknownProtocol', [Name('HTTPException', Load(), lineno=1192, col_offset=22)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=1193, col_offset=17), Name('version', Param(), lineno=1193, col_offset=23)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=1194, col_offset=8), 'args', Store(), lineno=1194, col_offset=8)], Tuple([Name('version', Load(), lineno=1194, col_offset=20)], Load(), lineno=1194, col_offset=20), lineno=1194, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1195, col_offset=8), 'version', Store(), lineno=1195, col_offset=8)], Name('version', Load(), lineno=1195, col_offset=23), lineno=1195, col_offset=8)], [], lineno=1193, col_offset=4)], [], lineno=1192, col_offset=0), ClassDef('UnknownTransferEncoding', [Name('HTTPException', Load(), lineno=1197, col_offset=30)], [Pass( lineno=1198, col_offset=4)], [], lineno=1197, col_offset=0), ClassDef('UnimplementedFileMode', [Name('HTTPException', Load(), lineno=1200, col_offset=28)], [Pass( lineno=1201, col_offset=4)], [], lineno=1200, col_offset=0), ClassDef('IncompleteRead', [Name('HTTPException', Load(), lineno=1203, col_offset=21)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=1204, col_offset=17), Name('partial', Param(), lineno=1204, col_offset=23), Name('expected', Param(), lineno=1204, col_offset=32)], None, None, [Name('None', Load(), lineno=1204, col_offset=41)]), [Assign([Attribute(Name('self', Load(), lineno=1205, col_offset=8), 'args', Store(), lineno=1205, col_offset=8)], Tuple([Name('partial', Load(), lineno=1205, col_offset=20)], Load(), lineno=1205, col_offset=20), lineno=1205, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1206, col_offset=8), 'partial', Store(), lineno=1206, col_offset=8)], Name('partial', Load(), lineno=1206, col_offset=23), lineno=1206, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1207, col_offset=8), 'expected', Store(), lineno=1207, col_offset=8)], Name('expected', Load(), lineno=1207, col_offset=24), lineno=1207, col_offset=8)], [], lineno=1204, col_offset=4), FunctionDef('__repr__', arguments([Name('self', Param(), lineno=1208, col_offset=17)], None, None, []), [If(Compare(Attribute(Name('self', Load(), lineno=1209, col_offset=11), 'expected', Load(), lineno=1209, col_offset=11), [IsNot()], [Name('None', Load(), lineno=1209, col_offset=32)], lineno=1209, col_offset=11), [Assign([Name('e', Store(), lineno=1210, col_offset=12)], BinOp(Str(', %i more expected', lineno=1210, col_offset=16), Mod(), Attribute(Name('self', Load(), lineno=1210, col_offset=39), 'expected', Load(), lineno=1210, col_offset=39), lineno=1210, col_offset=16), lineno=1210, col_offset=12)], [Assign([Name('e', Store(), lineno=1212, col_offset=12)], Str('', lineno=1212, col_offset=16), lineno=1212, col_offset=12)], lineno=1209, col_offset=8), Return(BinOp(Str('IncompleteRead(%i bytes read%s)', lineno=1213, col_offset=15), Mod(), Tuple([Call(Name('len', Load(), lineno=1213, col_offset=52), [Attribute(Name('self', Load(), lineno=1213, col_offset=56), 'partial', Load(), lineno=1213, col_offset=56)], [], None, None, lineno=1213, col_offset=52), Name('e', Load(), lineno=1213, col_offset=71)], Load(), lineno=1213, col_offset=52), lineno=1213, col_offset=15), lineno=1213, col_offset=8)], [], lineno=1208, col_offset=4), FunctionDef('__str__', arguments([Name('self', Param(), lineno=1214, col_offset=16)], None, None, []), [Return(Call(Name('repr', Load(), lineno=1215, col_offset=15), [Name('self', Load(), lineno=1215, col_offset=20)], [], None, None, lineno=1215, col_offset=15), lineno=1215, col_offset=8)], [], lineno=1214, col_offset=4)], [], lineno=1203, col_offset=0), ClassDef('ImproperConnectionState', [Name('HTTPException', Load(), lineno=1217, col_offset=30)], [Pass( lineno=1218, col_offset=4)], [], lineno=1217, col_offset=0), ClassDef('CannotSendRequest', [Name('ImproperConnectionState', Load(), lineno=1220, col_offset=24)], [Pass( lineno=1221, col_offset=4)], [], lineno=1220, col_offset=0), ClassDef('CannotSendHeader', [Name('ImproperConnectionState', Load(), lineno=1223, col_offset=23)], [Pass( lineno=1224, col_offset=4)], [], lineno=1223, col_offset=0), ClassDef('ResponseNotReady', [Name('ImproperConnectionState', Load(), lineno=1226, col_offset=23)], [Pass( lineno=1227, col_offset=4)], [], lineno=1226, col_offset=0), ClassDef('BadStatusLine', [Name('HTTPException', Load(), lineno=1229, col_offset=20)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=1230, col_offset=17), Name('line', Param(), lineno=1230, col_offset=23)], None, None, []), [If(UnaryOp(Not(), Name('line', Load(), lineno=1231, col_offset=15), lineno=1231, col_offset=11), [Assign([Name('line', Store(), lineno=1232, col_offset=12)], Call(Name('repr', Load(), lineno=1232, col_offset=19), [Name('line', Load(), lineno=1232, col_offset=24)], [], None, None, lineno=1232, col_offset=19), lineno=1232, col_offset=12)], [], lineno=1231, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1233, col_offset=8), 'args', Store(), lineno=1233, col_offset=8)], Tuple([Name('line', Load(), lineno=1233, col_offset=20)], Load(), lineno=1233, col_offset=20), lineno=1233, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1234, col_offset=8), 'line', Store(), lineno=1234, col_offset=8)], Name('line', Load(), lineno=1234, col_offset=20), lineno=1234, col_offset=8)], [], lineno=1230, col_offset=4)], [], lineno=1229, col_offset=0), Assign([Name('error', Store(), lineno=1237, col_offset=0)], Name('HTTPException', Load(), lineno=1237, col_offset=8), lineno=1237, col_offset=0), ClassDef('LineAndFileWrapper', [], [Expr(Str('A limited file-like object for HTTP/0.9 responses.', lineno=1240, col_offset=4), lineno=1240, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=1247, col_offset=17), Name('line', Param(), lineno=1247, col_offset=23), Name('file', Param(), lineno=1247, col_offset=29)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=1248, col_offset=8), '_line', Store(), lineno=1248, col_offset=8)], Name('line', Load(), lineno=1248, col_offset=21), lineno=1248, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1249, col_offset=8), '_file', Store(), lineno=1249, col_offset=8)], Name('file', Load(), lineno=1249, col_offset=21), lineno=1249, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1250, col_offset=8), '_line_consumed', Store(), lineno=1250, col_offset=8)], Num(0, lineno=1250, col_offset=30), lineno=1250, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1251, col_offset=8), '_line_offset', Store(), lineno=1251, col_offset=8)], Num(0, lineno=1251, col_offset=28), lineno=1251, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1252, col_offset=8), '_line_left', Store(), lineno=1252, col_offset=8)], Call(Name('len', Load(), lineno=1252, col_offset=26), [Name('line', Load(), lineno=1252, col_offset=30)], [], None, None, lineno=1252, col_offset=26), lineno=1252, col_offset=8)], [], lineno=1247, col_offset=4), FunctionDef('__getattr__', arguments([Name('self', Param(), lineno=1254, col_offset=20), Name('attr', Param(), lineno=1254, col_offset=26)], None, None, []), [Return(Call(Name('getattr', Load(), lineno=1255, col_offset=15), [Attribute(Name('self', Load(), lineno=1255, col_offset=23), '_file', Load(), lineno=1255, col_offset=23), Name('attr', Load(), lineno=1255, col_offset=35)], [], None, None, lineno=1255, col_offset=15), lineno=1255, col_offset=8)], [], lineno=1254, col_offset=4), FunctionDef('_done', arguments([Name('self', Param(), lineno=1257, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=1261, col_offset=8), '_line_consumed', Store(), lineno=1261, col_offset=8)], Num(1, lineno=1261, col_offset=30), lineno=1261, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1262, col_offset=8), 'read', Store(), lineno=1262, col_offset=8)], Attribute(Attribute(Name('self', Load(), lineno=1262, col_offset=20), '_file', Load(), lineno=1262, col_offset=20), 'read', Load(), lineno=1262, col_offset=20), lineno=1262, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1263, col_offset=8), 'readline', Store(), lineno=1263, col_offset=8)], Attribute(Attribute(Name('self', Load(), lineno=1263, col_offset=24), '_file', Load(), lineno=1263, col_offset=24), 'readline', Load(), lineno=1263, col_offset=24), lineno=1263, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=1264, col_offset=8), 'readlines', Store(), lineno=1264, col_offset=8)], Attribute(Attribute(Name('self', Load(), lineno=1264, col_offset=25), '_file', Load(), lineno=1264, col_offset=25), 'readlines', Load(), lineno=1264, col_offset=25), lineno=1264, col_offset=8)], [], lineno=1257, col_offset=4), FunctionDef('read', arguments([Name('self', Param(), lineno=1266, col_offset=13), Name('amt', Param(), lineno=1266, col_offset=19)], None, None, [Name('None', Load(), lineno=1266, col_offset=23)]), [If(Attribute(Name('self', Load(), lineno=1267, col_offset=11), '_line_consumed', Load(), lineno=1267, col_offset=11), [Return(Call(Attribute(Attribute(Name('self', Load(), lineno=1268, col_offset=19), '_file', Load(), lineno=1268, col_offset=19), 'read', Load(), lineno=1268, col_offset=19), [Name('amt', Load(), lineno=1268, col_offset=35)], [], None, None, lineno=1268, col_offset=19), lineno=1268, col_offset=12)], [], lineno=1267, col_offset=8), Assert(Attribute(Name('self', Load(), lineno=1269, col_offset=15), '_line_left', Load(), lineno=1269, col_offset=15), None, lineno=1269, col_offset=8), If(BoolOp(Or(), [Compare(Name('amt', Load(), lineno=1270, col_offset=11), [Is()], [Name('None', Load(), lineno=1270, col_offset=18)], lineno=1270, col_offset=11), Compare(Name('amt', Load(), lineno=1270, col_offset=26), [Gt()], [Attribute(Name('self', Load(), lineno=1270, col_offset=32), '_line_left', Load(), lineno=1270, col_offset=32)], lineno=1270, col_offset=26)], lineno=1270, col_offset=11), [Assign([Name('s', Store(), lineno=1271, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=1271, col_offset=16), '_line', Load(), lineno=1271, col_offset=16), Slice(Attribute(Name('self', Load(), lineno=1271, col_offset=27), '_line_offset', Load(), lineno=1271, col_offset=27), None, None), Load(), lineno=1271, col_offset=16), lineno=1271, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=1272, col_offset=12), '_done', Load(), lineno=1272, col_offset=12), [], [], None, None, lineno=1272, col_offset=12), lineno=1272, col_offset=12), If(Compare(Name('amt', Load(), lineno=1273, col_offset=15), [Is()], [Name('None', Load(), lineno=1273, col_offset=22)], lineno=1273, col_offset=15), [Return(BinOp(Name('s', Load(), lineno=1274, col_offset=23), Add(), Call(Attribute(Attribute(Name('self', Load(), lineno=1274, col_offset=27), '_file', Load(), lineno=1274, col_offset=27), 'read', Load(), lineno=1274, col_offset=27), [], [], None, None, lineno=1274, col_offset=27), lineno=1274, col_offset=23), lineno=1274, col_offset=16)], [Return(BinOp(Name('s', Load(), lineno=1276, col_offset=23), Add(), Call(Attribute(Attribute(Name('self', Load(), lineno=1276, col_offset=27), '_file', Load(), lineno=1276, col_offset=27), 'read', Load(), lineno=1276, col_offset=27), [BinOp(Name('amt', Load(), lineno=1276, col_offset=43), Sub(), Call(Name('len', Load(), lineno=1276, col_offset=49), [Name('s', Load(), lineno=1276, col_offset=53)], [], None, None, lineno=1276, col_offset=49), lineno=1276, col_offset=43)], [], None, None, lineno=1276, col_offset=27), lineno=1276, col_offset=23), lineno=1276, col_offset=16)], lineno=1273, col_offset=12)], [Assert(Compare(Name('amt', Load(), lineno=1278, col_offset=19), [LtE()], [Attribute(Name('self', Load(), lineno=1278, col_offset=26), '_line_left', Load(), lineno=1278, col_offset=26)], lineno=1278, col_offset=19), None, lineno=1278, col_offset=12), Assign([Name('i', Store(), lineno=1279, col_offset=12)], Attribute(Name('self', Load(), lineno=1279, col_offset=16), '_line_offset', Load(), lineno=1279, col_offset=16), lineno=1279, col_offset=12), Assign([Name('j', Store(), lineno=1280, col_offset=12)], BinOp(Name('i', Load(), lineno=1280, col_offset=16), Add(), Name('amt', Load(), lineno=1280, col_offset=20), lineno=1280, col_offset=16), lineno=1280, col_offset=12), Assign([Name('s', Store(), lineno=1281, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=1281, col_offset=16), '_line', Load(), lineno=1281, col_offset=16), Slice(Name('i', Load(), lineno=1281, col_offset=27), Name('j', Load(), lineno=1281, col_offset=29), None), Load(), lineno=1281, col_offset=16), lineno=1281, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=1282, col_offset=12), '_line_offset', Store(), lineno=1282, col_offset=12)], Name('j', Load(), lineno=1282, col_offset=32), lineno=1282, col_offset=12), AugAssign(Attribute(Name('self', Load(), lineno=1283, col_offset=12), '_line_left', Store(), lineno=1283, col_offset=12), Sub(), Name('amt', Load(), lineno=1283, col_offset=31), lineno=1283, col_offset=12), If(Compare(Attribute(Name('self', Load(), lineno=1284, col_offset=15), '_line_left', Load(), lineno=1284, col_offset=15), [Eq()], [Num(0, lineno=1284, col_offset=34)], lineno=1284, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=1285, col_offset=16), '_done', Load(), lineno=1285, col_offset=16), [], [], None, None, lineno=1285, col_offset=16), lineno=1285, col_offset=16)], [], lineno=1284, col_offset=12), Return(Name('s', Load(), lineno=1286, col_offset=19), lineno=1286, col_offset=12)], lineno=1270, col_offset=8)], [], lineno=1266, col_offset=4), FunctionDef('readline', arguments([Name('self', Param(), lineno=1288, col_offset=17)], None, None, []), [If(Attribute(Name('self', Load(), lineno=1289, col_offset=11), '_line_consumed', Load(), lineno=1289, col_offset=11), [Return(Call(Attribute(Attribute(Name('self', Load(), lineno=1290, col_offset=19), '_file', Load(), lineno=1290, col_offset=19), 'readline', Load(), lineno=1290, col_offset=19), [], [], None, None, lineno=1290, col_offset=19), lineno=1290, col_offset=12)], [], lineno=1289, col_offset=8), Assert(Attribute(Name('self', Load(), lineno=1291, col_offset=15), '_line_left', Load(), lineno=1291, col_offset=15), None, lineno=1291, col_offset=8), Assign([Name('s', Store(), lineno=1292, col_offset=8)], Subscript(Attribute(Name('self', Load(), lineno=1292, col_offset=12), '_line', Load(), lineno=1292, col_offset=12), Slice(Attribute(Name('self', Load(), lineno=1292, col_offset=23), '_line_offset', Load(), lineno=1292, col_offset=23), None, None), Load(), lineno=1292, col_offset=12), lineno=1292, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1293, col_offset=8), '_done', Load(), lineno=1293, col_offset=8), [], [], None, None, lineno=1293, col_offset=8), lineno=1293, col_offset=8), Return(Name('s', Load(), lineno=1294, col_offset=15), lineno=1294, col_offset=8)], [], lineno=1288, col_offset=4), FunctionDef('readlines', arguments([Name('self', Param(), lineno=1296, col_offset=18), Name('size', Param(), lineno=1296, col_offset=24)], None, None, [Name('None', Load(), lineno=1296, col_offset=29)]), [If(Attribute(Name('self', Load(), lineno=1297, col_offset=11), '_line_consumed', Load(), lineno=1297, col_offset=11), [Return(Call(Attribute(Attribute(Name('self', Load(), lineno=1298, col_offset=19), '_file', Load(), lineno=1298, col_offset=19), 'readlines', Load(), lineno=1298, col_offset=19), [Name('size', Load(), lineno=1298, col_offset=40)], [], None, None, lineno=1298, col_offset=19), lineno=1298, col_offset=12)], [], lineno=1297, col_offset=8), Assert(Attribute(Name('self', Load(), lineno=1299, col_offset=15), '_line_left', Load(), lineno=1299, col_offset=15), None, lineno=1299, col_offset=8), Assign([Name('L', Store(), lineno=1300, col_offset=8)], List([Subscript(Attribute(Name('self', Load(), lineno=1300, col_offset=13), '_line', Load(), lineno=1300, col_offset=13), Slice(Attribute(Name('self', Load(), lineno=1300, col_offset=24), '_line_offset', Load(), lineno=1300, col_offset=24), None, None), Load(), lineno=1300, col_offset=13)], Load(), lineno=1300, col_offset=12), lineno=1300, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1301, col_offset=8), '_done', Load(), lineno=1301, col_offset=8), [], [], None, None, lineno=1301, col_offset=8), lineno=1301, col_offset=8), If(Compare(Name('size', Load(), lineno=1302, col_offset=11), [Is()], [Name('None', Load(), lineno=1302, col_offset=19)], lineno=1302, col_offset=11), [Return(BinOp(Name('L', Load(), lineno=1303, col_offset=19), Add(), Call(Attribute(Attribute(Name('self', Load(), lineno=1303, col_offset=23), '_file', Load(), lineno=1303, col_offset=23), 'readlines', Load(), lineno=1303, col_offset=23), [], [], None, None, lineno=1303, col_offset=23), lineno=1303, col_offset=19), lineno=1303, col_offset=12)], [Return(BinOp(Name('L', Load(), lineno=1305, col_offset=19), Add(), Call(Attribute(Attribute(Name('self', Load(), lineno=1305, col_offset=23), '_file', Load(), lineno=1305, col_offset=23), 'readlines', Load(), lineno=1305, col_offset=23), [Name('size', Load(), lineno=1305, col_offset=44)], [], None, None, lineno=1305, col_offset=23), lineno=1305, col_offset=19), lineno=1305, col_offset=12)], lineno=1302, col_offset=8)], [], lineno=1296, col_offset=4)], [], lineno=1239, col_offset=0), FunctionDef('test', arguments([], None, None, []), [Expr(Str('Test this module.\n\n    A hodge podge of tests collected here, because they have too many\n    external dependencies for the regular test suite.\n    ', lineno=1312, col_offset=-1), lineno=1312, col_offset=-1), Import([alias('sys', None)], lineno=1314, col_offset=4), Import([alias('getopt', None)], lineno=1315, col_offset=4), Assign([Tuple([Name('opts', Store(), lineno=1316, col_offset=4), Name('args', Store(), lineno=1316, col_offset=10)], Store(), lineno=1316, col_offset=4)], Call(Attribute(Name('getopt', Load(), lineno=1316, col_offset=17), 'getopt', Load(), lineno=1316, col_offset=17), [Subscript(Attribute(Name('sys', Load(), lineno=1316, col_offset=31), 'argv', Load(), lineno=1316, col_offset=31), Slice(Num(1, lineno=1316, col_offset=40), None, None), Load(), lineno=1316, col_offset=31), Str('d', lineno=1316, col_offset=45)], [], None, None, lineno=1316, col_offset=17), lineno=1316, col_offset=4), Assign([Name('dl', Store(), lineno=1317, col_offset=4)], Num(0, lineno=1317, col_offset=9), lineno=1317, col_offset=4), For(Tuple([Name('o', Store(), lineno=1318, col_offset=8), Name('a', Store(), lineno=1318, col_offset=11)], Store(), lineno=1318, col_offset=8), Name('opts', Load(), lineno=1318, col_offset=16), [If(Compare(Name('o', Load(), lineno=1319, col_offset=11), [Eq()], [Str('-d', lineno=1319, col_offset=16)], lineno=1319, col_offset=11), [Assign([Name('dl', Store(), lineno=1319, col_offset=22)], BinOp(Name('dl', Load(), lineno=1319, col_offset=27), Add(), Num(1, lineno=1319, col_offset=32), lineno=1319, col_offset=27), lineno=1319, col_offset=22)], [], lineno=1319, col_offset=8)], [], lineno=1318, col_offset=4), Assign([Name('host', Store(), lineno=1320, col_offset=4)], Str('www.python.org', lineno=1320, col_offset=11), lineno=1320, col_offset=4), Assign([Name('selector', Store(), lineno=1321, col_offset=4)], Str('/', lineno=1321, col_offset=15), lineno=1321, col_offset=4), If(Subscript(Name('args', Load(), lineno=1322, col_offset=7), Slice(Num(0, lineno=1322, col_offset=12), None, None), Load(), lineno=1322, col_offset=7), [Assign([Name('host', Store(), lineno=1322, col_offset=17)], Subscript(Name('args', Load(), lineno=1322, col_offset=24), Index(Num(0, lineno=1322, col_offset=29)), Load(), lineno=1322, col_offset=24), lineno=1322, col_offset=17)], [], lineno=1322, col_offset=4), If(Subscript(Name('args', Load(), lineno=1323, col_offset=7), Slice(Num(1, lineno=1323, col_offset=12), None, None), Load(), lineno=1323, col_offset=7), [Assign([Name('selector', Store(), lineno=1323, col_offset=17)], Subscript(Name('args', Load(), lineno=1323, col_offset=28), Index(Num(1, lineno=1323, col_offset=33)), Load(), lineno=1323, col_offset=28), lineno=1323, col_offset=17)], [], lineno=1323, col_offset=4), Assign([Name('h', Store(), lineno=1324, col_offset=4)], Call(Name('HTTP', Load(), lineno=1324, col_offset=8), [], [], None, None, lineno=1324, col_offset=8), lineno=1324, col_offset=4), Expr(Call(Attribute(Name('h', Load(), lineno=1325, col_offset=4), 'set_debuglevel', Load(), lineno=1325, col_offset=4), [Name('dl', Load(), lineno=1325, col_offset=21)], [], None, None, lineno=1325, col_offset=4), lineno=1325, col_offset=4), Expr(Call(Attribute(Name('h', Load(), lineno=1326, col_offset=4), 'connect', Load(), lineno=1326, col_offset=4), [Name('host', Load(), lineno=1326, col_offset=14)], [], None, None, lineno=1326, col_offset=4), lineno=1326, col_offset=4), Expr(Call(Attribute(Name('h', Load(), lineno=1327, col_offset=4), 'putrequest', Load(), lineno=1327, col_offset=4), [Str('GET', lineno=1327, col_offset=17), Name('selector', Load(), lineno=1327, col_offset=24)], [], None, None, lineno=1327, col_offset=4), lineno=1327, col_offset=4), Expr(Call(Attribute(Name('h', Load(), lineno=1328, col_offset=4), 'endheaders', Load(), lineno=1328, col_offset=4), [], [], None, None, lineno=1328, col_offset=4), lineno=1328, col_offset=4), Assign([Tuple([Name('status', Store(), lineno=1329, col_offset=4), Name('reason', Store(), lineno=1329, col_offset=12), Name('headers', Store(), lineno=1329, col_offset=20)], Store(), lineno=1329, col_offset=4)], Call(Attribute(Name('h', Load(), lineno=1329, col_offset=30), 'getreply', Load(), lineno=1329, col_offset=30), [], [], None, None, lineno=1329, col_offset=30), lineno=1329, col_offset=4), Print(None, [Str('status =', lineno=1330, col_offset=10), Name('status', Load(), lineno=1330, col_offset=22)], True, lineno=1330, col_offset=4), Print(None, [Str('reason =', lineno=1331, col_offset=10), Name('reason', Load(), lineno=1331, col_offset=22)], True, lineno=1331, col_offset=4), Print(None, [Str('read', lineno=1332, col_offset=10), Call(Name('len', Load(), lineno=1332, col_offset=18), [Call(Attribute(Call(Attribute(Name('h', Load(), lineno=1332, col_offset=22), 'getfile', Load(), lineno=1332, col_offset=22), [], [], None, None, lineno=1332, col_offset=22), 'read', Load(), lineno=1332, col_offset=22), [], [], None, None, lineno=1332, col_offset=22)], [], None, None, lineno=1332, col_offset=18)], True, lineno=1332, col_offset=4), Print(None, [], True, lineno=1333, col_offset=4), If(Name('headers', Load(), lineno=1334, col_offset=7), [For(Name('header', Store(), lineno=1335, col_offset=12), Attribute(Name('headers', Load(), lineno=1335, col_offset=22), 'headers', Load(), lineno=1335, col_offset=22), [Print(None, [Call(Attribute(Name('header', Load(), lineno=1335, col_offset=45), 'strip', Load(), lineno=1335, col_offset=45), [], [], None, None, lineno=1335, col_offset=45)], True, lineno=1335, col_offset=39)], [], lineno=1335, col_offset=8)], [], lineno=1334, col_offset=4), Print(None, [], True, lineno=1336, col_offset=4), ClassDef('HTTP11', [Name('HTTP', Load(), lineno=1339, col_offset=17)], [Assign([Name('_http_vsn', Store(), lineno=1340, col_offset=8)], Num(11, lineno=1340, col_offset=20), lineno=1340, col_offset=8), Assign([Name('_http_vsn_str', Store(), lineno=1341, col_offset=8)], Str('HTTP/1.1', lineno=1341, col_offset=24), lineno=1341, col_offset=8)], [], lineno=1339, col_offset=4), Assign([Name('h', Store(), lineno=1343, col_offset=4)], Call(Name('HTTP11', Load(), lineno=1343, col_offset=8), [Str('www.python.org', lineno=1343, col_offset=15)], [], None, None, lineno=1343, col_offset=8), lineno=1343, col_offset=4), Expr(Call(Attribute(Name('h', Load(), lineno=1344, col_offset=4), 'putrequest', Load(), lineno=1344, col_offset=4), [Str('GET', lineno=1344, col_offset=17), Str('http://www.python.org/~jeremy/', lineno=1344, col_offset=24)], [], None, None, lineno=1344, col_offset=4), lineno=1344, col_offset=4), Expr(Call(Attribute(Name('h', Load(), lineno=1345, col_offset=4), 'endheaders', Load(), lineno=1345, col_offset=4), [], [], None, None, lineno=1345, col_offset=4), lineno=1345, col_offset=4), Expr(Call(Attribute(Name('h', Load(), lineno=1346, col_offset=4), 'getreply', Load(), lineno=1346, col_offset=4), [], [], None, None, lineno=1346, col_offset=4), lineno=1346, col_offset=4), Expr(Call(Attribute(Name('h', Load(), lineno=1347, col_offset=4), 'close', Load(), lineno=1347, col_offset=4), [], [], None, None, lineno=1347, col_offset=4), lineno=1347, col_offset=4), TryExcept([Import([alias('ssl', None)], lineno=1350, col_offset=8)], [ExceptHandler(Name('ImportError', Load(), lineno=1351, col_offset=11), None, [Pass( lineno=1352, col_offset=8)], lineno=1351, col_offset=4)], [For(Tuple([Name('host', Store(), lineno=1355, col_offset=12), Name('selector', Store(), lineno=1355, col_offset=18)], Store(), lineno=1355, col_offset=12), Tuple([Tuple([Str('sourceforge.net', lineno=1355, col_offset=32), Str('/projects/python', lineno=1355, col_offset=51)], Load(), lineno=1355, col_offset=32)], Load(), lineno=1355, col_offset=31), [Print(None, [BinOp(Str('https://%s%s', lineno=1357, col_offset=18), Mod(), Tuple([Name('host', Load(), lineno=1357, col_offset=36), Name('selector', Load(), lineno=1357, col_offset=42)], Load(), lineno=1357, col_offset=36), lineno=1357, col_offset=18)], True, lineno=1357, col_offset=12), Assign([Name('hs', Store(), lineno=1358, col_offset=12)], Call(Name('HTTPS', Load(), lineno=1358, col_offset=17), [], [], None, None, lineno=1358, col_offset=17), lineno=1358, col_offset=12), Expr(Call(Attribute(Name('hs', Load(), lineno=1359, col_offset=12), 'set_debuglevel', Load(), lineno=1359, col_offset=12), [Name('dl', Load(), lineno=1359, col_offset=30)], [], None, None, lineno=1359, col_offset=12), lineno=1359, col_offset=12), Expr(Call(Attribute(Name('hs', Load(), lineno=1360, col_offset=12), 'connect', Load(), lineno=1360, col_offset=12), [Name('host', Load(), lineno=1360, col_offset=23)], [], None, None, lineno=1360, col_offset=12), lineno=1360, col_offset=12), Expr(Call(Attribute(Name('hs', Load(), lineno=1361, col_offset=12), 'putrequest', Load(), lineno=1361, col_offset=12), [Str('GET', lineno=1361, col_offset=26), Name('selector', Load(), lineno=1361, col_offset=33)], [], None, None, lineno=1361, col_offset=12), lineno=1361, col_offset=12), Expr(Call(Attribute(Name('hs', Load(), lineno=1362, col_offset=12), 'endheaders', Load(), lineno=1362, col_offset=12), [], [], None, None, lineno=1362, col_offset=12), lineno=1362, col_offset=12), Assign([Tuple([Name('status', Store(), lineno=1363, col_offset=12), Name('reason', Store(), lineno=1363, col_offset=20), Name('headers', Store(), lineno=1363, col_offset=28)], Store(), lineno=1363, col_offset=12)], Call(Attribute(Name('hs', Load(), lineno=1363, col_offset=38), 'getreply', Load(), lineno=1363, col_offset=38), [], [], None, None, lineno=1363, col_offset=38), lineno=1363, col_offset=12), Print(None, [Str('status =', lineno=1364, col_offset=18), Name('status', Load(), lineno=1364, col_offset=30)], True, lineno=1364, col_offset=12), Print(None, [Str('reason =', lineno=1365, col_offset=18), Name('reason', Load(), lineno=1365, col_offset=30)], True, lineno=1365, col_offset=12), Print(None, [Str('read', lineno=1366, col_offset=18), Call(Name('len', Load(), lineno=1366, col_offset=26), [Call(Attribute(Call(Attribute(Name('hs', Load(), lineno=1366, col_offset=30), 'getfile', Load(), lineno=1366, col_offset=30), [], [], None, None, lineno=1366, col_offset=30), 'read', Load(), lineno=1366, col_offset=30), [], [], None, None, lineno=1366, col_offset=30)], [], None, None, lineno=1366, col_offset=26)], True, lineno=1366, col_offset=12), Print(None, [], True, lineno=1367, col_offset=12), If(Name('headers', Load(), lineno=1368, col_offset=15), [For(Name('header', Store(), lineno=1369, col_offset=20), Attribute(Name('headers', Load(), lineno=1369, col_offset=30), 'headers', Load(), lineno=1369, col_offset=30), [Print(None, [Call(Attribute(Name('header', Load(), lineno=1369, col_offset=53), 'strip', Load(), lineno=1369, col_offset=53), [], [], None, None, lineno=1369, col_offset=53)], True, lineno=1369, col_offset=47)], [], lineno=1369, col_offset=16)], [], lineno=1368, col_offset=12), Print(None, [], True, lineno=1370, col_offset=12)], [], lineno=1355, col_offset=8)], lineno=1349, col_offset=4)], [], lineno=1307, col_offset=0), If(Compare(Name('__name__', Load(), lineno=1372, col_offset=3), [Eq()], [Str('__main__', lineno=1372, col_offset=15)], lineno=1372, col_offset=3), [Expr(Call(Name('test', Load(), lineno=1373, col_offset=4), [], [], None, None, lineno=1373, col_offset=4), lineno=1373, col_offset=4)], [], lineno=1372, col_offset=0)])
