Module([Import([alias('sys', None), alias('os', None)], lineno=7, col_offset=0), TryExcept([Assign([Name('mailbox', Store(), lineno=12, col_offset=4)], Subscript(Attribute(Name('os', Load(), lineno=12, col_offset=14), 'environ', Load(), lineno=12, col_offset=14), Index(Str('MAIL', lineno=12, col_offset=25)), Load(), lineno=12, col_offset=14), lineno=12, col_offset=4)], [ExceptHandler(Tuple([Name('AttributeError', Load(), lineno=13, col_offset=8), Name('KeyError', Load(), lineno=13, col_offset=24)], Load(), lineno=13, col_offset=8), None, [Expr(Call(Attribute(Attribute(Name('sys', Load(), lineno=14, col_offset=4), 'stderr', Load(), lineno=14, col_offset=4), 'write', Load(), lineno=14, col_offset=4), [Str('No environment variable $MAIL\n', lineno=14, col_offset=21)], [], None, None, lineno=14, col_offset=4), lineno=14, col_offset=4), Expr(Call(Attribute(Name('sys', Load(), lineno=15, col_offset=4), 'exit', Load(), lineno=15, col_offset=4), [Num(2, lineno=15, col_offset=13)], [], None, None, lineno=15, col_offset=4), lineno=15, col_offset=4)], lineno=13, col_offset=0)], [], lineno=11, col_offset=0), TryExcept([Assign([Name('mail', Store(), lineno=18, col_offset=4)], Call(Name('open', Load(), lineno=18, col_offset=11), [Name('mailbox', Load(), lineno=18, col_offset=16)], [], None, None, lineno=18, col_offset=11), lineno=18, col_offset=4)], [ExceptHandler(Name('IOError', Load(), lineno=19, col_offset=7), None, [Expr(Call(Attribute(Name('sys', Load(), lineno=20, col_offset=4), 'exit', Load(), lineno=20, col_offset=4), [BinOp(Str('Cannot open mailbox file: ', lineno=20, col_offset=13), Add(), Name('mailbox', Load(), lineno=20, col_offset=44), lineno=20, col_offset=13)], [], None, None, lineno=20, col_offset=4), lineno=20, col_offset=4)], lineno=19, col_offset=0)], [], lineno=17, col_offset=0), While(Num(1, lineno=22, col_offset=6), [Assign([Name('line', Store(), lineno=23, col_offset=4)], Call(Attribute(Name('mail', Load(), lineno=23, col_offset=11), 'readline', Load(), lineno=23, col_offset=11), [], [], None, None, lineno=23, col_offset=11), lineno=23, col_offset=4), If(UnaryOp(Not(), Name('line', Load(), lineno=24, col_offset=11), lineno=24, col_offset=7), [Break( lineno=25, col_offset=8)], [], lineno=24, col_offset=4), If(Call(Attribute(Name('line', Load(), lineno=26, col_offset=7), 'startswith', Load(), lineno=26, col_offset=7), [Str('From ', lineno=26, col_offset=23)], [], None, None, lineno=26, col_offset=7), [Print(None, [Subscript(Name('line', Load(), lineno=28, col_offset=14), Slice(None, Num(-1, lineno=28, col_offset=21), None), Load(), lineno=28, col_offset=14)], False, lineno=28, col_offset=8), While(Num(1, lineno=29, col_offset=14), [Assign([Name('line', Store(), lineno=30, col_offset=12)], Call(Attribute(Name('mail', Load(), lineno=30, col_offset=19), 'readline', Load(), lineno=30, col_offset=19), [], [], None, None, lineno=30, col_offset=19), lineno=30, col_offset=12), If(BoolOp(Or(), [UnaryOp(Not(), Name('line', Load(), lineno=31, col_offset=19), lineno=31, col_offset=15), Compare(Name('line', Load(), lineno=31, col_offset=27), [Eq()], [Str('\n', lineno=31, col_offset=35)], lineno=31, col_offset=27)], lineno=31, col_offset=15), [Break( lineno=32, col_offset=16)], [], lineno=31, col_offset=12), If(Call(Attribute(Name('line', Load(), lineno=33, col_offset=15), 'startswith', Load(), lineno=33, col_offset=15), [Str('Subject: ', lineno=33, col_offset=31)], [], None, None, lineno=33, col_offset=15), [Print(None, [Call(Name('repr', Load(), lineno=34, col_offset=22), [Subscript(Name('line', Load(), lineno=34, col_offset=27), Slice(Num(9, lineno=34, col_offset=32), Num(-1, lineno=34, col_offset=35), None), Load(), lineno=34, col_offset=27)], [], None, None, lineno=34, col_offset=22)], False, lineno=34, col_offset=16)], [], lineno=33, col_offset=12)], [], lineno=29, col_offset=8), Print(None, [], True, lineno=35, col_offset=8)], [], lineno=26, col_offset=4)], [], lineno=22, col_offset=0)])
