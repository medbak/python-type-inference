Module([Import([alias('sys', None)], lineno=3, col_offset=0), Import([alias('os', None)], lineno=4, col_offset=0), Import([alias('shutil', None)], lineno=5, col_offset=0), Import([alias('StringIO', None)], lineno=6, col_offset=0), ImportFrom('hashlib', [alias('md5', None)], 0, lineno=7, col_offset=0), Import([alias('errno', None)], lineno=8, col_offset=0), Import([alias('unittest', None)], lineno=10, col_offset=0), Import([alias('tarfile', None)], lineno=11, col_offset=0), ImportFrom('test', [alias('test_support', None)], 0, lineno=13, col_offset=0), TryExcept([Import([alias('gzip', None)], lineno=17, col_offset=4), Expr(Attribute(Name('gzip', Load(), lineno=18, col_offset=4), 'GzipFile', Load(), lineno=18, col_offset=4), lineno=18, col_offset=4)], [ExceptHandler(Tuple([Name('ImportError', Load(), lineno=19, col_offset=8), Name('AttributeError', Load(), lineno=19, col_offset=21)], Load(), lineno=19, col_offset=8), None, [Assign([Name('gzip', Store(), lineno=20, col_offset=4)], Name('None', Load(), lineno=20, col_offset=11), lineno=20, col_offset=4)], lineno=19, col_offset=0)], [], lineno=16, col_offset=0), TryExcept([Import([alias('bz2', None)], lineno=22, col_offset=4)], [ExceptHandler(Name('ImportError', Load(), lineno=23, col_offset=7), None, [Assign([Name('bz2', Store(), lineno=24, col_offset=4)], Name('None', Load(), lineno=24, col_offset=10), lineno=24, col_offset=4)], lineno=23, col_offset=0)], [], lineno=21, col_offset=0), FunctionDef('md5sum', arguments([Name('data', Param(), lineno=26, col_offset=11)], None, None, []), [Return(Call(Attribute(Call(Name('md5', Load(), lineno=27, col_offset=11), [Name('data', Load(), lineno=27, col_offset=15)], [], None, None, lineno=27, col_offset=11), 'hexdigest', Load(), lineno=27, col_offset=11), [], [], None, None, lineno=27, col_offset=11), lineno=27, col_offset=4)], [], lineno=26, col_offset=0), Assign([Name('TEMPDIR', Store(), lineno=29, col_offset=0)], Call(Attribute(Attribute(Name('os', Load(), lineno=29, col_offset=10), 'path', Load(), lineno=29, col_offset=10), 'abspath', Load(), lineno=29, col_offset=10), [Attribute(Name('test_support', Load(), lineno=29, col_offset=26), 'TESTFN', Load(), lineno=29, col_offset=26)], [], None, None, lineno=29, col_offset=10), lineno=29, col_offset=0), Assign([Name('tarname', Store(), lineno=30, col_offset=0)], Call(Attribute(Name('test_support', Load(), lineno=30, col_offset=10), 'findfile', Load(), lineno=30, col_offset=10), [Str('testtar.tar', lineno=30, col_offset=32)], [], None, None, lineno=30, col_offset=10), lineno=30, col_offset=0), Assign([Name('gzipname', Store(), lineno=31, col_offset=0)], Call(Attribute(Attribute(Name('os', Load(), lineno=31, col_offset=11), 'path', Load(), lineno=31, col_offset=11), 'join', Load(), lineno=31, col_offset=11), [Name('TEMPDIR', Load(), lineno=31, col_offset=24), Str('testtar.tar.gz', lineno=31, col_offset=33)], [], None, None, lineno=31, col_offset=11), lineno=31, col_offset=0), Assign([Name('bz2name', Store(), lineno=32, col_offset=0)], Call(Attribute(Attribute(Name('os', Load(), lineno=32, col_offset=10), 'path', Load(), lineno=32, col_offset=10), 'join', Load(), lineno=32, col_offset=10), [Name('TEMPDIR', Load(), lineno=32, col_offset=23), Str('testtar.tar.bz2', lineno=32, col_offset=32)], [], None, None, lineno=32, col_offset=10), lineno=32, col_offset=0), Assign([Name('tmpname', Store(), lineno=33, col_offset=0)], Call(Attribute(Attribute(Name('os', Load(), lineno=33, col_offset=10), 'path', Load(), lineno=33, col_offset=10), 'join', Load(), lineno=33, col_offset=10), [Name('TEMPDIR', Load(), lineno=33, col_offset=23), Str('tmp.tar', lineno=33, col_offset=32)], [], None, None, lineno=33, col_offset=10), lineno=33, col_offset=0), Assign([Name('md5_regtype', Store(), lineno=35, col_offset=0)], Str('65f477c818ad9e15f7feab0c6d37742f', lineno=35, col_offset=14), lineno=35, col_offset=0), Assign([Name('md5_sparse', Store(), lineno=36, col_offset=0)], Str('a54fbc4ca4f4399a90e1b27164012fc6', lineno=36, col_offset=13), lineno=36, col_offset=0), ClassDef('ReadTest', [Attribute(Name('unittest', Load(), lineno=39, col_offset=15), 'TestCase', Load(), lineno=39, col_offset=15)], [Assign([Name('tarname', Store(), lineno=41, col_offset=4)], Name('tarname', Load(), lineno=41, col_offset=14), lineno=41, col_offset=4), Assign([Name('mode', Store(), lineno=42, col_offset=4)], Str('r:', lineno=42, col_offset=11), lineno=42, col_offset=4), FunctionDef('setUp', arguments([Name('self', Param(), lineno=44, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=45, col_offset=8), 'tar', Store(), lineno=45, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=45, col_offset=19), 'open', Load(), lineno=45, col_offset=19), [Attribute(Name('self', Load(), lineno=45, col_offset=32), 'tarname', Load(), lineno=45, col_offset=32)], [keyword('mode', Attribute(Name('self', Load(), lineno=45, col_offset=51), 'mode', Load(), lineno=45, col_offset=51)), keyword('encoding', Str('iso8859-1', lineno=45, col_offset=71))], None, None, lineno=45, col_offset=19), lineno=45, col_offset=8)], [], lineno=44, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=47, col_offset=17)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=48, col_offset=8), 'tar', Load(), lineno=48, col_offset=8), 'close', Load(), lineno=48, col_offset=8), [], [], None, None, lineno=48, col_offset=8), lineno=48, col_offset=8)], [], lineno=47, col_offset=4)], [], lineno=39, col_offset=0), ClassDef('UstarReadTest', [Name('ReadTest', Load(), lineno=51, col_offset=20)], [FunctionDef('test_fileobj_regular_file', arguments([Name('self', Param(), lineno=53, col_offset=34)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=54, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=54, col_offset=18), 'tar', Load(), lineno=54, col_offset=18), 'getmember', Load(), lineno=54, col_offset=18), [Str('ustar/regtype', lineno=54, col_offset=37)], [], None, None, lineno=54, col_offset=18), lineno=54, col_offset=8), Assign([Name('fobj', Store(), lineno=55, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=55, col_offset=15), 'tar', Load(), lineno=55, col_offset=15), 'extractfile', Load(), lineno=55, col_offset=15), [Name('tarinfo', Load(), lineno=55, col_offset=36)], [], None, None, lineno=55, col_offset=15), lineno=55, col_offset=8), Assign([Name('data', Store(), lineno=56, col_offset=8)], Call(Attribute(Name('fobj', Load(), lineno=56, col_offset=15), 'read', Load(), lineno=56, col_offset=15), [], [], None, None, lineno=56, col_offset=15), lineno=56, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=57, col_offset=8), 'assertTrue', Load(), lineno=57, col_offset=8), [Compare(Tuple([Call(Name('len', Load(), lineno=57, col_offset=25), [Name('data', Load(), lineno=57, col_offset=29)], [], None, None, lineno=57, col_offset=25), Call(Name('md5sum', Load(), lineno=57, col_offset=36), [Name('data', Load(), lineno=57, col_offset=43)], [], None, None, lineno=57, col_offset=36)], Load(), lineno=57, col_offset=25), [Eq()], [Tuple([Attribute(Name('tarinfo', Load(), lineno=57, col_offset=54), 'size', Load(), lineno=57, col_offset=54), Name('md5_regtype', Load(), lineno=57, col_offset=68)], Load(), lineno=57, col_offset=54)], lineno=57, col_offset=24), Str('regular file extraction failed', lineno=58, col_offset=16)], [], None, None, lineno=57, col_offset=8), lineno=57, col_offset=8)], [], lineno=53, col_offset=4), FunctionDef('test_fileobj_readlines', arguments([Name('self', Param(), lineno=60, col_offset=31)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=61, col_offset=8), 'tar', Load(), lineno=61, col_offset=8), 'extract', Load(), lineno=61, col_offset=8), [Str('ustar/regtype', lineno=61, col_offset=25), Name('TEMPDIR', Load(), lineno=61, col_offset=42)], [], None, None, lineno=61, col_offset=8), lineno=61, col_offset=8), Assign([Name('tarinfo', Store(), lineno=62, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=62, col_offset=18), 'tar', Load(), lineno=62, col_offset=18), 'getmember', Load(), lineno=62, col_offset=18), [Str('ustar/regtype', lineno=62, col_offset=37)], [], None, None, lineno=62, col_offset=18), lineno=62, col_offset=8), Assign([Name('fobj1', Store(), lineno=63, col_offset=8)], Call(Name('open', Load(), lineno=63, col_offset=16), [Call(Attribute(Attribute(Name('os', Load(), lineno=63, col_offset=21), 'path', Load(), lineno=63, col_offset=21), 'join', Load(), lineno=63, col_offset=21), [Name('TEMPDIR', Load(), lineno=63, col_offset=34), Str('ustar/regtype', lineno=63, col_offset=43)], [], None, None, lineno=63, col_offset=21), Str('rU', lineno=63, col_offset=61)], [], None, None, lineno=63, col_offset=16), lineno=63, col_offset=8), Assign([Name('fobj2', Store(), lineno=64, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=64, col_offset=16), 'tar', Load(), lineno=64, col_offset=16), 'extractfile', Load(), lineno=64, col_offset=16), [Name('tarinfo', Load(), lineno=64, col_offset=37)], [], None, None, lineno=64, col_offset=16), lineno=64, col_offset=8), Assign([Name('lines1', Store(), lineno=66, col_offset=8)], Call(Attribute(Name('fobj1', Load(), lineno=66, col_offset=17), 'readlines', Load(), lineno=66, col_offset=17), [], [], None, None, lineno=66, col_offset=17), lineno=66, col_offset=8), Assign([Name('lines2', Store(), lineno=67, col_offset=8)], Call(Attribute(Name('fobj2', Load(), lineno=67, col_offset=17), 'readlines', Load(), lineno=67, col_offset=17), [], [], None, None, lineno=67, col_offset=17), lineno=67, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=68, col_offset=8), 'assertTrue', Load(), lineno=68, col_offset=8), [Compare(Name('lines1', Load(), lineno=68, col_offset=24), [Eq()], [Name('lines2', Load(), lineno=68, col_offset=34)], lineno=68, col_offset=24), Str('fileobj.readlines() failed', lineno=69, col_offset=16)], [], None, None, lineno=68, col_offset=8), lineno=68, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=70, col_offset=8), 'assertTrue', Load(), lineno=70, col_offset=8), [Compare(Call(Name('len', Load(), lineno=70, col_offset=24), [Name('lines2', Load(), lineno=70, col_offset=28)], [], None, None, lineno=70, col_offset=24), [Eq()], [Num(114, lineno=70, col_offset=39)], lineno=70, col_offset=24), Str('fileobj.readlines() failed', lineno=71, col_offset=16)], [], None, None, lineno=70, col_offset=8), lineno=70, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=72, col_offset=8), 'assertTrue', Load(), lineno=72, col_offset=8), [Compare(Subscript(Name('lines2', Load(), lineno=72, col_offset=24), Index(Num(83, lineno=72, col_offset=31)), Load(), lineno=72, col_offset=24), [Eq()], [Str('I will gladly admit that Python is not the fastest running scripting language.\n', lineno=73, col_offset=16)], lineno=72, col_offset=24), Str('fileobj.readlines() failed', lineno=74, col_offset=16)], [], None, None, lineno=72, col_offset=8), lineno=72, col_offset=8)], [], lineno=60, col_offset=4), FunctionDef('test_fileobj_iter', arguments([Name('self', Param(), lineno=76, col_offset=26)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=77, col_offset=8), 'tar', Load(), lineno=77, col_offset=8), 'extract', Load(), lineno=77, col_offset=8), [Str('ustar/regtype', lineno=77, col_offset=25), Name('TEMPDIR', Load(), lineno=77, col_offset=42)], [], None, None, lineno=77, col_offset=8), lineno=77, col_offset=8), Assign([Name('tarinfo', Store(), lineno=78, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=78, col_offset=18), 'tar', Load(), lineno=78, col_offset=18), 'getmember', Load(), lineno=78, col_offset=18), [Str('ustar/regtype', lineno=78, col_offset=37)], [], None, None, lineno=78, col_offset=18), lineno=78, col_offset=8), Assign([Name('fobj1', Store(), lineno=79, col_offset=8)], Call(Name('open', Load(), lineno=79, col_offset=16), [Call(Attribute(Attribute(Name('os', Load(), lineno=79, col_offset=21), 'path', Load(), lineno=79, col_offset=21), 'join', Load(), lineno=79, col_offset=21), [Name('TEMPDIR', Load(), lineno=79, col_offset=34), Str('ustar/regtype', lineno=79, col_offset=43)], [], None, None, lineno=79, col_offset=21), Str('rU', lineno=79, col_offset=61)], [], None, None, lineno=79, col_offset=16), lineno=79, col_offset=8), Assign([Name('fobj2', Store(), lineno=80, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=80, col_offset=16), 'tar', Load(), lineno=80, col_offset=16), 'extractfile', Load(), lineno=80, col_offset=16), [Name('tarinfo', Load(), lineno=80, col_offset=37)], [], None, None, lineno=80, col_offset=16), lineno=80, col_offset=8), Assign([Name('lines1', Store(), lineno=81, col_offset=8)], Call(Attribute(Name('fobj1', Load(), lineno=81, col_offset=17), 'readlines', Load(), lineno=81, col_offset=17), [], [], None, None, lineno=81, col_offset=17), lineno=81, col_offset=8), Assign([Name('lines2', Store(), lineno=82, col_offset=8)], ListComp(Name('line', Load(), lineno=82, col_offset=18), [comprehension(Name('line', Store(), lineno=82, col_offset=27), Name('fobj2', Load(), lineno=82, col_offset=35), [])], lineno=82, col_offset=18), lineno=82, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=83, col_offset=8), 'assertTrue', Load(), lineno=83, col_offset=8), [Compare(Name('lines1', Load(), lineno=83, col_offset=24), [Eq()], [Name('lines2', Load(), lineno=83, col_offset=34)], lineno=83, col_offset=24), Str('fileobj.__iter__() failed', lineno=84, col_offset=21)], [], None, None, lineno=83, col_offset=8), lineno=83, col_offset=8)], [], lineno=76, col_offset=4), FunctionDef('test_fileobj_seek', arguments([Name('self', Param(), lineno=86, col_offset=26)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=87, col_offset=8), 'tar', Load(), lineno=87, col_offset=8), 'extract', Load(), lineno=87, col_offset=8), [Str('ustar/regtype', lineno=87, col_offset=25), Name('TEMPDIR', Load(), lineno=87, col_offset=42)], [], None, None, lineno=87, col_offset=8), lineno=87, col_offset=8), Assign([Name('fobj', Store(), lineno=88, col_offset=8)], Call(Name('open', Load(), lineno=88, col_offset=15), [Call(Attribute(Attribute(Name('os', Load(), lineno=88, col_offset=20), 'path', Load(), lineno=88, col_offset=20), 'join', Load(), lineno=88, col_offset=20), [Name('TEMPDIR', Load(), lineno=88, col_offset=33), Str('ustar/regtype', lineno=88, col_offset=42)], [], None, None, lineno=88, col_offset=20), Str('rb', lineno=88, col_offset=60)], [], None, None, lineno=88, col_offset=15), lineno=88, col_offset=8), Assign([Name('data', Store(), lineno=89, col_offset=8)], Call(Attribute(Name('fobj', Load(), lineno=89, col_offset=15), 'read', Load(), lineno=89, col_offset=15), [], [], None, None, lineno=89, col_offset=15), lineno=89, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=90, col_offset=8), 'close', Load(), lineno=90, col_offset=8), [], [], None, None, lineno=90, col_offset=8), lineno=90, col_offset=8), Assign([Name('tarinfo', Store(), lineno=92, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=92, col_offset=18), 'tar', Load(), lineno=92, col_offset=18), 'getmember', Load(), lineno=92, col_offset=18), [Str('ustar/regtype', lineno=92, col_offset=37)], [], None, None, lineno=92, col_offset=18), lineno=92, col_offset=8), Assign([Name('fobj', Store(), lineno=93, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=93, col_offset=15), 'tar', Load(), lineno=93, col_offset=15), 'extractfile', Load(), lineno=93, col_offset=15), [Name('tarinfo', Load(), lineno=93, col_offset=36)], [], None, None, lineno=93, col_offset=15), lineno=93, col_offset=8), Assign([Name('text', Store(), lineno=95, col_offset=8)], Call(Attribute(Name('fobj', Load(), lineno=95, col_offset=15), 'read', Load(), lineno=95, col_offset=15), [], [], None, None, lineno=95, col_offset=15), lineno=95, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=96, col_offset=8), 'seek', Load(), lineno=96, col_offset=8), [Num(0, lineno=96, col_offset=18)], [], None, None, lineno=96, col_offset=8), lineno=96, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=97, col_offset=8), 'assertTrue', Load(), lineno=97, col_offset=8), [Compare(Num(0, lineno=97, col_offset=24), [Eq()], [Call(Attribute(Name('fobj', Load(), lineno=97, col_offset=29), 'tell', Load(), lineno=97, col_offset=29), [], [], None, None, lineno=97, col_offset=29)], lineno=97, col_offset=24), Str("seek() to file's start failed", lineno=98, col_offset=21)], [], None, None, lineno=97, col_offset=8), lineno=97, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=99, col_offset=8), 'seek', Load(), lineno=99, col_offset=8), [Num(2048, lineno=99, col_offset=18), Num(0, lineno=99, col_offset=24)], [], None, None, lineno=99, col_offset=8), lineno=99, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=100, col_offset=8), 'assertTrue', Load(), lineno=100, col_offset=8), [Compare(Num(2048, lineno=100, col_offset=24), [Eq()], [Call(Attribute(Name('fobj', Load(), lineno=100, col_offset=32), 'tell', Load(), lineno=100, col_offset=32), [], [], None, None, lineno=100, col_offset=32)], lineno=100, col_offset=24), Str('seek() to absolute position failed', lineno=101, col_offset=21)], [], None, None, lineno=100, col_offset=8), lineno=100, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=102, col_offset=8), 'seek', Load(), lineno=102, col_offset=8), [Num(-1024, lineno=102, col_offset=19), Num(1, lineno=102, col_offset=25)], [], None, None, lineno=102, col_offset=8), lineno=102, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=103, col_offset=8), 'assertTrue', Load(), lineno=103, col_offset=8), [Compare(Num(1024, lineno=103, col_offset=24), [Eq()], [Call(Attribute(Name('fobj', Load(), lineno=103, col_offset=32), 'tell', Load(), lineno=103, col_offset=32), [], [], None, None, lineno=103, col_offset=32)], lineno=103, col_offset=24), Str('seek() to negative relative position failed', lineno=104, col_offset=21)], [], None, None, lineno=103, col_offset=8), lineno=103, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=105, col_offset=8), 'seek', Load(), lineno=105, col_offset=8), [Num(1024, lineno=105, col_offset=18), Num(1, lineno=105, col_offset=24)], [], None, None, lineno=105, col_offset=8), lineno=105, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=106, col_offset=8), 'assertTrue', Load(), lineno=106, col_offset=8), [Compare(Num(2048, lineno=106, col_offset=24), [Eq()], [Call(Attribute(Name('fobj', Load(), lineno=106, col_offset=32), 'tell', Load(), lineno=106, col_offset=32), [], [], None, None, lineno=106, col_offset=32)], lineno=106, col_offset=24), Str('seek() to positive relative position failed', lineno=107, col_offset=21)], [], None, None, lineno=106, col_offset=8), lineno=106, col_offset=8), Assign([Name('s', Store(), lineno=108, col_offset=8)], Call(Attribute(Name('fobj', Load(), lineno=108, col_offset=12), 'read', Load(), lineno=108, col_offset=12), [Num(10, lineno=108, col_offset=22)], [], None, None, lineno=108, col_offset=12), lineno=108, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=109, col_offset=8), 'assertTrue', Load(), lineno=109, col_offset=8), [Compare(Name('s', Load(), lineno=109, col_offset=24), [Eq()], [Subscript(Name('data', Load(), lineno=109, col_offset=29), Slice(Num(2048, lineno=109, col_offset=34), Num(2058, lineno=109, col_offset=39), None), Load(), lineno=109, col_offset=29)], lineno=109, col_offset=24), Str('read() after seek failed', lineno=110, col_offset=21)], [], None, None, lineno=109, col_offset=8), lineno=109, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=111, col_offset=8), 'seek', Load(), lineno=111, col_offset=8), [Num(0, lineno=111, col_offset=18), Num(2, lineno=111, col_offset=21)], [], None, None, lineno=111, col_offset=8), lineno=111, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=112, col_offset=8), 'assertTrue', Load(), lineno=112, col_offset=8), [Compare(Attribute(Name('tarinfo', Load(), lineno=112, col_offset=24), 'size', Load(), lineno=112, col_offset=24), [Eq()], [Call(Attribute(Name('fobj', Load(), lineno=112, col_offset=40), 'tell', Load(), lineno=112, col_offset=40), [], [], None, None, lineno=112, col_offset=40)], lineno=112, col_offset=24), Str("seek() to file's end failed", lineno=113, col_offset=21)], [], None, None, lineno=112, col_offset=8), lineno=112, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=114, col_offset=8), 'assertTrue', Load(), lineno=114, col_offset=8), [Compare(Call(Attribute(Name('fobj', Load(), lineno=114, col_offset=24), 'read', Load(), lineno=114, col_offset=24), [], [], None, None, lineno=114, col_offset=24), [Eq()], [Str('', lineno=114, col_offset=39)], lineno=114, col_offset=24), Str("read() at file's end did not return empty string", lineno=115, col_offset=21)], [], None, None, lineno=114, col_offset=8), lineno=114, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=116, col_offset=8), 'seek', Load(), lineno=116, col_offset=8), [UnaryOp(USub(), Attribute(Name('tarinfo', Load(), lineno=116, col_offset=19), 'size', Load(), lineno=116, col_offset=19), lineno=116, col_offset=18), Num(2, lineno=116, col_offset=33)], [], None, None, lineno=116, col_offset=8), lineno=116, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=117, col_offset=8), 'assertTrue', Load(), lineno=117, col_offset=8), [Compare(Num(0, lineno=117, col_offset=24), [Eq()], [Call(Attribute(Name('fobj', Load(), lineno=117, col_offset=29), 'tell', Load(), lineno=117, col_offset=29), [], [], None, None, lineno=117, col_offset=29)], lineno=117, col_offset=24), Str("relative seek() to file's start failed", lineno=118, col_offset=21)], [], None, None, lineno=117, col_offset=8), lineno=117, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=119, col_offset=8), 'seek', Load(), lineno=119, col_offset=8), [Num(512, lineno=119, col_offset=18)], [], None, None, lineno=119, col_offset=8), lineno=119, col_offset=8), Assign([Name('s1', Store(), lineno=120, col_offset=8)], Call(Attribute(Name('fobj', Load(), lineno=120, col_offset=13), 'readlines', Load(), lineno=120, col_offset=13), [], [], None, None, lineno=120, col_offset=13), lineno=120, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=121, col_offset=8), 'seek', Load(), lineno=121, col_offset=8), [Num(512, lineno=121, col_offset=18)], [], None, None, lineno=121, col_offset=8), lineno=121, col_offset=8), Assign([Name('s2', Store(), lineno=122, col_offset=8)], Call(Attribute(Name('fobj', Load(), lineno=122, col_offset=13), 'readlines', Load(), lineno=122, col_offset=13), [], [], None, None, lineno=122, col_offset=13), lineno=122, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=123, col_offset=8), 'assertTrue', Load(), lineno=123, col_offset=8), [Compare(Name('s1', Load(), lineno=123, col_offset=24), [Eq()], [Name('s2', Load(), lineno=123, col_offset=30)], lineno=123, col_offset=24), Str('readlines() after seek failed', lineno=124, col_offset=21)], [], None, None, lineno=123, col_offset=8), lineno=123, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=125, col_offset=8), 'seek', Load(), lineno=125, col_offset=8), [Num(0, lineno=125, col_offset=18)], [], None, None, lineno=125, col_offset=8), lineno=125, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=126, col_offset=8), 'assertTrue', Load(), lineno=126, col_offset=8), [Compare(Call(Name('len', Load(), lineno=126, col_offset=24), [Call(Attribute(Name('fobj', Load(), lineno=126, col_offset=28), 'readline', Load(), lineno=126, col_offset=28), [], [], None, None, lineno=126, col_offset=28)], [], None, None, lineno=126, col_offset=24), [Eq()], [Call(Attribute(Name('fobj', Load(), lineno=126, col_offset=48), 'tell', Load(), lineno=126, col_offset=48), [], [], None, None, lineno=126, col_offset=48)], lineno=126, col_offset=24), Str('tell() after readline() failed', lineno=127, col_offset=21)], [], None, None, lineno=126, col_offset=8), lineno=126, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=128, col_offset=8), 'seek', Load(), lineno=128, col_offset=8), [Num(512, lineno=128, col_offset=18)], [], None, None, lineno=128, col_offset=8), lineno=128, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=129, col_offset=8), 'assertTrue', Load(), lineno=129, col_offset=8), [Compare(BinOp(Call(Name('len', Load(), lineno=129, col_offset=24), [Call(Attribute(Name('fobj', Load(), lineno=129, col_offset=28), 'readline', Load(), lineno=129, col_offset=28), [], [], None, None, lineno=129, col_offset=28)], [], None, None, lineno=129, col_offset=24), Add(), Num(512, lineno=129, col_offset=47), lineno=129, col_offset=24), [Eq()], [Call(Attribute(Name('fobj', Load(), lineno=129, col_offset=54), 'tell', Load(), lineno=129, col_offset=54), [], [], None, None, lineno=129, col_offset=54)], lineno=129, col_offset=24), Str('tell() after seek() and readline() failed', lineno=130, col_offset=21)], [], None, None, lineno=129, col_offset=8), lineno=129, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=131, col_offset=8), 'seek', Load(), lineno=131, col_offset=8), [Num(0, lineno=131, col_offset=18)], [], None, None, lineno=131, col_offset=8), lineno=131, col_offset=8), Assign([Name('line', Store(), lineno=132, col_offset=8)], Call(Attribute(Name('fobj', Load(), lineno=132, col_offset=15), 'readline', Load(), lineno=132, col_offset=15), [], [], None, None, lineno=132, col_offset=15), lineno=132, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=133, col_offset=8), 'assertTrue', Load(), lineno=133, col_offset=8), [Compare(Call(Attribute(Name('fobj', Load(), lineno=133, col_offset=24), 'read', Load(), lineno=133, col_offset=24), [], [], None, None, lineno=133, col_offset=24), [Eq()], [Subscript(Name('data', Load(), lineno=133, col_offset=39), Slice(Call(Name('len', Load(), lineno=133, col_offset=44), [Name('line', Load(), lineno=133, col_offset=48)], [], None, None, lineno=133, col_offset=44), None, None), Load(), lineno=133, col_offset=39)], lineno=133, col_offset=24), Str('read() after readline() failed', lineno=134, col_offset=21)], [], None, None, lineno=133, col_offset=8), lineno=133, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=135, col_offset=8), 'close', Load(), lineno=135, col_offset=8), [], [], None, None, lineno=135, col_offset=8), lineno=135, col_offset=8)], [], lineno=86, col_offset=4), FunctionDef('_test_fileobj_link', arguments([Name('self', Param(), lineno=140, col_offset=27), Name('lnktype', Param(), lineno=140, col_offset=33), Name('regtype', Param(), lineno=140, col_offset=42)], None, None, []), [Assign([Name('a', Store(), lineno=141, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=141, col_offset=12), 'tar', Load(), lineno=141, col_offset=12), 'extractfile', Load(), lineno=141, col_offset=12), [Name('lnktype', Load(), lineno=141, col_offset=33)], [], None, None, lineno=141, col_offset=12), lineno=141, col_offset=8), Assign([Name('b', Store(), lineno=142, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=142, col_offset=12), 'tar', Load(), lineno=142, col_offset=12), 'extractfile', Load(), lineno=142, col_offset=12), [Name('regtype', Load(), lineno=142, col_offset=33)], [], None, None, lineno=142, col_offset=12), lineno=142, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=143, col_offset=8), 'assertEqual', Load(), lineno=143, col_offset=8), [Attribute(Name('a', Load(), lineno=143, col_offset=25), 'name', Load(), lineno=143, col_offset=25), Attribute(Name('b', Load(), lineno=143, col_offset=33), 'name', Load(), lineno=143, col_offset=33)], [], None, None, lineno=143, col_offset=8), lineno=143, col_offset=8)], [], lineno=140, col_offset=4), FunctionDef('test_fileobj_link1', arguments([Name('self', Param(), lineno=145, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=146, col_offset=8), '_test_fileobj_link', Load(), lineno=146, col_offset=8), [Str('ustar/lnktype', lineno=146, col_offset=32), Str('ustar/regtype', lineno=146, col_offset=49)], [], None, None, lineno=146, col_offset=8), lineno=146, col_offset=8)], [], lineno=145, col_offset=4), FunctionDef('test_fileobj_link2', arguments([Name('self', Param(), lineno=148, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=149, col_offset=8), '_test_fileobj_link', Load(), lineno=149, col_offset=8), [Str('./ustar/linktest2/lnktype', lineno=149, col_offset=32), Str('ustar/linktest1/regtype', lineno=149, col_offset=61)], [], None, None, lineno=149, col_offset=8), lineno=149, col_offset=8)], [], lineno=148, col_offset=4), FunctionDef('test_fileobj_symlink1', arguments([Name('self', Param(), lineno=151, col_offset=30)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=152, col_offset=8), '_test_fileobj_link', Load(), lineno=152, col_offset=8), [Str('ustar/symtype', lineno=152, col_offset=32), Str('ustar/regtype', lineno=152, col_offset=49)], [], None, None, lineno=152, col_offset=8), lineno=152, col_offset=8)], [], lineno=151, col_offset=4), FunctionDef('test_fileobj_symlink2', arguments([Name('self', Param(), lineno=154, col_offset=30)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=155, col_offset=8), '_test_fileobj_link', Load(), lineno=155, col_offset=8), [Str('./ustar/linktest2/symtype', lineno=155, col_offset=32), Str('ustar/linktest1/regtype', lineno=155, col_offset=61)], [], None, None, lineno=155, col_offset=8), lineno=155, col_offset=8)], [], lineno=154, col_offset=4)], [], lineno=51, col_offset=0), ClassDef('CommonReadTest', [Name('ReadTest', Load(), lineno=158, col_offset=21)], [FunctionDef('test_empty_tarfile', arguments([Name('self', Param(), lineno=160, col_offset=27)], None, None, []), [Expr(Call(Attribute(Call(Attribute(Name('tarfile', Load(), lineno=165, col_offset=8), 'open', Load(), lineno=165, col_offset=8), [Name('tmpname', Load(), lineno=165, col_offset=21), Call(Attribute(Attribute(Name('self', Load(), lineno=165, col_offset=30), 'mode', Load(), lineno=165, col_offset=30), 'replace', Load(), lineno=165, col_offset=30), [Str('r', lineno=165, col_offset=48), Str('w', lineno=165, col_offset=53)], [], None, None, lineno=165, col_offset=30)], [], None, None, lineno=165, col_offset=8), 'close', Load(), lineno=165, col_offset=8), [], [], None, None, lineno=165, col_offset=8), lineno=165, col_offset=8), TryExcept([Assign([Name('tar', Store(), lineno=167, col_offset=12)], Call(Attribute(Name('tarfile', Load(), lineno=167, col_offset=18), 'open', Load(), lineno=167, col_offset=18), [Name('tmpname', Load(), lineno=167, col_offset=31), Attribute(Name('self', Load(), lineno=167, col_offset=40), 'mode', Load(), lineno=167, col_offset=40)], [], None, None, lineno=167, col_offset=18), lineno=167, col_offset=12), Expr(Call(Attribute(Name('tar', Load(), lineno=168, col_offset=12), 'getnames', Load(), lineno=168, col_offset=12), [], [], None, None, lineno=168, col_offset=12), lineno=168, col_offset=12)], [ExceptHandler(Attribute(Name('tarfile', Load(), lineno=169, col_offset=15), 'ReadError', Load(), lineno=169, col_offset=15), None, [Expr(Call(Attribute(Name('self', Load(), lineno=170, col_offset=12), 'fail', Load(), lineno=170, col_offset=12), [Str('tarfile.open() failed on empty archive', lineno=170, col_offset=22)], [], None, None, lineno=170, col_offset=12), lineno=170, col_offset=12)], lineno=169, col_offset=8)], [], lineno=166, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=171, col_offset=8), 'assertListEqual', Load(), lineno=171, col_offset=8), [Call(Attribute(Name('tar', Load(), lineno=171, col_offset=29), 'getmembers', Load(), lineno=171, col_offset=29), [], [], None, None, lineno=171, col_offset=29), List([], Load(), lineno=171, col_offset=47)], [], None, None, lineno=171, col_offset=8), lineno=171, col_offset=8)], [], lineno=160, col_offset=4), FunctionDef('test_null_tarfile', arguments([Name('self', Param(), lineno=173, col_offset=26)], None, None, []), [Expr(Call(Attribute(Call(Name('open', Load(), lineno=177, col_offset=8), [Name('tmpname', Load(), lineno=177, col_offset=13), Str('wb', lineno=177, col_offset=22)], [], None, None, lineno=177, col_offset=8), 'close', Load(), lineno=177, col_offset=8), [], [], None, None, lineno=177, col_offset=8), lineno=177, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=178, col_offset=8), 'assertRaises', Load(), lineno=178, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=178, col_offset=26), 'ReadError', Load(), lineno=178, col_offset=26), Attribute(Name('tarfile', Load(), lineno=178, col_offset=45), 'open', Load(), lineno=178, col_offset=45), Name('tmpname', Load(), lineno=178, col_offset=59), Attribute(Name('self', Load(), lineno=178, col_offset=68), 'mode', Load(), lineno=178, col_offset=68)], [], None, None, lineno=178, col_offset=8), lineno=178, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=179, col_offset=8), 'assertRaises', Load(), lineno=179, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=179, col_offset=26), 'ReadError', Load(), lineno=179, col_offset=26), Attribute(Name('tarfile', Load(), lineno=179, col_offset=45), 'open', Load(), lineno=179, col_offset=45), Name('tmpname', Load(), lineno=179, col_offset=59)], [], None, None, lineno=179, col_offset=8), lineno=179, col_offset=8)], [], lineno=173, col_offset=4), FunctionDef('test_ignore_zeros', arguments([Name('self', Param(), lineno=181, col_offset=26)], None, None, []), [If(Call(Attribute(Attribute(Name('self', Load(), lineno=183, col_offset=11), 'mode', Load(), lineno=183, col_offset=11), 'endswith', Load(), lineno=183, col_offset=11), [Str(':gz', lineno=183, col_offset=30)], [], None, None, lineno=183, col_offset=11), [Assign([Name('_open', Store(), lineno=184, col_offset=12)], Attribute(Name('gzip', Load(), lineno=184, col_offset=20), 'GzipFile', Load(), lineno=184, col_offset=20), lineno=184, col_offset=12)], [If(Call(Attribute(Attribute(Name('self', Load(), lineno=185, col_offset=13), 'mode', Load(), lineno=185, col_offset=13), 'endswith', Load(), lineno=185, col_offset=13), [Str(':bz2', lineno=185, col_offset=32)], [], None, None, lineno=185, col_offset=13), [Assign([Name('_open', Store(), lineno=186, col_offset=12)], Attribute(Name('bz2', Load(), lineno=186, col_offset=20), 'BZ2File', Load(), lineno=186, col_offset=20), lineno=186, col_offset=12)], [Assign([Name('_open', Store(), lineno=188, col_offset=12)], Name('open', Load(), lineno=188, col_offset=20), lineno=188, col_offset=12)], lineno=185, col_offset=13)], lineno=183, col_offset=8), For(Name('char', Store(), lineno=190, col_offset=12), Tuple([Str('\x00', lineno=190, col_offset=21), Str('a', lineno=190, col_offset=27)], Load(), lineno=190, col_offset=21), [Assign([Name('fobj', Store(), lineno=193, col_offset=12)], Call(Name('_open', Load(), lineno=193, col_offset=19), [Name('tmpname', Load(), lineno=193, col_offset=25), Str('wb', lineno=193, col_offset=34)], [], None, None, lineno=193, col_offset=19), lineno=193, col_offset=12), Expr(Call(Attribute(Name('fobj', Load(), lineno=194, col_offset=12), 'write', Load(), lineno=194, col_offset=12), [BinOp(Name('char', Load(), lineno=194, col_offset=23), Mult(), Num(1024, lineno=194, col_offset=30), lineno=194, col_offset=23)], [], None, None, lineno=194, col_offset=12), lineno=194, col_offset=12), Expr(Call(Attribute(Name('fobj', Load(), lineno=195, col_offset=12), 'write', Load(), lineno=195, col_offset=12), [Call(Attribute(Call(Attribute(Name('tarfile', Load(), lineno=195, col_offset=23), 'TarInfo', Load(), lineno=195, col_offset=23), [Str('foo', lineno=195, col_offset=39)], [], None, None, lineno=195, col_offset=23), 'tobuf', Load(), lineno=195, col_offset=23), [], [], None, None, lineno=195, col_offset=23)], [], None, None, lineno=195, col_offset=12), lineno=195, col_offset=12), Expr(Call(Attribute(Name('fobj', Load(), lineno=196, col_offset=12), 'close', Load(), lineno=196, col_offset=12), [], [], None, None, lineno=196, col_offset=12), lineno=196, col_offset=12), Assign([Name('tar', Store(), lineno=198, col_offset=12)], Call(Attribute(Name('tarfile', Load(), lineno=198, col_offset=18), 'open', Load(), lineno=198, col_offset=18), [Name('tmpname', Load(), lineno=198, col_offset=31)], [keyword('mode', Str('r', lineno=198, col_offset=45)), keyword('ignore_zeros', Name('True', Load(), lineno=198, col_offset=63))], None, None, lineno=198, col_offset=18), lineno=198, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=199, col_offset=12), 'assertListEqual', Load(), lineno=199, col_offset=12), [Call(Attribute(Name('tar', Load(), lineno=199, col_offset=33), 'getnames', Load(), lineno=199, col_offset=33), [], [], None, None, lineno=199, col_offset=33), List([Str('foo', lineno=199, col_offset=50)], Load(), lineno=199, col_offset=49), BinOp(Str('ignore_zeros=True should have skipped the %r-blocks', lineno=200, col_offset=20), Mod(), Name('char', Load(), lineno=200, col_offset=76), lineno=200, col_offset=20)], [], None, None, lineno=199, col_offset=12), lineno=199, col_offset=12), Expr(Call(Attribute(Name('tar', Load(), lineno=201, col_offset=12), 'close', Load(), lineno=201, col_offset=12), [], [], None, None, lineno=201, col_offset=12), lineno=201, col_offset=12)], [], lineno=190, col_offset=8)], [], lineno=181, col_offset=4)], [], lineno=158, col_offset=0), ClassDef('MiscReadTest', [Name('CommonReadTest', Load(), lineno=204, col_offset=19)], [FunctionDef('test_no_name_argument', arguments([Name('self', Param(), lineno=206, col_offset=30)], None, None, []), [Assign([Name('fobj', Store(), lineno=207, col_offset=8)], Call(Name('open', Load(), lineno=207, col_offset=15), [Attribute(Name('self', Load(), lineno=207, col_offset=20), 'tarname', Load(), lineno=207, col_offset=20), Str('rb', lineno=207, col_offset=34)], [], None, None, lineno=207, col_offset=15), lineno=207, col_offset=8), Assign([Name('tar', Store(), lineno=208, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=208, col_offset=14), 'open', Load(), lineno=208, col_offset=14), [], [keyword('fileobj', Name('fobj', Load(), lineno=208, col_offset=35)), keyword('mode', Attribute(Name('self', Load(), lineno=208, col_offset=46), 'mode', Load(), lineno=208, col_offset=46))], None, None, lineno=208, col_offset=14), lineno=208, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=209, col_offset=8), 'assertEqual', Load(), lineno=209, col_offset=8), [Attribute(Name('tar', Load(), lineno=209, col_offset=25), 'name', Load(), lineno=209, col_offset=25), Call(Attribute(Attribute(Name('os', Load(), lineno=209, col_offset=35), 'path', Load(), lineno=209, col_offset=35), 'abspath', Load(), lineno=209, col_offset=35), [Attribute(Name('fobj', Load(), lineno=209, col_offset=51), 'name', Load(), lineno=209, col_offset=51)], [], None, None, lineno=209, col_offset=35)], [], None, None, lineno=209, col_offset=8), lineno=209, col_offset=8)], [], lineno=206, col_offset=4), FunctionDef('test_no_name_attribute', arguments([Name('self', Param(), lineno=211, col_offset=31)], None, None, []), [Assign([Name('data', Store(), lineno=212, col_offset=8)], Call(Attribute(Call(Name('open', Load(), lineno=212, col_offset=15), [Attribute(Name('self', Load(), lineno=212, col_offset=20), 'tarname', Load(), lineno=212, col_offset=20), Str('rb', lineno=212, col_offset=34)], [], None, None, lineno=212, col_offset=15), 'read', Load(), lineno=212, col_offset=15), [], [], None, None, lineno=212, col_offset=15), lineno=212, col_offset=8), Assign([Name('fobj', Store(), lineno=213, col_offset=8)], Call(Attribute(Name('StringIO', Load(), lineno=213, col_offset=15), 'StringIO', Load(), lineno=213, col_offset=15), [Name('data', Load(), lineno=213, col_offset=33)], [], None, None, lineno=213, col_offset=15), lineno=213, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=214, col_offset=8), 'assertRaises', Load(), lineno=214, col_offset=8), [Name('AttributeError', Load(), lineno=214, col_offset=26), Name('getattr', Load(), lineno=214, col_offset=42), Name('fobj', Load(), lineno=214, col_offset=51), Str('name', lineno=214, col_offset=57)], [], None, None, lineno=214, col_offset=8), lineno=214, col_offset=8), Assign([Name('tar', Store(), lineno=215, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=215, col_offset=14), 'open', Load(), lineno=215, col_offset=14), [], [keyword('fileobj', Name('fobj', Load(), lineno=215, col_offset=35)), keyword('mode', Attribute(Name('self', Load(), lineno=215, col_offset=46), 'mode', Load(), lineno=215, col_offset=46))], None, None, lineno=215, col_offset=14), lineno=215, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=216, col_offset=8), 'assertEqual', Load(), lineno=216, col_offset=8), [Attribute(Name('tar', Load(), lineno=216, col_offset=25), 'name', Load(), lineno=216, col_offset=25), Name('None', Load(), lineno=216, col_offset=35)], [], None, None, lineno=216, col_offset=8), lineno=216, col_offset=8)], [], lineno=211, col_offset=4), FunctionDef('test_empty_name_attribute', arguments([Name('self', Param(), lineno=218, col_offset=34)], None, None, []), [Assign([Name('data', Store(), lineno=219, col_offset=8)], Call(Attribute(Call(Name('open', Load(), lineno=219, col_offset=15), [Attribute(Name('self', Load(), lineno=219, col_offset=20), 'tarname', Load(), lineno=219, col_offset=20), Str('rb', lineno=219, col_offset=34)], [], None, None, lineno=219, col_offset=15), 'read', Load(), lineno=219, col_offset=15), [], [], None, None, lineno=219, col_offset=15), lineno=219, col_offset=8), Assign([Name('fobj', Store(), lineno=220, col_offset=8)], Call(Attribute(Name('StringIO', Load(), lineno=220, col_offset=15), 'StringIO', Load(), lineno=220, col_offset=15), [Name('data', Load(), lineno=220, col_offset=33)], [], None, None, lineno=220, col_offset=15), lineno=220, col_offset=8), Assign([Attribute(Name('fobj', Load(), lineno=221, col_offset=8), 'name', Store(), lineno=221, col_offset=8)], Str('', lineno=221, col_offset=20), lineno=221, col_offset=8), Assign([Name('tar', Store(), lineno=222, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=222, col_offset=14), 'open', Load(), lineno=222, col_offset=14), [], [keyword('fileobj', Name('fobj', Load(), lineno=222, col_offset=35)), keyword('mode', Attribute(Name('self', Load(), lineno=222, col_offset=46), 'mode', Load(), lineno=222, col_offset=46))], None, None, lineno=222, col_offset=14), lineno=222, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=223, col_offset=8), 'assertEqual', Load(), lineno=223, col_offset=8), [Attribute(Name('tar', Load(), lineno=223, col_offset=25), 'name', Load(), lineno=223, col_offset=25), Name('None', Load(), lineno=223, col_offset=35)], [], None, None, lineno=223, col_offset=8), lineno=223, col_offset=8)], [], lineno=218, col_offset=4), FunctionDef('test_fileobj_with_offset', arguments([Name('self', Param(), lineno=225, col_offset=33)], None, None, []), [Assign([Name('tar', Store(), lineno=228, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=228, col_offset=14), 'open', Load(), lineno=228, col_offset=14), [Attribute(Name('self', Load(), lineno=228, col_offset=27), 'tarname', Load(), lineno=228, col_offset=27)], [keyword('mode', Attribute(Name('self', Load(), lineno=228, col_offset=46), 'mode', Load(), lineno=228, col_offset=46))], None, None, lineno=228, col_offset=14), lineno=228, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=229, col_offset=8), 'next', Load(), lineno=229, col_offset=8), [], [], None, None, lineno=229, col_offset=8), lineno=229, col_offset=8), Assign([Name('t', Store(), lineno=230, col_offset=8)], Call(Attribute(Name('tar', Load(), lineno=230, col_offset=12), 'next', Load(), lineno=230, col_offset=12), [], [], None, None, lineno=230, col_offset=12), lineno=230, col_offset=8), Assign([Name('name', Store(), lineno=231, col_offset=8)], Attribute(Name('t', Load(), lineno=231, col_offset=15), 'name', Load(), lineno=231, col_offset=15), lineno=231, col_offset=8), Assign([Name('offset', Store(), lineno=232, col_offset=8)], Attribute(Name('t', Load(), lineno=232, col_offset=17), 'offset', Load(), lineno=232, col_offset=17), lineno=232, col_offset=8), Assign([Name('data', Store(), lineno=233, col_offset=8)], Call(Attribute(Call(Attribute(Name('tar', Load(), lineno=233, col_offset=15), 'extractfile', Load(), lineno=233, col_offset=15), [Name('t', Load(), lineno=233, col_offset=31)], [], None, None, lineno=233, col_offset=15), 'read', Load(), lineno=233, col_offset=15), [], [], None, None, lineno=233, col_offset=15), lineno=233, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=234, col_offset=8), 'close', Load(), lineno=234, col_offset=8), [], [], None, None, lineno=234, col_offset=8), lineno=234, col_offset=8), If(Call(Attribute(Attribute(Name('self', Load(), lineno=237, col_offset=11), 'mode', Load(), lineno=237, col_offset=11), 'endswith', Load(), lineno=237, col_offset=11), [Str(':gz', lineno=237, col_offset=30)], [], None, None, lineno=237, col_offset=11), [Assign([Name('_open', Store(), lineno=238, col_offset=12)], Attribute(Name('gzip', Load(), lineno=238, col_offset=20), 'GzipFile', Load(), lineno=238, col_offset=20), lineno=238, col_offset=12)], [If(Call(Attribute(Attribute(Name('self', Load(), lineno=239, col_offset=13), 'mode', Load(), lineno=239, col_offset=13), 'endswith', Load(), lineno=239, col_offset=13), [Str(':bz2', lineno=239, col_offset=32)], [], None, None, lineno=239, col_offset=13), [Assign([Name('_open', Store(), lineno=240, col_offset=12)], Attribute(Name('bz2', Load(), lineno=240, col_offset=20), 'BZ2File', Load(), lineno=240, col_offset=20), lineno=240, col_offset=12)], [Assign([Name('_open', Store(), lineno=242, col_offset=12)], Name('open', Load(), lineno=242, col_offset=20), lineno=242, col_offset=12)], lineno=239, col_offset=13)], lineno=237, col_offset=8), Assign([Name('fobj', Store(), lineno=243, col_offset=8)], Call(Name('_open', Load(), lineno=243, col_offset=15), [Attribute(Name('self', Load(), lineno=243, col_offset=21), 'tarname', Load(), lineno=243, col_offset=21), Str('rb', lineno=243, col_offset=35)], [], None, None, lineno=243, col_offset=15), lineno=243, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=244, col_offset=8), 'seek', Load(), lineno=244, col_offset=8), [Name('offset', Load(), lineno=244, col_offset=18)], [], None, None, lineno=244, col_offset=8), lineno=244, col_offset=8), Assign([Name('tar', Store(), lineno=247, col_offset=8)], Call(Attribute(Name('tar', Load(), lineno=247, col_offset=14), 'open', Load(), lineno=247, col_offset=14), [Attribute(Name('self', Load(), lineno=247, col_offset=23), 'tarname', Load(), lineno=247, col_offset=23)], [keyword('mode', Str('r:', lineno=247, col_offset=42)), keyword('fileobj', Name('fobj', Load(), lineno=247, col_offset=56))], None, None, lineno=247, col_offset=14), lineno=247, col_offset=8), Assign([Name('t', Store(), lineno=248, col_offset=8)], Call(Attribute(Name('tar', Load(), lineno=248, col_offset=12), 'next', Load(), lineno=248, col_offset=12), [], [], None, None, lineno=248, col_offset=12), lineno=248, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=249, col_offset=8), 'assertEqual', Load(), lineno=249, col_offset=8), [Attribute(Name('t', Load(), lineno=249, col_offset=25), 'name', Load(), lineno=249, col_offset=25), Name('name', Load(), lineno=249, col_offset=33)], [], None, None, lineno=249, col_offset=8), lineno=249, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=252, col_offset=8), 'getmembers', Load(), lineno=252, col_offset=8), [], [], None, None, lineno=252, col_offset=8), lineno=252, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=253, col_offset=8), 'assertEqual', Load(), lineno=253, col_offset=8), [Call(Attribute(Call(Attribute(Name('tar', Load(), lineno=253, col_offset=25), 'extractfile', Load(), lineno=253, col_offset=25), [Name('t', Load(), lineno=253, col_offset=41)], [], None, None, lineno=253, col_offset=25), 'read', Load(), lineno=253, col_offset=25), [], [], None, None, lineno=253, col_offset=25), Name('data', Load(), lineno=253, col_offset=52), Str('seek back did not work', lineno=254, col_offset=16)], [], None, None, lineno=253, col_offset=8), lineno=253, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=255, col_offset=8), 'close', Load(), lineno=255, col_offset=8), [], [], None, None, lineno=255, col_offset=8), lineno=255, col_offset=8)], [], lineno=225, col_offset=4), FunctionDef('test_fail_comp', arguments([Name('self', Param(), lineno=257, col_offset=23)], None, None, []), [If(Compare(Attribute(Name('self', Load(), lineno=259, col_offset=11), 'mode', Load(), lineno=259, col_offset=11), [Eq()], [Str('r:', lineno=259, col_offset=24)], lineno=259, col_offset=11), [Return(None, lineno=260, col_offset=12)], [], lineno=259, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=261, col_offset=8), 'assertRaises', Load(), lineno=261, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=261, col_offset=26), 'ReadError', Load(), lineno=261, col_offset=26), Attribute(Name('tarfile', Load(), lineno=261, col_offset=45), 'open', Load(), lineno=261, col_offset=45), Name('tarname', Load(), lineno=261, col_offset=59), Attribute(Name('self', Load(), lineno=261, col_offset=68), 'mode', Load(), lineno=261, col_offset=68)], [], None, None, lineno=261, col_offset=8), lineno=261, col_offset=8), Assign([Name('fobj', Store(), lineno=262, col_offset=8)], Call(Name('open', Load(), lineno=262, col_offset=15), [Name('tarname', Load(), lineno=262, col_offset=20), Str('rb', lineno=262, col_offset=29)], [], None, None, lineno=262, col_offset=15), lineno=262, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=263, col_offset=8), 'assertRaises', Load(), lineno=263, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=263, col_offset=26), 'ReadError', Load(), lineno=263, col_offset=26), Attribute(Name('tarfile', Load(), lineno=263, col_offset=45), 'open', Load(), lineno=263, col_offset=45)], [keyword('fileobj', Name('fobj', Load(), lineno=263, col_offset=67)), keyword('mode', Attribute(Name('self', Load(), lineno=263, col_offset=78), 'mode', Load(), lineno=263, col_offset=78))], None, None, lineno=263, col_offset=8), lineno=263, col_offset=8)], [], lineno=257, col_offset=4), FunctionDef('test_v7_dirtype', arguments([Name('self', Param(), lineno=265, col_offset=24)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=269, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=269, col_offset=18), 'tar', Load(), lineno=269, col_offset=18), 'getmember', Load(), lineno=269, col_offset=18), [Str('misc/dirtype-old-v7', lineno=269, col_offset=37)], [], None, None, lineno=269, col_offset=18), lineno=269, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=270, col_offset=8), 'assertTrue', Load(), lineno=270, col_offset=8), [Compare(Attribute(Name('tarinfo', Load(), lineno=270, col_offset=24), 'type', Load(), lineno=270, col_offset=24), [Eq()], [Attribute(Name('tarfile', Load(), lineno=270, col_offset=40), 'DIRTYPE', Load(), lineno=270, col_offset=40)], lineno=270, col_offset=24), Str('v7 dirtype failed', lineno=271, col_offset=16)], [], None, None, lineno=270, col_offset=8), lineno=270, col_offset=8)], [], lineno=265, col_offset=4), FunctionDef('test_xstar_type', arguments([Name('self', Param(), lineno=273, col_offset=24)], None, None, []), [TryExcept([Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=278, col_offset=12), 'tar', Load(), lineno=278, col_offset=12), 'getmember', Load(), lineno=278, col_offset=12), [Str('misc/regtype-xstar', lineno=278, col_offset=31)], [], None, None, lineno=278, col_offset=12), lineno=278, col_offset=12)], [ExceptHandler(Name('KeyError', Load(), lineno=279, col_offset=15), None, [Expr(Call(Attribute(Name('self', Load(), lineno=280, col_offset=12), 'fail', Load(), lineno=280, col_offset=12), [Str('failed to find misc/regtype-xstar (mangled prefix?)', lineno=280, col_offset=22)], [], None, None, lineno=280, col_offset=12), lineno=280, col_offset=12)], lineno=279, col_offset=8)], [], lineno=277, col_offset=8)], [], lineno=273, col_offset=4), FunctionDef('test_check_members', arguments([Name('self', Param(), lineno=282, col_offset=27)], None, None, []), [For(Name('tarinfo', Store(), lineno=283, col_offset=12), Attribute(Name('self', Load(), lineno=283, col_offset=23), 'tar', Load(), lineno=283, col_offset=23), [Expr(Call(Attribute(Name('self', Load(), lineno=284, col_offset=12), 'assertTrue', Load(), lineno=284, col_offset=12), [Compare(Call(Name('int', Load(), lineno=284, col_offset=28), [Attribute(Name('tarinfo', Load(), lineno=284, col_offset=32), 'mtime', Load(), lineno=284, col_offset=32)], [], None, None, lineno=284, col_offset=28), [Eq()], [Num(1041808783, lineno=284, col_offset=50)], lineno=284, col_offset=28), BinOp(Str('wrong mtime for %s', lineno=285, col_offset=20), Mod(), Attribute(Name('tarinfo', Load(), lineno=285, col_offset=43), 'name', Load(), lineno=285, col_offset=43), lineno=285, col_offset=20)], [], None, None, lineno=284, col_offset=12), lineno=284, col_offset=12), If(UnaryOp(Not(), Call(Attribute(Attribute(Name('tarinfo', Load(), lineno=286, col_offset=19), 'name', Load(), lineno=286, col_offset=19), 'startswith', Load(), lineno=286, col_offset=19), [Str('ustar/', lineno=286, col_offset=43)], [], None, None, lineno=286, col_offset=19), lineno=286, col_offset=15), [Continue( lineno=287, col_offset=16)], [], lineno=286, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=288, col_offset=12), 'assertTrue', Load(), lineno=288, col_offset=12), [Compare(Attribute(Name('tarinfo', Load(), lineno=288, col_offset=28), 'uname', Load(), lineno=288, col_offset=28), [Eq()], [Str('tarfile', lineno=288, col_offset=45)], lineno=288, col_offset=28), BinOp(Str('wrong uname for %s', lineno=289, col_offset=20), Mod(), Attribute(Name('tarinfo', Load(), lineno=289, col_offset=43), 'name', Load(), lineno=289, col_offset=43), lineno=289, col_offset=20)], [], None, None, lineno=288, col_offset=12), lineno=288, col_offset=12)], [], lineno=283, col_offset=8)], [], lineno=282, col_offset=4), FunctionDef('test_find_members', arguments([Name('self', Param(), lineno=291, col_offset=26)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=292, col_offset=8), 'assertTrue', Load(), lineno=292, col_offset=8), [Compare(Attribute(Subscript(Call(Attribute(Attribute(Name('self', Load(), lineno=292, col_offset=24), 'tar', Load(), lineno=292, col_offset=24), 'getmembers', Load(), lineno=292, col_offset=24), [], [], None, None, lineno=292, col_offset=24), Index(Num(-1, lineno=292, col_offset=47)), Load(), lineno=292, col_offset=24), 'name', Load(), lineno=292, col_offset=24), [Eq()], [Str('misc/eof', lineno=292, col_offset=58)], lineno=292, col_offset=24), Str('could not find all members', lineno=293, col_offset=16)], [], None, None, lineno=292, col_offset=8), lineno=292, col_offset=8)], [], lineno=291, col_offset=4), FunctionDef('test_extract_hardlink', arguments([Name('self', Param(), lineno=295, col_offset=30)], None, None, []), [Assign([Name('tar', Store(), lineno=297, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=297, col_offset=14), 'open', Load(), lineno=297, col_offset=14), [Name('tarname', Load(), lineno=297, col_offset=27)], [keyword('errorlevel', Num(1, lineno=297, col_offset=47)), keyword('encoding', Str('iso8859-1', lineno=297, col_offset=59))], None, None, lineno=297, col_offset=14), lineno=297, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=299, col_offset=8), 'extract', Load(), lineno=299, col_offset=8), [Str('ustar/regtype', lineno=299, col_offset=20), Name('TEMPDIR', Load(), lineno=299, col_offset=37)], [], None, None, lineno=299, col_offset=8), lineno=299, col_offset=8), TryExcept([Expr(Call(Attribute(Name('tar', Load(), lineno=301, col_offset=12), 'extract', Load(), lineno=301, col_offset=12), [Str('ustar/lnktype', lineno=301, col_offset=24), Name('TEMPDIR', Load(), lineno=301, col_offset=41)], [], None, None, lineno=301, col_offset=12), lineno=301, col_offset=12)], [ExceptHandler(Name('EnvironmentError', Load(), lineno=302, col_offset=15), Name('e', Store(), lineno=302, col_offset=33), [If(Compare(Attribute(Name('e', Load(), lineno=303, col_offset=15), 'errno', Load(), lineno=303, col_offset=15), [Eq()], [Attribute(Name('errno', Load(), lineno=303, col_offset=26), 'ENOENT', Load(), lineno=303, col_offset=26)], lineno=303, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=304, col_offset=16), 'fail', Load(), lineno=304, col_offset=16), [Str('hardlink not extracted properly', lineno=304, col_offset=26)], [], None, None, lineno=304, col_offset=16), lineno=304, col_offset=16)], [], lineno=303, col_offset=12)], lineno=302, col_offset=8)], [], lineno=300, col_offset=8), Assign([Name('data', Store(), lineno=306, col_offset=8)], Call(Attribute(Call(Name('open', Load(), lineno=306, col_offset=15), [Call(Attribute(Attribute(Name('os', Load(), lineno=306, col_offset=20), 'path', Load(), lineno=306, col_offset=20), 'join', Load(), lineno=306, col_offset=20), [Name('TEMPDIR', Load(), lineno=306, col_offset=33), Str('ustar/lnktype', lineno=306, col_offset=42)], [], None, None, lineno=306, col_offset=20), Str('rb', lineno=306, col_offset=60)], [], None, None, lineno=306, col_offset=15), 'read', Load(), lineno=306, col_offset=15), [], [], None, None, lineno=306, col_offset=15), lineno=306, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=307, col_offset=8), 'assertEqual', Load(), lineno=307, col_offset=8), [Call(Name('md5sum', Load(), lineno=307, col_offset=25), [Name('data', Load(), lineno=307, col_offset=32)], [], None, None, lineno=307, col_offset=25), Name('md5_regtype', Load(), lineno=307, col_offset=39)], [], None, None, lineno=307, col_offset=8), lineno=307, col_offset=8), TryExcept([Expr(Call(Attribute(Name('tar', Load(), lineno=310, col_offset=12), 'extract', Load(), lineno=310, col_offset=12), [Str('ustar/symtype', lineno=310, col_offset=24), Name('TEMPDIR', Load(), lineno=310, col_offset=41)], [], None, None, lineno=310, col_offset=12), lineno=310, col_offset=12)], [ExceptHandler(Name('EnvironmentError', Load(), lineno=311, col_offset=15), Name('e', Store(), lineno=311, col_offset=33), [If(Compare(Attribute(Name('e', Load(), lineno=312, col_offset=15), 'errno', Load(), lineno=312, col_offset=15), [Eq()], [Attribute(Name('errno', Load(), lineno=312, col_offset=26), 'ENOENT', Load(), lineno=312, col_offset=26)], lineno=312, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=313, col_offset=16), 'fail', Load(), lineno=313, col_offset=16), [Str('symlink not extracted properly', lineno=313, col_offset=26)], [], None, None, lineno=313, col_offset=16), lineno=313, col_offset=16)], [], lineno=312, col_offset=12)], lineno=311, col_offset=8)], [], lineno=309, col_offset=8), Assign([Name('data', Store(), lineno=315, col_offset=8)], Call(Attribute(Call(Name('open', Load(), lineno=315, col_offset=15), [Call(Attribute(Attribute(Name('os', Load(), lineno=315, col_offset=20), 'path', Load(), lineno=315, col_offset=20), 'join', Load(), lineno=315, col_offset=20), [Name('TEMPDIR', Load(), lineno=315, col_offset=33), Str('ustar/symtype', lineno=315, col_offset=42)], [], None, None, lineno=315, col_offset=20), Str('rb', lineno=315, col_offset=60)], [], None, None, lineno=315, col_offset=15), 'read', Load(), lineno=315, col_offset=15), [], [], None, None, lineno=315, col_offset=15), lineno=315, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=316, col_offset=8), 'assertEqual', Load(), lineno=316, col_offset=8), [Call(Name('md5sum', Load(), lineno=316, col_offset=25), [Name('data', Load(), lineno=316, col_offset=32)], [], None, None, lineno=316, col_offset=25), Name('md5_regtype', Load(), lineno=316, col_offset=39)], [], None, None, lineno=316, col_offset=8), lineno=316, col_offset=8)], [], lineno=295, col_offset=4), FunctionDef('test_extractall', arguments([Name('self', Param(), lineno=318, col_offset=24)], None, None, []), [Assign([Name('tar', Store(), lineno=321, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=321, col_offset=14), 'open', Load(), lineno=321, col_offset=14), [Name('tarname', Load(), lineno=321, col_offset=27)], [keyword('encoding', Str('iso8859-1', lineno=321, col_offset=45))], None, None, lineno=321, col_offset=14), lineno=321, col_offset=8), Assign([Name('directories', Store(), lineno=322, col_offset=8)], ListComp(Name('t', Load(), lineno=322, col_offset=23), [comprehension(Name('t', Store(), lineno=322, col_offset=29), Name('tar', Load(), lineno=322, col_offset=34), [Call(Attribute(Name('t', Load(), lineno=322, col_offset=41), 'isdir', Load(), lineno=322, col_offset=41), [], [], None, None, lineno=322, col_offset=41)])], lineno=322, col_offset=23), lineno=322, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=323, col_offset=8), 'extractall', Load(), lineno=323, col_offset=8), [Name('TEMPDIR', Load(), lineno=323, col_offset=23), Name('directories', Load(), lineno=323, col_offset=32)], [], None, None, lineno=323, col_offset=8), lineno=323, col_offset=8), For(Name('tarinfo', Store(), lineno=324, col_offset=12), Name('directories', Load(), lineno=324, col_offset=23), [Assign([Name('path', Store(), lineno=325, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=325, col_offset=19), 'path', Load(), lineno=325, col_offset=19), 'join', Load(), lineno=325, col_offset=19), [Name('TEMPDIR', Load(), lineno=325, col_offset=32), Attribute(Name('tarinfo', Load(), lineno=325, col_offset=41), 'name', Load(), lineno=325, col_offset=41)], [], None, None, lineno=325, col_offset=19), lineno=325, col_offset=12), If(Compare(Attribute(Name('sys', Load(), lineno=326, col_offset=15), 'platform', Load(), lineno=326, col_offset=15), [NotEq()], [Str('win32', lineno=326, col_offset=31)], lineno=326, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=328, col_offset=16), 'assertEqual', Load(), lineno=328, col_offset=16), [BinOp(Attribute(Name('tarinfo', Load(), lineno=328, col_offset=33), 'mode', Load(), lineno=328, col_offset=33), BitAnd(), Num(511, lineno=328, col_offset=48), lineno=328, col_offset=33), BinOp(Attribute(Call(Attribute(Name('os', Load(), lineno=328, col_offset=54), 'stat', Load(), lineno=328, col_offset=54), [Name('path', Load(), lineno=328, col_offset=62)], [], None, None, lineno=328, col_offset=54), 'st_mode', Load(), lineno=328, col_offset=54), BitAnd(), Num(511, lineno=328, col_offset=78), lineno=328, col_offset=54)], [], None, None, lineno=328, col_offset=16), lineno=328, col_offset=16)], [], lineno=326, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=329, col_offset=12), 'assertEqual', Load(), lineno=329, col_offset=12), [Attribute(Name('tarinfo', Load(), lineno=329, col_offset=29), 'mtime', Load(), lineno=329, col_offset=29), Call(Attribute(Attribute(Name('os', Load(), lineno=329, col_offset=44), 'path', Load(), lineno=329, col_offset=44), 'getmtime', Load(), lineno=329, col_offset=44), [Name('path', Load(), lineno=329, col_offset=61)], [], None, None, lineno=329, col_offset=44)], [], None, None, lineno=329, col_offset=12), lineno=329, col_offset=12)], [], lineno=324, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=330, col_offset=8), 'close', Load(), lineno=330, col_offset=8), [], [], None, None, lineno=330, col_offset=8), lineno=330, col_offset=8)], [], lineno=318, col_offset=4), FunctionDef('test_init_close_fobj', arguments([Name('self', Param(), lineno=332, col_offset=29)], None, None, []), [Assign([Name('empty', Store(), lineno=336, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=336, col_offset=16), 'path', Load(), lineno=336, col_offset=16), 'join', Load(), lineno=336, col_offset=16), [Name('TEMPDIR', Load(), lineno=336, col_offset=29), Str('empty', lineno=336, col_offset=38)], [], None, None, lineno=336, col_offset=16), lineno=336, col_offset=8), Expr(Call(Attribute(Call(Name('open', Load(), lineno=337, col_offset=8), [Name('empty', Load(), lineno=337, col_offset=13), Str('wb', lineno=337, col_offset=20)], [], None, None, lineno=337, col_offset=8), 'write', Load(), lineno=337, col_offset=8), [Str('', lineno=337, col_offset=32)], [], None, None, lineno=337, col_offset=8), lineno=337, col_offset=8), TryFinally([Assign([Name('tar', Store(), lineno=340, col_offset=12)], Call(Attribute(Name('object', Load(), lineno=340, col_offset=18), '__new__', Load(), lineno=340, col_offset=18), [Attribute(Name('tarfile', Load(), lineno=340, col_offset=33), 'TarFile', Load(), lineno=340, col_offset=33)], [], None, None, lineno=340, col_offset=18), lineno=340, col_offset=12), TryExcept([Expr(Call(Attribute(Name('tar', Load(), lineno=342, col_offset=16), '__init__', Load(), lineno=342, col_offset=16), [Name('empty', Load(), lineno=342, col_offset=29)], [], None, None, lineno=342, col_offset=16), lineno=342, col_offset=16)], [ExceptHandler(Attribute(Name('tarfile', Load(), lineno=343, col_offset=19), 'ReadError', Load(), lineno=343, col_offset=19), None, [Expr(Call(Attribute(Name('self', Load(), lineno=344, col_offset=16), 'assertTrue', Load(), lineno=344, col_offset=16), [Attribute(Attribute(Name('tar', Load(), lineno=344, col_offset=32), 'fileobj', Load(), lineno=344, col_offset=32), 'closed', Load(), lineno=344, col_offset=32)], [], None, None, lineno=344, col_offset=16), lineno=344, col_offset=16)], lineno=343, col_offset=12)], [Expr(Call(Attribute(Name('self', Load(), lineno=346, col_offset=16), 'fail', Load(), lineno=346, col_offset=16), [Str('ReadError not raised', lineno=346, col_offset=26)], [], None, None, lineno=346, col_offset=16), lineno=346, col_offset=16)], lineno=341, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=348, col_offset=12), 'remove', Load(), lineno=348, col_offset=12), [Name('empty', Load(), lineno=348, col_offset=22)], [], None, None, lineno=348, col_offset=12), lineno=348, col_offset=12)], lineno=339, col_offset=8)], [], lineno=332, col_offset=4)], [], lineno=204, col_offset=0), ClassDef('StreamReadTest', [Name('CommonReadTest', Load(), lineno=351, col_offset=21)], [Assign([Name('mode', Store(), lineno=353, col_offset=4)], Str('r|', lineno=353, col_offset=9), lineno=353, col_offset=4), FunctionDef('test_fileobj_regular_file', arguments([Name('self', Param(), lineno=355, col_offset=34)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=356, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=356, col_offset=18), 'tar', Load(), lineno=356, col_offset=18), 'next', Load(), lineno=356, col_offset=18), [], [], None, None, lineno=356, col_offset=18), lineno=356, col_offset=8), Assign([Name('fobj', Store(), lineno=357, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=357, col_offset=15), 'tar', Load(), lineno=357, col_offset=15), 'extractfile', Load(), lineno=357, col_offset=15), [Name('tarinfo', Load(), lineno=357, col_offset=36)], [], None, None, lineno=357, col_offset=15), lineno=357, col_offset=8), Assign([Name('data', Store(), lineno=358, col_offset=8)], Call(Attribute(Name('fobj', Load(), lineno=358, col_offset=15), 'read', Load(), lineno=358, col_offset=15), [], [], None, None, lineno=358, col_offset=15), lineno=358, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=359, col_offset=8), 'assertTrue', Load(), lineno=359, col_offset=8), [Compare(Tuple([Call(Name('len', Load(), lineno=359, col_offset=25), [Name('data', Load(), lineno=359, col_offset=29)], [], None, None, lineno=359, col_offset=25), Call(Name('md5sum', Load(), lineno=359, col_offset=36), [Name('data', Load(), lineno=359, col_offset=43)], [], None, None, lineno=359, col_offset=36)], Load(), lineno=359, col_offset=25), [Eq()], [Tuple([Attribute(Name('tarinfo', Load(), lineno=359, col_offset=54), 'size', Load(), lineno=359, col_offset=54), Name('md5_regtype', Load(), lineno=359, col_offset=68)], Load(), lineno=359, col_offset=54)], lineno=359, col_offset=24), Str('regular file extraction failed', lineno=360, col_offset=16)], [], None, None, lineno=359, col_offset=8), lineno=359, col_offset=8)], [], lineno=355, col_offset=4), FunctionDef('test_provoke_stream_error', arguments([Name('self', Param(), lineno=362, col_offset=34)], None, None, []), [Assign([Name('tarinfos', Store(), lineno=363, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=363, col_offset=19), 'tar', Load(), lineno=363, col_offset=19), 'getmembers', Load(), lineno=363, col_offset=19), [], [], None, None, lineno=363, col_offset=19), lineno=363, col_offset=8), Assign([Name('f', Store(), lineno=364, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=364, col_offset=12), 'tar', Load(), lineno=364, col_offset=12), 'extractfile', Load(), lineno=364, col_offset=12), [Subscript(Name('tarinfos', Load(), lineno=364, col_offset=33), Index(Num(0, lineno=364, col_offset=42)), Load(), lineno=364, col_offset=33)], [], None, None, lineno=364, col_offset=12), lineno=364, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=365, col_offset=8), 'assertRaises', Load(), lineno=365, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=365, col_offset=26), 'StreamError', Load(), lineno=365, col_offset=26), Attribute(Name('f', Load(), lineno=365, col_offset=47), 'read', Load(), lineno=365, col_offset=47)], [], None, None, lineno=365, col_offset=8), lineno=365, col_offset=8)], [], lineno=362, col_offset=4), FunctionDef('test_compare_members', arguments([Name('self', Param(), lineno=367, col_offset=29)], None, None, []), [Assign([Name('tar1', Store(), lineno=368, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=368, col_offset=15), 'open', Load(), lineno=368, col_offset=15), [Name('tarname', Load(), lineno=368, col_offset=28)], [keyword('encoding', Str('iso8859-1', lineno=368, col_offset=46))], None, None, lineno=368, col_offset=15), lineno=368, col_offset=8), Assign([Name('tar2', Store(), lineno=369, col_offset=8)], Attribute(Name('self', Load(), lineno=369, col_offset=15), 'tar', Load(), lineno=369, col_offset=15), lineno=369, col_offset=8), While(Name('True', Load(), lineno=371, col_offset=14), [Assign([Name('t1', Store(), lineno=372, col_offset=12)], Call(Attribute(Name('tar1', Load(), lineno=372, col_offset=17), 'next', Load(), lineno=372, col_offset=17), [], [], None, None, lineno=372, col_offset=17), lineno=372, col_offset=12), Assign([Name('t2', Store(), lineno=373, col_offset=12)], Call(Attribute(Name('tar2', Load(), lineno=373, col_offset=17), 'next', Load(), lineno=373, col_offset=17), [], [], None, None, lineno=373, col_offset=17), lineno=373, col_offset=12), If(Compare(Name('t1', Load(), lineno=374, col_offset=15), [Is()], [Name('None', Load(), lineno=374, col_offset=21)], lineno=374, col_offset=15), [Break( lineno=375, col_offset=16)], [], lineno=374, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=376, col_offset=12), 'assertTrue', Load(), lineno=376, col_offset=12), [Compare(Name('t2', Load(), lineno=376, col_offset=28), [IsNot()], [Name('None', Load(), lineno=376, col_offset=38)], lineno=376, col_offset=28), Str('stream.next() failed.', lineno=376, col_offset=44)], [], None, None, lineno=376, col_offset=12), lineno=376, col_offset=12), If(BoolOp(Or(), [Call(Attribute(Name('t2', Load(), lineno=378, col_offset=15), 'islnk', Load(), lineno=378, col_offset=15), [], [], None, None, lineno=378, col_offset=15), Call(Attribute(Name('t2', Load(), lineno=378, col_offset=29), 'issym', Load(), lineno=378, col_offset=29), [], [], None, None, lineno=378, col_offset=29)], lineno=378, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=379, col_offset=16), 'assertRaises', Load(), lineno=379, col_offset=16), [Attribute(Name('tarfile', Load(), lineno=379, col_offset=34), 'StreamError', Load(), lineno=379, col_offset=34), Attribute(Name('tar2', Load(), lineno=379, col_offset=55), 'extractfile', Load(), lineno=379, col_offset=55), Name('t2', Load(), lineno=379, col_offset=73)], [], None, None, lineno=379, col_offset=16), lineno=379, col_offset=16), Continue( lineno=380, col_offset=16)], [], lineno=378, col_offset=12), Assign([Name('v1', Store(), lineno=382, col_offset=12)], Call(Attribute(Name('tar1', Load(), lineno=382, col_offset=17), 'extractfile', Load(), lineno=382, col_offset=17), [Name('t1', Load(), lineno=382, col_offset=34)], [], None, None, lineno=382, col_offset=17), lineno=382, col_offset=12), Assign([Name('v2', Store(), lineno=383, col_offset=12)], Call(Attribute(Name('tar2', Load(), lineno=383, col_offset=17), 'extractfile', Load(), lineno=383, col_offset=17), [Name('t2', Load(), lineno=383, col_offset=34)], [], None, None, lineno=383, col_offset=17), lineno=383, col_offset=12), If(Compare(Name('v1', Load(), lineno=384, col_offset=15), [Is()], [Name('None', Load(), lineno=384, col_offset=21)], lineno=384, col_offset=15), [Continue( lineno=385, col_offset=16)], [], lineno=384, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=386, col_offset=12), 'assertTrue', Load(), lineno=386, col_offset=12), [Compare(Name('v2', Load(), lineno=386, col_offset=28), [IsNot()], [Name('None', Load(), lineno=386, col_offset=38)], lineno=386, col_offset=28), Str('stream.extractfile() failed', lineno=386, col_offset=44)], [], None, None, lineno=386, col_offset=12), lineno=386, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=387, col_offset=12), 'assertTrue', Load(), lineno=387, col_offset=12), [Compare(Call(Attribute(Name('v1', Load(), lineno=387, col_offset=28), 'read', Load(), lineno=387, col_offset=28), [], [], None, None, lineno=387, col_offset=28), [Eq()], [Call(Attribute(Name('v2', Load(), lineno=387, col_offset=41), 'read', Load(), lineno=387, col_offset=41), [], [], None, None, lineno=387, col_offset=41)], lineno=387, col_offset=28), Str('stream extraction failed', lineno=387, col_offset=52)], [], None, None, lineno=387, col_offset=12), lineno=387, col_offset=12)], [], lineno=371, col_offset=8), Expr(Call(Attribute(Name('tar1', Load(), lineno=389, col_offset=8), 'close', Load(), lineno=389, col_offset=8), [], [], None, None, lineno=389, col_offset=8), lineno=389, col_offset=8)], [], lineno=367, col_offset=4)], [], lineno=351, col_offset=0), ClassDef('DetectReadTest', [Attribute(Name('unittest', Load(), lineno=392, col_offset=21), 'TestCase', Load(), lineno=392, col_offset=21)], [FunctionDef('_testfunc_file', arguments([Name('self', Param(), lineno=394, col_offset=23), Name('name', Param(), lineno=394, col_offset=29), Name('mode', Param(), lineno=394, col_offset=35)], None, None, []), [TryExcept([Expr(Call(Attribute(Name('tarfile', Load(), lineno=396, col_offset=12), 'open', Load(), lineno=396, col_offset=12), [Name('name', Load(), lineno=396, col_offset=25), Name('mode', Load(), lineno=396, col_offset=31)], [], None, None, lineno=396, col_offset=12), lineno=396, col_offset=12)], [ExceptHandler(Attribute(Name('tarfile', Load(), lineno=397, col_offset=15), 'ReadError', Load(), lineno=397, col_offset=15), None, [Expr(Call(Attribute(Name('self', Load(), lineno=398, col_offset=12), 'fail', Load(), lineno=398, col_offset=12), [], [], None, None, lineno=398, col_offset=12), lineno=398, col_offset=12)], lineno=397, col_offset=8)], [], lineno=395, col_offset=8)], [], lineno=394, col_offset=4), FunctionDef('_testfunc_fileobj', arguments([Name('self', Param(), lineno=400, col_offset=26), Name('name', Param(), lineno=400, col_offset=32), Name('mode', Param(), lineno=400, col_offset=38)], None, None, []), [TryExcept([Expr(Call(Attribute(Name('tarfile', Load(), lineno=402, col_offset=12), 'open', Load(), lineno=402, col_offset=12), [Name('name', Load(), lineno=402, col_offset=25), Name('mode', Load(), lineno=402, col_offset=31)], [keyword('fileobj', Call(Name('open', Load(), lineno=402, col_offset=45), [Name('name', Load(), lineno=402, col_offset=50), Str('rb', lineno=402, col_offset=56)], [], None, None, lineno=402, col_offset=45))], None, None, lineno=402, col_offset=12), lineno=402, col_offset=12)], [ExceptHandler(Attribute(Name('tarfile', Load(), lineno=403, col_offset=15), 'ReadError', Load(), lineno=403, col_offset=15), None, [Expr(Call(Attribute(Name('self', Load(), lineno=404, col_offset=12), 'fail', Load(), lineno=404, col_offset=12), [], [], None, None, lineno=404, col_offset=12), lineno=404, col_offset=12)], lineno=403, col_offset=8)], [], lineno=401, col_offset=8)], [], lineno=400, col_offset=4), FunctionDef('_test_modes', arguments([Name('self', Param(), lineno=406, col_offset=20), Name('testfunc', Param(), lineno=406, col_offset=26)], None, None, []), [Expr(Call(Name('testfunc', Load(), lineno=407, col_offset=8), [Name('tarname', Load(), lineno=407, col_offset=17), Str('r', lineno=407, col_offset=26)], [], None, None, lineno=407, col_offset=8), lineno=407, col_offset=8), Expr(Call(Name('testfunc', Load(), lineno=408, col_offset=8), [Name('tarname', Load(), lineno=408, col_offset=17), Str('r:', lineno=408, col_offset=26)], [], None, None, lineno=408, col_offset=8), lineno=408, col_offset=8), Expr(Call(Name('testfunc', Load(), lineno=409, col_offset=8), [Name('tarname', Load(), lineno=409, col_offset=17), Str('r:*', lineno=409, col_offset=26)], [], None, None, lineno=409, col_offset=8), lineno=409, col_offset=8), Expr(Call(Name('testfunc', Load(), lineno=410, col_offset=8), [Name('tarname', Load(), lineno=410, col_offset=17), Str('r|', lineno=410, col_offset=26)], [], None, None, lineno=410, col_offset=8), lineno=410, col_offset=8), Expr(Call(Name('testfunc', Load(), lineno=411, col_offset=8), [Name('tarname', Load(), lineno=411, col_offset=17), Str('r|*', lineno=411, col_offset=26)], [], None, None, lineno=411, col_offset=8), lineno=411, col_offset=8), If(Name('gzip', Load(), lineno=413, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=414, col_offset=12), 'assertRaises', Load(), lineno=414, col_offset=12), [Attribute(Name('tarfile', Load(), lineno=414, col_offset=30), 'ReadError', Load(), lineno=414, col_offset=30), Attribute(Name('tarfile', Load(), lineno=414, col_offset=49), 'open', Load(), lineno=414, col_offset=49), Name('tarname', Load(), lineno=414, col_offset=63)], [keyword('mode', Str('r:gz', lineno=414, col_offset=77))], None, None, lineno=414, col_offset=12), lineno=414, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=415, col_offset=12), 'assertRaises', Load(), lineno=415, col_offset=12), [Attribute(Name('tarfile', Load(), lineno=415, col_offset=30), 'ReadError', Load(), lineno=415, col_offset=30), Attribute(Name('tarfile', Load(), lineno=415, col_offset=49), 'open', Load(), lineno=415, col_offset=49), Name('tarname', Load(), lineno=415, col_offset=63)], [keyword('mode', Str('r|gz', lineno=415, col_offset=77))], None, None, lineno=415, col_offset=12), lineno=415, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=416, col_offset=12), 'assertRaises', Load(), lineno=416, col_offset=12), [Attribute(Name('tarfile', Load(), lineno=416, col_offset=30), 'ReadError', Load(), lineno=416, col_offset=30), Attribute(Name('tarfile', Load(), lineno=416, col_offset=49), 'open', Load(), lineno=416, col_offset=49), Name('gzipname', Load(), lineno=416, col_offset=63)], [keyword('mode', Str('r:', lineno=416, col_offset=78))], None, None, lineno=416, col_offset=12), lineno=416, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=417, col_offset=12), 'assertRaises', Load(), lineno=417, col_offset=12), [Attribute(Name('tarfile', Load(), lineno=417, col_offset=30), 'ReadError', Load(), lineno=417, col_offset=30), Attribute(Name('tarfile', Load(), lineno=417, col_offset=49), 'open', Load(), lineno=417, col_offset=49), Name('gzipname', Load(), lineno=417, col_offset=63)], [keyword('mode', Str('r|', lineno=417, col_offset=78))], None, None, lineno=417, col_offset=12), lineno=417, col_offset=12), Expr(Call(Name('testfunc', Load(), lineno=419, col_offset=12), [Name('gzipname', Load(), lineno=419, col_offset=21), Str('r', lineno=419, col_offset=31)], [], None, None, lineno=419, col_offset=12), lineno=419, col_offset=12), Expr(Call(Name('testfunc', Load(), lineno=420, col_offset=12), [Name('gzipname', Load(), lineno=420, col_offset=21), Str('r:*', lineno=420, col_offset=31)], [], None, None, lineno=420, col_offset=12), lineno=420, col_offset=12), Expr(Call(Name('testfunc', Load(), lineno=421, col_offset=12), [Name('gzipname', Load(), lineno=421, col_offset=21), Str('r:gz', lineno=421, col_offset=31)], [], None, None, lineno=421, col_offset=12), lineno=421, col_offset=12), Expr(Call(Name('testfunc', Load(), lineno=422, col_offset=12), [Name('gzipname', Load(), lineno=422, col_offset=21), Str('r|*', lineno=422, col_offset=31)], [], None, None, lineno=422, col_offset=12), lineno=422, col_offset=12), Expr(Call(Name('testfunc', Load(), lineno=423, col_offset=12), [Name('gzipname', Load(), lineno=423, col_offset=21), Str('r|gz', lineno=423, col_offset=31)], [], None, None, lineno=423, col_offset=12), lineno=423, col_offset=12)], [], lineno=413, col_offset=8), If(Name('bz2', Load(), lineno=425, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=426, col_offset=12), 'assertRaises', Load(), lineno=426, col_offset=12), [Attribute(Name('tarfile', Load(), lineno=426, col_offset=30), 'ReadError', Load(), lineno=426, col_offset=30), Attribute(Name('tarfile', Load(), lineno=426, col_offset=49), 'open', Load(), lineno=426, col_offset=49), Name('tarname', Load(), lineno=426, col_offset=63)], [keyword('mode', Str('r:bz2', lineno=426, col_offset=77))], None, None, lineno=426, col_offset=12), lineno=426, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=427, col_offset=12), 'assertRaises', Load(), lineno=427, col_offset=12), [Attribute(Name('tarfile', Load(), lineno=427, col_offset=30), 'ReadError', Load(), lineno=427, col_offset=30), Attribute(Name('tarfile', Load(), lineno=427, col_offset=49), 'open', Load(), lineno=427, col_offset=49), Name('tarname', Load(), lineno=427, col_offset=63)], [keyword('mode', Str('r|bz2', lineno=427, col_offset=77))], None, None, lineno=427, col_offset=12), lineno=427, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=428, col_offset=12), 'assertRaises', Load(), lineno=428, col_offset=12), [Attribute(Name('tarfile', Load(), lineno=428, col_offset=30), 'ReadError', Load(), lineno=428, col_offset=30), Attribute(Name('tarfile', Load(), lineno=428, col_offset=49), 'open', Load(), lineno=428, col_offset=49), Name('bz2name', Load(), lineno=428, col_offset=63)], [keyword('mode', Str('r:', lineno=428, col_offset=77))], None, None, lineno=428, col_offset=12), lineno=428, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=429, col_offset=12), 'assertRaises', Load(), lineno=429, col_offset=12), [Attribute(Name('tarfile', Load(), lineno=429, col_offset=30), 'ReadError', Load(), lineno=429, col_offset=30), Attribute(Name('tarfile', Load(), lineno=429, col_offset=49), 'open', Load(), lineno=429, col_offset=49), Name('bz2name', Load(), lineno=429, col_offset=63)], [keyword('mode', Str('r|', lineno=429, col_offset=77))], None, None, lineno=429, col_offset=12), lineno=429, col_offset=12), Expr(Call(Name('testfunc', Load(), lineno=431, col_offset=12), [Name('bz2name', Load(), lineno=431, col_offset=21), Str('r', lineno=431, col_offset=30)], [], None, None, lineno=431, col_offset=12), lineno=431, col_offset=12), Expr(Call(Name('testfunc', Load(), lineno=432, col_offset=12), [Name('bz2name', Load(), lineno=432, col_offset=21), Str('r:*', lineno=432, col_offset=30)], [], None, None, lineno=432, col_offset=12), lineno=432, col_offset=12), Expr(Call(Name('testfunc', Load(), lineno=433, col_offset=12), [Name('bz2name', Load(), lineno=433, col_offset=21), Str('r:bz2', lineno=433, col_offset=30)], [], None, None, lineno=433, col_offset=12), lineno=433, col_offset=12), Expr(Call(Name('testfunc', Load(), lineno=434, col_offset=12), [Name('bz2name', Load(), lineno=434, col_offset=21), Str('r|*', lineno=434, col_offset=30)], [], None, None, lineno=434, col_offset=12), lineno=434, col_offset=12), Expr(Call(Name('testfunc', Load(), lineno=435, col_offset=12), [Name('bz2name', Load(), lineno=435, col_offset=21), Str('r|bz2', lineno=435, col_offset=30)], [], None, None, lineno=435, col_offset=12), lineno=435, col_offset=12)], [], lineno=425, col_offset=8)], [], lineno=406, col_offset=4), FunctionDef('test_detect_file', arguments([Name('self', Param(), lineno=437, col_offset=25)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=438, col_offset=8), '_test_modes', Load(), lineno=438, col_offset=8), [Attribute(Name('self', Load(), lineno=438, col_offset=25), '_testfunc_file', Load(), lineno=438, col_offset=25)], [], None, None, lineno=438, col_offset=8), lineno=438, col_offset=8)], [], lineno=437, col_offset=4), FunctionDef('test_detect_fileobj', arguments([Name('self', Param(), lineno=440, col_offset=28)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=441, col_offset=8), '_test_modes', Load(), lineno=441, col_offset=8), [Attribute(Name('self', Load(), lineno=441, col_offset=25), '_testfunc_fileobj', Load(), lineno=441, col_offset=25)], [], None, None, lineno=441, col_offset=8), lineno=441, col_offset=8)], [], lineno=440, col_offset=4)], [], lineno=392, col_offset=0), ClassDef('MemberReadTest', [Name('ReadTest', Load(), lineno=444, col_offset=21)], [FunctionDef('_test_member', arguments([Name('self', Param(), lineno=446, col_offset=21), Name('tarinfo', Param(), lineno=446, col_offset=27), Name('chksum', Param(), lineno=446, col_offset=36)], None, 'kwargs', [Name('None', Load(), lineno=446, col_offset=43)]), [If(Compare(Name('chksum', Load(), lineno=447, col_offset=11), [IsNot()], [Name('None', Load(), lineno=447, col_offset=25)], lineno=447, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=448, col_offset=12), 'assertTrue', Load(), lineno=448, col_offset=12), [Compare(Call(Name('md5sum', Load(), lineno=448, col_offset=28), [Call(Attribute(Call(Attribute(Attribute(Name('self', Load(), lineno=448, col_offset=35), 'tar', Load(), lineno=448, col_offset=35), 'extractfile', Load(), lineno=448, col_offset=35), [Name('tarinfo', Load(), lineno=448, col_offset=56)], [], None, None, lineno=448, col_offset=35), 'read', Load(), lineno=448, col_offset=35), [], [], None, None, lineno=448, col_offset=35)], [], None, None, lineno=448, col_offset=28), [Eq()], [Name('chksum', Load(), lineno=448, col_offset=76)], lineno=448, col_offset=28), BinOp(Str('wrong md5sum for %s', lineno=449, col_offset=20), Mod(), Attribute(Name('tarinfo', Load(), lineno=449, col_offset=44), 'name', Load(), lineno=449, col_offset=44), lineno=449, col_offset=20)], [], None, None, lineno=448, col_offset=12), lineno=448, col_offset=12)], [], lineno=447, col_offset=8), Assign([Subscript(Name('kwargs', Load(), lineno=451, col_offset=8), Index(Str('mtime', lineno=451, col_offset=15)), Store(), lineno=451, col_offset=8)], Num(1041808783, lineno=451, col_offset=26), lineno=451, col_offset=8), Assign([Subscript(Name('kwargs', Load(), lineno=452, col_offset=8), Index(Str('uid', lineno=452, col_offset=15)), Store(), lineno=452, col_offset=8)], Num(1000, lineno=452, col_offset=24), lineno=452, col_offset=8), Assign([Subscript(Name('kwargs', Load(), lineno=453, col_offset=8), Index(Str('gid', lineno=453, col_offset=15)), Store(), lineno=453, col_offset=8)], Num(100, lineno=453, col_offset=24), lineno=453, col_offset=8), If(Compare(Str('old-v7', lineno=454, col_offset=11), [NotIn()], [Attribute(Name('tarinfo', Load(), lineno=454, col_offset=27), 'name', Load(), lineno=454, col_offset=27)], lineno=454, col_offset=11), [Assign([Subscript(Name('kwargs', Load(), lineno=456, col_offset=12), Index(Str('uname', lineno=456, col_offset=19)), Store(), lineno=456, col_offset=12)], Str('tarfile', lineno=456, col_offset=30), lineno=456, col_offset=12), Assign([Subscript(Name('kwargs', Load(), lineno=457, col_offset=12), Index(Str('gname', lineno=457, col_offset=19)), Store(), lineno=457, col_offset=12)], Str('tarfile', lineno=457, col_offset=30), lineno=457, col_offset=12)], [], lineno=454, col_offset=8), For(Tuple([Name('k', Store(), lineno=458, col_offset=12), Name('v', Store(), lineno=458, col_offset=15)], Store(), lineno=458, col_offset=12), Call(Attribute(Name('kwargs', Load(), lineno=458, col_offset=20), 'iteritems', Load(), lineno=458, col_offset=20), [], [], None, None, lineno=458, col_offset=20), [Expr(Call(Attribute(Name('self', Load(), lineno=459, col_offset=12), 'assertTrue', Load(), lineno=459, col_offset=12), [Compare(Call(Name('getattr', Load(), lineno=459, col_offset=28), [Name('tarinfo', Load(), lineno=459, col_offset=36), Name('k', Load(), lineno=459, col_offset=45)], [], None, None, lineno=459, col_offset=28), [Eq()], [Name('v', Load(), lineno=459, col_offset=51)], lineno=459, col_offset=28), BinOp(Str('wrong value in %s field of %s', lineno=460, col_offset=20), Mod(), Tuple([Name('k', Load(), lineno=460, col_offset=55), Attribute(Name('tarinfo', Load(), lineno=460, col_offset=58), 'name', Load(), lineno=460, col_offset=58)], Load(), lineno=460, col_offset=55), lineno=460, col_offset=20)], [], None, None, lineno=459, col_offset=12), lineno=459, col_offset=12)], [], lineno=458, col_offset=8)], [], lineno=446, col_offset=4), FunctionDef('test_find_regtype', arguments([Name('self', Param(), lineno=462, col_offset=26)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=463, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=463, col_offset=18), 'tar', Load(), lineno=463, col_offset=18), 'getmember', Load(), lineno=463, col_offset=18), [Str('ustar/regtype', lineno=463, col_offset=37)], [], None, None, lineno=463, col_offset=18), lineno=463, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=464, col_offset=8), '_test_member', Load(), lineno=464, col_offset=8), [Name('tarinfo', Load(), lineno=464, col_offset=26)], [keyword('size', Num(7011, lineno=464, col_offset=40)), keyword('chksum', Name('md5_regtype', Load(), lineno=464, col_offset=53))], None, None, lineno=464, col_offset=8), lineno=464, col_offset=8)], [], lineno=462, col_offset=4), FunctionDef('test_find_conttype', arguments([Name('self', Param(), lineno=466, col_offset=27)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=467, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=467, col_offset=18), 'tar', Load(), lineno=467, col_offset=18), 'getmember', Load(), lineno=467, col_offset=18), [Str('ustar/conttype', lineno=467, col_offset=37)], [], None, None, lineno=467, col_offset=18), lineno=467, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=468, col_offset=8), '_test_member', Load(), lineno=468, col_offset=8), [Name('tarinfo', Load(), lineno=468, col_offset=26)], [keyword('size', Num(7011, lineno=468, col_offset=40)), keyword('chksum', Name('md5_regtype', Load(), lineno=468, col_offset=53))], None, None, lineno=468, col_offset=8), lineno=468, col_offset=8)], [], lineno=466, col_offset=4), FunctionDef('test_find_dirtype', arguments([Name('self', Param(), lineno=470, col_offset=26)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=471, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=471, col_offset=18), 'tar', Load(), lineno=471, col_offset=18), 'getmember', Load(), lineno=471, col_offset=18), [Str('ustar/dirtype', lineno=471, col_offset=37)], [], None, None, lineno=471, col_offset=18), lineno=471, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=472, col_offset=8), '_test_member', Load(), lineno=472, col_offset=8), [Name('tarinfo', Load(), lineno=472, col_offset=26)], [keyword('size', Num(0, lineno=472, col_offset=40))], None, None, lineno=472, col_offset=8), lineno=472, col_offset=8)], [], lineno=470, col_offset=4), FunctionDef('test_find_dirtype_with_size', arguments([Name('self', Param(), lineno=474, col_offset=36)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=475, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=475, col_offset=18), 'tar', Load(), lineno=475, col_offset=18), 'getmember', Load(), lineno=475, col_offset=18), [Str('ustar/dirtype-with-size', lineno=475, col_offset=37)], [], None, None, lineno=475, col_offset=18), lineno=475, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=476, col_offset=8), '_test_member', Load(), lineno=476, col_offset=8), [Name('tarinfo', Load(), lineno=476, col_offset=26)], [keyword('size', Num(255, lineno=476, col_offset=40))], None, None, lineno=476, col_offset=8), lineno=476, col_offset=8)], [], lineno=474, col_offset=4), FunctionDef('test_find_lnktype', arguments([Name('self', Param(), lineno=478, col_offset=26)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=479, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=479, col_offset=18), 'tar', Load(), lineno=479, col_offset=18), 'getmember', Load(), lineno=479, col_offset=18), [Str('ustar/lnktype', lineno=479, col_offset=37)], [], None, None, lineno=479, col_offset=18), lineno=479, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=480, col_offset=8), '_test_member', Load(), lineno=480, col_offset=8), [Name('tarinfo', Load(), lineno=480, col_offset=26)], [keyword('size', Num(0, lineno=480, col_offset=40)), keyword('linkname', Str('ustar/regtype', lineno=480, col_offset=52))], None, None, lineno=480, col_offset=8), lineno=480, col_offset=8)], [], lineno=478, col_offset=4), FunctionDef('test_find_symtype', arguments([Name('self', Param(), lineno=482, col_offset=26)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=483, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=483, col_offset=18), 'tar', Load(), lineno=483, col_offset=18), 'getmember', Load(), lineno=483, col_offset=18), [Str('ustar/symtype', lineno=483, col_offset=37)], [], None, None, lineno=483, col_offset=18), lineno=483, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=484, col_offset=8), '_test_member', Load(), lineno=484, col_offset=8), [Name('tarinfo', Load(), lineno=484, col_offset=26)], [keyword('size', Num(0, lineno=484, col_offset=40)), keyword('linkname', Str('regtype', lineno=484, col_offset=52))], None, None, lineno=484, col_offset=8), lineno=484, col_offset=8)], [], lineno=482, col_offset=4), FunctionDef('test_find_blktype', arguments([Name('self', Param(), lineno=486, col_offset=26)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=487, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=487, col_offset=18), 'tar', Load(), lineno=487, col_offset=18), 'getmember', Load(), lineno=487, col_offset=18), [Str('ustar/blktype', lineno=487, col_offset=37)], [], None, None, lineno=487, col_offset=18), lineno=487, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=488, col_offset=8), '_test_member', Load(), lineno=488, col_offset=8), [Name('tarinfo', Load(), lineno=488, col_offset=26)], [keyword('size', Num(0, lineno=488, col_offset=40)), keyword('devmajor', Num(3, lineno=488, col_offset=52)), keyword('devminor', Num(0, lineno=488, col_offset=64))], None, None, lineno=488, col_offset=8), lineno=488, col_offset=8)], [], lineno=486, col_offset=4), FunctionDef('test_find_chrtype', arguments([Name('self', Param(), lineno=490, col_offset=26)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=491, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=491, col_offset=18), 'tar', Load(), lineno=491, col_offset=18), 'getmember', Load(), lineno=491, col_offset=18), [Str('ustar/chrtype', lineno=491, col_offset=37)], [], None, None, lineno=491, col_offset=18), lineno=491, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=492, col_offset=8), '_test_member', Load(), lineno=492, col_offset=8), [Name('tarinfo', Load(), lineno=492, col_offset=26)], [keyword('size', Num(0, lineno=492, col_offset=40)), keyword('devmajor', Num(1, lineno=492, col_offset=52)), keyword('devminor', Num(3, lineno=492, col_offset=64))], None, None, lineno=492, col_offset=8), lineno=492, col_offset=8)], [], lineno=490, col_offset=4), FunctionDef('test_find_fifotype', arguments([Name('self', Param(), lineno=494, col_offset=27)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=495, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=495, col_offset=18), 'tar', Load(), lineno=495, col_offset=18), 'getmember', Load(), lineno=495, col_offset=18), [Str('ustar/fifotype', lineno=495, col_offset=37)], [], None, None, lineno=495, col_offset=18), lineno=495, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=496, col_offset=8), '_test_member', Load(), lineno=496, col_offset=8), [Name('tarinfo', Load(), lineno=496, col_offset=26)], [keyword('size', Num(0, lineno=496, col_offset=40))], None, None, lineno=496, col_offset=8), lineno=496, col_offset=8)], [], lineno=494, col_offset=4), FunctionDef('test_find_sparse', arguments([Name('self', Param(), lineno=498, col_offset=25)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=499, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=499, col_offset=18), 'tar', Load(), lineno=499, col_offset=18), 'getmember', Load(), lineno=499, col_offset=18), [Str('ustar/sparse', lineno=499, col_offset=37)], [], None, None, lineno=499, col_offset=18), lineno=499, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=500, col_offset=8), '_test_member', Load(), lineno=500, col_offset=8), [Name('tarinfo', Load(), lineno=500, col_offset=26)], [keyword('size', Num(86016, lineno=500, col_offset=40)), keyword('chksum', Name('md5_sparse', Load(), lineno=500, col_offset=54))], None, None, lineno=500, col_offset=8), lineno=500, col_offset=8)], [], lineno=498, col_offset=4), FunctionDef('test_find_umlauts', arguments([Name('self', Param(), lineno=502, col_offset=26)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=503, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=503, col_offset=18), 'tar', Load(), lineno=503, col_offset=18), 'getmember', Load(), lineno=503, col_offset=18), [Str('ustar/umlauts-\xc4\xd6\xdc\xe4\xf6\xfc\xdf', lineno=503, col_offset=37)], [], None, None, lineno=503, col_offset=18), lineno=503, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=504, col_offset=8), '_test_member', Load(), lineno=504, col_offset=8), [Name('tarinfo', Load(), lineno=504, col_offset=26)], [keyword('size', Num(7011, lineno=504, col_offset=40)), keyword('chksum', Name('md5_regtype', Load(), lineno=504, col_offset=53))], None, None, lineno=504, col_offset=8), lineno=504, col_offset=8)], [], lineno=502, col_offset=4), FunctionDef('test_find_ustar_longname', arguments([Name('self', Param(), lineno=506, col_offset=33)], None, None, []), [Assign([Name('name', Store(), lineno=507, col_offset=8)], BinOp(BinOp(Str('ustar/', lineno=507, col_offset=15), Add(), BinOp(Str('12345/', lineno=507, col_offset=26), Mult(), Num(39, lineno=507, col_offset=37), lineno=507, col_offset=26), lineno=507, col_offset=15), Add(), Str('1234567/longname', lineno=507, col_offset=42), lineno=507, col_offset=40), lineno=507, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=508, col_offset=8), 'assertIn', Load(), lineno=508, col_offset=8), [Name('name', Load(), lineno=508, col_offset=22), Call(Attribute(Attribute(Name('self', Load(), lineno=508, col_offset=28), 'tar', Load(), lineno=508, col_offset=28), 'getnames', Load(), lineno=508, col_offset=28), [], [], None, None, lineno=508, col_offset=28)], [], None, None, lineno=508, col_offset=8), lineno=508, col_offset=8)], [], lineno=506, col_offset=4), FunctionDef('test_find_regtype_oldv7', arguments([Name('self', Param(), lineno=510, col_offset=32)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=511, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=511, col_offset=18), 'tar', Load(), lineno=511, col_offset=18), 'getmember', Load(), lineno=511, col_offset=18), [Str('misc/regtype-old-v7', lineno=511, col_offset=37)], [], None, None, lineno=511, col_offset=18), lineno=511, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=512, col_offset=8), '_test_member', Load(), lineno=512, col_offset=8), [Name('tarinfo', Load(), lineno=512, col_offset=26)], [keyword('size', Num(7011, lineno=512, col_offset=40)), keyword('chksum', Name('md5_regtype', Load(), lineno=512, col_offset=53))], None, None, lineno=512, col_offset=8), lineno=512, col_offset=8)], [], lineno=510, col_offset=4), FunctionDef('test_find_pax_umlauts', arguments([Name('self', Param(), lineno=514, col_offset=30)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=515, col_offset=8), 'tar', Store(), lineno=515, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=515, col_offset=19), 'open', Load(), lineno=515, col_offset=19), [Attribute(Name('self', Load(), lineno=515, col_offset=32), 'tarname', Load(), lineno=515, col_offset=32)], [keyword('mode', Attribute(Name('self', Load(), lineno=515, col_offset=51), 'mode', Load(), lineno=515, col_offset=51)), keyword('encoding', Str('iso8859-1', lineno=515, col_offset=71))], None, None, lineno=515, col_offset=19), lineno=515, col_offset=8), Assign([Name('tarinfo', Store(), lineno=516, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=516, col_offset=18), 'tar', Load(), lineno=516, col_offset=18), 'getmember', Load(), lineno=516, col_offset=18), [Str('pax/umlauts-\xc4\xd6\xdc\xe4\xf6\xfc\xdf', lineno=516, col_offset=37)], [], None, None, lineno=516, col_offset=18), lineno=516, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=517, col_offset=8), '_test_member', Load(), lineno=517, col_offset=8), [Name('tarinfo', Load(), lineno=517, col_offset=26)], [keyword('size', Num(7011, lineno=517, col_offset=40)), keyword('chksum', Name('md5_regtype', Load(), lineno=517, col_offset=53))], None, None, lineno=517, col_offset=8), lineno=517, col_offset=8)], [], lineno=514, col_offset=4)], [], lineno=444, col_offset=0), ClassDef('LongnameTest', [Name('ReadTest', Load(), lineno=520, col_offset=19)], [FunctionDef('test_read_longname', arguments([Name('self', Param(), lineno=522, col_offset=27)], None, None, []), [Assign([Name('longname', Store(), lineno=524, col_offset=8)], BinOp(BinOp(BinOp(Attribute(Name('self', Load(), lineno=524, col_offset=19), 'subdir', Load(), lineno=524, col_offset=19), Add(), Str('/', lineno=524, col_offset=33), lineno=524, col_offset=19), Add(), BinOp(Str('123/', lineno=524, col_offset=39), Mult(), Num(125, lineno=524, col_offset=48), lineno=524, col_offset=39), lineno=524, col_offset=37), Add(), Str('longname', lineno=524, col_offset=54), lineno=524, col_offset=52), lineno=524, col_offset=8), TryExcept([Assign([Name('tarinfo', Store(), lineno=526, col_offset=12)], Call(Attribute(Attribute(Name('self', Load(), lineno=526, col_offset=22), 'tar', Load(), lineno=526, col_offset=22), 'getmember', Load(), lineno=526, col_offset=22), [Name('longname', Load(), lineno=526, col_offset=41)], [], None, None, lineno=526, col_offset=22), lineno=526, col_offset=12)], [ExceptHandler(Name('KeyError', Load(), lineno=527, col_offset=15), None, [Expr(Call(Attribute(Name('self', Load(), lineno=528, col_offset=12), 'fail', Load(), lineno=528, col_offset=12), [Str('longname not found', lineno=528, col_offset=22)], [], None, None, lineno=528, col_offset=12), lineno=528, col_offset=12)], lineno=527, col_offset=8)], [], lineno=525, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=529, col_offset=8), 'assertTrue', Load(), lineno=529, col_offset=8), [Compare(Attribute(Name('tarinfo', Load(), lineno=529, col_offset=24), 'type', Load(), lineno=529, col_offset=24), [NotEq()], [Attribute(Name('tarfile', Load(), lineno=529, col_offset=40), 'DIRTYPE', Load(), lineno=529, col_offset=40)], lineno=529, col_offset=24), Str('read longname as dirtype', lineno=529, col_offset=57)], [], None, None, lineno=529, col_offset=8), lineno=529, col_offset=8)], [], lineno=522, col_offset=4), FunctionDef('test_read_longlink', arguments([Name('self', Param(), lineno=531, col_offset=27)], None, None, []), [Assign([Name('longname', Store(), lineno=532, col_offset=8)], BinOp(BinOp(BinOp(Attribute(Name('self', Load(), lineno=532, col_offset=19), 'subdir', Load(), lineno=532, col_offset=19), Add(), Str('/', lineno=532, col_offset=33), lineno=532, col_offset=19), Add(), BinOp(Str('123/', lineno=532, col_offset=39), Mult(), Num(125, lineno=532, col_offset=48), lineno=532, col_offset=39), lineno=532, col_offset=37), Add(), Str('longname', lineno=532, col_offset=54), lineno=532, col_offset=52), lineno=532, col_offset=8), Assign([Name('longlink', Store(), lineno=533, col_offset=8)], BinOp(BinOp(BinOp(Attribute(Name('self', Load(), lineno=533, col_offset=19), 'subdir', Load(), lineno=533, col_offset=19), Add(), Str('/', lineno=533, col_offset=33), lineno=533, col_offset=19), Add(), BinOp(Str('123/', lineno=533, col_offset=39), Mult(), Num(125, lineno=533, col_offset=48), lineno=533, col_offset=39), lineno=533, col_offset=37), Add(), Str('longlink', lineno=533, col_offset=54), lineno=533, col_offset=52), lineno=533, col_offset=8), TryExcept([Assign([Name('tarinfo', Store(), lineno=535, col_offset=12)], Call(Attribute(Attribute(Name('self', Load(), lineno=535, col_offset=22), 'tar', Load(), lineno=535, col_offset=22), 'getmember', Load(), lineno=535, col_offset=22), [Name('longlink', Load(), lineno=535, col_offset=41)], [], None, None, lineno=535, col_offset=22), lineno=535, col_offset=12)], [ExceptHandler(Name('KeyError', Load(), lineno=536, col_offset=15), None, [Expr(Call(Attribute(Name('self', Load(), lineno=537, col_offset=12), 'fail', Load(), lineno=537, col_offset=12), [Str('longlink not found', lineno=537, col_offset=22)], [], None, None, lineno=537, col_offset=12), lineno=537, col_offset=12)], lineno=536, col_offset=8)], [], lineno=534, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=538, col_offset=8), 'assertTrue', Load(), lineno=538, col_offset=8), [Compare(Attribute(Name('tarinfo', Load(), lineno=538, col_offset=24), 'linkname', Load(), lineno=538, col_offset=24), [Eq()], [Name('longname', Load(), lineno=538, col_offset=44)], lineno=538, col_offset=24), Str('linkname wrong', lineno=538, col_offset=54)], [], None, None, lineno=538, col_offset=8), lineno=538, col_offset=8)], [], lineno=531, col_offset=4), FunctionDef('test_truncated_longname', arguments([Name('self', Param(), lineno=540, col_offset=32)], None, None, []), [Assign([Name('longname', Store(), lineno=541, col_offset=8)], BinOp(BinOp(BinOp(Attribute(Name('self', Load(), lineno=541, col_offset=19), 'subdir', Load(), lineno=541, col_offset=19), Add(), Str('/', lineno=541, col_offset=33), lineno=541, col_offset=19), Add(), BinOp(Str('123/', lineno=541, col_offset=39), Mult(), Num(125, lineno=541, col_offset=48), lineno=541, col_offset=39), lineno=541, col_offset=37), Add(), Str('longname', lineno=541, col_offset=54), lineno=541, col_offset=52), lineno=541, col_offset=8), Assign([Name('tarinfo', Store(), lineno=542, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=542, col_offset=18), 'tar', Load(), lineno=542, col_offset=18), 'getmember', Load(), lineno=542, col_offset=18), [Name('longname', Load(), lineno=542, col_offset=37)], [], None, None, lineno=542, col_offset=18), lineno=542, col_offset=8), Assign([Name('offset', Store(), lineno=543, col_offset=8)], Attribute(Name('tarinfo', Load(), lineno=543, col_offset=17), 'offset', Load(), lineno=543, col_offset=17), lineno=543, col_offset=8), Expr(Call(Attribute(Attribute(Attribute(Name('self', Load(), lineno=544, col_offset=8), 'tar', Load(), lineno=544, col_offset=8), 'fileobj', Load(), lineno=544, col_offset=8), 'seek', Load(), lineno=544, col_offset=8), [Name('offset', Load(), lineno=544, col_offset=30)], [], None, None, lineno=544, col_offset=8), lineno=544, col_offset=8), Assign([Name('fobj', Store(), lineno=545, col_offset=8)], Call(Attribute(Name('StringIO', Load(), lineno=545, col_offset=15), 'StringIO', Load(), lineno=545, col_offset=15), [Call(Attribute(Attribute(Attribute(Name('self', Load(), lineno=545, col_offset=33), 'tar', Load(), lineno=545, col_offset=33), 'fileobj', Load(), lineno=545, col_offset=33), 'read', Load(), lineno=545, col_offset=33), [BinOp(Num(3, lineno=545, col_offset=55), Mult(), Num(512, lineno=545, col_offset=59), lineno=545, col_offset=55)], [], None, None, lineno=545, col_offset=33)], [], None, None, lineno=545, col_offset=15), lineno=545, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=546, col_offset=8), 'assertRaises', Load(), lineno=546, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=546, col_offset=26), 'ReadError', Load(), lineno=546, col_offset=26), Attribute(Name('tarfile', Load(), lineno=546, col_offset=45), 'open', Load(), lineno=546, col_offset=45)], [keyword('name', Str('foo.tar', lineno=546, col_offset=64)), keyword('fileobj', Name('fobj', Load(), lineno=546, col_offset=83))], None, None, lineno=546, col_offset=8), lineno=546, col_offset=8)], [], lineno=540, col_offset=4), FunctionDef('test_header_offset', arguments([Name('self', Param(), lineno=548, col_offset=27)], None, None, []), [Assign([Name('longname', Store(), lineno=551, col_offset=8)], BinOp(BinOp(BinOp(Attribute(Name('self', Load(), lineno=551, col_offset=19), 'subdir', Load(), lineno=551, col_offset=19), Add(), Str('/', lineno=551, col_offset=33), lineno=551, col_offset=19), Add(), BinOp(Str('123/', lineno=551, col_offset=39), Mult(), Num(125, lineno=551, col_offset=48), lineno=551, col_offset=39), lineno=551, col_offset=37), Add(), Str('longname', lineno=551, col_offset=54), lineno=551, col_offset=52), lineno=551, col_offset=8), Assign([Name('offset', Store(), lineno=552, col_offset=8)], Attribute(Call(Attribute(Attribute(Name('self', Load(), lineno=552, col_offset=17), 'tar', Load(), lineno=552, col_offset=17), 'getmember', Load(), lineno=552, col_offset=17), [Name('longname', Load(), lineno=552, col_offset=36)], [], None, None, lineno=552, col_offset=17), 'offset', Load(), lineno=552, col_offset=17), lineno=552, col_offset=8), Assign([Name('fobj', Store(), lineno=553, col_offset=8)], Call(Name('open', Load(), lineno=553, col_offset=15), [Name('tarname', Load(), lineno=553, col_offset=20)], [], None, None, lineno=553, col_offset=15), lineno=553, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=554, col_offset=8), 'seek', Load(), lineno=554, col_offset=8), [Name('offset', Load(), lineno=554, col_offset=18)], [], None, None, lineno=554, col_offset=8), lineno=554, col_offset=8), Assign([Name('tarinfo', Store(), lineno=555, col_offset=8)], Call(Attribute(Attribute(Name('tarfile', Load(), lineno=555, col_offset=18), 'TarInfo', Load(), lineno=555, col_offset=18), 'frombuf', Load(), lineno=555, col_offset=18), [Call(Attribute(Name('fobj', Load(), lineno=555, col_offset=42), 'read', Load(), lineno=555, col_offset=42), [Num(512, lineno=555, col_offset=52)], [], None, None, lineno=555, col_offset=42)], [], None, None, lineno=555, col_offset=18), lineno=555, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=556, col_offset=8), 'assertEqual', Load(), lineno=556, col_offset=8), [Attribute(Name('tarinfo', Load(), lineno=556, col_offset=25), 'type', Load(), lineno=556, col_offset=25), Attribute(Name('self', Load(), lineno=556, col_offset=39), 'longnametype', Load(), lineno=556, col_offset=39)], [], None, None, lineno=556, col_offset=8), lineno=556, col_offset=8)], [], lineno=548, col_offset=4)], [], lineno=520, col_offset=0), ClassDef('GNUReadTest', [Name('LongnameTest', Load(), lineno=559, col_offset=18)], [Assign([Name('subdir', Store(), lineno=561, col_offset=4)], Str('gnu', lineno=561, col_offset=13), lineno=561, col_offset=4), Assign([Name('longnametype', Store(), lineno=562, col_offset=4)], Attribute(Name('tarfile', Load(), lineno=562, col_offset=19), 'GNUTYPE_LONGNAME', Load(), lineno=562, col_offset=19), lineno=562, col_offset=4), FunctionDef('test_sparse_file', arguments([Name('self', Param(), lineno=564, col_offset=25)], None, None, []), [Assign([Name('tarinfo1', Store(), lineno=565, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=565, col_offset=19), 'tar', Load(), lineno=565, col_offset=19), 'getmember', Load(), lineno=565, col_offset=19), [Str('ustar/sparse', lineno=565, col_offset=38)], [], None, None, lineno=565, col_offset=19), lineno=565, col_offset=8), Assign([Name('fobj1', Store(), lineno=566, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=566, col_offset=16), 'tar', Load(), lineno=566, col_offset=16), 'extractfile', Load(), lineno=566, col_offset=16), [Name('tarinfo1', Load(), lineno=566, col_offset=37)], [], None, None, lineno=566, col_offset=16), lineno=566, col_offset=8), Assign([Name('tarinfo2', Store(), lineno=567, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=567, col_offset=19), 'tar', Load(), lineno=567, col_offset=19), 'getmember', Load(), lineno=567, col_offset=19), [Str('gnu/sparse', lineno=567, col_offset=38)], [], None, None, lineno=567, col_offset=19), lineno=567, col_offset=8), Assign([Name('fobj2', Store(), lineno=568, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=568, col_offset=16), 'tar', Load(), lineno=568, col_offset=16), 'extractfile', Load(), lineno=568, col_offset=16), [Name('tarinfo2', Load(), lineno=568, col_offset=37)], [], None, None, lineno=568, col_offset=16), lineno=568, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=569, col_offset=8), 'assertTrue', Load(), lineno=569, col_offset=8), [Compare(Call(Attribute(Name('fobj1', Load(), lineno=569, col_offset=24), 'read', Load(), lineno=569, col_offset=24), [], [], None, None, lineno=569, col_offset=24), [Eq()], [Call(Attribute(Name('fobj2', Load(), lineno=569, col_offset=40), 'read', Load(), lineno=569, col_offset=40), [], [], None, None, lineno=569, col_offset=40)], lineno=569, col_offset=24), Str('sparse file extraction failed', lineno=570, col_offset=16)], [], None, None, lineno=569, col_offset=8), lineno=569, col_offset=8)], [], lineno=564, col_offset=4)], [], lineno=559, col_offset=0), ClassDef('PaxReadTest', [Name('LongnameTest', Load(), lineno=573, col_offset=18)], [Assign([Name('subdir', Store(), lineno=575, col_offset=4)], Str('pax', lineno=575, col_offset=13), lineno=575, col_offset=4), Assign([Name('longnametype', Store(), lineno=576, col_offset=4)], Attribute(Name('tarfile', Load(), lineno=576, col_offset=19), 'XHDTYPE', Load(), lineno=576, col_offset=19), lineno=576, col_offset=4), FunctionDef('test_pax_global_headers', arguments([Name('self', Param(), lineno=578, col_offset=32)], None, None, []), [Assign([Name('tar', Store(), lineno=579, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=579, col_offset=14), 'open', Load(), lineno=579, col_offset=14), [Name('tarname', Load(), lineno=579, col_offset=27)], [keyword('encoding', Str('iso8859-1', lineno=579, col_offset=45))], None, None, lineno=579, col_offset=14), lineno=579, col_offset=8), Assign([Name('tarinfo', Store(), lineno=581, col_offset=8)], Call(Attribute(Name('tar', Load(), lineno=581, col_offset=18), 'getmember', Load(), lineno=581, col_offset=18), [Str('pax/regtype1', lineno=581, col_offset=32)], [], None, None, lineno=581, col_offset=18), lineno=581, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=582, col_offset=8), 'assertEqual', Load(), lineno=582, col_offset=8), [Attribute(Name('tarinfo', Load(), lineno=582, col_offset=25), 'uname', Load(), lineno=582, col_offset=25), Str('foo', lineno=582, col_offset=40)], [], None, None, lineno=582, col_offset=8), lineno=582, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=583, col_offset=8), 'assertEqual', Load(), lineno=583, col_offset=8), [Attribute(Name('tarinfo', Load(), lineno=583, col_offset=25), 'gname', Load(), lineno=583, col_offset=25), Str('bar', lineno=583, col_offset=40)], [], None, None, lineno=583, col_offset=8), lineno=583, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=584, col_offset=8), 'assertEqual', Load(), lineno=584, col_offset=8), [Call(Attribute(Attribute(Name('tarinfo', Load(), lineno=584, col_offset=25), 'pax_headers', Load(), lineno=584, col_offset=25), 'get', Load(), lineno=584, col_offset=25), [Str('VENDOR.umlauts', lineno=584, col_offset=49)], [], None, None, lineno=584, col_offset=25), Str(u'\xc4\xd6\xdc\xe4\xf6\xfc\xdf', lineno=584, col_offset=68)], [], None, None, lineno=584, col_offset=8), lineno=584, col_offset=8), Assign([Name('tarinfo', Store(), lineno=586, col_offset=8)], Call(Attribute(Name('tar', Load(), lineno=586, col_offset=18), 'getmember', Load(), lineno=586, col_offset=18), [Str('pax/regtype2', lineno=586, col_offset=32)], [], None, None, lineno=586, col_offset=18), lineno=586, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=587, col_offset=8), 'assertEqual', Load(), lineno=587, col_offset=8), [Attribute(Name('tarinfo', Load(), lineno=587, col_offset=25), 'uname', Load(), lineno=587, col_offset=25), Str('', lineno=587, col_offset=40)], [], None, None, lineno=587, col_offset=8), lineno=587, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=588, col_offset=8), 'assertEqual', Load(), lineno=588, col_offset=8), [Attribute(Name('tarinfo', Load(), lineno=588, col_offset=25), 'gname', Load(), lineno=588, col_offset=25), Str('bar', lineno=588, col_offset=40)], [], None, None, lineno=588, col_offset=8), lineno=588, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=589, col_offset=8), 'assertEqual', Load(), lineno=589, col_offset=8), [Call(Attribute(Attribute(Name('tarinfo', Load(), lineno=589, col_offset=25), 'pax_headers', Load(), lineno=589, col_offset=25), 'get', Load(), lineno=589, col_offset=25), [Str('VENDOR.umlauts', lineno=589, col_offset=49)], [], None, None, lineno=589, col_offset=25), Str(u'\xc4\xd6\xdc\xe4\xf6\xfc\xdf', lineno=589, col_offset=68)], [], None, None, lineno=589, col_offset=8), lineno=589, col_offset=8), Assign([Name('tarinfo', Store(), lineno=591, col_offset=8)], Call(Attribute(Name('tar', Load(), lineno=591, col_offset=18), 'getmember', Load(), lineno=591, col_offset=18), [Str('pax/regtype3', lineno=591, col_offset=32)], [], None, None, lineno=591, col_offset=18), lineno=591, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=592, col_offset=8), 'assertEqual', Load(), lineno=592, col_offset=8), [Attribute(Name('tarinfo', Load(), lineno=592, col_offset=25), 'uname', Load(), lineno=592, col_offset=25), Str('tarfile', lineno=592, col_offset=40)], [], None, None, lineno=592, col_offset=8), lineno=592, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=593, col_offset=8), 'assertEqual', Load(), lineno=593, col_offset=8), [Attribute(Name('tarinfo', Load(), lineno=593, col_offset=25), 'gname', Load(), lineno=593, col_offset=25), Str('tarfile', lineno=593, col_offset=40)], [], None, None, lineno=593, col_offset=8), lineno=593, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=594, col_offset=8), 'assertEqual', Load(), lineno=594, col_offset=8), [Call(Attribute(Attribute(Name('tarinfo', Load(), lineno=594, col_offset=25), 'pax_headers', Load(), lineno=594, col_offset=25), 'get', Load(), lineno=594, col_offset=25), [Str('VENDOR.umlauts', lineno=594, col_offset=49)], [], None, None, lineno=594, col_offset=25), Str(u'\xc4\xd6\xdc\xe4\xf6\xfc\xdf', lineno=594, col_offset=68)], [], None, None, lineno=594, col_offset=8), lineno=594, col_offset=8)], [], lineno=578, col_offset=4), FunctionDef('test_pax_number_fields', arguments([Name('self', Param(), lineno=596, col_offset=31)], None, None, []), [Assign([Name('tar', Store(), lineno=598, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=598, col_offset=14), 'open', Load(), lineno=598, col_offset=14), [Name('tarname', Load(), lineno=598, col_offset=27)], [keyword('encoding', Str('iso8859-1', lineno=598, col_offset=45))], None, None, lineno=598, col_offset=14), lineno=598, col_offset=8), Assign([Name('tarinfo', Store(), lineno=599, col_offset=8)], Call(Attribute(Name('tar', Load(), lineno=599, col_offset=18), 'getmember', Load(), lineno=599, col_offset=18), [Str('pax/regtype4', lineno=599, col_offset=32)], [], None, None, lineno=599, col_offset=18), lineno=599, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=600, col_offset=8), 'assertEqual', Load(), lineno=600, col_offset=8), [Attribute(Name('tarinfo', Load(), lineno=600, col_offset=25), 'size', Load(), lineno=600, col_offset=25), Num(7011, lineno=600, col_offset=39)], [], None, None, lineno=600, col_offset=8), lineno=600, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=601, col_offset=8), 'assertEqual', Load(), lineno=601, col_offset=8), [Attribute(Name('tarinfo', Load(), lineno=601, col_offset=25), 'uid', Load(), lineno=601, col_offset=25), Num(123, lineno=601, col_offset=38)], [], None, None, lineno=601, col_offset=8), lineno=601, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=602, col_offset=8), 'assertEqual', Load(), lineno=602, col_offset=8), [Attribute(Name('tarinfo', Load(), lineno=602, col_offset=25), 'gid', Load(), lineno=602, col_offset=25), Num(123, lineno=602, col_offset=38)], [], None, None, lineno=602, col_offset=8), lineno=602, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=603, col_offset=8), 'assertEqual', Load(), lineno=603, col_offset=8), [Attribute(Name('tarinfo', Load(), lineno=603, col_offset=25), 'mtime', Load(), lineno=603, col_offset=25), Num(1041808783.0, lineno=603, col_offset=40)], [], None, None, lineno=603, col_offset=8), lineno=603, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=604, col_offset=8), 'assertEqual', Load(), lineno=604, col_offset=8), [Call(Name('type', Load(), lineno=604, col_offset=25), [Attribute(Name('tarinfo', Load(), lineno=604, col_offset=30), 'mtime', Load(), lineno=604, col_offset=30)], [], None, None, lineno=604, col_offset=25), Name('float', Load(), lineno=604, col_offset=46)], [], None, None, lineno=604, col_offset=8), lineno=604, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=605, col_offset=8), 'assertEqual', Load(), lineno=605, col_offset=8), [Call(Name('float', Load(), lineno=605, col_offset=25), [Subscript(Attribute(Name('tarinfo', Load(), lineno=605, col_offset=31), 'pax_headers', Load(), lineno=605, col_offset=31), Index(Str('atime', lineno=605, col_offset=51)), Load(), lineno=605, col_offset=31)], [], None, None, lineno=605, col_offset=25), Num(1041808783.0, lineno=605, col_offset=62)], [], None, None, lineno=605, col_offset=8), lineno=605, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=606, col_offset=8), 'assertEqual', Load(), lineno=606, col_offset=8), [Call(Name('float', Load(), lineno=606, col_offset=25), [Subscript(Attribute(Name('tarinfo', Load(), lineno=606, col_offset=31), 'pax_headers', Load(), lineno=606, col_offset=31), Index(Str('ctime', lineno=606, col_offset=51)), Load(), lineno=606, col_offset=31)], [], None, None, lineno=606, col_offset=25), Num(1041808783.0, lineno=606, col_offset=62)], [], None, None, lineno=606, col_offset=8), lineno=606, col_offset=8)], [], lineno=596, col_offset=4)], [], lineno=573, col_offset=0), ClassDef('WriteTestBase', [Attribute(Name('unittest', Load(), lineno=609, col_offset=20), 'TestCase', Load(), lineno=609, col_offset=20)], [FunctionDef('test_fileobj_no_close', arguments([Name('self', Param(), lineno=613, col_offset=30)], None, None, []), [Assign([Name('fobj', Store(), lineno=614, col_offset=8)], Call(Attribute(Name('StringIO', Load(), lineno=614, col_offset=15), 'StringIO', Load(), lineno=614, col_offset=15), [], [], None, None, lineno=614, col_offset=15), lineno=614, col_offset=8), Assign([Name('tar', Store(), lineno=615, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=615, col_offset=14), 'open', Load(), lineno=615, col_offset=14), [], [keyword('fileobj', Name('fobj', Load(), lineno=615, col_offset=35)), keyword('mode', Attribute(Name('self', Load(), lineno=615, col_offset=46), 'mode', Load(), lineno=615, col_offset=46))], None, None, lineno=615, col_offset=14), lineno=615, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=616, col_offset=8), 'addfile', Load(), lineno=616, col_offset=8), [Call(Attribute(Name('tarfile', Load(), lineno=616, col_offset=20), 'TarInfo', Load(), lineno=616, col_offset=20), [Str('foo', lineno=616, col_offset=36)], [], None, None, lineno=616, col_offset=20)], [], None, None, lineno=616, col_offset=8), lineno=616, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=617, col_offset=8), 'close', Load(), lineno=617, col_offset=8), [], [], None, None, lineno=617, col_offset=8), lineno=617, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=618, col_offset=8), 'assertTrue', Load(), lineno=618, col_offset=8), [Compare(Attribute(Name('fobj', Load(), lineno=618, col_offset=24), 'closed', Load(), lineno=618, col_offset=24), [Is()], [Name('False', Load(), lineno=618, col_offset=39)], lineno=618, col_offset=24), Str('external fileobjs must never closed', lineno=618, col_offset=46)], [], None, None, lineno=618, col_offset=8), lineno=618, col_offset=8)], [], lineno=613, col_offset=4)], [], lineno=609, col_offset=0), ClassDef('WriteTest', [Name('WriteTestBase', Load(), lineno=621, col_offset=16)], [Assign([Name('mode', Store(), lineno=623, col_offset=4)], Str('w:', lineno=623, col_offset=11), lineno=623, col_offset=4), FunctionDef('test_100_char_name', arguments([Name('self', Param(), lineno=625, col_offset=27)], None, None, []), [Assign([Name('name', Store(), lineno=630, col_offset=8)], BinOp(Str('0123456789', lineno=630, col_offset=15), Mult(), Num(10, lineno=630, col_offset=30), lineno=630, col_offset=15), lineno=630, col_offset=8), Assign([Name('tar', Store(), lineno=631, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=631, col_offset=14), 'open', Load(), lineno=631, col_offset=14), [Name('tmpname', Load(), lineno=631, col_offset=27), Attribute(Name('self', Load(), lineno=631, col_offset=36), 'mode', Load(), lineno=631, col_offset=36)], [], None, None, lineno=631, col_offset=14), lineno=631, col_offset=8), Assign([Name('t', Store(), lineno=632, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=632, col_offset=12), 'TarInfo', Load(), lineno=632, col_offset=12), [Name('name', Load(), lineno=632, col_offset=28)], [], None, None, lineno=632, col_offset=12), lineno=632, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=633, col_offset=8), 'addfile', Load(), lineno=633, col_offset=8), [Name('t', Load(), lineno=633, col_offset=20)], [], None, None, lineno=633, col_offset=8), lineno=633, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=634, col_offset=8), 'close', Load(), lineno=634, col_offset=8), [], [], None, None, lineno=634, col_offset=8), lineno=634, col_offset=8), Assign([Name('tar', Store(), lineno=636, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=636, col_offset=14), 'open', Load(), lineno=636, col_offset=14), [Name('tmpname', Load(), lineno=636, col_offset=27)], [], None, None, lineno=636, col_offset=14), lineno=636, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=637, col_offset=8), 'assertTrue', Load(), lineno=637, col_offset=8), [Compare(Subscript(Call(Attribute(Name('tar', Load(), lineno=637, col_offset=24), 'getnames', Load(), lineno=637, col_offset=24), [], [], None, None, lineno=637, col_offset=24), Index(Num(0, lineno=637, col_offset=39)), Load(), lineno=637, col_offset=24), [Eq()], [Name('name', Load(), lineno=637, col_offset=45)], lineno=637, col_offset=24), Str('failed to store 100 char filename', lineno=638, col_offset=16)], [], None, None, lineno=637, col_offset=8), lineno=637, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=639, col_offset=8), 'close', Load(), lineno=639, col_offset=8), [], [], None, None, lineno=639, col_offset=8), lineno=639, col_offset=8)], [], lineno=625, col_offset=4), FunctionDef('test_tar_size', arguments([Name('self', Param(), lineno=641, col_offset=22)], None, None, []), [Assign([Name('tar', Store(), lineno=643, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=643, col_offset=14), 'open', Load(), lineno=643, col_offset=14), [Name('tmpname', Load(), lineno=643, col_offset=27), Attribute(Name('self', Load(), lineno=643, col_offset=36), 'mode', Load(), lineno=643, col_offset=36)], [], None, None, lineno=643, col_offset=14), lineno=643, col_offset=8), Assign([Name('path', Store(), lineno=644, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=644, col_offset=15), 'path', Load(), lineno=644, col_offset=15), 'join', Load(), lineno=644, col_offset=15), [Name('TEMPDIR', Load(), lineno=644, col_offset=28), Str('file', lineno=644, col_offset=37)], [], None, None, lineno=644, col_offset=15), lineno=644, col_offset=8), Assign([Name('fobj', Store(), lineno=645, col_offset=8)], Call(Name('open', Load(), lineno=645, col_offset=15), [Name('path', Load(), lineno=645, col_offset=20), Str('wb', lineno=645, col_offset=26)], [], None, None, lineno=645, col_offset=15), lineno=645, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=646, col_offset=8), 'write', Load(), lineno=646, col_offset=8), [Str('aaa', lineno=646, col_offset=19)], [], None, None, lineno=646, col_offset=8), lineno=646, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=647, col_offset=8), 'close', Load(), lineno=647, col_offset=8), [], [], None, None, lineno=647, col_offset=8), lineno=647, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=648, col_offset=8), 'add', Load(), lineno=648, col_offset=8), [Name('path', Load(), lineno=648, col_offset=16)], [], None, None, lineno=648, col_offset=8), lineno=648, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=649, col_offset=8), 'close', Load(), lineno=649, col_offset=8), [], [], None, None, lineno=649, col_offset=8), lineno=649, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=650, col_offset=8), 'assertTrue', Load(), lineno=650, col_offset=8), [Compare(Call(Attribute(Attribute(Name('os', Load(), lineno=650, col_offset=24), 'path', Load(), lineno=650, col_offset=24), 'getsize', Load(), lineno=650, col_offset=24), [Name('tmpname', Load(), lineno=650, col_offset=40)], [], None, None, lineno=650, col_offset=24), [Gt()], [Num(0, lineno=650, col_offset=51)], lineno=650, col_offset=24), Str('tarfile is empty', lineno=651, col_offset=16)], [], None, None, lineno=650, col_offset=8), lineno=650, col_offset=8)], [], lineno=641, col_offset=4), FunctionDef('test_file_size', arguments([Name('self', Param(), lineno=654, col_offset=23)], None, None, []), [Assign([Name('tar', Store(), lineno=655, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=655, col_offset=14), 'open', Load(), lineno=655, col_offset=14), [Name('tmpname', Load(), lineno=655, col_offset=27), Attribute(Name('self', Load(), lineno=655, col_offset=36), 'mode', Load(), lineno=655, col_offset=36)], [], None, None, lineno=655, col_offset=14), lineno=655, col_offset=8), Assign([Name('path', Store(), lineno=657, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=657, col_offset=15), 'path', Load(), lineno=657, col_offset=15), 'join', Load(), lineno=657, col_offset=15), [Name('TEMPDIR', Load(), lineno=657, col_offset=28), Str('file', lineno=657, col_offset=37)], [], None, None, lineno=657, col_offset=15), lineno=657, col_offset=8), Assign([Name('fobj', Store(), lineno=658, col_offset=8)], Call(Name('open', Load(), lineno=658, col_offset=15), [Name('path', Load(), lineno=658, col_offset=20), Str('wb', lineno=658, col_offset=26)], [], None, None, lineno=658, col_offset=15), lineno=658, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=659, col_offset=8), 'close', Load(), lineno=659, col_offset=8), [], [], None, None, lineno=659, col_offset=8), lineno=659, col_offset=8), Assign([Name('tarinfo', Store(), lineno=660, col_offset=8)], Call(Attribute(Name('tar', Load(), lineno=660, col_offset=18), 'gettarinfo', Load(), lineno=660, col_offset=18), [Name('path', Load(), lineno=660, col_offset=33)], [], None, None, lineno=660, col_offset=18), lineno=660, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=661, col_offset=8), 'assertEqual', Load(), lineno=661, col_offset=8), [Attribute(Name('tarinfo', Load(), lineno=661, col_offset=25), 'size', Load(), lineno=661, col_offset=25), Num(0, lineno=661, col_offset=39)], [], None, None, lineno=661, col_offset=8), lineno=661, col_offset=8), Assign([Name('fobj', Store(), lineno=663, col_offset=8)], Call(Name('open', Load(), lineno=663, col_offset=15), [Name('path', Load(), lineno=663, col_offset=20), Str('wb', lineno=663, col_offset=26)], [], None, None, lineno=663, col_offset=15), lineno=663, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=664, col_offset=8), 'write', Load(), lineno=664, col_offset=8), [Str('aaa', lineno=664, col_offset=19)], [], None, None, lineno=664, col_offset=8), lineno=664, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=665, col_offset=8), 'close', Load(), lineno=665, col_offset=8), [], [], None, None, lineno=665, col_offset=8), lineno=665, col_offset=8), Assign([Name('tarinfo', Store(), lineno=666, col_offset=8)], Call(Attribute(Name('tar', Load(), lineno=666, col_offset=18), 'gettarinfo', Load(), lineno=666, col_offset=18), [Name('path', Load(), lineno=666, col_offset=33)], [], None, None, lineno=666, col_offset=18), lineno=666, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=667, col_offset=8), 'assertEqual', Load(), lineno=667, col_offset=8), [Attribute(Name('tarinfo', Load(), lineno=667, col_offset=25), 'size', Load(), lineno=667, col_offset=25), Num(3, lineno=667, col_offset=39)], [], None, None, lineno=667, col_offset=8), lineno=667, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=669, col_offset=8), 'close', Load(), lineno=669, col_offset=8), [], [], None, None, lineno=669, col_offset=8), lineno=669, col_offset=8)], [], lineno=654, col_offset=4), FunctionDef('test_directory_size', arguments([Name('self', Param(), lineno=671, col_offset=28)], None, None, []), [Assign([Name('path', Store(), lineno=672, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=672, col_offset=15), 'path', Load(), lineno=672, col_offset=15), 'join', Load(), lineno=672, col_offset=15), [Name('TEMPDIR', Load(), lineno=672, col_offset=28), Str('directory', lineno=672, col_offset=37)], [], None, None, lineno=672, col_offset=15), lineno=672, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=673, col_offset=8), 'mkdir', Load(), lineno=673, col_offset=8), [Name('path', Load(), lineno=673, col_offset=17)], [], None, None, lineno=673, col_offset=8), lineno=673, col_offset=8), TryFinally([Assign([Name('tar', Store(), lineno=675, col_offset=12)], Call(Attribute(Name('tarfile', Load(), lineno=675, col_offset=18), 'open', Load(), lineno=675, col_offset=18), [Name('tmpname', Load(), lineno=675, col_offset=31), Attribute(Name('self', Load(), lineno=675, col_offset=40), 'mode', Load(), lineno=675, col_offset=40)], [], None, None, lineno=675, col_offset=18), lineno=675, col_offset=12), Assign([Name('tarinfo', Store(), lineno=676, col_offset=12)], Call(Attribute(Name('tar', Load(), lineno=676, col_offset=22), 'gettarinfo', Load(), lineno=676, col_offset=22), [Name('path', Load(), lineno=676, col_offset=37)], [], None, None, lineno=676, col_offset=22), lineno=676, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=677, col_offset=12), 'assertEqual', Load(), lineno=677, col_offset=12), [Attribute(Name('tarinfo', Load(), lineno=677, col_offset=29), 'size', Load(), lineno=677, col_offset=29), Num(0, lineno=677, col_offset=43)], [], None, None, lineno=677, col_offset=12), lineno=677, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=679, col_offset=12), 'rmdir', Load(), lineno=679, col_offset=12), [Name('path', Load(), lineno=679, col_offset=21)], [], None, None, lineno=679, col_offset=12), lineno=679, col_offset=12)], lineno=674, col_offset=8)], [], lineno=671, col_offset=4), FunctionDef('test_link_size', arguments([Name('self', Param(), lineno=681, col_offset=23)], None, None, []), [If(Call(Name('hasattr', Load(), lineno=682, col_offset=11), [Name('os', Load(), lineno=682, col_offset=19), Str('link', lineno=682, col_offset=23)], [], None, None, lineno=682, col_offset=11), [Assign([Name('link', Store(), lineno=683, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=683, col_offset=19), 'path', Load(), lineno=683, col_offset=19), 'join', Load(), lineno=683, col_offset=19), [Name('TEMPDIR', Load(), lineno=683, col_offset=32), Str('link', lineno=683, col_offset=41)], [], None, None, lineno=683, col_offset=19), lineno=683, col_offset=12), Assign([Name('target', Store(), lineno=684, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=684, col_offset=21), 'path', Load(), lineno=684, col_offset=21), 'join', Load(), lineno=684, col_offset=21), [Name('TEMPDIR', Load(), lineno=684, col_offset=34), Str('link_target', lineno=684, col_offset=43)], [], None, None, lineno=684, col_offset=21), lineno=684, col_offset=12), Assign([Name('fobj', Store(), lineno=685, col_offset=12)], Call(Name('open', Load(), lineno=685, col_offset=19), [Name('target', Load(), lineno=685, col_offset=24), Str('wb', lineno=685, col_offset=32)], [], None, None, lineno=685, col_offset=19), lineno=685, col_offset=12), Expr(Call(Attribute(Name('fobj', Load(), lineno=686, col_offset=12), 'write', Load(), lineno=686, col_offset=12), [Str('aaa', lineno=686, col_offset=23)], [], None, None, lineno=686, col_offset=12), lineno=686, col_offset=12), Expr(Call(Attribute(Name('fobj', Load(), lineno=687, col_offset=12), 'close', Load(), lineno=687, col_offset=12), [], [], None, None, lineno=687, col_offset=12), lineno=687, col_offset=12), Expr(Call(Attribute(Name('os', Load(), lineno=688, col_offset=12), 'link', Load(), lineno=688, col_offset=12), [Name('target', Load(), lineno=688, col_offset=20), Name('link', Load(), lineno=688, col_offset=28)], [], None, None, lineno=688, col_offset=12), lineno=688, col_offset=12), TryFinally([Assign([Name('tar', Store(), lineno=690, col_offset=16)], Call(Attribute(Name('tarfile', Load(), lineno=690, col_offset=22), 'open', Load(), lineno=690, col_offset=22), [Name('tmpname', Load(), lineno=690, col_offset=35), Attribute(Name('self', Load(), lineno=690, col_offset=44), 'mode', Load(), lineno=690, col_offset=44)], [], None, None, lineno=690, col_offset=22), lineno=690, col_offset=16), Expr(Call(Attribute(Name('tar', Load(), lineno=692, col_offset=16), 'gettarinfo', Load(), lineno=692, col_offset=16), [Name('target', Load(), lineno=692, col_offset=31)], [], None, None, lineno=692, col_offset=16), lineno=692, col_offset=16), Assign([Name('tarinfo', Store(), lineno=693, col_offset=16)], Call(Attribute(Name('tar', Load(), lineno=693, col_offset=26), 'gettarinfo', Load(), lineno=693, col_offset=26), [Name('link', Load(), lineno=693, col_offset=41)], [], None, None, lineno=693, col_offset=26), lineno=693, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=694, col_offset=16), 'assertEqual', Load(), lineno=694, col_offset=16), [Attribute(Name('tarinfo', Load(), lineno=694, col_offset=33), 'size', Load(), lineno=694, col_offset=33), Num(0, lineno=694, col_offset=47)], [], None, None, lineno=694, col_offset=16), lineno=694, col_offset=16)], [Expr(Call(Attribute(Name('os', Load(), lineno=696, col_offset=16), 'remove', Load(), lineno=696, col_offset=16), [Name('target', Load(), lineno=696, col_offset=26)], [], None, None, lineno=696, col_offset=16), lineno=696, col_offset=16), Expr(Call(Attribute(Name('os', Load(), lineno=697, col_offset=16), 'remove', Load(), lineno=697, col_offset=16), [Name('link', Load(), lineno=697, col_offset=26)], [], None, None, lineno=697, col_offset=16), lineno=697, col_offset=16)], lineno=689, col_offset=12)], [], lineno=682, col_offset=8)], [], lineno=681, col_offset=4), FunctionDef('test_symlink_size', arguments([Name('self', Param(), lineno=699, col_offset=26)], None, None, []), [If(Call(Name('hasattr', Load(), lineno=700, col_offset=11), [Name('os', Load(), lineno=700, col_offset=19), Str('symlink', lineno=700, col_offset=23)], [], None, None, lineno=700, col_offset=11), [Assign([Name('path', Store(), lineno=701, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=701, col_offset=19), 'path', Load(), lineno=701, col_offset=19), 'join', Load(), lineno=701, col_offset=19), [Name('TEMPDIR', Load(), lineno=701, col_offset=32), Str('symlink', lineno=701, col_offset=41)], [], None, None, lineno=701, col_offset=19), lineno=701, col_offset=12), Expr(Call(Attribute(Name('os', Load(), lineno=702, col_offset=12), 'symlink', Load(), lineno=702, col_offset=12), [Str('link_target', lineno=702, col_offset=23), Name('path', Load(), lineno=702, col_offset=38)], [], None, None, lineno=702, col_offset=12), lineno=702, col_offset=12), TryFinally([Assign([Name('tar', Store(), lineno=704, col_offset=16)], Call(Attribute(Name('tarfile', Load(), lineno=704, col_offset=22), 'open', Load(), lineno=704, col_offset=22), [Name('tmpname', Load(), lineno=704, col_offset=35), Attribute(Name('self', Load(), lineno=704, col_offset=44), 'mode', Load(), lineno=704, col_offset=44)], [], None, None, lineno=704, col_offset=22), lineno=704, col_offset=16), Assign([Name('tarinfo', Store(), lineno=705, col_offset=16)], Call(Attribute(Name('tar', Load(), lineno=705, col_offset=26), 'gettarinfo', Load(), lineno=705, col_offset=26), [Name('path', Load(), lineno=705, col_offset=41)], [], None, None, lineno=705, col_offset=26), lineno=705, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=706, col_offset=16), 'assertEqual', Load(), lineno=706, col_offset=16), [Attribute(Name('tarinfo', Load(), lineno=706, col_offset=33), 'size', Load(), lineno=706, col_offset=33), Num(0, lineno=706, col_offset=47)], [], None, None, lineno=706, col_offset=16), lineno=706, col_offset=16)], [Expr(Call(Attribute(Name('os', Load(), lineno=708, col_offset=16), 'remove', Load(), lineno=708, col_offset=16), [Name('path', Load(), lineno=708, col_offset=26)], [], None, None, lineno=708, col_offset=16), lineno=708, col_offset=16)], lineno=703, col_offset=12)], [], lineno=700, col_offset=8)], [], lineno=699, col_offset=4), FunctionDef('test_add_self', arguments([Name('self', Param(), lineno=710, col_offset=22)], None, None, []), [Assign([Name('dstname', Store(), lineno=712, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=712, col_offset=18), 'path', Load(), lineno=712, col_offset=18), 'abspath', Load(), lineno=712, col_offset=18), [Name('tmpname', Load(), lineno=712, col_offset=34)], [], None, None, lineno=712, col_offset=18), lineno=712, col_offset=8), Assign([Name('tar', Store(), lineno=714, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=714, col_offset=14), 'open', Load(), lineno=714, col_offset=14), [Name('tmpname', Load(), lineno=714, col_offset=27), Attribute(Name('self', Load(), lineno=714, col_offset=36), 'mode', Load(), lineno=714, col_offset=36)], [], None, None, lineno=714, col_offset=14), lineno=714, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=715, col_offset=8), 'assertTrue', Load(), lineno=715, col_offset=8), [Compare(Attribute(Name('tar', Load(), lineno=715, col_offset=24), 'name', Load(), lineno=715, col_offset=24), [Eq()], [Name('dstname', Load(), lineno=715, col_offset=36)], lineno=715, col_offset=24), Str('archive name must be absolute', lineno=715, col_offset=45)], [], None, None, lineno=715, col_offset=8), lineno=715, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=717, col_offset=8), 'add', Load(), lineno=717, col_offset=8), [Name('dstname', Load(), lineno=717, col_offset=16)], [], None, None, lineno=717, col_offset=8), lineno=717, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=718, col_offset=8), 'assertTrue', Load(), lineno=718, col_offset=8), [Compare(Call(Attribute(Name('tar', Load(), lineno=718, col_offset=24), 'getnames', Load(), lineno=718, col_offset=24), [], [], None, None, lineno=718, col_offset=24), [Eq()], [List([], Load(), lineno=718, col_offset=42)], lineno=718, col_offset=24), Str('added the archive to itself', lineno=718, col_offset=46)], [], None, None, lineno=718, col_offset=8), lineno=718, col_offset=8), Assign([Name('cwd', Store(), lineno=720, col_offset=8)], Call(Attribute(Name('os', Load(), lineno=720, col_offset=14), 'getcwd', Load(), lineno=720, col_offset=14), [], [], None, None, lineno=720, col_offset=14), lineno=720, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=721, col_offset=8), 'chdir', Load(), lineno=721, col_offset=8), [Name('TEMPDIR', Load(), lineno=721, col_offset=17)], [], None, None, lineno=721, col_offset=8), lineno=721, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=722, col_offset=8), 'add', Load(), lineno=722, col_offset=8), [Name('dstname', Load(), lineno=722, col_offset=16)], [], None, None, lineno=722, col_offset=8), lineno=722, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=723, col_offset=8), 'chdir', Load(), lineno=723, col_offset=8), [Name('cwd', Load(), lineno=723, col_offset=17)], [], None, None, lineno=723, col_offset=8), lineno=723, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=724, col_offset=8), 'assertTrue', Load(), lineno=724, col_offset=8), [Compare(Call(Attribute(Name('tar', Load(), lineno=724, col_offset=24), 'getnames', Load(), lineno=724, col_offset=24), [], [], None, None, lineno=724, col_offset=24), [Eq()], [List([], Load(), lineno=724, col_offset=42)], lineno=724, col_offset=24), Str('added the archive to itself', lineno=724, col_offset=46)], [], None, None, lineno=724, col_offset=8), lineno=724, col_offset=8)], [], lineno=710, col_offset=4), FunctionDef('test_exclude', arguments([Name('self', Param(), lineno=726, col_offset=21)], None, None, []), [Assign([Name('tempdir', Store(), lineno=727, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=727, col_offset=18), 'path', Load(), lineno=727, col_offset=18), 'join', Load(), lineno=727, col_offset=18), [Name('TEMPDIR', Load(), lineno=727, col_offset=31), Str('exclude', lineno=727, col_offset=40)], [], None, None, lineno=727, col_offset=18), lineno=727, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=728, col_offset=8), 'mkdir', Load(), lineno=728, col_offset=8), [Name('tempdir', Load(), lineno=728, col_offset=17)], [], None, None, lineno=728, col_offset=8), lineno=728, col_offset=8), TryFinally([For(Name('name', Store(), lineno=730, col_offset=16), Tuple([Str('foo', lineno=730, col_offset=25), Str('bar', lineno=730, col_offset=32), Str('baz', lineno=730, col_offset=39)], Load(), lineno=730, col_offset=25), [Assign([Name('name', Store(), lineno=731, col_offset=16)], Call(Attribute(Attribute(Name('os', Load(), lineno=731, col_offset=23), 'path', Load(), lineno=731, col_offset=23), 'join', Load(), lineno=731, col_offset=23), [Name('tempdir', Load(), lineno=731, col_offset=36), Name('name', Load(), lineno=731, col_offset=45)], [], None, None, lineno=731, col_offset=23), lineno=731, col_offset=16), Expr(Call(Attribute(Call(Name('open', Load(), lineno=732, col_offset=16), [Name('name', Load(), lineno=732, col_offset=21), Str('wb', lineno=732, col_offset=27)], [], None, None, lineno=732, col_offset=16), 'close', Load(), lineno=732, col_offset=16), [], [], None, None, lineno=732, col_offset=16), lineno=732, col_offset=16)], [], lineno=730, col_offset=12), Assign([Name('exclude', Store(), lineno=734, col_offset=12)], Attribute(Attribute(Name('os', Load(), lineno=734, col_offset=22), 'path', Load(), lineno=734, col_offset=22), 'isfile', Load(), lineno=734, col_offset=22), lineno=734, col_offset=12), Assign([Name('tar', Store(), lineno=736, col_offset=12)], Call(Attribute(Name('tarfile', Load(), lineno=736, col_offset=18), 'open', Load(), lineno=736, col_offset=18), [Name('tmpname', Load(), lineno=736, col_offset=31), Attribute(Name('self', Load(), lineno=736, col_offset=40), 'mode', Load(), lineno=736, col_offset=40)], [keyword('encoding', Str('iso8859-1', lineno=736, col_offset=60))], None, None, lineno=736, col_offset=18), lineno=736, col_offset=12), With(Call(Attribute(Name('test_support', Load(), lineno=737, col_offset=17), 'check_warnings', Load(), lineno=737, col_offset=17), [Tuple([Str('use the filter argument', lineno=737, col_offset=46), Name('DeprecationWarning', Load(), lineno=738, col_offset=46)], Load(), lineno=737, col_offset=46)], [], None, None, lineno=737, col_offset=17), None, [Expr(Call(Attribute(Name('tar', Load(), lineno=739, col_offset=16), 'add', Load(), lineno=739, col_offset=16), [Name('tempdir', Load(), lineno=739, col_offset=24)], [keyword('arcname', Str('empty_dir', lineno=739, col_offset=41)), keyword('exclude', Name('exclude', Load(), lineno=739, col_offset=62))], None, None, lineno=739, col_offset=16), lineno=739, col_offset=16)], lineno=737, col_offset=17), Expr(Call(Attribute(Name('tar', Load(), lineno=740, col_offset=12), 'close', Load(), lineno=740, col_offset=12), [], [], None, None, lineno=740, col_offset=12), lineno=740, col_offset=12), Assign([Name('tar', Store(), lineno=742, col_offset=12)], Call(Attribute(Name('tarfile', Load(), lineno=742, col_offset=18), 'open', Load(), lineno=742, col_offset=18), [Name('tmpname', Load(), lineno=742, col_offset=31), Str('r', lineno=742, col_offset=40)], [], None, None, lineno=742, col_offset=18), lineno=742, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=743, col_offset=12), 'assertEqual', Load(), lineno=743, col_offset=12), [Call(Name('len', Load(), lineno=743, col_offset=29), [Call(Attribute(Name('tar', Load(), lineno=743, col_offset=33), 'getmembers', Load(), lineno=743, col_offset=33), [], [], None, None, lineno=743, col_offset=33)], [], None, None, lineno=743, col_offset=29), Num(1, lineno=743, col_offset=52)], [], None, None, lineno=743, col_offset=12), lineno=743, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=744, col_offset=12), 'assertEqual', Load(), lineno=744, col_offset=12), [Subscript(Call(Attribute(Name('tar', Load(), lineno=744, col_offset=29), 'getnames', Load(), lineno=744, col_offset=29), [], [], None, None, lineno=744, col_offset=29), Index(Num(0, lineno=744, col_offset=44)), Load(), lineno=744, col_offset=29), Str('empty_dir', lineno=744, col_offset=48)], [], None, None, lineno=744, col_offset=12), lineno=744, col_offset=12)], [Expr(Call(Attribute(Name('shutil', Load(), lineno=746, col_offset=12), 'rmtree', Load(), lineno=746, col_offset=12), [Name('tempdir', Load(), lineno=746, col_offset=26)], [], None, None, lineno=746, col_offset=12), lineno=746, col_offset=12)], lineno=729, col_offset=8)], [], lineno=726, col_offset=4), FunctionDef('test_filter', arguments([Name('self', Param(), lineno=748, col_offset=20)], None, None, []), [Assign([Name('tempdir', Store(), lineno=749, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=749, col_offset=18), 'path', Load(), lineno=749, col_offset=18), 'join', Load(), lineno=749, col_offset=18), [Name('TEMPDIR', Load(), lineno=749, col_offset=31), Str('filter', lineno=749, col_offset=40)], [], None, None, lineno=749, col_offset=18), lineno=749, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=750, col_offset=8), 'mkdir', Load(), lineno=750, col_offset=8), [Name('tempdir', Load(), lineno=750, col_offset=17)], [], None, None, lineno=750, col_offset=8), lineno=750, col_offset=8), TryFinally([For(Name('name', Store(), lineno=752, col_offset=16), Tuple([Str('foo', lineno=752, col_offset=25), Str('bar', lineno=752, col_offset=32), Str('baz', lineno=752, col_offset=39)], Load(), lineno=752, col_offset=25), [Assign([Name('name', Store(), lineno=753, col_offset=16)], Call(Attribute(Attribute(Name('os', Load(), lineno=753, col_offset=23), 'path', Load(), lineno=753, col_offset=23), 'join', Load(), lineno=753, col_offset=23), [Name('tempdir', Load(), lineno=753, col_offset=36), Name('name', Load(), lineno=753, col_offset=45)], [], None, None, lineno=753, col_offset=23), lineno=753, col_offset=16), Expr(Call(Attribute(Call(Name('open', Load(), lineno=754, col_offset=16), [Name('name', Load(), lineno=754, col_offset=21), Str('wb', lineno=754, col_offset=27)], [], None, None, lineno=754, col_offset=16), 'close', Load(), lineno=754, col_offset=16), [], [], None, None, lineno=754, col_offset=16), lineno=754, col_offset=16)], [], lineno=752, col_offset=12), FunctionDef('filter', arguments([Name('tarinfo', Param(), lineno=756, col_offset=23)], None, None, []), [If(Compare(Call(Attribute(Attribute(Name('os', Load(), lineno=757, col_offset=19), 'path', Load(), lineno=757, col_offset=19), 'basename', Load(), lineno=757, col_offset=19), [Attribute(Name('tarinfo', Load(), lineno=757, col_offset=36), 'name', Load(), lineno=757, col_offset=36)], [], None, None, lineno=757, col_offset=19), [Eq()], [Str('bar', lineno=757, col_offset=53)], lineno=757, col_offset=19), [Return(None, lineno=758, col_offset=20)], [], lineno=757, col_offset=16), Assign([Attribute(Name('tarinfo', Load(), lineno=759, col_offset=16), 'uid', Store(), lineno=759, col_offset=16)], Num(123, lineno=759, col_offset=30), lineno=759, col_offset=16), Assign([Attribute(Name('tarinfo', Load(), lineno=760, col_offset=16), 'uname', Store(), lineno=760, col_offset=16)], Str('foo', lineno=760, col_offset=32), lineno=760, col_offset=16), Return(Name('tarinfo', Load(), lineno=761, col_offset=23), lineno=761, col_offset=16)], [], lineno=756, col_offset=12), Assign([Name('tar', Store(), lineno=763, col_offset=12)], Call(Attribute(Name('tarfile', Load(), lineno=763, col_offset=18), 'open', Load(), lineno=763, col_offset=18), [Name('tmpname', Load(), lineno=763, col_offset=31), Attribute(Name('self', Load(), lineno=763, col_offset=40), 'mode', Load(), lineno=763, col_offset=40)], [keyword('encoding', Str('iso8859-1', lineno=763, col_offset=60))], None, None, lineno=763, col_offset=18), lineno=763, col_offset=12), Expr(Call(Attribute(Name('tar', Load(), lineno=764, col_offset=12), 'add', Load(), lineno=764, col_offset=12), [Name('tempdir', Load(), lineno=764, col_offset=20)], [keyword('arcname', Str('empty_dir', lineno=764, col_offset=37)), keyword('filter', Name('filter', Load(), lineno=764, col_offset=57))], None, None, lineno=764, col_offset=12), lineno=764, col_offset=12), Expr(Call(Attribute(Name('tar', Load(), lineno=765, col_offset=12), 'close', Load(), lineno=765, col_offset=12), [], [], None, None, lineno=765, col_offset=12), lineno=765, col_offset=12), Assign([Name('tar', Store(), lineno=767, col_offset=12)], Call(Attribute(Name('tarfile', Load(), lineno=767, col_offset=18), 'open', Load(), lineno=767, col_offset=18), [Name('tmpname', Load(), lineno=767, col_offset=31), Str('r', lineno=767, col_offset=40)], [], None, None, lineno=767, col_offset=18), lineno=767, col_offset=12), For(Name('tarinfo', Store(), lineno=768, col_offset=16), Name('tar', Load(), lineno=768, col_offset=27), [Expr(Call(Attribute(Name('self', Load(), lineno=769, col_offset=16), 'assertEqual', Load(), lineno=769, col_offset=16), [Attribute(Name('tarinfo', Load(), lineno=769, col_offset=33), 'uid', Load(), lineno=769, col_offset=33), Num(123, lineno=769, col_offset=46)], [], None, None, lineno=769, col_offset=16), lineno=769, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=770, col_offset=16), 'assertEqual', Load(), lineno=770, col_offset=16), [Attribute(Name('tarinfo', Load(), lineno=770, col_offset=33), 'uname', Load(), lineno=770, col_offset=33), Str('foo', lineno=770, col_offset=48)], [], None, None, lineno=770, col_offset=16), lineno=770, col_offset=16)], [], lineno=768, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=771, col_offset=12), 'assertEqual', Load(), lineno=771, col_offset=12), [Call(Name('len', Load(), lineno=771, col_offset=29), [Call(Attribute(Name('tar', Load(), lineno=771, col_offset=33), 'getmembers', Load(), lineno=771, col_offset=33), [], [], None, None, lineno=771, col_offset=33)], [], None, None, lineno=771, col_offset=29), Num(3, lineno=771, col_offset=52)], [], None, None, lineno=771, col_offset=12), lineno=771, col_offset=12), Expr(Call(Attribute(Name('tar', Load(), lineno=772, col_offset=12), 'close', Load(), lineno=772, col_offset=12), [], [], None, None, lineno=772, col_offset=12), lineno=772, col_offset=12)], [Expr(Call(Attribute(Name('shutil', Load(), lineno=774, col_offset=12), 'rmtree', Load(), lineno=774, col_offset=12), [Name('tempdir', Load(), lineno=774, col_offset=26)], [], None, None, lineno=774, col_offset=12), lineno=774, col_offset=12)], lineno=751, col_offset=8)], [], lineno=748, col_offset=4), FunctionDef('_test_pathname', arguments([Name('self', Param(), lineno=780, col_offset=23), Name('path', Param(), lineno=780, col_offset=29), Name('cmp_path', Param(), lineno=780, col_offset=35), Name('dir', Param(), lineno=780, col_offset=50)], None, None, [Name('None', Load(), lineno=780, col_offset=44), Name('False', Load(), lineno=780, col_offset=54)]), [Assign([Name('foo', Store(), lineno=783, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=783, col_offset=14), 'path', Load(), lineno=783, col_offset=14), 'join', Load(), lineno=783, col_offset=14), [Name('TEMPDIR', Load(), lineno=783, col_offset=27), Str('foo', lineno=783, col_offset=36)], [], None, None, lineno=783, col_offset=14), lineno=783, col_offset=8), If(UnaryOp(Not(), Name('dir', Load(), lineno=784, col_offset=15), lineno=784, col_offset=11), [Expr(Call(Attribute(Call(Name('open', Load(), lineno=785, col_offset=12), [Name('foo', Load(), lineno=785, col_offset=17), Str('w', lineno=785, col_offset=22)], [], None, None, lineno=785, col_offset=12), 'close', Load(), lineno=785, col_offset=12), [], [], None, None, lineno=785, col_offset=12), lineno=785, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=787, col_offset=12), 'mkdir', Load(), lineno=787, col_offset=12), [Name('foo', Load(), lineno=787, col_offset=21)], [], None, None, lineno=787, col_offset=12), lineno=787, col_offset=12)], lineno=784, col_offset=8), Assign([Name('tar', Store(), lineno=789, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=789, col_offset=14), 'open', Load(), lineno=789, col_offset=14), [Name('tmpname', Load(), lineno=789, col_offset=27), Attribute(Name('self', Load(), lineno=789, col_offset=36), 'mode', Load(), lineno=789, col_offset=36)], [], None, None, lineno=789, col_offset=14), lineno=789, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=790, col_offset=8), 'add', Load(), lineno=790, col_offset=8), [Name('foo', Load(), lineno=790, col_offset=16)], [keyword('arcname', Name('path', Load(), lineno=790, col_offset=29))], None, None, lineno=790, col_offset=8), lineno=790, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=791, col_offset=8), 'close', Load(), lineno=791, col_offset=8), [], [], None, None, lineno=791, col_offset=8), lineno=791, col_offset=8), Assign([Name('tar', Store(), lineno=793, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=793, col_offset=14), 'open', Load(), lineno=793, col_offset=14), [Name('tmpname', Load(), lineno=793, col_offset=27), Str('r', lineno=793, col_offset=36)], [], None, None, lineno=793, col_offset=14), lineno=793, col_offset=8), Assign([Name('t', Store(), lineno=794, col_offset=8)], Call(Attribute(Name('tar', Load(), lineno=794, col_offset=12), 'next', Load(), lineno=794, col_offset=12), [], [], None, None, lineno=794, col_offset=12), lineno=794, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=795, col_offset=8), 'close', Load(), lineno=795, col_offset=8), [], [], None, None, lineno=795, col_offset=8), lineno=795, col_offset=8), If(UnaryOp(Not(), Name('dir', Load(), lineno=797, col_offset=15), lineno=797, col_offset=11), [Expr(Call(Attribute(Name('os', Load(), lineno=798, col_offset=12), 'remove', Load(), lineno=798, col_offset=12), [Name('foo', Load(), lineno=798, col_offset=22)], [], None, None, lineno=798, col_offset=12), lineno=798, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=800, col_offset=12), 'rmdir', Load(), lineno=800, col_offset=12), [Name('foo', Load(), lineno=800, col_offset=21)], [], None, None, lineno=800, col_offset=12), lineno=800, col_offset=12)], lineno=797, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=802, col_offset=8), 'assertEqual', Load(), lineno=802, col_offset=8), [Attribute(Name('t', Load(), lineno=802, col_offset=25), 'name', Load(), lineno=802, col_offset=25), BoolOp(Or(), [Name('cmp_path', Load(), lineno=802, col_offset=33), Call(Attribute(Name('path', Load(), lineno=802, col_offset=45), 'replace', Load(), lineno=802, col_offset=45), [Attribute(Name('os', Load(), lineno=802, col_offset=58), 'sep', Load(), lineno=802, col_offset=58), Str('/', lineno=802, col_offset=66)], [], None, None, lineno=802, col_offset=45)], lineno=802, col_offset=33)], [], None, None, lineno=802, col_offset=8), lineno=802, col_offset=8)], [], lineno=780, col_offset=4), FunctionDef('test_pathnames', arguments([Name('self', Param(), lineno=804, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=805, col_offset=8), '_test_pathname', Load(), lineno=805, col_offset=8), [Str('foo', lineno=805, col_offset=28)], [], None, None, lineno=805, col_offset=8), lineno=805, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=806, col_offset=8), '_test_pathname', Load(), lineno=806, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=806, col_offset=28), 'path', Load(), lineno=806, col_offset=28), 'join', Load(), lineno=806, col_offset=28), [Str('foo', lineno=806, col_offset=41), Str('.', lineno=806, col_offset=48), Str('bar', lineno=806, col_offset=53)], [], None, None, lineno=806, col_offset=28)], [], None, None, lineno=806, col_offset=8), lineno=806, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=807, col_offset=8), '_test_pathname', Load(), lineno=807, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=807, col_offset=28), 'path', Load(), lineno=807, col_offset=28), 'join', Load(), lineno=807, col_offset=28), [Str('foo', lineno=807, col_offset=41), Str('..', lineno=807, col_offset=48), Str('bar', lineno=807, col_offset=54)], [], None, None, lineno=807, col_offset=28)], [], None, None, lineno=807, col_offset=8), lineno=807, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=808, col_offset=8), '_test_pathname', Load(), lineno=808, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=808, col_offset=28), 'path', Load(), lineno=808, col_offset=28), 'join', Load(), lineno=808, col_offset=28), [Str('.', lineno=808, col_offset=41), Str('foo', lineno=808, col_offset=46)], [], None, None, lineno=808, col_offset=28)], [], None, None, lineno=808, col_offset=8), lineno=808, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=809, col_offset=8), '_test_pathname', Load(), lineno=809, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=809, col_offset=28), 'path', Load(), lineno=809, col_offset=28), 'join', Load(), lineno=809, col_offset=28), [Str('.', lineno=809, col_offset=41), Str('foo', lineno=809, col_offset=46), Str('.', lineno=809, col_offset=53)], [], None, None, lineno=809, col_offset=28)], [], None, None, lineno=809, col_offset=8), lineno=809, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=810, col_offset=8), '_test_pathname', Load(), lineno=810, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=810, col_offset=28), 'path', Load(), lineno=810, col_offset=28), 'join', Load(), lineno=810, col_offset=28), [Str('.', lineno=810, col_offset=41), Str('foo', lineno=810, col_offset=46), Str('.', lineno=810, col_offset=53), Str('bar', lineno=810, col_offset=58)], [], None, None, lineno=810, col_offset=28)], [], None, None, lineno=810, col_offset=8), lineno=810, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=811, col_offset=8), '_test_pathname', Load(), lineno=811, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=811, col_offset=28), 'path', Load(), lineno=811, col_offset=28), 'join', Load(), lineno=811, col_offset=28), [Str('.', lineno=811, col_offset=41), Str('foo', lineno=811, col_offset=46), Str('..', lineno=811, col_offset=53), Str('bar', lineno=811, col_offset=59)], [], None, None, lineno=811, col_offset=28)], [], None, None, lineno=811, col_offset=8), lineno=811, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=812, col_offset=8), '_test_pathname', Load(), lineno=812, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=812, col_offset=28), 'path', Load(), lineno=812, col_offset=28), 'join', Load(), lineno=812, col_offset=28), [Str('.', lineno=812, col_offset=41), Str('foo', lineno=812, col_offset=46), Str('..', lineno=812, col_offset=53), Str('bar', lineno=812, col_offset=59)], [], None, None, lineno=812, col_offset=28)], [], None, None, lineno=812, col_offset=8), lineno=812, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=813, col_offset=8), '_test_pathname', Load(), lineno=813, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=813, col_offset=28), 'path', Load(), lineno=813, col_offset=28), 'join', Load(), lineno=813, col_offset=28), [Str('..', lineno=813, col_offset=41), Str('foo', lineno=813, col_offset=47)], [], None, None, lineno=813, col_offset=28)], [], None, None, lineno=813, col_offset=8), lineno=813, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=814, col_offset=8), '_test_pathname', Load(), lineno=814, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=814, col_offset=28), 'path', Load(), lineno=814, col_offset=28), 'join', Load(), lineno=814, col_offset=28), [Str('..', lineno=814, col_offset=41), Str('foo', lineno=814, col_offset=47), Str('..', lineno=814, col_offset=54)], [], None, None, lineno=814, col_offset=28)], [], None, None, lineno=814, col_offset=8), lineno=814, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=815, col_offset=8), '_test_pathname', Load(), lineno=815, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=815, col_offset=28), 'path', Load(), lineno=815, col_offset=28), 'join', Load(), lineno=815, col_offset=28), [Str('..', lineno=815, col_offset=41), Str('foo', lineno=815, col_offset=47), Str('.', lineno=815, col_offset=54), Str('bar', lineno=815, col_offset=59)], [], None, None, lineno=815, col_offset=28)], [], None, None, lineno=815, col_offset=8), lineno=815, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=816, col_offset=8), '_test_pathname', Load(), lineno=816, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=816, col_offset=28), 'path', Load(), lineno=816, col_offset=28), 'join', Load(), lineno=816, col_offset=28), [Str('..', lineno=816, col_offset=41), Str('foo', lineno=816, col_offset=47), Str('..', lineno=816, col_offset=54), Str('bar', lineno=816, col_offset=60)], [], None, None, lineno=816, col_offset=28)], [], None, None, lineno=816, col_offset=8), lineno=816, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=818, col_offset=8), '_test_pathname', Load(), lineno=818, col_offset=8), [BinOp(BinOp(BinOp(Str('foo', lineno=818, col_offset=28), Add(), Attribute(Name('os', Load(), lineno=818, col_offset=36), 'sep', Load(), lineno=818, col_offset=36), lineno=818, col_offset=28), Add(), Attribute(Name('os', Load(), lineno=818, col_offset=45), 'sep', Load(), lineno=818, col_offset=45), lineno=818, col_offset=43), Add(), Str('bar', lineno=818, col_offset=54), lineno=818, col_offset=52)], [], None, None, lineno=818, col_offset=8), lineno=818, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=819, col_offset=8), '_test_pathname', Load(), lineno=819, col_offset=8), [BinOp(BinOp(Str('foo', lineno=819, col_offset=28), Add(), Attribute(Name('os', Load(), lineno=819, col_offset=36), 'sep', Load(), lineno=819, col_offset=36), lineno=819, col_offset=28), Add(), Attribute(Name('os', Load(), lineno=819, col_offset=45), 'sep', Load(), lineno=819, col_offset=45), lineno=819, col_offset=43), Str('foo', lineno=819, col_offset=53)], [keyword('dir', Name('True', Load(), lineno=819, col_offset=64))], None, None, lineno=819, col_offset=8), lineno=819, col_offset=8)], [], lineno=804, col_offset=4), FunctionDef('test_abs_pathnames', arguments([Name('self', Param(), lineno=821, col_offset=27)], None, None, []), [If(Compare(Attribute(Name('sys', Load(), lineno=822, col_offset=11), 'platform', Load(), lineno=822, col_offset=11), [Eq()], [Str('win32', lineno=822, col_offset=27)], lineno=822, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=823, col_offset=12), '_test_pathname', Load(), lineno=823, col_offset=12), [Str('C:\\foo', lineno=823, col_offset=32), Str('foo', lineno=823, col_offset=43)], [], None, None, lineno=823, col_offset=12), lineno=823, col_offset=12)], [Expr(Call(Attribute(Name('self', Load(), lineno=825, col_offset=12), '_test_pathname', Load(), lineno=825, col_offset=12), [Str('/foo', lineno=825, col_offset=32), Str('foo', lineno=825, col_offset=40)], [], None, None, lineno=825, col_offset=12), lineno=825, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=826, col_offset=12), '_test_pathname', Load(), lineno=826, col_offset=12), [Str('///foo', lineno=826, col_offset=32), Str('foo', lineno=826, col_offset=42)], [], None, None, lineno=826, col_offset=12), lineno=826, col_offset=12)], lineno=822, col_offset=8)], [], lineno=821, col_offset=4), FunctionDef('test_cwd', arguments([Name('self', Param(), lineno=828, col_offset=17)], None, None, []), [Assign([Name('cwd', Store(), lineno=830, col_offset=8)], Call(Attribute(Name('os', Load(), lineno=830, col_offset=14), 'getcwd', Load(), lineno=830, col_offset=14), [], [], None, None, lineno=830, col_offset=14), lineno=830, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=831, col_offset=8), 'chdir', Load(), lineno=831, col_offset=8), [Name('TEMPDIR', Load(), lineno=831, col_offset=17)], [], None, None, lineno=831, col_offset=8), lineno=831, col_offset=8), TryFinally([Expr(Call(Attribute(Call(Name('open', Load(), lineno=833, col_offset=12), [Str('foo', lineno=833, col_offset=17), Str('w', lineno=833, col_offset=24)], [], None, None, lineno=833, col_offset=12), 'close', Load(), lineno=833, col_offset=12), [], [], None, None, lineno=833, col_offset=12), lineno=833, col_offset=12), Assign([Name('tar', Store(), lineno=835, col_offset=12)], Call(Attribute(Name('tarfile', Load(), lineno=835, col_offset=18), 'open', Load(), lineno=835, col_offset=18), [Name('tmpname', Load(), lineno=835, col_offset=31), Attribute(Name('self', Load(), lineno=835, col_offset=40), 'mode', Load(), lineno=835, col_offset=40)], [], None, None, lineno=835, col_offset=18), lineno=835, col_offset=12), Expr(Call(Attribute(Name('tar', Load(), lineno=836, col_offset=12), 'add', Load(), lineno=836, col_offset=12), [Str('.', lineno=836, col_offset=20)], [], None, None, lineno=836, col_offset=12), lineno=836, col_offset=12), Expr(Call(Attribute(Name('tar', Load(), lineno=837, col_offset=12), 'close', Load(), lineno=837, col_offset=12), [], [], None, None, lineno=837, col_offset=12), lineno=837, col_offset=12), Assign([Name('tar', Store(), lineno=839, col_offset=12)], Call(Attribute(Name('tarfile', Load(), lineno=839, col_offset=18), 'open', Load(), lineno=839, col_offset=18), [Name('tmpname', Load(), lineno=839, col_offset=31), Str('r', lineno=839, col_offset=40)], [], None, None, lineno=839, col_offset=18), lineno=839, col_offset=12), For(Name('t', Store(), lineno=840, col_offset=16), Name('tar', Load(), lineno=840, col_offset=21), [Expr(Call(Attribute(Name('self', Load(), lineno=841, col_offset=16), 'assert_', Load(), lineno=841, col_offset=16), [BoolOp(Or(), [Compare(Attribute(Name('t', Load(), lineno=841, col_offset=29), 'name', Load(), lineno=841, col_offset=29), [Eq()], [Str('.', lineno=841, col_offset=39)], lineno=841, col_offset=29), Call(Attribute(Attribute(Name('t', Load(), lineno=841, col_offset=46), 'name', Load(), lineno=841, col_offset=46), 'startswith', Load(), lineno=841, col_offset=46), [Str('./', lineno=841, col_offset=64)], [], None, None, lineno=841, col_offset=46)], lineno=841, col_offset=29)], [], None, None, lineno=841, col_offset=16), lineno=841, col_offset=16)], [], lineno=840, col_offset=12), Expr(Call(Attribute(Name('tar', Load(), lineno=842, col_offset=12), 'close', Load(), lineno=842, col_offset=12), [], [], None, None, lineno=842, col_offset=12), lineno=842, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=844, col_offset=12), 'chdir', Load(), lineno=844, col_offset=12), [Name('cwd', Load(), lineno=844, col_offset=21)], [], None, None, lineno=844, col_offset=12), lineno=844, col_offset=12)], lineno=832, col_offset=8)], [], lineno=828, col_offset=4)], [], lineno=621, col_offset=0), ClassDef('StreamWriteTest', [Name('WriteTestBase', Load(), lineno=847, col_offset=22)], [Assign([Name('mode', Store(), lineno=849, col_offset=4)], Str('w|', lineno=849, col_offset=11), lineno=849, col_offset=4), FunctionDef('test_stream_padding', arguments([Name('self', Param(), lineno=851, col_offset=28)], None, None, []), [Assign([Name('tar', Store(), lineno=853, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=853, col_offset=14), 'open', Load(), lineno=853, col_offset=14), [Name('tmpname', Load(), lineno=853, col_offset=27), Attribute(Name('self', Load(), lineno=853, col_offset=36), 'mode', Load(), lineno=853, col_offset=36)], [], None, None, lineno=853, col_offset=14), lineno=853, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=854, col_offset=8), 'close', Load(), lineno=854, col_offset=8), [], [], None, None, lineno=854, col_offset=8), lineno=854, col_offset=8), If(Call(Attribute(Attribute(Name('self', Load(), lineno=856, col_offset=11), 'mode', Load(), lineno=856, col_offset=11), 'endswith', Load(), lineno=856, col_offset=11), [Str('gz', lineno=856, col_offset=30)], [], None, None, lineno=856, col_offset=11), [Assign([Name('fobj', Store(), lineno=857, col_offset=12)], Call(Attribute(Name('gzip', Load(), lineno=857, col_offset=19), 'GzipFile', Load(), lineno=857, col_offset=19), [Name('tmpname', Load(), lineno=857, col_offset=33)], [], None, None, lineno=857, col_offset=19), lineno=857, col_offset=12), Assign([Name('data', Store(), lineno=858, col_offset=12)], Call(Attribute(Name('fobj', Load(), lineno=858, col_offset=19), 'read', Load(), lineno=858, col_offset=19), [], [], None, None, lineno=858, col_offset=19), lineno=858, col_offset=12), Expr(Call(Attribute(Name('fobj', Load(), lineno=859, col_offset=12), 'close', Load(), lineno=859, col_offset=12), [], [], None, None, lineno=859, col_offset=12), lineno=859, col_offset=12)], [If(Call(Attribute(Attribute(Name('self', Load(), lineno=860, col_offset=13), 'mode', Load(), lineno=860, col_offset=13), 'endswith', Load(), lineno=860, col_offset=13), [Str('bz2', lineno=860, col_offset=32)], [], None, None, lineno=860, col_offset=13), [Assign([Name('dec', Store(), lineno=861, col_offset=12)], Call(Attribute(Name('bz2', Load(), lineno=861, col_offset=18), 'BZ2Decompressor', Load(), lineno=861, col_offset=18), [], [], None, None, lineno=861, col_offset=18), lineno=861, col_offset=12), Assign([Name('data', Store(), lineno=862, col_offset=12)], Call(Attribute(Call(Name('open', Load(), lineno=862, col_offset=19), [Name('tmpname', Load(), lineno=862, col_offset=24), Str('rb', lineno=862, col_offset=33)], [], None, None, lineno=862, col_offset=19), 'read', Load(), lineno=862, col_offset=19), [], [], None, None, lineno=862, col_offset=19), lineno=862, col_offset=12), Assign([Name('data', Store(), lineno=863, col_offset=12)], Call(Attribute(Name('dec', Load(), lineno=863, col_offset=19), 'decompress', Load(), lineno=863, col_offset=19), [Name('data', Load(), lineno=863, col_offset=34)], [], None, None, lineno=863, col_offset=19), lineno=863, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=864, col_offset=12), 'assertTrue', Load(), lineno=864, col_offset=12), [Compare(Call(Name('len', Load(), lineno=864, col_offset=28), [Attribute(Name('dec', Load(), lineno=864, col_offset=32), 'unused_data', Load(), lineno=864, col_offset=32)], [], None, None, lineno=864, col_offset=28), [Eq()], [Num(0, lineno=864, col_offset=52)], lineno=864, col_offset=28), Str('found trailing data', lineno=865, col_offset=20)], [], None, None, lineno=864, col_offset=12), lineno=864, col_offset=12)], [Assign([Name('fobj', Store(), lineno=867, col_offset=12)], Call(Name('open', Load(), lineno=867, col_offset=19), [Name('tmpname', Load(), lineno=867, col_offset=24), Str('rb', lineno=867, col_offset=33)], [], None, None, lineno=867, col_offset=19), lineno=867, col_offset=12), Assign([Name('data', Store(), lineno=868, col_offset=12)], Call(Attribute(Name('fobj', Load(), lineno=868, col_offset=19), 'read', Load(), lineno=868, col_offset=19), [], [], None, None, lineno=868, col_offset=19), lineno=868, col_offset=12), Expr(Call(Attribute(Name('fobj', Load(), lineno=869, col_offset=12), 'close', Load(), lineno=869, col_offset=12), [], [], None, None, lineno=869, col_offset=12), lineno=869, col_offset=12)], lineno=860, col_offset=13)], lineno=856, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=871, col_offset=8), 'assertTrue', Load(), lineno=871, col_offset=8), [Compare(Call(Attribute(Name('data', Load(), lineno=871, col_offset=24), 'count', Load(), lineno=871, col_offset=24), [Str('\x00', lineno=871, col_offset=35)], [], None, None, lineno=871, col_offset=24), [Eq()], [Attribute(Name('tarfile', Load(), lineno=871, col_offset=44), 'RECORDSIZE', Load(), lineno=871, col_offset=44)], lineno=871, col_offset=24), Str('incorrect zero padding', lineno=872, col_offset=25)], [], None, None, lineno=871, col_offset=8), lineno=871, col_offset=8)], [], lineno=851, col_offset=4), FunctionDef('test_file_mode', arguments([Name('self', Param(), lineno=874, col_offset=23)], None, None, []), [If(BoolOp(Or(), [Compare(Attribute(Name('sys', Load(), lineno=877, col_offset=11), 'platform', Load(), lineno=877, col_offset=11), [Eq()], [Str('win32', lineno=877, col_offset=27)], lineno=877, col_offset=11), UnaryOp(Not(), Call(Name('hasattr', Load(), lineno=877, col_offset=42), [Name('os', Load(), lineno=877, col_offset=50), Str('umask', lineno=877, col_offset=54)], [], None, None, lineno=877, col_offset=42), lineno=877, col_offset=38)], lineno=877, col_offset=11), [Return(None, lineno=878, col_offset=12)], [], lineno=877, col_offset=8), If(Call(Attribute(Attribute(Name('os', Load(), lineno=880, col_offset=11), 'path', Load(), lineno=880, col_offset=11), 'exists', Load(), lineno=880, col_offset=11), [Name('tmpname', Load(), lineno=880, col_offset=26)], [], None, None, lineno=880, col_offset=11), [Expr(Call(Attribute(Name('os', Load(), lineno=881, col_offset=12), 'remove', Load(), lineno=881, col_offset=12), [Name('tmpname', Load(), lineno=881, col_offset=22)], [], None, None, lineno=881, col_offset=12), lineno=881, col_offset=12)], [], lineno=880, col_offset=8), Assign([Name('original_umask', Store(), lineno=883, col_offset=8)], Call(Attribute(Name('os', Load(), lineno=883, col_offset=25), 'umask', Load(), lineno=883, col_offset=25), [Num(18, lineno=883, col_offset=34)], [], None, None, lineno=883, col_offset=25), lineno=883, col_offset=8), TryFinally([Assign([Name('tar', Store(), lineno=885, col_offset=12)], Call(Attribute(Name('tarfile', Load(), lineno=885, col_offset=18), 'open', Load(), lineno=885, col_offset=18), [Name('tmpname', Load(), lineno=885, col_offset=31), Attribute(Name('self', Load(), lineno=885, col_offset=40), 'mode', Load(), lineno=885, col_offset=40)], [], None, None, lineno=885, col_offset=18), lineno=885, col_offset=12), Expr(Call(Attribute(Name('tar', Load(), lineno=886, col_offset=12), 'close', Load(), lineno=886, col_offset=12), [], [], None, None, lineno=886, col_offset=12), lineno=886, col_offset=12), Assign([Name('mode', Store(), lineno=887, col_offset=12)], BinOp(Attribute(Call(Attribute(Name('os', Load(), lineno=887, col_offset=19), 'stat', Load(), lineno=887, col_offset=19), [Name('tmpname', Load(), lineno=887, col_offset=27)], [], None, None, lineno=887, col_offset=19), 'st_mode', Load(), lineno=887, col_offset=19), BitAnd(), Num(511, lineno=887, col_offset=46), lineno=887, col_offset=19), lineno=887, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=888, col_offset=12), 'assertEqual', Load(), lineno=888, col_offset=12), [Name('mode', Load(), lineno=888, col_offset=29), Num(420, lineno=888, col_offset=35), Str('wrong file permissions', lineno=888, col_offset=41)], [], None, None, lineno=888, col_offset=12), lineno=888, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=890, col_offset=12), 'umask', Load(), lineno=890, col_offset=12), [Name('original_umask', Load(), lineno=890, col_offset=21)], [], None, None, lineno=890, col_offset=12), lineno=890, col_offset=12)], lineno=884, col_offset=8)], [], lineno=874, col_offset=4)], [], lineno=847, col_offset=0), ClassDef('GNUWriteTest', [Attribute(Name('unittest', Load(), lineno=893, col_offset=19), 'TestCase', Load(), lineno=893, col_offset=19)], [FunctionDef('_length', arguments([Name('self', Param(), lineno=897, col_offset=16), Name('s', Param(), lineno=897, col_offset=22)], None, None, []), [Assign([Tuple([Name('blocks', Store(), lineno=898, col_offset=8), Name('remainder', Store(), lineno=898, col_offset=16)], Store(), lineno=898, col_offset=8)], Call(Name('divmod', Load(), lineno=898, col_offset=28), [BinOp(Call(Name('len', Load(), lineno=898, col_offset=35), [Name('s', Load(), lineno=898, col_offset=39)], [], None, None, lineno=898, col_offset=35), Add(), Num(1, lineno=898, col_offset=44), lineno=898, col_offset=35), Num(512, lineno=898, col_offset=47)], [], None, None, lineno=898, col_offset=28), lineno=898, col_offset=8), If(Name('remainder', Load(), lineno=899, col_offset=11), [AugAssign(Name('blocks', Store(), lineno=900, col_offset=12), Add(), Num(1, lineno=900, col_offset=22), lineno=900, col_offset=12)], [], lineno=899, col_offset=8), Return(BinOp(Name('blocks', Load(), lineno=901, col_offset=15), Mult(), Num(512, lineno=901, col_offset=24), lineno=901, col_offset=15), lineno=901, col_offset=8)], [], lineno=897, col_offset=4), FunctionDef('_calc_size', arguments([Name('self', Param(), lineno=903, col_offset=19), Name('name', Param(), lineno=903, col_offset=25), Name('link', Param(), lineno=903, col_offset=31)], None, None, [Name('None', Load(), lineno=903, col_offset=36)]), [Assign([Name('count', Store(), lineno=905, col_offset=8)], Num(512, lineno=905, col_offset=16), lineno=905, col_offset=8), If(Compare(Call(Name('len', Load(), lineno=907, col_offset=11), [Name('name', Load(), lineno=907, col_offset=15)], [], None, None, lineno=907, col_offset=11), [Gt()], [Attribute(Name('tarfile', Load(), lineno=907, col_offset=23), 'LENGTH_NAME', Load(), lineno=907, col_offset=23)], lineno=907, col_offset=11), [AugAssign(Name('count', Store(), lineno=909, col_offset=12), Add(), Num(512, lineno=909, col_offset=21), lineno=909, col_offset=12), AugAssign(Name('count', Store(), lineno=910, col_offset=12), Add(), Call(Attribute(Name('self', Load(), lineno=910, col_offset=21), '_length', Load(), lineno=910, col_offset=21), [Name('name', Load(), lineno=910, col_offset=34)], [], None, None, lineno=910, col_offset=21), lineno=910, col_offset=12)], [], lineno=907, col_offset=8), If(BoolOp(And(), [Compare(Name('link', Load(), lineno=911, col_offset=11), [IsNot()], [Name('None', Load(), lineno=911, col_offset=23)], lineno=911, col_offset=11), Compare(Call(Name('len', Load(), lineno=911, col_offset=32), [Name('link', Load(), lineno=911, col_offset=36)], [], None, None, lineno=911, col_offset=32), [Gt()], [Attribute(Name('tarfile', Load(), lineno=911, col_offset=44), 'LENGTH_LINK', Load(), lineno=911, col_offset=44)], lineno=911, col_offset=32)], lineno=911, col_offset=11), [AugAssign(Name('count', Store(), lineno=913, col_offset=12), Add(), Num(512, lineno=913, col_offset=21), lineno=913, col_offset=12), AugAssign(Name('count', Store(), lineno=914, col_offset=12), Add(), Call(Attribute(Name('self', Load(), lineno=914, col_offset=21), '_length', Load(), lineno=914, col_offset=21), [Name('link', Load(), lineno=914, col_offset=34)], [], None, None, lineno=914, col_offset=21), lineno=914, col_offset=12)], [], lineno=911, col_offset=8), Return(Name('count', Load(), lineno=915, col_offset=15), lineno=915, col_offset=8)], [], lineno=903, col_offset=4), FunctionDef('_test', arguments([Name('self', Param(), lineno=917, col_offset=14), Name('name', Param(), lineno=917, col_offset=20), Name('link', Param(), lineno=917, col_offset=26)], None, None, [Name('None', Load(), lineno=917, col_offset=31)]), [Assign([Name('tarinfo', Store(), lineno=918, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=918, col_offset=18), 'TarInfo', Load(), lineno=918, col_offset=18), [Name('name', Load(), lineno=918, col_offset=34)], [], None, None, lineno=918, col_offset=18), lineno=918, col_offset=8), If(Name('link', Load(), lineno=919, col_offset=11), [Assign([Attribute(Name('tarinfo', Load(), lineno=920, col_offset=12), 'linkname', Store(), lineno=920, col_offset=12)], Name('link', Load(), lineno=920, col_offset=31), lineno=920, col_offset=12), Assign([Attribute(Name('tarinfo', Load(), lineno=921, col_offset=12), 'type', Store(), lineno=921, col_offset=12)], Attribute(Name('tarfile', Load(), lineno=921, col_offset=27), 'LNKTYPE', Load(), lineno=921, col_offset=27), lineno=921, col_offset=12)], [], lineno=919, col_offset=8), Assign([Name('tar', Store(), lineno=923, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=923, col_offset=14), 'open', Load(), lineno=923, col_offset=14), [Name('tmpname', Load(), lineno=923, col_offset=27), Str('w', lineno=923, col_offset=36)], [], None, None, lineno=923, col_offset=14), lineno=923, col_offset=8), Assign([Attribute(Name('tar', Load(), lineno=924, col_offset=8), 'format', Store(), lineno=924, col_offset=8)], Attribute(Name('tarfile', Load(), lineno=924, col_offset=21), 'GNU_FORMAT', Load(), lineno=924, col_offset=21), lineno=924, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=925, col_offset=8), 'addfile', Load(), lineno=925, col_offset=8), [Name('tarinfo', Load(), lineno=925, col_offset=20)], [], None, None, lineno=925, col_offset=8), lineno=925, col_offset=8), Assign([Name('v1', Store(), lineno=927, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=927, col_offset=13), '_calc_size', Load(), lineno=927, col_offset=13), [Name('name', Load(), lineno=927, col_offset=29), Name('link', Load(), lineno=927, col_offset=35)], [], None, None, lineno=927, col_offset=13), lineno=927, col_offset=8), Assign([Name('v2', Store(), lineno=928, col_offset=8)], Attribute(Name('tar', Load(), lineno=928, col_offset=13), 'offset', Load(), lineno=928, col_offset=13), lineno=928, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=929, col_offset=8), 'assertTrue', Load(), lineno=929, col_offset=8), [Compare(Name('v1', Load(), lineno=929, col_offset=24), [Eq()], [Name('v2', Load(), lineno=929, col_offset=30)], lineno=929, col_offset=24), Str('GNU longname/longlink creation failed', lineno=929, col_offset=34)], [], None, None, lineno=929, col_offset=8), lineno=929, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=931, col_offset=8), 'close', Load(), lineno=931, col_offset=8), [], [], None, None, lineno=931, col_offset=8), lineno=931, col_offset=8), Assign([Name('tar', Store(), lineno=933, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=933, col_offset=14), 'open', Load(), lineno=933, col_offset=14), [Name('tmpname', Load(), lineno=933, col_offset=27)], [], None, None, lineno=933, col_offset=14), lineno=933, col_offset=8), Assign([Name('member', Store(), lineno=934, col_offset=8)], Call(Attribute(Name('tar', Load(), lineno=934, col_offset=17), 'next', Load(), lineno=934, col_offset=17), [], [], None, None, lineno=934, col_offset=17), lineno=934, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=935, col_offset=8), 'assertIsNotNone', Load(), lineno=935, col_offset=8), [Name('member', Load(), lineno=935, col_offset=29), Str('unable to read longname member', lineno=936, col_offset=16)], [], None, None, lineno=935, col_offset=8), lineno=935, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=937, col_offset=8), 'assertEqual', Load(), lineno=937, col_offset=8), [Attribute(Name('tarinfo', Load(), lineno=937, col_offset=25), 'name', Load(), lineno=937, col_offset=25), Attribute(Name('member', Load(), lineno=937, col_offset=39), 'name', Load(), lineno=937, col_offset=39), Str('unable to read longname member', lineno=938, col_offset=16)], [], None, None, lineno=937, col_offset=8), lineno=937, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=939, col_offset=8), 'assertEqual', Load(), lineno=939, col_offset=8), [Attribute(Name('tarinfo', Load(), lineno=939, col_offset=25), 'linkname', Load(), lineno=939, col_offset=25), Attribute(Name('member', Load(), lineno=939, col_offset=43), 'linkname', Load(), lineno=939, col_offset=43), Str('unable to read longname member', lineno=940, col_offset=16)], [], None, None, lineno=939, col_offset=8), lineno=939, col_offset=8)], [], lineno=917, col_offset=4), FunctionDef('test_longname_1023', arguments([Name('self', Param(), lineno=942, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=943, col_offset=8), '_test', Load(), lineno=943, col_offset=8), [BinOp(BinOp(Str('longnam/', lineno=943, col_offset=20), Mult(), Num(127, lineno=943, col_offset=33), lineno=943, col_offset=20), Add(), Str('longnam', lineno=943, col_offset=40), lineno=943, col_offset=19)], [], None, None, lineno=943, col_offset=8), lineno=943, col_offset=8)], [], lineno=942, col_offset=4), FunctionDef('test_longname_1024', arguments([Name('self', Param(), lineno=945, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=946, col_offset=8), '_test', Load(), lineno=946, col_offset=8), [BinOp(BinOp(Str('longnam/', lineno=946, col_offset=20), Mult(), Num(127, lineno=946, col_offset=33), lineno=946, col_offset=20), Add(), Str('longname', lineno=946, col_offset=40), lineno=946, col_offset=19)], [], None, None, lineno=946, col_offset=8), lineno=946, col_offset=8)], [], lineno=945, col_offset=4), FunctionDef('test_longname_1025', arguments([Name('self', Param(), lineno=948, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=949, col_offset=8), '_test', Load(), lineno=949, col_offset=8), [BinOp(BinOp(Str('longnam/', lineno=949, col_offset=20), Mult(), Num(127, lineno=949, col_offset=33), lineno=949, col_offset=20), Add(), Str('longname_', lineno=949, col_offset=40), lineno=949, col_offset=19)], [], None, None, lineno=949, col_offset=8), lineno=949, col_offset=8)], [], lineno=948, col_offset=4), FunctionDef('test_longlink_1023', arguments([Name('self', Param(), lineno=951, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=952, col_offset=8), '_test', Load(), lineno=952, col_offset=8), [Str('name', lineno=952, col_offset=19), BinOp(BinOp(Str('longlnk/', lineno=952, col_offset=28), Mult(), Num(127, lineno=952, col_offset=41), lineno=952, col_offset=28), Add(), Str('longlnk', lineno=952, col_offset=48), lineno=952, col_offset=27)], [], None, None, lineno=952, col_offset=8), lineno=952, col_offset=8)], [], lineno=951, col_offset=4), FunctionDef('test_longlink_1024', arguments([Name('self', Param(), lineno=954, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=955, col_offset=8), '_test', Load(), lineno=955, col_offset=8), [Str('name', lineno=955, col_offset=19), BinOp(BinOp(Str('longlnk/', lineno=955, col_offset=28), Mult(), Num(127, lineno=955, col_offset=41), lineno=955, col_offset=28), Add(), Str('longlink', lineno=955, col_offset=48), lineno=955, col_offset=27)], [], None, None, lineno=955, col_offset=8), lineno=955, col_offset=8)], [], lineno=954, col_offset=4), FunctionDef('test_longlink_1025', arguments([Name('self', Param(), lineno=957, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=958, col_offset=8), '_test', Load(), lineno=958, col_offset=8), [Str('name', lineno=958, col_offset=19), BinOp(BinOp(Str('longlnk/', lineno=958, col_offset=28), Mult(), Num(127, lineno=958, col_offset=41), lineno=958, col_offset=28), Add(), Str('longlink_', lineno=958, col_offset=48), lineno=958, col_offset=27)], [], None, None, lineno=958, col_offset=8), lineno=958, col_offset=8)], [], lineno=957, col_offset=4), FunctionDef('test_longnamelink_1023', arguments([Name('self', Param(), lineno=960, col_offset=31)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=961, col_offset=8), '_test', Load(), lineno=961, col_offset=8), [BinOp(BinOp(Str('longnam/', lineno=961, col_offset=20), Mult(), Num(127, lineno=961, col_offset=33), lineno=961, col_offset=20), Add(), Str('longnam', lineno=961, col_offset=40), lineno=961, col_offset=19), BinOp(BinOp(Str('longlnk/', lineno=962, col_offset=20), Mult(), Num(127, lineno=962, col_offset=33), lineno=962, col_offset=20), Add(), Str('longlnk', lineno=962, col_offset=40), lineno=962, col_offset=19)], [], None, None, lineno=961, col_offset=8), lineno=961, col_offset=8)], [], lineno=960, col_offset=4), FunctionDef('test_longnamelink_1024', arguments([Name('self', Param(), lineno=964, col_offset=31)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=965, col_offset=8), '_test', Load(), lineno=965, col_offset=8), [BinOp(BinOp(Str('longnam/', lineno=965, col_offset=20), Mult(), Num(127, lineno=965, col_offset=33), lineno=965, col_offset=20), Add(), Str('longname', lineno=965, col_offset=40), lineno=965, col_offset=19), BinOp(BinOp(Str('longlnk/', lineno=966, col_offset=20), Mult(), Num(127, lineno=966, col_offset=33), lineno=966, col_offset=20), Add(), Str('longlink', lineno=966, col_offset=40), lineno=966, col_offset=19)], [], None, None, lineno=965, col_offset=8), lineno=965, col_offset=8)], [], lineno=964, col_offset=4), FunctionDef('test_longnamelink_1025', arguments([Name('self', Param(), lineno=968, col_offset=31)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=969, col_offset=8), '_test', Load(), lineno=969, col_offset=8), [BinOp(BinOp(Str('longnam/', lineno=969, col_offset=20), Mult(), Num(127, lineno=969, col_offset=33), lineno=969, col_offset=20), Add(), Str('longname_', lineno=969, col_offset=40), lineno=969, col_offset=19), BinOp(BinOp(Str('longlnk/', lineno=970, col_offset=20), Mult(), Num(127, lineno=970, col_offset=33), lineno=970, col_offset=20), Add(), Str('longlink_', lineno=970, col_offset=40), lineno=970, col_offset=19)], [], None, None, lineno=969, col_offset=8), lineno=969, col_offset=8)], [], lineno=968, col_offset=4)], [], lineno=893, col_offset=0), ClassDef('HardlinkTest', [Attribute(Name('unittest', Load(), lineno=973, col_offset=19), 'TestCase', Load(), lineno=973, col_offset=19)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=976, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=977, col_offset=8), 'foo', Store(), lineno=977, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=977, col_offset=19), 'path', Load(), lineno=977, col_offset=19), 'join', Load(), lineno=977, col_offset=19), [Name('TEMPDIR', Load(), lineno=977, col_offset=32), Str('foo', lineno=977, col_offset=41)], [], None, None, lineno=977, col_offset=19), lineno=977, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=978, col_offset=8), 'bar', Store(), lineno=978, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=978, col_offset=19), 'path', Load(), lineno=978, col_offset=19), 'join', Load(), lineno=978, col_offset=19), [Name('TEMPDIR', Load(), lineno=978, col_offset=32), Str('bar', lineno=978, col_offset=41)], [], None, None, lineno=978, col_offset=19), lineno=978, col_offset=8), Assign([Name('fobj', Store(), lineno=980, col_offset=8)], Call(Name('open', Load(), lineno=980, col_offset=15), [Attribute(Name('self', Load(), lineno=980, col_offset=20), 'foo', Load(), lineno=980, col_offset=20), Str('wb', lineno=980, col_offset=30)], [], None, None, lineno=980, col_offset=15), lineno=980, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=981, col_offset=8), 'write', Load(), lineno=981, col_offset=8), [Str('foo', lineno=981, col_offset=19)], [], None, None, lineno=981, col_offset=8), lineno=981, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=982, col_offset=8), 'close', Load(), lineno=982, col_offset=8), [], [], None, None, lineno=982, col_offset=8), lineno=982, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=984, col_offset=8), 'link', Load(), lineno=984, col_offset=8), [Attribute(Name('self', Load(), lineno=984, col_offset=16), 'foo', Load(), lineno=984, col_offset=16), Attribute(Name('self', Load(), lineno=984, col_offset=26), 'bar', Load(), lineno=984, col_offset=26)], [], None, None, lineno=984, col_offset=8), lineno=984, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=986, col_offset=8), 'tar', Store(), lineno=986, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=986, col_offset=19), 'open', Load(), lineno=986, col_offset=19), [Name('tmpname', Load(), lineno=986, col_offset=32), Str('w', lineno=986, col_offset=41)], [], None, None, lineno=986, col_offset=19), lineno=986, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=987, col_offset=8), 'tar', Load(), lineno=987, col_offset=8), 'add', Load(), lineno=987, col_offset=8), [Attribute(Name('self', Load(), lineno=987, col_offset=21), 'foo', Load(), lineno=987, col_offset=21)], [], None, None, lineno=987, col_offset=8), lineno=987, col_offset=8)], [], lineno=976, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=989, col_offset=17)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=990, col_offset=8), 'tar', Load(), lineno=990, col_offset=8), 'close', Load(), lineno=990, col_offset=8), [], [], None, None, lineno=990, col_offset=8), lineno=990, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=991, col_offset=8), 'remove', Load(), lineno=991, col_offset=8), [Attribute(Name('self', Load(), lineno=991, col_offset=18), 'foo', Load(), lineno=991, col_offset=18)], [], None, None, lineno=991, col_offset=8), lineno=991, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=992, col_offset=8), 'remove', Load(), lineno=992, col_offset=8), [Attribute(Name('self', Load(), lineno=992, col_offset=18), 'bar', Load(), lineno=992, col_offset=18)], [], None, None, lineno=992, col_offset=8), lineno=992, col_offset=8)], [], lineno=989, col_offset=4), FunctionDef('test_add_twice', arguments([Name('self', Param(), lineno=994, col_offset=23)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=997, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=997, col_offset=18), 'tar', Load(), lineno=997, col_offset=18), 'gettarinfo', Load(), lineno=997, col_offset=18), [Attribute(Name('self', Load(), lineno=997, col_offset=38), 'foo', Load(), lineno=997, col_offset=38)], [], None, None, lineno=997, col_offset=18), lineno=997, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=998, col_offset=8), 'assertTrue', Load(), lineno=998, col_offset=8), [Compare(Attribute(Name('tarinfo', Load(), lineno=998, col_offset=24), 'type', Load(), lineno=998, col_offset=24), [Eq()], [Attribute(Name('tarfile', Load(), lineno=998, col_offset=40), 'REGTYPE', Load(), lineno=998, col_offset=40)], lineno=998, col_offset=24), Str('add file as regular failed', lineno=999, col_offset=16)], [], None, None, lineno=998, col_offset=8), lineno=998, col_offset=8)], [], lineno=994, col_offset=4), FunctionDef('test_add_hardlink', arguments([Name('self', Param(), lineno=1001, col_offset=26)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=1002, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=1002, col_offset=18), 'tar', Load(), lineno=1002, col_offset=18), 'gettarinfo', Load(), lineno=1002, col_offset=18), [Attribute(Name('self', Load(), lineno=1002, col_offset=38), 'bar', Load(), lineno=1002, col_offset=38)], [], None, None, lineno=1002, col_offset=18), lineno=1002, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1003, col_offset=8), 'assertTrue', Load(), lineno=1003, col_offset=8), [Compare(Attribute(Name('tarinfo', Load(), lineno=1003, col_offset=24), 'type', Load(), lineno=1003, col_offset=24), [Eq()], [Attribute(Name('tarfile', Load(), lineno=1003, col_offset=40), 'LNKTYPE', Load(), lineno=1003, col_offset=40)], lineno=1003, col_offset=24), Str('add file as hardlink failed', lineno=1004, col_offset=16)], [], None, None, lineno=1003, col_offset=8), lineno=1003, col_offset=8)], [], lineno=1001, col_offset=4), FunctionDef('test_dereference_hardlink', arguments([Name('self', Param(), lineno=1006, col_offset=34)], None, None, []), [Assign([Attribute(Attribute(Name('self', Load(), lineno=1007, col_offset=8), 'tar', Load(), lineno=1007, col_offset=8), 'dereference', Store(), lineno=1007, col_offset=8)], Name('True', Load(), lineno=1007, col_offset=31), lineno=1007, col_offset=8), Assign([Name('tarinfo', Store(), lineno=1008, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=1008, col_offset=18), 'tar', Load(), lineno=1008, col_offset=18), 'gettarinfo', Load(), lineno=1008, col_offset=18), [Attribute(Name('self', Load(), lineno=1008, col_offset=38), 'bar', Load(), lineno=1008, col_offset=38)], [], None, None, lineno=1008, col_offset=18), lineno=1008, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1009, col_offset=8), 'assertTrue', Load(), lineno=1009, col_offset=8), [Compare(Attribute(Name('tarinfo', Load(), lineno=1009, col_offset=24), 'type', Load(), lineno=1009, col_offset=24), [Eq()], [Attribute(Name('tarfile', Load(), lineno=1009, col_offset=40), 'REGTYPE', Load(), lineno=1009, col_offset=40)], lineno=1009, col_offset=24), Str('dereferencing hardlink failed', lineno=1010, col_offset=16)], [], None, None, lineno=1009, col_offset=8), lineno=1009, col_offset=8)], [], lineno=1006, col_offset=4)], [], lineno=973, col_offset=0), ClassDef('PaxWriteTest', [Name('GNUWriteTest', Load(), lineno=1013, col_offset=19)], [FunctionDef('_test', arguments([Name('self', Param(), lineno=1015, col_offset=14), Name('name', Param(), lineno=1015, col_offset=20), Name('link', Param(), lineno=1015, col_offset=26)], None, None, [Name('None', Load(), lineno=1015, col_offset=31)]), [Assign([Name('tarinfo', Store(), lineno=1017, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1017, col_offset=18), 'TarInfo', Load(), lineno=1017, col_offset=18), [Name('name', Load(), lineno=1017, col_offset=34)], [], None, None, lineno=1017, col_offset=18), lineno=1017, col_offset=8), If(Name('link', Load(), lineno=1018, col_offset=11), [Assign([Attribute(Name('tarinfo', Load(), lineno=1019, col_offset=12), 'linkname', Store(), lineno=1019, col_offset=12)], Name('link', Load(), lineno=1019, col_offset=31), lineno=1019, col_offset=12), Assign([Attribute(Name('tarinfo', Load(), lineno=1020, col_offset=12), 'type', Store(), lineno=1020, col_offset=12)], Attribute(Name('tarfile', Load(), lineno=1020, col_offset=27), 'LNKTYPE', Load(), lineno=1020, col_offset=27), lineno=1020, col_offset=12)], [], lineno=1018, col_offset=8), Assign([Name('tar', Store(), lineno=1022, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1022, col_offset=14), 'open', Load(), lineno=1022, col_offset=14), [Name('tmpname', Load(), lineno=1022, col_offset=27), Str('w', lineno=1022, col_offset=36)], [keyword('format', Attribute(Name('tarfile', Load(), lineno=1022, col_offset=48), 'PAX_FORMAT', Load(), lineno=1022, col_offset=48))], None, None, lineno=1022, col_offset=14), lineno=1022, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1023, col_offset=8), 'addfile', Load(), lineno=1023, col_offset=8), [Name('tarinfo', Load(), lineno=1023, col_offset=20)], [], None, None, lineno=1023, col_offset=8), lineno=1023, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1024, col_offset=8), 'close', Load(), lineno=1024, col_offset=8), [], [], None, None, lineno=1024, col_offset=8), lineno=1024, col_offset=8), Assign([Name('tar', Store(), lineno=1026, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1026, col_offset=14), 'open', Load(), lineno=1026, col_offset=14), [Name('tmpname', Load(), lineno=1026, col_offset=27)], [], None, None, lineno=1026, col_offset=14), lineno=1026, col_offset=8), If(Name('link', Load(), lineno=1027, col_offset=11), [Assign([Name('l', Store(), lineno=1028, col_offset=12)], Attribute(Subscript(Call(Attribute(Name('tar', Load(), lineno=1028, col_offset=16), 'getmembers', Load(), lineno=1028, col_offset=16), [], [], None, None, lineno=1028, col_offset=16), Index(Num(0, lineno=1028, col_offset=33)), Load(), lineno=1028, col_offset=16), 'linkname', Load(), lineno=1028, col_offset=16), lineno=1028, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=1029, col_offset=12), 'assertTrue', Load(), lineno=1029, col_offset=12), [Compare(Name('link', Load(), lineno=1029, col_offset=28), [Eq()], [Name('l', Load(), lineno=1029, col_offset=36)], lineno=1029, col_offset=28), Str('PAX longlink creation failed', lineno=1029, col_offset=39)], [], None, None, lineno=1029, col_offset=12), lineno=1029, col_offset=12)], [Assign([Name('n', Store(), lineno=1031, col_offset=12)], Attribute(Subscript(Call(Attribute(Name('tar', Load(), lineno=1031, col_offset=16), 'getmembers', Load(), lineno=1031, col_offset=16), [], [], None, None, lineno=1031, col_offset=16), Index(Num(0, lineno=1031, col_offset=33)), Load(), lineno=1031, col_offset=16), 'name', Load(), lineno=1031, col_offset=16), lineno=1031, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=1032, col_offset=12), 'assertTrue', Load(), lineno=1032, col_offset=12), [Compare(Name('name', Load(), lineno=1032, col_offset=28), [Eq()], [Name('n', Load(), lineno=1032, col_offset=36)], lineno=1032, col_offset=28), Str('PAX longname creation failed', lineno=1032, col_offset=39)], [], None, None, lineno=1032, col_offset=12), lineno=1032, col_offset=12)], lineno=1027, col_offset=8)], [], lineno=1015, col_offset=4), FunctionDef('test_pax_global_header', arguments([Name('self', Param(), lineno=1034, col_offset=31)], None, None, []), [Assign([Name('pax_headers', Store(), lineno=1035, col_offset=8)], Dict([Str(u'foo', lineno=1036, col_offset=16), Str(u'uid', lineno=1037, col_offset=16), Str(u'mtime', lineno=1038, col_offset=16), Str(u'test', lineno=1039, col_offset=16), Str(u'\xe4\xf6\xfc', lineno=1040, col_offset=16)], [Str(u'bar', lineno=1036, col_offset=24), Str(u'0', lineno=1037, col_offset=24), Str(u'1.23', lineno=1038, col_offset=26), Str(u'\xe4\xf6\xfc', lineno=1039, col_offset=25), Str(u'test', lineno=1040, col_offset=27)], lineno=1035, col_offset=22), lineno=1035, col_offset=8), Assign([Name('tar', Store(), lineno=1042, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1042, col_offset=14), 'open', Load(), lineno=1042, col_offset=14), [Name('tmpname', Load(), lineno=1042, col_offset=27), Str('w', lineno=1042, col_offset=36)], [keyword('format', Attribute(Name('tarfile', Load(), lineno=1042, col_offset=48), 'PAX_FORMAT', Load(), lineno=1042, col_offset=48)), keyword('pax_headers', Name('pax_headers', Load(), lineno=1043, col_offset=28))], None, None, lineno=1042, col_offset=14), lineno=1042, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1044, col_offset=8), 'addfile', Load(), lineno=1044, col_offset=8), [Call(Attribute(Name('tarfile', Load(), lineno=1044, col_offset=20), 'TarInfo', Load(), lineno=1044, col_offset=20), [Str('test', lineno=1044, col_offset=36)], [], None, None, lineno=1044, col_offset=20)], [], None, None, lineno=1044, col_offset=8), lineno=1044, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1045, col_offset=8), 'close', Load(), lineno=1045, col_offset=8), [], [], None, None, lineno=1045, col_offset=8), lineno=1045, col_offset=8), Assign([Name('tar', Store(), lineno=1048, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1048, col_offset=14), 'open', Load(), lineno=1048, col_offset=14), [Name('tmpname', Load(), lineno=1048, col_offset=27)], [keyword('encoding', Str('iso8859-1', lineno=1048, col_offset=45))], None, None, lineno=1048, col_offset=14), lineno=1048, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1049, col_offset=8), 'assertEqual', Load(), lineno=1049, col_offset=8), [Attribute(Name('tar', Load(), lineno=1049, col_offset=25), 'pax_headers', Load(), lineno=1049, col_offset=25), Name('pax_headers', Load(), lineno=1049, col_offset=42)], [], None, None, lineno=1049, col_offset=8), lineno=1049, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1050, col_offset=8), 'assertEqual', Load(), lineno=1050, col_offset=8), [Attribute(Subscript(Call(Attribute(Name('tar', Load(), lineno=1050, col_offset=25), 'getmembers', Load(), lineno=1050, col_offset=25), [], [], None, None, lineno=1050, col_offset=25), Index(Num(0, lineno=1050, col_offset=42)), Load(), lineno=1050, col_offset=25), 'pax_headers', Load(), lineno=1050, col_offset=25), Name('pax_headers', Load(), lineno=1050, col_offset=58)], [], None, None, lineno=1050, col_offset=8), lineno=1050, col_offset=8), For(Tuple([Name('key', Store(), lineno=1053, col_offset=12), Name('val', Store(), lineno=1053, col_offset=17)], Store(), lineno=1053, col_offset=12), Call(Attribute(Attribute(Name('tar', Load(), lineno=1053, col_offset=24), 'pax_headers', Load(), lineno=1053, col_offset=24), 'iteritems', Load(), lineno=1053, col_offset=24), [], [], None, None, lineno=1053, col_offset=24), [Expr(Call(Attribute(Name('self', Load(), lineno=1054, col_offset=12), 'assertTrue', Load(), lineno=1054, col_offset=12), [Compare(Call(Name('type', Load(), lineno=1054, col_offset=28), [Name('key', Load(), lineno=1054, col_offset=33)], [], None, None, lineno=1054, col_offset=28), [Is()], [Name('unicode', Load(), lineno=1054, col_offset=41)], lineno=1054, col_offset=28)], [], None, None, lineno=1054, col_offset=12), lineno=1054, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=1055, col_offset=12), 'assertTrue', Load(), lineno=1055, col_offset=12), [Compare(Call(Name('type', Load(), lineno=1055, col_offset=28), [Name('val', Load(), lineno=1055, col_offset=33)], [], None, None, lineno=1055, col_offset=28), [Is()], [Name('unicode', Load(), lineno=1055, col_offset=41)], lineno=1055, col_offset=28)], [], None, None, lineno=1055, col_offset=12), lineno=1055, col_offset=12), If(Compare(Name('key', Load(), lineno=1056, col_offset=15), [In()], [Attribute(Name('tarfile', Load(), lineno=1056, col_offset=22), 'PAX_NUMBER_FIELDS', Load(), lineno=1056, col_offset=22)], lineno=1056, col_offset=15), [TryExcept([Expr(Call(Subscript(Attribute(Name('tarfile', Load(), lineno=1058, col_offset=20), 'PAX_NUMBER_FIELDS', Load(), lineno=1058, col_offset=20), Index(Name('key', Load(), lineno=1058, col_offset=46)), Load(), lineno=1058, col_offset=20), [Name('val', Load(), lineno=1058, col_offset=51)], [], None, None, lineno=1058, col_offset=20), lineno=1058, col_offset=20)], [ExceptHandler(Tuple([Name('TypeError', Load(), lineno=1059, col_offset=24), Name('ValueError', Load(), lineno=1059, col_offset=35)], Load(), lineno=1059, col_offset=24), None, [Expr(Call(Attribute(Name('self', Load(), lineno=1060, col_offset=20), 'fail', Load(), lineno=1060, col_offset=20), [Str('unable to convert pax header field', lineno=1060, col_offset=30)], [], None, None, lineno=1060, col_offset=20), lineno=1060, col_offset=20)], lineno=1059, col_offset=16)], [], lineno=1057, col_offset=16)], [], lineno=1056, col_offset=12)], [], lineno=1053, col_offset=8)], [], lineno=1034, col_offset=4), FunctionDef('test_pax_extended_header', arguments([Name('self', Param(), lineno=1062, col_offset=33)], None, None, []), [Assign([Name('pax_headers', Store(), lineno=1065, col_offset=8)], Dict([Str(u'path', lineno=1065, col_offset=23), Str(u'uid', lineno=1065, col_offset=40)], [Str(u'foo', lineno=1065, col_offset=32), Str(u'123', lineno=1065, col_offset=48)], lineno=1065, col_offset=22), lineno=1065, col_offset=8), Assign([Name('tar', Store(), lineno=1067, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1067, col_offset=14), 'open', Load(), lineno=1067, col_offset=14), [Name('tmpname', Load(), lineno=1067, col_offset=27), Str('w', lineno=1067, col_offset=36)], [keyword('format', Attribute(Name('tarfile', Load(), lineno=1067, col_offset=48), 'PAX_FORMAT', Load(), lineno=1067, col_offset=48)), keyword('encoding', Str('iso8859-1', lineno=1067, col_offset=77))], None, None, lineno=1067, col_offset=14), lineno=1067, col_offset=8), Assign([Name('t', Store(), lineno=1068, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1068, col_offset=12), 'TarInfo', Load(), lineno=1068, col_offset=12), [], [], None, None, lineno=1068, col_offset=12), lineno=1068, col_offset=8), Assign([Attribute(Name('t', Load(), lineno=1069, col_offset=8), 'name', Store(), lineno=1069, col_offset=8)], Str(u'\xe4\xf6\xfc', lineno=1069, col_offset=17), lineno=1069, col_offset=8), Assign([Attribute(Name('t', Load(), lineno=1070, col_offset=8), 'uid', Store(), lineno=1070, col_offset=8)], BinOp(Num(8, lineno=1070, col_offset=16), Pow(), Num(8, lineno=1070, col_offset=19), lineno=1070, col_offset=16), lineno=1070, col_offset=8), Assign([Attribute(Name('t', Load(), lineno=1071, col_offset=8), 'pax_headers', Store(), lineno=1071, col_offset=8)], Name('pax_headers', Load(), lineno=1071, col_offset=24), lineno=1071, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1072, col_offset=8), 'addfile', Load(), lineno=1072, col_offset=8), [Name('t', Load(), lineno=1072, col_offset=20)], [], None, None, lineno=1072, col_offset=8), lineno=1072, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1073, col_offset=8), 'close', Load(), lineno=1073, col_offset=8), [], [], None, None, lineno=1073, col_offset=8), lineno=1073, col_offset=8), Assign([Name('tar', Store(), lineno=1075, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1075, col_offset=14), 'open', Load(), lineno=1075, col_offset=14), [Name('tmpname', Load(), lineno=1075, col_offset=27)], [keyword('encoding', Str('iso8859-1', lineno=1075, col_offset=45))], None, None, lineno=1075, col_offset=14), lineno=1075, col_offset=8), Assign([Name('t', Store(), lineno=1076, col_offset=8)], Subscript(Call(Attribute(Name('tar', Load(), lineno=1076, col_offset=12), 'getmembers', Load(), lineno=1076, col_offset=12), [], [], None, None, lineno=1076, col_offset=12), Index(Num(0, lineno=1076, col_offset=29)), Load(), lineno=1076, col_offset=12), lineno=1076, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1077, col_offset=8), 'assertEqual', Load(), lineno=1077, col_offset=8), [Attribute(Name('t', Load(), lineno=1077, col_offset=25), 'pax_headers', Load(), lineno=1077, col_offset=25), Name('pax_headers', Load(), lineno=1077, col_offset=40)], [], None, None, lineno=1077, col_offset=8), lineno=1077, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1078, col_offset=8), 'assertEqual', Load(), lineno=1078, col_offset=8), [Attribute(Name('t', Load(), lineno=1078, col_offset=25), 'name', Load(), lineno=1078, col_offset=25), Str('foo', lineno=1078, col_offset=33)], [], None, None, lineno=1078, col_offset=8), lineno=1078, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1079, col_offset=8), 'assertEqual', Load(), lineno=1079, col_offset=8), [Attribute(Name('t', Load(), lineno=1079, col_offset=25), 'uid', Load(), lineno=1079, col_offset=25), Num(123, lineno=1079, col_offset=32)], [], None, None, lineno=1079, col_offset=8), lineno=1079, col_offset=8)], [], lineno=1062, col_offset=4)], [], lineno=1013, col_offset=0), ClassDef('UstarUnicodeTest', [Attribute(Name('unittest', Load(), lineno=1082, col_offset=23), 'TestCase', Load(), lineno=1082, col_offset=23)], [Assign([Name('format', Store(), lineno=1085, col_offset=4)], Attribute(Name('tarfile', Load(), lineno=1085, col_offset=13), 'USTAR_FORMAT', Load(), lineno=1085, col_offset=13), lineno=1085, col_offset=4), FunctionDef('test_iso8859_1_filename', arguments([Name('self', Param(), lineno=1087, col_offset=32)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1088, col_offset=8), '_test_unicode_filename', Load(), lineno=1088, col_offset=8), [Str('iso8859-1', lineno=1088, col_offset=36)], [], None, None, lineno=1088, col_offset=8), lineno=1088, col_offset=8)], [], lineno=1087, col_offset=4), FunctionDef('test_utf7_filename', arguments([Name('self', Param(), lineno=1090, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1091, col_offset=8), '_test_unicode_filename', Load(), lineno=1091, col_offset=8), [Str('utf7', lineno=1091, col_offset=36)], [], None, None, lineno=1091, col_offset=8), lineno=1091, col_offset=8)], [], lineno=1090, col_offset=4), FunctionDef('test_utf8_filename', arguments([Name('self', Param(), lineno=1093, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1094, col_offset=8), '_test_unicode_filename', Load(), lineno=1094, col_offset=8), [Str('utf8', lineno=1094, col_offset=36)], [], None, None, lineno=1094, col_offset=8), lineno=1094, col_offset=8)], [], lineno=1093, col_offset=4), FunctionDef('_test_unicode_filename', arguments([Name('self', Param(), lineno=1096, col_offset=31), Name('encoding', Param(), lineno=1096, col_offset=37)], None, None, []), [Assign([Name('tar', Store(), lineno=1097, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1097, col_offset=14), 'open', Load(), lineno=1097, col_offset=14), [Name('tmpname', Load(), lineno=1097, col_offset=27), Str('w', lineno=1097, col_offset=36)], [keyword('format', Attribute(Name('self', Load(), lineno=1097, col_offset=48), 'format', Load(), lineno=1097, col_offset=48)), keyword('encoding', Name('encoding', Load(), lineno=1097, col_offset=70)), keyword('errors', Str('strict', lineno=1097, col_offset=87))], None, None, lineno=1097, col_offset=14), lineno=1097, col_offset=8), Assign([Name('name', Store(), lineno=1098, col_offset=8)], Str(u'\xe4\xf6\xfc', lineno=1098, col_offset=15), lineno=1098, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1099, col_offset=8), 'addfile', Load(), lineno=1099, col_offset=8), [Call(Attribute(Name('tarfile', Load(), lineno=1099, col_offset=20), 'TarInfo', Load(), lineno=1099, col_offset=20), [Name('name', Load(), lineno=1099, col_offset=36)], [], None, None, lineno=1099, col_offset=20)], [], None, None, lineno=1099, col_offset=8), lineno=1099, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1100, col_offset=8), 'close', Load(), lineno=1100, col_offset=8), [], [], None, None, lineno=1100, col_offset=8), lineno=1100, col_offset=8), Assign([Name('tar', Store(), lineno=1102, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1102, col_offset=14), 'open', Load(), lineno=1102, col_offset=14), [Name('tmpname', Load(), lineno=1102, col_offset=27)], [keyword('encoding', Name('encoding', Load(), lineno=1102, col_offset=45))], None, None, lineno=1102, col_offset=14), lineno=1102, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1103, col_offset=8), 'assertTrue', Load(), lineno=1103, col_offset=8), [Compare(Call(Name('type', Load(), lineno=1103, col_offset=24), [Subscript(Call(Attribute(Name('tar', Load(), lineno=1103, col_offset=29), 'getnames', Load(), lineno=1103, col_offset=29), [], [], None, None, lineno=1103, col_offset=29), Index(Num(0, lineno=1103, col_offset=44)), Load(), lineno=1103, col_offset=29)], [], None, None, lineno=1103, col_offset=24), [IsNot()], [Name('unicode', Load(), lineno=1103, col_offset=55)], lineno=1103, col_offset=24)], [], None, None, lineno=1103, col_offset=8), lineno=1103, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1104, col_offset=8), 'assertEqual', Load(), lineno=1104, col_offset=8), [Attribute(Subscript(Call(Attribute(Name('tar', Load(), lineno=1104, col_offset=25), 'getmembers', Load(), lineno=1104, col_offset=25), [], [], None, None, lineno=1104, col_offset=25), Index(Num(0, lineno=1104, col_offset=42)), Load(), lineno=1104, col_offset=25), 'name', Load(), lineno=1104, col_offset=25), Call(Attribute(Name('name', Load(), lineno=1104, col_offset=51), 'encode', Load(), lineno=1104, col_offset=51), [Name('encoding', Load(), lineno=1104, col_offset=63)], [], None, None, lineno=1104, col_offset=51)], [], None, None, lineno=1104, col_offset=8), lineno=1104, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1105, col_offset=8), 'close', Load(), lineno=1105, col_offset=8), [], [], None, None, lineno=1105, col_offset=8), lineno=1105, col_offset=8)], [], lineno=1096, col_offset=4), FunctionDef('test_unicode_filename_error', arguments([Name('self', Param(), lineno=1107, col_offset=36)], None, None, []), [Assign([Name('tar', Store(), lineno=1108, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1108, col_offset=14), 'open', Load(), lineno=1108, col_offset=14), [Name('tmpname', Load(), lineno=1108, col_offset=27), Str('w', lineno=1108, col_offset=36)], [keyword('format', Attribute(Name('self', Load(), lineno=1108, col_offset=48), 'format', Load(), lineno=1108, col_offset=48)), keyword('encoding', Str('ascii', lineno=1108, col_offset=70)), keyword('errors', Str('strict', lineno=1108, col_offset=86))], None, None, lineno=1108, col_offset=14), lineno=1108, col_offset=8), Assign([Name('tarinfo', Store(), lineno=1109, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1109, col_offset=18), 'TarInfo', Load(), lineno=1109, col_offset=18), [], [], None, None, lineno=1109, col_offset=18), lineno=1109, col_offset=8), Assign([Attribute(Name('tarinfo', Load(), lineno=1111, col_offset=8), 'name', Store(), lineno=1111, col_offset=8)], Str('\xe4\xf6\xfc', lineno=1111, col_offset=23), lineno=1111, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=1112, col_offset=11), 'format', Load(), lineno=1112, col_offset=11), [Eq()], [Attribute(Name('tarfile', Load(), lineno=1112, col_offset=26), 'PAX_FORMAT', Load(), lineno=1112, col_offset=26)], lineno=1112, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=1113, col_offset=12), 'assertRaises', Load(), lineno=1113, col_offset=12), [Name('UnicodeError', Load(), lineno=1113, col_offset=30), Attribute(Name('tar', Load(), lineno=1113, col_offset=44), 'addfile', Load(), lineno=1113, col_offset=44), Name('tarinfo', Load(), lineno=1113, col_offset=57)], [], None, None, lineno=1113, col_offset=12), lineno=1113, col_offset=12)], [Expr(Call(Attribute(Name('tar', Load(), lineno=1115, col_offset=12), 'addfile', Load(), lineno=1115, col_offset=12), [Name('tarinfo', Load(), lineno=1115, col_offset=24)], [], None, None, lineno=1115, col_offset=12), lineno=1115, col_offset=12)], lineno=1112, col_offset=8), Assign([Attribute(Name('tarinfo', Load(), lineno=1117, col_offset=8), 'name', Store(), lineno=1117, col_offset=8)], Str(u'\xe4\xf6\xfc', lineno=1117, col_offset=23), lineno=1117, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1118, col_offset=8), 'assertRaises', Load(), lineno=1118, col_offset=8), [Name('UnicodeError', Load(), lineno=1118, col_offset=26), Attribute(Name('tar', Load(), lineno=1118, col_offset=40), 'addfile', Load(), lineno=1118, col_offset=40), Name('tarinfo', Load(), lineno=1118, col_offset=53)], [], None, None, lineno=1118, col_offset=8), lineno=1118, col_offset=8), Assign([Attribute(Name('tarinfo', Load(), lineno=1120, col_offset=8), 'name', Store(), lineno=1120, col_offset=8)], Str('foo', lineno=1120, col_offset=23), lineno=1120, col_offset=8), Assign([Attribute(Name('tarinfo', Load(), lineno=1121, col_offset=8), 'uname', Store(), lineno=1121, col_offset=8)], Str(u'\xe4\xf6\xfc', lineno=1121, col_offset=24), lineno=1121, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1122, col_offset=8), 'assertRaises', Load(), lineno=1122, col_offset=8), [Name('UnicodeError', Load(), lineno=1122, col_offset=26), Attribute(Name('tar', Load(), lineno=1122, col_offset=40), 'addfile', Load(), lineno=1122, col_offset=40), Name('tarinfo', Load(), lineno=1122, col_offset=53)], [], None, None, lineno=1122, col_offset=8), lineno=1122, col_offset=8)], [], lineno=1107, col_offset=4), FunctionDef('test_unicode_argument', arguments([Name('self', Param(), lineno=1124, col_offset=30)], None, None, []), [Assign([Name('tar', Store(), lineno=1125, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1125, col_offset=14), 'open', Load(), lineno=1125, col_offset=14), [Name('tarname', Load(), lineno=1125, col_offset=27), Str('r', lineno=1125, col_offset=36)], [keyword('encoding', Str('iso8859-1', lineno=1125, col_offset=50)), keyword('errors', Str('strict', lineno=1125, col_offset=70))], None, None, lineno=1125, col_offset=14), lineno=1125, col_offset=8), For(Name('t', Store(), lineno=1126, col_offset=12), Name('tar', Load(), lineno=1126, col_offset=17), [Expr(Call(Attribute(Name('self', Load(), lineno=1127, col_offset=12), 'assertTrue', Load(), lineno=1127, col_offset=12), [Compare(Call(Name('type', Load(), lineno=1127, col_offset=28), [Attribute(Name('t', Load(), lineno=1127, col_offset=33), 'name', Load(), lineno=1127, col_offset=33)], [], None, None, lineno=1127, col_offset=28), [Is()], [Name('str', Load(), lineno=1127, col_offset=44)], lineno=1127, col_offset=28)], [], None, None, lineno=1127, col_offset=12), lineno=1127, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=1128, col_offset=12), 'assertTrue', Load(), lineno=1128, col_offset=12), [Compare(Call(Name('type', Load(), lineno=1128, col_offset=28), [Attribute(Name('t', Load(), lineno=1128, col_offset=33), 'linkname', Load(), lineno=1128, col_offset=33)], [], None, None, lineno=1128, col_offset=28), [Is()], [Name('str', Load(), lineno=1128, col_offset=48)], lineno=1128, col_offset=28)], [], None, None, lineno=1128, col_offset=12), lineno=1128, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=1129, col_offset=12), 'assertTrue', Load(), lineno=1129, col_offset=12), [Compare(Call(Name('type', Load(), lineno=1129, col_offset=28), [Attribute(Name('t', Load(), lineno=1129, col_offset=33), 'uname', Load(), lineno=1129, col_offset=33)], [], None, None, lineno=1129, col_offset=28), [Is()], [Name('str', Load(), lineno=1129, col_offset=45)], lineno=1129, col_offset=28)], [], None, None, lineno=1129, col_offset=12), lineno=1129, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=1130, col_offset=12), 'assertTrue', Load(), lineno=1130, col_offset=12), [Compare(Call(Name('type', Load(), lineno=1130, col_offset=28), [Attribute(Name('t', Load(), lineno=1130, col_offset=33), 'gname', Load(), lineno=1130, col_offset=33)], [], None, None, lineno=1130, col_offset=28), [Is()], [Name('str', Load(), lineno=1130, col_offset=45)], lineno=1130, col_offset=28)], [], None, None, lineno=1130, col_offset=12), lineno=1130, col_offset=12)], [], lineno=1126, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1131, col_offset=8), 'close', Load(), lineno=1131, col_offset=8), [], [], None, None, lineno=1131, col_offset=8), lineno=1131, col_offset=8)], [], lineno=1124, col_offset=4), FunctionDef('test_uname_unicode', arguments([Name('self', Param(), lineno=1133, col_offset=27)], None, None, []), [For(Name('name', Store(), lineno=1134, col_offset=12), Tuple([Str(u'\xe4\xf6\xfc', lineno=1134, col_offset=21), Str('\xe4\xf6\xfc', lineno=1134, col_offset=32)], Load(), lineno=1134, col_offset=21), [Assign([Name('t', Store(), lineno=1135, col_offset=12)], Call(Attribute(Name('tarfile', Load(), lineno=1135, col_offset=16), 'TarInfo', Load(), lineno=1135, col_offset=16), [Str('foo', lineno=1135, col_offset=32)], [], None, None, lineno=1135, col_offset=16), lineno=1135, col_offset=12), Assign([Attribute(Name('t', Load(), lineno=1136, col_offset=12), 'uname', Store(), lineno=1136, col_offset=12)], Name('name', Load(), lineno=1136, col_offset=22), lineno=1136, col_offset=12), Assign([Attribute(Name('t', Load(), lineno=1137, col_offset=12), 'gname', Store(), lineno=1137, col_offset=12)], Name('name', Load(), lineno=1137, col_offset=22), lineno=1137, col_offset=12), Assign([Name('fobj', Store(), lineno=1139, col_offset=12)], Call(Attribute(Name('StringIO', Load(), lineno=1139, col_offset=19), 'StringIO', Load(), lineno=1139, col_offset=19), [], [], None, None, lineno=1139, col_offset=19), lineno=1139, col_offset=12), Assign([Name('tar', Store(), lineno=1140, col_offset=12)], Call(Attribute(Name('tarfile', Load(), lineno=1140, col_offset=18), 'open', Load(), lineno=1140, col_offset=18), [Str('foo.tar', lineno=1140, col_offset=31)], [keyword('mode', Str('w', lineno=1140, col_offset=47)), keyword('fileobj', Name('fobj', Load(), lineno=1140, col_offset=60)), keyword('format', Attribute(Name('self', Load(), lineno=1140, col_offset=73), 'format', Load(), lineno=1140, col_offset=73)), keyword('encoding', Str('iso8859-1', lineno=1140, col_offset=95))], None, None, lineno=1140, col_offset=18), lineno=1140, col_offset=12), Expr(Call(Attribute(Name('tar', Load(), lineno=1141, col_offset=12), 'addfile', Load(), lineno=1141, col_offset=12), [Name('t', Load(), lineno=1141, col_offset=24)], [], None, None, lineno=1141, col_offset=12), lineno=1141, col_offset=12), Expr(Call(Attribute(Name('tar', Load(), lineno=1142, col_offset=12), 'close', Load(), lineno=1142, col_offset=12), [], [], None, None, lineno=1142, col_offset=12), lineno=1142, col_offset=12), Expr(Call(Attribute(Name('fobj', Load(), lineno=1143, col_offset=12), 'seek', Load(), lineno=1143, col_offset=12), [Num(0, lineno=1143, col_offset=22)], [], None, None, lineno=1143, col_offset=12), lineno=1143, col_offset=12), Assign([Name('tar', Store(), lineno=1145, col_offset=12)], Call(Attribute(Name('tarfile', Load(), lineno=1145, col_offset=18), 'open', Load(), lineno=1145, col_offset=18), [Str('foo.tar', lineno=1145, col_offset=31)], [keyword('fileobj', Name('fobj', Load(), lineno=1145, col_offset=50)), keyword('encoding', Str('iso8859-1', lineno=1145, col_offset=65))], None, None, lineno=1145, col_offset=18), lineno=1145, col_offset=12), Assign([Name('t', Store(), lineno=1146, col_offset=12)], Call(Attribute(Name('tar', Load(), lineno=1146, col_offset=16), 'getmember', Load(), lineno=1146, col_offset=16), [Str('foo', lineno=1146, col_offset=30)], [], None, None, lineno=1146, col_offset=16), lineno=1146, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=1147, col_offset=12), 'assertEqual', Load(), lineno=1147, col_offset=12), [Attribute(Name('t', Load(), lineno=1147, col_offset=29), 'uname', Load(), lineno=1147, col_offset=29), Str('\xe4\xf6\xfc', lineno=1147, col_offset=38)], [], None, None, lineno=1147, col_offset=12), lineno=1147, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=1148, col_offset=12), 'assertEqual', Load(), lineno=1148, col_offset=12), [Attribute(Name('t', Load(), lineno=1148, col_offset=29), 'gname', Load(), lineno=1148, col_offset=29), Str('\xe4\xf6\xfc', lineno=1148, col_offset=38)], [], None, None, lineno=1148, col_offset=12), lineno=1148, col_offset=12)], [], lineno=1134, col_offset=8)], [], lineno=1133, col_offset=4)], [], lineno=1082, col_offset=0), ClassDef('GNUUnicodeTest', [Name('UstarUnicodeTest', Load(), lineno=1151, col_offset=21)], [Assign([Name('format', Store(), lineno=1153, col_offset=4)], Attribute(Name('tarfile', Load(), lineno=1153, col_offset=13), 'GNU_FORMAT', Load(), lineno=1153, col_offset=13), lineno=1153, col_offset=4)], [], lineno=1151, col_offset=0), ClassDef('PaxUnicodeTest', [Name('UstarUnicodeTest', Load(), lineno=1156, col_offset=21)], [Assign([Name('format', Store(), lineno=1158, col_offset=4)], Attribute(Name('tarfile', Load(), lineno=1158, col_offset=13), 'PAX_FORMAT', Load(), lineno=1158, col_offset=13), lineno=1158, col_offset=4), FunctionDef('_create_unicode_name', arguments([Name('self', Param(), lineno=1160, col_offset=29), Name('name', Param(), lineno=1160, col_offset=35)], None, None, []), [Assign([Name('tar', Store(), lineno=1161, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1161, col_offset=14), 'open', Load(), lineno=1161, col_offset=14), [Name('tmpname', Load(), lineno=1161, col_offset=27), Str('w', lineno=1161, col_offset=36)], [keyword('format', Attribute(Name('self', Load(), lineno=1161, col_offset=48), 'format', Load(), lineno=1161, col_offset=48))], None, None, lineno=1161, col_offset=14), lineno=1161, col_offset=8), Assign([Name('t', Store(), lineno=1162, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1162, col_offset=12), 'TarInfo', Load(), lineno=1162, col_offset=12), [], [], None, None, lineno=1162, col_offset=12), lineno=1162, col_offset=8), Assign([Subscript(Attribute(Name('t', Load(), lineno=1163, col_offset=8), 'pax_headers', Load(), lineno=1163, col_offset=8), Index(Str('path', lineno=1163, col_offset=22)), Store(), lineno=1163, col_offset=8)], Name('name', Load(), lineno=1163, col_offset=32), lineno=1163, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1164, col_offset=8), 'addfile', Load(), lineno=1164, col_offset=8), [Name('t', Load(), lineno=1164, col_offset=20)], [], None, None, lineno=1164, col_offset=8), lineno=1164, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1165, col_offset=8), 'close', Load(), lineno=1165, col_offset=8), [], [], None, None, lineno=1165, col_offset=8), lineno=1165, col_offset=8)], [], lineno=1160, col_offset=4), FunctionDef('test_error_handlers', arguments([Name('self', Param(), lineno=1167, col_offset=28)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1170, col_offset=8), '_create_unicode_name', Load(), lineno=1170, col_offset=8), [Str(u'\xe4\xf6\xfc', lineno=1170, col_offset=34)], [], None, None, lineno=1170, col_offset=8), lineno=1170, col_offset=8), For(Tuple([Name('handler', Store(), lineno=1172, col_offset=12), Name('name', Store(), lineno=1172, col_offset=21)], Store(), lineno=1172, col_offset=12), Tuple([Tuple([Str('utf-8', lineno=1172, col_offset=31), Call(Attribute(Str(u'\xe4\xf6\xfc', lineno=1172, col_offset=40), 'encode', Load(), lineno=1172, col_offset=40), [Str('utf8', lineno=1172, col_offset=57)], [], None, None, lineno=1172, col_offset=40)], Load(), lineno=1172, col_offset=31), Tuple([Str('replace', lineno=1173, col_offset=21), Str('???', lineno=1173, col_offset=32)], Load(), lineno=1173, col_offset=21), Tuple([Str('ignore', lineno=1173, col_offset=41), Str('', lineno=1173, col_offset=51)], Load(), lineno=1173, col_offset=41)], Load(), lineno=1172, col_offset=30), [Assign([Name('tar', Store(), lineno=1174, col_offset=12)], Call(Attribute(Name('tarfile', Load(), lineno=1174, col_offset=18), 'open', Load(), lineno=1174, col_offset=18), [Name('tmpname', Load(), lineno=1174, col_offset=31)], [keyword('format', Attribute(Name('self', Load(), lineno=1174, col_offset=47), 'format', Load(), lineno=1174, col_offset=47)), keyword('encoding', Str('ascii', lineno=1174, col_offset=69)), keyword('errors', Name('handler', Load(), lineno=1175, col_offset=27))], None, None, lineno=1174, col_offset=18), lineno=1174, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=1176, col_offset=12), 'assertEqual', Load(), lineno=1176, col_offset=12), [Subscript(Call(Attribute(Name('tar', Load(), lineno=1176, col_offset=29), 'getnames', Load(), lineno=1176, col_offset=29), [], [], None, None, lineno=1176, col_offset=29), Index(Num(0, lineno=1176, col_offset=44)), Load(), lineno=1176, col_offset=29), Name('name', Load(), lineno=1176, col_offset=48)], [], None, None, lineno=1176, col_offset=12), lineno=1176, col_offset=12)], [], lineno=1172, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1178, col_offset=8), 'assertRaises', Load(), lineno=1178, col_offset=8), [Name('UnicodeError', Load(), lineno=1178, col_offset=26), Attribute(Name('tarfile', Load(), lineno=1178, col_offset=40), 'open', Load(), lineno=1178, col_offset=40), Name('tmpname', Load(), lineno=1178, col_offset=54)], [keyword('encoding', Str('ascii', lineno=1179, col_offset=25)), keyword('errors', Str('strict', lineno=1179, col_offset=41))], None, None, lineno=1178, col_offset=8), lineno=1178, col_offset=8)], [], lineno=1167, col_offset=4), FunctionDef('test_error_handler_utf8', arguments([Name('self', Param(), lineno=1181, col_offset=32)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1184, col_offset=8), '_create_unicode_name', Load(), lineno=1184, col_offset=8), [Str(u'\xe4\xf6\xfc/\u20ac', lineno=1184, col_offset=34)], [], None, None, lineno=1184, col_offset=8), lineno=1184, col_offset=8), Assign([Name('tar', Store(), lineno=1186, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1186, col_offset=14), 'open', Load(), lineno=1186, col_offset=14), [Name('tmpname', Load(), lineno=1186, col_offset=27)], [keyword('format', Attribute(Name('self', Load(), lineno=1186, col_offset=43), 'format', Load(), lineno=1186, col_offset=43)), keyword('encoding', Str('iso8859-1', lineno=1186, col_offset=65)), keyword('errors', Str('utf-8', lineno=1187, col_offset=23))], None, None, lineno=1186, col_offset=14), lineno=1186, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1188, col_offset=8), 'assertEqual', Load(), lineno=1188, col_offset=8), [Subscript(Call(Attribute(Name('tar', Load(), lineno=1188, col_offset=25), 'getnames', Load(), lineno=1188, col_offset=25), [], [], None, None, lineno=1188, col_offset=25), Index(Num(0, lineno=1188, col_offset=40)), Load(), lineno=1188, col_offset=25), BinOp(Str('\xe4\xf6\xfc/', lineno=1188, col_offset=44), Add(), Call(Attribute(Str(u'\u20ac', lineno=1188, col_offset=56), 'encode', Load(), lineno=1188, col_offset=56), [Str('utf8', lineno=1188, col_offset=70)], [], None, None, lineno=1188, col_offset=56), lineno=1188, col_offset=44)], [], None, None, lineno=1188, col_offset=8), lineno=1188, col_offset=8)], [], lineno=1181, col_offset=4)], [], lineno=1156, col_offset=0), ClassDef('AppendTest', [Attribute(Name('unittest', Load(), lineno=1191, col_offset=17), 'TestCase', Load(), lineno=1191, col_offset=17)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=1194, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=1195, col_offset=8), 'tarname', Store(), lineno=1195, col_offset=8)], Name('tmpname', Load(), lineno=1195, col_offset=23), lineno=1195, col_offset=8), If(Call(Attribute(Attribute(Name('os', Load(), lineno=1196, col_offset=11), 'path', Load(), lineno=1196, col_offset=11), 'exists', Load(), lineno=1196, col_offset=11), [Attribute(Name('self', Load(), lineno=1196, col_offset=26), 'tarname', Load(), lineno=1196, col_offset=26)], [], None, None, lineno=1196, col_offset=11), [Expr(Call(Attribute(Name('os', Load(), lineno=1197, col_offset=12), 'remove', Load(), lineno=1197, col_offset=12), [Attribute(Name('self', Load(), lineno=1197, col_offset=22), 'tarname', Load(), lineno=1197, col_offset=22)], [], None, None, lineno=1197, col_offset=12), lineno=1197, col_offset=12)], [], lineno=1196, col_offset=8)], [], lineno=1194, col_offset=4), FunctionDef('_add_testfile', arguments([Name('self', Param(), lineno=1199, col_offset=22), Name('fileobj', Param(), lineno=1199, col_offset=28)], None, None, [Name('None', Load(), lineno=1199, col_offset=36)]), [Assign([Name('tar', Store(), lineno=1200, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1200, col_offset=14), 'open', Load(), lineno=1200, col_offset=14), [Attribute(Name('self', Load(), lineno=1200, col_offset=27), 'tarname', Load(), lineno=1200, col_offset=27), Str('a', lineno=1200, col_offset=41)], [keyword('fileobj', Name('fileobj', Load(), lineno=1200, col_offset=54))], None, None, lineno=1200, col_offset=14), lineno=1200, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1201, col_offset=8), 'addfile', Load(), lineno=1201, col_offset=8), [Call(Attribute(Name('tarfile', Load(), lineno=1201, col_offset=20), 'TarInfo', Load(), lineno=1201, col_offset=20), [Str('bar', lineno=1201, col_offset=36)], [], None, None, lineno=1201, col_offset=20)], [], None, None, lineno=1201, col_offset=8), lineno=1201, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1202, col_offset=8), 'close', Load(), lineno=1202, col_offset=8), [], [], None, None, lineno=1202, col_offset=8), lineno=1202, col_offset=8)], [], lineno=1199, col_offset=4), FunctionDef('_create_testtar', arguments([Name('self', Param(), lineno=1204, col_offset=24), Name('mode', Param(), lineno=1204, col_offset=30)], None, None, [Str('w:', lineno=1204, col_offset=35)]), [Assign([Name('src', Store(), lineno=1205, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1205, col_offset=14), 'open', Load(), lineno=1205, col_offset=14), [Name('tarname', Load(), lineno=1205, col_offset=27)], [keyword('encoding', Str('iso8859-1', lineno=1205, col_offset=45))], None, None, lineno=1205, col_offset=14), lineno=1205, col_offset=8), Assign([Name('t', Store(), lineno=1206, col_offset=8)], Call(Attribute(Name('src', Load(), lineno=1206, col_offset=12), 'getmember', Load(), lineno=1206, col_offset=12), [Str('ustar/regtype', lineno=1206, col_offset=26)], [], None, None, lineno=1206, col_offset=12), lineno=1206, col_offset=8), Assign([Attribute(Name('t', Load(), lineno=1207, col_offset=8), 'name', Store(), lineno=1207, col_offset=8)], Str('foo', lineno=1207, col_offset=17), lineno=1207, col_offset=8), Assign([Name('f', Store(), lineno=1208, col_offset=8)], Call(Attribute(Name('src', Load(), lineno=1208, col_offset=12), 'extractfile', Load(), lineno=1208, col_offset=12), [Name('t', Load(), lineno=1208, col_offset=28)], [], None, None, lineno=1208, col_offset=12), lineno=1208, col_offset=8), Assign([Name('tar', Store(), lineno=1209, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1209, col_offset=14), 'open', Load(), lineno=1209, col_offset=14), [Attribute(Name('self', Load(), lineno=1209, col_offset=27), 'tarname', Load(), lineno=1209, col_offset=27), Name('mode', Load(), lineno=1209, col_offset=41)], [], None, None, lineno=1209, col_offset=14), lineno=1209, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1210, col_offset=8), 'addfile', Load(), lineno=1210, col_offset=8), [Name('t', Load(), lineno=1210, col_offset=20), Name('f', Load(), lineno=1210, col_offset=23)], [], None, None, lineno=1210, col_offset=8), lineno=1210, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1211, col_offset=8), 'close', Load(), lineno=1211, col_offset=8), [], [], None, None, lineno=1211, col_offset=8), lineno=1211, col_offset=8)], [], lineno=1204, col_offset=4), FunctionDef('_test', arguments([Name('self', Param(), lineno=1213, col_offset=14), Name('names', Param(), lineno=1213, col_offset=20), Name('fileobj', Param(), lineno=1213, col_offset=35)], None, None, [List([Str('bar', lineno=1213, col_offset=27)], Load(), lineno=1213, col_offset=26), Name('None', Load(), lineno=1213, col_offset=43)]), [Assign([Name('tar', Store(), lineno=1214, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1214, col_offset=14), 'open', Load(), lineno=1214, col_offset=14), [Attribute(Name('self', Load(), lineno=1214, col_offset=27), 'tarname', Load(), lineno=1214, col_offset=27)], [keyword('fileobj', Name('fileobj', Load(), lineno=1214, col_offset=49))], None, None, lineno=1214, col_offset=14), lineno=1214, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1215, col_offset=8), 'assertEqual', Load(), lineno=1215, col_offset=8), [Call(Attribute(Name('tar', Load(), lineno=1215, col_offset=25), 'getnames', Load(), lineno=1215, col_offset=25), [], [], None, None, lineno=1215, col_offset=25), Name('names', Load(), lineno=1215, col_offset=41)], [], None, None, lineno=1215, col_offset=8), lineno=1215, col_offset=8)], [], lineno=1213, col_offset=4), FunctionDef('test_non_existing', arguments([Name('self', Param(), lineno=1217, col_offset=26)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1218, col_offset=8), '_add_testfile', Load(), lineno=1218, col_offset=8), [], [], None, None, lineno=1218, col_offset=8), lineno=1218, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1219, col_offset=8), '_test', Load(), lineno=1219, col_offset=8), [], [], None, None, lineno=1219, col_offset=8), lineno=1219, col_offset=8)], [], lineno=1217, col_offset=4), FunctionDef('test_empty', arguments([Name('self', Param(), lineno=1221, col_offset=19)], None, None, []), [Expr(Call(Attribute(Call(Attribute(Name('tarfile', Load(), lineno=1222, col_offset=8), 'open', Load(), lineno=1222, col_offset=8), [Attribute(Name('self', Load(), lineno=1222, col_offset=21), 'tarname', Load(), lineno=1222, col_offset=21), Str('w:', lineno=1222, col_offset=35)], [], None, None, lineno=1222, col_offset=8), 'close', Load(), lineno=1222, col_offset=8), [], [], None, None, lineno=1222, col_offset=8), lineno=1222, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1223, col_offset=8), '_add_testfile', Load(), lineno=1223, col_offset=8), [], [], None, None, lineno=1223, col_offset=8), lineno=1223, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1224, col_offset=8), '_test', Load(), lineno=1224, col_offset=8), [], [], None, None, lineno=1224, col_offset=8), lineno=1224, col_offset=8)], [], lineno=1221, col_offset=4), FunctionDef('test_empty_fileobj', arguments([Name('self', Param(), lineno=1226, col_offset=27)], None, None, []), [Assign([Name('fobj', Store(), lineno=1227, col_offset=8)], Call(Attribute(Name('StringIO', Load(), lineno=1227, col_offset=15), 'StringIO', Load(), lineno=1227, col_offset=15), [BinOp(Str('\x00', lineno=1227, col_offset=33), Mult(), Num(1024, lineno=1227, col_offset=40), lineno=1227, col_offset=33)], [], None, None, lineno=1227, col_offset=15), lineno=1227, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1228, col_offset=8), '_add_testfile', Load(), lineno=1228, col_offset=8), [Name('fobj', Load(), lineno=1228, col_offset=27)], [], None, None, lineno=1228, col_offset=8), lineno=1228, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=1229, col_offset=8), 'seek', Load(), lineno=1229, col_offset=8), [Num(0, lineno=1229, col_offset=18)], [], None, None, lineno=1229, col_offset=8), lineno=1229, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1230, col_offset=8), '_test', Load(), lineno=1230, col_offset=8), [], [keyword('fileobj', Name('fobj', Load(), lineno=1230, col_offset=27))], None, None, lineno=1230, col_offset=8), lineno=1230, col_offset=8)], [], lineno=1226, col_offset=4), FunctionDef('test_fileobj', arguments([Name('self', Param(), lineno=1232, col_offset=21)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1233, col_offset=8), '_create_testtar', Load(), lineno=1233, col_offset=8), [], [], None, None, lineno=1233, col_offset=8), lineno=1233, col_offset=8), Assign([Name('data', Store(), lineno=1234, col_offset=8)], Call(Attribute(Call(Name('open', Load(), lineno=1234, col_offset=15), [Attribute(Name('self', Load(), lineno=1234, col_offset=20), 'tarname', Load(), lineno=1234, col_offset=20)], [], None, None, lineno=1234, col_offset=15), 'read', Load(), lineno=1234, col_offset=15), [], [], None, None, lineno=1234, col_offset=15), lineno=1234, col_offset=8), Assign([Name('fobj', Store(), lineno=1235, col_offset=8)], Call(Attribute(Name('StringIO', Load(), lineno=1235, col_offset=15), 'StringIO', Load(), lineno=1235, col_offset=15), [Name('data', Load(), lineno=1235, col_offset=33)], [], None, None, lineno=1235, col_offset=15), lineno=1235, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1236, col_offset=8), '_add_testfile', Load(), lineno=1236, col_offset=8), [Name('fobj', Load(), lineno=1236, col_offset=27)], [], None, None, lineno=1236, col_offset=8), lineno=1236, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=1237, col_offset=8), 'seek', Load(), lineno=1237, col_offset=8), [Num(0, lineno=1237, col_offset=18)], [], None, None, lineno=1237, col_offset=8), lineno=1237, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1238, col_offset=8), '_test', Load(), lineno=1238, col_offset=8), [], [keyword('names', List([Str('foo', lineno=1238, col_offset=26), Str('bar', lineno=1238, col_offset=33)], Load(), lineno=1238, col_offset=25)), keyword('fileobj', Name('fobj', Load(), lineno=1238, col_offset=49))], None, None, lineno=1238, col_offset=8), lineno=1238, col_offset=8)], [], lineno=1232, col_offset=4), FunctionDef('test_existing', arguments([Name('self', Param(), lineno=1240, col_offset=22)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1241, col_offset=8), '_create_testtar', Load(), lineno=1241, col_offset=8), [], [], None, None, lineno=1241, col_offset=8), lineno=1241, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1242, col_offset=8), '_add_testfile', Load(), lineno=1242, col_offset=8), [], [], None, None, lineno=1242, col_offset=8), lineno=1242, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1243, col_offset=8), '_test', Load(), lineno=1243, col_offset=8), [], [keyword('names', List([Str('foo', lineno=1243, col_offset=26), Str('bar', lineno=1243, col_offset=33)], Load(), lineno=1243, col_offset=25))], None, None, lineno=1243, col_offset=8), lineno=1243, col_offset=8)], [], lineno=1240, col_offset=4), FunctionDef('test_append_gz', arguments([Name('self', Param(), lineno=1245, col_offset=23)], None, None, []), [If(Compare(Name('gzip', Load(), lineno=1246, col_offset=11), [Is()], [Name('None', Load(), lineno=1246, col_offset=19)], lineno=1246, col_offset=11), [Return(None, lineno=1247, col_offset=12)], [], lineno=1246, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1248, col_offset=8), '_create_testtar', Load(), lineno=1248, col_offset=8), [Str('w:gz', lineno=1248, col_offset=29)], [], None, None, lineno=1248, col_offset=8), lineno=1248, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1249, col_offset=8), 'assertRaises', Load(), lineno=1249, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=1249, col_offset=26), 'ReadError', Load(), lineno=1249, col_offset=26), Attribute(Name('tarfile', Load(), lineno=1249, col_offset=45), 'open', Load(), lineno=1249, col_offset=45), Name('tmpname', Load(), lineno=1249, col_offset=59), Str('a', lineno=1249, col_offset=68)], [], None, None, lineno=1249, col_offset=8), lineno=1249, col_offset=8)], [], lineno=1245, col_offset=4), FunctionDef('test_append_bz2', arguments([Name('self', Param(), lineno=1251, col_offset=24)], None, None, []), [If(Compare(Name('bz2', Load(), lineno=1252, col_offset=11), [Is()], [Name('None', Load(), lineno=1252, col_offset=18)], lineno=1252, col_offset=11), [Return(None, lineno=1253, col_offset=12)], [], lineno=1252, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1254, col_offset=8), '_create_testtar', Load(), lineno=1254, col_offset=8), [Str('w:bz2', lineno=1254, col_offset=29)], [], None, None, lineno=1254, col_offset=8), lineno=1254, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1255, col_offset=8), 'assertRaises', Load(), lineno=1255, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=1255, col_offset=26), 'ReadError', Load(), lineno=1255, col_offset=26), Attribute(Name('tarfile', Load(), lineno=1255, col_offset=45), 'open', Load(), lineno=1255, col_offset=45), Name('tmpname', Load(), lineno=1255, col_offset=59), Str('a', lineno=1255, col_offset=68)], [], None, None, lineno=1255, col_offset=8), lineno=1255, col_offset=8)], [], lineno=1251, col_offset=4), FunctionDef('_test_error', arguments([Name('self', Param(), lineno=1259, col_offset=20), Name('data', Param(), lineno=1259, col_offset=26)], None, None, []), [Expr(Call(Attribute(Call(Name('open', Load(), lineno=1260, col_offset=8), [Attribute(Name('self', Load(), lineno=1260, col_offset=13), 'tarname', Load(), lineno=1260, col_offset=13), Str('wb', lineno=1260, col_offset=27)], [], None, None, lineno=1260, col_offset=8), 'write', Load(), lineno=1260, col_offset=8), [Name('data', Load(), lineno=1260, col_offset=39)], [], None, None, lineno=1260, col_offset=8), lineno=1260, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1261, col_offset=8), 'assertRaises', Load(), lineno=1261, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=1261, col_offset=26), 'ReadError', Load(), lineno=1261, col_offset=26), Attribute(Name('self', Load(), lineno=1261, col_offset=45), '_add_testfile', Load(), lineno=1261, col_offset=45)], [], None, None, lineno=1261, col_offset=8), lineno=1261, col_offset=8)], [], lineno=1259, col_offset=4), FunctionDef('test_null', arguments([Name('self', Param(), lineno=1263, col_offset=18)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1264, col_offset=8), '_test_error', Load(), lineno=1264, col_offset=8), [Str('', lineno=1264, col_offset=25)], [], None, None, lineno=1264, col_offset=8), lineno=1264, col_offset=8)], [], lineno=1263, col_offset=4), FunctionDef('test_incomplete', arguments([Name('self', Param(), lineno=1266, col_offset=24)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1267, col_offset=8), '_test_error', Load(), lineno=1267, col_offset=8), [BinOp(Str('\x00', lineno=1267, col_offset=25), Mult(), Num(13, lineno=1267, col_offset=32), lineno=1267, col_offset=25)], [], None, None, lineno=1267, col_offset=8), lineno=1267, col_offset=8)], [], lineno=1266, col_offset=4), FunctionDef('test_premature_eof', arguments([Name('self', Param(), lineno=1269, col_offset=27)], None, None, []), [Assign([Name('data', Store(), lineno=1270, col_offset=8)], Call(Attribute(Call(Attribute(Name('tarfile', Load(), lineno=1270, col_offset=15), 'TarInfo', Load(), lineno=1270, col_offset=15), [Str('foo', lineno=1270, col_offset=31)], [], None, None, lineno=1270, col_offset=15), 'tobuf', Load(), lineno=1270, col_offset=15), [], [], None, None, lineno=1270, col_offset=15), lineno=1270, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1271, col_offset=8), '_test_error', Load(), lineno=1271, col_offset=8), [Name('data', Load(), lineno=1271, col_offset=25)], [], None, None, lineno=1271, col_offset=8), lineno=1271, col_offset=8)], [], lineno=1269, col_offset=4), FunctionDef('test_trailing_garbage', arguments([Name('self', Param(), lineno=1273, col_offset=30)], None, None, []), [Assign([Name('data', Store(), lineno=1274, col_offset=8)], Call(Attribute(Call(Attribute(Name('tarfile', Load(), lineno=1274, col_offset=15), 'TarInfo', Load(), lineno=1274, col_offset=15), [Str('foo', lineno=1274, col_offset=31)], [], None, None, lineno=1274, col_offset=15), 'tobuf', Load(), lineno=1274, col_offset=15), [], [], None, None, lineno=1274, col_offset=15), lineno=1274, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1275, col_offset=8), '_test_error', Load(), lineno=1275, col_offset=8), [BinOp(Name('data', Load(), lineno=1275, col_offset=25), Add(), BinOp(Str('\x00', lineno=1275, col_offset=32), Mult(), Num(13, lineno=1275, col_offset=39), lineno=1275, col_offset=32), lineno=1275, col_offset=25)], [], None, None, lineno=1275, col_offset=8), lineno=1275, col_offset=8)], [], lineno=1273, col_offset=4), FunctionDef('test_invalid', arguments([Name('self', Param(), lineno=1277, col_offset=21)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1278, col_offset=8), '_test_error', Load(), lineno=1278, col_offset=8), [BinOp(Str('a', lineno=1278, col_offset=25), Mult(), Num(512, lineno=1278, col_offset=31), lineno=1278, col_offset=25)], [], None, None, lineno=1278, col_offset=8), lineno=1278, col_offset=8)], [], lineno=1277, col_offset=4)], [], lineno=1191, col_offset=0), ClassDef('LimitsTest', [Attribute(Name('unittest', Load(), lineno=1281, col_offset=17), 'TestCase', Load(), lineno=1281, col_offset=17)], [FunctionDef('test_ustar_limits', arguments([Name('self', Param(), lineno=1283, col_offset=26)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=1285, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1285, col_offset=18), 'TarInfo', Load(), lineno=1285, col_offset=18), [BinOp(Str('0123456789', lineno=1285, col_offset=34), Mult(), Num(10, lineno=1285, col_offset=49), lineno=1285, col_offset=34)], [], None, None, lineno=1285, col_offset=18), lineno=1285, col_offset=8), Expr(Call(Attribute(Name('tarinfo', Load(), lineno=1286, col_offset=8), 'tobuf', Load(), lineno=1286, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=1286, col_offset=22), 'USTAR_FORMAT', Load(), lineno=1286, col_offset=22)], [], None, None, lineno=1286, col_offset=8), lineno=1286, col_offset=8), Assign([Name('tarinfo', Store(), lineno=1289, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1289, col_offset=18), 'TarInfo', Load(), lineno=1289, col_offset=18), [BinOp(BinOp(Str('0123456789', lineno=1289, col_offset=34), Mult(), Num(10, lineno=1289, col_offset=49), lineno=1289, col_offset=34), Add(), Str('0', lineno=1289, col_offset=54), lineno=1289, col_offset=34)], [], None, None, lineno=1289, col_offset=18), lineno=1289, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1290, col_offset=8), 'assertRaises', Load(), lineno=1290, col_offset=8), [Name('ValueError', Load(), lineno=1290, col_offset=26), Attribute(Name('tarinfo', Load(), lineno=1290, col_offset=38), 'tobuf', Load(), lineno=1290, col_offset=38), Attribute(Name('tarfile', Load(), lineno=1290, col_offset=53), 'USTAR_FORMAT', Load(), lineno=1290, col_offset=53)], [], None, None, lineno=1290, col_offset=8), lineno=1290, col_offset=8), Assign([Name('tarinfo', Store(), lineno=1293, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1293, col_offset=18), 'TarInfo', Load(), lineno=1293, col_offset=18), [BinOp(BinOp(Str('123/', lineno=1293, col_offset=34), Mult(), Num(62, lineno=1293, col_offset=43), lineno=1293, col_offset=34), Add(), Str('longname', lineno=1293, col_offset=48), lineno=1293, col_offset=34)], [], None, None, lineno=1293, col_offset=18), lineno=1293, col_offset=8), Expr(Call(Attribute(Name('tarinfo', Load(), lineno=1294, col_offset=8), 'tobuf', Load(), lineno=1294, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=1294, col_offset=22), 'USTAR_FORMAT', Load(), lineno=1294, col_offset=22)], [], None, None, lineno=1294, col_offset=8), lineno=1294, col_offset=8), Assign([Name('tarinfo', Store(), lineno=1297, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1297, col_offset=18), 'TarInfo', Load(), lineno=1297, col_offset=18), [BinOp(BinOp(Str('1234567/', lineno=1297, col_offset=34), Mult(), Num(31, lineno=1297, col_offset=47), lineno=1297, col_offset=34), Add(), Str('longname', lineno=1297, col_offset=52), lineno=1297, col_offset=34)], [], None, None, lineno=1297, col_offset=18), lineno=1297, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1298, col_offset=8), 'assertRaises', Load(), lineno=1298, col_offset=8), [Name('ValueError', Load(), lineno=1298, col_offset=26), Attribute(Name('tarinfo', Load(), lineno=1298, col_offset=38), 'tobuf', Load(), lineno=1298, col_offset=38), Attribute(Name('tarfile', Load(), lineno=1298, col_offset=53), 'USTAR_FORMAT', Load(), lineno=1298, col_offset=53)], [], None, None, lineno=1298, col_offset=8), lineno=1298, col_offset=8), Assign([Name('tarinfo', Store(), lineno=1301, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1301, col_offset=18), 'TarInfo', Load(), lineno=1301, col_offset=18), [BinOp(BinOp(Str('123/', lineno=1301, col_offset=34), Mult(), Num(126, lineno=1301, col_offset=43), lineno=1301, col_offset=34), Add(), Str('longname', lineno=1301, col_offset=49), lineno=1301, col_offset=34)], [], None, None, lineno=1301, col_offset=18), lineno=1301, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1302, col_offset=8), 'assertRaises', Load(), lineno=1302, col_offset=8), [Name('ValueError', Load(), lineno=1302, col_offset=26), Attribute(Name('tarinfo', Load(), lineno=1302, col_offset=38), 'tobuf', Load(), lineno=1302, col_offset=38), Attribute(Name('tarfile', Load(), lineno=1302, col_offset=53), 'USTAR_FORMAT', Load(), lineno=1302, col_offset=53)], [], None, None, lineno=1302, col_offset=8), lineno=1302, col_offset=8), Assign([Name('tarinfo', Store(), lineno=1305, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1305, col_offset=18), 'TarInfo', Load(), lineno=1305, col_offset=18), [Str('longlink', lineno=1305, col_offset=34)], [], None, None, lineno=1305, col_offset=18), lineno=1305, col_offset=8), Assign([Attribute(Name('tarinfo', Load(), lineno=1306, col_offset=8), 'linkname', Store(), lineno=1306, col_offset=8)], BinOp(BinOp(Str('123/', lineno=1306, col_offset=27), Mult(), Num(126, lineno=1306, col_offset=36), lineno=1306, col_offset=27), Add(), Str('longname', lineno=1306, col_offset=42), lineno=1306, col_offset=27), lineno=1306, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1307, col_offset=8), 'assertRaises', Load(), lineno=1307, col_offset=8), [Name('ValueError', Load(), lineno=1307, col_offset=26), Attribute(Name('tarinfo', Load(), lineno=1307, col_offset=38), 'tobuf', Load(), lineno=1307, col_offset=38), Attribute(Name('tarfile', Load(), lineno=1307, col_offset=53), 'USTAR_FORMAT', Load(), lineno=1307, col_offset=53)], [], None, None, lineno=1307, col_offset=8), lineno=1307, col_offset=8), Assign([Name('tarinfo', Store(), lineno=1310, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1310, col_offset=18), 'TarInfo', Load(), lineno=1310, col_offset=18), [Str('name', lineno=1310, col_offset=34)], [], None, None, lineno=1310, col_offset=18), lineno=1310, col_offset=8), Assign([Attribute(Name('tarinfo', Load(), lineno=1311, col_offset=8), 'uid', Store(), lineno=1311, col_offset=8)], Num(2097152, lineno=1311, col_offset=22), lineno=1311, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1312, col_offset=8), 'assertRaises', Load(), lineno=1312, col_offset=8), [Name('ValueError', Load(), lineno=1312, col_offset=26), Attribute(Name('tarinfo', Load(), lineno=1312, col_offset=38), 'tobuf', Load(), lineno=1312, col_offset=38), Attribute(Name('tarfile', Load(), lineno=1312, col_offset=53), 'USTAR_FORMAT', Load(), lineno=1312, col_offset=53)], [], None, None, lineno=1312, col_offset=8), lineno=1312, col_offset=8)], [], lineno=1283, col_offset=4), FunctionDef('test_gnu_limits', arguments([Name('self', Param(), lineno=1314, col_offset=24)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=1315, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1315, col_offset=18), 'TarInfo', Load(), lineno=1315, col_offset=18), [BinOp(BinOp(Str('123/', lineno=1315, col_offset=34), Mult(), Num(126, lineno=1315, col_offset=43), lineno=1315, col_offset=34), Add(), Str('longname', lineno=1315, col_offset=49), lineno=1315, col_offset=34)], [], None, None, lineno=1315, col_offset=18), lineno=1315, col_offset=8), Expr(Call(Attribute(Name('tarinfo', Load(), lineno=1316, col_offset=8), 'tobuf', Load(), lineno=1316, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=1316, col_offset=22), 'GNU_FORMAT', Load(), lineno=1316, col_offset=22)], [], None, None, lineno=1316, col_offset=8), lineno=1316, col_offset=8), Assign([Name('tarinfo', Store(), lineno=1318, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1318, col_offset=18), 'TarInfo', Load(), lineno=1318, col_offset=18), [Str('longlink', lineno=1318, col_offset=34)], [], None, None, lineno=1318, col_offset=18), lineno=1318, col_offset=8), Assign([Attribute(Name('tarinfo', Load(), lineno=1319, col_offset=8), 'linkname', Store(), lineno=1319, col_offset=8)], BinOp(BinOp(Str('123/', lineno=1319, col_offset=27), Mult(), Num(126, lineno=1319, col_offset=36), lineno=1319, col_offset=27), Add(), Str('longname', lineno=1319, col_offset=42), lineno=1319, col_offset=27), lineno=1319, col_offset=8), Expr(Call(Attribute(Name('tarinfo', Load(), lineno=1320, col_offset=8), 'tobuf', Load(), lineno=1320, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=1320, col_offset=22), 'GNU_FORMAT', Load(), lineno=1320, col_offset=22)], [], None, None, lineno=1320, col_offset=8), lineno=1320, col_offset=8), Assign([Name('tarinfo', Store(), lineno=1323, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1323, col_offset=18), 'TarInfo', Load(), lineno=1323, col_offset=18), [Str('name', lineno=1323, col_offset=34)], [], None, None, lineno=1323, col_offset=18), lineno=1323, col_offset=8), Assign([Attribute(Name('tarinfo', Load(), lineno=1324, col_offset=8), 'uid', Store(), lineno=1324, col_offset=8)], Num(72057594037927936L, lineno=1324, col_offset=22), lineno=1324, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1325, col_offset=8), 'assertRaises', Load(), lineno=1325, col_offset=8), [Name('ValueError', Load(), lineno=1325, col_offset=26), Attribute(Name('tarinfo', Load(), lineno=1325, col_offset=38), 'tobuf', Load(), lineno=1325, col_offset=38), Attribute(Name('tarfile', Load(), lineno=1325, col_offset=53), 'GNU_FORMAT', Load(), lineno=1325, col_offset=53)], [], None, None, lineno=1325, col_offset=8), lineno=1325, col_offset=8)], [], lineno=1314, col_offset=4), FunctionDef('test_pax_limits', arguments([Name('self', Param(), lineno=1327, col_offset=24)], None, None, []), [Assign([Name('tarinfo', Store(), lineno=1328, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1328, col_offset=18), 'TarInfo', Load(), lineno=1328, col_offset=18), [BinOp(BinOp(Str('123/', lineno=1328, col_offset=34), Mult(), Num(126, lineno=1328, col_offset=43), lineno=1328, col_offset=34), Add(), Str('longname', lineno=1328, col_offset=49), lineno=1328, col_offset=34)], [], None, None, lineno=1328, col_offset=18), lineno=1328, col_offset=8), Expr(Call(Attribute(Name('tarinfo', Load(), lineno=1329, col_offset=8), 'tobuf', Load(), lineno=1329, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=1329, col_offset=22), 'PAX_FORMAT', Load(), lineno=1329, col_offset=22)], [], None, None, lineno=1329, col_offset=8), lineno=1329, col_offset=8), Assign([Name('tarinfo', Store(), lineno=1331, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1331, col_offset=18), 'TarInfo', Load(), lineno=1331, col_offset=18), [Str('longlink', lineno=1331, col_offset=34)], [], None, None, lineno=1331, col_offset=18), lineno=1331, col_offset=8), Assign([Attribute(Name('tarinfo', Load(), lineno=1332, col_offset=8), 'linkname', Store(), lineno=1332, col_offset=8)], BinOp(BinOp(Str('123/', lineno=1332, col_offset=27), Mult(), Num(126, lineno=1332, col_offset=36), lineno=1332, col_offset=27), Add(), Str('longname', lineno=1332, col_offset=42), lineno=1332, col_offset=27), lineno=1332, col_offset=8), Expr(Call(Attribute(Name('tarinfo', Load(), lineno=1333, col_offset=8), 'tobuf', Load(), lineno=1333, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=1333, col_offset=22), 'PAX_FORMAT', Load(), lineno=1333, col_offset=22)], [], None, None, lineno=1333, col_offset=8), lineno=1333, col_offset=8), Assign([Name('tarinfo', Store(), lineno=1335, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1335, col_offset=18), 'TarInfo', Load(), lineno=1335, col_offset=18), [Str('name', lineno=1335, col_offset=34)], [], None, None, lineno=1335, col_offset=18), lineno=1335, col_offset=8), Assign([Attribute(Name('tarinfo', Load(), lineno=1336, col_offset=8), 'uid', Store(), lineno=1336, col_offset=8)], Num(72057594037927936L, lineno=1336, col_offset=22), lineno=1336, col_offset=8), Expr(Call(Attribute(Name('tarinfo', Load(), lineno=1337, col_offset=8), 'tobuf', Load(), lineno=1337, col_offset=8), [Attribute(Name('tarfile', Load(), lineno=1337, col_offset=22), 'PAX_FORMAT', Load(), lineno=1337, col_offset=22)], [], None, None, lineno=1337, col_offset=8), lineno=1337, col_offset=8)], [], lineno=1327, col_offset=4)], [], lineno=1281, col_offset=0), ClassDef('ContextManagerTest', [Attribute(Name('unittest', Load(), lineno=1340, col_offset=25), 'TestCase', Load(), lineno=1340, col_offset=25)], [FunctionDef('test_basic', arguments([Name('self', Param(), lineno=1342, col_offset=19)], None, None, []), [With(Call(Attribute(Name('tarfile', Load(), lineno=1343, col_offset=13), 'open', Load(), lineno=1343, col_offset=13), [Name('tarname', Load(), lineno=1343, col_offset=26)], [], None, None, lineno=1343, col_offset=13), Name('tar', Store(), lineno=1343, col_offset=38), [Expr(Call(Attribute(Name('self', Load(), lineno=1344, col_offset=12), 'assertFalse', Load(), lineno=1344, col_offset=12), [Attribute(Name('tar', Load(), lineno=1344, col_offset=29), 'closed', Load(), lineno=1344, col_offset=29), Str('closed inside runtime context', lineno=1344, col_offset=41)], [], None, None, lineno=1344, col_offset=12), lineno=1344, col_offset=12)], lineno=1343, col_offset=13), Expr(Call(Attribute(Name('self', Load(), lineno=1345, col_offset=8), 'assertTrue', Load(), lineno=1345, col_offset=8), [Attribute(Name('tar', Load(), lineno=1345, col_offset=24), 'closed', Load(), lineno=1345, col_offset=24), Str('context manager failed', lineno=1345, col_offset=36)], [], None, None, lineno=1345, col_offset=8), lineno=1345, col_offset=8)], [], lineno=1342, col_offset=4), FunctionDef('test_closed', arguments([Name('self', Param(), lineno=1347, col_offset=20)], None, None, []), [Assign([Name('tar', Store(), lineno=1350, col_offset=8)], Call(Attribute(Name('tarfile', Load(), lineno=1350, col_offset=14), 'open', Load(), lineno=1350, col_offset=14), [Name('tarname', Load(), lineno=1350, col_offset=27)], [], None, None, lineno=1350, col_offset=14), lineno=1350, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1351, col_offset=8), 'close', Load(), lineno=1351, col_offset=8), [], [], None, None, lineno=1351, col_offset=8), lineno=1351, col_offset=8), With(Call(Attribute(Name('self', Load(), lineno=1352, col_offset=13), 'assertRaises', Load(), lineno=1352, col_offset=13), [Name('IOError', Load(), lineno=1352, col_offset=31)], [], None, None, lineno=1352, col_offset=13), None, [With(Name('tar', Load(), lineno=1353, col_offset=17), None, [Pass( lineno=1354, col_offset=16)], lineno=1353, col_offset=17)], lineno=1352, col_offset=13)], [], lineno=1347, col_offset=4), FunctionDef('test_exception', arguments([Name('self', Param(), lineno=1356, col_offset=23)], None, None, []), [With(Call(Attribute(Name('self', Load(), lineno=1358, col_offset=13), 'assertRaises', Load(), lineno=1358, col_offset=13), [Name('Exception', Load(), lineno=1358, col_offset=31)], [], None, None, lineno=1358, col_offset=13), Name('exc', Store(), lineno=1358, col_offset=45), [With(Call(Attribute(Name('tarfile', Load(), lineno=1359, col_offset=17), 'open', Load(), lineno=1359, col_offset=17), [Name('tarname', Load(), lineno=1359, col_offset=30)], [], None, None, lineno=1359, col_offset=17), Name('tar', Store(), lineno=1359, col_offset=42), [Raise(Name('IOError', Load(), lineno=1360, col_offset=22), None, None, lineno=1360, col_offset=16)], lineno=1359, col_offset=17)], lineno=1358, col_offset=13), Expr(Call(Attribute(Name('self', Load(), lineno=1361, col_offset=8), 'assertIsInstance', Load(), lineno=1361, col_offset=8), [Attribute(Name('exc', Load(), lineno=1361, col_offset=30), 'exception', Load(), lineno=1361, col_offset=30), Name('IOError', Load(), lineno=1361, col_offset=45), Str('wrong exception raised in context manager', lineno=1362, col_offset=30)], [], None, None, lineno=1361, col_offset=8), lineno=1361, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1363, col_offset=8), 'assertTrue', Load(), lineno=1363, col_offset=8), [Attribute(Name('tar', Load(), lineno=1363, col_offset=24), 'closed', Load(), lineno=1363, col_offset=24), Str('context manager failed', lineno=1363, col_offset=36)], [], None, None, lineno=1363, col_offset=8), lineno=1363, col_offset=8)], [], lineno=1356, col_offset=4), FunctionDef('test_no_eof', arguments([Name('self', Param(), lineno=1365, col_offset=20)], None, None, []), [TryExcept([With(Call(Attribute(Name('tarfile', Load(), lineno=1369, col_offset=17), 'open', Load(), lineno=1369, col_offset=17), [Name('tmpname', Load(), lineno=1369, col_offset=30), Str('w', lineno=1369, col_offset=39)], [], None, None, lineno=1369, col_offset=17), Name('tar', Store(), lineno=1369, col_offset=47), [Raise(Name('Exception', Load(), lineno=1370, col_offset=22), None, None, lineno=1370, col_offset=16)], lineno=1369, col_offset=17)], [ExceptHandler(None, None, [Pass( lineno=1372, col_offset=12)], lineno=1371, col_offset=8)], [], lineno=1368, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1373, col_offset=8), 'assertEqual', Load(), lineno=1373, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=1373, col_offset=25), 'path', Load(), lineno=1373, col_offset=25), 'getsize', Load(), lineno=1373, col_offset=25), [Name('tmpname', Load(), lineno=1373, col_offset=41)], [], None, None, lineno=1373, col_offset=25), Num(0, lineno=1373, col_offset=51), Str('context manager wrote an end-of-archive block', lineno=1374, col_offset=16)], [], None, None, lineno=1373, col_offset=8), lineno=1373, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1375, col_offset=8), 'assertTrue', Load(), lineno=1375, col_offset=8), [Attribute(Name('tar', Load(), lineno=1375, col_offset=24), 'closed', Load(), lineno=1375, col_offset=24), Str('context manager failed', lineno=1375, col_offset=36)], [], None, None, lineno=1375, col_offset=8), lineno=1375, col_offset=8)], [], lineno=1365, col_offset=4), FunctionDef('test_eof', arguments([Name('self', Param(), lineno=1377, col_offset=17)], None, None, []), [With(Call(Attribute(Name('tarfile', Load(), lineno=1380, col_offset=13), 'open', Load(), lineno=1380, col_offset=13), [Name('tmpname', Load(), lineno=1380, col_offset=26), Str('w', lineno=1380, col_offset=35)], [], None, None, lineno=1380, col_offset=13), None, [Pass( lineno=1381, col_offset=12)], lineno=1380, col_offset=13), Expr(Call(Attribute(Name('self', Load(), lineno=1382, col_offset=8), 'assertNotEqual', Load(), lineno=1382, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=1382, col_offset=28), 'path', Load(), lineno=1382, col_offset=28), 'getsize', Load(), lineno=1382, col_offset=28), [Name('tmpname', Load(), lineno=1382, col_offset=44)], [], None, None, lineno=1382, col_offset=28), Num(0, lineno=1382, col_offset=54), Str('context manager wrote no end-of-archive block', lineno=1383, col_offset=16)], [], None, None, lineno=1382, col_offset=8), lineno=1382, col_offset=8)], [], lineno=1377, col_offset=4), FunctionDef('test_fileobj', arguments([Name('self', Param(), lineno=1385, col_offset=21)], None, None, []), [Assign([Name('fobj', Store(), lineno=1388, col_offset=8)], Call(Name('open', Load(), lineno=1388, col_offset=15), [Name('tmpname', Load(), lineno=1388, col_offset=20), Str('wb', lineno=1388, col_offset=29)], [], None, None, lineno=1388, col_offset=15), lineno=1388, col_offset=8), TryExcept([With(Call(Attribute(Name('tarfile', Load(), lineno=1390, col_offset=17), 'open', Load(), lineno=1390, col_offset=17), [], [keyword('fileobj', Name('fobj', Load(), lineno=1390, col_offset=38)), keyword('mode', Str('w', lineno=1390, col_offset=49))], None, None, lineno=1390, col_offset=17), Name('tar', Store(), lineno=1390, col_offset=57), [Raise(Name('Exception', Load(), lineno=1391, col_offset=22), None, None, lineno=1391, col_offset=16)], lineno=1390, col_offset=17)], [ExceptHandler(None, None, [Pass( lineno=1393, col_offset=12)], lineno=1392, col_offset=8)], [], lineno=1389, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1394, col_offset=8), 'assertFalse', Load(), lineno=1394, col_offset=8), [Attribute(Name('fobj', Load(), lineno=1394, col_offset=25), 'closed', Load(), lineno=1394, col_offset=25), Str('external file object was closed', lineno=1394, col_offset=38)], [], None, None, lineno=1394, col_offset=8), lineno=1394, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1395, col_offset=8), 'assertTrue', Load(), lineno=1395, col_offset=8), [Attribute(Name('tar', Load(), lineno=1395, col_offset=24), 'closed', Load(), lineno=1395, col_offset=24), Str('context manager failed', lineno=1395, col_offset=36)], [], None, None, lineno=1395, col_offset=8), lineno=1395, col_offset=8), Expr(Call(Attribute(Name('fobj', Load(), lineno=1396, col_offset=8), 'close', Load(), lineno=1396, col_offset=8), [], [], None, None, lineno=1396, col_offset=8), lineno=1396, col_offset=8)], [], lineno=1385, col_offset=4)], [], lineno=1340, col_offset=0), ClassDef('LinkEmulationTest', [Name('ReadTest', Load(), lineno=1399, col_offset=24)], [FunctionDef('_test_link_extraction', arguments([Name('self', Param(), lineno=1404, col_offset=30), Name('name', Param(), lineno=1404, col_offset=36)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=1405, col_offset=8), 'tar', Load(), lineno=1405, col_offset=8), 'extract', Load(), lineno=1405, col_offset=8), [Name('name', Load(), lineno=1405, col_offset=25), Name('TEMPDIR', Load(), lineno=1405, col_offset=31)], [], None, None, lineno=1405, col_offset=8), lineno=1405, col_offset=8), Assign([Name('data', Store(), lineno=1406, col_offset=8)], Call(Attribute(Call(Name('open', Load(), lineno=1406, col_offset=15), [Call(Attribute(Attribute(Name('os', Load(), lineno=1406, col_offset=20), 'path', Load(), lineno=1406, col_offset=20), 'join', Load(), lineno=1406, col_offset=20), [Name('TEMPDIR', Load(), lineno=1406, col_offset=33), Name('name', Load(), lineno=1406, col_offset=42)], [], None, None, lineno=1406, col_offset=20), Str('rb', lineno=1406, col_offset=49)], [], None, None, lineno=1406, col_offset=15), 'read', Load(), lineno=1406, col_offset=15), [], [], None, None, lineno=1406, col_offset=15), lineno=1406, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1407, col_offset=8), 'assertEqual', Load(), lineno=1407, col_offset=8), [Call(Name('md5sum', Load(), lineno=1407, col_offset=25), [Name('data', Load(), lineno=1407, col_offset=32)], [], None, None, lineno=1407, col_offset=25), Name('md5_regtype', Load(), lineno=1407, col_offset=39)], [], None, None, lineno=1407, col_offset=8), lineno=1407, col_offset=8)], [], lineno=1404, col_offset=4), FunctionDef('test_hardlink_extraction1', arguments([Name('self', Param(), lineno=1409, col_offset=34)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1410, col_offset=8), '_test_link_extraction', Load(), lineno=1410, col_offset=8), [Str('ustar/lnktype', lineno=1410, col_offset=35)], [], None, None, lineno=1410, col_offset=8), lineno=1410, col_offset=8)], [], lineno=1409, col_offset=4), FunctionDef('test_hardlink_extraction2', arguments([Name('self', Param(), lineno=1412, col_offset=34)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1413, col_offset=8), '_test_link_extraction', Load(), lineno=1413, col_offset=8), [Str('./ustar/linktest2/lnktype', lineno=1413, col_offset=35)], [], None, None, lineno=1413, col_offset=8), lineno=1413, col_offset=8)], [], lineno=1412, col_offset=4), FunctionDef('test_symlink_extraction1', arguments([Name('self', Param(), lineno=1415, col_offset=33)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1416, col_offset=8), '_test_link_extraction', Load(), lineno=1416, col_offset=8), [Str('ustar/symtype', lineno=1416, col_offset=35)], [], None, None, lineno=1416, col_offset=8), lineno=1416, col_offset=8)], [], lineno=1415, col_offset=4), FunctionDef('test_symlink_extraction2', arguments([Name('self', Param(), lineno=1418, col_offset=33)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1419, col_offset=8), '_test_link_extraction', Load(), lineno=1419, col_offset=8), [Str('./ustar/linktest2/symtype', lineno=1419, col_offset=35)], [], None, None, lineno=1419, col_offset=8), lineno=1419, col_offset=8)], [], lineno=1418, col_offset=4)], [], lineno=1399, col_offset=0), ClassDef('GzipMiscReadTest', [Name('MiscReadTest', Load(), lineno=1422, col_offset=23)], [Assign([Name('tarname', Store(), lineno=1423, col_offset=4)], Name('gzipname', Load(), lineno=1423, col_offset=14), lineno=1423, col_offset=4), Assign([Name('mode', Store(), lineno=1424, col_offset=4)], Str('r:gz', lineno=1424, col_offset=11), lineno=1424, col_offset=4)], [], lineno=1422, col_offset=0), ClassDef('GzipUstarReadTest', [Name('UstarReadTest', Load(), lineno=1425, col_offset=24)], [Assign([Name('tarname', Store(), lineno=1426, col_offset=4)], Name('gzipname', Load(), lineno=1426, col_offset=14), lineno=1426, col_offset=4), Assign([Name('mode', Store(), lineno=1427, col_offset=4)], Str('r:gz', lineno=1427, col_offset=11), lineno=1427, col_offset=4)], [], lineno=1425, col_offset=0), ClassDef('GzipStreamReadTest', [Name('StreamReadTest', Load(), lineno=1428, col_offset=25)], [Assign([Name('tarname', Store(), lineno=1429, col_offset=4)], Name('gzipname', Load(), lineno=1429, col_offset=14), lineno=1429, col_offset=4), Assign([Name('mode', Store(), lineno=1430, col_offset=4)], Str('r|gz', lineno=1430, col_offset=11), lineno=1430, col_offset=4)], [], lineno=1428, col_offset=0), ClassDef('GzipWriteTest', [Name('WriteTest', Load(), lineno=1431, col_offset=20)], [Assign([Name('mode', Store(), lineno=1432, col_offset=4)], Str('w:gz', lineno=1432, col_offset=11), lineno=1432, col_offset=4)], [], lineno=1431, col_offset=0), ClassDef('GzipStreamWriteTest', [Name('StreamWriteTest', Load(), lineno=1433, col_offset=26)], [Assign([Name('mode', Store(), lineno=1434, col_offset=4)], Str('w|gz', lineno=1434, col_offset=11), lineno=1434, col_offset=4)], [], lineno=1433, col_offset=0), ClassDef('Bz2MiscReadTest', [Name('MiscReadTest', Load(), lineno=1437, col_offset=22)], [Assign([Name('tarname', Store(), lineno=1438, col_offset=4)], Name('bz2name', Load(), lineno=1438, col_offset=14), lineno=1438, col_offset=4), Assign([Name('mode', Store(), lineno=1439, col_offset=4)], Str('r:bz2', lineno=1439, col_offset=11), lineno=1439, col_offset=4)], [], lineno=1437, col_offset=0), ClassDef('Bz2UstarReadTest', [Name('UstarReadTest', Load(), lineno=1440, col_offset=23)], [Assign([Name('tarname', Store(), lineno=1441, col_offset=4)], Name('bz2name', Load(), lineno=1441, col_offset=14), lineno=1441, col_offset=4), Assign([Name('mode', Store(), lineno=1442, col_offset=4)], Str('r:bz2', lineno=1442, col_offset=11), lineno=1442, col_offset=4)], [], lineno=1440, col_offset=0), ClassDef('Bz2StreamReadTest', [Name('StreamReadTest', Load(), lineno=1443, col_offset=24)], [Assign([Name('tarname', Store(), lineno=1444, col_offset=4)], Name('bz2name', Load(), lineno=1444, col_offset=14), lineno=1444, col_offset=4), Assign([Name('mode', Store(), lineno=1445, col_offset=4)], Str('r|bz2', lineno=1445, col_offset=11), lineno=1445, col_offset=4)], [], lineno=1443, col_offset=0), ClassDef('Bz2WriteTest', [Name('WriteTest', Load(), lineno=1446, col_offset=19)], [Assign([Name('mode', Store(), lineno=1447, col_offset=4)], Str('w:bz2', lineno=1447, col_offset=11), lineno=1447, col_offset=4)], [], lineno=1446, col_offset=0), ClassDef('Bz2StreamWriteTest', [Name('StreamWriteTest', Load(), lineno=1448, col_offset=25)], [Assign([Name('mode', Store(), lineno=1449, col_offset=4)], Str('w|bz2', lineno=1449, col_offset=11), lineno=1449, col_offset=4)], [], lineno=1448, col_offset=0), ClassDef('Bz2PartialReadTest', [Attribute(Name('unittest', Load(), lineno=1451, col_offset=25), 'TestCase', Load(), lineno=1451, col_offset=25)], [FunctionDef('_test_partial_input', arguments([Name('self', Param(), lineno=1455, col_offset=28), Name('mode', Param(), lineno=1455, col_offset=34)], None, None, []), [ClassDef('MyStringIO', [Attribute(Name('StringIO', Load(), lineno=1456, col_offset=25), 'StringIO', Load(), lineno=1456, col_offset=25)], [Assign([Name('hit_eof', Store(), lineno=1457, col_offset=12)], Name('False', Load(), lineno=1457, col_offset=22), lineno=1457, col_offset=12), FunctionDef('read', arguments([Name('self', Param(), lineno=1458, col_offset=21), Name('n', Param(), lineno=1458, col_offset=27)], None, None, []), [If(Attribute(Name('self', Load(), lineno=1459, col_offset=19), 'hit_eof', Load(), lineno=1459, col_offset=19), [Raise(Call(Name('AssertionError', Load(), lineno=1460, col_offset=26), [Str('infinite loop detected in tarfile.open()', lineno=1460, col_offset=41)], [], None, None, lineno=1460, col_offset=26), None, None, lineno=1460, col_offset=20)], [], lineno=1459, col_offset=16), Assign([Attribute(Name('self', Load(), lineno=1461, col_offset=16), 'hit_eof', Store(), lineno=1461, col_offset=16)], Compare(Attribute(Name('self', Load(), lineno=1461, col_offset=31), 'pos', Load(), lineno=1461, col_offset=31), [Eq()], [Attribute(Name('self', Load(), lineno=1461, col_offset=43), 'len', Load(), lineno=1461, col_offset=43)], lineno=1461, col_offset=31), lineno=1461, col_offset=16), Return(Call(Attribute(Attribute(Name('StringIO', Load(), lineno=1462, col_offset=23), 'StringIO', Load(), lineno=1462, col_offset=23), 'read', Load(), lineno=1462, col_offset=23), [Name('self', Load(), lineno=1462, col_offset=46), Name('n', Load(), lineno=1462, col_offset=52)], [], None, None, lineno=1462, col_offset=23), lineno=1462, col_offset=16)], [], lineno=1458, col_offset=12), FunctionDef('seek', arguments([Name('self', Param(), lineno=1463, col_offset=21)], 'args', None, []), [Assign([Attribute(Name('self', Load(), lineno=1464, col_offset=16), 'hit_eof', Store(), lineno=1464, col_offset=16)], Name('False', Load(), lineno=1464, col_offset=31), lineno=1464, col_offset=16), Return(Call(Attribute(Attribute(Name('StringIO', Load(), lineno=1465, col_offset=23), 'StringIO', Load(), lineno=1465, col_offset=23), 'seek', Load(), lineno=1465, col_offset=23), [Name('self', Load(), lineno=1465, col_offset=46)], [], Name('args', Load(), lineno=1465, col_offset=53), None, lineno=1465, col_offset=23), lineno=1465, col_offset=16)], [], lineno=1463, col_offset=12)], [], lineno=1456, col_offset=8), Assign([Name('data', Store(), lineno=1467, col_offset=8)], Call(Attribute(Name('bz2', Load(), lineno=1467, col_offset=15), 'compress', Load(), lineno=1467, col_offset=15), [Call(Attribute(Call(Attribute(Name('tarfile', Load(), lineno=1467, col_offset=28), 'TarInfo', Load(), lineno=1467, col_offset=28), [Str('foo', lineno=1467, col_offset=44)], [], None, None, lineno=1467, col_offset=28), 'tobuf', Load(), lineno=1467, col_offset=28), [], [], None, None, lineno=1467, col_offset=28)], [], None, None, lineno=1467, col_offset=15), lineno=1467, col_offset=8), For(Name('x', Store(), lineno=1468, col_offset=12), Call(Name('range', Load(), lineno=1468, col_offset=17), [BinOp(Call(Name('len', Load(), lineno=1468, col_offset=23), [Name('data', Load(), lineno=1468, col_offset=27)], [], None, None, lineno=1468, col_offset=23), Add(), Num(1, lineno=1468, col_offset=35), lineno=1468, col_offset=23)], [], None, None, lineno=1468, col_offset=17), [TryExcept([Expr(Call(Attribute(Name('tarfile', Load(), lineno=1470, col_offset=16), 'open', Load(), lineno=1470, col_offset=16), [], [keyword('fileobj', Call(Name('MyStringIO', Load(), lineno=1470, col_offset=37), [Subscript(Name('data', Load(), lineno=1470, col_offset=48), Slice(None, Name('x', Load(), lineno=1470, col_offset=54), None), Load(), lineno=1470, col_offset=48)], [], None, None, lineno=1470, col_offset=37)), keyword('mode', Name('mode', Load(), lineno=1470, col_offset=64))], None, None, lineno=1470, col_offset=16), lineno=1470, col_offset=16)], [ExceptHandler(Attribute(Name('tarfile', Load(), lineno=1471, col_offset=19), 'ReadError', Load(), lineno=1471, col_offset=19), None, [Pass( lineno=1472, col_offset=16)], lineno=1471, col_offset=12)], [], lineno=1469, col_offset=12)], [], lineno=1468, col_offset=8)], [], lineno=1455, col_offset=4), FunctionDef('test_partial_input', arguments([Name('self', Param(), lineno=1474, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1475, col_offset=8), '_test_partial_input', Load(), lineno=1475, col_offset=8), [Str('r', lineno=1475, col_offset=33)], [], None, None, lineno=1475, col_offset=8), lineno=1475, col_offset=8)], [], lineno=1474, col_offset=4), FunctionDef('test_partial_input_bz2', arguments([Name('self', Param(), lineno=1477, col_offset=31)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=1478, col_offset=8), '_test_partial_input', Load(), lineno=1478, col_offset=8), [Str('r:bz2', lineno=1478, col_offset=33)], [], None, None, lineno=1478, col_offset=8), lineno=1478, col_offset=8)], [], lineno=1477, col_offset=4)], [], lineno=1451, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Attribute(Name('os', Load(), lineno=1482, col_offset=4), 'makedirs', Load(), lineno=1482, col_offset=4), [Name('TEMPDIR', Load(), lineno=1482, col_offset=16)], [], None, None, lineno=1482, col_offset=4), lineno=1482, col_offset=4), Assign([Name('tests', Store(), lineno=1484, col_offset=4)], List([Name('UstarReadTest', Load(), lineno=1485, col_offset=8), Name('MiscReadTest', Load(), lineno=1486, col_offset=8), Name('StreamReadTest', Load(), lineno=1487, col_offset=8), Name('DetectReadTest', Load(), lineno=1488, col_offset=8), Name('MemberReadTest', Load(), lineno=1489, col_offset=8), Name('GNUReadTest', Load(), lineno=1490, col_offset=8), Name('PaxReadTest', Load(), lineno=1491, col_offset=8), Name('WriteTest', Load(), lineno=1492, col_offset=8), Name('StreamWriteTest', Load(), lineno=1493, col_offset=8), Name('GNUWriteTest', Load(), lineno=1494, col_offset=8), Name('PaxWriteTest', Load(), lineno=1495, col_offset=8), Name('UstarUnicodeTest', Load(), lineno=1496, col_offset=8), Name('GNUUnicodeTest', Load(), lineno=1497, col_offset=8), Name('PaxUnicodeTest', Load(), lineno=1498, col_offset=8), Name('AppendTest', Load(), lineno=1499, col_offset=8), Name('LimitsTest', Load(), lineno=1500, col_offset=8), Name('ContextManagerTest', Load(), lineno=1501, col_offset=8)], Load(), lineno=1484, col_offset=12), lineno=1484, col_offset=4), If(Call(Name('hasattr', Load(), lineno=1504, col_offset=7), [Name('os', Load(), lineno=1504, col_offset=15), Str('link', lineno=1504, col_offset=19)], [], None, None, lineno=1504, col_offset=7), [Expr(Call(Attribute(Name('tests', Load(), lineno=1505, col_offset=8), 'append', Load(), lineno=1505, col_offset=8), [Name('HardlinkTest', Load(), lineno=1505, col_offset=21)], [], None, None, lineno=1505, col_offset=8), lineno=1505, col_offset=8)], [Expr(Call(Attribute(Name('tests', Load(), lineno=1507, col_offset=8), 'append', Load(), lineno=1507, col_offset=8), [Name('LinkEmulationTest', Load(), lineno=1507, col_offset=21)], [], None, None, lineno=1507, col_offset=8), lineno=1507, col_offset=8)], lineno=1504, col_offset=4), Assign([Name('fobj', Store(), lineno=1509, col_offset=4)], Call(Name('open', Load(), lineno=1509, col_offset=11), [Name('tarname', Load(), lineno=1509, col_offset=16), Str('rb', lineno=1509, col_offset=25)], [], None, None, lineno=1509, col_offset=11), lineno=1509, col_offset=4), Assign([Name('data', Store(), lineno=1510, col_offset=4)], Call(Attribute(Name('fobj', Load(), lineno=1510, col_offset=11), 'read', Load(), lineno=1510, col_offset=11), [], [], None, None, lineno=1510, col_offset=11), lineno=1510, col_offset=4), Expr(Call(Attribute(Name('fobj', Load(), lineno=1511, col_offset=4), 'close', Load(), lineno=1511, col_offset=4), [], [], None, None, lineno=1511, col_offset=4), lineno=1511, col_offset=4), If(Name('gzip', Load(), lineno=1513, col_offset=7), [Assign([Name('tar', Store(), lineno=1515, col_offset=8)], Call(Attribute(Name('gzip', Load(), lineno=1515, col_offset=14), 'open', Load(), lineno=1515, col_offset=14), [Name('gzipname', Load(), lineno=1515, col_offset=24), Str('wb', lineno=1515, col_offset=34)], [], None, None, lineno=1515, col_offset=14), lineno=1515, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1516, col_offset=8), 'write', Load(), lineno=1516, col_offset=8), [Name('data', Load(), lineno=1516, col_offset=18)], [], None, None, lineno=1516, col_offset=8), lineno=1516, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1517, col_offset=8), 'close', Load(), lineno=1517, col_offset=8), [], [], None, None, lineno=1517, col_offset=8), lineno=1517, col_offset=8), AugAssign(Name('tests', Store(), lineno=1519, col_offset=8), Add(), List([Name('GzipMiscReadTest', Load(), lineno=1520, col_offset=12), Name('GzipUstarReadTest', Load(), lineno=1521, col_offset=12), Name('GzipStreamReadTest', Load(), lineno=1522, col_offset=12), Name('GzipWriteTest', Load(), lineno=1523, col_offset=12), Name('GzipStreamWriteTest', Load(), lineno=1524, col_offset=12)], Load(), lineno=1519, col_offset=17), lineno=1519, col_offset=8)], [], lineno=1513, col_offset=4), If(Name('bz2', Load(), lineno=1527, col_offset=7), [Assign([Name('tar', Store(), lineno=1529, col_offset=8)], Call(Attribute(Name('bz2', Load(), lineno=1529, col_offset=14), 'BZ2File', Load(), lineno=1529, col_offset=14), [Name('bz2name', Load(), lineno=1529, col_offset=26), Str('wb', lineno=1529, col_offset=35)], [], None, None, lineno=1529, col_offset=14), lineno=1529, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1530, col_offset=8), 'write', Load(), lineno=1530, col_offset=8), [Name('data', Load(), lineno=1530, col_offset=18)], [], None, None, lineno=1530, col_offset=8), lineno=1530, col_offset=8), Expr(Call(Attribute(Name('tar', Load(), lineno=1531, col_offset=8), 'close', Load(), lineno=1531, col_offset=8), [], [], None, None, lineno=1531, col_offset=8), lineno=1531, col_offset=8), AugAssign(Name('tests', Store(), lineno=1533, col_offset=8), Add(), List([Name('Bz2MiscReadTest', Load(), lineno=1534, col_offset=12), Name('Bz2UstarReadTest', Load(), lineno=1535, col_offset=12), Name('Bz2StreamReadTest', Load(), lineno=1536, col_offset=12), Name('Bz2WriteTest', Load(), lineno=1537, col_offset=12), Name('Bz2StreamWriteTest', Load(), lineno=1538, col_offset=12), Name('Bz2PartialReadTest', Load(), lineno=1539, col_offset=12)], Load(), lineno=1533, col_offset=17), lineno=1533, col_offset=8)], [], lineno=1527, col_offset=4), TryFinally([Expr(Call(Attribute(Name('test_support', Load(), lineno=1543, col_offset=8), 'run_unittest', Load(), lineno=1543, col_offset=8), [], [], Name('tests', Load(), lineno=1543, col_offset=35), None, lineno=1543, col_offset=8), lineno=1543, col_offset=8)], [If(Call(Attribute(Attribute(Name('os', Load(), lineno=1545, col_offset=11), 'path', Load(), lineno=1545, col_offset=11), 'exists', Load(), lineno=1545, col_offset=11), [Name('TEMPDIR', Load(), lineno=1545, col_offset=26)], [], None, None, lineno=1545, col_offset=11), [Expr(Call(Attribute(Name('shutil', Load(), lineno=1546, col_offset=12), 'rmtree', Load(), lineno=1546, col_offset=12), [Name('TEMPDIR', Load(), lineno=1546, col_offset=26)], [], None, None, lineno=1546, col_offset=12), lineno=1546, col_offset=12)], [], lineno=1545, col_offset=8)], lineno=1542, col_offset=4)], [], lineno=1481, col_offset=0), If(Compare(Name('__name__', Load(), lineno=1548, col_offset=3), [Eq()], [Str('__main__', lineno=1548, col_offset=15)], lineno=1548, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=1549, col_offset=4), [], [], None, None, lineno=1549, col_offset=4), lineno=1549, col_offset=4)], [], lineno=1548, col_offset=0)])
