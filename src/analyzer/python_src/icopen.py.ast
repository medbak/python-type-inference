Module([Expr(Str("icopen patch\n\nOVERVIEW\n\nicopen patches MacOS Python to use the Internet Config file mappings to select\nthe type and creator for a file.\n\nVersion 1 released to the public domain 3 November 1999\nby Oliver Steele (steele@cs.brandeis.edu).\n\nDETAILS\n\nThis patch causes files created by Python's open(filename, 'w') command (and\nby functions and scripts that call it) to set the type and creator of the file\nto the type and creator associated with filename's extension (the\nportion of the filename after the last period), according to Internet Config.\nThus, a script that creates a file foo.html will create one that opens in whatever\nbrowser you've set to handle *.html files, and so on.\n\nPython IDE uses its own algorithm to select the type and creator for saved\neditor windows, so this patch won't effect their types.\n\nAs of System 8.6 at least, Internet Config is built into the system, and the\nfile mappings are accessed from the Advanced pane of the Internet control\npanel.  User Mode (in the Edit menu) needs to be set to Advanced in order to\naccess this pane.\n\nINSTALLATION\n\nPut this file in your Python path, and create a file named {Python}:sitecustomize.py\nthat contains:\n        import icopen\n\n(If {Python}:sitecustomizer.py already exists, just add the 'import' line to it.)\n\nThe next time you launch PythonInterpreter or Python IDE, the patch will take\neffect.\n", lineno=38, col_offset=-1), lineno=38, col_offset=-1), ImportFrom('warnings', [alias('warnpy3k', None)], 0, lineno=40, col_offset=0), Expr(Call(Name('warnpy3k', Load(), lineno=41, col_offset=0), [Str('In 3.x, the icopen module is removed.', lineno=41, col_offset=9)], [keyword('stacklevel', Num(2, lineno=41, col_offset=61))], None, None, lineno=41, col_offset=0), lineno=41, col_offset=0), Import([alias('__builtin__', None)], lineno=43, col_offset=0), Assign([Name('_builtin_open', Store(), lineno=45, col_offset=0)], Call(Attribute(Call(Name('globals', Load(), lineno=45, col_offset=16), [], [], None, None, lineno=45, col_offset=16), 'get', Load(), lineno=45, col_offset=16), [Str('_builtin_open', lineno=45, col_offset=30), Attribute(Name('__builtin__', Load(), lineno=45, col_offset=47), 'open', Load(), lineno=45, col_offset=47)], [], None, None, lineno=45, col_offset=16), lineno=45, col_offset=0), FunctionDef('_open_with_typer', arguments([], 'args', None, []), [Assign([Name('file', Store(), lineno=48, col_offset=4)], Call(Name('_builtin_open', Load(), lineno=48, col_offset=11), [], [], Name('args', Load(), lineno=48, col_offset=26), None, lineno=48, col_offset=11), lineno=48, col_offset=4), Assign([Name('filename', Store(), lineno=49, col_offset=4)], Subscript(Name('args', Load(), lineno=49, col_offset=15), Index(Num(0, lineno=49, col_offset=20)), Load(), lineno=49, col_offset=15), lineno=49, col_offset=4), Assign([Name('mode', Store(), lineno=50, col_offset=4)], Str('r', lineno=50, col_offset=11), lineno=50, col_offset=4), If(Subscript(Name('args', Load(), lineno=51, col_offset=7), Slice(Num(1, lineno=51, col_offset=12), None, None), Load(), lineno=51, col_offset=7), [Assign([Name('mode', Store(), lineno=52, col_offset=8)], Subscript(Name('args', Load(), lineno=52, col_offset=15), Index(Num(1, lineno=52, col_offset=20)), Load(), lineno=52, col_offset=15), lineno=52, col_offset=8)], [], lineno=51, col_offset=4), If(Compare(Subscript(Name('mode', Load(), lineno=53, col_offset=7), Index(Num(0, lineno=53, col_offset=12)), Load(), lineno=53, col_offset=7), [Eq()], [Str('w', lineno=53, col_offset=18)], lineno=53, col_offset=7), [ImportFrom('ic', [alias('error', None), alias('settypecreator', None)], 0, lineno=54, col_offset=8), TryExcept([Expr(Call(Name('settypecreator', Load(), lineno=56, col_offset=12), [Name('filename', Load(), lineno=56, col_offset=27)], [], None, None, lineno=56, col_offset=12), lineno=56, col_offset=12)], [ExceptHandler(Name('error', Load(), lineno=57, col_offset=15), None, [Pass( lineno=58, col_offset=12)], lineno=57, col_offset=8)], [], lineno=55, col_offset=8)], [], lineno=53, col_offset=4), Return(Name('file', Load(), lineno=59, col_offset=11), lineno=59, col_offset=4)], [], lineno=47, col_offset=0), Assign([Attribute(Name('__builtin__', Load(), lineno=61, col_offset=0), 'open', Store(), lineno=61, col_offset=0)], Name('_open_with_typer', Load(), lineno=61, col_offset=19), lineno=61, col_offset=0), Expr(Str("\nopen('test.py')\n_open_with_typer('test.py', 'w')\n_open_with_typer('test.txt', 'w')\n_open_with_typer('test.html', 'w')\n_open_with_typer('test.foo', 'w')\n", lineno=69, col_offset=-1), lineno=69, col_offset=-1)])
