Module([Expr(Str("Generic interface to all dbm clones.\n\nInstead of\n\n        import dbm\n        d = dbm.open(file, 'w', 0666)\n\nuse\n\n        import anydbm\n        d = anydbm.open(file, 'w')\n\nThe returned object is a dbhash, gdbm, dbm or dumbdbm object,\ndependent on the type of database being opened (determined by whichdb\nmodule) in the case of an existing dbm. If the dbm does not exist and\nthe create or new flag ('c' or 'n') was specified, the dbm type will\nbe determined by the availability of the modules (tested in the above\norder).\n\nIt has the following interface (key and data are strings):\n\n        d[key] = data   # store data at key (may override data at\n                        # existing key)\n        data = d[key]   # retrieve data at key (raise KeyError if no\n                        # such key)\n        del d[key]      # delete data stored at key (raises KeyError\n                        # if no such key)\n        flag = key in d   # true if the key exists\n        list = d.keys() # return a list of all existing keys (slow!)\n\nFuture versions may change the order in which implementations are\ntested for existence, add interfaces to other dbm-like\nimplementations.\n\nThe open function has an optional second argument.  This can be 'r',\nfor read-only access, 'w', for read-write access of an existing\ndatabase, 'c' for read-write access to a new or existing database, and\n'n' for read-write access to a new database.  The default is 'r'.\n\nNote: 'r' and 'w' fail if the database doesn't exist; 'c' creates it\nonly if it doesn't exist; and 'n' always creates a new database.\n\n", lineno=43, col_offset=-1), lineno=43, col_offset=-1), ClassDef('error', [Name('Exception', Load(), lineno=45, col_offset=12)], [Pass( lineno=46, col_offset=4)], [], lineno=45, col_offset=0), Assign([Name('_names', Store(), lineno=48, col_offset=0)], List([Str('dbhash', lineno=48, col_offset=10), Str('gdbm', lineno=48, col_offset=20), Str('dbm', lineno=48, col_offset=28), Str('dumbdbm', lineno=48, col_offset=35)], Load(), lineno=48, col_offset=9), lineno=48, col_offset=0), Assign([Name('_errors', Store(), lineno=49, col_offset=0)], List([Name('error', Load(), lineno=49, col_offset=11)], Load(), lineno=49, col_offset=10), lineno=49, col_offset=0), Assign([Name('_defaultmod', Store(), lineno=50, col_offset=0)], Name('None', Load(), lineno=50, col_offset=14), lineno=50, col_offset=0), For(Name('_name', Store(), lineno=52, col_offset=4), Name('_names', Load(), lineno=52, col_offset=13), [TryExcept([Assign([Name('_mod', Store(), lineno=54, col_offset=8)], Call(Name('__import__', Load(), lineno=54, col_offset=15), [Name('_name', Load(), lineno=54, col_offset=26)], [], None, None, lineno=54, col_offset=15), lineno=54, col_offset=8)], [ExceptHandler(Name('ImportError', Load(), lineno=55, col_offset=11), None, [Continue( lineno=56, col_offset=8)], lineno=55, col_offset=4)], [], lineno=53, col_offset=4), If(UnaryOp(Not(), Name('_defaultmod', Load(), lineno=57, col_offset=11), lineno=57, col_offset=7), [Assign([Name('_defaultmod', Store(), lineno=58, col_offset=8)], Name('_mod', Load(), lineno=58, col_offset=22), lineno=58, col_offset=8)], [], lineno=57, col_offset=4), Expr(Call(Attribute(Name('_errors', Load(), lineno=59, col_offset=4), 'append', Load(), lineno=59, col_offset=4), [Attribute(Name('_mod', Load(), lineno=59, col_offset=19), 'error', Load(), lineno=59, col_offset=19)], [], None, None, lineno=59, col_offset=4), lineno=59, col_offset=4)], [], lineno=52, col_offset=0), If(UnaryOp(Not(), Name('_defaultmod', Load(), lineno=61, col_offset=7), lineno=61, col_offset=3), [Raise(Name('ImportError', Load(), lineno=62, col_offset=10), BinOp(Str('no dbm clone found; tried %s', lineno=62, col_offset=23), Mod(), Name('_names', Load(), lineno=62, col_offset=56), lineno=62, col_offset=23), None, lineno=62, col_offset=4)], [], lineno=61, col_offset=0), Assign([Name('error', Store(), lineno=64, col_offset=0)], Call(Name('tuple', Load(), lineno=64, col_offset=8), [Name('_errors', Load(), lineno=64, col_offset=14)], [], None, None, lineno=64, col_offset=8), lineno=64, col_offset=0), FunctionDef('open', arguments([Name('file', Param(), lineno=66, col_offset=9), Name('flag', Param(), lineno=66, col_offset=15), Name('mode', Param(), lineno=66, col_offset=27)], None, None, [Str('r', lineno=66, col_offset=22), Num(438, lineno=66, col_offset=34)]), [ImportFrom('whichdb', [alias('whichdb', None)], 0, lineno=68, col_offset=4), Assign([Name('result', Store(), lineno=69, col_offset=4)], Call(Name('whichdb', Load(), lineno=69, col_offset=11), [Name('file', Load(), lineno=69, col_offset=19)], [], None, None, lineno=69, col_offset=11), lineno=69, col_offset=4), If(Compare(Name('result', Load(), lineno=70, col_offset=7), [Is()], [Name('None', Load(), lineno=70, col_offset=17)], lineno=70, col_offset=7), [If(BoolOp(Or(), [Compare(Str('c', lineno=72, col_offset=11), [In()], [Name('flag', Load(), lineno=72, col_offset=18)], lineno=72, col_offset=11), Compare(Str('n', lineno=72, col_offset=26), [In()], [Name('flag', Load(), lineno=72, col_offset=33)], lineno=72, col_offset=26)], lineno=72, col_offset=11), [Assign([Name('mod', Store(), lineno=75, col_offset=12)], Name('_defaultmod', Load(), lineno=75, col_offset=18), lineno=75, col_offset=12)], [Raise(Name('error', Load(), lineno=77, col_offset=18), Str("need 'c' or 'n' flag to open new db", lineno=77, col_offset=25), None, lineno=77, col_offset=12)], lineno=72, col_offset=8)], [If(Compare(Name('result', Load(), lineno=78, col_offset=9), [Eq()], [Str('', lineno=78, col_offset=19)], lineno=78, col_offset=9), [Raise(Name('error', Load(), lineno=80, col_offset=14), Str('db type could not be determined', lineno=80, col_offset=21), None, lineno=80, col_offset=8)], [Assign([Name('mod', Store(), lineno=82, col_offset=8)], Call(Name('__import__', Load(), lineno=82, col_offset=14), [Name('result', Load(), lineno=82, col_offset=25)], [], None, None, lineno=82, col_offset=14), lineno=82, col_offset=8)], lineno=78, col_offset=9)], lineno=70, col_offset=4), Return(Call(Attribute(Name('mod', Load(), lineno=83, col_offset=11), 'open', Load(), lineno=83, col_offset=11), [Name('file', Load(), lineno=83, col_offset=20), Name('flag', Load(), lineno=83, col_offset=26), Name('mode', Load(), lineno=83, col_offset=32)], [], None, None, lineno=83, col_offset=11), lineno=83, col_offset=4)], [], lineno=66, col_offset=0)])
