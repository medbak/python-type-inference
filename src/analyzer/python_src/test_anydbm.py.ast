Module([Expr(Str('Test script for the anydbm module\n   based on testdumbdbm.py\n', lineno=4, col_offset=-1), lineno=4, col_offset=-1), Import([alias('os', None)], lineno=6, col_offset=0), Import([alias('unittest', None)], lineno=7, col_offset=0), Import([alias('glob', None)], lineno=8, col_offset=0), ImportFrom('test', [alias('test_support', None)], 0, lineno=9, col_offset=0), Assign([Name('_fname', Store(), lineno=11, col_offset=0)], Attribute(Name('test_support', Load(), lineno=11, col_offset=9), 'TESTFN', Load(), lineno=11, col_offset=9), lineno=11, col_offset=0), Assign([Name('anydbm', Store(), lineno=14, col_offset=0)], Call(Attribute(Name('test_support', Load(), lineno=14, col_offset=9), 'import_module', Load(), lineno=14, col_offset=9), [Str('anydbm', lineno=14, col_offset=36)], [keyword('deprecated', Name('True', Load(), lineno=14, col_offset=57))], None, None, lineno=14, col_offset=9), lineno=14, col_offset=0), FunctionDef('_delete_files', arguments([], None, None, []), [For(Name('f', Store(), lineno=19, col_offset=8), Call(Attribute(Name('glob', Load(), lineno=19, col_offset=13), 'glob', Load(), lineno=19, col_offset=13), [BinOp(Name('_fname', Load(), lineno=19, col_offset=23), Add(), Str('*', lineno=19, col_offset=32), lineno=19, col_offset=23)], [], None, None, lineno=19, col_offset=13), [TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=21, col_offset=12), 'unlink', Load(), lineno=21, col_offset=12), [Name('f', Load(), lineno=21, col_offset=22)], [], None, None, lineno=21, col_offset=12), lineno=21, col_offset=12)], [ExceptHandler(Name('OSError', Load(), lineno=22, col_offset=15), None, [Pass( lineno=23, col_offset=12)], lineno=22, col_offset=8)], [], lineno=20, col_offset=8)], [], lineno=19, col_offset=4)], [], lineno=16, col_offset=0), ClassDef('AnyDBMTestCase', [Attribute(Name('unittest', Load(), lineno=25, col_offset=21), 'TestCase', Load(), lineno=25, col_offset=21)], [Assign([Name('_dict', Store(), lineno=26, col_offset=4)], Dict([Str('0', lineno=26, col_offset=13), Str('a', lineno=27, col_offset=13), Str('b', lineno=28, col_offset=13), Str('c', lineno=29, col_offset=13), Str('d', lineno=30, col_offset=13), Str('f', lineno=31, col_offset=13), Str('g', lineno=32, col_offset=13)], [Str('', lineno=26, col_offset=18), Str('Python:', lineno=27, col_offset=18), Str('Programming', lineno=28, col_offset=18), Str('the', lineno=29, col_offset=18), Str('way', lineno=30, col_offset=18), Str('Guido', lineno=31, col_offset=18), Str('intended', lineno=32, col_offset=18)], lineno=26, col_offset=12), lineno=26, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=35, col_offset=17)], 'args', None, []), [Expr(Call(Attribute(Attribute(Name('unittest', Load(), lineno=36, col_offset=8), 'TestCase', Load(), lineno=36, col_offset=8), '__init__', Load(), lineno=36, col_offset=8), [Name('self', Load(), lineno=36, col_offset=35)], [], Name('args', Load(), lineno=36, col_offset=42), None, lineno=36, col_offset=8), lineno=36, col_offset=8)], [], lineno=35, col_offset=4), FunctionDef('test_anydbm_creation', arguments([Name('self', Param(), lineno=38, col_offset=29)], None, None, []), [Assign([Name('f', Store(), lineno=39, col_offset=8)], Call(Attribute(Name('anydbm', Load(), lineno=39, col_offset=12), 'open', Load(), lineno=39, col_offset=12), [Name('_fname', Load(), lineno=39, col_offset=24), Str('c', lineno=39, col_offset=32)], [], None, None, lineno=39, col_offset=12), lineno=39, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=40, col_offset=8), 'assertEqual', Load(), lineno=40, col_offset=8), [Call(Attribute(Name('f', Load(), lineno=40, col_offset=25), 'keys', Load(), lineno=40, col_offset=25), [], [], None, None, lineno=40, col_offset=25), List([], Load(), lineno=40, col_offset=35)], [], None, None, lineno=40, col_offset=8), lineno=40, col_offset=8), For(Name('key', Store(), lineno=41, col_offset=12), Attribute(Name('self', Load(), lineno=41, col_offset=19), '_dict', Load(), lineno=41, col_offset=19), [Assign([Subscript(Name('f', Load(), lineno=42, col_offset=12), Index(Name('key', Load(), lineno=42, col_offset=14)), Store(), lineno=42, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=42, col_offset=21), '_dict', Load(), lineno=42, col_offset=21), Index(Name('key', Load(), lineno=42, col_offset=32)), Load(), lineno=42, col_offset=21), lineno=42, col_offset=12)], [], lineno=41, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=43, col_offset=8), 'read_helper', Load(), lineno=43, col_offset=8), [Name('f', Load(), lineno=43, col_offset=25)], [], None, None, lineno=43, col_offset=8), lineno=43, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=44, col_offset=8), 'close', Load(), lineno=44, col_offset=8), [], [], None, None, lineno=44, col_offset=8), lineno=44, col_offset=8)], [], lineno=38, col_offset=4), FunctionDef('test_anydbm_modification', arguments([Name('self', Param(), lineno=46, col_offset=33)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=47, col_offset=8), 'init_db', Load(), lineno=47, col_offset=8), [], [], None, None, lineno=47, col_offset=8), lineno=47, col_offset=8), Assign([Name('f', Store(), lineno=48, col_offset=8)], Call(Attribute(Name('anydbm', Load(), lineno=48, col_offset=12), 'open', Load(), lineno=48, col_offset=12), [Name('_fname', Load(), lineno=48, col_offset=24), Str('c', lineno=48, col_offset=32)], [], None, None, lineno=48, col_offset=12), lineno=48, col_offset=8), Assign([Subscript(Attribute(Name('self', Load(), lineno=49, col_offset=8), '_dict', Load(), lineno=49, col_offset=8), Index(Str('g', lineno=49, col_offset=19)), Store(), lineno=49, col_offset=8), Subscript(Name('f', Load(), lineno=49, col_offset=26), Index(Str('g', lineno=49, col_offset=28)), Store(), lineno=49, col_offset=26)], Str('indented', lineno=49, col_offset=35), lineno=49, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=50, col_offset=8), 'read_helper', Load(), lineno=50, col_offset=8), [Name('f', Load(), lineno=50, col_offset=25)], [], None, None, lineno=50, col_offset=8), lineno=50, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=51, col_offset=8), 'close', Load(), lineno=51, col_offset=8), [], [], None, None, lineno=51, col_offset=8), lineno=51, col_offset=8)], [], lineno=46, col_offset=4), FunctionDef('test_anydbm_read', arguments([Name('self', Param(), lineno=53, col_offset=25)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=54, col_offset=8), 'init_db', Load(), lineno=54, col_offset=8), [], [], None, None, lineno=54, col_offset=8), lineno=54, col_offset=8), Assign([Name('f', Store(), lineno=55, col_offset=8)], Call(Attribute(Name('anydbm', Load(), lineno=55, col_offset=12), 'open', Load(), lineno=55, col_offset=12), [Name('_fname', Load(), lineno=55, col_offset=24), Str('r', lineno=55, col_offset=32)], [], None, None, lineno=55, col_offset=12), lineno=55, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=56, col_offset=8), 'read_helper', Load(), lineno=56, col_offset=8), [Name('f', Load(), lineno=56, col_offset=25)], [], None, None, lineno=56, col_offset=8), lineno=56, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=57, col_offset=8), 'close', Load(), lineno=57, col_offset=8), [], [], None, None, lineno=57, col_offset=8), lineno=57, col_offset=8)], [], lineno=53, col_offset=4), FunctionDef('test_anydbm_keys', arguments([Name('self', Param(), lineno=59, col_offset=25)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=60, col_offset=8), 'init_db', Load(), lineno=60, col_offset=8), [], [], None, None, lineno=60, col_offset=8), lineno=60, col_offset=8), Assign([Name('f', Store(), lineno=61, col_offset=8)], Call(Attribute(Name('anydbm', Load(), lineno=61, col_offset=12), 'open', Load(), lineno=61, col_offset=12), [Name('_fname', Load(), lineno=61, col_offset=24), Str('r', lineno=61, col_offset=32)], [], None, None, lineno=61, col_offset=12), lineno=61, col_offset=8), Assign([Name('keys', Store(), lineno=62, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=62, col_offset=15), 'keys_helper', Load(), lineno=62, col_offset=15), [Name('f', Load(), lineno=62, col_offset=32)], [], None, None, lineno=62, col_offset=15), lineno=62, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=63, col_offset=8), 'close', Load(), lineno=63, col_offset=8), [], [], None, None, lineno=63, col_offset=8), lineno=63, col_offset=8)], [], lineno=59, col_offset=4), FunctionDef('read_helper', arguments([Name('self', Param(), lineno=65, col_offset=20), Name('f', Param(), lineno=65, col_offset=26)], None, None, []), [Assign([Name('keys', Store(), lineno=66, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=66, col_offset=15), 'keys_helper', Load(), lineno=66, col_offset=15), [Name('f', Load(), lineno=66, col_offset=32)], [], None, None, lineno=66, col_offset=15), lineno=66, col_offset=8), For(Name('key', Store(), lineno=67, col_offset=12), Attribute(Name('self', Load(), lineno=67, col_offset=19), '_dict', Load(), lineno=67, col_offset=19), [Expr(Call(Attribute(Name('self', Load(), lineno=68, col_offset=12), 'assertEqual', Load(), lineno=68, col_offset=12), [Subscript(Attribute(Name('self', Load(), lineno=68, col_offset=29), '_dict', Load(), lineno=68, col_offset=29), Index(Name('key', Load(), lineno=68, col_offset=40)), Load(), lineno=68, col_offset=29), Subscript(Name('f', Load(), lineno=68, col_offset=46), Index(Name('key', Load(), lineno=68, col_offset=48)), Load(), lineno=68, col_offset=46)], [], None, None, lineno=68, col_offset=12), lineno=68, col_offset=12)], [], lineno=67, col_offset=8)], [], lineno=65, col_offset=4), FunctionDef('init_db', arguments([Name('self', Param(), lineno=70, col_offset=16)], None, None, []), [Assign([Name('f', Store(), lineno=71, col_offset=8)], Call(Attribute(Name('anydbm', Load(), lineno=71, col_offset=12), 'open', Load(), lineno=71, col_offset=12), [Name('_fname', Load(), lineno=71, col_offset=24), Str('n', lineno=71, col_offset=32)], [], None, None, lineno=71, col_offset=12), lineno=71, col_offset=8), For(Name('k', Store(), lineno=72, col_offset=12), Attribute(Name('self', Load(), lineno=72, col_offset=17), '_dict', Load(), lineno=72, col_offset=17), [Assign([Subscript(Name('f', Load(), lineno=73, col_offset=12), Index(Name('k', Load(), lineno=73, col_offset=14)), Store(), lineno=73, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=73, col_offset=19), '_dict', Load(), lineno=73, col_offset=19), Index(Name('k', Load(), lineno=73, col_offset=30)), Load(), lineno=73, col_offset=19), lineno=73, col_offset=12)], [], lineno=72, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=74, col_offset=8), 'close', Load(), lineno=74, col_offset=8), [], [], None, None, lineno=74, col_offset=8), lineno=74, col_offset=8)], [], lineno=70, col_offset=4), FunctionDef('keys_helper', arguments([Name('self', Param(), lineno=76, col_offset=20), Name('f', Param(), lineno=76, col_offset=26)], None, None, []), [Assign([Name('keys', Store(), lineno=77, col_offset=8)], Call(Attribute(Name('f', Load(), lineno=77, col_offset=15), 'keys', Load(), lineno=77, col_offset=15), [], [], None, None, lineno=77, col_offset=15), lineno=77, col_offset=8), Expr(Call(Attribute(Name('keys', Load(), lineno=78, col_offset=8), 'sort', Load(), lineno=78, col_offset=8), [], [], None, None, lineno=78, col_offset=8), lineno=78, col_offset=8), Assign([Name('dkeys', Store(), lineno=79, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=79, col_offset=16), '_dict', Load(), lineno=79, col_offset=16), 'keys', Load(), lineno=79, col_offset=16), [], [], None, None, lineno=79, col_offset=16), lineno=79, col_offset=8), Expr(Call(Attribute(Name('dkeys', Load(), lineno=80, col_offset=8), 'sort', Load(), lineno=80, col_offset=8), [], [], None, None, lineno=80, col_offset=8), lineno=80, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=81, col_offset=8), 'assertEqual', Load(), lineno=81, col_offset=8), [Name('keys', Load(), lineno=81, col_offset=25), Name('dkeys', Load(), lineno=81, col_offset=31)], [], None, None, lineno=81, col_offset=8), lineno=81, col_offset=8), Return(Name('keys', Load(), lineno=82, col_offset=15), lineno=82, col_offset=8)], [], lineno=76, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=84, col_offset=17)], None, None, []), [Expr(Call(Name('_delete_files', Load(), lineno=85, col_offset=8), [], [], None, None, lineno=85, col_offset=8), lineno=85, col_offset=8)], [], lineno=84, col_offset=4), FunctionDef('setUp', arguments([Name('self', Param(), lineno=87, col_offset=14)], None, None, []), [Expr(Call(Name('_delete_files', Load(), lineno=88, col_offset=8), [], [], None, None, lineno=88, col_offset=8), lineno=88, col_offset=8)], [], lineno=87, col_offset=4)], [], lineno=25, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [TryFinally([Expr(Call(Attribute(Name('test_support', Load(), lineno=92, col_offset=8), 'run_unittest', Load(), lineno=92, col_offset=8), [Name('AnyDBMTestCase', Load(), lineno=92, col_offset=34)], [], None, None, lineno=92, col_offset=8), lineno=92, col_offset=8)], [Expr(Call(Name('_delete_files', Load(), lineno=94, col_offset=8), [], [], None, None, lineno=94, col_offset=8), lineno=94, col_offset=8)], lineno=91, col_offset=4)], [], lineno=90, col_offset=0), If(Compare(Name('__name__', Load(), lineno=96, col_offset=3), [Eq()], [Str('__main__', lineno=96, col_offset=15)], lineno=96, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=97, col_offset=4), [], [], None, None, lineno=97, col_offset=4), lineno=97, col_offset=4)], [], lineno=96, col_offset=0)])
