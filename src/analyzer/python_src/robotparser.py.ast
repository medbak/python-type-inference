Module([Expr(Str(' robotparser.py\n\n    Copyright (C) 2000  Bastian Kleineidam\n\n    You can choose between two licenses when using this package:\n    1) GNU GPLv2\n    2) PSF license for Python 2.2\n\n    The robots.txt Exclusion Protocol is implemented as specified in\n    http://info.webcrawler.com/mak/projects/robots/norobots-rfc.html\n', lineno=11, col_offset=-1), lineno=11, col_offset=-1), Import([alias('urlparse', None)], lineno=12, col_offset=0), Import([alias('urllib', None)], lineno=13, col_offset=0), Assign([Name('__all__', Store(), lineno=15, col_offset=0)], List([Str('RobotFileParser', lineno=15, col_offset=11)], Load(), lineno=15, col_offset=10), lineno=15, col_offset=0), ClassDef('RobotFileParser', [], [Expr(Str(' This class provides a set of methods to read, parse and answer\n    questions about a single robots.txt file.\n\n    ', lineno=22, col_offset=-1), lineno=22, col_offset=-1), FunctionDef('__init__', arguments([Name('self', Param(), lineno=24, col_offset=17), Name('url', Param(), lineno=24, col_offset=23)], None, None, [Str('', lineno=24, col_offset=27)]), [Assign([Attribute(Name('self', Load(), lineno=25, col_offset=8), 'entries', Store(), lineno=25, col_offset=8)], List([], Load(), lineno=25, col_offset=23), lineno=25, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=26, col_offset=8), 'default_entry', Store(), lineno=26, col_offset=8)], Name('None', Load(), lineno=26, col_offset=29), lineno=26, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=27, col_offset=8), 'disallow_all', Store(), lineno=27, col_offset=8)], Name('False', Load(), lineno=27, col_offset=28), lineno=27, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=28, col_offset=8), 'allow_all', Store(), lineno=28, col_offset=8)], Name('False', Load(), lineno=28, col_offset=25), lineno=28, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=29, col_offset=8), 'set_url', Load(), lineno=29, col_offset=8), [Name('url', Load(), lineno=29, col_offset=21)], [], None, None, lineno=29, col_offset=8), lineno=29, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=30, col_offset=8), 'last_checked', Store(), lineno=30, col_offset=8)], Num(0, lineno=30, col_offset=28), lineno=30, col_offset=8)], [], lineno=24, col_offset=4), FunctionDef('mtime', arguments([Name('self', Param(), lineno=32, col_offset=14)], None, None, []), [Expr(Str('Returns the time the robots.txt file was last fetched.\n\n        This is useful for long-running web spiders that need to\n        check for new robots.txt files periodically.\n\n        ', lineno=38, col_offset=-1), lineno=38, col_offset=-1), Return(Attribute(Name('self', Load(), lineno=39, col_offset=15), 'last_checked', Load(), lineno=39, col_offset=15), lineno=39, col_offset=8)], [], lineno=32, col_offset=4), FunctionDef('modified', arguments([Name('self', Param(), lineno=41, col_offset=17)], None, None, []), [Expr(Str('Sets the time the robots.txt file was last fetched to the\n        current time.\n\n        ', lineno=45, col_offset=-1), lineno=45, col_offset=-1), Import([alias('time', None)], lineno=46, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=47, col_offset=8), 'last_checked', Store(), lineno=47, col_offset=8)], Call(Attribute(Name('time', Load(), lineno=47, col_offset=28), 'time', Load(), lineno=47, col_offset=28), [], [], None, None, lineno=47, col_offset=28), lineno=47, col_offset=8)], [], lineno=41, col_offset=4), FunctionDef('set_url', arguments([Name('self', Param(), lineno=49, col_offset=16), Name('url', Param(), lineno=49, col_offset=22)], None, None, []), [Expr(Str('Sets the URL referring to a robots.txt file.', lineno=50, col_offset=8), lineno=50, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=51, col_offset=8), 'url', Store(), lineno=51, col_offset=8)], Name('url', Load(), lineno=51, col_offset=19), lineno=51, col_offset=8), Assign([Tuple([Attribute(Name('self', Load(), lineno=52, col_offset=8), 'host', Store(), lineno=52, col_offset=8), Attribute(Name('self', Load(), lineno=52, col_offset=19), 'path', Store(), lineno=52, col_offset=19)], Store(), lineno=52, col_offset=8)], Subscript(Call(Attribute(Name('urlparse', Load(), lineno=52, col_offset=31), 'urlparse', Load(), lineno=52, col_offset=31), [Name('url', Load(), lineno=52, col_offset=49)], [], None, None, lineno=52, col_offset=31), Slice(Num(1, lineno=52, col_offset=54), Num(3, lineno=52, col_offset=56), None), Load(), lineno=52, col_offset=31), lineno=52, col_offset=8)], [], lineno=49, col_offset=4), FunctionDef('read', arguments([Name('self', Param(), lineno=54, col_offset=13)], None, None, []), [Expr(Str('Reads the robots.txt URL and feeds it to the parser.', lineno=55, col_offset=8), lineno=55, col_offset=8), Assign([Name('opener', Store(), lineno=56, col_offset=8)], Call(Name('URLopener', Load(), lineno=56, col_offset=17), [], [], None, None, lineno=56, col_offset=17), lineno=56, col_offset=8), Assign([Name('f', Store(), lineno=57, col_offset=8)], Call(Attribute(Name('opener', Load(), lineno=57, col_offset=12), 'open', Load(), lineno=57, col_offset=12), [Attribute(Name('self', Load(), lineno=57, col_offset=24), 'url', Load(), lineno=57, col_offset=24)], [], None, None, lineno=57, col_offset=12), lineno=57, col_offset=8), Assign([Name('lines', Store(), lineno=58, col_offset=8)], ListComp(Call(Attribute(Name('line', Load(), lineno=58, col_offset=17), 'strip', Load(), lineno=58, col_offset=17), [], [], None, None, lineno=58, col_offset=17), [comprehension(Name('line', Store(), lineno=58, col_offset=34), Name('f', Load(), lineno=58, col_offset=42), [])], lineno=58, col_offset=17), lineno=58, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=59, col_offset=8), 'close', Load(), lineno=59, col_offset=8), [], [], None, None, lineno=59, col_offset=8), lineno=59, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=60, col_offset=8), 'errcode', Store(), lineno=60, col_offset=8)], Attribute(Name('opener', Load(), lineno=60, col_offset=23), 'errcode', Load(), lineno=60, col_offset=23), lineno=60, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=61, col_offset=11), 'errcode', Load(), lineno=61, col_offset=11), [In()], [Tuple([Num(401, lineno=61, col_offset=28), Num(403, lineno=61, col_offset=33)], Load(), lineno=61, col_offset=28)], lineno=61, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=62, col_offset=12), 'disallow_all', Store(), lineno=62, col_offset=12)], Name('True', Load(), lineno=62, col_offset=32), lineno=62, col_offset=12)], [If(Compare(Attribute(Name('self', Load(), lineno=63, col_offset=13), 'errcode', Load(), lineno=63, col_offset=13), [GtE()], [Num(400, lineno=63, col_offset=29)], lineno=63, col_offset=13), [Assign([Attribute(Name('self', Load(), lineno=64, col_offset=12), 'allow_all', Store(), lineno=64, col_offset=12)], Name('True', Load(), lineno=64, col_offset=29), lineno=64, col_offset=12)], [If(BoolOp(And(), [Compare(Attribute(Name('self', Load(), lineno=65, col_offset=13), 'errcode', Load(), lineno=65, col_offset=13), [Eq()], [Num(200, lineno=65, col_offset=29)], lineno=65, col_offset=13), Name('lines', Load(), lineno=65, col_offset=37)], lineno=65, col_offset=13), [Expr(Call(Attribute(Name('self', Load(), lineno=66, col_offset=12), 'parse', Load(), lineno=66, col_offset=12), [Name('lines', Load(), lineno=66, col_offset=23)], [], None, None, lineno=66, col_offset=12), lineno=66, col_offset=12)], [], lineno=65, col_offset=13)], lineno=63, col_offset=13)], lineno=61, col_offset=8)], [], lineno=54, col_offset=4), FunctionDef('_add_entry', arguments([Name('self', Param(), lineno=68, col_offset=19), Name('entry', Param(), lineno=68, col_offset=25)], None, None, []), [If(Compare(Str('*', lineno=69, col_offset=11), [In()], [Attribute(Name('entry', Load(), lineno=69, col_offset=18), 'useragents', Load(), lineno=69, col_offset=18)], lineno=69, col_offset=11), [If(Compare(Attribute(Name('self', Load(), lineno=71, col_offset=15), 'default_entry', Load(), lineno=71, col_offset=15), [Is()], [Name('None', Load(), lineno=71, col_offset=37)], lineno=71, col_offset=15), [Assign([Attribute(Name('self', Load(), lineno=73, col_offset=16), 'default_entry', Store(), lineno=73, col_offset=16)], Name('entry', Load(), lineno=73, col_offset=37), lineno=73, col_offset=16)], [], lineno=71, col_offset=12)], [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=75, col_offset=12), 'entries', Load(), lineno=75, col_offset=12), 'append', Load(), lineno=75, col_offset=12), [Name('entry', Load(), lineno=75, col_offset=32)], [], None, None, lineno=75, col_offset=12), lineno=75, col_offset=12)], lineno=69, col_offset=8)], [], lineno=68, col_offset=4), FunctionDef('parse', arguments([Name('self', Param(), lineno=77, col_offset=14), Name('lines', Param(), lineno=77, col_offset=20)], None, None, []), [Expr(Str('parse the input lines from a robots.txt file.\n           We allow that a user-agent: line is not preceded by\n           one or more blank lines.', lineno=80, col_offset=-1), lineno=80, col_offset=-1), Assign([Name('state', Store(), lineno=85, col_offset=8)], Num(0, lineno=85, col_offset=16), lineno=85, col_offset=8), Assign([Name('linenumber', Store(), lineno=86, col_offset=8)], Num(0, lineno=86, col_offset=21), lineno=86, col_offset=8), Assign([Name('entry', Store(), lineno=87, col_offset=8)], Call(Name('Entry', Load(), lineno=87, col_offset=16), [], [], None, None, lineno=87, col_offset=16), lineno=87, col_offset=8), For(Name('line', Store(), lineno=89, col_offset=12), Name('lines', Load(), lineno=89, col_offset=20), [AugAssign(Name('linenumber', Store(), lineno=90, col_offset=12), Add(), Num(1, lineno=90, col_offset=26), lineno=90, col_offset=12), If(UnaryOp(Not(), Name('line', Load(), lineno=91, col_offset=19), lineno=91, col_offset=15), [If(Compare(Name('state', Load(), lineno=92, col_offset=19), [Eq()], [Num(1, lineno=92, col_offset=28)], lineno=92, col_offset=19), [Assign([Name('entry', Store(), lineno=93, col_offset=20)], Call(Name('Entry', Load(), lineno=93, col_offset=28), [], [], None, None, lineno=93, col_offset=28), lineno=93, col_offset=20), Assign([Name('state', Store(), lineno=94, col_offset=20)], Num(0, lineno=94, col_offset=28), lineno=94, col_offset=20)], [If(Compare(Name('state', Load(), lineno=95, col_offset=21), [Eq()], [Num(2, lineno=95, col_offset=30)], lineno=95, col_offset=21), [Expr(Call(Attribute(Name('self', Load(), lineno=96, col_offset=20), '_add_entry', Load(), lineno=96, col_offset=20), [Name('entry', Load(), lineno=96, col_offset=36)], [], None, None, lineno=96, col_offset=20), lineno=96, col_offset=20), Assign([Name('entry', Store(), lineno=97, col_offset=20)], Call(Name('Entry', Load(), lineno=97, col_offset=28), [], [], None, None, lineno=97, col_offset=28), lineno=97, col_offset=20), Assign([Name('state', Store(), lineno=98, col_offset=20)], Num(0, lineno=98, col_offset=28), lineno=98, col_offset=20)], [], lineno=95, col_offset=21)], lineno=92, col_offset=16)], [], lineno=91, col_offset=12), Assign([Name('i', Store(), lineno=100, col_offset=12)], Call(Attribute(Name('line', Load(), lineno=100, col_offset=16), 'find', Load(), lineno=100, col_offset=16), [Str('#', lineno=100, col_offset=26)], [], None, None, lineno=100, col_offset=16), lineno=100, col_offset=12), If(Compare(Name('i', Load(), lineno=101, col_offset=15), [GtE()], [Num(0, lineno=101, col_offset=20)], lineno=101, col_offset=15), [Assign([Name('line', Store(), lineno=102, col_offset=16)], Subscript(Name('line', Load(), lineno=102, col_offset=23), Slice(None, Name('i', Load(), lineno=102, col_offset=29), None), Load(), lineno=102, col_offset=23), lineno=102, col_offset=16)], [], lineno=101, col_offset=12), Assign([Name('line', Store(), lineno=103, col_offset=12)], Call(Attribute(Name('line', Load(), lineno=103, col_offset=19), 'strip', Load(), lineno=103, col_offset=19), [], [], None, None, lineno=103, col_offset=19), lineno=103, col_offset=12), If(UnaryOp(Not(), Name('line', Load(), lineno=104, col_offset=19), lineno=104, col_offset=15), [Continue( lineno=105, col_offset=16)], [], lineno=104, col_offset=12), Assign([Name('line', Store(), lineno=106, col_offset=12)], Call(Attribute(Name('line', Load(), lineno=106, col_offset=19), 'split', Load(), lineno=106, col_offset=19), [Str(':', lineno=106, col_offset=30), Num(1, lineno=106, col_offset=35)], [], None, None, lineno=106, col_offset=19), lineno=106, col_offset=12), If(Compare(Call(Name('len', Load(), lineno=107, col_offset=15), [Name('line', Load(), lineno=107, col_offset=19)], [], None, None, lineno=107, col_offset=15), [Eq()], [Num(2, lineno=107, col_offset=28)], lineno=107, col_offset=15), [Assign([Subscript(Name('line', Load(), lineno=108, col_offset=16), Index(Num(0, lineno=108, col_offset=21)), Store(), lineno=108, col_offset=16)], Call(Attribute(Call(Attribute(Subscript(Name('line', Load(), lineno=108, col_offset=26), Index(Num(0, lineno=108, col_offset=31)), Load(), lineno=108, col_offset=26), 'strip', Load(), lineno=108, col_offset=26), [], [], None, None, lineno=108, col_offset=26), 'lower', Load(), lineno=108, col_offset=26), [], [], None, None, lineno=108, col_offset=26), lineno=108, col_offset=16), Assign([Subscript(Name('line', Load(), lineno=109, col_offset=16), Index(Num(1, lineno=109, col_offset=21)), Store(), lineno=109, col_offset=16)], Call(Attribute(Name('urllib', Load(), lineno=109, col_offset=26), 'unquote', Load(), lineno=109, col_offset=26), [Call(Attribute(Subscript(Name('line', Load(), lineno=109, col_offset=41), Index(Num(1, lineno=109, col_offset=46)), Load(), lineno=109, col_offset=41), 'strip', Load(), lineno=109, col_offset=41), [], [], None, None, lineno=109, col_offset=41)], [], None, None, lineno=109, col_offset=26), lineno=109, col_offset=16), If(Compare(Subscript(Name('line', Load(), lineno=110, col_offset=19), Index(Num(0, lineno=110, col_offset=24)), Load(), lineno=110, col_offset=19), [Eq()], [Str('user-agent', lineno=110, col_offset=30)], lineno=110, col_offset=19), [If(Compare(Name('state', Load(), lineno=111, col_offset=23), [Eq()], [Num(2, lineno=111, col_offset=32)], lineno=111, col_offset=23), [Expr(Call(Attribute(Name('self', Load(), lineno=112, col_offset=24), '_add_entry', Load(), lineno=112, col_offset=24), [Name('entry', Load(), lineno=112, col_offset=40)], [], None, None, lineno=112, col_offset=24), lineno=112, col_offset=24), Assign([Name('entry', Store(), lineno=113, col_offset=24)], Call(Name('Entry', Load(), lineno=113, col_offset=32), [], [], None, None, lineno=113, col_offset=32), lineno=113, col_offset=24)], [], lineno=111, col_offset=20), Expr(Call(Attribute(Attribute(Name('entry', Load(), lineno=114, col_offset=20), 'useragents', Load(), lineno=114, col_offset=20), 'append', Load(), lineno=114, col_offset=20), [Subscript(Name('line', Load(), lineno=114, col_offset=44), Index(Num(1, lineno=114, col_offset=49)), Load(), lineno=114, col_offset=44)], [], None, None, lineno=114, col_offset=20), lineno=114, col_offset=20), Assign([Name('state', Store(), lineno=115, col_offset=20)], Num(1, lineno=115, col_offset=28), lineno=115, col_offset=20)], [If(Compare(Subscript(Name('line', Load(), lineno=116, col_offset=21), Index(Num(0, lineno=116, col_offset=26)), Load(), lineno=116, col_offset=21), [Eq()], [Str('disallow', lineno=116, col_offset=32)], lineno=116, col_offset=21), [If(Compare(Name('state', Load(), lineno=117, col_offset=23), [NotEq()], [Num(0, lineno=117, col_offset=32)], lineno=117, col_offset=23), [Expr(Call(Attribute(Attribute(Name('entry', Load(), lineno=118, col_offset=24), 'rulelines', Load(), lineno=118, col_offset=24), 'append', Load(), lineno=118, col_offset=24), [Call(Name('RuleLine', Load(), lineno=118, col_offset=47), [Subscript(Name('line', Load(), lineno=118, col_offset=56), Index(Num(1, lineno=118, col_offset=61)), Load(), lineno=118, col_offset=56), Name('False', Load(), lineno=118, col_offset=65)], [], None, None, lineno=118, col_offset=47)], [], None, None, lineno=118, col_offset=24), lineno=118, col_offset=24), Assign([Name('state', Store(), lineno=119, col_offset=24)], Num(2, lineno=119, col_offset=32), lineno=119, col_offset=24)], [], lineno=117, col_offset=20)], [If(Compare(Subscript(Name('line', Load(), lineno=120, col_offset=21), Index(Num(0, lineno=120, col_offset=26)), Load(), lineno=120, col_offset=21), [Eq()], [Str('allow', lineno=120, col_offset=32)], lineno=120, col_offset=21), [If(Compare(Name('state', Load(), lineno=121, col_offset=23), [NotEq()], [Num(0, lineno=121, col_offset=32)], lineno=121, col_offset=23), [Expr(Call(Attribute(Attribute(Name('entry', Load(), lineno=122, col_offset=24), 'rulelines', Load(), lineno=122, col_offset=24), 'append', Load(), lineno=122, col_offset=24), [Call(Name('RuleLine', Load(), lineno=122, col_offset=47), [Subscript(Name('line', Load(), lineno=122, col_offset=56), Index(Num(1, lineno=122, col_offset=61)), Load(), lineno=122, col_offset=56), Name('True', Load(), lineno=122, col_offset=65)], [], None, None, lineno=122, col_offset=47)], [], None, None, lineno=122, col_offset=24), lineno=122, col_offset=24), Assign([Name('state', Store(), lineno=123, col_offset=24)], Num(2, lineno=123, col_offset=32), lineno=123, col_offset=24)], [], lineno=121, col_offset=20)], [], lineno=120, col_offset=21)], lineno=116, col_offset=21)], lineno=110, col_offset=16)], [], lineno=107, col_offset=12)], [], lineno=89, col_offset=8), If(Compare(Name('state', Load(), lineno=124, col_offset=11), [Eq()], [Num(2, lineno=124, col_offset=20)], lineno=124, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=125, col_offset=12), '_add_entry', Load(), lineno=125, col_offset=12), [Name('entry', Load(), lineno=125, col_offset=28)], [], None, None, lineno=125, col_offset=12), lineno=125, col_offset=12)], [], lineno=124, col_offset=8)], [], lineno=77, col_offset=4), FunctionDef('can_fetch', arguments([Name('self', Param(), lineno=128, col_offset=18), Name('useragent', Param(), lineno=128, col_offset=24), Name('url', Param(), lineno=128, col_offset=35)], None, None, []), [Expr(Str('using the parsed robots.txt decide if useragent can fetch url', lineno=129, col_offset=8), lineno=129, col_offset=8), If(Attribute(Name('self', Load(), lineno=130, col_offset=11), 'disallow_all', Load(), lineno=130, col_offset=11), [Return(Name('False', Load(), lineno=131, col_offset=19), lineno=131, col_offset=12)], [], lineno=130, col_offset=8), If(Attribute(Name('self', Load(), lineno=132, col_offset=11), 'allow_all', Load(), lineno=132, col_offset=11), [Return(Name('True', Load(), lineno=133, col_offset=19), lineno=133, col_offset=12)], [], lineno=132, col_offset=8), Assign([Name('parsed_url', Store(), lineno=136, col_offset=8)], Call(Attribute(Name('urlparse', Load(), lineno=136, col_offset=21), 'urlparse', Load(), lineno=136, col_offset=21), [Call(Attribute(Name('urllib', Load(), lineno=136, col_offset=39), 'unquote', Load(), lineno=136, col_offset=39), [Name('url', Load(), lineno=136, col_offset=54)], [], None, None, lineno=136, col_offset=39)], [], None, None, lineno=136, col_offset=21), lineno=136, col_offset=8), Assign([Name('url', Store(), lineno=137, col_offset=8)], Call(Attribute(Name('urlparse', Load(), lineno=137, col_offset=14), 'urlunparse', Load(), lineno=137, col_offset=14), [Tuple([Str('', lineno=137, col_offset=35), Str('', lineno=137, col_offset=39), Attribute(Name('parsed_url', Load(), lineno=137, col_offset=43), 'path', Load(), lineno=137, col_offset=43), Attribute(Name('parsed_url', Load(), lineno=138, col_offset=12), 'params', Load(), lineno=138, col_offset=12), Attribute(Name('parsed_url', Load(), lineno=138, col_offset=31), 'query', Load(), lineno=138, col_offset=31), Attribute(Name('parsed_url', Load(), lineno=138, col_offset=49), 'fragment', Load(), lineno=138, col_offset=49)], Load(), lineno=137, col_offset=35)], [], None, None, lineno=137, col_offset=14), lineno=137, col_offset=8), Assign([Name('url', Store(), lineno=139, col_offset=8)], Call(Attribute(Name('urllib', Load(), lineno=139, col_offset=14), 'quote', Load(), lineno=139, col_offset=14), [Name('url', Load(), lineno=139, col_offset=27)], [], None, None, lineno=139, col_offset=14), lineno=139, col_offset=8), If(UnaryOp(Not(), Name('url', Load(), lineno=140, col_offset=15), lineno=140, col_offset=11), [Assign([Name('url', Store(), lineno=141, col_offset=12)], Str('/', lineno=141, col_offset=18), lineno=141, col_offset=12)], [], lineno=140, col_offset=8), For(Name('entry', Store(), lineno=142, col_offset=12), Attribute(Name('self', Load(), lineno=142, col_offset=21), 'entries', Load(), lineno=142, col_offset=21), [If(Call(Attribute(Name('entry', Load(), lineno=143, col_offset=15), 'applies_to', Load(), lineno=143, col_offset=15), [Name('useragent', Load(), lineno=143, col_offset=32)], [], None, None, lineno=143, col_offset=15), [Return(Call(Attribute(Name('entry', Load(), lineno=144, col_offset=23), 'allowance', Load(), lineno=144, col_offset=23), [Name('url', Load(), lineno=144, col_offset=39)], [], None, None, lineno=144, col_offset=23), lineno=144, col_offset=16)], [], lineno=143, col_offset=12)], [], lineno=142, col_offset=8), If(Attribute(Name('self', Load(), lineno=146, col_offset=11), 'default_entry', Load(), lineno=146, col_offset=11), [Return(Call(Attribute(Attribute(Name('self', Load(), lineno=147, col_offset=19), 'default_entry', Load(), lineno=147, col_offset=19), 'allowance', Load(), lineno=147, col_offset=19), [Name('url', Load(), lineno=147, col_offset=48)], [], None, None, lineno=147, col_offset=19), lineno=147, col_offset=12)], [], lineno=146, col_offset=8), Return(Name('True', Load(), lineno=149, col_offset=15), lineno=149, col_offset=8)], [], lineno=128, col_offset=4), FunctionDef('__str__', arguments([Name('self', Param(), lineno=152, col_offset=16)], None, None, []), [Return(Call(Attribute(Str('', lineno=153, col_offset=15), 'join', Load(), lineno=153, col_offset=15), [ListComp(BinOp(Call(Name('str', Load(), lineno=153, col_offset=24), [Name('entry', Load(), lineno=153, col_offset=28)], [], None, None, lineno=153, col_offset=24), Add(), Str('\n', lineno=153, col_offset=37), lineno=153, col_offset=24), [comprehension(Name('entry', Store(), lineno=153, col_offset=46), Attribute(Name('self', Load(), lineno=153, col_offset=55), 'entries', Load(), lineno=153, col_offset=55), [])], lineno=153, col_offset=24)], [], None, None, lineno=153, col_offset=15), lineno=153, col_offset=8)], [], lineno=152, col_offset=4)], [], lineno=18, col_offset=0), ClassDef('RuleLine', [], [Expr(Str('A rule line is a single "Allow:" (allowance==True) or "Disallow:"\n       (allowance==False) followed by a path.', lineno=158, col_offset=-1), lineno=158, col_offset=-1), FunctionDef('__init__', arguments([Name('self', Param(), lineno=159, col_offset=17), Name('path', Param(), lineno=159, col_offset=23), Name('allowance', Param(), lineno=159, col_offset=29)], None, None, []), [If(BoolOp(And(), [Compare(Name('path', Load(), lineno=160, col_offset=11), [Eq()], [Str('', lineno=160, col_offset=19)], lineno=160, col_offset=11), UnaryOp(Not(), Name('allowance', Load(), lineno=160, col_offset=30), lineno=160, col_offset=26)], lineno=160, col_offset=11), [Assign([Name('allowance', Store(), lineno=162, col_offset=12)], Name('True', Load(), lineno=162, col_offset=24), lineno=162, col_offset=12)], [], lineno=160, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=163, col_offset=8), 'path', Store(), lineno=163, col_offset=8)], Call(Attribute(Name('urllib', Load(), lineno=163, col_offset=20), 'quote', Load(), lineno=163, col_offset=20), [Name('path', Load(), lineno=163, col_offset=33)], [], None, None, lineno=163, col_offset=20), lineno=163, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=164, col_offset=8), 'allowance', Store(), lineno=164, col_offset=8)], Name('allowance', Load(), lineno=164, col_offset=25), lineno=164, col_offset=8)], [], lineno=159, col_offset=4), FunctionDef('applies_to', arguments([Name('self', Param(), lineno=166, col_offset=19), Name('filename', Param(), lineno=166, col_offset=25)], None, None, []), [Return(BoolOp(Or(), [Compare(Attribute(Name('self', Load(), lineno=167, col_offset=15), 'path', Load(), lineno=167, col_offset=15), [Eq()], [Str('*', lineno=167, col_offset=28)], lineno=167, col_offset=15), Call(Attribute(Name('filename', Load(), lineno=167, col_offset=35), 'startswith', Load(), lineno=167, col_offset=35), [Attribute(Name('self', Load(), lineno=167, col_offset=55), 'path', Load(), lineno=167, col_offset=55)], [], None, None, lineno=167, col_offset=35)], lineno=167, col_offset=15), lineno=167, col_offset=8)], [], lineno=166, col_offset=4), FunctionDef('__str__', arguments([Name('self', Param(), lineno=169, col_offset=16)], None, None, []), [Return(BinOp(BinOp(BoolOp(Or(), [BoolOp(And(), [Attribute(Name('self', Load(), lineno=170, col_offset=16), 'allowance', Load(), lineno=170, col_offset=16), Str('Allow', lineno=170, col_offset=35)], lineno=170, col_offset=16), Str('Disallow', lineno=170, col_offset=46)], lineno=170, col_offset=16), Add(), Str(': ', lineno=170, col_offset=60), lineno=170, col_offset=15), Add(), Attribute(Name('self', Load(), lineno=170, col_offset=67), 'path', Load(), lineno=170, col_offset=67), lineno=170, col_offset=65), lineno=170, col_offset=8)], [], lineno=169, col_offset=4)], [], lineno=156, col_offset=0), ClassDef('Entry', [], [Expr(Str('An entry has one or more user-agents and zero or more rulelines', lineno=174, col_offset=4), lineno=174, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=175, col_offset=17)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=176, col_offset=8), 'useragents', Store(), lineno=176, col_offset=8)], List([], Load(), lineno=176, col_offset=26), lineno=176, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=177, col_offset=8), 'rulelines', Store(), lineno=177, col_offset=8)], List([], Load(), lineno=177, col_offset=25), lineno=177, col_offset=8)], [], lineno=175, col_offset=4), FunctionDef('__str__', arguments([Name('self', Param(), lineno=179, col_offset=16)], None, None, []), [Assign([Name('ret', Store(), lineno=180, col_offset=8)], List([], Load(), lineno=180, col_offset=14), lineno=180, col_offset=8), For(Name('agent', Store(), lineno=181, col_offset=12), Attribute(Name('self', Load(), lineno=181, col_offset=21), 'useragents', Load(), lineno=181, col_offset=21), [Expr(Call(Attribute(Name('ret', Load(), lineno=182, col_offset=12), 'extend', Load(), lineno=182, col_offset=12), [List([Str('User-agent: ', lineno=182, col_offset=24), Name('agent', Load(), lineno=182, col_offset=40), Str('\n', lineno=182, col_offset=47)], Load(), lineno=182, col_offset=23)], [], None, None, lineno=182, col_offset=12), lineno=182, col_offset=12)], [], lineno=181, col_offset=8), For(Name('line', Store(), lineno=183, col_offset=12), Attribute(Name('self', Load(), lineno=183, col_offset=20), 'rulelines', Load(), lineno=183, col_offset=20), [Expr(Call(Attribute(Name('ret', Load(), lineno=184, col_offset=12), 'extend', Load(), lineno=184, col_offset=12), [List([Call(Name('str', Load(), lineno=184, col_offset=24), [Name('line', Load(), lineno=184, col_offset=28)], [], None, None, lineno=184, col_offset=24), Str('\n', lineno=184, col_offset=35)], Load(), lineno=184, col_offset=23)], [], None, None, lineno=184, col_offset=12), lineno=184, col_offset=12)], [], lineno=183, col_offset=8), Return(Call(Attribute(Str('', lineno=185, col_offset=15), 'join', Load(), lineno=185, col_offset=15), [Name('ret', Load(), lineno=185, col_offset=23)], [], None, None, lineno=185, col_offset=15), lineno=185, col_offset=8)], [], lineno=179, col_offset=4), FunctionDef('applies_to', arguments([Name('self', Param(), lineno=187, col_offset=19), Name('useragent', Param(), lineno=187, col_offset=25)], None, None, []), [Expr(Str('check if this entry applies to the specified agent', lineno=188, col_offset=8), lineno=188, col_offset=8), Assign([Name('useragent', Store(), lineno=190, col_offset=8)], Call(Attribute(Subscript(Call(Attribute(Name('useragent', Load(), lineno=190, col_offset=20), 'split', Load(), lineno=190, col_offset=20), [Str('/', lineno=190, col_offset=36)], [], None, None, lineno=190, col_offset=20), Index(Num(0, lineno=190, col_offset=41)), Load(), lineno=190, col_offset=20), 'lower', Load(), lineno=190, col_offset=20), [], [], None, None, lineno=190, col_offset=20), lineno=190, col_offset=8), For(Name('agent', Store(), lineno=191, col_offset=12), Attribute(Name('self', Load(), lineno=191, col_offset=21), 'useragents', Load(), lineno=191, col_offset=21), [If(Compare(Name('agent', Load(), lineno=192, col_offset=15), [Eq()], [Str('*', lineno=192, col_offset=24)], lineno=192, col_offset=15), [Return(Name('True', Load(), lineno=194, col_offset=23), lineno=194, col_offset=16)], [], lineno=192, col_offset=12), Assign([Name('agent', Store(), lineno=195, col_offset=12)], Call(Attribute(Name('agent', Load(), lineno=195, col_offset=20), 'lower', Load(), lineno=195, col_offset=20), [], [], None, None, lineno=195, col_offset=20), lineno=195, col_offset=12), If(Compare(Name('agent', Load(), lineno=196, col_offset=15), [In()], [Name('useragent', Load(), lineno=196, col_offset=24)], lineno=196, col_offset=15), [Return(Name('True', Load(), lineno=197, col_offset=23), lineno=197, col_offset=16)], [], lineno=196, col_offset=12)], [], lineno=191, col_offset=8), Return(Name('False', Load(), lineno=198, col_offset=15), lineno=198, col_offset=8)], [], lineno=187, col_offset=4), FunctionDef('allowance', arguments([Name('self', Param(), lineno=200, col_offset=18), Name('filename', Param(), lineno=200, col_offset=24)], None, None, []), [Expr(Str('Preconditions:\n        - our agent applies to this entry\n        - filename is URL decoded', lineno=203, col_offset=-1), lineno=203, col_offset=-1), For(Name('line', Store(), lineno=204, col_offset=12), Attribute(Name('self', Load(), lineno=204, col_offset=20), 'rulelines', Load(), lineno=204, col_offset=20), [If(Call(Attribute(Name('line', Load(), lineno=205, col_offset=15), 'applies_to', Load(), lineno=205, col_offset=15), [Name('filename', Load(), lineno=205, col_offset=31)], [], None, None, lineno=205, col_offset=15), [Return(Attribute(Name('line', Load(), lineno=206, col_offset=23), 'allowance', Load(), lineno=206, col_offset=23), lineno=206, col_offset=16)], [], lineno=205, col_offset=12)], [], lineno=204, col_offset=8), Return(Name('True', Load(), lineno=207, col_offset=15), lineno=207, col_offset=8)], [], lineno=200, col_offset=4)], [], lineno=173, col_offset=0), ClassDef('URLopener', [Attribute(Name('urllib', Load(), lineno=209, col_offset=16), 'FancyURLopener', Load(), lineno=209, col_offset=16)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=210, col_offset=17)], 'args', None, []), [Expr(Call(Attribute(Attribute(Name('urllib', Load(), lineno=211, col_offset=8), 'FancyURLopener', Load(), lineno=211, col_offset=8), '__init__', Load(), lineno=211, col_offset=8), [Name('self', Load(), lineno=211, col_offset=39)], [], Name('args', Load(), lineno=211, col_offset=46), None, lineno=211, col_offset=8), lineno=211, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=212, col_offset=8), 'errcode', Store(), lineno=212, col_offset=8)], Num(200, lineno=212, col_offset=23), lineno=212, col_offset=8)], [], lineno=210, col_offset=4), FunctionDef('prompt_user_passwd', arguments([Name('self', Param(), lineno=214, col_offset=27), Name('host', Param(), lineno=214, col_offset=33), Name('realm', Param(), lineno=214, col_offset=39)], None, None, []), [Return(Tuple([Name('None', Load(), lineno=217, col_offset=15), Name('None', Load(), lineno=217, col_offset=21)], Load(), lineno=217, col_offset=15), lineno=217, col_offset=8)], [], lineno=214, col_offset=4), FunctionDef('http_error_default', arguments([Name('self', Param(), lineno=219, col_offset=27), Name('url', Param(), lineno=219, col_offset=33), Name('fp', Param(), lineno=219, col_offset=38), Name('errcode', Param(), lineno=219, col_offset=42), Name('errmsg', Param(), lineno=219, col_offset=51), Name('headers', Param(), lineno=219, col_offset=59)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=220, col_offset=8), 'errcode', Store(), lineno=220, col_offset=8)], Name('errcode', Load(), lineno=220, col_offset=23), lineno=220, col_offset=8), Return(Call(Attribute(Attribute(Name('urllib', Load(), lineno=221, col_offset=15), 'FancyURLopener', Load(), lineno=221, col_offset=15), 'http_error_default', Load(), lineno=221, col_offset=15), [Name('self', Load(), lineno=221, col_offset=56), Name('url', Load(), lineno=221, col_offset=62), Name('fp', Load(), lineno=221, col_offset=67), Name('errcode', Load(), lineno=221, col_offset=71), Name('errmsg', Load(), lineno=222, col_offset=56), Name('headers', Load(), lineno=222, col_offset=64)], [], None, None, lineno=221, col_offset=15), lineno=221, col_offset=8)], [], lineno=219, col_offset=4)], [], lineno=209, col_offset=0)])
