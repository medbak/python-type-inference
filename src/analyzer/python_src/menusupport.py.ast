Module([Import([alias('string', None)], lineno=6, col_offset=0), Assign([Name('MACHEADERFILE', Store(), lineno=9, col_offset=0)], Str('Menus.h', lineno=9, col_offset=16), lineno=9, col_offset=0), Assign([Name('MODNAME', Store(), lineno=10, col_offset=0)], Str('_Menu', lineno=10, col_offset=10), lineno=10, col_offset=0), Assign([Name('OBJECTNAME', Store(), lineno=11, col_offset=0)], Str('Menu', lineno=11, col_offset=13), lineno=11, col_offset=0), Assign([Name('MODPREFIX', Store(), lineno=14, col_offset=0)], Str('Menu', lineno=14, col_offset=12), lineno=14, col_offset=0), Assign([Name('OBJECTTYPE', Store(), lineno=15, col_offset=0)], BinOp(Name('OBJECTNAME', Load(), lineno=15, col_offset=13), Add(), Str('Handle', lineno=15, col_offset=26), lineno=15, col_offset=13), lineno=15, col_offset=0), Assign([Name('OBJECTPREFIX', Store(), lineno=16, col_offset=0)], BinOp(Name('MODPREFIX', Load(), lineno=16, col_offset=15), Add(), Str('Obj', lineno=16, col_offset=27), lineno=16, col_offset=15), lineno=16, col_offset=0), Assign([Name('INPUTFILE', Store(), lineno=17, col_offset=0)], BinOp(Call(Attribute(Name('string', Load(), lineno=17, col_offset=12), 'lower', Load(), lineno=17, col_offset=12), [Name('MODPREFIX', Load(), lineno=17, col_offset=25)], [], None, None, lineno=17, col_offset=12), Add(), Str('gen.py', lineno=17, col_offset=38), lineno=17, col_offset=12), lineno=17, col_offset=0), Assign([Name('EXTRAFILE', Store(), lineno=18, col_offset=0)], BinOp(Call(Attribute(Name('string', Load(), lineno=18, col_offset=12), 'lower', Load(), lineno=18, col_offset=12), [Name('MODPREFIX', Load(), lineno=18, col_offset=25)], [], None, None, lineno=18, col_offset=12), Add(), Str('edit.py', lineno=18, col_offset=38), lineno=18, col_offset=12), lineno=18, col_offset=0), Assign([Name('OUTPUTFILE', Store(), lineno=19, col_offset=0)], BinOp(Name('MODNAME', Load(), lineno=19, col_offset=13), Add(), Str('module.c', lineno=19, col_offset=23), lineno=19, col_offset=13), lineno=19, col_offset=0), ImportFrom('macsupport', [alias('*', None)], 0, lineno=21, col_offset=0), Assign([Name('MenuHandle', Store(), lineno=25, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=25, col_offset=13), [Name('OBJECTTYPE', Load(), lineno=25, col_offset=31), Name('OBJECTPREFIX', Load(), lineno=25, col_offset=43)], [], None, None, lineno=25, col_offset=13), lineno=25, col_offset=0), Assign([Name('MenuRef', Store(), lineno=26, col_offset=0)], Name('MenuHandle', Load(), lineno=26, col_offset=10), lineno=26, col_offset=0), Assign([Name('OptMenuRef', Store(), lineno=27, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=27, col_offset=13), [Name('OBJECTTYPE', Load(), lineno=27, col_offset=31), BinOp(Str('Opt', lineno=27, col_offset=43), Add(), Name('OBJECTPREFIX', Load(), lineno=27, col_offset=51), lineno=27, col_offset=43)], [], None, None, lineno=27, col_offset=13), lineno=27, col_offset=0), Assign([Name('Handle', Store(), lineno=28, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=28, col_offset=9), [Str('Handle', lineno=28, col_offset=27), Str('ResObj', lineno=28, col_offset=37)], [], None, None, lineno=28, col_offset=9), lineno=28, col_offset=0), Assign([Name('MenuBarHandle', Store(), lineno=29, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=29, col_offset=16), [Str('MenuBarHandle', lineno=29, col_offset=34), Str('ResObj', lineno=29, col_offset=51)], [], None, None, lineno=29, col_offset=16), lineno=29, col_offset=0), Assign([Name('MenuID', Store(), lineno=30, col_offset=0)], Call(Name('Type', Load(), lineno=30, col_offset=9), [Str('MenuID', lineno=30, col_offset=14), Str('h', lineno=30, col_offset=24)], [], None, None, lineno=30, col_offset=9), lineno=30, col_offset=0), Assign([Name('MenuItemIndex', Store(), lineno=31, col_offset=0)], Call(Name('Type', Load(), lineno=31, col_offset=16), [Str('MenuItemIndex', lineno=31, col_offset=21), Str('h', lineno=31, col_offset=38)], [], None, None, lineno=31, col_offset=16), lineno=31, col_offset=0), Assign([Name('MenuItemID', Store(), lineno=32, col_offset=0)], Call(Name('Type', Load(), lineno=32, col_offset=13), [Str('MenuItemID', lineno=32, col_offset=18), Str('l', lineno=32, col_offset=32)], [], None, None, lineno=32, col_offset=13), lineno=32, col_offset=0), Assign([Name('MenuCommand', Store(), lineno=33, col_offset=0)], Call(Name('Type', Load(), lineno=33, col_offset=14), [Str('MenuCommand', lineno=33, col_offset=19), Str('l', lineno=33, col_offset=34)], [], None, None, lineno=33, col_offset=14), lineno=33, col_offset=0), Assign([Name('MenuAttributes', Store(), lineno=34, col_offset=0)], Call(Name('Type', Load(), lineno=34, col_offset=17), [Str('MenuAttributes', lineno=34, col_offset=22), Str('l', lineno=34, col_offset=40)], [], None, None, lineno=34, col_offset=17), lineno=34, col_offset=0), Assign([Name('MenuItemAttributes', Store(), lineno=35, col_offset=0)], Call(Name('Type', Load(), lineno=35, col_offset=21), [Str('MenuItemAttributes', lineno=35, col_offset=26), Str('l', lineno=35, col_offset=48)], [], None, None, lineno=35, col_offset=21), lineno=35, col_offset=0), Assign([Name('unsigned_char', Store(), lineno=36, col_offset=0)], Call(Name('Type', Load(), lineno=36, col_offset=16), [Str('unsigned char', lineno=36, col_offset=21), Str('b', lineno=36, col_offset=38)], [], None, None, lineno=36, col_offset=16), lineno=36, col_offset=0), Assign([Name('FMFontFamily', Store(), lineno=37, col_offset=0)], Call(Name('Type', Load(), lineno=37, col_offset=15), [Str('FMFontFamily', lineno=37, col_offset=20), Str('h', lineno=37, col_offset=36)], [], None, None, lineno=37, col_offset=15), lineno=37, col_offset=0), Assign([Name('FMFontStyle', Store(), lineno=38, col_offset=0)], Call(Name('Type', Load(), lineno=38, col_offset=14), [Str('FMFontStyle', lineno=38, col_offset=19), Str('h', lineno=38, col_offset=34)], [], None, None, lineno=38, col_offset=14), lineno=38, col_offset=0), Assign([Name('UniChar', Store(), lineno=39, col_offset=0)], Call(Name('Type', Load(), lineno=39, col_offset=10), [Str('UniChar', lineno=39, col_offset=15), Str('h', lineno=39, col_offset=26)], [], None, None, lineno=39, col_offset=10), lineno=39, col_offset=0), Assign([Name('includestuff', Store(), lineno=41, col_offset=0)], BinOp(Name('includestuff', Load(), lineno=41, col_offset=15), Add(), Str('\n#include <Carbon/Carbon.h>\n\n\n#ifdef USE_TOOLBOX_OBJECT_GLUE\n\nextern PyObject *_MenuObj_New(MenuHandle);\nextern int _MenuObj_Convert(PyObject *, MenuHandle *);\n\n#define MenuObj_New _MenuObj_New\n#define MenuObj_Convert _MenuObj_Convert\n#endif\n\n#define as_Menu(h) ((MenuHandle)h)\n#define as_Resource(h) ((Handle)h)\n\n\n/* Alternative version of MenuObj_New, which returns None for NULL argument */\nPyObject *OptMenuObj_New(MenuRef itself)\n{\n        if (itself == NULL) {\n                Py_INCREF(Py_None);\n                return Py_None;\n        }\n        return MenuObj_New(itself);\n}\n\n/* Alternative version of MenuObj_Convert, which returns NULL for a None argument */\nint OptMenuObj_Convert(PyObject *v, MenuRef *p_itself)\n{\n        if ( v == Py_None ) {\n                *p_itself = NULL;\n                return 1;\n        }\n        return MenuObj_Convert(v, p_itself);\n}\n', lineno=77, col_offset=-1), lineno=41, col_offset=15), lineno=41, col_offset=0), Assign([Name('initstuff', Store(), lineno=79, col_offset=0)], BinOp(Name('initstuff', Load(), lineno=79, col_offset=12), Add(), Str('\n        PyMac_INIT_TOOLBOX_OBJECT_NEW(MenuHandle, MenuObj_New);\n        PyMac_INIT_TOOLBOX_OBJECT_CONVERT(MenuHandle, MenuObj_Convert);\n', lineno=82, col_offset=-1), lineno=79, col_offset=12), lineno=79, col_offset=0), ClassDef('MyObjectDefinition', [Name('PEP253Mixin', Load(), lineno=84, col_offset=25), Name('GlobalObjectDefinition', Load(), lineno=84, col_offset=38)], [Pass( lineno=85, col_offset=4)], [], lineno=84, col_offset=0), Assign([Name('module', Store(), lineno=88, col_offset=0)], Call(Name('MacModule', Load(), lineno=88, col_offset=9), [Name('MODNAME', Load(), lineno=88, col_offset=19), Name('MODPREFIX', Load(), lineno=88, col_offset=28), Name('includestuff', Load(), lineno=88, col_offset=39), Name('finalstuff', Load(), lineno=88, col_offset=53), Name('initstuff', Load(), lineno=88, col_offset=65)], [], None, None, lineno=88, col_offset=9), lineno=88, col_offset=0), Assign([Name('object', Store(), lineno=89, col_offset=0)], Call(Name('MyObjectDefinition', Load(), lineno=89, col_offset=9), [Name('OBJECTNAME', Load(), lineno=89, col_offset=28), Name('OBJECTPREFIX', Load(), lineno=89, col_offset=40), Name('OBJECTTYPE', Load(), lineno=89, col_offset=54)], [], None, None, lineno=89, col_offset=9), lineno=89, col_offset=0), Expr(Call(Attribute(Name('module', Load(), lineno=90, col_offset=0), 'addobject', Load(), lineno=90, col_offset=0), [Name('object', Load(), lineno=90, col_offset=17)], [], None, None, lineno=90, col_offset=0), lineno=90, col_offset=0), Assign([Name('Function', Store(), lineno=93, col_offset=0)], Name('OSErrWeakLinkFunctionGenerator', Load(), lineno=93, col_offset=11), lineno=93, col_offset=0), Assign([Name('Method', Store(), lineno=94, col_offset=0)], Name('OSErrWeakLinkMethodGenerator', Load(), lineno=94, col_offset=9), lineno=94, col_offset=0), Assign([Name('functions', Store(), lineno=97, col_offset=0)], List([], Load(), lineno=97, col_offset=12), lineno=97, col_offset=0), Assign([Name('methods', Store(), lineno=98, col_offset=0)], List([], Load(), lineno=98, col_offset=10), lineno=98, col_offset=0), Expr(Call(Name('execfile', Load(), lineno=99, col_offset=0), [Name('INPUTFILE', Load(), lineno=99, col_offset=9)], [], None, None, lineno=99, col_offset=0), lineno=99, col_offset=0), Expr(Call(Name('execfile', Load(), lineno=100, col_offset=0), [Name('EXTRAFILE', Load(), lineno=100, col_offset=9)], [], None, None, lineno=100, col_offset=0), lineno=100, col_offset=0), For(Name('f', Store(), lineno=103, col_offset=4), Name('functions', Load(), lineno=103, col_offset=9), [Expr(Call(Attribute(Name('module', Load(), lineno=103, col_offset=20), 'add', Load(), lineno=103, col_offset=20), [Name('f', Load(), lineno=103, col_offset=31)], [], None, None, lineno=103, col_offset=20), lineno=103, col_offset=20)], [], lineno=103, col_offset=0), For(Name('f', Store(), lineno=104, col_offset=4), Name('methods', Load(), lineno=104, col_offset=9), [Expr(Call(Attribute(Name('object', Load(), lineno=104, col_offset=18), 'add', Load(), lineno=104, col_offset=18), [Name('f', Load(), lineno=104, col_offset=29)], [], None, None, lineno=104, col_offset=18), lineno=104, col_offset=18)], [], lineno=104, col_offset=0), Expr(Call(Name('SetOutputFileName', Load(), lineno=107, col_offset=0), [Name('OUTPUTFILE', Load(), lineno=107, col_offset=18)], [], None, None, lineno=107, col_offset=0), lineno=107, col_offset=0), Expr(Call(Attribute(Name('module', Load(), lineno=108, col_offset=0), 'generate', Load(), lineno=108, col_offset=0), [], [], None, None, lineno=108, col_offset=0), lineno=108, col_offset=0)])
