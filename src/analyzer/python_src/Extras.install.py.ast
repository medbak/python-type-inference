Module([Expr(Str('Recursively copy a directory but skip undesired files and\ndirectories (CVS, backup files, pyc files, etc)', lineno=2, col_offset=-1), lineno=2, col_offset=-1), Import([alias('sys', None)], lineno=4, col_offset=0), Import([alias('os', None)], lineno=5, col_offset=0), Import([alias('shutil', None)], lineno=6, col_offset=0), Assign([Name('verbose', Store(), lineno=8, col_offset=0)], Num(1, lineno=8, col_offset=10), lineno=8, col_offset=0), Assign([Name('debug', Store(), lineno=9, col_offset=0)], Num(0, lineno=9, col_offset=8), lineno=9, col_offset=0), FunctionDef('isclean', arguments([Name('name', Param(), lineno=11, col_offset=12)], None, None, []), [If(Compare(Name('name', Load(), lineno=12, col_offset=7), [Eq()], [Str('CVS', lineno=12, col_offset=15)], lineno=12, col_offset=7), [Return(Num(0, lineno=12, col_offset=29), lineno=12, col_offset=22)], [], lineno=12, col_offset=4), If(Compare(Name('name', Load(), lineno=13, col_offset=7), [Eq()], [Str('.cvsignore', lineno=13, col_offset=15)], lineno=13, col_offset=7), [Return(Num(0, lineno=13, col_offset=36), lineno=13, col_offset=29)], [], lineno=13, col_offset=4), If(Compare(Name('name', Load(), lineno=14, col_offset=7), [Eq()], [Str('.DS_store', lineno=14, col_offset=15)], lineno=14, col_offset=7), [Return(Num(0, lineno=14, col_offset=35), lineno=14, col_offset=28)], [], lineno=14, col_offset=4), If(Compare(Name('name', Load(), lineno=15, col_offset=7), [Eq()], [Str('.svn', lineno=15, col_offset=15)], lineno=15, col_offset=7), [Return(Num(0, lineno=15, col_offset=30), lineno=15, col_offset=23)], [], lineno=15, col_offset=4), If(Call(Attribute(Name('name', Load(), lineno=16, col_offset=7), 'endswith', Load(), lineno=16, col_offset=7), [Str('~', lineno=16, col_offset=21)], [], None, None, lineno=16, col_offset=7), [Return(Num(0, lineno=16, col_offset=34), lineno=16, col_offset=27)], [], lineno=16, col_offset=4), If(Call(Attribute(Name('name', Load(), lineno=17, col_offset=7), 'endswith', Load(), lineno=17, col_offset=7), [Str('.BAK', lineno=17, col_offset=21)], [], None, None, lineno=17, col_offset=7), [Return(Num(0, lineno=17, col_offset=37), lineno=17, col_offset=30)], [], lineno=17, col_offset=4), If(Call(Attribute(Name('name', Load(), lineno=18, col_offset=7), 'endswith', Load(), lineno=18, col_offset=7), [Str('.pyc', lineno=18, col_offset=21)], [], None, None, lineno=18, col_offset=7), [Return(Num(0, lineno=18, col_offset=37), lineno=18, col_offset=30)], [], lineno=18, col_offset=4), If(Call(Attribute(Name('name', Load(), lineno=19, col_offset=7), 'endswith', Load(), lineno=19, col_offset=7), [Str('.pyo', lineno=19, col_offset=21)], [], None, None, lineno=19, col_offset=7), [Return(Num(0, lineno=19, col_offset=37), lineno=19, col_offset=30)], [], lineno=19, col_offset=4), If(Call(Attribute(Name('name', Load(), lineno=20, col_offset=7), 'endswith', Load(), lineno=20, col_offset=7), [Str('.orig', lineno=20, col_offset=21)], [], None, None, lineno=20, col_offset=7), [Return(Num(0, lineno=20, col_offset=38), lineno=20, col_offset=31)], [], lineno=20, col_offset=4), Return(Num(1, lineno=21, col_offset=11), lineno=21, col_offset=4)], [], lineno=11, col_offset=0), FunctionDef('copycleandir', arguments([Name('src', Param(), lineno=23, col_offset=17), Name('dst', Param(), lineno=23, col_offset=22)], None, None, []), [For(Tuple([Name('cursrc', Store(), lineno=24, col_offset=8), Name('dirs', Store(), lineno=24, col_offset=16), Name('files', Store(), lineno=24, col_offset=22)], Store(), lineno=24, col_offset=8), Call(Attribute(Name('os', Load(), lineno=24, col_offset=31), 'walk', Load(), lineno=24, col_offset=31), [Name('src', Load(), lineno=24, col_offset=39)], [], None, None, lineno=24, col_offset=31), [Assert(Call(Attribute(Name('cursrc', Load(), lineno=25, col_offset=15), 'startswith', Load(), lineno=25, col_offset=15), [Name('src', Load(), lineno=25, col_offset=33)], [], None, None, lineno=25, col_offset=15), None, lineno=25, col_offset=8), Assign([Name('curdst', Store(), lineno=26, col_offset=8)], BinOp(Name('dst', Load(), lineno=26, col_offset=17), Add(), Subscript(Name('cursrc', Load(), lineno=26, col_offset=23), Slice(Call(Name('len', Load(), lineno=26, col_offset=30), [Name('src', Load(), lineno=26, col_offset=34)], [], None, None, lineno=26, col_offset=30), None, None), Load(), lineno=26, col_offset=23), lineno=26, col_offset=17), lineno=26, col_offset=8), If(Name('verbose', Load(), lineno=27, col_offset=11), [Print(None, [Str('mkdir', lineno=28, col_offset=18), Name('curdst', Load(), lineno=28, col_offset=27)], True, lineno=28, col_offset=12)], [], lineno=27, col_offset=8), If(UnaryOp(Not(), Name('debug', Load(), lineno=29, col_offset=15), lineno=29, col_offset=11), [If(UnaryOp(Not(), Call(Attribute(Attribute(Name('os', Load(), lineno=30, col_offset=19), 'path', Load(), lineno=30, col_offset=19), 'exists', Load(), lineno=30, col_offset=19), [Name('curdst', Load(), lineno=30, col_offset=34)], [], None, None, lineno=30, col_offset=19), lineno=30, col_offset=15), [Expr(Call(Attribute(Name('os', Load(), lineno=31, col_offset=16), 'makedirs', Load(), lineno=31, col_offset=16), [Name('curdst', Load(), lineno=31, col_offset=28)], [], None, None, lineno=31, col_offset=16), lineno=31, col_offset=16)], [], lineno=30, col_offset=12)], [], lineno=29, col_offset=8), For(Name('fn', Store(), lineno=32, col_offset=12), Name('files', Load(), lineno=32, col_offset=18), [If(Call(Name('isclean', Load(), lineno=33, col_offset=15), [Name('fn', Load(), lineno=33, col_offset=23)], [], None, None, lineno=33, col_offset=15), [If(Name('verbose', Load(), lineno=34, col_offset=19), [Print(None, [Str('copy', lineno=35, col_offset=26), Call(Attribute(Attribute(Name('os', Load(), lineno=35, col_offset=34), 'path', Load(), lineno=35, col_offset=34), 'join', Load(), lineno=35, col_offset=34), [Name('cursrc', Load(), lineno=35, col_offset=47), Name('fn', Load(), lineno=35, col_offset=55)], [], None, None, lineno=35, col_offset=34), Call(Attribute(Attribute(Name('os', Load(), lineno=35, col_offset=60), 'path', Load(), lineno=35, col_offset=60), 'join', Load(), lineno=35, col_offset=60), [Name('curdst', Load(), lineno=35, col_offset=73), Name('fn', Load(), lineno=35, col_offset=81)], [], None, None, lineno=35, col_offset=60)], True, lineno=35, col_offset=20)], [], lineno=34, col_offset=16), If(UnaryOp(Not(), Name('debug', Load(), lineno=36, col_offset=23), lineno=36, col_offset=19), [Expr(Call(Attribute(Name('shutil', Load(), lineno=37, col_offset=20), 'copy2', Load(), lineno=37, col_offset=20), [Call(Attribute(Attribute(Name('os', Load(), lineno=37, col_offset=33), 'path', Load(), lineno=37, col_offset=33), 'join', Load(), lineno=37, col_offset=33), [Name('cursrc', Load(), lineno=37, col_offset=46), Name('fn', Load(), lineno=37, col_offset=54)], [], None, None, lineno=37, col_offset=33), Call(Attribute(Attribute(Name('os', Load(), lineno=37, col_offset=59), 'path', Load(), lineno=37, col_offset=59), 'join', Load(), lineno=37, col_offset=59), [Name('curdst', Load(), lineno=37, col_offset=72), Name('fn', Load(), lineno=37, col_offset=80)], [], None, None, lineno=37, col_offset=59)], [], None, None, lineno=37, col_offset=20), lineno=37, col_offset=20)], [], lineno=36, col_offset=16)], [If(Name('verbose', Load(), lineno=39, col_offset=19), [Print(None, [Str('skipfile', lineno=40, col_offset=26), Call(Attribute(Attribute(Name('os', Load(), lineno=40, col_offset=38), 'path', Load(), lineno=40, col_offset=38), 'join', Load(), lineno=40, col_offset=38), [Name('cursrc', Load(), lineno=40, col_offset=51), Name('fn', Load(), lineno=40, col_offset=59)], [], None, None, lineno=40, col_offset=38)], True, lineno=40, col_offset=20)], [], lineno=39, col_offset=16)], lineno=33, col_offset=12)], [], lineno=32, col_offset=8), For(Name('i', Store(), lineno=41, col_offset=12), Call(Name('range', Load(), lineno=41, col_offset=17), [BinOp(Call(Name('len', Load(), lineno=41, col_offset=23), [Name('dirs', Load(), lineno=41, col_offset=27)], [], None, None, lineno=41, col_offset=23), Sub(), Num(1, lineno=41, col_offset=33), lineno=41, col_offset=23), Num(-1, lineno=41, col_offset=37), Num(-1, lineno=41, col_offset=41)], [], None, None, lineno=41, col_offset=17), [If(UnaryOp(Not(), Call(Name('isclean', Load(), lineno=42, col_offset=19), [Subscript(Name('dirs', Load(), lineno=42, col_offset=27), Index(Name('i', Load(), lineno=42, col_offset=32)), Load(), lineno=42, col_offset=27)], [], None, None, lineno=42, col_offset=19), lineno=42, col_offset=15), [If(Name('verbose', Load(), lineno=43, col_offset=19), [Print(None, [Str('skipdir', lineno=44, col_offset=26), Call(Attribute(Attribute(Name('os', Load(), lineno=44, col_offset=37), 'path', Load(), lineno=44, col_offset=37), 'join', Load(), lineno=44, col_offset=37), [Name('cursrc', Load(), lineno=44, col_offset=50), Subscript(Name('dirs', Load(), lineno=44, col_offset=58), Index(Name('i', Load(), lineno=44, col_offset=63)), Load(), lineno=44, col_offset=58)], [], None, None, lineno=44, col_offset=37)], True, lineno=44, col_offset=20)], [], lineno=43, col_offset=16), Delete([Subscript(Name('dirs', Load(), lineno=45, col_offset=20), Index(Name('i', Load(), lineno=45, col_offset=25)), Del(), lineno=45, col_offset=20)], lineno=45, col_offset=16)], [], lineno=42, col_offset=12)], [], lineno=41, col_offset=8)], [], lineno=24, col_offset=4)], [], lineno=23, col_offset=0), FunctionDef('main', arguments([], None, None, []), [If(Compare(Call(Name('len', Load(), lineno=48, col_offset=7), [Attribute(Name('sys', Load(), lineno=48, col_offset=11), 'argv', Load(), lineno=48, col_offset=11)], [], None, None, lineno=48, col_offset=7), [NotEq()], [Num(3, lineno=48, col_offset=24)], lineno=48, col_offset=7), [Expr(Call(Attribute(Attribute(Name('sys', Load(), lineno=49, col_offset=8), 'stderr', Load(), lineno=49, col_offset=8), 'write', Load(), lineno=49, col_offset=8), [BinOp(Str('Usage: %s srcdir dstdir\n', lineno=49, col_offset=25), Mod(), Subscript(Attribute(Name('sys', Load(), lineno=49, col_offset=55), 'argv', Load(), lineno=49, col_offset=55), Index(Num(0, lineno=49, col_offset=64)), Load(), lineno=49, col_offset=55), lineno=49, col_offset=25)], [], None, None, lineno=49, col_offset=8), lineno=49, col_offset=8), Expr(Call(Attribute(Name('sys', Load(), lineno=50, col_offset=8), 'exit', Load(), lineno=50, col_offset=8), [Num(1, lineno=50, col_offset=17)], [], None, None, lineno=50, col_offset=8), lineno=50, col_offset=8)], [], lineno=48, col_offset=4), Expr(Call(Name('copycleandir', Load(), lineno=51, col_offset=4), [Subscript(Attribute(Name('sys', Load(), lineno=51, col_offset=17), 'argv', Load(), lineno=51, col_offset=17), Index(Num(1, lineno=51, col_offset=26)), Load(), lineno=51, col_offset=17), Subscript(Attribute(Name('sys', Load(), lineno=51, col_offset=30), 'argv', Load(), lineno=51, col_offset=30), Index(Num(2, lineno=51, col_offset=39)), Load(), lineno=51, col_offset=30)], [], None, None, lineno=51, col_offset=4), lineno=51, col_offset=4)], [], lineno=47, col_offset=0), If(Compare(Name('__name__', Load(), lineno=53, col_offset=3), [Eq()], [Str('__main__', lineno=53, col_offset=15)], lineno=53, col_offset=3), [Expr(Call(Name('main', Load(), lineno=54, col_offset=4), [], [], None, None, lineno=54, col_offset=4), lineno=54, col_offset=4)], [], lineno=53, col_offset=0)])
