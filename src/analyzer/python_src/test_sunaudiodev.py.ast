Module([ImportFrom('test.test_support', [alias('findfile', None), alias('TestFailed', None), alias('import_module', None)], 0, lineno=1, col_offset=0), Import([alias('unittest', None)], lineno=2, col_offset=0), Assign([Name('sunaudiodev', Store(), lineno=3, col_offset=0)], Call(Name('import_module', Load(), lineno=3, col_offset=14), [Str('sunaudiodev', lineno=3, col_offset=28)], [keyword('deprecated', Name('True', Load(), lineno=3, col_offset=54))], None, None, lineno=3, col_offset=14), lineno=3, col_offset=0), Import([alias('os', None)], lineno=4, col_offset=0), TryExcept([Assign([Name('audiodev', Store(), lineno=7, col_offset=4)], Subscript(Attribute(Name('os', Load(), lineno=7, col_offset=15), 'environ', Load(), lineno=7, col_offset=15), Index(Str('AUDIODEV', lineno=7, col_offset=26)), Load(), lineno=7, col_offset=15), lineno=7, col_offset=4)], [ExceptHandler(Name('KeyError', Load(), lineno=8, col_offset=7), None, [Assign([Name('audiodev', Store(), lineno=9, col_offset=4)], Str('/dev/audio', lineno=9, col_offset=15), lineno=9, col_offset=4)], lineno=8, col_offset=0)], [], lineno=6, col_offset=0), If(UnaryOp(Not(), Call(Attribute(Attribute(Name('os', Load(), lineno=11, col_offset=7), 'path', Load(), lineno=11, col_offset=7), 'exists', Load(), lineno=11, col_offset=7), [Name('audiodev', Load(), lineno=11, col_offset=22)], [], None, None, lineno=11, col_offset=7), lineno=11, col_offset=3), [Raise(Call(Attribute(Name('unittest', Load(), lineno=12, col_offset=10), 'SkipTest', Load(), lineno=12, col_offset=10), [Str('no audio device found!', lineno=12, col_offset=28)], [], None, None, lineno=12, col_offset=10), None, None, lineno=12, col_offset=4)], [], lineno=11, col_offset=0), FunctionDef('play_sound_file', arguments([Name('path', Param(), lineno=14, col_offset=20)], None, None, []), [Assign([Name('fp', Store(), lineno=15, col_offset=4)], Call(Name('open', Load(), lineno=15, col_offset=9), [Name('path', Load(), lineno=15, col_offset=14), Str('r', lineno=15, col_offset=20)], [], None, None, lineno=15, col_offset=9), lineno=15, col_offset=4), Assign([Name('data', Store(), lineno=16, col_offset=4)], Call(Attribute(Name('fp', Load(), lineno=16, col_offset=11), 'read', Load(), lineno=16, col_offset=11), [], [], None, None, lineno=16, col_offset=11), lineno=16, col_offset=4), Expr(Call(Attribute(Name('fp', Load(), lineno=17, col_offset=4), 'close', Load(), lineno=17, col_offset=4), [], [], None, None, lineno=17, col_offset=4), lineno=17, col_offset=4), TryExcept([Assign([Name('a', Store(), lineno=19, col_offset=8)], Call(Attribute(Name('sunaudiodev', Load(), lineno=19, col_offset=12), 'open', Load(), lineno=19, col_offset=12), [Str('w', lineno=19, col_offset=29)], [], None, None, lineno=19, col_offset=12), lineno=19, col_offset=8)], [ExceptHandler(Attribute(Name('sunaudiodev', Load(), lineno=20, col_offset=11), 'error', Load(), lineno=20, col_offset=11), Name('msg', Store(), lineno=20, col_offset=30), [Raise(Name('TestFailed', Load(), lineno=21, col_offset=14), Name('msg', Load(), lineno=21, col_offset=26), None, lineno=21, col_offset=8)], lineno=20, col_offset=4)], [Expr(Call(Attribute(Name('a', Load(), lineno=23, col_offset=8), 'write', Load(), lineno=23, col_offset=8), [Name('data', Load(), lineno=23, col_offset=16)], [], None, None, lineno=23, col_offset=8), lineno=23, col_offset=8), Expr(Call(Attribute(Name('a', Load(), lineno=24, col_offset=8), 'close', Load(), lineno=24, col_offset=8), [], [], None, None, lineno=24, col_offset=8), lineno=24, col_offset=8)], lineno=18, col_offset=4)], [], lineno=14, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Name('play_sound_file', Load(), lineno=28, col_offset=4), [Call(Name('findfile', Load(), lineno=28, col_offset=20), [Str('audiotest.au', lineno=28, col_offset=29)], [], None, None, lineno=28, col_offset=20)], [], None, None, lineno=28, col_offset=4), lineno=28, col_offset=4)], [], lineno=27, col_offset=0), If(Compare(Name('__name__', Load(), lineno=32, col_offset=3), [Eq()], [Str('__main__', lineno=32, col_offset=15)], lineno=32, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=33, col_offset=4), [], [], None, None, lineno=33, col_offset=4), lineno=33, col_offset=4)], [], lineno=32, col_offset=0)])
