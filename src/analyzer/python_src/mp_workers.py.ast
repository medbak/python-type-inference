Module([Import([alias('time', None)], lineno=14, col_offset=0), Import([alias('random', None)], lineno=15, col_offset=0), ImportFrom('multiprocessing', [alias('Process', None), alias('Queue', None), alias('current_process', None), alias('freeze_support', None)], 0, lineno=17, col_offset=0), FunctionDef('worker', arguments([Name('input', Param(), lineno=23, col_offset=11), Name('output', Param(), lineno=23, col_offset=18)], None, None, []), [For(Tuple([Name('func', Store(), lineno=24, col_offset=8), Name('args', Store(), lineno=24, col_offset=14)], Store(), lineno=24, col_offset=8), Call(Name('iter', Load(), lineno=24, col_offset=22), [Attribute(Name('input', Load(), lineno=24, col_offset=27), 'get', Load(), lineno=24, col_offset=27), Str('STOP', lineno=24, col_offset=38)], [], None, None, lineno=24, col_offset=22), [Assign([Name('result', Store(), lineno=25, col_offset=8)], Call(Name('calculate', Load(), lineno=25, col_offset=17), [Name('func', Load(), lineno=25, col_offset=27), Name('args', Load(), lineno=25, col_offset=33)], [], None, None, lineno=25, col_offset=17), lineno=25, col_offset=8), Expr(Call(Attribute(Name('output', Load(), lineno=26, col_offset=8), 'put', Load(), lineno=26, col_offset=8), [Name('result', Load(), lineno=26, col_offset=19)], [], None, None, lineno=26, col_offset=8), lineno=26, col_offset=8)], [], lineno=24, col_offset=4)], [], lineno=23, col_offset=0), FunctionDef('calculate', arguments([Name('func', Param(), lineno=32, col_offset=14), Name('args', Param(), lineno=32, col_offset=20)], None, None, []), [Assign([Name('result', Store(), lineno=33, col_offset=4)], Call(Name('func', Load(), lineno=33, col_offset=13), [], [], Name('args', Load(), lineno=33, col_offset=19), None, lineno=33, col_offset=13), lineno=33, col_offset=4), Return(BinOp(Str('%s says that %s%s = %s', lineno=34, col_offset=11), Mod(), Tuple([Attribute(Call(Name('current_process', Load(), lineno=35, col_offset=9), [], [], None, None, lineno=35, col_offset=9), 'name', Load(), lineno=35, col_offset=9), Attribute(Name('func', Load(), lineno=35, col_offset=33), '__name__', Load(), lineno=35, col_offset=33), Name('args', Load(), lineno=35, col_offset=48), Name('result', Load(), lineno=35, col_offset=54)], Load(), lineno=35, col_offset=9), lineno=34, col_offset=11), lineno=34, col_offset=4)], [], lineno=32, col_offset=0), FunctionDef('mul', arguments([Name('a', Param(), lineno=41, col_offset=8), Name('b', Param(), lineno=41, col_offset=11)], None, None, []), [Expr(Call(Attribute(Name('time', Load(), lineno=42, col_offset=4), 'sleep', Load(), lineno=42, col_offset=4), [BinOp(Num(0.5, lineno=42, col_offset=15), Mult(), Call(Attribute(Name('random', Load(), lineno=42, col_offset=19), 'random', Load(), lineno=42, col_offset=19), [], [], None, None, lineno=42, col_offset=19), lineno=42, col_offset=15)], [], None, None, lineno=42, col_offset=4), lineno=42, col_offset=4), Return(BinOp(Name('a', Load(), lineno=43, col_offset=11), Mult(), Name('b', Load(), lineno=43, col_offset=15), lineno=43, col_offset=11), lineno=43, col_offset=4)], [], lineno=41, col_offset=0), FunctionDef('plus', arguments([Name('a', Param(), lineno=45, col_offset=9), Name('b', Param(), lineno=45, col_offset=12)], None, None, []), [Expr(Call(Attribute(Name('time', Load(), lineno=46, col_offset=4), 'sleep', Load(), lineno=46, col_offset=4), [BinOp(Num(0.5, lineno=46, col_offset=15), Mult(), Call(Attribute(Name('random', Load(), lineno=46, col_offset=19), 'random', Load(), lineno=46, col_offset=19), [], [], None, None, lineno=46, col_offset=19), lineno=46, col_offset=15)], [], None, None, lineno=46, col_offset=4), lineno=46, col_offset=4), Return(BinOp(Name('a', Load(), lineno=47, col_offset=11), Add(), Name('b', Load(), lineno=47, col_offset=15), lineno=47, col_offset=11), lineno=47, col_offset=4)], [], lineno=45, col_offset=0), FunctionDef('test', arguments([], None, None, []), [Assign([Name('NUMBER_OF_PROCESSES', Store(), lineno=54, col_offset=4)], Num(4, lineno=54, col_offset=26), lineno=54, col_offset=4), Assign([Name('TASKS1', Store(), lineno=55, col_offset=4)], ListComp(Tuple([Name('mul', Load(), lineno=55, col_offset=15), Tuple([Name('i', Load(), lineno=55, col_offset=21), Num(7, lineno=55, col_offset=24)], Load(), lineno=55, col_offset=21)], Load(), lineno=55, col_offset=15), [comprehension(Name('i', Store(), lineno=55, col_offset=32), Call(Name('range', Load(), lineno=55, col_offset=37), [Num(20, lineno=55, col_offset=43)], [], None, None, lineno=55, col_offset=37), [])], lineno=55, col_offset=14), lineno=55, col_offset=4), Assign([Name('TASKS2', Store(), lineno=56, col_offset=4)], ListComp(Tuple([Name('plus', Load(), lineno=56, col_offset=15), Tuple([Name('i', Load(), lineno=56, col_offset=22), Num(8, lineno=56, col_offset=25)], Load(), lineno=56, col_offset=22)], Load(), lineno=56, col_offset=15), [comprehension(Name('i', Store(), lineno=56, col_offset=33), Call(Name('range', Load(), lineno=56, col_offset=38), [Num(10, lineno=56, col_offset=44)], [], None, None, lineno=56, col_offset=38), [])], lineno=56, col_offset=14), lineno=56, col_offset=4), Assign([Name('task_queue', Store(), lineno=59, col_offset=4)], Call(Name('Queue', Load(), lineno=59, col_offset=17), [], [], None, None, lineno=59, col_offset=17), lineno=59, col_offset=4), Assign([Name('done_queue', Store(), lineno=60, col_offset=4)], Call(Name('Queue', Load(), lineno=60, col_offset=17), [], [], None, None, lineno=60, col_offset=17), lineno=60, col_offset=4), For(Name('task', Store(), lineno=63, col_offset=8), Name('TASKS1', Load(), lineno=63, col_offset=16), [Expr(Call(Attribute(Name('task_queue', Load(), lineno=64, col_offset=8), 'put', Load(), lineno=64, col_offset=8), [Name('task', Load(), lineno=64, col_offset=23)], [], None, None, lineno=64, col_offset=8), lineno=64, col_offset=8)], [], lineno=63, col_offset=4), For(Name('i', Store(), lineno=67, col_offset=8), Call(Name('range', Load(), lineno=67, col_offset=13), [Name('NUMBER_OF_PROCESSES', Load(), lineno=67, col_offset=19)], [], None, None, lineno=67, col_offset=13), [Expr(Call(Attribute(Call(Name('Process', Load(), lineno=68, col_offset=8), [], [keyword('target', Name('worker', Load(), lineno=68, col_offset=23)), keyword('args', Tuple([Name('task_queue', Load(), lineno=68, col_offset=37), Name('done_queue', Load(), lineno=68, col_offset=49)], Load(), lineno=68, col_offset=37))], None, None, lineno=68, col_offset=8), 'start', Load(), lineno=68, col_offset=8), [], [], None, None, lineno=68, col_offset=8), lineno=68, col_offset=8)], [], lineno=67, col_offset=4), Print(None, [Str('Unordered results:', lineno=71, col_offset=10)], True, lineno=71, col_offset=4), For(Name('i', Store(), lineno=72, col_offset=8), Call(Name('range', Load(), lineno=72, col_offset=13), [Call(Name('len', Load(), lineno=72, col_offset=19), [Name('TASKS1', Load(), lineno=72, col_offset=23)], [], None, None, lineno=72, col_offset=19)], [], None, None, lineno=72, col_offset=13), [Print(None, [Str('\t', lineno=73, col_offset=14), Call(Attribute(Name('done_queue', Load(), lineno=73, col_offset=20), 'get', Load(), lineno=73, col_offset=20), [], [], None, None, lineno=73, col_offset=20)], True, lineno=73, col_offset=8)], [], lineno=72, col_offset=4), For(Name('task', Store(), lineno=76, col_offset=8), Name('TASKS2', Load(), lineno=76, col_offset=16), [Expr(Call(Attribute(Name('task_queue', Load(), lineno=77, col_offset=8), 'put', Load(), lineno=77, col_offset=8), [Name('task', Load(), lineno=77, col_offset=23)], [], None, None, lineno=77, col_offset=8), lineno=77, col_offset=8)], [], lineno=76, col_offset=4), For(Name('i', Store(), lineno=80, col_offset=8), Call(Name('range', Load(), lineno=80, col_offset=13), [Call(Name('len', Load(), lineno=80, col_offset=19), [Name('TASKS2', Load(), lineno=80, col_offset=23)], [], None, None, lineno=80, col_offset=19)], [], None, None, lineno=80, col_offset=13), [Print(None, [Str('\t', lineno=81, col_offset=14), Call(Attribute(Name('done_queue', Load(), lineno=81, col_offset=20), 'get', Load(), lineno=81, col_offset=20), [], [], None, None, lineno=81, col_offset=20)], True, lineno=81, col_offset=8)], [], lineno=80, col_offset=4), For(Name('i', Store(), lineno=84, col_offset=8), Call(Name('range', Load(), lineno=84, col_offset=13), [Name('NUMBER_OF_PROCESSES', Load(), lineno=84, col_offset=19)], [], None, None, lineno=84, col_offset=13), [Expr(Call(Attribute(Name('task_queue', Load(), lineno=85, col_offset=8), 'put', Load(), lineno=85, col_offset=8), [Str('STOP', lineno=85, col_offset=23)], [], None, None, lineno=85, col_offset=8), lineno=85, col_offset=8)], [], lineno=84, col_offset=4)], [], lineno=53, col_offset=0), If(Compare(Name('__name__', Load(), lineno=88, col_offset=3), [Eq()], [Str('__main__', lineno=88, col_offset=15)], lineno=88, col_offset=3), [Expr(Call(Name('freeze_support', Load(), lineno=89, col_offset=4), [], [], None, None, lineno=89, col_offset=4), lineno=89, col_offset=4), Expr(Call(Name('test', Load(), lineno=90, col_offset=4), [], [], None, None, lineno=90, col_offset=4), lineno=90, col_offset=4)], [], lineno=88, col_offset=0)])
