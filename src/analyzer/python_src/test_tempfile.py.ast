Module([Import([alias('tempfile', None)], lineno=2, col_offset=0), Import([alias('os', None)], lineno=3, col_offset=0), Import([alias('sys', None)], lineno=4, col_offset=0), Import([alias('re', None)], lineno=5, col_offset=0), Import([alias('warnings', None)], lineno=6, col_offset=0), Import([alias('unittest', None)], lineno=8, col_offset=0), ImportFrom('test', [alias('test_support', None)], 0, lineno=9, col_offset=0), Expr(Call(Attribute(Name('warnings', Load(), lineno=11, col_offset=0), 'filterwarnings', Load(), lineno=11, col_offset=0), [Str('ignore', lineno=11, col_offset=24)], [keyword('category', Name('RuntimeWarning', Load(), lineno=12, col_offset=33)), keyword('message', Str('mktemp', lineno=13, col_offset=32)), keyword('module', Name('__name__', Load(), lineno=13, col_offset=49))], None, None, lineno=11, col_offset=0), lineno=11, col_offset=0), If(Call(Name('hasattr', Load(), lineno=15, col_offset=3), [Name('os', Load(), lineno=15, col_offset=11), Str('stat', lineno=15, col_offset=15)], [], None, None, lineno=15, col_offset=3), [Import([alias('stat', None)], lineno=16, col_offset=4), Assign([Name('has_stat', Store(), lineno=17, col_offset=4)], Num(1, lineno=17, col_offset=15), lineno=17, col_offset=4)], [Assign([Name('has_stat', Store(), lineno=19, col_offset=4)], Num(0, lineno=19, col_offset=15), lineno=19, col_offset=4)], lineno=15, col_offset=0), Assign([Name('has_textmode', Store(), lineno=21, col_offset=0)], Compare(Attribute(Name('tempfile', Load(), lineno=21, col_offset=16), '_text_openflags', Load(), lineno=21, col_offset=16), [NotEq()], [Attribute(Name('tempfile', Load(), lineno=21, col_offset=44), '_bin_openflags', Load(), lineno=21, col_offset=44)], lineno=21, col_offset=16), lineno=21, col_offset=0), Assign([Name('has_spawnl', Store(), lineno=22, col_offset=0)], Call(Name('hasattr', Load(), lineno=22, col_offset=13), [Name('os', Load(), lineno=22, col_offset=21), Str('spawnl', lineno=22, col_offset=25)], [], None, None, lineno=22, col_offset=13), lineno=22, col_offset=0), If(Compare(Attribute(Name('sys', Load(), lineno=26, col_offset=3), 'platform', Load(), lineno=26, col_offset=3), [In()], [Tuple([Str('openbsd3', lineno=26, col_offset=20), Str('openbsd4', lineno=26, col_offset=32)], Load(), lineno=26, col_offset=20)], lineno=26, col_offset=3), [Assign([Name('TEST_FILES', Store(), lineno=27, col_offset=4)], Num(48, lineno=27, col_offset=17), lineno=27, col_offset=4)], [Assign([Name('TEST_FILES', Store(), lineno=29, col_offset=4)], Num(100, lineno=29, col_offset=17), lineno=29, col_offset=4)], lineno=26, col_offset=0), ClassDef('TC', [Attribute(Name('unittest', Load(), lineno=36, col_offset=9), 'TestCase', Load(), lineno=36, col_offset=9)], [Assign([Name('str_check', Store(), lineno=38, col_offset=4)], Call(Attribute(Name('re', Load(), lineno=38, col_offset=16), 'compile', Load(), lineno=38, col_offset=16), [Str('[a-zA-Z0-9_-]{6}$', lineno=38, col_offset=27)], [], None, None, lineno=38, col_offset=16), lineno=38, col_offset=4), FunctionDef('failOnException', arguments([Name('self', Param(), lineno=40, col_offset=24), Name('what', Param(), lineno=40, col_offset=30), Name('ei', Param(), lineno=40, col_offset=36)], None, None, [Name('None', Load(), lineno=40, col_offset=39)]), [If(Compare(Name('ei', Load(), lineno=41, col_offset=11), [Is()], [Name('None', Load(), lineno=41, col_offset=17)], lineno=41, col_offset=11), [Assign([Name('ei', Store(), lineno=42, col_offset=12)], Call(Attribute(Name('sys', Load(), lineno=42, col_offset=17), 'exc_info', Load(), lineno=42, col_offset=17), [], [], None, None, lineno=42, col_offset=17), lineno=42, col_offset=12)], [], lineno=41, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=43, col_offset=8), 'fail', Load(), lineno=43, col_offset=8), [BinOp(Str('%s raised %s: %s', lineno=43, col_offset=18), Mod(), Tuple([Name('what', Load(), lineno=43, col_offset=40), Subscript(Name('ei', Load(), lineno=43, col_offset=46), Index(Num(0, lineno=43, col_offset=49)), Load(), lineno=43, col_offset=46), Subscript(Name('ei', Load(), lineno=43, col_offset=53), Index(Num(1, lineno=43, col_offset=56)), Load(), lineno=43, col_offset=53)], Load(), lineno=43, col_offset=40), lineno=43, col_offset=18)], [], None, None, lineno=43, col_offset=8), lineno=43, col_offset=8)], [], lineno=40, col_offset=4), FunctionDef('nameCheck', arguments([Name('self', Param(), lineno=45, col_offset=18), Name('name', Param(), lineno=45, col_offset=24), Name('dir', Param(), lineno=45, col_offset=30), Name('pre', Param(), lineno=45, col_offset=35), Name('suf', Param(), lineno=45, col_offset=40)], None, None, []), [Assign([Tuple([Name('ndir', Store(), lineno=46, col_offset=9), Name('nbase', Store(), lineno=46, col_offset=15)], Store(), lineno=46, col_offset=9)], Call(Attribute(Attribute(Name('os', Load(), lineno=46, col_offset=24), 'path', Load(), lineno=46, col_offset=24), 'split', Load(), lineno=46, col_offset=24), [Name('name', Load(), lineno=46, col_offset=38)], [], None, None, lineno=46, col_offset=24), lineno=46, col_offset=8), Assign([Name('npre', Store(), lineno=47, col_offset=8)], Subscript(Name('nbase', Load(), lineno=47, col_offset=16), Slice(None, Call(Name('len', Load(), lineno=47, col_offset=23), [Name('pre', Load(), lineno=47, col_offset=27)], [], None, None, lineno=47, col_offset=23), None), Load(), lineno=47, col_offset=16), lineno=47, col_offset=8), Assign([Name('nsuf', Store(), lineno=48, col_offset=8)], Subscript(Name('nbase', Load(), lineno=48, col_offset=16), Slice(BinOp(Call(Name('len', Load(), lineno=48, col_offset=22), [Name('nbase', Load(), lineno=48, col_offset=26)], [], None, None, lineno=48, col_offset=22), Sub(), Call(Name('len', Load(), lineno=48, col_offset=33), [Name('suf', Load(), lineno=48, col_offset=37)], [], None, None, lineno=48, col_offset=33), lineno=48, col_offset=22), None, None), Load(), lineno=48, col_offset=16), lineno=48, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=51, col_offset=8), 'assertEqual', Load(), lineno=51, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=51, col_offset=25), 'path', Load(), lineno=51, col_offset=25), 'abspath', Load(), lineno=51, col_offset=25), [Name('ndir', Load(), lineno=51, col_offset=41)], [], None, None, lineno=51, col_offset=25), Call(Attribute(Attribute(Name('os', Load(), lineno=51, col_offset=48), 'path', Load(), lineno=51, col_offset=48), 'abspath', Load(), lineno=51, col_offset=48), [Name('dir', Load(), lineno=51, col_offset=64)], [], None, None, lineno=51, col_offset=48), BinOp(Str("file '%s' not in directory '%s'", lineno=52, col_offset=25), Mod(), Tuple([Name('name', Load(), lineno=52, col_offset=62), Name('dir', Load(), lineno=52, col_offset=68)], Load(), lineno=52, col_offset=62), lineno=52, col_offset=25)], [], None, None, lineno=51, col_offset=8), lineno=51, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=53, col_offset=8), 'assertEqual', Load(), lineno=53, col_offset=8), [Name('npre', Load(), lineno=53, col_offset=25), Name('pre', Load(), lineno=53, col_offset=31), BinOp(Str("file '%s' does not begin with '%s'", lineno=54, col_offset=25), Mod(), Tuple([Name('nbase', Load(), lineno=54, col_offset=65), Name('pre', Load(), lineno=54, col_offset=72)], Load(), lineno=54, col_offset=65), lineno=54, col_offset=25)], [], None, None, lineno=53, col_offset=8), lineno=53, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=55, col_offset=8), 'assertEqual', Load(), lineno=55, col_offset=8), [Name('nsuf', Load(), lineno=55, col_offset=25), Name('suf', Load(), lineno=55, col_offset=31), BinOp(Str("file '%s' does not end with '%s'", lineno=56, col_offset=25), Mod(), Tuple([Name('nbase', Load(), lineno=56, col_offset=63), Name('suf', Load(), lineno=56, col_offset=70)], Load(), lineno=56, col_offset=63), lineno=56, col_offset=25)], [], None, None, lineno=55, col_offset=8), lineno=55, col_offset=8), Assign([Name('nbase', Store(), lineno=58, col_offset=8)], Subscript(Name('nbase', Load(), lineno=58, col_offset=16), Slice(Call(Name('len', Load(), lineno=58, col_offset=22), [Name('pre', Load(), lineno=58, col_offset=26)], [], None, None, lineno=58, col_offset=22), BinOp(Call(Name('len', Load(), lineno=58, col_offset=31), [Name('nbase', Load(), lineno=58, col_offset=35)], [], None, None, lineno=58, col_offset=31), Sub(), Call(Name('len', Load(), lineno=58, col_offset=42), [Name('suf', Load(), lineno=58, col_offset=46)], [], None, None, lineno=58, col_offset=42), lineno=58, col_offset=31), None), Load(), lineno=58, col_offset=16), lineno=58, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=59, col_offset=8), 'assertTrue', Load(), lineno=59, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=59, col_offset=24), 'str_check', Load(), lineno=59, col_offset=24), 'match', Load(), lineno=59, col_offset=24), [Name('nbase', Load(), lineno=59, col_offset=45)], [], None, None, lineno=59, col_offset=24), BinOp(Str("random string '%s' does not match /^[a-zA-Z0-9_-]{6}$/", lineno=60, col_offset=21), Mod(), Name('nbase', Load(), lineno=61, col_offset=23), lineno=60, col_offset=21)], [], None, None, lineno=59, col_offset=8), lineno=59, col_offset=8)], [], lineno=45, col_offset=4)], [], lineno=36, col_offset=0), Assign([Name('test_classes', Store(), lineno=63, col_offset=0)], List([], Load(), lineno=63, col_offset=15), lineno=63, col_offset=0), ClassDef('test_exports', [Name('TC', Load(), lineno=65, col_offset=19)], [FunctionDef('test_exports', arguments([Name('self', Param(), lineno=66, col_offset=21)], None, None, []), [Assign([Name('dict', Store(), lineno=68, col_offset=8)], Attribute(Name('tempfile', Load(), lineno=68, col_offset=15), '__dict__', Load(), lineno=68, col_offset=15), lineno=68, col_offset=8), Assign([Name('expected', Store(), lineno=70, col_offset=8)], Dict([Str('NamedTemporaryFile', lineno=71, col_offset=12), Str('TemporaryFile', lineno=72, col_offset=12), Str('mkstemp', lineno=73, col_offset=12), Str('mkdtemp', lineno=74, col_offset=12), Str('mktemp', lineno=75, col_offset=12), Str('TMP_MAX', lineno=76, col_offset=12), Str('gettempprefix', lineno=77, col_offset=12), Str('gettempdir', lineno=78, col_offset=12), Str('tempdir', lineno=79, col_offset=12), Str('template', lineno=80, col_offset=12), Str('SpooledTemporaryFile', lineno=81, col_offset=12)], [Num(1, lineno=71, col_offset=35), Num(1, lineno=72, col_offset=30), Num(1, lineno=73, col_offset=24), Num(1, lineno=74, col_offset=24), Num(1, lineno=75, col_offset=23), Num(1, lineno=76, col_offset=24), Num(1, lineno=77, col_offset=30), Num(1, lineno=78, col_offset=27), Num(1, lineno=79, col_offset=24), Num(1, lineno=80, col_offset=25), Num(1, lineno=81, col_offset=37)], lineno=70, col_offset=19), lineno=70, col_offset=8), Assign([Name('unexp', Store(), lineno=84, col_offset=8)], List([], Load(), lineno=84, col_offset=16), lineno=84, col_offset=8), For(Name('key', Store(), lineno=85, col_offset=12), Name('dict', Load(), lineno=85, col_offset=19), [If(BoolOp(And(), [Compare(Subscript(Name('key', Load(), lineno=86, col_offset=15), Index(Num(0, lineno=86, col_offset=19)), Load(), lineno=86, col_offset=15), [NotEq()], [Str('_', lineno=86, col_offset=25)], lineno=86, col_offset=15), Compare(Name('key', Load(), lineno=86, col_offset=33), [NotIn()], [Name('expected', Load(), lineno=86, col_offset=44)], lineno=86, col_offset=33)], lineno=86, col_offset=15), [Expr(Call(Attribute(Name('unexp', Load(), lineno=87, col_offset=16), 'append', Load(), lineno=87, col_offset=16), [Name('key', Load(), lineno=87, col_offset=29)], [], None, None, lineno=87, col_offset=16), lineno=87, col_offset=16)], [], lineno=86, col_offset=12)], [], lineno=85, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=88, col_offset=8), 'assertTrue', Load(), lineno=88, col_offset=8), [Compare(Call(Name('len', Load(), lineno=88, col_offset=24), [Name('unexp', Load(), lineno=88, col_offset=28)], [], None, None, lineno=88, col_offset=24), [Eq()], [Num(0, lineno=88, col_offset=38)], lineno=88, col_offset=24), BinOp(Str('unexpected keys: %s', lineno=89, col_offset=24), Mod(), Name('unexp', Load(), lineno=89, col_offset=48), lineno=89, col_offset=24)], [], None, None, lineno=88, col_offset=8), lineno=88, col_offset=8)], [], lineno=66, col_offset=4)], [], lineno=65, col_offset=0), Expr(Call(Attribute(Name('test_classes', Load(), lineno=91, col_offset=0), 'append', Load(), lineno=91, col_offset=0), [Name('test_exports', Load(), lineno=91, col_offset=20)], [], None, None, lineno=91, col_offset=0), lineno=91, col_offset=0), ClassDef('test__RandomNameSequence', [Name('TC', Load(), lineno=94, col_offset=31)], [Expr(Str('Test the internal iterator object _RandomNameSequence.', lineno=95, col_offset=4), lineno=95, col_offset=4), FunctionDef('setUp', arguments([Name('self', Param(), lineno=97, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=98, col_offset=8), 'r', Store(), lineno=98, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=98, col_offset=17), '_RandomNameSequence', Load(), lineno=98, col_offset=17), [], [], None, None, lineno=98, col_offset=17), lineno=98, col_offset=8)], [], lineno=97, col_offset=4), FunctionDef('test_get_six_char_str', arguments([Name('self', Param(), lineno=100, col_offset=30)], None, None, []), [Assign([Name('s', Store(), lineno=102, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=102, col_offset=12), 'r', Load(), lineno=102, col_offset=12), 'next', Load(), lineno=102, col_offset=12), [], [], None, None, lineno=102, col_offset=12), lineno=102, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=103, col_offset=8), 'nameCheck', Load(), lineno=103, col_offset=8), [Name('s', Load(), lineno=103, col_offset=23), Str('', lineno=103, col_offset=26), Str('', lineno=103, col_offset=30), Str('', lineno=103, col_offset=34)], [], None, None, lineno=103, col_offset=8), lineno=103, col_offset=8)], [], lineno=100, col_offset=4), FunctionDef('test_many', arguments([Name('self', Param(), lineno=105, col_offset=18)], None, None, []), [Assign([Name('dict', Store(), lineno=108, col_offset=8)], Dict([], [], lineno=108, col_offset=15), lineno=108, col_offset=8), Assign([Name('r', Store(), lineno=109, col_offset=8)], Attribute(Name('self', Load(), lineno=109, col_offset=12), 'r', Load(), lineno=109, col_offset=12), lineno=109, col_offset=8), For(Name('i', Store(), lineno=110, col_offset=12), Call(Name('xrange', Load(), lineno=110, col_offset=17), [Name('TEST_FILES', Load(), lineno=110, col_offset=24)], [], None, None, lineno=110, col_offset=17), [Assign([Name('s', Store(), lineno=111, col_offset=12)], Call(Attribute(Name('r', Load(), lineno=111, col_offset=16), 'next', Load(), lineno=111, col_offset=16), [], [], None, None, lineno=111, col_offset=16), lineno=111, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=112, col_offset=12), 'nameCheck', Load(), lineno=112, col_offset=12), [Name('s', Load(), lineno=112, col_offset=27), Str('', lineno=112, col_offset=30), Str('', lineno=112, col_offset=34), Str('', lineno=112, col_offset=38)], [], None, None, lineno=112, col_offset=12), lineno=112, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=113, col_offset=12), 'assertNotIn', Load(), lineno=113, col_offset=12), [Name('s', Load(), lineno=113, col_offset=29), Name('dict', Load(), lineno=113, col_offset=32)], [], None, None, lineno=113, col_offset=12), lineno=113, col_offset=12), Assign([Subscript(Name('dict', Load(), lineno=114, col_offset=12), Index(Name('s', Load(), lineno=114, col_offset=17)), Store(), lineno=114, col_offset=12)], Num(1, lineno=114, col_offset=22), lineno=114, col_offset=12)], [], lineno=110, col_offset=8)], [], lineno=105, col_offset=4), FunctionDef('test_supports_iter', arguments([Name('self', Param(), lineno=116, col_offset=27)], None, None, []), [Assign([Name('i', Store(), lineno=119, col_offset=8)], Num(0, lineno=119, col_offset=12), lineno=119, col_offset=8), Assign([Name('r', Store(), lineno=120, col_offset=8)], Attribute(Name('self', Load(), lineno=120, col_offset=12), 'r', Load(), lineno=120, col_offset=12), lineno=120, col_offset=8), TryExcept([For(Name('s', Store(), lineno=122, col_offset=16), Name('r', Load(), lineno=122, col_offset=21), [AugAssign(Name('i', Store(), lineno=123, col_offset=16), Add(), Num(1, lineno=123, col_offset=21), lineno=123, col_offset=16), If(Compare(Name('i', Load(), lineno=124, col_offset=19), [Eq()], [Num(20, lineno=124, col_offset=24)], lineno=124, col_offset=19), [Break( lineno=125, col_offset=20)], [], lineno=124, col_offset=16)], [], lineno=122, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('self', Load(), lineno=127, col_offset=12), 'failOnException', Load(), lineno=127, col_offset=12), [Str('iteration', lineno=127, col_offset=33)], [], None, None, lineno=127, col_offset=12), lineno=127, col_offset=12)], lineno=126, col_offset=8)], [], lineno=121, col_offset=8)], [], lineno=116, col_offset=4)], [], lineno=94, col_offset=0), Expr(Call(Attribute(Name('test_classes', Load(), lineno=129, col_offset=0), 'append', Load(), lineno=129, col_offset=0), [Name('test__RandomNameSequence', Load(), lineno=129, col_offset=20)], [], None, None, lineno=129, col_offset=0), lineno=129, col_offset=0), ClassDef('test__candidate_tempdir_list', [Name('TC', Load(), lineno=132, col_offset=35)], [Expr(Str('Test the internal function _candidate_tempdir_list.', lineno=133, col_offset=4), lineno=133, col_offset=4), FunctionDef('test_nonempty_list', arguments([Name('self', Param(), lineno=135, col_offset=27)], None, None, []), [Assign([Name('cand', Store(), lineno=138, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=138, col_offset=15), '_candidate_tempdir_list', Load(), lineno=138, col_offset=15), [], [], None, None, lineno=138, col_offset=15), lineno=138, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=140, col_offset=8), 'assertFalse', Load(), lineno=140, col_offset=8), [Compare(Call(Name('len', Load(), lineno=140, col_offset=25), [Name('cand', Load(), lineno=140, col_offset=29)], [], None, None, lineno=140, col_offset=25), [Eq()], [Num(0, lineno=140, col_offset=38)], lineno=140, col_offset=25)], [], None, None, lineno=140, col_offset=8), lineno=140, col_offset=8), For(Name('c', Store(), lineno=141, col_offset=12), Name('cand', Load(), lineno=141, col_offset=17), [Expr(Call(Attribute(Name('self', Load(), lineno=142, col_offset=12), 'assertIsInstance', Load(), lineno=142, col_offset=12), [Name('c', Load(), lineno=142, col_offset=34), Name('basestring', Load(), lineno=142, col_offset=37)], [], None, None, lineno=142, col_offset=12), lineno=142, col_offset=12)], [], lineno=141, col_offset=8)], [], lineno=135, col_offset=4), FunctionDef('test_wanted_dirs', arguments([Name('self', Param(), lineno=144, col_offset=25)], None, None, []), [With(Call(Attribute(Name('test_support', Load(), lineno=148, col_offset=13), 'EnvironmentVarGuard', Load(), lineno=148, col_offset=13), [], [], None, None, lineno=148, col_offset=13), Name('env', Store(), lineno=148, col_offset=51), [For(Name('envname', Store(), lineno=149, col_offset=16), Tuple([Str('TMPDIR', lineno=149, col_offset=27), Str('TEMP', lineno=149, col_offset=37), Str('TMP', lineno=149, col_offset=45)], Load(), lineno=149, col_offset=27), [Assign([Name('dirname', Store(), lineno=150, col_offset=16)], Call(Attribute(Name('os', Load(), lineno=150, col_offset=26), 'getenv', Load(), lineno=150, col_offset=26), [Name('envname', Load(), lineno=150, col_offset=36)], [], None, None, lineno=150, col_offset=26), lineno=150, col_offset=16), If(UnaryOp(Not(), Name('dirname', Load(), lineno=151, col_offset=23), lineno=151, col_offset=19), [Assign([Subscript(Name('env', Load(), lineno=152, col_offset=20), Index(Name('envname', Load(), lineno=152, col_offset=24)), Store(), lineno=152, col_offset=20)], Call(Attribute(Attribute(Name('os', Load(), lineno=152, col_offset=35), 'path', Load(), lineno=152, col_offset=35), 'abspath', Load(), lineno=152, col_offset=35), [Name('envname', Load(), lineno=152, col_offset=51)], [], None, None, lineno=152, col_offset=35), lineno=152, col_offset=20)], [], lineno=151, col_offset=16)], [], lineno=149, col_offset=12), Assign([Name('cand', Store(), lineno=154, col_offset=12)], Call(Attribute(Name('tempfile', Load(), lineno=154, col_offset=19), '_candidate_tempdir_list', Load(), lineno=154, col_offset=19), [], [], None, None, lineno=154, col_offset=19), lineno=154, col_offset=12), For(Name('envname', Store(), lineno=156, col_offset=16), Tuple([Str('TMPDIR', lineno=156, col_offset=27), Str('TEMP', lineno=156, col_offset=37), Str('TMP', lineno=156, col_offset=45)], Load(), lineno=156, col_offset=27), [Assign([Name('dirname', Store(), lineno=157, col_offset=16)], Call(Attribute(Name('os', Load(), lineno=157, col_offset=26), 'getenv', Load(), lineno=157, col_offset=26), [Name('envname', Load(), lineno=157, col_offset=36)], [], None, None, lineno=157, col_offset=26), lineno=157, col_offset=16), If(UnaryOp(Not(), Name('dirname', Load(), lineno=158, col_offset=23), lineno=158, col_offset=19), [Raise(Name('ValueError', Load(), lineno=158, col_offset=38), None, None, lineno=158, col_offset=32)], [], lineno=158, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=159, col_offset=16), 'assertIn', Load(), lineno=159, col_offset=16), [Name('dirname', Load(), lineno=159, col_offset=30), Name('cand', Load(), lineno=159, col_offset=39)], [], None, None, lineno=159, col_offset=16), lineno=159, col_offset=16)], [], lineno=156, col_offset=12), TryExcept([Assign([Name('dirname', Store(), lineno=162, col_offset=16)], Call(Attribute(Name('os', Load(), lineno=162, col_offset=26), 'getcwd', Load(), lineno=162, col_offset=26), [], [], None, None, lineno=162, col_offset=26), lineno=162, col_offset=16)], [ExceptHandler(Tuple([Name('AttributeError', Load(), lineno=163, col_offset=20), Attribute(Name('os', Load(), lineno=163, col_offset=36), 'error', Load(), lineno=163, col_offset=36)], Load(), lineno=163, col_offset=20), None, [Assign([Name('dirname', Store(), lineno=164, col_offset=16)], Attribute(Name('os', Load(), lineno=164, col_offset=26), 'curdir', Load(), lineno=164, col_offset=26), lineno=164, col_offset=16)], lineno=163, col_offset=12)], [], lineno=161, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=166, col_offset=12), 'assertIn', Load(), lineno=166, col_offset=12), [Name('dirname', Load(), lineno=166, col_offset=26), Name('cand', Load(), lineno=166, col_offset=35)], [], None, None, lineno=166, col_offset=12), lineno=166, col_offset=12)], lineno=148, col_offset=13)], [], lineno=144, col_offset=4)], [], lineno=132, col_offset=0), Expr(Call(Attribute(Name('test_classes', Load(), lineno=171, col_offset=0), 'append', Load(), lineno=171, col_offset=0), [Name('test__candidate_tempdir_list', Load(), lineno=171, col_offset=20)], [], None, None, lineno=171, col_offset=0), lineno=171, col_offset=0), ClassDef('test__get_candidate_names', [Name('TC', Load(), lineno=177, col_offset=32)], [Expr(Str('Test the internal function _get_candidate_names.', lineno=178, col_offset=4), lineno=178, col_offset=4), FunctionDef('test_retval', arguments([Name('self', Param(), lineno=180, col_offset=20)], None, None, []), [Assign([Name('obj', Store(), lineno=182, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=182, col_offset=14), '_get_candidate_names', Load(), lineno=182, col_offset=14), [], [], None, None, lineno=182, col_offset=14), lineno=182, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=183, col_offset=8), 'assertIsInstance', Load(), lineno=183, col_offset=8), [Name('obj', Load(), lineno=183, col_offset=30), Attribute(Name('tempfile', Load(), lineno=183, col_offset=35), '_RandomNameSequence', Load(), lineno=183, col_offset=35)], [], None, None, lineno=183, col_offset=8), lineno=183, col_offset=8)], [], lineno=180, col_offset=4), FunctionDef('test_same_thing', arguments([Name('self', Param(), lineno=185, col_offset=24)], None, None, []), [Assign([Name('a', Store(), lineno=187, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=187, col_offset=12), '_get_candidate_names', Load(), lineno=187, col_offset=12), [], [], None, None, lineno=187, col_offset=12), lineno=187, col_offset=8), Assign([Name('b', Store(), lineno=188, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=188, col_offset=12), '_get_candidate_names', Load(), lineno=188, col_offset=12), [], [], None, None, lineno=188, col_offset=12), lineno=188, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=190, col_offset=8), 'assertTrue', Load(), lineno=190, col_offset=8), [Compare(Name('a', Load(), lineno=190, col_offset=24), [Is()], [Name('b', Load(), lineno=190, col_offset=29)], lineno=190, col_offset=24)], [], None, None, lineno=190, col_offset=8), lineno=190, col_offset=8)], [], lineno=185, col_offset=4)], [], lineno=177, col_offset=0), Expr(Call(Attribute(Name('test_classes', Load(), lineno=192, col_offset=0), 'append', Load(), lineno=192, col_offset=0), [Name('test__get_candidate_names', Load(), lineno=192, col_offset=20)], [], None, None, lineno=192, col_offset=0), lineno=192, col_offset=0), ClassDef('test__mkstemp_inner', [Name('TC', Load(), lineno=195, col_offset=26)], [Expr(Str('Test the internal function _mkstemp_inner.', lineno=196, col_offset=4), lineno=196, col_offset=4), ClassDef('mkstemped', [], [Assign([Name('_bflags', Store(), lineno=199, col_offset=8)], Attribute(Name('tempfile', Load(), lineno=199, col_offset=18), '_bin_openflags', Load(), lineno=199, col_offset=18), lineno=199, col_offset=8), Assign([Name('_tflags', Store(), lineno=200, col_offset=8)], Attribute(Name('tempfile', Load(), lineno=200, col_offset=18), '_text_openflags', Load(), lineno=200, col_offset=18), lineno=200, col_offset=8), Assign([Name('_close', Store(), lineno=201, col_offset=8)], Attribute(Name('os', Load(), lineno=201, col_offset=17), 'close', Load(), lineno=201, col_offset=17), lineno=201, col_offset=8), Assign([Name('_unlink', Store(), lineno=202, col_offset=8)], Attribute(Name('os', Load(), lineno=202, col_offset=18), 'unlink', Load(), lineno=202, col_offset=18), lineno=202, col_offset=8), FunctionDef('__init__', arguments([Name('self', Param(), lineno=204, col_offset=21), Name('dir', Param(), lineno=204, col_offset=27), Name('pre', Param(), lineno=204, col_offset=32), Name('suf', Param(), lineno=204, col_offset=37), Name('bin', Param(), lineno=204, col_offset=42)], None, None, []), [If(Name('bin', Load(), lineno=205, col_offset=15), [Assign([Name('flags', Store(), lineno=205, col_offset=20)], Attribute(Name('self', Load(), lineno=205, col_offset=28), '_bflags', Load(), lineno=205, col_offset=28), lineno=205, col_offset=20)], [Assign([Name('flags', Store(), lineno=206, col_offset=20)], Attribute(Name('self', Load(), lineno=206, col_offset=28), '_tflags', Load(), lineno=206, col_offset=28), lineno=206, col_offset=20)], lineno=205, col_offset=12), Assign([Tuple([Attribute(Name('self', Load(), lineno=208, col_offset=13), 'fd', Store(), lineno=208, col_offset=13), Attribute(Name('self', Load(), lineno=208, col_offset=22), 'name', Store(), lineno=208, col_offset=22)], Store(), lineno=208, col_offset=13)], Call(Attribute(Name('tempfile', Load(), lineno=208, col_offset=35), '_mkstemp_inner', Load(), lineno=208, col_offset=35), [Name('dir', Load(), lineno=208, col_offset=59), Name('pre', Load(), lineno=208, col_offset=64), Name('suf', Load(), lineno=208, col_offset=69), Name('flags', Load(), lineno=208, col_offset=74)], [], None, None, lineno=208, col_offset=35), lineno=208, col_offset=12)], [], lineno=204, col_offset=8), FunctionDef('write', arguments([Name('self', Param(), lineno=210, col_offset=18), Name('str', Param(), lineno=210, col_offset=24)], None, None, []), [Expr(Call(Attribute(Name('os', Load(), lineno=211, col_offset=12), 'write', Load(), lineno=211, col_offset=12), [Attribute(Name('self', Load(), lineno=211, col_offset=21), 'fd', Load(), lineno=211, col_offset=21), Name('str', Load(), lineno=211, col_offset=30)], [], None, None, lineno=211, col_offset=12), lineno=211, col_offset=12)], [], lineno=210, col_offset=8), FunctionDef('__del__', arguments([Name('self', Param(), lineno=213, col_offset=20)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=214, col_offset=12), '_close', Load(), lineno=214, col_offset=12), [Attribute(Name('self', Load(), lineno=214, col_offset=24), 'fd', Load(), lineno=214, col_offset=24)], [], None, None, lineno=214, col_offset=12), lineno=214, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=215, col_offset=12), '_unlink', Load(), lineno=215, col_offset=12), [Attribute(Name('self', Load(), lineno=215, col_offset=25), 'name', Load(), lineno=215, col_offset=25)], [], None, None, lineno=215, col_offset=12), lineno=215, col_offset=12)], [], lineno=213, col_offset=8)], [], lineno=198, col_offset=4), FunctionDef('do_create', arguments([Name('self', Param(), lineno=217, col_offset=18), Name('dir', Param(), lineno=217, col_offset=24), Name('pre', Param(), lineno=217, col_offset=34), Name('suf', Param(), lineno=217, col_offset=42), Name('bin', Param(), lineno=217, col_offset=50)], None, None, [Name('None', Load(), lineno=217, col_offset=28), Str('', lineno=217, col_offset=38), Str('', lineno=217, col_offset=46), Num(1, lineno=217, col_offset=54)]), [If(Compare(Name('dir', Load(), lineno=218, col_offset=11), [Is()], [Name('None', Load(), lineno=218, col_offset=18)], lineno=218, col_offset=11), [Assign([Name('dir', Store(), lineno=219, col_offset=12)], Call(Attribute(Name('tempfile', Load(), lineno=219, col_offset=18), 'gettempdir', Load(), lineno=219, col_offset=18), [], [], None, None, lineno=219, col_offset=18), lineno=219, col_offset=12)], [], lineno=218, col_offset=8), TryExcept([Assign([Name('file', Store(), lineno=221, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=221, col_offset=19), 'mkstemped', Load(), lineno=221, col_offset=19), [Name('dir', Load(), lineno=221, col_offset=34), Name('pre', Load(), lineno=221, col_offset=39), Name('suf', Load(), lineno=221, col_offset=44), Name('bin', Load(), lineno=221, col_offset=49)], [], None, None, lineno=221, col_offset=19), lineno=221, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('self', Load(), lineno=223, col_offset=12), 'failOnException', Load(), lineno=223, col_offset=12), [Str('_mkstemp_inner', lineno=223, col_offset=33)], [], None, None, lineno=223, col_offset=12), lineno=223, col_offset=12)], lineno=222, col_offset=8)], [], lineno=220, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=225, col_offset=8), 'nameCheck', Load(), lineno=225, col_offset=8), [Attribute(Name('file', Load(), lineno=225, col_offset=23), 'name', Load(), lineno=225, col_offset=23), Name('dir', Load(), lineno=225, col_offset=34), Name('pre', Load(), lineno=225, col_offset=39), Name('suf', Load(), lineno=225, col_offset=44)], [], None, None, lineno=225, col_offset=8), lineno=225, col_offset=8), Return(Name('file', Load(), lineno=226, col_offset=15), lineno=226, col_offset=8)], [], lineno=217, col_offset=4), FunctionDef('test_basic', arguments([Name('self', Param(), lineno=228, col_offset=19)], None, None, []), [Expr(Call(Attribute(Call(Attribute(Name('self', Load(), lineno=230, col_offset=8), 'do_create', Load(), lineno=230, col_offset=8), [], [], None, None, lineno=230, col_offset=8), 'write', Load(), lineno=230, col_offset=8), [Str('blat', lineno=230, col_offset=31)], [], None, None, lineno=230, col_offset=8), lineno=230, col_offset=8), Expr(Call(Attribute(Call(Attribute(Name('self', Load(), lineno=231, col_offset=8), 'do_create', Load(), lineno=231, col_offset=8), [], [keyword('pre', Str('a', lineno=231, col_offset=27))], None, None, lineno=231, col_offset=8), 'write', Load(), lineno=231, col_offset=8), [Str('blat', lineno=231, col_offset=38)], [], None, None, lineno=231, col_offset=8), lineno=231, col_offset=8), Expr(Call(Attribute(Call(Attribute(Name('self', Load(), lineno=232, col_offset=8), 'do_create', Load(), lineno=232, col_offset=8), [], [keyword('suf', Str('b', lineno=232, col_offset=27))], None, None, lineno=232, col_offset=8), 'write', Load(), lineno=232, col_offset=8), [Str('blat', lineno=232, col_offset=38)], [], None, None, lineno=232, col_offset=8), lineno=232, col_offset=8), Expr(Call(Attribute(Call(Attribute(Name('self', Load(), lineno=233, col_offset=8), 'do_create', Load(), lineno=233, col_offset=8), [], [keyword('pre', Str('a', lineno=233, col_offset=27)), keyword('suf', Str('b', lineno=233, col_offset=36))], None, None, lineno=233, col_offset=8), 'write', Load(), lineno=233, col_offset=8), [Str('blat', lineno=233, col_offset=47)], [], None, None, lineno=233, col_offset=8), lineno=233, col_offset=8), Expr(Call(Attribute(Call(Attribute(Name('self', Load(), lineno=234, col_offset=8), 'do_create', Load(), lineno=234, col_offset=8), [], [keyword('pre', Str('aa', lineno=234, col_offset=27)), keyword('suf', Str('.txt', lineno=234, col_offset=37))], None, None, lineno=234, col_offset=8), 'write', Load(), lineno=234, col_offset=8), [Str('blat', lineno=234, col_offset=51)], [], None, None, lineno=234, col_offset=8), lineno=234, col_offset=8)], [], lineno=228, col_offset=4), FunctionDef('test_basic_many', arguments([Name('self', Param(), lineno=236, col_offset=24)], None, None, []), [Assign([Name('extant', Store(), lineno=238, col_offset=8)], Call(Name('range', Load(), lineno=238, col_offset=17), [Name('TEST_FILES', Load(), lineno=238, col_offset=23)], [], None, None, lineno=238, col_offset=17), lineno=238, col_offset=8), For(Name('i', Store(), lineno=239, col_offset=12), Name('extant', Load(), lineno=239, col_offset=17), [Assign([Subscript(Name('extant', Load(), lineno=240, col_offset=12), Index(Name('i', Load(), lineno=240, col_offset=19)), Store(), lineno=240, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=240, col_offset=24), 'do_create', Load(), lineno=240, col_offset=24), [], [keyword('pre', Str('aa', lineno=240, col_offset=43))], None, None, lineno=240, col_offset=24), lineno=240, col_offset=12)], [], lineno=239, col_offset=8)], [], lineno=236, col_offset=4), FunctionDef('test_choose_directory', arguments([Name('self', Param(), lineno=242, col_offset=30)], None, None, []), [Assign([Name('dir', Store(), lineno=244, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=244, col_offset=14), 'mkdtemp', Load(), lineno=244, col_offset=14), [], [], None, None, lineno=244, col_offset=14), lineno=244, col_offset=8), TryFinally([Expr(Call(Attribute(Call(Attribute(Name('self', Load(), lineno=246, col_offset=12), 'do_create', Load(), lineno=246, col_offset=12), [], [keyword('dir', Name('dir', Load(), lineno=246, col_offset=31))], None, None, lineno=246, col_offset=12), 'write', Load(), lineno=246, col_offset=12), [Str('blat', lineno=246, col_offset=42)], [], None, None, lineno=246, col_offset=12), lineno=246, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=248, col_offset=12), 'rmdir', Load(), lineno=248, col_offset=12), [Name('dir', Load(), lineno=248, col_offset=21)], [], None, None, lineno=248, col_offset=12), lineno=248, col_offset=12)], lineno=245, col_offset=8)], [], lineno=242, col_offset=4), FunctionDef('test_file_mode', arguments([Name('self', Param(), lineno=250, col_offset=23)], None, None, []), [If(UnaryOp(Not(), Name('has_stat', Load(), lineno=252, col_offset=15), lineno=252, col_offset=11), [Return(None, lineno=253, col_offset=12)], [], lineno=252, col_offset=8), Assign([Name('file', Store(), lineno=255, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=255, col_offset=15), 'do_create', Load(), lineno=255, col_offset=15), [], [], None, None, lineno=255, col_offset=15), lineno=255, col_offset=8), Assign([Name('mode', Store(), lineno=256, col_offset=8)], Call(Attribute(Name('stat', Load(), lineno=256, col_offset=15), 'S_IMODE', Load(), lineno=256, col_offset=15), [Attribute(Call(Attribute(Name('os', Load(), lineno=256, col_offset=28), 'stat', Load(), lineno=256, col_offset=28), [Attribute(Name('file', Load(), lineno=256, col_offset=36), 'name', Load(), lineno=256, col_offset=36)], [], None, None, lineno=256, col_offset=28), 'st_mode', Load(), lineno=256, col_offset=28)], [], None, None, lineno=256, col_offset=15), lineno=256, col_offset=8), Assign([Name('expected', Store(), lineno=257, col_offset=8)], Num(384, lineno=257, col_offset=19), lineno=257, col_offset=8), If(Compare(Attribute(Name('sys', Load(), lineno=258, col_offset=11), 'platform', Load(), lineno=258, col_offset=11), [In()], [Tuple([Str('win32', lineno=258, col_offset=28), Str('os2emx', lineno=258, col_offset=37)], Load(), lineno=258, col_offset=28)], lineno=258, col_offset=11), [Assign([Name('user', Store(), lineno=261, col_offset=12)], BinOp(Name('expected', Load(), lineno=261, col_offset=19), RShift(), Num(6, lineno=261, col_offset=31), lineno=261, col_offset=19), lineno=261, col_offset=12), Assign([Name('expected', Store(), lineno=262, col_offset=12)], BinOp(Name('user', Load(), lineno=262, col_offset=23), Mult(), BinOp(BinOp(Num(1, lineno=262, col_offset=31), Add(), Num(8, lineno=262, col_offset=35), lineno=262, col_offset=31), Add(), Num(64, lineno=262, col_offset=39), lineno=262, col_offset=37), lineno=262, col_offset=23), lineno=262, col_offset=12)], [], lineno=258, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=263, col_offset=8), 'assertEqual', Load(), lineno=263, col_offset=8), [Name('mode', Load(), lineno=263, col_offset=25), Name('expected', Load(), lineno=263, col_offset=31)], [], None, None, lineno=263, col_offset=8), lineno=263, col_offset=8)], [], lineno=250, col_offset=4), FunctionDef('test_noinherit', arguments([Name('self', Param(), lineno=265, col_offset=23)], None, None, []), [If(UnaryOp(Not(), Name('has_spawnl', Load(), lineno=267, col_offset=15), lineno=267, col_offset=11), [Return(None, lineno=268, col_offset=12)], [], lineno=267, col_offset=8), If(Attribute(Name('test_support', Load(), lineno=270, col_offset=11), 'verbose', Load(), lineno=270, col_offset=11), [Assign([Name('v', Store(), lineno=271, col_offset=12)], Str('v', lineno=271, col_offset=14), lineno=271, col_offset=12)], [Assign([Name('v', Store(), lineno=273, col_offset=12)], Str('q', lineno=273, col_offset=14), lineno=273, col_offset=12)], lineno=270, col_offset=8), Assign([Name('file', Store(), lineno=275, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=275, col_offset=15), 'do_create', Load(), lineno=275, col_offset=15), [], [], None, None, lineno=275, col_offset=15), lineno=275, col_offset=8), Assign([Name('fd', Store(), lineno=276, col_offset=8)], BinOp(Str('%d', lineno=276, col_offset=13), Mod(), Attribute(Name('file', Load(), lineno=276, col_offset=20), 'fd', Load(), lineno=276, col_offset=20), lineno=276, col_offset=13), lineno=276, col_offset=8), TryExcept([Assign([Name('me', Store(), lineno=279, col_offset=12)], Name('__file__', Load(), lineno=279, col_offset=17), lineno=279, col_offset=12)], [ExceptHandler(Name('NameError', Load(), lineno=280, col_offset=15), None, [Assign([Name('me', Store(), lineno=281, col_offset=12)], Subscript(Attribute(Name('sys', Load(), lineno=281, col_offset=17), 'argv', Load(), lineno=281, col_offset=17), Index(Num(0, lineno=281, col_offset=26)), Load(), lineno=281, col_offset=17), lineno=281, col_offset=12)], lineno=280, col_offset=8)], [], lineno=278, col_offset=8), Assign([Name('tester', Store(), lineno=286, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=286, col_offset=17), 'path', Load(), lineno=286, col_offset=17), 'join', Load(), lineno=286, col_offset=17), [Call(Attribute(Attribute(Name('os', Load(), lineno=286, col_offset=30), 'path', Load(), lineno=286, col_offset=30), 'dirname', Load(), lineno=286, col_offset=30), [Call(Attribute(Attribute(Name('os', Load(), lineno=286, col_offset=46), 'path', Load(), lineno=286, col_offset=46), 'abspath', Load(), lineno=286, col_offset=46), [Name('me', Load(), lineno=286, col_offset=62)], [], None, None, lineno=286, col_offset=46)], [], None, None, lineno=286, col_offset=30), Str('tf_inherit_check.py', lineno=287, col_offset=30)], [], None, None, lineno=286, col_offset=17), lineno=286, col_offset=8), If(Compare(Attribute(Name('sys', Load(), lineno=292, col_offset=11), 'platform', Load(), lineno=292, col_offset=11), [In()], [Tuple([Str('win32', lineno=292, col_offset=28)], Load(), lineno=292, col_offset=28)], lineno=292, col_offset=11), [Assign([Name('decorated', Store(), lineno=293, col_offset=12)], BinOp(Str('"%s"', lineno=293, col_offset=24), Mod(), Attribute(Name('sys', Load(), lineno=293, col_offset=33), 'executable', Load(), lineno=293, col_offset=33), lineno=293, col_offset=24), lineno=293, col_offset=12), Assign([Name('tester', Store(), lineno=294, col_offset=12)], BinOp(Str('"%s"', lineno=294, col_offset=21), Mod(), Name('tester', Load(), lineno=294, col_offset=30), lineno=294, col_offset=21), lineno=294, col_offset=12)], [Assign([Name('decorated', Store(), lineno=296, col_offset=12)], Attribute(Name('sys', Load(), lineno=296, col_offset=24), 'executable', Load(), lineno=296, col_offset=24), lineno=296, col_offset=12)], lineno=292, col_offset=8), Assign([Name('retval', Store(), lineno=298, col_offset=8)], Call(Attribute(Name('os', Load(), lineno=298, col_offset=17), 'spawnl', Load(), lineno=298, col_offset=17), [Attribute(Name('os', Load(), lineno=298, col_offset=27), 'P_WAIT', Load(), lineno=298, col_offset=27), Attribute(Name('sys', Load(), lineno=298, col_offset=38), 'executable', Load(), lineno=298, col_offset=38), Name('decorated', Load(), lineno=298, col_offset=54), Name('tester', Load(), lineno=298, col_offset=65), Name('v', Load(), lineno=298, col_offset=73), Name('fd', Load(), lineno=298, col_offset=76)], [], None, None, lineno=298, col_offset=17), lineno=298, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=299, col_offset=8), 'assertFalse', Load(), lineno=299, col_offset=8), [Compare(Name('retval', Load(), lineno=299, col_offset=25), [Lt()], [Num(0, lineno=299, col_offset=34)], lineno=299, col_offset=25), BinOp(Str('child process caught fatal signal %d', lineno=300, col_offset=20), Mod(), UnaryOp(USub(), Name('retval', Load(), lineno=300, col_offset=62), lineno=300, col_offset=61), lineno=300, col_offset=20)], [], None, None, lineno=299, col_offset=8), lineno=299, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=301, col_offset=8), 'assertFalse', Load(), lineno=301, col_offset=8), [Compare(Name('retval', Load(), lineno=301, col_offset=25), [Gt()], [Num(0, lineno=301, col_offset=34)], lineno=301, col_offset=25), BinOp(Str('child process reports failure %d', lineno=301, col_offset=37), Mod(), Name('retval', Load(), lineno=301, col_offset=72), lineno=301, col_offset=37)], [], None, None, lineno=301, col_offset=8), lineno=301, col_offset=8)], [], lineno=265, col_offset=4), FunctionDef('test_textmode', arguments([Name('self', Param(), lineno=303, col_offset=22)], None, None, []), [If(UnaryOp(Not(), Name('has_textmode', Load(), lineno=305, col_offset=15), lineno=305, col_offset=11), [Return(None, lineno=306, col_offset=12)], [], lineno=305, col_offset=8), Expr(Call(Attribute(Call(Attribute(Name('self', Load(), lineno=308, col_offset=8), 'do_create', Load(), lineno=308, col_offset=8), [], [keyword('bin', Num(0, lineno=308, col_offset=27))], None, None, lineno=308, col_offset=8), 'write', Load(), lineno=308, col_offset=8), [Str('blat\n', lineno=308, col_offset=36)], [], None, None, lineno=308, col_offset=8), lineno=308, col_offset=8)], [], lineno=303, col_offset=4)], [], lineno=195, col_offset=0), Expr(Call(Attribute(Name('test_classes', Load(), lineno=311, col_offset=0), 'append', Load(), lineno=311, col_offset=0), [Name('test__mkstemp_inner', Load(), lineno=311, col_offset=20)], [], None, None, lineno=311, col_offset=0), lineno=311, col_offset=0), ClassDef('test_gettempprefix', [Name('TC', Load(), lineno=314, col_offset=25)], [Expr(Str('Test gettempprefix().', lineno=315, col_offset=4), lineno=315, col_offset=4), FunctionDef('test_sane_template', arguments([Name('self', Param(), lineno=317, col_offset=27)], None, None, []), [Assign([Name('p', Store(), lineno=319, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=319, col_offset=12), 'gettempprefix', Load(), lineno=319, col_offset=12), [], [], None, None, lineno=319, col_offset=12), lineno=319, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=321, col_offset=8), 'assertIsInstance', Load(), lineno=321, col_offset=8), [Name('p', Load(), lineno=321, col_offset=30), Name('basestring', Load(), lineno=321, col_offset=33)], [], None, None, lineno=321, col_offset=8), lineno=321, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=322, col_offset=8), 'assertTrue', Load(), lineno=322, col_offset=8), [Compare(Call(Name('len', Load(), lineno=322, col_offset=24), [Name('p', Load(), lineno=322, col_offset=28)], [], None, None, lineno=322, col_offset=24), [Gt()], [Num(0, lineno=322, col_offset=33)], lineno=322, col_offset=24)], [], None, None, lineno=322, col_offset=8), lineno=322, col_offset=8)], [], lineno=317, col_offset=4), FunctionDef('test_usable_template', arguments([Name('self', Param(), lineno=324, col_offset=29)], None, None, []), [Assign([Name('p', Store(), lineno=330, col_offset=8)], BinOp(Call(Attribute(Name('tempfile', Load(), lineno=330, col_offset=12), 'gettempprefix', Load(), lineno=330, col_offset=12), [], [], None, None, lineno=330, col_offset=12), Add(), Str('xxxxxx.xxx', lineno=330, col_offset=39), lineno=330, col_offset=12), lineno=330, col_offset=8), Assign([Name('d', Store(), lineno=331, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=331, col_offset=12), 'mkdtemp', Load(), lineno=331, col_offset=12), [], [keyword('prefix', Str('', lineno=331, col_offset=36))], None, None, lineno=331, col_offset=12), lineno=331, col_offset=8), TryFinally([Assign([Name('p', Store(), lineno=333, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=333, col_offset=16), 'path', Load(), lineno=333, col_offset=16), 'join', Load(), lineno=333, col_offset=16), [Name('d', Load(), lineno=333, col_offset=29), Name('p', Load(), lineno=333, col_offset=32)], [], None, None, lineno=333, col_offset=16), lineno=333, col_offset=12), TryExcept([Assign([Name('fd', Store(), lineno=335, col_offset=16)], Call(Attribute(Name('os', Load(), lineno=335, col_offset=21), 'open', Load(), lineno=335, col_offset=21), [Name('p', Load(), lineno=335, col_offset=29), BinOp(Attribute(Name('os', Load(), lineno=335, col_offset=32), 'O_RDWR', Load(), lineno=335, col_offset=32), BitOr(), Attribute(Name('os', Load(), lineno=335, col_offset=44), 'O_CREAT', Load(), lineno=335, col_offset=44), lineno=335, col_offset=32)], [], None, None, lineno=335, col_offset=21), lineno=335, col_offset=16)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('self', Load(), lineno=337, col_offset=16), 'failOnException', Load(), lineno=337, col_offset=16), [Str('os.open', lineno=337, col_offset=37)], [], None, None, lineno=337, col_offset=16), lineno=337, col_offset=16)], lineno=336, col_offset=12)], [], lineno=334, col_offset=12), Expr(Call(Attribute(Name('os', Load(), lineno=338, col_offset=12), 'close', Load(), lineno=338, col_offset=12), [Name('fd', Load(), lineno=338, col_offset=21)], [], None, None, lineno=338, col_offset=12), lineno=338, col_offset=12), Expr(Call(Attribute(Name('os', Load(), lineno=339, col_offset=12), 'unlink', Load(), lineno=339, col_offset=12), [Name('p', Load(), lineno=339, col_offset=22)], [], None, None, lineno=339, col_offset=12), lineno=339, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=341, col_offset=12), 'rmdir', Load(), lineno=341, col_offset=12), [Name('d', Load(), lineno=341, col_offset=21)], [], None, None, lineno=341, col_offset=12), lineno=341, col_offset=12)], lineno=332, col_offset=8)], [], lineno=324, col_offset=4)], [], lineno=314, col_offset=0), Expr(Call(Attribute(Name('test_classes', Load(), lineno=343, col_offset=0), 'append', Load(), lineno=343, col_offset=0), [Name('test_gettempprefix', Load(), lineno=343, col_offset=20)], [], None, None, lineno=343, col_offset=0), lineno=343, col_offset=0), ClassDef('test_gettempdir', [Name('TC', Load(), lineno=346, col_offset=22)], [Expr(Str('Test gettempdir().', lineno=347, col_offset=4), lineno=347, col_offset=4), FunctionDef('test_directory_exists', arguments([Name('self', Param(), lineno=349, col_offset=30)], None, None, []), [Assign([Name('dir', Store(), lineno=352, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=352, col_offset=14), 'gettempdir', Load(), lineno=352, col_offset=14), [], [], None, None, lineno=352, col_offset=14), lineno=352, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=353, col_offset=8), 'assertTrue', Load(), lineno=353, col_offset=8), [BoolOp(Or(), [Call(Attribute(Attribute(Name('os', Load(), lineno=353, col_offset=24), 'path', Load(), lineno=353, col_offset=24), 'isabs', Load(), lineno=353, col_offset=24), [Name('dir', Load(), lineno=353, col_offset=38)], [], None, None, lineno=353, col_offset=24), Compare(Name('dir', Load(), lineno=353, col_offset=46), [Eq()], [Attribute(Name('os', Load(), lineno=353, col_offset=53), 'curdir', Load(), lineno=353, col_offset=53)], lineno=353, col_offset=46)], lineno=353, col_offset=24), BinOp(Str('%s is not an absolute path', lineno=354, col_offset=21), Mod(), Name('dir', Load(), lineno=354, col_offset=52), lineno=354, col_offset=21)], [], None, None, lineno=353, col_offset=8), lineno=353, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=355, col_offset=8), 'assertTrue', Load(), lineno=355, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=355, col_offset=24), 'path', Load(), lineno=355, col_offset=24), 'isdir', Load(), lineno=355, col_offset=24), [Name('dir', Load(), lineno=355, col_offset=38)], [], None, None, lineno=355, col_offset=24), BinOp(Str('%s is not a directory', lineno=356, col_offset=21), Mod(), Name('dir', Load(), lineno=356, col_offset=47), lineno=356, col_offset=21)], [], None, None, lineno=355, col_offset=8), lineno=355, col_offset=8)], [], lineno=349, col_offset=4), FunctionDef('test_directory_writable', arguments([Name('self', Param(), lineno=358, col_offset=32)], None, None, []), [TryExcept([Assign([Name('file', Store(), lineno=365, col_offset=12)], Call(Attribute(Name('tempfile', Load(), lineno=365, col_offset=19), 'NamedTemporaryFile', Load(), lineno=365, col_offset=19), [], [], None, None, lineno=365, col_offset=19), lineno=365, col_offset=12), Expr(Call(Attribute(Name('file', Load(), lineno=366, col_offset=12), 'write', Load(), lineno=366, col_offset=12), [Str('blat', lineno=366, col_offset=23)], [], None, None, lineno=366, col_offset=12), lineno=366, col_offset=12), Expr(Call(Attribute(Name('file', Load(), lineno=367, col_offset=12), 'close', Load(), lineno=367, col_offset=12), [], [], None, None, lineno=367, col_offset=12), lineno=367, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('self', Load(), lineno=369, col_offset=12), 'failOnException', Load(), lineno=369, col_offset=12), [BinOp(Str('create file in %s', lineno=369, col_offset=33), Mod(), Call(Attribute(Name('tempfile', Load(), lineno=369, col_offset=55), 'gettempdir', Load(), lineno=369, col_offset=55), [], [], None, None, lineno=369, col_offset=55), lineno=369, col_offset=33)], [], None, None, lineno=369, col_offset=12), lineno=369, col_offset=12)], lineno=368, col_offset=8)], [], lineno=364, col_offset=8)], [], lineno=358, col_offset=4), FunctionDef('test_same_thing', arguments([Name('self', Param(), lineno=371, col_offset=24)], None, None, []), [Assign([Name('a', Store(), lineno=373, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=373, col_offset=12), 'gettempdir', Load(), lineno=373, col_offset=12), [], [], None, None, lineno=373, col_offset=12), lineno=373, col_offset=8), Assign([Name('b', Store(), lineno=374, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=374, col_offset=12), 'gettempdir', Load(), lineno=374, col_offset=12), [], [], None, None, lineno=374, col_offset=12), lineno=374, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=376, col_offset=8), 'assertTrue', Load(), lineno=376, col_offset=8), [Compare(Name('a', Load(), lineno=376, col_offset=24), [Is()], [Name('b', Load(), lineno=376, col_offset=29)], lineno=376, col_offset=24)], [], None, None, lineno=376, col_offset=8), lineno=376, col_offset=8)], [], lineno=371, col_offset=4)], [], lineno=346, col_offset=0), Expr(Call(Attribute(Name('test_classes', Load(), lineno=378, col_offset=0), 'append', Load(), lineno=378, col_offset=0), [Name('test_gettempdir', Load(), lineno=378, col_offset=20)], [], None, None, lineno=378, col_offset=0), lineno=378, col_offset=0), ClassDef('test_mkstemp', [Name('TC', Load(), lineno=381, col_offset=19)], [Expr(Str('Test mkstemp().', lineno=382, col_offset=4), lineno=382, col_offset=4), FunctionDef('do_create', arguments([Name('self', Param(), lineno=384, col_offset=18), Name('dir', Param(), lineno=384, col_offset=24), Name('pre', Param(), lineno=384, col_offset=34), Name('suf', Param(), lineno=384, col_offset=42)], None, None, [Name('None', Load(), lineno=384, col_offset=28), Str('', lineno=384, col_offset=38), Str('', lineno=384, col_offset=46)]), [If(Compare(Name('dir', Load(), lineno=385, col_offset=11), [Is()], [Name('None', Load(), lineno=385, col_offset=18)], lineno=385, col_offset=11), [Assign([Name('dir', Store(), lineno=386, col_offset=12)], Call(Attribute(Name('tempfile', Load(), lineno=386, col_offset=18), 'gettempdir', Load(), lineno=386, col_offset=18), [], [], None, None, lineno=386, col_offset=18), lineno=386, col_offset=12)], [], lineno=385, col_offset=8), TryExcept([Assign([Tuple([Name('fd', Store(), lineno=388, col_offset=13), Name('name', Store(), lineno=388, col_offset=17)], Store(), lineno=388, col_offset=13)], Call(Attribute(Name('tempfile', Load(), lineno=388, col_offset=25), 'mkstemp', Load(), lineno=388, col_offset=25), [], [keyword('dir', Name('dir', Load(), lineno=388, col_offset=46)), keyword('prefix', Name('pre', Load(), lineno=388, col_offset=58)), keyword('suffix', Name('suf', Load(), lineno=388, col_offset=70))], None, None, lineno=388, col_offset=25), lineno=388, col_offset=12), Assign([Tuple([Name('ndir', Store(), lineno=389, col_offset=13), Name('nbase', Store(), lineno=389, col_offset=19)], Store(), lineno=389, col_offset=13)], Call(Attribute(Attribute(Name('os', Load(), lineno=389, col_offset=28), 'path', Load(), lineno=389, col_offset=28), 'split', Load(), lineno=389, col_offset=28), [Name('name', Load(), lineno=389, col_offset=42)], [], None, None, lineno=389, col_offset=28), lineno=389, col_offset=12), Assign([Name('adir', Store(), lineno=390, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=390, col_offset=19), 'path', Load(), lineno=390, col_offset=19), 'abspath', Load(), lineno=390, col_offset=19), [Name('dir', Load(), lineno=390, col_offset=35)], [], None, None, lineno=390, col_offset=19), lineno=390, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=391, col_offset=12), 'assertEqual', Load(), lineno=391, col_offset=12), [Name('adir', Load(), lineno=391, col_offset=29), Name('ndir', Load(), lineno=391, col_offset=35), BinOp(Str("Directory '%s' incorrectly returned as '%s'", lineno=392, col_offset=16), Mod(), Tuple([Name('adir', Load(), lineno=392, col_offset=65), Name('ndir', Load(), lineno=392, col_offset=71)], Load(), lineno=392, col_offset=65), lineno=392, col_offset=16)], [], None, None, lineno=391, col_offset=12), lineno=391, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('self', Load(), lineno=394, col_offset=12), 'failOnException', Load(), lineno=394, col_offset=12), [Str('mkstemp', lineno=394, col_offset=33)], [], None, None, lineno=394, col_offset=12), lineno=394, col_offset=12)], lineno=393, col_offset=8)], [], lineno=387, col_offset=8), TryFinally([Expr(Call(Attribute(Name('self', Load(), lineno=397, col_offset=12), 'nameCheck', Load(), lineno=397, col_offset=12), [Name('name', Load(), lineno=397, col_offset=27), Name('dir', Load(), lineno=397, col_offset=33), Name('pre', Load(), lineno=397, col_offset=38), Name('suf', Load(), lineno=397, col_offset=43)], [], None, None, lineno=397, col_offset=12), lineno=397, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=399, col_offset=12), 'close', Load(), lineno=399, col_offset=12), [Name('fd', Load(), lineno=399, col_offset=21)], [], None, None, lineno=399, col_offset=12), lineno=399, col_offset=12), Expr(Call(Attribute(Name('os', Load(), lineno=400, col_offset=12), 'unlink', Load(), lineno=400, col_offset=12), [Name('name', Load(), lineno=400, col_offset=22)], [], None, None, lineno=400, col_offset=12), lineno=400, col_offset=12)], lineno=396, col_offset=8)], [], lineno=384, col_offset=4), FunctionDef('test_basic', arguments([Name('self', Param(), lineno=402, col_offset=19)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=404, col_offset=8), 'do_create', Load(), lineno=404, col_offset=8), [], [], None, None, lineno=404, col_offset=8), lineno=404, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=405, col_offset=8), 'do_create', Load(), lineno=405, col_offset=8), [], [keyword('pre', Str('a', lineno=405, col_offset=27))], None, None, lineno=405, col_offset=8), lineno=405, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=406, col_offset=8), 'do_create', Load(), lineno=406, col_offset=8), [], [keyword('suf', Str('b', lineno=406, col_offset=27))], None, None, lineno=406, col_offset=8), lineno=406, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=407, col_offset=8), 'do_create', Load(), lineno=407, col_offset=8), [], [keyword('pre', Str('a', lineno=407, col_offset=27)), keyword('suf', Str('b', lineno=407, col_offset=36))], None, None, lineno=407, col_offset=8), lineno=407, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=408, col_offset=8), 'do_create', Load(), lineno=408, col_offset=8), [], [keyword('pre', Str('aa', lineno=408, col_offset=27)), keyword('suf', Str('.txt', lineno=408, col_offset=37))], None, None, lineno=408, col_offset=8), lineno=408, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=409, col_offset=8), 'do_create', Load(), lineno=409, col_offset=8), [], [keyword('dir', Str('.', lineno=409, col_offset=27))], None, None, lineno=409, col_offset=8), lineno=409, col_offset=8)], [], lineno=402, col_offset=4), FunctionDef('test_choose_directory', arguments([Name('self', Param(), lineno=411, col_offset=30)], None, None, []), [Assign([Name('dir', Store(), lineno=413, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=413, col_offset=14), 'mkdtemp', Load(), lineno=413, col_offset=14), [], [], None, None, lineno=413, col_offset=14), lineno=413, col_offset=8), TryFinally([Expr(Call(Attribute(Name('self', Load(), lineno=415, col_offset=12), 'do_create', Load(), lineno=415, col_offset=12), [], [keyword('dir', Name('dir', Load(), lineno=415, col_offset=31))], None, None, lineno=415, col_offset=12), lineno=415, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=417, col_offset=12), 'rmdir', Load(), lineno=417, col_offset=12), [Name('dir', Load(), lineno=417, col_offset=21)], [], None, None, lineno=417, col_offset=12), lineno=417, col_offset=12)], lineno=414, col_offset=8)], [], lineno=411, col_offset=4)], [], lineno=381, col_offset=0), Expr(Call(Attribute(Name('test_classes', Load(), lineno=419, col_offset=0), 'append', Load(), lineno=419, col_offset=0), [Name('test_mkstemp', Load(), lineno=419, col_offset=20)], [], None, None, lineno=419, col_offset=0), lineno=419, col_offset=0), ClassDef('test_mkdtemp', [Name('TC', Load(), lineno=422, col_offset=19)], [Expr(Str('Test mkdtemp().', lineno=423, col_offset=4), lineno=423, col_offset=4), FunctionDef('do_create', arguments([Name('self', Param(), lineno=425, col_offset=18), Name('dir', Param(), lineno=425, col_offset=24), Name('pre', Param(), lineno=425, col_offset=34), Name('suf', Param(), lineno=425, col_offset=42)], None, None, [Name('None', Load(), lineno=425, col_offset=28), Str('', lineno=425, col_offset=38), Str('', lineno=425, col_offset=46)]), [If(Compare(Name('dir', Load(), lineno=426, col_offset=11), [Is()], [Name('None', Load(), lineno=426, col_offset=18)], lineno=426, col_offset=11), [Assign([Name('dir', Store(), lineno=427, col_offset=12)], Call(Attribute(Name('tempfile', Load(), lineno=427, col_offset=18), 'gettempdir', Load(), lineno=427, col_offset=18), [], [], None, None, lineno=427, col_offset=18), lineno=427, col_offset=12)], [], lineno=426, col_offset=8), TryExcept([Assign([Name('name', Store(), lineno=429, col_offset=12)], Call(Attribute(Name('tempfile', Load(), lineno=429, col_offset=19), 'mkdtemp', Load(), lineno=429, col_offset=19), [], [keyword('dir', Name('dir', Load(), lineno=429, col_offset=40)), keyword('prefix', Name('pre', Load(), lineno=429, col_offset=52)), keyword('suffix', Name('suf', Load(), lineno=429, col_offset=64))], None, None, lineno=429, col_offset=19), lineno=429, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('self', Load(), lineno=431, col_offset=12), 'failOnException', Load(), lineno=431, col_offset=12), [Str('mkdtemp', lineno=431, col_offset=33)], [], None, None, lineno=431, col_offset=12), lineno=431, col_offset=12)], lineno=430, col_offset=8)], [], lineno=428, col_offset=8), TryExcept([Expr(Call(Attribute(Name('self', Load(), lineno=434, col_offset=12), 'nameCheck', Load(), lineno=434, col_offset=12), [Name('name', Load(), lineno=434, col_offset=27), Name('dir', Load(), lineno=434, col_offset=33), Name('pre', Load(), lineno=434, col_offset=38), Name('suf', Load(), lineno=434, col_offset=43)], [], None, None, lineno=434, col_offset=12), lineno=434, col_offset=12), Return(Name('name', Load(), lineno=435, col_offset=19), lineno=435, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('os', Load(), lineno=437, col_offset=12), 'rmdir', Load(), lineno=437, col_offset=12), [Name('name', Load(), lineno=437, col_offset=21)], [], None, None, lineno=437, col_offset=12), lineno=437, col_offset=12), Raise(None, None, None, lineno=438, col_offset=12)], lineno=436, col_offset=8)], [], lineno=433, col_offset=8)], [], lineno=425, col_offset=4), FunctionDef('test_basic', arguments([Name('self', Param(), lineno=440, col_offset=19)], None, None, []), [Expr(Call(Attribute(Name('os', Load(), lineno=442, col_offset=8), 'rmdir', Load(), lineno=442, col_offset=8), [Call(Attribute(Name('self', Load(), lineno=442, col_offset=17), 'do_create', Load(), lineno=442, col_offset=17), [], [], None, None, lineno=442, col_offset=17)], [], None, None, lineno=442, col_offset=8), lineno=442, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=443, col_offset=8), 'rmdir', Load(), lineno=443, col_offset=8), [Call(Attribute(Name('self', Load(), lineno=443, col_offset=17), 'do_create', Load(), lineno=443, col_offset=17), [], [keyword('pre', Str('a', lineno=443, col_offset=36))], None, None, lineno=443, col_offset=17)], [], None, None, lineno=443, col_offset=8), lineno=443, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=444, col_offset=8), 'rmdir', Load(), lineno=444, col_offset=8), [Call(Attribute(Name('self', Load(), lineno=444, col_offset=17), 'do_create', Load(), lineno=444, col_offset=17), [], [keyword('suf', Str('b', lineno=444, col_offset=36))], None, None, lineno=444, col_offset=17)], [], None, None, lineno=444, col_offset=8), lineno=444, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=445, col_offset=8), 'rmdir', Load(), lineno=445, col_offset=8), [Call(Attribute(Name('self', Load(), lineno=445, col_offset=17), 'do_create', Load(), lineno=445, col_offset=17), [], [keyword('pre', Str('a', lineno=445, col_offset=36)), keyword('suf', Str('b', lineno=445, col_offset=45))], None, None, lineno=445, col_offset=17)], [], None, None, lineno=445, col_offset=8), lineno=445, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=446, col_offset=8), 'rmdir', Load(), lineno=446, col_offset=8), [Call(Attribute(Name('self', Load(), lineno=446, col_offset=17), 'do_create', Load(), lineno=446, col_offset=17), [], [keyword('pre', Str('aa', lineno=446, col_offset=36)), keyword('suf', Str('.txt', lineno=446, col_offset=46))], None, None, lineno=446, col_offset=17)], [], None, None, lineno=446, col_offset=8), lineno=446, col_offset=8)], [], lineno=440, col_offset=4), FunctionDef('test_basic_many', arguments([Name('self', Param(), lineno=448, col_offset=24)], None, None, []), [Assign([Name('extant', Store(), lineno=450, col_offset=8)], Call(Name('range', Load(), lineno=450, col_offset=17), [Name('TEST_FILES', Load(), lineno=450, col_offset=23)], [], None, None, lineno=450, col_offset=17), lineno=450, col_offset=8), TryFinally([For(Name('i', Store(), lineno=452, col_offset=16), Name('extant', Load(), lineno=452, col_offset=21), [Assign([Subscript(Name('extant', Load(), lineno=453, col_offset=16), Index(Name('i', Load(), lineno=453, col_offset=23)), Store(), lineno=453, col_offset=16)], Call(Attribute(Name('self', Load(), lineno=453, col_offset=28), 'do_create', Load(), lineno=453, col_offset=28), [], [keyword('pre', Str('aa', lineno=453, col_offset=47))], None, None, lineno=453, col_offset=28), lineno=453, col_offset=16)], [], lineno=452, col_offset=12)], [For(Name('i', Store(), lineno=455, col_offset=16), Name('extant', Load(), lineno=455, col_offset=21), [If(Call(Name('isinstance', Load(), lineno=456, col_offset=19), [Name('i', Load(), lineno=456, col_offset=30), Name('basestring', Load(), lineno=456, col_offset=33)], [], None, None, lineno=456, col_offset=19), [Expr(Call(Attribute(Name('os', Load(), lineno=457, col_offset=20), 'rmdir', Load(), lineno=457, col_offset=20), [Name('i', Load(), lineno=457, col_offset=29)], [], None, None, lineno=457, col_offset=20), lineno=457, col_offset=20)], [], lineno=456, col_offset=16)], [], lineno=455, col_offset=12)], lineno=451, col_offset=8)], [], lineno=448, col_offset=4), FunctionDef('test_choose_directory', arguments([Name('self', Param(), lineno=459, col_offset=30)], None, None, []), [Assign([Name('dir', Store(), lineno=461, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=461, col_offset=14), 'mkdtemp', Load(), lineno=461, col_offset=14), [], [], None, None, lineno=461, col_offset=14), lineno=461, col_offset=8), TryFinally([Expr(Call(Attribute(Name('os', Load(), lineno=463, col_offset=12), 'rmdir', Load(), lineno=463, col_offset=12), [Call(Attribute(Name('self', Load(), lineno=463, col_offset=21), 'do_create', Load(), lineno=463, col_offset=21), [], [keyword('dir', Name('dir', Load(), lineno=463, col_offset=40))], None, None, lineno=463, col_offset=21)], [], None, None, lineno=463, col_offset=12), lineno=463, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=465, col_offset=12), 'rmdir', Load(), lineno=465, col_offset=12), [Name('dir', Load(), lineno=465, col_offset=21)], [], None, None, lineno=465, col_offset=12), lineno=465, col_offset=12)], lineno=462, col_offset=8)], [], lineno=459, col_offset=4), FunctionDef('test_mode', arguments([Name('self', Param(), lineno=467, col_offset=18)], None, None, []), [If(UnaryOp(Not(), Name('has_stat', Load(), lineno=469, col_offset=15), lineno=469, col_offset=11), [Return(None, lineno=470, col_offset=12)], [], lineno=469, col_offset=8), Assign([Name('dir', Store(), lineno=472, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=472, col_offset=14), 'do_create', Load(), lineno=472, col_offset=14), [], [], None, None, lineno=472, col_offset=14), lineno=472, col_offset=8), TryFinally([Assign([Name('mode', Store(), lineno=474, col_offset=12)], Call(Attribute(Name('stat', Load(), lineno=474, col_offset=19), 'S_IMODE', Load(), lineno=474, col_offset=19), [Attribute(Call(Attribute(Name('os', Load(), lineno=474, col_offset=32), 'stat', Load(), lineno=474, col_offset=32), [Name('dir', Load(), lineno=474, col_offset=40)], [], None, None, lineno=474, col_offset=32), 'st_mode', Load(), lineno=474, col_offset=32)], [], None, None, lineno=474, col_offset=19), lineno=474, col_offset=12), AugAssign(Name('mode', Store(), lineno=475, col_offset=12), BitAnd(), Num(511, lineno=475, col_offset=20), lineno=475, col_offset=12), Assign([Name('expected', Store(), lineno=476, col_offset=12)], Num(448, lineno=476, col_offset=23), lineno=476, col_offset=12), If(Compare(Attribute(Name('sys', Load(), lineno=477, col_offset=15), 'platform', Load(), lineno=477, col_offset=15), [In()], [Tuple([Str('win32', lineno=477, col_offset=32), Str('os2emx', lineno=477, col_offset=41)], Load(), lineno=477, col_offset=32)], lineno=477, col_offset=15), [Assign([Name('user', Store(), lineno=480, col_offset=16)], BinOp(Name('expected', Load(), lineno=480, col_offset=23), RShift(), Num(6, lineno=480, col_offset=35), lineno=480, col_offset=23), lineno=480, col_offset=16), Assign([Name('expected', Store(), lineno=481, col_offset=16)], BinOp(Name('user', Load(), lineno=481, col_offset=27), Mult(), BinOp(BinOp(Num(1, lineno=481, col_offset=35), Add(), Num(8, lineno=481, col_offset=39), lineno=481, col_offset=35), Add(), Num(64, lineno=481, col_offset=43), lineno=481, col_offset=41), lineno=481, col_offset=27), lineno=481, col_offset=16)], [], lineno=477, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=482, col_offset=12), 'assertEqual', Load(), lineno=482, col_offset=12), [Name('mode', Load(), lineno=482, col_offset=29), Name('expected', Load(), lineno=482, col_offset=35)], [], None, None, lineno=482, col_offset=12), lineno=482, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=484, col_offset=12), 'rmdir', Load(), lineno=484, col_offset=12), [Name('dir', Load(), lineno=484, col_offset=21)], [], None, None, lineno=484, col_offset=12), lineno=484, col_offset=12)], lineno=473, col_offset=8)], [], lineno=467, col_offset=4)], [], lineno=422, col_offset=0), Expr(Call(Attribute(Name('test_classes', Load(), lineno=486, col_offset=0), 'append', Load(), lineno=486, col_offset=0), [Name('test_mkdtemp', Load(), lineno=486, col_offset=20)], [], None, None, lineno=486, col_offset=0), lineno=486, col_offset=0), ClassDef('test_mktemp', [Name('TC', Load(), lineno=489, col_offset=18)], [Expr(Str('Test mktemp().', lineno=490, col_offset=4), lineno=490, col_offset=4), FunctionDef('setUp', arguments([Name('self', Param(), lineno=494, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=495, col_offset=8), 'dir', Store(), lineno=495, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=495, col_offset=19), 'mkdtemp', Load(), lineno=495, col_offset=19), [], [], None, None, lineno=495, col_offset=19), lineno=495, col_offset=8)], [], lineno=494, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=497, col_offset=17)], None, None, []), [If(Attribute(Name('self', Load(), lineno=498, col_offset=11), 'dir', Load(), lineno=498, col_offset=11), [Expr(Call(Attribute(Name('os', Load(), lineno=499, col_offset=12), 'rmdir', Load(), lineno=499, col_offset=12), [Attribute(Name('self', Load(), lineno=499, col_offset=21), 'dir', Load(), lineno=499, col_offset=21)], [], None, None, lineno=499, col_offset=12), lineno=499, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=500, col_offset=12), 'dir', Store(), lineno=500, col_offset=12)], Name('None', Load(), lineno=500, col_offset=23), lineno=500, col_offset=12)], [], lineno=498, col_offset=8)], [], lineno=497, col_offset=4), ClassDef('mktemped', [], [Assign([Name('_unlink', Store(), lineno=503, col_offset=8)], Attribute(Name('os', Load(), lineno=503, col_offset=18), 'unlink', Load(), lineno=503, col_offset=18), lineno=503, col_offset=8), Assign([Name('_bflags', Store(), lineno=504, col_offset=8)], Attribute(Name('tempfile', Load(), lineno=504, col_offset=18), '_bin_openflags', Load(), lineno=504, col_offset=18), lineno=504, col_offset=8), FunctionDef('__init__', arguments([Name('self', Param(), lineno=506, col_offset=21), Name('dir', Param(), lineno=506, col_offset=27), Name('pre', Param(), lineno=506, col_offset=32), Name('suf', Param(), lineno=506, col_offset=37)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=507, col_offset=12), 'name', Store(), lineno=507, col_offset=12)], Call(Attribute(Name('tempfile', Load(), lineno=507, col_offset=24), 'mktemp', Load(), lineno=507, col_offset=24), [], [keyword('dir', Name('dir', Load(), lineno=507, col_offset=44)), keyword('prefix', Name('pre', Load(), lineno=507, col_offset=56)), keyword('suffix', Name('suf', Load(), lineno=507, col_offset=68))], None, None, lineno=507, col_offset=24), lineno=507, col_offset=12), Expr(Call(Attribute(Name('os', Load(), lineno=510, col_offset=12), 'close', Load(), lineno=510, col_offset=12), [Call(Attribute(Name('os', Load(), lineno=510, col_offset=21), 'open', Load(), lineno=510, col_offset=21), [Attribute(Name('self', Load(), lineno=510, col_offset=29), 'name', Load(), lineno=510, col_offset=29), Attribute(Name('self', Load(), lineno=510, col_offset=40), '_bflags', Load(), lineno=510, col_offset=40), Num(384, lineno=510, col_offset=54)], [], None, None, lineno=510, col_offset=21)], [], None, None, lineno=510, col_offset=12), lineno=510, col_offset=12)], [], lineno=506, col_offset=8), FunctionDef('__del__', arguments([Name('self', Param(), lineno=512, col_offset=20)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=513, col_offset=12), '_unlink', Load(), lineno=513, col_offset=12), [Attribute(Name('self', Load(), lineno=513, col_offset=25), 'name', Load(), lineno=513, col_offset=25)], [], None, None, lineno=513, col_offset=12), lineno=513, col_offset=12)], [], lineno=512, col_offset=8)], [], lineno=502, col_offset=4), FunctionDef('do_create', arguments([Name('self', Param(), lineno=515, col_offset=18), Name('pre', Param(), lineno=515, col_offset=24), Name('suf', Param(), lineno=515, col_offset=32)], None, None, [Str('', lineno=515, col_offset=28), Str('', lineno=515, col_offset=36)]), [TryExcept([Assign([Name('file', Store(), lineno=517, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=517, col_offset=19), 'mktemped', Load(), lineno=517, col_offset=19), [Attribute(Name('self', Load(), lineno=517, col_offset=33), 'dir', Load(), lineno=517, col_offset=33), Name('pre', Load(), lineno=517, col_offset=43), Name('suf', Load(), lineno=517, col_offset=48)], [], None, None, lineno=517, col_offset=19), lineno=517, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('self', Load(), lineno=519, col_offset=12), 'failOnException', Load(), lineno=519, col_offset=12), [Str('mktemp', lineno=519, col_offset=33)], [], None, None, lineno=519, col_offset=12), lineno=519, col_offset=12)], lineno=518, col_offset=8)], [], lineno=516, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=521, col_offset=8), 'nameCheck', Load(), lineno=521, col_offset=8), [Attribute(Name('file', Load(), lineno=521, col_offset=23), 'name', Load(), lineno=521, col_offset=23), Attribute(Name('self', Load(), lineno=521, col_offset=34), 'dir', Load(), lineno=521, col_offset=34), Name('pre', Load(), lineno=521, col_offset=44), Name('suf', Load(), lineno=521, col_offset=49)], [], None, None, lineno=521, col_offset=8), lineno=521, col_offset=8), Return(Name('file', Load(), lineno=522, col_offset=15), lineno=522, col_offset=8)], [], lineno=515, col_offset=4), FunctionDef('test_basic', arguments([Name('self', Param(), lineno=524, col_offset=19)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=526, col_offset=8), 'do_create', Load(), lineno=526, col_offset=8), [], [], None, None, lineno=526, col_offset=8), lineno=526, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=527, col_offset=8), 'do_create', Load(), lineno=527, col_offset=8), [], [keyword('pre', Str('a', lineno=527, col_offset=27))], None, None, lineno=527, col_offset=8), lineno=527, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=528, col_offset=8), 'do_create', Load(), lineno=528, col_offset=8), [], [keyword('suf', Str('b', lineno=528, col_offset=27))], None, None, lineno=528, col_offset=8), lineno=528, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=529, col_offset=8), 'do_create', Load(), lineno=529, col_offset=8), [], [keyword('pre', Str('a', lineno=529, col_offset=27)), keyword('suf', Str('b', lineno=529, col_offset=36))], None, None, lineno=529, col_offset=8), lineno=529, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=530, col_offset=8), 'do_create', Load(), lineno=530, col_offset=8), [], [keyword('pre', Str('aa', lineno=530, col_offset=27)), keyword('suf', Str('.txt', lineno=530, col_offset=37))], None, None, lineno=530, col_offset=8), lineno=530, col_offset=8)], [], lineno=524, col_offset=4), FunctionDef('test_many', arguments([Name('self', Param(), lineno=532, col_offset=18)], None, None, []), [Assign([Name('extant', Store(), lineno=534, col_offset=8)], Call(Name('range', Load(), lineno=534, col_offset=17), [Name('TEST_FILES', Load(), lineno=534, col_offset=23)], [], None, None, lineno=534, col_offset=17), lineno=534, col_offset=8), For(Name('i', Store(), lineno=535, col_offset=12), Name('extant', Load(), lineno=535, col_offset=17), [Assign([Subscript(Name('extant', Load(), lineno=536, col_offset=12), Index(Name('i', Load(), lineno=536, col_offset=19)), Store(), lineno=536, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=536, col_offset=24), 'do_create', Load(), lineno=536, col_offset=24), [], [keyword('pre', Str('aa', lineno=536, col_offset=43))], None, None, lineno=536, col_offset=24), lineno=536, col_offset=12)], [], lineno=535, col_offset=8)], [], lineno=532, col_offset=4)], [], lineno=489, col_offset=0), Expr(Call(Attribute(Name('test_classes', Load(), lineno=546, col_offset=0), 'append', Load(), lineno=546, col_offset=0), [Name('test_mktemp', Load(), lineno=546, col_offset=20)], [], None, None, lineno=546, col_offset=0), lineno=546, col_offset=0), ClassDef('test_NamedTemporaryFile', [Name('TC', Load(), lineno=552, col_offset=30)], [Expr(Str('Test NamedTemporaryFile().', lineno=553, col_offset=4), lineno=553, col_offset=4), FunctionDef('do_create', arguments([Name('self', Param(), lineno=555, col_offset=18), Name('dir', Param(), lineno=555, col_offset=24), Name('pre', Param(), lineno=555, col_offset=34), Name('suf', Param(), lineno=555, col_offset=42), Name('delete', Param(), lineno=555, col_offset=50)], None, None, [Name('None', Load(), lineno=555, col_offset=28), Str('', lineno=555, col_offset=38), Str('', lineno=555, col_offset=46), Name('True', Load(), lineno=555, col_offset=57)]), [If(Compare(Name('dir', Load(), lineno=556, col_offset=11), [Is()], [Name('None', Load(), lineno=556, col_offset=18)], lineno=556, col_offset=11), [Assign([Name('dir', Store(), lineno=557, col_offset=12)], Call(Attribute(Name('tempfile', Load(), lineno=557, col_offset=18), 'gettempdir', Load(), lineno=557, col_offset=18), [], [], None, None, lineno=557, col_offset=18), lineno=557, col_offset=12)], [], lineno=556, col_offset=8), TryExcept([Assign([Name('file', Store(), lineno=559, col_offset=12)], Call(Attribute(Name('tempfile', Load(), lineno=559, col_offset=19), 'NamedTemporaryFile', Load(), lineno=559, col_offset=19), [], [keyword('dir', Name('dir', Load(), lineno=559, col_offset=51)), keyword('prefix', Name('pre', Load(), lineno=559, col_offset=63)), keyword('suffix', Name('suf', Load(), lineno=559, col_offset=75)), keyword('delete', Name('delete', Load(), lineno=560, col_offset=54))], None, None, lineno=559, col_offset=19), lineno=559, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('self', Load(), lineno=562, col_offset=12), 'failOnException', Load(), lineno=562, col_offset=12), [Str('NamedTemporaryFile', lineno=562, col_offset=33)], [], None, None, lineno=562, col_offset=12), lineno=562, col_offset=12)], lineno=561, col_offset=8)], [], lineno=558, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=564, col_offset=8), 'nameCheck', Load(), lineno=564, col_offset=8), [Attribute(Name('file', Load(), lineno=564, col_offset=23), 'name', Load(), lineno=564, col_offset=23), Name('dir', Load(), lineno=564, col_offset=34), Name('pre', Load(), lineno=564, col_offset=39), Name('suf', Load(), lineno=564, col_offset=44)], [], None, None, lineno=564, col_offset=8), lineno=564, col_offset=8), Return(Name('file', Load(), lineno=565, col_offset=15), lineno=565, col_offset=8)], [], lineno=555, col_offset=4), FunctionDef('test_basic', arguments([Name('self', Param(), lineno=568, col_offset=19)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=570, col_offset=8), 'do_create', Load(), lineno=570, col_offset=8), [], [], None, None, lineno=570, col_offset=8), lineno=570, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=571, col_offset=8), 'do_create', Load(), lineno=571, col_offset=8), [], [keyword('pre', Str('a', lineno=571, col_offset=27))], None, None, lineno=571, col_offset=8), lineno=571, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=572, col_offset=8), 'do_create', Load(), lineno=572, col_offset=8), [], [keyword('suf', Str('b', lineno=572, col_offset=27))], None, None, lineno=572, col_offset=8), lineno=572, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=573, col_offset=8), 'do_create', Load(), lineno=573, col_offset=8), [], [keyword('pre', Str('a', lineno=573, col_offset=27)), keyword('suf', Str('b', lineno=573, col_offset=36))], None, None, lineno=573, col_offset=8), lineno=573, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=574, col_offset=8), 'do_create', Load(), lineno=574, col_offset=8), [], [keyword('pre', Str('aa', lineno=574, col_offset=27)), keyword('suf', Str('.txt', lineno=574, col_offset=37))], None, None, lineno=574, col_offset=8), lineno=574, col_offset=8)], [], lineno=568, col_offset=4), FunctionDef('test_creates_named', arguments([Name('self', Param(), lineno=576, col_offset=27)], None, None, []), [Assign([Name('f', Store(), lineno=578, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=578, col_offset=12), 'NamedTemporaryFile', Load(), lineno=578, col_offset=12), [], [], None, None, lineno=578, col_offset=12), lineno=578, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=579, col_offset=8), 'assertTrue', Load(), lineno=579, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=579, col_offset=24), 'path', Load(), lineno=579, col_offset=24), 'exists', Load(), lineno=579, col_offset=24), [Attribute(Name('f', Load(), lineno=579, col_offset=39), 'name', Load(), lineno=579, col_offset=39)], [], None, None, lineno=579, col_offset=24), BinOp(Str('NamedTemporaryFile %s does not exist', lineno=580, col_offset=24), Mod(), Attribute(Name('f', Load(), lineno=580, col_offset=65), 'name', Load(), lineno=580, col_offset=65), lineno=580, col_offset=24)], [], None, None, lineno=579, col_offset=8), lineno=579, col_offset=8)], [], lineno=576, col_offset=4), FunctionDef('test_del_on_close', arguments([Name('self', Param(), lineno=582, col_offset=26)], None, None, []), [Assign([Name('dir', Store(), lineno=584, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=584, col_offset=14), 'mkdtemp', Load(), lineno=584, col_offset=14), [], [], None, None, lineno=584, col_offset=14), lineno=584, col_offset=8), TryFinally([Assign([Name('f', Store(), lineno=586, col_offset=12)], Call(Attribute(Name('tempfile', Load(), lineno=586, col_offset=16), 'NamedTemporaryFile', Load(), lineno=586, col_offset=16), [], [keyword('dir', Name('dir', Load(), lineno=586, col_offset=48))], None, None, lineno=586, col_offset=16), lineno=586, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=587, col_offset=12), 'write', Load(), lineno=587, col_offset=12), [Str('blat', lineno=587, col_offset=20)], [], None, None, lineno=587, col_offset=12), lineno=587, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=588, col_offset=12), 'close', Load(), lineno=588, col_offset=12), [], [], None, None, lineno=588, col_offset=12), lineno=588, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=589, col_offset=12), 'assertFalse', Load(), lineno=589, col_offset=12), [Call(Attribute(Attribute(Name('os', Load(), lineno=589, col_offset=29), 'path', Load(), lineno=589, col_offset=29), 'exists', Load(), lineno=589, col_offset=29), [Attribute(Name('f', Load(), lineno=589, col_offset=44), 'name', Load(), lineno=589, col_offset=44)], [], None, None, lineno=589, col_offset=29), BinOp(Str('NamedTemporaryFile %s exists after close', lineno=590, col_offset=24), Mod(), Attribute(Name('f', Load(), lineno=590, col_offset=69), 'name', Load(), lineno=590, col_offset=69), lineno=590, col_offset=24)], [], None, None, lineno=589, col_offset=12), lineno=589, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=592, col_offset=12), 'rmdir', Load(), lineno=592, col_offset=12), [Name('dir', Load(), lineno=592, col_offset=21)], [], None, None, lineno=592, col_offset=12), lineno=592, col_offset=12)], lineno=585, col_offset=8)], [], lineno=582, col_offset=4), FunctionDef('test_dis_del_on_close', arguments([Name('self', Param(), lineno=594, col_offset=30)], None, None, []), [Assign([Name('dir', Store(), lineno=596, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=596, col_offset=14), 'mkdtemp', Load(), lineno=596, col_offset=14), [], [], None, None, lineno=596, col_offset=14), lineno=596, col_offset=8), Assign([Name('tmp', Store(), lineno=597, col_offset=8)], Name('None', Load(), lineno=597, col_offset=14), lineno=597, col_offset=8), TryFinally([Assign([Name('f', Store(), lineno=599, col_offset=12)], Call(Attribute(Name('tempfile', Load(), lineno=599, col_offset=16), 'NamedTemporaryFile', Load(), lineno=599, col_offset=16), [], [keyword('dir', Name('dir', Load(), lineno=599, col_offset=48)), keyword('delete', Name('False', Load(), lineno=599, col_offset=60))], None, None, lineno=599, col_offset=16), lineno=599, col_offset=12), Assign([Name('tmp', Store(), lineno=600, col_offset=12)], Attribute(Name('f', Load(), lineno=600, col_offset=18), 'name', Load(), lineno=600, col_offset=18), lineno=600, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=601, col_offset=12), 'write', Load(), lineno=601, col_offset=12), [Str('blat', lineno=601, col_offset=20)], [], None, None, lineno=601, col_offset=12), lineno=601, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=602, col_offset=12), 'close', Load(), lineno=602, col_offset=12), [], [], None, None, lineno=602, col_offset=12), lineno=602, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=603, col_offset=12), 'assertTrue', Load(), lineno=603, col_offset=12), [Call(Attribute(Attribute(Name('os', Load(), lineno=603, col_offset=28), 'path', Load(), lineno=603, col_offset=28), 'exists', Load(), lineno=603, col_offset=28), [Attribute(Name('f', Load(), lineno=603, col_offset=43), 'name', Load(), lineno=603, col_offset=43)], [], None, None, lineno=603, col_offset=28), BinOp(Str('NamedTemporaryFile %s missing after close', lineno=604, col_offset=24), Mod(), Attribute(Name('f', Load(), lineno=604, col_offset=70), 'name', Load(), lineno=604, col_offset=70), lineno=604, col_offset=24)], [], None, None, lineno=603, col_offset=12), lineno=603, col_offset=12)], [If(Compare(Name('tmp', Load(), lineno=606, col_offset=15), [IsNot()], [Name('None', Load(), lineno=606, col_offset=26)], lineno=606, col_offset=15), [Expr(Call(Attribute(Name('os', Load(), lineno=607, col_offset=16), 'unlink', Load(), lineno=607, col_offset=16), [Name('tmp', Load(), lineno=607, col_offset=26)], [], None, None, lineno=607, col_offset=16), lineno=607, col_offset=16)], [], lineno=606, col_offset=12), Expr(Call(Attribute(Name('os', Load(), lineno=608, col_offset=12), 'rmdir', Load(), lineno=608, col_offset=12), [Name('dir', Load(), lineno=608, col_offset=21)], [], None, None, lineno=608, col_offset=12), lineno=608, col_offset=12)], lineno=598, col_offset=8)], [], lineno=594, col_offset=4), FunctionDef('test_multiple_close', arguments([Name('self', Param(), lineno=610, col_offset=28)], None, None, []), [Assign([Name('f', Store(), lineno=612, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=612, col_offset=12), 'NamedTemporaryFile', Load(), lineno=612, col_offset=12), [], [], None, None, lineno=612, col_offset=12), lineno=612, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=613, col_offset=8), 'write', Load(), lineno=613, col_offset=8), [Str('abc\n', lineno=613, col_offset=16)], [], None, None, lineno=613, col_offset=8), lineno=613, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=614, col_offset=8), 'close', Load(), lineno=614, col_offset=8), [], [], None, None, lineno=614, col_offset=8), lineno=614, col_offset=8), TryExcept([Expr(Call(Attribute(Name('f', Load(), lineno=616, col_offset=12), 'close', Load(), lineno=616, col_offset=12), [], [], None, None, lineno=616, col_offset=12), lineno=616, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=617, col_offset=12), 'close', Load(), lineno=617, col_offset=12), [], [], None, None, lineno=617, col_offset=12), lineno=617, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('self', Load(), lineno=619, col_offset=12), 'failOnException', Load(), lineno=619, col_offset=12), [Str('close', lineno=619, col_offset=33)], [], None, None, lineno=619, col_offset=12), lineno=619, col_offset=12)], lineno=618, col_offset=8)], [], lineno=615, col_offset=8)], [], lineno=610, col_offset=4), FunctionDef('test_context_manager', arguments([Name('self', Param(), lineno=621, col_offset=29)], None, None, []), [With(Call(Attribute(Name('tempfile', Load(), lineno=623, col_offset=13), 'NamedTemporaryFile', Load(), lineno=623, col_offset=13), [], [], None, None, lineno=623, col_offset=13), Name('f', Store(), lineno=623, col_offset=46), [Expr(Call(Attribute(Name('self', Load(), lineno=624, col_offset=12), 'assertTrue', Load(), lineno=624, col_offset=12), [Call(Attribute(Attribute(Name('os', Load(), lineno=624, col_offset=28), 'path', Load(), lineno=624, col_offset=28), 'exists', Load(), lineno=624, col_offset=28), [Attribute(Name('f', Load(), lineno=624, col_offset=43), 'name', Load(), lineno=624, col_offset=43)], [], None, None, lineno=624, col_offset=28)], [], None, None, lineno=624, col_offset=12), lineno=624, col_offset=12)], lineno=623, col_offset=13), Expr(Call(Attribute(Name('self', Load(), lineno=625, col_offset=8), 'assertFalse', Load(), lineno=625, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=625, col_offset=25), 'path', Load(), lineno=625, col_offset=25), 'exists', Load(), lineno=625, col_offset=25), [Attribute(Name('f', Load(), lineno=625, col_offset=40), 'name', Load(), lineno=625, col_offset=40)], [], None, None, lineno=625, col_offset=25)], [], None, None, lineno=625, col_offset=8), lineno=625, col_offset=8), FunctionDef('use_closed', arguments([], None, None, []), [With(Name('f', Load(), lineno=627, col_offset=17), None, [Pass( lineno=628, col_offset=16)], lineno=627, col_offset=17)], [], lineno=626, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=629, col_offset=8), 'assertRaises', Load(), lineno=629, col_offset=8), [Name('ValueError', Load(), lineno=629, col_offset=26), Name('use_closed', Load(), lineno=629, col_offset=38)], [], None, None, lineno=629, col_offset=8), lineno=629, col_offset=8)], [], lineno=621, col_offset=4)], [], lineno=552, col_offset=0), Expr(Call(Attribute(Name('test_classes', Load(), lineno=633, col_offset=0), 'append', Load(), lineno=633, col_offset=0), [Name('test_NamedTemporaryFile', Load(), lineno=633, col_offset=20)], [], None, None, lineno=633, col_offset=0), lineno=633, col_offset=0), ClassDef('test_SpooledTemporaryFile', [Name('TC', Load(), lineno=635, col_offset=32)], [Expr(Str('Test SpooledTemporaryFile().', lineno=636, col_offset=4), lineno=636, col_offset=4), FunctionDef('do_create', arguments([Name('self', Param(), lineno=638, col_offset=18), Name('max_size', Param(), lineno=638, col_offset=24), Name('dir', Param(), lineno=638, col_offset=36), Name('pre', Param(), lineno=638, col_offset=46), Name('suf', Param(), lineno=638, col_offset=54)], None, None, [Num(0, lineno=638, col_offset=33), Name('None', Load(), lineno=638, col_offset=40), Str('', lineno=638, col_offset=50), Str('', lineno=638, col_offset=58)]), [If(Compare(Name('dir', Load(), lineno=639, col_offset=11), [Is()], [Name('None', Load(), lineno=639, col_offset=18)], lineno=639, col_offset=11), [Assign([Name('dir', Store(), lineno=640, col_offset=12)], Call(Attribute(Name('tempfile', Load(), lineno=640, col_offset=18), 'gettempdir', Load(), lineno=640, col_offset=18), [], [], None, None, lineno=640, col_offset=18), lineno=640, col_offset=12)], [], lineno=639, col_offset=8), TryExcept([Assign([Name('file', Store(), lineno=642, col_offset=12)], Call(Attribute(Name('tempfile', Load(), lineno=642, col_offset=19), 'SpooledTemporaryFile', Load(), lineno=642, col_offset=19), [], [keyword('max_size', Name('max_size', Load(), lineno=642, col_offset=58)), keyword('dir', Name('dir', Load(), lineno=642, col_offset=72)), keyword('prefix', Name('pre', Load(), lineno=642, col_offset=84)), keyword('suffix', Name('suf', Load(), lineno=642, col_offset=96))], None, None, lineno=642, col_offset=19), lineno=642, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('self', Load(), lineno=644, col_offset=12), 'failOnException', Load(), lineno=644, col_offset=12), [Str('SpooledTemporaryFile', lineno=644, col_offset=33)], [], None, None, lineno=644, col_offset=12), lineno=644, col_offset=12)], lineno=643, col_offset=8)], [], lineno=641, col_offset=8), Return(Name('file', Load(), lineno=646, col_offset=15), lineno=646, col_offset=8)], [], lineno=638, col_offset=4), FunctionDef('test_basic', arguments([Name('self', Param(), lineno=649, col_offset=19)], None, None, []), [Assign([Name('f', Store(), lineno=651, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=651, col_offset=12), 'do_create', Load(), lineno=651, col_offset=12), [], [], None, None, lineno=651, col_offset=12), lineno=651, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=652, col_offset=8), 'assertFalse', Load(), lineno=652, col_offset=8), [Attribute(Name('f', Load(), lineno=652, col_offset=25), '_rolled', Load(), lineno=652, col_offset=25)], [], None, None, lineno=652, col_offset=8), lineno=652, col_offset=8), Assign([Name('f', Store(), lineno=653, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=653, col_offset=12), 'do_create', Load(), lineno=653, col_offset=12), [], [keyword('max_size', Num(100, lineno=653, col_offset=36)), keyword('pre', Str('a', lineno=653, col_offset=45)), keyword('suf', Str('.txt', lineno=653, col_offset=54))], None, None, lineno=653, col_offset=12), lineno=653, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=654, col_offset=8), 'assertFalse', Load(), lineno=654, col_offset=8), [Attribute(Name('f', Load(), lineno=654, col_offset=25), '_rolled', Load(), lineno=654, col_offset=25)], [], None, None, lineno=654, col_offset=8), lineno=654, col_offset=8)], [], lineno=649, col_offset=4), FunctionDef('test_del_on_close', arguments([Name('self', Param(), lineno=656, col_offset=26)], None, None, []), [Assign([Name('dir', Store(), lineno=658, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=658, col_offset=14), 'mkdtemp', Load(), lineno=658, col_offset=14), [], [], None, None, lineno=658, col_offset=14), lineno=658, col_offset=8), TryFinally([Assign([Name('f', Store(), lineno=660, col_offset=12)], Call(Attribute(Name('tempfile', Load(), lineno=660, col_offset=16), 'SpooledTemporaryFile', Load(), lineno=660, col_offset=16), [], [keyword('max_size', Num(10, lineno=660, col_offset=55)), keyword('dir', Name('dir', Load(), lineno=660, col_offset=63))], None, None, lineno=660, col_offset=16), lineno=660, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=661, col_offset=12), 'assertFalse', Load(), lineno=661, col_offset=12), [Attribute(Name('f', Load(), lineno=661, col_offset=29), '_rolled', Load(), lineno=661, col_offset=29)], [], None, None, lineno=661, col_offset=12), lineno=661, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=662, col_offset=12), 'write', Load(), lineno=662, col_offset=12), [BinOp(Str('blat ', lineno=662, col_offset=20), Mult(), Num(5, lineno=662, col_offset=30), lineno=662, col_offset=20)], [], None, None, lineno=662, col_offset=12), lineno=662, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=663, col_offset=12), 'assertTrue', Load(), lineno=663, col_offset=12), [Attribute(Name('f', Load(), lineno=663, col_offset=28), '_rolled', Load(), lineno=663, col_offset=28)], [], None, None, lineno=663, col_offset=12), lineno=663, col_offset=12), Assign([Name('filename', Store(), lineno=664, col_offset=12)], Attribute(Name('f', Load(), lineno=664, col_offset=23), 'name', Load(), lineno=664, col_offset=23), lineno=664, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=665, col_offset=12), 'close', Load(), lineno=665, col_offset=12), [], [], None, None, lineno=665, col_offset=12), lineno=665, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=666, col_offset=12), 'assertFalse', Load(), lineno=666, col_offset=12), [Call(Attribute(Attribute(Name('os', Load(), lineno=666, col_offset=29), 'path', Load(), lineno=666, col_offset=29), 'exists', Load(), lineno=666, col_offset=29), [Name('filename', Load(), lineno=666, col_offset=44)], [], None, None, lineno=666, col_offset=29), BinOp(Str('SpooledTemporaryFile %s exists after close', lineno=667, col_offset=24), Mod(), Name('filename', Load(), lineno=667, col_offset=71), lineno=667, col_offset=24)], [], None, None, lineno=666, col_offset=12), lineno=666, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=669, col_offset=12), 'rmdir', Load(), lineno=669, col_offset=12), [Name('dir', Load(), lineno=669, col_offset=21)], [], None, None, lineno=669, col_offset=12), lineno=669, col_offset=12)], lineno=659, col_offset=8)], [], lineno=656, col_offset=4), FunctionDef('test_rewrite_small', arguments([Name('self', Param(), lineno=671, col_offset=27)], None, None, []), [Assign([Name('f', Store(), lineno=673, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=673, col_offset=12), 'do_create', Load(), lineno=673, col_offset=12), [], [keyword('max_size', Num(30, lineno=673, col_offset=36))], None, None, lineno=673, col_offset=12), lineno=673, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=674, col_offset=8), 'assertFalse', Load(), lineno=674, col_offset=8), [Attribute(Name('f', Load(), lineno=674, col_offset=25), '_rolled', Load(), lineno=674, col_offset=25)], [], None, None, lineno=674, col_offset=8), lineno=674, col_offset=8), For(Name('i', Store(), lineno=675, col_offset=12), Call(Name('range', Load(), lineno=675, col_offset=17), [Num(5, lineno=675, col_offset=23)], [], None, None, lineno=675, col_offset=17), [Expr(Call(Attribute(Name('f', Load(), lineno=676, col_offset=12), 'seek', Load(), lineno=676, col_offset=12), [Num(0, lineno=676, col_offset=19), Num(0, lineno=676, col_offset=22)], [], None, None, lineno=676, col_offset=12), lineno=676, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=677, col_offset=12), 'write', Load(), lineno=677, col_offset=12), [BinOp(Str('x', lineno=677, col_offset=20), Mult(), Num(20, lineno=677, col_offset=26), lineno=677, col_offset=20)], [], None, None, lineno=677, col_offset=12), lineno=677, col_offset=12)], [], lineno=675, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=678, col_offset=8), 'assertFalse', Load(), lineno=678, col_offset=8), [Attribute(Name('f', Load(), lineno=678, col_offset=25), '_rolled', Load(), lineno=678, col_offset=25)], [], None, None, lineno=678, col_offset=8), lineno=678, col_offset=8)], [], lineno=671, col_offset=4), FunctionDef('test_write_sequential', arguments([Name('self', Param(), lineno=680, col_offset=30)], None, None, []), [Assign([Name('f', Store(), lineno=683, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=683, col_offset=12), 'do_create', Load(), lineno=683, col_offset=12), [], [keyword('max_size', Num(30, lineno=683, col_offset=36))], None, None, lineno=683, col_offset=12), lineno=683, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=684, col_offset=8), 'assertFalse', Load(), lineno=684, col_offset=8), [Attribute(Name('f', Load(), lineno=684, col_offset=25), '_rolled', Load(), lineno=684, col_offset=25)], [], None, None, lineno=684, col_offset=8), lineno=684, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=685, col_offset=8), 'write', Load(), lineno=685, col_offset=8), [BinOp(Str('x', lineno=685, col_offset=16), Mult(), Num(20, lineno=685, col_offset=22), lineno=685, col_offset=16)], [], None, None, lineno=685, col_offset=8), lineno=685, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=686, col_offset=8), 'assertFalse', Load(), lineno=686, col_offset=8), [Attribute(Name('f', Load(), lineno=686, col_offset=25), '_rolled', Load(), lineno=686, col_offset=25)], [], None, None, lineno=686, col_offset=8), lineno=686, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=687, col_offset=8), 'write', Load(), lineno=687, col_offset=8), [BinOp(Str('x', lineno=687, col_offset=16), Mult(), Num(10, lineno=687, col_offset=22), lineno=687, col_offset=16)], [], None, None, lineno=687, col_offset=8), lineno=687, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=688, col_offset=8), 'assertFalse', Load(), lineno=688, col_offset=8), [Attribute(Name('f', Load(), lineno=688, col_offset=25), '_rolled', Load(), lineno=688, col_offset=25)], [], None, None, lineno=688, col_offset=8), lineno=688, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=689, col_offset=8), 'write', Load(), lineno=689, col_offset=8), [Str('x', lineno=689, col_offset=16)], [], None, None, lineno=689, col_offset=8), lineno=689, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=690, col_offset=8), 'assertTrue', Load(), lineno=690, col_offset=8), [Attribute(Name('f', Load(), lineno=690, col_offset=24), '_rolled', Load(), lineno=690, col_offset=24)], [], None, None, lineno=690, col_offset=8), lineno=690, col_offset=8)], [], lineno=680, col_offset=4), FunctionDef('test_sparse', arguments([Name('self', Param(), lineno=692, col_offset=20)], None, None, []), [Assign([Name('f', Store(), lineno=695, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=695, col_offset=12), 'do_create', Load(), lineno=695, col_offset=12), [], [keyword('max_size', Num(30, lineno=695, col_offset=36))], None, None, lineno=695, col_offset=12), lineno=695, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=696, col_offset=8), 'assertFalse', Load(), lineno=696, col_offset=8), [Attribute(Name('f', Load(), lineno=696, col_offset=25), '_rolled', Load(), lineno=696, col_offset=25)], [], None, None, lineno=696, col_offset=8), lineno=696, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=697, col_offset=8), 'seek', Load(), lineno=697, col_offset=8), [Num(100, lineno=697, col_offset=15), Num(0, lineno=697, col_offset=20)], [], None, None, lineno=697, col_offset=8), lineno=697, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=698, col_offset=8), 'assertFalse', Load(), lineno=698, col_offset=8), [Attribute(Name('f', Load(), lineno=698, col_offset=25), '_rolled', Load(), lineno=698, col_offset=25)], [], None, None, lineno=698, col_offset=8), lineno=698, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=699, col_offset=8), 'write', Load(), lineno=699, col_offset=8), [Str('x', lineno=699, col_offset=16)], [], None, None, lineno=699, col_offset=8), lineno=699, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=700, col_offset=8), 'assertTrue', Load(), lineno=700, col_offset=8), [Attribute(Name('f', Load(), lineno=700, col_offset=24), '_rolled', Load(), lineno=700, col_offset=24)], [], None, None, lineno=700, col_offset=8), lineno=700, col_offset=8)], [], lineno=692, col_offset=4), FunctionDef('test_fileno', arguments([Name('self', Param(), lineno=702, col_offset=20)], None, None, []), [Assign([Name('f', Store(), lineno=704, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=704, col_offset=12), 'do_create', Load(), lineno=704, col_offset=12), [], [keyword('max_size', Num(30, lineno=704, col_offset=36))], None, None, lineno=704, col_offset=12), lineno=704, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=705, col_offset=8), 'assertFalse', Load(), lineno=705, col_offset=8), [Attribute(Name('f', Load(), lineno=705, col_offset=25), '_rolled', Load(), lineno=705, col_offset=25)], [], None, None, lineno=705, col_offset=8), lineno=705, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=706, col_offset=8), 'assertTrue', Load(), lineno=706, col_offset=8), [Compare(Call(Attribute(Name('f', Load(), lineno=706, col_offset=24), 'fileno', Load(), lineno=706, col_offset=24), [], [], None, None, lineno=706, col_offset=24), [Gt()], [Num(0, lineno=706, col_offset=37)], lineno=706, col_offset=24)], [], None, None, lineno=706, col_offset=8), lineno=706, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=707, col_offset=8), 'assertTrue', Load(), lineno=707, col_offset=8), [Attribute(Name('f', Load(), lineno=707, col_offset=24), '_rolled', Load(), lineno=707, col_offset=24)], [], None, None, lineno=707, col_offset=8), lineno=707, col_offset=8)], [], lineno=702, col_offset=4), FunctionDef('test_multiple_close_before_rollover', arguments([Name('self', Param(), lineno=709, col_offset=44)], None, None, []), [Assign([Name('f', Store(), lineno=711, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=711, col_offset=12), 'SpooledTemporaryFile', Load(), lineno=711, col_offset=12), [], [], None, None, lineno=711, col_offset=12), lineno=711, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=712, col_offset=8), 'write', Load(), lineno=712, col_offset=8), [Str('abc\n', lineno=712, col_offset=16)], [], None, None, lineno=712, col_offset=8), lineno=712, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=713, col_offset=8), 'assertFalse', Load(), lineno=713, col_offset=8), [Attribute(Name('f', Load(), lineno=713, col_offset=25), '_rolled', Load(), lineno=713, col_offset=25)], [], None, None, lineno=713, col_offset=8), lineno=713, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=714, col_offset=8), 'close', Load(), lineno=714, col_offset=8), [], [], None, None, lineno=714, col_offset=8), lineno=714, col_offset=8), TryExcept([Expr(Call(Attribute(Name('f', Load(), lineno=716, col_offset=12), 'close', Load(), lineno=716, col_offset=12), [], [], None, None, lineno=716, col_offset=12), lineno=716, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=717, col_offset=12), 'close', Load(), lineno=717, col_offset=12), [], [], None, None, lineno=717, col_offset=12), lineno=717, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('self', Load(), lineno=719, col_offset=12), 'failOnException', Load(), lineno=719, col_offset=12), [Str('close', lineno=719, col_offset=33)], [], None, None, lineno=719, col_offset=12), lineno=719, col_offset=12)], lineno=718, col_offset=8)], [], lineno=715, col_offset=8)], [], lineno=709, col_offset=4), FunctionDef('test_multiple_close_after_rollover', arguments([Name('self', Param(), lineno=721, col_offset=43)], None, None, []), [Assign([Name('f', Store(), lineno=723, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=723, col_offset=12), 'SpooledTemporaryFile', Load(), lineno=723, col_offset=12), [], [keyword('max_size', Num(1, lineno=723, col_offset=51))], None, None, lineno=723, col_offset=12), lineno=723, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=724, col_offset=8), 'write', Load(), lineno=724, col_offset=8), [Str('abc\n', lineno=724, col_offset=16)], [], None, None, lineno=724, col_offset=8), lineno=724, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=725, col_offset=8), 'assertTrue', Load(), lineno=725, col_offset=8), [Attribute(Name('f', Load(), lineno=725, col_offset=24), '_rolled', Load(), lineno=725, col_offset=24)], [], None, None, lineno=725, col_offset=8), lineno=725, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=726, col_offset=8), 'close', Load(), lineno=726, col_offset=8), [], [], None, None, lineno=726, col_offset=8), lineno=726, col_offset=8), TryExcept([Expr(Call(Attribute(Name('f', Load(), lineno=728, col_offset=12), 'close', Load(), lineno=728, col_offset=12), [], [], None, None, lineno=728, col_offset=12), lineno=728, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=729, col_offset=12), 'close', Load(), lineno=729, col_offset=12), [], [], None, None, lineno=729, col_offset=12), lineno=729, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('self', Load(), lineno=731, col_offset=12), 'failOnException', Load(), lineno=731, col_offset=12), [Str('close', lineno=731, col_offset=33)], [], None, None, lineno=731, col_offset=12), lineno=731, col_offset=12)], lineno=730, col_offset=8)], [], lineno=727, col_offset=8)], [], lineno=721, col_offset=4), FunctionDef('test_bound_methods', arguments([Name('self', Param(), lineno=733, col_offset=27)], None, None, []), [Assign([Name('f', Store(), lineno=737, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=737, col_offset=12), 'do_create', Load(), lineno=737, col_offset=12), [], [keyword('max_size', Num(30, lineno=737, col_offset=36))], None, None, lineno=737, col_offset=12), lineno=737, col_offset=8), Assign([Name('read', Store(), lineno=738, col_offset=8)], Attribute(Name('f', Load(), lineno=738, col_offset=15), 'read', Load(), lineno=738, col_offset=15), lineno=738, col_offset=8), Assign([Name('write', Store(), lineno=739, col_offset=8)], Attribute(Name('f', Load(), lineno=739, col_offset=16), 'write', Load(), lineno=739, col_offset=16), lineno=739, col_offset=8), Assign([Name('seek', Store(), lineno=740, col_offset=8)], Attribute(Name('f', Load(), lineno=740, col_offset=15), 'seek', Load(), lineno=740, col_offset=15), lineno=740, col_offset=8), Expr(Call(Name('write', Load(), lineno=742, col_offset=8), [BinOp(Str('a', lineno=742, col_offset=14), Mult(), Num(35, lineno=742, col_offset=20), lineno=742, col_offset=14)], [], None, None, lineno=742, col_offset=8), lineno=742, col_offset=8), Expr(Call(Name('write', Load(), lineno=743, col_offset=8), [BinOp(Str('b', lineno=743, col_offset=14), Mult(), Num(35, lineno=743, col_offset=20), lineno=743, col_offset=14)], [], None, None, lineno=743, col_offset=8), lineno=743, col_offset=8), Expr(Call(Name('seek', Load(), lineno=744, col_offset=8), [Num(0, lineno=744, col_offset=13), Num(0, lineno=744, col_offset=16)], [], None, None, lineno=744, col_offset=8), lineno=744, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=745, col_offset=8), 'assertTrue', Load(), lineno=745, col_offset=8), [Compare(Call(Name('read', Load(), lineno=745, col_offset=24), [Num(70, lineno=745, col_offset=29)], [], None, None, lineno=745, col_offset=24), [Eq()], [BinOp(BinOp(Str('a', lineno=745, col_offset=36), Mult(), Num(35, lineno=745, col_offset=40), lineno=745, col_offset=36), Add(), BinOp(Str('b', lineno=745, col_offset=45), Mult(), Num(35, lineno=745, col_offset=49), lineno=745, col_offset=45), lineno=745, col_offset=36)], lineno=745, col_offset=24)], [], None, None, lineno=745, col_offset=8), lineno=745, col_offset=8)], [], lineno=733, col_offset=4), FunctionDef('test_context_manager_before_rollover', arguments([Name('self', Param(), lineno=747, col_offset=45)], None, None, []), [With(Call(Attribute(Name('tempfile', Load(), lineno=749, col_offset=13), 'SpooledTemporaryFile', Load(), lineno=749, col_offset=13), [], [keyword('max_size', Num(1, lineno=749, col_offset=52))], None, None, lineno=749, col_offset=13), Name('f', Store(), lineno=749, col_offset=58), [Expr(Call(Attribute(Name('self', Load(), lineno=750, col_offset=12), 'assertFalse', Load(), lineno=750, col_offset=12), [Attribute(Name('f', Load(), lineno=750, col_offset=29), '_rolled', Load(), lineno=750, col_offset=29)], [], None, None, lineno=750, col_offset=12), lineno=750, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=751, col_offset=12), 'assertFalse', Load(), lineno=751, col_offset=12), [Attribute(Name('f', Load(), lineno=751, col_offset=29), 'closed', Load(), lineno=751, col_offset=29)], [], None, None, lineno=751, col_offset=12), lineno=751, col_offset=12)], lineno=749, col_offset=13), Expr(Call(Attribute(Name('self', Load(), lineno=752, col_offset=8), 'assertTrue', Load(), lineno=752, col_offset=8), [Attribute(Name('f', Load(), lineno=752, col_offset=24), 'closed', Load(), lineno=752, col_offset=24)], [], None, None, lineno=752, col_offset=8), lineno=752, col_offset=8), FunctionDef('use_closed', arguments([], None, None, []), [With(Name('f', Load(), lineno=754, col_offset=17), None, [Pass( lineno=755, col_offset=16)], lineno=754, col_offset=17)], [], lineno=753, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=756, col_offset=8), 'assertRaises', Load(), lineno=756, col_offset=8), [Name('ValueError', Load(), lineno=756, col_offset=26), Name('use_closed', Load(), lineno=756, col_offset=38)], [], None, None, lineno=756, col_offset=8), lineno=756, col_offset=8)], [], lineno=747, col_offset=4), FunctionDef('test_context_manager_during_rollover', arguments([Name('self', Param(), lineno=758, col_offset=45)], None, None, []), [With(Call(Attribute(Name('tempfile', Load(), lineno=760, col_offset=13), 'SpooledTemporaryFile', Load(), lineno=760, col_offset=13), [], [keyword('max_size', Num(1, lineno=760, col_offset=52))], None, None, lineno=760, col_offset=13), Name('f', Store(), lineno=760, col_offset=58), [Expr(Call(Attribute(Name('self', Load(), lineno=761, col_offset=12), 'assertFalse', Load(), lineno=761, col_offset=12), [Attribute(Name('f', Load(), lineno=761, col_offset=29), '_rolled', Load(), lineno=761, col_offset=29)], [], None, None, lineno=761, col_offset=12), lineno=761, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=762, col_offset=12), 'write', Load(), lineno=762, col_offset=12), [Str('abc\n', lineno=762, col_offset=20)], [], None, None, lineno=762, col_offset=12), lineno=762, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=763, col_offset=12), 'flush', Load(), lineno=763, col_offset=12), [], [], None, None, lineno=763, col_offset=12), lineno=763, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=764, col_offset=12), 'assertTrue', Load(), lineno=764, col_offset=12), [Attribute(Name('f', Load(), lineno=764, col_offset=28), '_rolled', Load(), lineno=764, col_offset=28)], [], None, None, lineno=764, col_offset=12), lineno=764, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=765, col_offset=12), 'assertFalse', Load(), lineno=765, col_offset=12), [Attribute(Name('f', Load(), lineno=765, col_offset=29), 'closed', Load(), lineno=765, col_offset=29)], [], None, None, lineno=765, col_offset=12), lineno=765, col_offset=12)], lineno=760, col_offset=13), Expr(Call(Attribute(Name('self', Load(), lineno=766, col_offset=8), 'assertTrue', Load(), lineno=766, col_offset=8), [Attribute(Name('f', Load(), lineno=766, col_offset=24), 'closed', Load(), lineno=766, col_offset=24)], [], None, None, lineno=766, col_offset=8), lineno=766, col_offset=8), FunctionDef('use_closed', arguments([], None, None, []), [With(Name('f', Load(), lineno=768, col_offset=17), None, [Pass( lineno=769, col_offset=16)], lineno=768, col_offset=17)], [], lineno=767, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=770, col_offset=8), 'assertRaises', Load(), lineno=770, col_offset=8), [Name('ValueError', Load(), lineno=770, col_offset=26), Name('use_closed', Load(), lineno=770, col_offset=38)], [], None, None, lineno=770, col_offset=8), lineno=770, col_offset=8)], [], lineno=758, col_offset=4), FunctionDef('test_context_manager_after_rollover', arguments([Name('self', Param(), lineno=772, col_offset=44)], None, None, []), [Assign([Name('f', Store(), lineno=774, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=774, col_offset=12), 'SpooledTemporaryFile', Load(), lineno=774, col_offset=12), [], [keyword('max_size', Num(1, lineno=774, col_offset=51))], None, None, lineno=774, col_offset=12), lineno=774, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=775, col_offset=8), 'write', Load(), lineno=775, col_offset=8), [Str('abc\n', lineno=775, col_offset=16)], [], None, None, lineno=775, col_offset=8), lineno=775, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=776, col_offset=8), 'flush', Load(), lineno=776, col_offset=8), [], [], None, None, lineno=776, col_offset=8), lineno=776, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=777, col_offset=8), 'assertTrue', Load(), lineno=777, col_offset=8), [Attribute(Name('f', Load(), lineno=777, col_offset=24), '_rolled', Load(), lineno=777, col_offset=24)], [], None, None, lineno=777, col_offset=8), lineno=777, col_offset=8), With(Name('f', Load(), lineno=778, col_offset=13), None, [Expr(Call(Attribute(Name('self', Load(), lineno=779, col_offset=12), 'assertFalse', Load(), lineno=779, col_offset=12), [Attribute(Name('f', Load(), lineno=779, col_offset=29), 'closed', Load(), lineno=779, col_offset=29)], [], None, None, lineno=779, col_offset=12), lineno=779, col_offset=12)], lineno=778, col_offset=13), Expr(Call(Attribute(Name('self', Load(), lineno=780, col_offset=8), 'assertTrue', Load(), lineno=780, col_offset=8), [Attribute(Name('f', Load(), lineno=780, col_offset=24), 'closed', Load(), lineno=780, col_offset=24)], [], None, None, lineno=780, col_offset=8), lineno=780, col_offset=8), FunctionDef('use_closed', arguments([], None, None, []), [With(Name('f', Load(), lineno=782, col_offset=17), None, [Pass( lineno=783, col_offset=16)], lineno=782, col_offset=17)], [], lineno=781, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=784, col_offset=8), 'assertRaises', Load(), lineno=784, col_offset=8), [Name('ValueError', Load(), lineno=784, col_offset=26), Name('use_closed', Load(), lineno=784, col_offset=38)], [], None, None, lineno=784, col_offset=8), lineno=784, col_offset=8)], [], lineno=772, col_offset=4)], [], lineno=635, col_offset=0), Expr(Call(Attribute(Name('test_classes', Load(), lineno=787, col_offset=0), 'append', Load(), lineno=787, col_offset=0), [Name('test_SpooledTemporaryFile', Load(), lineno=787, col_offset=20)], [], None, None, lineno=787, col_offset=0), lineno=787, col_offset=0), ClassDef('test_TemporaryFile', [Name('TC', Load(), lineno=790, col_offset=25)], [Expr(Str('Test TemporaryFile().', lineno=791, col_offset=4), lineno=791, col_offset=4), FunctionDef('test_basic', arguments([Name('self', Param(), lineno=793, col_offset=19)], None, None, []), [TryExcept([Expr(Call(Attribute(Name('tempfile', Load(), lineno=797, col_offset=12), 'TemporaryFile', Load(), lineno=797, col_offset=12), [], [], None, None, lineno=797, col_offset=12), lineno=797, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('self', Load(), lineno=799, col_offset=12), 'failOnException', Load(), lineno=799, col_offset=12), [Str('TemporaryFile', lineno=799, col_offset=33)], [], None, None, lineno=799, col_offset=12), lineno=799, col_offset=12)], lineno=798, col_offset=8)], [], lineno=796, col_offset=8)], [], lineno=793, col_offset=4), FunctionDef('test_has_no_name', arguments([Name('self', Param(), lineno=801, col_offset=25)], None, None, []), [Assign([Name('dir', Store(), lineno=803, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=803, col_offset=14), 'mkdtemp', Load(), lineno=803, col_offset=14), [], [], None, None, lineno=803, col_offset=14), lineno=803, col_offset=8), Assign([Name('f', Store(), lineno=804, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=804, col_offset=12), 'TemporaryFile', Load(), lineno=804, col_offset=12), [], [keyword('dir', Name('dir', Load(), lineno=804, col_offset=39))], None, None, lineno=804, col_offset=12), lineno=804, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=805, col_offset=8), 'write', Load(), lineno=805, col_offset=8), [Str('blat', lineno=805, col_offset=16)], [], None, None, lineno=805, col_offset=8), lineno=805, col_offset=8), TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=810, col_offset=12), 'rmdir', Load(), lineno=810, col_offset=12), [Name('dir', Load(), lineno=810, col_offset=21)], [], None, None, lineno=810, col_offset=12), lineno=810, col_offset=12)], [ExceptHandler(None, None, [Assign([Name('ei', Store(), lineno=812, col_offset=12)], Call(Attribute(Name('sys', Load(), lineno=812, col_offset=17), 'exc_info', Load(), lineno=812, col_offset=17), [], [], None, None, lineno=812, col_offset=17), lineno=812, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=814, col_offset=12), 'close', Load(), lineno=814, col_offset=12), [], [], None, None, lineno=814, col_offset=12), lineno=814, col_offset=12), Expr(Call(Attribute(Name('os', Load(), lineno=815, col_offset=12), 'rmdir', Load(), lineno=815, col_offset=12), [Name('dir', Load(), lineno=815, col_offset=21)], [], None, None, lineno=815, col_offset=12), lineno=815, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=816, col_offset=12), 'failOnException', Load(), lineno=816, col_offset=12), [Str('rmdir', lineno=816, col_offset=33), Name('ei', Load(), lineno=816, col_offset=42)], [], None, None, lineno=816, col_offset=12), lineno=816, col_offset=12)], lineno=811, col_offset=8)], [], lineno=809, col_offset=8)], [], lineno=801, col_offset=4), FunctionDef('test_multiple_close', arguments([Name('self', Param(), lineno=818, col_offset=28)], None, None, []), [Assign([Name('f', Store(), lineno=820, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=820, col_offset=12), 'TemporaryFile', Load(), lineno=820, col_offset=12), [], [], None, None, lineno=820, col_offset=12), lineno=820, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=821, col_offset=8), 'write', Load(), lineno=821, col_offset=8), [Str('abc\n', lineno=821, col_offset=16)], [], None, None, lineno=821, col_offset=8), lineno=821, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=822, col_offset=8), 'close', Load(), lineno=822, col_offset=8), [], [], None, None, lineno=822, col_offset=8), lineno=822, col_offset=8), TryExcept([Expr(Call(Attribute(Name('f', Load(), lineno=824, col_offset=12), 'close', Load(), lineno=824, col_offset=12), [], [], None, None, lineno=824, col_offset=12), lineno=824, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=825, col_offset=12), 'close', Load(), lineno=825, col_offset=12), [], [], None, None, lineno=825, col_offset=12), lineno=825, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('self', Load(), lineno=827, col_offset=12), 'failOnException', Load(), lineno=827, col_offset=12), [Str('close', lineno=827, col_offset=33)], [], None, None, lineno=827, col_offset=12), lineno=827, col_offset=12)], lineno=826, col_offset=8)], [], lineno=823, col_offset=8)], [], lineno=818, col_offset=4)], [], lineno=790, col_offset=0), If(Compare(Attribute(Name('tempfile', Load(), lineno=832, col_offset=3), 'NamedTemporaryFile', Load(), lineno=832, col_offset=3), [IsNot()], [Attribute(Name('tempfile', Load(), lineno=832, col_offset=38), 'TemporaryFile', Load(), lineno=832, col_offset=38)], lineno=832, col_offset=3), [Expr(Call(Attribute(Name('test_classes', Load(), lineno=833, col_offset=4), 'append', Load(), lineno=833, col_offset=4), [Name('test_TemporaryFile', Load(), lineno=833, col_offset=24)], [], None, None, lineno=833, col_offset=4), lineno=833, col_offset=4)], [], lineno=832, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Attribute(Name('test_support', Load(), lineno=836, col_offset=4), 'run_unittest', Load(), lineno=836, col_offset=4), [], [], Name('test_classes', Load(), lineno=836, col_offset=31), None, lineno=836, col_offset=4), lineno=836, col_offset=4)], [], lineno=835, col_offset=0), If(Compare(Name('__name__', Load(), lineno=838, col_offset=3), [Eq()], [Str('__main__', lineno=838, col_offset=15)], lineno=838, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=839, col_offset=4), [], [], None, None, lineno=839, col_offset=4), lineno=839, col_offset=4)], [], lineno=838, col_offset=0)])
