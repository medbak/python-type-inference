Module([Import([alias('os', None)], lineno=9, col_offset=0), Import([alias('sys', None)], lineno=10, col_offset=0), Import([alias('re', None)], lineno=11, col_offset=0), Assign([Name('pat', Store(), lineno=13, col_offset=0)], Str('^([^: \t\n]+):([1-9][0-9]*):', lineno=13, col_offset=6), lineno=13, col_offset=0), Assign([Name('prog', Store(), lineno=14, col_offset=0)], Call(Attribute(Name('re', Load(), lineno=14, col_offset=7), 'compile', Load(), lineno=14, col_offset=7), [Name('pat', Load(), lineno=14, col_offset=18)], [], None, None, lineno=14, col_offset=7), lineno=14, col_offset=0), ClassDef('FileObj', [], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=17, col_offset=17), Name('filename', Param(), lineno=17, col_offset=23)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=18, col_offset=8), 'filename', Store(), lineno=18, col_offset=8)], Name('filename', Load(), lineno=18, col_offset=24), lineno=18, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=19, col_offset=8), 'changed', Store(), lineno=19, col_offset=8)], Num(0, lineno=19, col_offset=23), lineno=19, col_offset=8), TryExcept([Assign([Attribute(Name('self', Load(), lineno=21, col_offset=12), 'lines', Store(), lineno=21, col_offset=12)], Call(Attribute(Call(Name('open', Load(), lineno=21, col_offset=25), [Name('filename', Load(), lineno=21, col_offset=30), Str('r', lineno=21, col_offset=40)], [], None, None, lineno=21, col_offset=25), 'readlines', Load(), lineno=21, col_offset=25), [], [], None, None, lineno=21, col_offset=25), lineno=21, col_offset=12)], [ExceptHandler(Name('IOError', Load(), lineno=22, col_offset=15), Name('msg', Store(), lineno=22, col_offset=24), [Print(None, [BinOp(Str('*** Can\'t open "%s":', lineno=23, col_offset=18), Mod(), Name('filename', Load(), lineno=23, col_offset=44), lineno=23, col_offset=18), Name('msg', Load(), lineno=23, col_offset=54)], True, lineno=23, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=24, col_offset=12), 'lines', Store(), lineno=24, col_offset=12)], Name('None', Load(), lineno=24, col_offset=25), lineno=24, col_offset=12), Return(None, lineno=25, col_offset=12)], lineno=22, col_offset=8)], [], lineno=20, col_offset=8), Print(None, [Str('diffing', lineno=26, col_offset=14), Attribute(Name('self', Load(), lineno=26, col_offset=25), 'filename', Load(), lineno=26, col_offset=25)], True, lineno=26, col_offset=8)], [], lineno=17, col_offset=4), FunctionDef('finish', arguments([Name('self', Param(), lineno=28, col_offset=15)], None, None, []), [If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=29, col_offset=15), 'changed', Load(), lineno=29, col_offset=15), lineno=29, col_offset=11), [Print(None, [Str('no changes to', lineno=30, col_offset=18), Attribute(Name('self', Load(), lineno=30, col_offset=35), 'filename', Load(), lineno=30, col_offset=35)], True, lineno=30, col_offset=12), Return(None, lineno=31, col_offset=12)], [], lineno=29, col_offset=8), TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=33, col_offset=12), 'rename', Load(), lineno=33, col_offset=12), [Attribute(Name('self', Load(), lineno=33, col_offset=22), 'filename', Load(), lineno=33, col_offset=22), BinOp(Attribute(Name('self', Load(), lineno=33, col_offset=37), 'filename', Load(), lineno=33, col_offset=37), Add(), Str('~', lineno=33, col_offset=53), lineno=33, col_offset=37)], [], None, None, lineno=33, col_offset=12), lineno=33, col_offset=12), Assign([Name('fp', Store(), lineno=34, col_offset=12)], Call(Name('open', Load(), lineno=34, col_offset=17), [Attribute(Name('self', Load(), lineno=34, col_offset=22), 'filename', Load(), lineno=34, col_offset=22), Str('w', lineno=34, col_offset=37)], [], None, None, lineno=34, col_offset=17), lineno=34, col_offset=12)], [ExceptHandler(Tuple([Attribute(Name('os', Load(), lineno=35, col_offset=16), 'error', Load(), lineno=35, col_offset=16), Name('IOError', Load(), lineno=35, col_offset=26)], Load(), lineno=35, col_offset=16), Name('msg', Store(), lineno=35, col_offset=36), [Print(None, [BinOp(Str('*** Can\'t rewrite "%s":', lineno=36, col_offset=18), Mod(), Attribute(Name('self', Load(), lineno=36, col_offset=47), 'filename', Load(), lineno=36, col_offset=47), lineno=36, col_offset=18), Name('msg', Load(), lineno=36, col_offset=62)], True, lineno=36, col_offset=12), Return(None, lineno=37, col_offset=12)], lineno=35, col_offset=8)], [], lineno=32, col_offset=8), Print(None, [Str('writing', lineno=38, col_offset=14), Attribute(Name('self', Load(), lineno=38, col_offset=25), 'filename', Load(), lineno=38, col_offset=25)], True, lineno=38, col_offset=8), For(Name('line', Store(), lineno=39, col_offset=12), Attribute(Name('self', Load(), lineno=39, col_offset=20), 'lines', Load(), lineno=39, col_offset=20), [Expr(Call(Attribute(Name('fp', Load(), lineno=40, col_offset=12), 'write', Load(), lineno=40, col_offset=12), [Name('line', Load(), lineno=40, col_offset=21)], [], None, None, lineno=40, col_offset=12), lineno=40, col_offset=12)], [], lineno=39, col_offset=8), Expr(Call(Attribute(Name('fp', Load(), lineno=41, col_offset=8), 'close', Load(), lineno=41, col_offset=8), [], [], None, None, lineno=41, col_offset=8), lineno=41, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=42, col_offset=8), 'changed', Store(), lineno=42, col_offset=8)], Num(0, lineno=42, col_offset=23), lineno=42, col_offset=8)], [], lineno=28, col_offset=4), FunctionDef('process', arguments([Name('self', Param(), lineno=44, col_offset=16), Name('lineno', Param(), lineno=44, col_offset=22), Name('rest', Param(), lineno=44, col_offset=30)], None, None, []), [If(Compare(Attribute(Name('self', Load(), lineno=45, col_offset=11), 'lines', Load(), lineno=45, col_offset=11), [Is()], [Name('None', Load(), lineno=45, col_offset=25)], lineno=45, col_offset=11), [Print(None, [BinOp(Str('(not processed): %s:%s:%s', lineno=46, col_offset=18), Mod(), Tuple([Attribute(Name('self', Load(), lineno=47, col_offset=22), 'filename', Load(), lineno=47, col_offset=22), Name('lineno', Load(), lineno=47, col_offset=37), Name('rest', Load(), lineno=47, col_offset=45)], Load(), lineno=47, col_offset=22), lineno=46, col_offset=18)], False, lineno=46, col_offset=12), Return(None, lineno=48, col_offset=12)], [], lineno=45, col_offset=8), Assign([Name('i', Store(), lineno=49, col_offset=8)], BinOp(Call(Name('eval', Load(), lineno=49, col_offset=12), [Name('lineno', Load(), lineno=49, col_offset=17)], [], None, None, lineno=49, col_offset=12), Sub(), Num(1, lineno=49, col_offset=27), lineno=49, col_offset=12), lineno=49, col_offset=8), If(UnaryOp(Not(), Compare(Num(0, lineno=50, col_offset=15), [LtE(), Lt()], [Name('i', Load(), lineno=50, col_offset=20), Call(Name('len', Load(), lineno=50, col_offset=24), [Attribute(Name('self', Load(), lineno=50, col_offset=28), 'lines', Load(), lineno=50, col_offset=28)], [], None, None, lineno=50, col_offset=24)], lineno=50, col_offset=15), lineno=50, col_offset=11), [Print(None, [BinOp(Str('*** Line number out of range: %s:%s:%s', lineno=51, col_offset=18), Mod(), Tuple([Attribute(Name('self', Load(), lineno=52, col_offset=22), 'filename', Load(), lineno=52, col_offset=22), Name('lineno', Load(), lineno=52, col_offset=37), Name('rest', Load(), lineno=52, col_offset=45)], Load(), lineno=52, col_offset=22), lineno=51, col_offset=18)], False, lineno=51, col_offset=12), Return(None, lineno=53, col_offset=12)], [], lineno=50, col_offset=8), If(Compare(Subscript(Attribute(Name('self', Load(), lineno=54, col_offset=11), 'lines', Load(), lineno=54, col_offset=11), Index(Name('i', Load(), lineno=54, col_offset=22)), Load(), lineno=54, col_offset=11), [Eq()], [Name('rest', Load(), lineno=54, col_offset=28)], lineno=54, col_offset=11), [Print(None, [BinOp(Str('(no change): %s:%s:%s', lineno=55, col_offset=18), Mod(), Tuple([Attribute(Name('self', Load(), lineno=56, col_offset=22), 'filename', Load(), lineno=56, col_offset=22), Name('lineno', Load(), lineno=56, col_offset=37), Name('rest', Load(), lineno=56, col_offset=45)], Load(), lineno=56, col_offset=22), lineno=55, col_offset=18)], False, lineno=55, col_offset=12), Return(None, lineno=57, col_offset=12)], [], lineno=54, col_offset=8), If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=58, col_offset=15), 'changed', Load(), lineno=58, col_offset=15), lineno=58, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=59, col_offset=12), 'changed', Store(), lineno=59, col_offset=12)], Num(1, lineno=59, col_offset=27), lineno=59, col_offset=12)], [], lineno=58, col_offset=8), Print(None, [BinOp(Str('%sc%s', lineno=60, col_offset=14), Mod(), Tuple([Name('lineno', Load(), lineno=60, col_offset=25), Name('lineno', Load(), lineno=60, col_offset=33)], Load(), lineno=60, col_offset=25), lineno=60, col_offset=14)], True, lineno=60, col_offset=8), Print(None, [Str('<', lineno=61, col_offset=14), Subscript(Attribute(Name('self', Load(), lineno=61, col_offset=19), 'lines', Load(), lineno=61, col_offset=19), Index(Name('i', Load(), lineno=61, col_offset=30)), Load(), lineno=61, col_offset=19)], False, lineno=61, col_offset=8), Print(None, [Str('---', lineno=62, col_offset=14)], True, lineno=62, col_offset=8), Assign([Subscript(Attribute(Name('self', Load(), lineno=63, col_offset=8), 'lines', Load(), lineno=63, col_offset=8), Index(Name('i', Load(), lineno=63, col_offset=19)), Store(), lineno=63, col_offset=8)], Name('rest', Load(), lineno=63, col_offset=24), lineno=63, col_offset=8), Print(None, [Str('>', lineno=64, col_offset=14), Subscript(Attribute(Name('self', Load(), lineno=64, col_offset=19), 'lines', Load(), lineno=64, col_offset=19), Index(Name('i', Load(), lineno=64, col_offset=30)), Load(), lineno=64, col_offset=19)], False, lineno=64, col_offset=8)], [], lineno=44, col_offset=4)], [], lineno=16, col_offset=0), FunctionDef('main', arguments([], None, None, []), [If(Subscript(Attribute(Name('sys', Load(), lineno=67, col_offset=7), 'argv', Load(), lineno=67, col_offset=7), Slice(Num(1, lineno=67, col_offset=16), None, None), Load(), lineno=67, col_offset=7), [TryExcept([Assign([Name('fp', Store(), lineno=69, col_offset=12)], Call(Name('open', Load(), lineno=69, col_offset=17), [Subscript(Attribute(Name('sys', Load(), lineno=69, col_offset=22), 'argv', Load(), lineno=69, col_offset=22), Index(Num(1, lineno=69, col_offset=31)), Load(), lineno=69, col_offset=22), Str('r', lineno=69, col_offset=35)], [], None, None, lineno=69, col_offset=17), lineno=69, col_offset=12)], [ExceptHandler(Name('IOError', Load(), lineno=70, col_offset=15), Name('msg', Store(), lineno=70, col_offset=24), [Print(None, [BinOp(Str('Can\'t open "%s":', lineno=71, col_offset=18), Mod(), Subscript(Attribute(Name('sys', Load(), lineno=71, col_offset=40), 'argv', Load(), lineno=71, col_offset=40), Index(Num(1, lineno=71, col_offset=49)), Load(), lineno=71, col_offset=40), lineno=71, col_offset=18), Name('msg', Load(), lineno=71, col_offset=53)], True, lineno=71, col_offset=12), Expr(Call(Attribute(Name('sys', Load(), lineno=72, col_offset=12), 'exit', Load(), lineno=72, col_offset=12), [Num(1, lineno=72, col_offset=21)], [], None, None, lineno=72, col_offset=12), lineno=72, col_offset=12)], lineno=70, col_offset=8)], [], lineno=68, col_offset=8)], [Assign([Name('fp', Store(), lineno=74, col_offset=8)], Attribute(Name('sys', Load(), lineno=74, col_offset=13), 'stdin', Load(), lineno=74, col_offset=13), lineno=74, col_offset=8)], lineno=67, col_offset=4), Assign([Name('curfile', Store(), lineno=75, col_offset=4)], Name('None', Load(), lineno=75, col_offset=14), lineno=75, col_offset=4), While(Num(1, lineno=76, col_offset=10), [Assign([Name('line', Store(), lineno=77, col_offset=8)], Call(Attribute(Name('fp', Load(), lineno=77, col_offset=15), 'readline', Load(), lineno=77, col_offset=15), [], [], None, None, lineno=77, col_offset=15), lineno=77, col_offset=8), If(UnaryOp(Not(), Name('line', Load(), lineno=78, col_offset=15), lineno=78, col_offset=11), [If(Name('curfile', Load(), lineno=79, col_offset=15), [Expr(Call(Attribute(Name('curfile', Load(), lineno=79, col_offset=24), 'finish', Load(), lineno=79, col_offset=24), [], [], None, None, lineno=79, col_offset=24), lineno=79, col_offset=24)], [], lineno=79, col_offset=12), Break( lineno=80, col_offset=12)], [], lineno=78, col_offset=8), Assign([Name('n', Store(), lineno=81, col_offset=8)], Call(Attribute(Name('prog', Load(), lineno=81, col_offset=12), 'match', Load(), lineno=81, col_offset=12), [Name('line', Load(), lineno=81, col_offset=23)], [], None, None, lineno=81, col_offset=12), lineno=81, col_offset=8), If(Compare(Name('n', Load(), lineno=82, col_offset=11), [Lt()], [Num(0, lineno=82, col_offset=15)], lineno=82, col_offset=11), [Print(None, [Str('Funny line:', lineno=83, col_offset=18), Name('line', Load(), lineno=83, col_offset=33)], False, lineno=83, col_offset=12), Continue( lineno=84, col_offset=12)], [], lineno=82, col_offset=8), Assign([Tuple([Name('filename', Store(), lineno=85, col_offset=8), Name('lineno', Store(), lineno=85, col_offset=18)], Store(), lineno=85, col_offset=8)], Call(Attribute(Name('prog', Load(), lineno=85, col_offset=27), 'group', Load(), lineno=85, col_offset=27), [Num(1, lineno=85, col_offset=38), Num(2, lineno=85, col_offset=41)], [], None, None, lineno=85, col_offset=27), lineno=85, col_offset=8), If(BoolOp(Or(), [UnaryOp(Not(), Name('curfile', Load(), lineno=86, col_offset=15), lineno=86, col_offset=11), Compare(Name('filename', Load(), lineno=86, col_offset=26), [NotEq()], [Attribute(Name('curfile', Load(), lineno=86, col_offset=38), 'filename', Load(), lineno=86, col_offset=38)], lineno=86, col_offset=26)], lineno=86, col_offset=11), [If(Name('curfile', Load(), lineno=87, col_offset=15), [Expr(Call(Attribute(Name('curfile', Load(), lineno=87, col_offset=24), 'finish', Load(), lineno=87, col_offset=24), [], [], None, None, lineno=87, col_offset=24), lineno=87, col_offset=24)], [], lineno=87, col_offset=12), Assign([Name('curfile', Store(), lineno=88, col_offset=12)], Call(Name('FileObj', Load(), lineno=88, col_offset=22), [Name('filename', Load(), lineno=88, col_offset=30)], [], None, None, lineno=88, col_offset=22), lineno=88, col_offset=12)], [], lineno=86, col_offset=8), Expr(Call(Attribute(Name('curfile', Load(), lineno=89, col_offset=8), 'process', Load(), lineno=89, col_offset=8), [Name('lineno', Load(), lineno=89, col_offset=24), Subscript(Name('line', Load(), lineno=89, col_offset=32), Slice(Name('n', Load(), lineno=89, col_offset=37), None, None), Load(), lineno=89, col_offset=32)], [], None, None, lineno=89, col_offset=8), lineno=89, col_offset=8)], [], lineno=76, col_offset=4)], [], lineno=66, col_offset=0), If(Compare(Name('__name__', Load(), lineno=91, col_offset=3), [Eq()], [Str('__main__', lineno=91, col_offset=15)], lineno=91, col_offset=3), [Expr(Call(Name('main', Load(), lineno=92, col_offset=4), [], [], None, None, lineno=92, col_offset=4), lineno=92, col_offset=4)], [], lineno=91, col_offset=0)])
