Module([Expr(Str('Routines to help recognizing sound files.\n\nFunction whathdr() recognizes various types of sound file headers.\nIt understands almost all headers that SOX can decode.\n\nThe return tuple contains the following items, in this order:\n- file type (as SOX understands it)\n- sampling rate (0 if unknown or hard to decode)\n- number of channels (0 if unknown or hard to decode)\n- number of frames in the file (-1 if unknown or hard to decode)\n- number of bits/sample, or \'U\' for U-LAW, or \'A\' for A-LAW\n\nIf the file doesn\'t have a recognizable type, it returns None.\nIf the file can\'t be opened, IOError is raised.\n\nTo compute the total time, divide the number of frames by the\nsampling rate (a frame contains a sample for each channel).\n\nFunction what() calls whathdr().  (It used to also use some\nheuristics for raw data, but this doesn\'t work very well.)\n\nFinally, the function test() is a simple main program that calls\nwhat() for all files mentioned on the argument list.  For directory\narguments it calls what() for all files in that directory.  Default\nargument is "." (testing all files in the current directory).  The\noption -r tells it to recurse down directories found inside\nexplicitly given directories.\n', lineno=28, col_offset=-1), lineno=28, col_offset=-1), Assign([Name('__all__', Store(), lineno=33, col_offset=0)], List([Str('what', lineno=33, col_offset=11), Str('whathdr', lineno=33, col_offset=18)], Load(), lineno=33, col_offset=10), lineno=33, col_offset=0), FunctionDef('what', arguments([Name('filename', Param(), lineno=35, col_offset=9)], None, None, []), [Expr(Str('Guess the type of a sound file', lineno=36, col_offset=4), lineno=36, col_offset=4), Assign([Name('res', Store(), lineno=37, col_offset=4)], Call(Name('whathdr', Load(), lineno=37, col_offset=10), [Name('filename', Load(), lineno=37, col_offset=18)], [], None, None, lineno=37, col_offset=10), lineno=37, col_offset=4), Return(Name('res', Load(), lineno=38, col_offset=11), lineno=38, col_offset=4)], [], lineno=35, col_offset=0), FunctionDef('whathdr', arguments([Name('filename', Param(), lineno=41, col_offset=12)], None, None, []), [Expr(Str('Recognize sound headers', lineno=42, col_offset=4), lineno=42, col_offset=4), Assign([Name('f', Store(), lineno=43, col_offset=4)], Call(Name('open', Load(), lineno=43, col_offset=8), [Name('filename', Load(), lineno=43, col_offset=13), Str('rb', lineno=43, col_offset=23)], [], None, None, lineno=43, col_offset=8), lineno=43, col_offset=4), Assign([Name('h', Store(), lineno=44, col_offset=4)], Call(Attribute(Name('f', Load(), lineno=44, col_offset=8), 'read', Load(), lineno=44, col_offset=8), [Num(512, lineno=44, col_offset=15)], [], None, None, lineno=44, col_offset=8), lineno=44, col_offset=4), For(Name('tf', Store(), lineno=45, col_offset=8), Name('tests', Load(), lineno=45, col_offset=14), [Assign([Name('res', Store(), lineno=46, col_offset=8)], Call(Name('tf', Load(), lineno=46, col_offset=14), [Name('h', Load(), lineno=46, col_offset=17), Name('f', Load(), lineno=46, col_offset=20)], [], None, None, lineno=46, col_offset=14), lineno=46, col_offset=8), If(Name('res', Load(), lineno=47, col_offset=11), [Return(Name('res', Load(), lineno=48, col_offset=19), lineno=48, col_offset=12)], [], lineno=47, col_offset=8)], [], lineno=45, col_offset=4), Return(Name('None', Load(), lineno=49, col_offset=11), lineno=49, col_offset=4)], [], lineno=41, col_offset=0), Assign([Name('tests', Store(), lineno=56, col_offset=0)], List([], Load(), lineno=56, col_offset=8), lineno=56, col_offset=0), FunctionDef('test_aifc', arguments([Name('h', Param(), lineno=58, col_offset=14), Name('f', Param(), lineno=58, col_offset=17)], None, None, []), [Import([alias('aifc', None)], lineno=59, col_offset=4), If(Compare(Subscript(Name('h', Load(), lineno=60, col_offset=7), Slice(None, Num(4, lineno=60, col_offset=10), None), Load(), lineno=60, col_offset=7), [NotEq()], [Str('FORM', lineno=60, col_offset=16)], lineno=60, col_offset=7), [Return(Name('None', Load(), lineno=61, col_offset=15), lineno=61, col_offset=8)], [], lineno=60, col_offset=4), If(Compare(Subscript(Name('h', Load(), lineno=62, col_offset=7), Slice(Num(8, lineno=62, col_offset=9), Num(12, lineno=62, col_offset=11), None), Load(), lineno=62, col_offset=7), [Eq()], [Str('AIFC', lineno=62, col_offset=18)], lineno=62, col_offset=7), [Assign([Name('fmt', Store(), lineno=63, col_offset=8)], Str('aifc', lineno=63, col_offset=14), lineno=63, col_offset=8)], [If(Compare(Subscript(Name('h', Load(), lineno=64, col_offset=9), Slice(Num(8, lineno=64, col_offset=11), Num(12, lineno=64, col_offset=13), None), Load(), lineno=64, col_offset=9), [Eq()], [Str('AIFF', lineno=64, col_offset=20)], lineno=64, col_offset=9), [Assign([Name('fmt', Store(), lineno=65, col_offset=8)], Str('aiff', lineno=65, col_offset=14), lineno=65, col_offset=8)], [Return(Name('None', Load(), lineno=67, col_offset=15), lineno=67, col_offset=8)], lineno=64, col_offset=9)], lineno=62, col_offset=4), Expr(Call(Attribute(Name('f', Load(), lineno=68, col_offset=4), 'seek', Load(), lineno=68, col_offset=4), [Num(0, lineno=68, col_offset=11)], [], None, None, lineno=68, col_offset=4), lineno=68, col_offset=4), TryExcept([Assign([Name('a', Store(), lineno=70, col_offset=8)], Call(Attribute(Name('aifc', Load(), lineno=70, col_offset=12), 'openfp', Load(), lineno=70, col_offset=12), [Name('f', Load(), lineno=70, col_offset=24), Str('r', lineno=70, col_offset=27)], [], None, None, lineno=70, col_offset=12), lineno=70, col_offset=8)], [ExceptHandler(Tuple([Name('EOFError', Load(), lineno=71, col_offset=12), Attribute(Name('aifc', Load(), lineno=71, col_offset=22), 'Error', Load(), lineno=71, col_offset=22)], Load(), lineno=71, col_offset=12), None, [Return(Name('None', Load(), lineno=72, col_offset=15), lineno=72, col_offset=8)], lineno=71, col_offset=4)], [], lineno=69, col_offset=4), Return(Tuple([Name('fmt', Load(), lineno=73, col_offset=12), Call(Attribute(Name('a', Load(), lineno=73, col_offset=17), 'getframerate', Load(), lineno=73, col_offset=17), [], [], None, None, lineno=73, col_offset=17), Call(Attribute(Name('a', Load(), lineno=73, col_offset=35), 'getnchannels', Load(), lineno=73, col_offset=35), [], [], None, None, lineno=73, col_offset=35), Call(Attribute(Name('a', Load(), lineno=74, col_offset=12), 'getnframes', Load(), lineno=74, col_offset=12), [], [], None, None, lineno=74, col_offset=12), BinOp(Num(8, lineno=74, col_offset=28), Mult(), Call(Attribute(Name('a', Load(), lineno=74, col_offset=30), 'getsampwidth', Load(), lineno=74, col_offset=30), [], [], None, None, lineno=74, col_offset=30), lineno=74, col_offset=28)], Load(), lineno=73, col_offset=12), lineno=73, col_offset=4)], [], lineno=58, col_offset=0), Expr(Call(Attribute(Name('tests', Load(), lineno=76, col_offset=0), 'append', Load(), lineno=76, col_offset=0), [Name('test_aifc', Load(), lineno=76, col_offset=13)], [], None, None, lineno=76, col_offset=0), lineno=76, col_offset=0), FunctionDef('test_au', arguments([Name('h', Param(), lineno=79, col_offset=12), Name('f', Param(), lineno=79, col_offset=15)], None, None, []), [If(Compare(Subscript(Name('h', Load(), lineno=80, col_offset=7), Slice(None, Num(4, lineno=80, col_offset=10), None), Load(), lineno=80, col_offset=7), [Eq()], [Str('.snd', lineno=80, col_offset=16)], lineno=80, col_offset=7), [Assign([Name('f', Store(), lineno=81, col_offset=8)], Name('get_long_be', Load(), lineno=81, col_offset=12), lineno=81, col_offset=8)], [If(Compare(Subscript(Name('h', Load(), lineno=82, col_offset=9), Slice(None, Num(4, lineno=82, col_offset=12), None), Load(), lineno=82, col_offset=9), [In()], [Tuple([Str('\x00ds.', lineno=82, col_offset=19), Str('dns.', lineno=82, col_offset=28)], Load(), lineno=82, col_offset=19)], lineno=82, col_offset=9), [Assign([Name('f', Store(), lineno=83, col_offset=8)], Name('get_long_le', Load(), lineno=83, col_offset=12), lineno=83, col_offset=8)], [Return(Name('None', Load(), lineno=85, col_offset=15), lineno=85, col_offset=8)], lineno=82, col_offset=9)], lineno=80, col_offset=4), Assign([Name('type', Store(), lineno=86, col_offset=4)], Str('au', lineno=86, col_offset=11), lineno=86, col_offset=4), Assign([Name('hdr_size', Store(), lineno=87, col_offset=4)], Call(Name('f', Load(), lineno=87, col_offset=15), [Subscript(Name('h', Load(), lineno=87, col_offset=17), Slice(Num(4, lineno=87, col_offset=19), Num(8, lineno=87, col_offset=21), None), Load(), lineno=87, col_offset=17)], [], None, None, lineno=87, col_offset=15), lineno=87, col_offset=4), Assign([Name('data_size', Store(), lineno=88, col_offset=4)], Call(Name('f', Load(), lineno=88, col_offset=16), [Subscript(Name('h', Load(), lineno=88, col_offset=18), Slice(Num(8, lineno=88, col_offset=20), Num(12, lineno=88, col_offset=22), None), Load(), lineno=88, col_offset=18)], [], None, None, lineno=88, col_offset=16), lineno=88, col_offset=4), Assign([Name('encoding', Store(), lineno=89, col_offset=4)], Call(Name('f', Load(), lineno=89, col_offset=15), [Subscript(Name('h', Load(), lineno=89, col_offset=17), Slice(Num(12, lineno=89, col_offset=19), Num(16, lineno=89, col_offset=22), None), Load(), lineno=89, col_offset=17)], [], None, None, lineno=89, col_offset=15), lineno=89, col_offset=4), Assign([Name('rate', Store(), lineno=90, col_offset=4)], Call(Name('f', Load(), lineno=90, col_offset=11), [Subscript(Name('h', Load(), lineno=90, col_offset=13), Slice(Num(16, lineno=90, col_offset=15), Num(20, lineno=90, col_offset=18), None), Load(), lineno=90, col_offset=13)], [], None, None, lineno=90, col_offset=11), lineno=90, col_offset=4), Assign([Name('nchannels', Store(), lineno=91, col_offset=4)], Call(Name('f', Load(), lineno=91, col_offset=16), [Subscript(Name('h', Load(), lineno=91, col_offset=18), Slice(Num(20, lineno=91, col_offset=20), Num(24, lineno=91, col_offset=23), None), Load(), lineno=91, col_offset=18)], [], None, None, lineno=91, col_offset=16), lineno=91, col_offset=4), Assign([Name('sample_size', Store(), lineno=92, col_offset=4)], Num(1, lineno=92, col_offset=18), lineno=92, col_offset=4), If(Compare(Name('encoding', Load(), lineno=93, col_offset=7), [Eq()], [Num(1, lineno=93, col_offset=19)], lineno=93, col_offset=7), [Assign([Name('sample_bits', Store(), lineno=94, col_offset=8)], Str('U', lineno=94, col_offset=22), lineno=94, col_offset=8)], [If(Compare(Name('encoding', Load(), lineno=95, col_offset=9), [Eq()], [Num(2, lineno=95, col_offset=21)], lineno=95, col_offset=9), [Assign([Name('sample_bits', Store(), lineno=96, col_offset=8)], Num(8, lineno=96, col_offset=22), lineno=96, col_offset=8)], [If(Compare(Name('encoding', Load(), lineno=97, col_offset=9), [Eq()], [Num(3, lineno=97, col_offset=21)], lineno=97, col_offset=9), [Assign([Name('sample_bits', Store(), lineno=98, col_offset=8)], Num(16, lineno=98, col_offset=22), lineno=98, col_offset=8), Assign([Name('sample_size', Store(), lineno=99, col_offset=8)], Num(2, lineno=99, col_offset=22), lineno=99, col_offset=8)], [Assign([Name('sample_bits', Store(), lineno=101, col_offset=8)], Str('?', lineno=101, col_offset=22), lineno=101, col_offset=8)], lineno=97, col_offset=9)], lineno=95, col_offset=9)], lineno=93, col_offset=4), Assign([Name('frame_size', Store(), lineno=102, col_offset=4)], BinOp(Name('sample_size', Load(), lineno=102, col_offset=17), Mult(), Name('nchannels', Load(), lineno=102, col_offset=31), lineno=102, col_offset=17), lineno=102, col_offset=4), Return(Tuple([Name('type', Load(), lineno=103, col_offset=11), Name('rate', Load(), lineno=103, col_offset=17), Name('nchannels', Load(), lineno=103, col_offset=23), BinOp(Name('data_size', Load(), lineno=103, col_offset=34), FloorDiv(), Name('frame_size', Load(), lineno=103, col_offset=45), lineno=103, col_offset=34), Name('sample_bits', Load(), lineno=103, col_offset=57)], Load(), lineno=103, col_offset=11), lineno=103, col_offset=4)], [], lineno=79, col_offset=0), Expr(Call(Attribute(Name('tests', Load(), lineno=105, col_offset=0), 'append', Load(), lineno=105, col_offset=0), [Name('test_au', Load(), lineno=105, col_offset=13)], [], None, None, lineno=105, col_offset=0), lineno=105, col_offset=0), FunctionDef('test_hcom', arguments([Name('h', Param(), lineno=108, col_offset=14), Name('f', Param(), lineno=108, col_offset=17)], None, None, []), [If(BoolOp(Or(), [Compare(Subscript(Name('h', Load(), lineno=109, col_offset=7), Slice(Num(65, lineno=109, col_offset=9), Num(69, lineno=109, col_offset=12), None), Load(), lineno=109, col_offset=7), [NotEq()], [Str('FSSD', lineno=109, col_offset=19)], lineno=109, col_offset=7), Compare(Subscript(Name('h', Load(), lineno=109, col_offset=29), Slice(Num(128, lineno=109, col_offset=31), Num(132, lineno=109, col_offset=35), None), Load(), lineno=109, col_offset=29), [NotEq()], [Str('HCOM', lineno=109, col_offset=43)], lineno=109, col_offset=29)], lineno=109, col_offset=7), [Return(Name('None', Load(), lineno=110, col_offset=15), lineno=110, col_offset=8)], [], lineno=109, col_offset=4), Assign([Name('divisor', Store(), lineno=111, col_offset=4)], Call(Name('get_long_be', Load(), lineno=111, col_offset=14), [Subscript(Name('h', Load(), lineno=111, col_offset=26), Slice(BinOp(Num(128, lineno=111, col_offset=28), Add(), Num(16, lineno=111, col_offset=32), lineno=111, col_offset=28), BinOp(Num(128, lineno=111, col_offset=35), Add(), Num(20, lineno=111, col_offset=39), lineno=111, col_offset=35), None), Load(), lineno=111, col_offset=26)], [], None, None, lineno=111, col_offset=14), lineno=111, col_offset=4), Return(Tuple([Str('hcom', lineno=112, col_offset=11), BinOp(Num(22050, lineno=112, col_offset=19), FloorDiv(), Name('divisor', Load(), lineno=112, col_offset=26), lineno=112, col_offset=19), Num(1, lineno=112, col_offset=35), Num(-1, lineno=112, col_offset=39), Num(8, lineno=112, col_offset=42)], Load(), lineno=112, col_offset=11), lineno=112, col_offset=4)], [], lineno=108, col_offset=0), Expr(Call(Attribute(Name('tests', Load(), lineno=114, col_offset=0), 'append', Load(), lineno=114, col_offset=0), [Name('test_hcom', Load(), lineno=114, col_offset=13)], [], None, None, lineno=114, col_offset=0), lineno=114, col_offset=0), FunctionDef('test_voc', arguments([Name('h', Param(), lineno=117, col_offset=13), Name('f', Param(), lineno=117, col_offset=16)], None, None, []), [If(Compare(Subscript(Name('h', Load(), lineno=118, col_offset=7), Slice(None, Num(20, lineno=118, col_offset=10), None), Load(), lineno=118, col_offset=7), [NotEq()], [Str('Creative Voice File\x1a', lineno=118, col_offset=17)], lineno=118, col_offset=7), [Return(Name('None', Load(), lineno=119, col_offset=15), lineno=119, col_offset=8)], [], lineno=118, col_offset=4), Assign([Name('sbseek', Store(), lineno=120, col_offset=4)], Call(Name('get_short_le', Load(), lineno=120, col_offset=13), [Subscript(Name('h', Load(), lineno=120, col_offset=26), Slice(Num(20, lineno=120, col_offset=28), Num(22, lineno=120, col_offset=31), None), Load(), lineno=120, col_offset=26)], [], None, None, lineno=120, col_offset=13), lineno=120, col_offset=4), Assign([Name('rate', Store(), lineno=121, col_offset=4)], Num(0, lineno=121, col_offset=11), lineno=121, col_offset=4), If(BoolOp(And(), [Compare(Num(0, lineno=122, col_offset=7), [LtE(), Lt()], [Name('sbseek', Load(), lineno=122, col_offset=12), Num(500, lineno=122, col_offset=21)], lineno=122, col_offset=7), Compare(Subscript(Name('h', Load(), lineno=122, col_offset=29), Index(Name('sbseek', Load(), lineno=122, col_offset=31)), Load(), lineno=122, col_offset=29), [Eq()], [Str('\x01', lineno=122, col_offset=42)], lineno=122, col_offset=29)], lineno=122, col_offset=7), [Assign([Name('ratecode', Store(), lineno=123, col_offset=8)], Call(Name('ord', Load(), lineno=123, col_offset=19), [Subscript(Name('h', Load(), lineno=123, col_offset=23), Index(BinOp(Name('sbseek', Load(), lineno=123, col_offset=25), Add(), Num(4, lineno=123, col_offset=32), lineno=123, col_offset=25)), Load(), lineno=123, col_offset=23)], [], None, None, lineno=123, col_offset=19), lineno=123, col_offset=8), Assign([Name('rate', Store(), lineno=124, col_offset=8)], Call(Name('int', Load(), lineno=124, col_offset=15), [BinOp(Num(1000000.0, lineno=124, col_offset=19), Div(), BinOp(Num(256, lineno=124, col_offset=32), Sub(), Name('ratecode', Load(), lineno=124, col_offset=38), lineno=124, col_offset=32), lineno=124, col_offset=19)], [], None, None, lineno=124, col_offset=15), lineno=124, col_offset=8)], [], lineno=122, col_offset=4), Return(Tuple([Str('voc', lineno=125, col_offset=11), Name('rate', Load(), lineno=125, col_offset=18), Num(1, lineno=125, col_offset=24), Num(-1, lineno=125, col_offset=28), Num(8, lineno=125, col_offset=31)], Load(), lineno=125, col_offset=11), lineno=125, col_offset=4)], [], lineno=117, col_offset=0), Expr(Call(Attribute(Name('tests', Load(), lineno=127, col_offset=0), 'append', Load(), lineno=127, col_offset=0), [Name('test_voc', Load(), lineno=127, col_offset=13)], [], None, None, lineno=127, col_offset=0), lineno=127, col_offset=0), FunctionDef('test_wav', arguments([Name('h', Param(), lineno=130, col_offset=13), Name('f', Param(), lineno=130, col_offset=16)], None, None, []), [If(BoolOp(Or(), [Compare(Subscript(Name('h', Load(), lineno=132, col_offset=7), Slice(None, Num(4, lineno=132, col_offset=10), None), Load(), lineno=132, col_offset=7), [NotEq()], [Str('RIFF', lineno=132, col_offset=16)], lineno=132, col_offset=7), Compare(Subscript(Name('h', Load(), lineno=132, col_offset=26), Slice(Num(8, lineno=132, col_offset=28), Num(12, lineno=132, col_offset=30), None), Load(), lineno=132, col_offset=26), [NotEq()], [Str('WAVE', lineno=132, col_offset=37)], lineno=132, col_offset=26), Compare(Subscript(Name('h', Load(), lineno=132, col_offset=47), Slice(Num(12, lineno=132, col_offset=49), Num(16, lineno=132, col_offset=52), None), Load(), lineno=132, col_offset=47), [NotEq()], [Str('fmt ', lineno=132, col_offset=59)], lineno=132, col_offset=47)], lineno=132, col_offset=7), [Return(Name('None', Load(), lineno=133, col_offset=15), lineno=133, col_offset=8)], [], lineno=132, col_offset=4), Assign([Name('style', Store(), lineno=134, col_offset=4)], Call(Name('get_short_le', Load(), lineno=134, col_offset=12), [Subscript(Name('h', Load(), lineno=134, col_offset=25), Slice(Num(20, lineno=134, col_offset=27), Num(22, lineno=134, col_offset=30), None), Load(), lineno=134, col_offset=25)], [], None, None, lineno=134, col_offset=12), lineno=134, col_offset=4), Assign([Name('nchannels', Store(), lineno=135, col_offset=4)], Call(Name('get_short_le', Load(), lineno=135, col_offset=16), [Subscript(Name('h', Load(), lineno=135, col_offset=29), Slice(Num(22, lineno=135, col_offset=31), Num(24, lineno=135, col_offset=34), None), Load(), lineno=135, col_offset=29)], [], None, None, lineno=135, col_offset=16), lineno=135, col_offset=4), Assign([Name('rate', Store(), lineno=136, col_offset=4)], Call(Name('get_long_le', Load(), lineno=136, col_offset=11), [Subscript(Name('h', Load(), lineno=136, col_offset=23), Slice(Num(24, lineno=136, col_offset=25), Num(28, lineno=136, col_offset=28), None), Load(), lineno=136, col_offset=23)], [], None, None, lineno=136, col_offset=11), lineno=136, col_offset=4), Assign([Name('sample_bits', Store(), lineno=137, col_offset=4)], Call(Name('get_short_le', Load(), lineno=137, col_offset=18), [Subscript(Name('h', Load(), lineno=137, col_offset=31), Slice(Num(34, lineno=137, col_offset=33), Num(36, lineno=137, col_offset=36), None), Load(), lineno=137, col_offset=31)], [], None, None, lineno=137, col_offset=18), lineno=137, col_offset=4), Return(Tuple([Str('wav', lineno=138, col_offset=11), Name('rate', Load(), lineno=138, col_offset=18), Name('nchannels', Load(), lineno=138, col_offset=24), Num(-1, lineno=138, col_offset=36), Name('sample_bits', Load(), lineno=138, col_offset=39)], Load(), lineno=138, col_offset=11), lineno=138, col_offset=4)], [], lineno=130, col_offset=0), Expr(Call(Attribute(Name('tests', Load(), lineno=140, col_offset=0), 'append', Load(), lineno=140, col_offset=0), [Name('test_wav', Load(), lineno=140, col_offset=13)], [], None, None, lineno=140, col_offset=0), lineno=140, col_offset=0), FunctionDef('test_8svx', arguments([Name('h', Param(), lineno=143, col_offset=14), Name('f', Param(), lineno=143, col_offset=17)], None, None, []), [If(BoolOp(Or(), [Compare(Subscript(Name('h', Load(), lineno=144, col_offset=7), Slice(None, Num(4, lineno=144, col_offset=10), None), Load(), lineno=144, col_offset=7), [NotEq()], [Str('FORM', lineno=144, col_offset=16)], lineno=144, col_offset=7), Compare(Subscript(Name('h', Load(), lineno=144, col_offset=26), Slice(Num(8, lineno=144, col_offset=28), Num(12, lineno=144, col_offset=30), None), Load(), lineno=144, col_offset=26), [NotEq()], [Str('8SVX', lineno=144, col_offset=37)], lineno=144, col_offset=26)], lineno=144, col_offset=7), [Return(Name('None', Load(), lineno=145, col_offset=15), lineno=145, col_offset=8)], [], lineno=144, col_offset=4), Return(Tuple([Str('8svx', lineno=147, col_offset=11), Num(0, lineno=147, col_offset=19), Num(1, lineno=147, col_offset=22), Num(0, lineno=147, col_offset=25), Num(8, lineno=147, col_offset=28)], Load(), lineno=147, col_offset=11), lineno=147, col_offset=4)], [], lineno=143, col_offset=0), Expr(Call(Attribute(Name('tests', Load(), lineno=149, col_offset=0), 'append', Load(), lineno=149, col_offset=0), [Name('test_8svx', Load(), lineno=149, col_offset=13)], [], None, None, lineno=149, col_offset=0), lineno=149, col_offset=0), FunctionDef('test_sndt', arguments([Name('h', Param(), lineno=152, col_offset=14), Name('f', Param(), lineno=152, col_offset=17)], None, None, []), [If(Compare(Subscript(Name('h', Load(), lineno=153, col_offset=7), Slice(None, Num(5, lineno=153, col_offset=10), None), Load(), lineno=153, col_offset=7), [Eq()], [Str('SOUND', lineno=153, col_offset=16)], lineno=153, col_offset=7), [Assign([Name('nsamples', Store(), lineno=154, col_offset=8)], Call(Name('get_long_le', Load(), lineno=154, col_offset=19), [Subscript(Name('h', Load(), lineno=154, col_offset=31), Slice(Num(8, lineno=154, col_offset=33), Num(12, lineno=154, col_offset=35), None), Load(), lineno=154, col_offset=31)], [], None, None, lineno=154, col_offset=19), lineno=154, col_offset=8), Assign([Name('rate', Store(), lineno=155, col_offset=8)], Call(Name('get_short_le', Load(), lineno=155, col_offset=15), [Subscript(Name('h', Load(), lineno=155, col_offset=28), Slice(Num(20, lineno=155, col_offset=30), Num(22, lineno=155, col_offset=33), None), Load(), lineno=155, col_offset=28)], [], None, None, lineno=155, col_offset=15), lineno=155, col_offset=8), Return(Tuple([Str('sndt', lineno=156, col_offset=15), Name('rate', Load(), lineno=156, col_offset=23), Num(1, lineno=156, col_offset=29), Name('nsamples', Load(), lineno=156, col_offset=32), Num(8, lineno=156, col_offset=42)], Load(), lineno=156, col_offset=15), lineno=156, col_offset=8)], [], lineno=153, col_offset=4)], [], lineno=152, col_offset=0), Expr(Call(Attribute(Name('tests', Load(), lineno=158, col_offset=0), 'append', Load(), lineno=158, col_offset=0), [Name('test_sndt', Load(), lineno=158, col_offset=13)], [], None, None, lineno=158, col_offset=0), lineno=158, col_offset=0), FunctionDef('test_sndr', arguments([Name('h', Param(), lineno=161, col_offset=14), Name('f', Param(), lineno=161, col_offset=17)], None, None, []), [If(Compare(Subscript(Name('h', Load(), lineno=162, col_offset=7), Slice(None, Num(2, lineno=162, col_offset=10), None), Load(), lineno=162, col_offset=7), [Eq()], [Str('\x00\x00', lineno=162, col_offset=16)], lineno=162, col_offset=7), [Assign([Name('rate', Store(), lineno=163, col_offset=8)], Call(Name('get_short_le', Load(), lineno=163, col_offset=15), [Subscript(Name('h', Load(), lineno=163, col_offset=28), Slice(Num(2, lineno=163, col_offset=30), Num(4, lineno=163, col_offset=32), None), Load(), lineno=163, col_offset=28)], [], None, None, lineno=163, col_offset=15), lineno=163, col_offset=8), If(Compare(Num(4000, lineno=164, col_offset=11), [LtE(), LtE()], [Name('rate', Load(), lineno=164, col_offset=19), Num(25000, lineno=164, col_offset=27)], lineno=164, col_offset=11), [Return(Tuple([Str('sndr', lineno=165, col_offset=19), Name('rate', Load(), lineno=165, col_offset=27), Num(1, lineno=165, col_offset=33), Num(-1, lineno=165, col_offset=37), Num(8, lineno=165, col_offset=40)], Load(), lineno=165, col_offset=19), lineno=165, col_offset=12)], [], lineno=164, col_offset=8)], [], lineno=162, col_offset=4)], [], lineno=161, col_offset=0), Expr(Call(Attribute(Name('tests', Load(), lineno=167, col_offset=0), 'append', Load(), lineno=167, col_offset=0), [Name('test_sndr', Load(), lineno=167, col_offset=13)], [], None, None, lineno=167, col_offset=0), lineno=167, col_offset=0), FunctionDef('get_long_be', arguments([Name('s', Param(), lineno=174, col_offset=16)], None, None, []), [Return(BinOp(BinOp(BinOp(BinOp(Call(Name('ord', Load(), lineno=175, col_offset=12), [Subscript(Name('s', Load(), lineno=175, col_offset=16), Index(Num(0, lineno=175, col_offset=18)), Load(), lineno=175, col_offset=16)], [], None, None, lineno=175, col_offset=12), LShift(), Num(24, lineno=175, col_offset=23), lineno=175, col_offset=12), BitOr(), BinOp(Call(Name('ord', Load(), lineno=175, col_offset=30), [Subscript(Name('s', Load(), lineno=175, col_offset=34), Index(Num(1, lineno=175, col_offset=36)), Load(), lineno=175, col_offset=34)], [], None, None, lineno=175, col_offset=30), LShift(), Num(16, lineno=175, col_offset=41), lineno=175, col_offset=30), lineno=175, col_offset=11), BitOr(), BinOp(Call(Name('ord', Load(), lineno=175, col_offset=48), [Subscript(Name('s', Load(), lineno=175, col_offset=52), Index(Num(2, lineno=175, col_offset=54)), Load(), lineno=175, col_offset=52)], [], None, None, lineno=175, col_offset=48), LShift(), Num(8, lineno=175, col_offset=59), lineno=175, col_offset=48), lineno=175, col_offset=45), BitOr(), Call(Name('ord', Load(), lineno=175, col_offset=64), [Subscript(Name('s', Load(), lineno=175, col_offset=68), Index(Num(3, lineno=175, col_offset=70)), Load(), lineno=175, col_offset=68)], [], None, None, lineno=175, col_offset=64), lineno=175, col_offset=62), lineno=175, col_offset=4)], [], lineno=174, col_offset=0), FunctionDef('get_long_le', arguments([Name('s', Param(), lineno=177, col_offset=16)], None, None, []), [Return(BinOp(BinOp(BinOp(BinOp(Call(Name('ord', Load(), lineno=178, col_offset=12), [Subscript(Name('s', Load(), lineno=178, col_offset=16), Index(Num(3, lineno=178, col_offset=18)), Load(), lineno=178, col_offset=16)], [], None, None, lineno=178, col_offset=12), LShift(), Num(24, lineno=178, col_offset=23), lineno=178, col_offset=12), BitOr(), BinOp(Call(Name('ord', Load(), lineno=178, col_offset=30), [Subscript(Name('s', Load(), lineno=178, col_offset=34), Index(Num(2, lineno=178, col_offset=36)), Load(), lineno=178, col_offset=34)], [], None, None, lineno=178, col_offset=30), LShift(), Num(16, lineno=178, col_offset=41), lineno=178, col_offset=30), lineno=178, col_offset=11), BitOr(), BinOp(Call(Name('ord', Load(), lineno=178, col_offset=48), [Subscript(Name('s', Load(), lineno=178, col_offset=52), Index(Num(1, lineno=178, col_offset=54)), Load(), lineno=178, col_offset=52)], [], None, None, lineno=178, col_offset=48), LShift(), Num(8, lineno=178, col_offset=59), lineno=178, col_offset=48), lineno=178, col_offset=45), BitOr(), Call(Name('ord', Load(), lineno=178, col_offset=64), [Subscript(Name('s', Load(), lineno=178, col_offset=68), Index(Num(0, lineno=178, col_offset=70)), Load(), lineno=178, col_offset=68)], [], None, None, lineno=178, col_offset=64), lineno=178, col_offset=62), lineno=178, col_offset=4)], [], lineno=177, col_offset=0), FunctionDef('get_short_be', arguments([Name('s', Param(), lineno=180, col_offset=17)], None, None, []), [Return(BinOp(BinOp(Call(Name('ord', Load(), lineno=181, col_offset=12), [Subscript(Name('s', Load(), lineno=181, col_offset=16), Index(Num(0, lineno=181, col_offset=18)), Load(), lineno=181, col_offset=16)], [], None, None, lineno=181, col_offset=12), LShift(), Num(8, lineno=181, col_offset=23), lineno=181, col_offset=12), BitOr(), Call(Name('ord', Load(), lineno=181, col_offset=28), [Subscript(Name('s', Load(), lineno=181, col_offset=32), Index(Num(1, lineno=181, col_offset=34)), Load(), lineno=181, col_offset=32)], [], None, None, lineno=181, col_offset=28), lineno=181, col_offset=11), lineno=181, col_offset=4)], [], lineno=180, col_offset=0), FunctionDef('get_short_le', arguments([Name('s', Param(), lineno=183, col_offset=17)], None, None, []), [Return(BinOp(BinOp(Call(Name('ord', Load(), lineno=184, col_offset=12), [Subscript(Name('s', Load(), lineno=184, col_offset=16), Index(Num(1, lineno=184, col_offset=18)), Load(), lineno=184, col_offset=16)], [], None, None, lineno=184, col_offset=12), LShift(), Num(8, lineno=184, col_offset=23), lineno=184, col_offset=12), BitOr(), Call(Name('ord', Load(), lineno=184, col_offset=28), [Subscript(Name('s', Load(), lineno=184, col_offset=32), Index(Num(0, lineno=184, col_offset=34)), Load(), lineno=184, col_offset=32)], [], None, None, lineno=184, col_offset=28), lineno=184, col_offset=11), lineno=184, col_offset=4)], [], lineno=183, col_offset=0), FunctionDef('test', arguments([], None, None, []), [Import([alias('sys', None)], lineno=192, col_offset=4), Assign([Name('recursive', Store(), lineno=193, col_offset=4)], Num(0, lineno=193, col_offset=16), lineno=193, col_offset=4), If(BoolOp(And(), [Subscript(Attribute(Name('sys', Load(), lineno=194, col_offset=7), 'argv', Load(), lineno=194, col_offset=7), Slice(Num(1, lineno=194, col_offset=16), None, None), Load(), lineno=194, col_offset=7), Compare(Subscript(Attribute(Name('sys', Load(), lineno=194, col_offset=24), 'argv', Load(), lineno=194, col_offset=24), Index(Num(1, lineno=194, col_offset=33)), Load(), lineno=194, col_offset=24), [Eq()], [Str('-r', lineno=194, col_offset=39)], lineno=194, col_offset=24)], lineno=194, col_offset=7), [Delete([Subscript(Attribute(Name('sys', Load(), lineno=195, col_offset=12), 'argv', Load(), lineno=195, col_offset=12), Slice(Num(1, lineno=195, col_offset=21), Num(2, lineno=195, col_offset=23), None), Del(), lineno=195, col_offset=12)], lineno=195, col_offset=8), Assign([Name('recursive', Store(), lineno=196, col_offset=8)], Num(1, lineno=196, col_offset=20), lineno=196, col_offset=8)], [], lineno=194, col_offset=4), TryExcept([If(Subscript(Attribute(Name('sys', Load(), lineno=198, col_offset=11), 'argv', Load(), lineno=198, col_offset=11), Slice(Num(1, lineno=198, col_offset=20), None, None), Load(), lineno=198, col_offset=11), [Expr(Call(Name('testall', Load(), lineno=199, col_offset=12), [Subscript(Attribute(Name('sys', Load(), lineno=199, col_offset=20), 'argv', Load(), lineno=199, col_offset=20), Slice(Num(1, lineno=199, col_offset=29), None, None), Load(), lineno=199, col_offset=20), Name('recursive', Load(), lineno=199, col_offset=34), Num(1, lineno=199, col_offset=45)], [], None, None, lineno=199, col_offset=12), lineno=199, col_offset=12)], [Expr(Call(Name('testall', Load(), lineno=201, col_offset=12), [List([Str('.', lineno=201, col_offset=21)], Load(), lineno=201, col_offset=20), Name('recursive', Load(), lineno=201, col_offset=27), Num(1, lineno=201, col_offset=38)], [], None, None, lineno=201, col_offset=12), lineno=201, col_offset=12)], lineno=198, col_offset=8)], [ExceptHandler(Name('KeyboardInterrupt', Load(), lineno=202, col_offset=11), None, [Expr(Call(Attribute(Attribute(Name('sys', Load(), lineno=203, col_offset=8), 'stderr', Load(), lineno=203, col_offset=8), 'write', Load(), lineno=203, col_offset=8), [Str('\n[Interrupted]\n', lineno=203, col_offset=25)], [], None, None, lineno=203, col_offset=8), lineno=203, col_offset=8), Expr(Call(Attribute(Name('sys', Load(), lineno=204, col_offset=8), 'exit', Load(), lineno=204, col_offset=8), [Num(1, lineno=204, col_offset=17)], [], None, None, lineno=204, col_offset=8), lineno=204, col_offset=8)], lineno=202, col_offset=4)], [], lineno=197, col_offset=4)], [], lineno=191, col_offset=0), FunctionDef('testall', arguments([Name('list', Param(), lineno=206, col_offset=12), Name('recursive', Param(), lineno=206, col_offset=18), Name('toplevel', Param(), lineno=206, col_offset=29)], None, None, []), [Import([alias('sys', None)], lineno=207, col_offset=4), Import([alias('os', None)], lineno=208, col_offset=4), For(Name('filename', Store(), lineno=209, col_offset=8), Name('list', Load(), lineno=209, col_offset=20), [If(Call(Attribute(Attribute(Name('os', Load(), lineno=210, col_offset=11), 'path', Load(), lineno=210, col_offset=11), 'isdir', Load(), lineno=210, col_offset=11), [Name('filename', Load(), lineno=210, col_offset=25)], [], None, None, lineno=210, col_offset=11), [Print(None, [BinOp(Name('filename', Load(), lineno=211, col_offset=18), Add(), Str('/:', lineno=211, col_offset=29), lineno=211, col_offset=18)], False, lineno=211, col_offset=12), If(BoolOp(Or(), [Name('recursive', Load(), lineno=212, col_offset=15), Name('toplevel', Load(), lineno=212, col_offset=28)], lineno=212, col_offset=15), [Print(None, [Str('recursing down:', lineno=213, col_offset=22)], True, lineno=213, col_offset=16), Import([alias('glob', None)], lineno=214, col_offset=16), Assign([Name('names', Store(), lineno=215, col_offset=16)], Call(Attribute(Name('glob', Load(), lineno=215, col_offset=24), 'glob', Load(), lineno=215, col_offset=24), [Call(Attribute(Attribute(Name('os', Load(), lineno=215, col_offset=34), 'path', Load(), lineno=215, col_offset=34), 'join', Load(), lineno=215, col_offset=34), [Name('filename', Load(), lineno=215, col_offset=47), Str('*', lineno=215, col_offset=57)], [], None, None, lineno=215, col_offset=34)], [], None, None, lineno=215, col_offset=24), lineno=215, col_offset=16), Expr(Call(Name('testall', Load(), lineno=216, col_offset=16), [Name('names', Load(), lineno=216, col_offset=24), Name('recursive', Load(), lineno=216, col_offset=31), Num(0, lineno=216, col_offset=42)], [], None, None, lineno=216, col_offset=16), lineno=216, col_offset=16)], [Print(None, [Str('*** directory (use -r) ***', lineno=218, col_offset=22)], True, lineno=218, col_offset=16)], lineno=212, col_offset=12)], [Print(None, [BinOp(Name('filename', Load(), lineno=220, col_offset=18), Add(), Str(':', lineno=220, col_offset=29), lineno=220, col_offset=18)], False, lineno=220, col_offset=12), Expr(Call(Attribute(Attribute(Name('sys', Load(), lineno=221, col_offset=12), 'stdout', Load(), lineno=221, col_offset=12), 'flush', Load(), lineno=221, col_offset=12), [], [], None, None, lineno=221, col_offset=12), lineno=221, col_offset=12), TryExcept([Print(None, [Call(Name('what', Load(), lineno=223, col_offset=22), [Name('filename', Load(), lineno=223, col_offset=27)], [], None, None, lineno=223, col_offset=22)], True, lineno=223, col_offset=16)], [ExceptHandler(Name('IOError', Load(), lineno=224, col_offset=19), None, [Print(None, [Str('*** not found ***', lineno=225, col_offset=22)], True, lineno=225, col_offset=16)], lineno=224, col_offset=12)], [], lineno=222, col_offset=12)], lineno=210, col_offset=8)], [], lineno=209, col_offset=4)], [], lineno=206, col_offset=0), If(Compare(Name('__name__', Load(), lineno=227, col_offset=3), [Eq()], [Str('__main__', lineno=227, col_offset=15)], lineno=227, col_offset=3), [Expr(Call(Name('test', Load(), lineno=228, col_offset=4), [], [], None, None, lineno=228, col_offset=4), lineno=228, col_offset=4)], [], lineno=227, col_offset=0)])
