Module([Expr(Str('\nHyperParser\n===========\nThis module defines the HyperParser class, which provides advanced parsing\nabilities for the ParenMatch and other extensions.\nThe HyperParser uses PyParser. PyParser is intended mostly to give information\non the proper indentation of code. HyperParser gives some information on the\nstructure of code, used by extensions to help the user.\n', lineno=9, col_offset=-1), lineno=9, col_offset=-1), Import([alias('string', None)], lineno=11, col_offset=0), Import([alias('keyword', None)], lineno=12, col_offset=0), ImportFrom('idlelib', [alias('PyParse', None)], 0, lineno=13, col_offset=0), ClassDef('HyperParser', [], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=17, col_offset=17), Name('editwin', Param(), lineno=17, col_offset=23), Name('index', Param(), lineno=17, col_offset=32)], None, None, []), [Expr(Str('Initialize the HyperParser to analyze the surroundings of the given\n        index.\n        ', lineno=20, col_offset=-1), lineno=20, col_offset=-1), Assign([Attribute(Name('self', Load(), lineno=22, col_offset=8), 'editwin', Store(), lineno=22, col_offset=8)], Name('editwin', Load(), lineno=22, col_offset=23), lineno=22, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=23, col_offset=8), 'text', Store(), lineno=23, col_offset=8), Name('text', Store(), lineno=23, col_offset=20)], Attribute(Name('editwin', Load(), lineno=23, col_offset=27), 'text', Load(), lineno=23, col_offset=27), lineno=23, col_offset=8), Assign([Name('parser', Store(), lineno=25, col_offset=8)], Call(Attribute(Name('PyParse', Load(), lineno=25, col_offset=17), 'Parser', Load(), lineno=25, col_offset=17), [Attribute(Name('editwin', Load(), lineno=25, col_offset=32), 'indentwidth', Load(), lineno=25, col_offset=32), Attribute(Name('editwin', Load(), lineno=25, col_offset=53), 'tabwidth', Load(), lineno=25, col_offset=53)], [], None, None, lineno=25, col_offset=17), lineno=25, col_offset=8), FunctionDef('index2line', arguments([Name('index', Param(), lineno=27, col_offset=23)], None, None, []), [Return(Call(Name('int', Load(), lineno=28, col_offset=19), [Call(Name('float', Load(), lineno=28, col_offset=23), [Name('index', Load(), lineno=28, col_offset=29)], [], None, None, lineno=28, col_offset=23)], [], None, None, lineno=28, col_offset=19), lineno=28, col_offset=12)], [], lineno=27, col_offset=8), Assign([Name('lno', Store(), lineno=29, col_offset=8)], Call(Name('index2line', Load(), lineno=29, col_offset=14), [Call(Attribute(Name('text', Load(), lineno=29, col_offset=25), 'index', Load(), lineno=29, col_offset=25), [Name('index', Load(), lineno=29, col_offset=36)], [], None, None, lineno=29, col_offset=25)], [], None, None, lineno=29, col_offset=14), lineno=29, col_offset=8), If(UnaryOp(Not(), Attribute(Name('editwin', Load(), lineno=31, col_offset=15), 'context_use_ps1', Load(), lineno=31, col_offset=15), lineno=31, col_offset=11), [For(Name('context', Store(), lineno=32, col_offset=16), Attribute(Name('editwin', Load(), lineno=32, col_offset=27), 'num_context_lines', Load(), lineno=32, col_offset=27), [Assign([Name('startat', Store(), lineno=33, col_offset=16)], Call(Name('max', Load(), lineno=33, col_offset=26), [BinOp(Name('lno', Load(), lineno=33, col_offset=30), Sub(), Name('context', Load(), lineno=33, col_offset=36), lineno=33, col_offset=30), Num(1, lineno=33, col_offset=45)], [], None, None, lineno=33, col_offset=26), lineno=33, col_offset=16), Assign([Name('startatindex', Store(), lineno=34, col_offset=16)], BinOp(Call(Name('repr', Load(), lineno=34, col_offset=31), [Name('startat', Load(), lineno=34, col_offset=36)], [], None, None, lineno=34, col_offset=31), Add(), Str('.0', lineno=34, col_offset=47), lineno=34, col_offset=31), lineno=34, col_offset=16), Assign([Name('stopatindex', Store(), lineno=35, col_offset=16)], BinOp(Str('%d.end', lineno=35, col_offset=30), Mod(), Name('lno', Load(), lineno=35, col_offset=41), lineno=35, col_offset=30), lineno=35, col_offset=16), Expr(Call(Attribute(Name('parser', Load(), lineno=39, col_offset=16), 'set_str', Load(), lineno=39, col_offset=16), [BinOp(Call(Attribute(Name('text', Load(), lineno=39, col_offset=31), 'get', Load(), lineno=39, col_offset=31), [Name('startatindex', Load(), lineno=39, col_offset=40), Name('stopatindex', Load(), lineno=39, col_offset=54)], [], None, None, lineno=39, col_offset=31), Add(), Str(' \n', lineno=39, col_offset=67), lineno=39, col_offset=31)], [], None, None, lineno=39, col_offset=16), lineno=39, col_offset=16), Assign([Name('bod', Store(), lineno=40, col_offset=16)], Call(Attribute(Name('parser', Load(), lineno=40, col_offset=22), 'find_good_parse_start', Load(), lineno=40, col_offset=22), [Call(Attribute(Name('editwin', Load(), lineno=41, col_offset=26), '_build_char_in_string_func', Load(), lineno=41, col_offset=26), [Name('startatindex', Load(), lineno=41, col_offset=61)], [], None, None, lineno=41, col_offset=26)], [], None, None, lineno=40, col_offset=22), lineno=40, col_offset=16), If(BoolOp(Or(), [Compare(Name('bod', Load(), lineno=42, col_offset=19), [IsNot()], [Name('None', Load(), lineno=42, col_offset=30)], lineno=42, col_offset=19), Compare(Name('startat', Load(), lineno=42, col_offset=38), [Eq()], [Num(1, lineno=42, col_offset=49)], lineno=42, col_offset=38)], lineno=42, col_offset=19), [Break( lineno=43, col_offset=20)], [], lineno=42, col_offset=16)], [], lineno=32, col_offset=12), Expr(Call(Attribute(Name('parser', Load(), lineno=44, col_offset=12), 'set_lo', Load(), lineno=44, col_offset=12), [BoolOp(Or(), [Name('bod', Load(), lineno=44, col_offset=26), Num(0, lineno=44, col_offset=33)], lineno=44, col_offset=26)], [], None, None, lineno=44, col_offset=12), lineno=44, col_offset=12)], [Assign([Name('r', Store(), lineno=46, col_offset=12)], Call(Attribute(Name('text', Load(), lineno=46, col_offset=16), 'tag_prevrange', Load(), lineno=46, col_offset=16), [Str('console', lineno=46, col_offset=35), Name('index', Load(), lineno=46, col_offset=46)], [], None, None, lineno=46, col_offset=16), lineno=46, col_offset=12), If(Name('r', Load(), lineno=47, col_offset=15), [Assign([Name('startatindex', Store(), lineno=48, col_offset=16)], Subscript(Name('r', Load(), lineno=48, col_offset=31), Index(Num(1, lineno=48, col_offset=33)), Load(), lineno=48, col_offset=31), lineno=48, col_offset=16)], [Assign([Name('startatindex', Store(), lineno=50, col_offset=16)], Str('1.0', lineno=50, col_offset=31), lineno=50, col_offset=16)], lineno=47, col_offset=12), Assign([Name('stopatindex', Store(), lineno=51, col_offset=12)], BinOp(Str('%d.end', lineno=51, col_offset=26), Mod(), Name('lno', Load(), lineno=51, col_offset=37), lineno=51, col_offset=26), lineno=51, col_offset=12), Expr(Call(Attribute(Name('parser', Load(), lineno=55, col_offset=12), 'set_str', Load(), lineno=55, col_offset=12), [BinOp(Call(Attribute(Name('text', Load(), lineno=55, col_offset=27), 'get', Load(), lineno=55, col_offset=27), [Name('startatindex', Load(), lineno=55, col_offset=36), Name('stopatindex', Load(), lineno=55, col_offset=50)], [], None, None, lineno=55, col_offset=27), Add(), Str(' \n', lineno=55, col_offset=63), lineno=55, col_offset=27)], [], None, None, lineno=55, col_offset=12), lineno=55, col_offset=12), Expr(Call(Attribute(Name('parser', Load(), lineno=56, col_offset=12), 'set_lo', Load(), lineno=56, col_offset=12), [Num(0, lineno=56, col_offset=26)], [], None, None, lineno=56, col_offset=12), lineno=56, col_offset=12)], lineno=31, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=59, col_offset=8), 'rawtext', Store(), lineno=59, col_offset=8)], Subscript(Attribute(Name('parser', Load(), lineno=59, col_offset=23), 'str', Load(), lineno=59, col_offset=23), Slice(None, Num(-2, lineno=59, col_offset=36), None), Load(), lineno=59, col_offset=23), lineno=59, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=63, col_offset=8), 'stopatindex', Store(), lineno=63, col_offset=8)], Name('stopatindex', Load(), lineno=63, col_offset=27), lineno=63, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=64, col_offset=8), 'bracketing', Store(), lineno=64, col_offset=8)], Call(Attribute(Name('parser', Load(), lineno=64, col_offset=26), 'get_last_stmt_bracketing', Load(), lineno=64, col_offset=26), [], [], None, None, lineno=64, col_offset=26), lineno=64, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=67, col_offset=8), 'isopener', Store(), lineno=67, col_offset=8)], ListComp(BoolOp(And(), [Compare(Name('i', Load(), lineno=67, col_offset=25), [Gt()], [Num(0, lineno=67, col_offset=27)], lineno=67, col_offset=25), Compare(Subscript(Subscript(Attribute(Name('self', Load(), lineno=67, col_offset=33), 'bracketing', Load(), lineno=67, col_offset=33), Index(Name('i', Load(), lineno=67, col_offset=49)), Load(), lineno=67, col_offset=33), Index(Num(1, lineno=67, col_offset=52)), Load(), lineno=67, col_offset=33), [Gt()], [Subscript(Subscript(Attribute(Name('self', Load(), lineno=67, col_offset=57), 'bracketing', Load(), lineno=67, col_offset=57), Index(BinOp(Name('i', Load(), lineno=67, col_offset=73), Sub(), Num(1, lineno=67, col_offset=75), lineno=67, col_offset=73)), Load(), lineno=67, col_offset=57), Index(Num(1, lineno=67, col_offset=78)), Load(), lineno=67, col_offset=57)], lineno=67, col_offset=33)], lineno=67, col_offset=25), [comprehension(Name('i', Store(), lineno=68, col_offset=29), Call(Name('range', Load(), lineno=68, col_offset=34), [Call(Name('len', Load(), lineno=68, col_offset=40), [Attribute(Name('self', Load(), lineno=68, col_offset=44), 'bracketing', Load(), lineno=68, col_offset=44)], [], None, None, lineno=68, col_offset=40)], [], None, None, lineno=68, col_offset=34), [])], lineno=67, col_offset=25), lineno=67, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=70, col_offset=8), 'set_index', Load(), lineno=70, col_offset=8), [Name('index', Load(), lineno=70, col_offset=23)], [], None, None, lineno=70, col_offset=8), lineno=70, col_offset=8)], [], lineno=17, col_offset=4), FunctionDef('set_index', arguments([Name('self', Param(), lineno=72, col_offset=18), Name('index', Param(), lineno=72, col_offset=24)], None, None, []), [Expr(Str('Set the index to which the functions relate. Note that it must be\n        in the same statement.\n        ', lineno=75, col_offset=-1), lineno=75, col_offset=-1), Assign([Name('indexinrawtext', Store(), lineno=76, col_offset=8)], BinOp(Call(Name('len', Load(), lineno=77, col_offset=12), [Attribute(Name('self', Load(), lineno=77, col_offset=16), 'rawtext', Load(), lineno=77, col_offset=16)], [], None, None, lineno=77, col_offset=12), Sub(), Call(Name('len', Load(), lineno=77, col_offset=32), [Call(Attribute(Attribute(Name('self', Load(), lineno=77, col_offset=36), 'text', Load(), lineno=77, col_offset=36), 'get', Load(), lineno=77, col_offset=36), [Name('index', Load(), lineno=77, col_offset=50), Attribute(Name('self', Load(), lineno=77, col_offset=57), 'stopatindex', Load(), lineno=77, col_offset=57)], [], None, None, lineno=77, col_offset=36)], [], None, None, lineno=77, col_offset=32), lineno=77, col_offset=12), lineno=76, col_offset=8), If(Compare(Name('indexinrawtext', Load(), lineno=78, col_offset=11), [Lt()], [Num(0, lineno=78, col_offset=28)], lineno=78, col_offset=11), [Raise(Call(Name('ValueError', Load(), lineno=79, col_offset=18), [Str('The index given is before the analyzed statement', lineno=79, col_offset=29)], [], None, None, lineno=79, col_offset=18), None, None, lineno=79, col_offset=12)], [], lineno=78, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=80, col_offset=8), 'indexinrawtext', Store(), lineno=80, col_offset=8)], Name('indexinrawtext', Load(), lineno=80, col_offset=30), lineno=80, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=82, col_offset=8), 'indexbracket', Store(), lineno=82, col_offset=8)], Num(0, lineno=82, col_offset=28), lineno=82, col_offset=8), While(BoolOp(And(), [Compare(Attribute(Name('self', Load(), lineno=83, col_offset=14), 'indexbracket', Load(), lineno=83, col_offset=14), [Lt()], [BinOp(Call(Name('len', Load(), lineno=83, col_offset=34), [Attribute(Name('self', Load(), lineno=83, col_offset=38), 'bracketing', Load(), lineno=83, col_offset=38)], [], None, None, lineno=83, col_offset=34), Sub(), Num(1, lineno=83, col_offset=55), lineno=83, col_offset=34)], lineno=83, col_offset=14), Compare(Subscript(Subscript(Attribute(Name('self', Load(), lineno=84, col_offset=14), 'bracketing', Load(), lineno=84, col_offset=14), Index(BinOp(Attribute(Name('self', Load(), lineno=84, col_offset=30), 'indexbracket', Load(), lineno=84, col_offset=30), Add(), Num(1, lineno=84, col_offset=48), lineno=84, col_offset=30)), Load(), lineno=84, col_offset=14), Index(Num(0, lineno=84, col_offset=51)), Load(), lineno=84, col_offset=14), [Lt()], [Attribute(Name('self', Load(), lineno=84, col_offset=56), 'indexinrawtext', Load(), lineno=84, col_offset=56)], lineno=84, col_offset=14)], lineno=83, col_offset=14), [AugAssign(Attribute(Name('self', Load(), lineno=85, col_offset=12), 'indexbracket', Store(), lineno=85, col_offset=12), Add(), Num(1, lineno=85, col_offset=33), lineno=85, col_offset=12)], [], lineno=83, col_offset=8), If(BoolOp(And(), [Compare(Attribute(Name('self', Load(), lineno=86, col_offset=11), 'indexbracket', Load(), lineno=86, col_offset=11), [Lt()], [BinOp(Call(Name('len', Load(), lineno=86, col_offset=31), [Attribute(Name('self', Load(), lineno=86, col_offset=35), 'bracketing', Load(), lineno=86, col_offset=35)], [], None, None, lineno=86, col_offset=31), Sub(), Num(1, lineno=86, col_offset=52), lineno=86, col_offset=31)], lineno=86, col_offset=11), Compare(Subscript(Subscript(Attribute(Name('self', Load(), lineno=87, col_offset=11), 'bracketing', Load(), lineno=87, col_offset=11), Index(BinOp(Attribute(Name('self', Load(), lineno=87, col_offset=27), 'indexbracket', Load(), lineno=87, col_offset=27), Add(), Num(1, lineno=87, col_offset=45), lineno=87, col_offset=27)), Load(), lineno=87, col_offset=11), Index(Num(0, lineno=87, col_offset=48)), Load(), lineno=87, col_offset=11), [Eq()], [Attribute(Name('self', Load(), lineno=87, col_offset=54), 'indexinrawtext', Load(), lineno=87, col_offset=54)], lineno=87, col_offset=11), UnaryOp(Not(), Subscript(Attribute(Name('self', Load(), lineno=88, col_offset=15), 'isopener', Load(), lineno=88, col_offset=15), Index(BinOp(Attribute(Name('self', Load(), lineno=88, col_offset=29), 'indexbracket', Load(), lineno=88, col_offset=29), Add(), Num(1, lineno=88, col_offset=47), lineno=88, col_offset=29)), Load(), lineno=88, col_offset=15), lineno=88, col_offset=11)], lineno=86, col_offset=11), [AugAssign(Attribute(Name('self', Load(), lineno=89, col_offset=12), 'indexbracket', Store(), lineno=89, col_offset=12), Add(), Num(1, lineno=89, col_offset=33), lineno=89, col_offset=12)], [], lineno=86, col_offset=8)], [], lineno=72, col_offset=4), FunctionDef('is_in_string', arguments([Name('self', Param(), lineno=91, col_offset=21)], None, None, []), [Expr(Str('Is the index given to the HyperParser is in a string?', lineno=92, col_offset=8), lineno=92, col_offset=8), Return(BoolOp(And(), [Subscript(Attribute(Name('self', Load(), lineno=95, col_offset=15), 'isopener', Load(), lineno=95, col_offset=15), Index(Attribute(Name('self', Load(), lineno=95, col_offset=29), 'indexbracket', Load(), lineno=95, col_offset=29)), Load(), lineno=95, col_offset=15), Compare(Subscript(Attribute(Name('self', Load(), lineno=96, col_offset=15), 'rawtext', Load(), lineno=96, col_offset=15), Index(Subscript(Subscript(Attribute(Name('self', Load(), lineno=96, col_offset=28), 'bracketing', Load(), lineno=96, col_offset=28), Index(Attribute(Name('self', Load(), lineno=96, col_offset=44), 'indexbracket', Load(), lineno=96, col_offset=44)), Load(), lineno=96, col_offset=28), Index(Num(0, lineno=96, col_offset=63)), Load(), lineno=96, col_offset=28)), Load(), lineno=96, col_offset=15), [In()], [Tuple([Str('"', lineno=96, col_offset=71), Str("'", lineno=96, col_offset=76)], Load(), lineno=96, col_offset=71)], lineno=96, col_offset=15)], lineno=95, col_offset=15), lineno=95, col_offset=8)], [], lineno=91, col_offset=4), FunctionDef('is_in_code', arguments([Name('self', Param(), lineno=98, col_offset=19)], None, None, []), [Expr(Str('Is the index given to the HyperParser is in a normal code?', lineno=99, col_offset=8), lineno=99, col_offset=8), Return(BoolOp(Or(), [UnaryOp(Not(), Subscript(Attribute(Name('self', Load(), lineno=100, col_offset=19), 'isopener', Load(), lineno=100, col_offset=19), Index(Attribute(Name('self', Load(), lineno=100, col_offset=33), 'indexbracket', Load(), lineno=100, col_offset=33)), Load(), lineno=100, col_offset=19), lineno=100, col_offset=15), Compare(Subscript(Attribute(Name('self', Load(), lineno=101, col_offset=15), 'rawtext', Load(), lineno=101, col_offset=15), Index(Subscript(Subscript(Attribute(Name('self', Load(), lineno=101, col_offset=28), 'bracketing', Load(), lineno=101, col_offset=28), Index(Attribute(Name('self', Load(), lineno=101, col_offset=44), 'indexbracket', Load(), lineno=101, col_offset=44)), Load(), lineno=101, col_offset=28), Index(Num(0, lineno=101, col_offset=63)), Load(), lineno=101, col_offset=28)), Load(), lineno=101, col_offset=15), [NotIn()], [Tuple([Str('#', lineno=102, col_offset=65), Str('"', lineno=102, col_offset=70), Str("'", lineno=102, col_offset=75)], Load(), lineno=102, col_offset=65)], lineno=101, col_offset=15)], lineno=100, col_offset=15), lineno=100, col_offset=8)], [], lineno=98, col_offset=4), FunctionDef('get_surrounding_brackets', arguments([Name('self', Param(), lineno=104, col_offset=33), Name('openers', Param(), lineno=104, col_offset=39), Name('mustclose', Param(), lineno=104, col_offset=54)], None, None, [Str('([{', lineno=104, col_offset=47), Name('False', Load(), lineno=104, col_offset=64)]), [Expr(Str('If the index given to the HyperParser is surrounded by a bracket\n        defined in openers (or at least has one before it), return the\n        indices of the opening bracket and the closing bracket (or the\n        end of line, whichever comes first).\n        If it is not surrounded by brackets, or the end of line comes before\n        the closing bracket and mustclose is True, returns None.\n        ', lineno=111, col_offset=-1), lineno=111, col_offset=-1), Assign([Name('bracketinglevel', Store(), lineno=112, col_offset=8)], Subscript(Subscript(Attribute(Name('self', Load(), lineno=112, col_offset=26), 'bracketing', Load(), lineno=112, col_offset=26), Index(Attribute(Name('self', Load(), lineno=112, col_offset=42), 'indexbracket', Load(), lineno=112, col_offset=42)), Load(), lineno=112, col_offset=26), Index(Num(1, lineno=112, col_offset=61)), Load(), lineno=112, col_offset=26), lineno=112, col_offset=8), Assign([Name('before', Store(), lineno=113, col_offset=8)], Attribute(Name('self', Load(), lineno=113, col_offset=17), 'indexbracket', Load(), lineno=113, col_offset=17), lineno=113, col_offset=8), While(BoolOp(Or(), [UnaryOp(Not(), Subscript(Attribute(Name('self', Load(), lineno=114, col_offset=18), 'isopener', Load(), lineno=114, col_offset=18), Index(Name('before', Load(), lineno=114, col_offset=32)), Load(), lineno=114, col_offset=18), lineno=114, col_offset=14), Compare(Subscript(Attribute(Name('self', Load(), lineno=115, col_offset=14), 'rawtext', Load(), lineno=115, col_offset=14), Index(Subscript(Subscript(Attribute(Name('self', Load(), lineno=115, col_offset=27), 'bracketing', Load(), lineno=115, col_offset=27), Index(Name('before', Load(), lineno=115, col_offset=43)), Load(), lineno=115, col_offset=27), Index(Num(0, lineno=115, col_offset=51)), Load(), lineno=115, col_offset=27)), Load(), lineno=115, col_offset=14), [NotIn()], [Name('openers', Load(), lineno=115, col_offset=62)], lineno=115, col_offset=14), Compare(Subscript(Subscript(Attribute(Name('self', Load(), lineno=116, col_offset=14), 'bracketing', Load(), lineno=116, col_offset=14), Index(Name('before', Load(), lineno=116, col_offset=30)), Load(), lineno=116, col_offset=14), Index(Num(1, lineno=116, col_offset=38)), Load(), lineno=116, col_offset=14), [Gt()], [Name('bracketinglevel', Load(), lineno=116, col_offset=43)], lineno=116, col_offset=14)], lineno=114, col_offset=14), [AugAssign(Name('before', Store(), lineno=117, col_offset=12), Sub(), Num(1, lineno=117, col_offset=22), lineno=117, col_offset=12), If(Compare(Name('before', Load(), lineno=118, col_offset=15), [Lt()], [Num(0, lineno=118, col_offset=24)], lineno=118, col_offset=15), [Return(Name('None', Load(), lineno=119, col_offset=23), lineno=119, col_offset=16)], [], lineno=118, col_offset=12), Assign([Name('bracketinglevel', Store(), lineno=120, col_offset=12)], Call(Name('min', Load(), lineno=120, col_offset=30), [Name('bracketinglevel', Load(), lineno=120, col_offset=34), Subscript(Subscript(Attribute(Name('self', Load(), lineno=120, col_offset=51), 'bracketing', Load(), lineno=120, col_offset=51), Index(Name('before', Load(), lineno=120, col_offset=67)), Load(), lineno=120, col_offset=51), Index(Num(1, lineno=120, col_offset=75)), Load(), lineno=120, col_offset=51)], [], None, None, lineno=120, col_offset=30), lineno=120, col_offset=12)], [], lineno=114, col_offset=8), Assign([Name('after', Store(), lineno=121, col_offset=8)], BinOp(Attribute(Name('self', Load(), lineno=121, col_offset=16), 'indexbracket', Load(), lineno=121, col_offset=16), Add(), Num(1, lineno=121, col_offset=36), lineno=121, col_offset=16), lineno=121, col_offset=8), While(BoolOp(And(), [Compare(Name('after', Load(), lineno=122, col_offset=14), [Lt()], [Call(Name('len', Load(), lineno=122, col_offset=22), [Attribute(Name('self', Load(), lineno=122, col_offset=26), 'bracketing', Load(), lineno=122, col_offset=26)], [], None, None, lineno=122, col_offset=22)], lineno=122, col_offset=14), Compare(Subscript(Subscript(Attribute(Name('self', Load(), lineno=123, col_offset=14), 'bracketing', Load(), lineno=123, col_offset=14), Index(Name('after', Load(), lineno=123, col_offset=30)), Load(), lineno=123, col_offset=14), Index(Num(1, lineno=123, col_offset=37)), Load(), lineno=123, col_offset=14), [GtE()], [Name('bracketinglevel', Load(), lineno=123, col_offset=43)], lineno=123, col_offset=14)], lineno=122, col_offset=14), [AugAssign(Name('after', Store(), lineno=124, col_offset=12), Add(), Num(1, lineno=124, col_offset=21), lineno=124, col_offset=12)], [], lineno=122, col_offset=8), Assign([Name('beforeindex', Store(), lineno=126, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=126, col_offset=22), 'text', Load(), lineno=126, col_offset=22), 'index', Load(), lineno=126, col_offset=22), [BinOp(Str('%s-%dc', lineno=126, col_offset=38), Mod(), Tuple([Attribute(Name('self', Load(), lineno=127, col_offset=13), 'stopatindex', Load(), lineno=127, col_offset=13), BinOp(Call(Name('len', Load(), lineno=127, col_offset=31), [Attribute(Name('self', Load(), lineno=127, col_offset=35), 'rawtext', Load(), lineno=127, col_offset=35)], [], None, None, lineno=127, col_offset=31), Sub(), Subscript(Subscript(Attribute(Name('self', Load(), lineno=127, col_offset=49), 'bracketing', Load(), lineno=127, col_offset=49), Index(Name('before', Load(), lineno=127, col_offset=65)), Load(), lineno=127, col_offset=49), Index(Num(0, lineno=127, col_offset=73)), Load(), lineno=127, col_offset=49), lineno=127, col_offset=31)], Load(), lineno=127, col_offset=13), lineno=126, col_offset=38)], [], None, None, lineno=126, col_offset=22), lineno=126, col_offset=8), If(BoolOp(Or(), [Compare(Name('after', Load(), lineno=128, col_offset=11), [GtE()], [Call(Name('len', Load(), lineno=128, col_offset=20), [Attribute(Name('self', Load(), lineno=128, col_offset=24), 'bracketing', Load(), lineno=128, col_offset=24)], [], None, None, lineno=128, col_offset=20)], lineno=128, col_offset=11), Compare(Subscript(Subscript(Attribute(Name('self', Load(), lineno=129, col_offset=11), 'bracketing', Load(), lineno=129, col_offset=11), Index(Name('after', Load(), lineno=129, col_offset=27)), Load(), lineno=129, col_offset=11), Index(Num(0, lineno=129, col_offset=34)), Load(), lineno=129, col_offset=11), [Gt()], [Call(Name('len', Load(), lineno=129, col_offset=39), [Attribute(Name('self', Load(), lineno=129, col_offset=43), 'rawtext', Load(), lineno=129, col_offset=43)], [], None, None, lineno=129, col_offset=39)], lineno=129, col_offset=11)], lineno=128, col_offset=11), [If(Name('mustclose', Load(), lineno=130, col_offset=15), [Return(Name('None', Load(), lineno=131, col_offset=23), lineno=131, col_offset=16)], [], lineno=130, col_offset=12), Assign([Name('afterindex', Store(), lineno=132, col_offset=12)], Attribute(Name('self', Load(), lineno=132, col_offset=25), 'stopatindex', Load(), lineno=132, col_offset=25), lineno=132, col_offset=12)], [Assign([Name('afterindex', Store(), lineno=136, col_offset=12)], Call(Attribute(Attribute(Name('self', Load(), lineno=136, col_offset=25), 'text', Load(), lineno=136, col_offset=25), 'index', Load(), lineno=136, col_offset=25), [BinOp(Str('%s-%dc', lineno=136, col_offset=41), Mod(), Tuple([Attribute(Name('self', Load(), lineno=137, col_offset=17), 'stopatindex', Load(), lineno=137, col_offset=17), BinOp(Call(Name('len', Load(), lineno=138, col_offset=17), [Attribute(Name('self', Load(), lineno=138, col_offset=21), 'rawtext', Load(), lineno=138, col_offset=21)], [], None, None, lineno=138, col_offset=17), Sub(), BinOp(Subscript(Subscript(Attribute(Name('self', Load(), lineno=138, col_offset=36), 'bracketing', Load(), lineno=138, col_offset=36), Index(Name('after', Load(), lineno=138, col_offset=52)), Load(), lineno=138, col_offset=36), Index(Num(0, lineno=138, col_offset=59)), Load(), lineno=138, col_offset=36), Sub(), Num(1, lineno=138, col_offset=62), lineno=138, col_offset=36), lineno=138, col_offset=17)], Load(), lineno=137, col_offset=17), lineno=136, col_offset=41)], [], None, None, lineno=136, col_offset=25), lineno=136, col_offset=12)], lineno=128, col_offset=8), Return(Tuple([Name('beforeindex', Load(), lineno=140, col_offset=15), Name('afterindex', Load(), lineno=140, col_offset=28)], Load(), lineno=140, col_offset=15), lineno=140, col_offset=8)], [], lineno=104, col_offset=4), Assign([Name('_whitespace_chars', Store(), lineno=143, col_offset=4)], Str(' \t\n\\', lineno=143, col_offset=24), lineno=143, col_offset=4), Assign([Name('_id_chars', Store(), lineno=145, col_offset=4)], BinOp(BinOp(Attribute(Name('string', Load(), lineno=145, col_offset=16), 'ascii_letters', Load(), lineno=145, col_offset=16), Add(), Attribute(Name('string', Load(), lineno=145, col_offset=39), 'digits', Load(), lineno=145, col_offset=39), lineno=145, col_offset=16), Add(), Str('_', lineno=145, col_offset=55), lineno=145, col_offset=53), lineno=145, col_offset=4), Assign([Name('_id_first_chars', Store(), lineno=147, col_offset=4)], BinOp(Attribute(Name('string', Load(), lineno=147, col_offset=22), 'ascii_letters', Load(), lineno=147, col_offset=22), Add(), Str('_', lineno=147, col_offset=45), lineno=147, col_offset=22), lineno=147, col_offset=4), FunctionDef('_eat_identifier', arguments([Name('self', Param(), lineno=152, col_offset=24), Name('str', Param(), lineno=152, col_offset=30), Name('limit', Param(), lineno=152, col_offset=35), Name('pos', Param(), lineno=152, col_offset=42)], None, None, []), [Assign([Name('i', Store(), lineno=153, col_offset=8)], Name('pos', Load(), lineno=153, col_offset=12), lineno=153, col_offset=8), While(BoolOp(And(), [Compare(Name('i', Load(), lineno=154, col_offset=14), [Gt()], [Name('limit', Load(), lineno=154, col_offset=18)], lineno=154, col_offset=14), Compare(Subscript(Name('str', Load(), lineno=154, col_offset=28), Index(BinOp(Name('i', Load(), lineno=154, col_offset=32), Sub(), Num(1, lineno=154, col_offset=34), lineno=154, col_offset=32)), Load(), lineno=154, col_offset=28), [In()], [Attribute(Name('self', Load(), lineno=154, col_offset=40), '_id_chars', Load(), lineno=154, col_offset=40)], lineno=154, col_offset=28)], lineno=154, col_offset=14), [AugAssign(Name('i', Store(), lineno=155, col_offset=12), Sub(), Num(1, lineno=155, col_offset=17), lineno=155, col_offset=12)], [], lineno=154, col_offset=8), If(BoolOp(And(), [Compare(Name('i', Load(), lineno=156, col_offset=11), [Lt()], [Name('pos', Load(), lineno=156, col_offset=15)], lineno=156, col_offset=11), BoolOp(Or(), [Compare(Subscript(Name('str', Load(), lineno=156, col_offset=24), Index(Name('i', Load(), lineno=156, col_offset=28)), Load(), lineno=156, col_offset=24), [NotIn()], [Attribute(Name('self', Load(), lineno=156, col_offset=38), '_id_first_chars', Load(), lineno=156, col_offset=38)], lineno=156, col_offset=24), Call(Attribute(Name('keyword', Load(), lineno=157, col_offset=24), 'iskeyword', Load(), lineno=157, col_offset=24), [Subscript(Name('str', Load(), lineno=157, col_offset=42), Slice(Name('i', Load(), lineno=157, col_offset=46), Name('pos', Load(), lineno=157, col_offset=48), None), Load(), lineno=157, col_offset=42)], [], None, None, lineno=157, col_offset=24)], lineno=156, col_offset=24)], lineno=156, col_offset=11), [Assign([Name('i', Store(), lineno=158, col_offset=12)], Name('pos', Load(), lineno=158, col_offset=16), lineno=158, col_offset=12)], [], lineno=156, col_offset=8), Return(BinOp(Name('pos', Load(), lineno=159, col_offset=15), Sub(), Name('i', Load(), lineno=159, col_offset=21), lineno=159, col_offset=15), lineno=159, col_offset=8)], [], lineno=152, col_offset=4), FunctionDef('get_expression', arguments([Name('self', Param(), lineno=161, col_offset=23)], None, None, []), [Expr(Str('Return a string with the Python expression which ends at the given\n        index, which is empty if there is no real one.\n        ', lineno=164, col_offset=-1), lineno=164, col_offset=-1), If(UnaryOp(Not(), Call(Attribute(Name('self', Load(), lineno=165, col_offset=15), 'is_in_code', Load(), lineno=165, col_offset=15), [], [], None, None, lineno=165, col_offset=15), lineno=165, col_offset=11), [Raise(Call(Name('ValueError', Load(), lineno=166, col_offset=18), [Str('get_expression should only be called if index is inside a code.', lineno=166, col_offset=29)], [], None, None, lineno=166, col_offset=18), None, None, lineno=166, col_offset=12)], [], lineno=165, col_offset=8), Assign([Name('rawtext', Store(), lineno=169, col_offset=8)], Attribute(Name('self', Load(), lineno=169, col_offset=18), 'rawtext', Load(), lineno=169, col_offset=18), lineno=169, col_offset=8), Assign([Name('bracketing', Store(), lineno=170, col_offset=8)], Attribute(Name('self', Load(), lineno=170, col_offset=21), 'bracketing', Load(), lineno=170, col_offset=21), lineno=170, col_offset=8), Assign([Name('brck_index', Store(), lineno=172, col_offset=8)], Attribute(Name('self', Load(), lineno=172, col_offset=21), 'indexbracket', Load(), lineno=172, col_offset=21), lineno=172, col_offset=8), Assign([Name('brck_limit', Store(), lineno=173, col_offset=8)], Subscript(Subscript(Name('bracketing', Load(), lineno=173, col_offset=21), Index(Name('brck_index', Load(), lineno=173, col_offset=32)), Load(), lineno=173, col_offset=21), Index(Num(0, lineno=173, col_offset=44)), Load(), lineno=173, col_offset=21), lineno=173, col_offset=8), Assign([Name('pos', Store(), lineno=174, col_offset=8)], Attribute(Name('self', Load(), lineno=174, col_offset=14), 'indexinrawtext', Load(), lineno=174, col_offset=14), lineno=174, col_offset=8), Assign([Name('last_identifier_pos', Store(), lineno=176, col_offset=8)], Name('pos', Load(), lineno=176, col_offset=30), lineno=176, col_offset=8), Assign([Name('postdot_phase', Store(), lineno=177, col_offset=8)], Name('True', Load(), lineno=177, col_offset=24), lineno=177, col_offset=8), While(Num(1, lineno=179, col_offset=14), [While(Num(1, lineno=181, col_offset=18), [If(BoolOp(And(), [Compare(Name('pos', Load(), lineno=182, col_offset=19), [Gt()], [Name('brck_limit', Load(), lineno=182, col_offset=23)], lineno=182, col_offset=19), Compare(Subscript(Name('rawtext', Load(), lineno=182, col_offset=38), Index(BinOp(Name('pos', Load(), lineno=182, col_offset=46), Sub(), Num(1, lineno=182, col_offset=50), lineno=182, col_offset=46)), Load(), lineno=182, col_offset=38), [In()], [Attribute(Name('self', Load(), lineno=182, col_offset=56), '_whitespace_chars', Load(), lineno=182, col_offset=56)], lineno=182, col_offset=38)], lineno=182, col_offset=19), [AugAssign(Name('pos', Store(), lineno=184, col_offset=20), Sub(), Num(1, lineno=184, col_offset=27), lineno=184, col_offset=20)], [If(BoolOp(And(), [UnaryOp(Not(), Name('postdot_phase', Load(), lineno=185, col_offset=25), lineno=185, col_offset=21), Compare(Name('pos', Load(), lineno=186, col_offset=21), [Gt()], [Name('brck_limit', Load(), lineno=186, col_offset=27)], lineno=186, col_offset=21), Compare(Subscript(Name('rawtext', Load(), lineno=186, col_offset=42), Index(BinOp(Name('pos', Load(), lineno=186, col_offset=50), Sub(), Num(1, lineno=186, col_offset=54), lineno=186, col_offset=50)), Load(), lineno=186, col_offset=42), [Eq()], [Str('.', lineno=186, col_offset=60)], lineno=186, col_offset=42)], lineno=185, col_offset=21), [AugAssign(Name('pos', Store(), lineno=188, col_offset=20), Sub(), Num(1, lineno=188, col_offset=27), lineno=188, col_offset=20), Assign([Name('postdot_phase', Store(), lineno=189, col_offset=20)], Name('True', Load(), lineno=189, col_offset=36), lineno=189, col_offset=20)], [If(BoolOp(And(), [Compare(Name('pos', Load(), lineno=192, col_offset=21), [Eq()], [Name('brck_limit', Load(), lineno=192, col_offset=28)], lineno=192, col_offset=21), Compare(Name('brck_index', Load(), lineno=192, col_offset=43), [Gt()], [Num(0, lineno=192, col_offset=56)], lineno=192, col_offset=43), Compare(Subscript(Name('rawtext', Load(), lineno=193, col_offset=21), Index(Subscript(Subscript(Name('bracketing', Load(), lineno=193, col_offset=29), Index(BinOp(Name('brck_index', Load(), lineno=193, col_offset=40), Sub(), Num(1, lineno=193, col_offset=51), lineno=193, col_offset=40)), Load(), lineno=193, col_offset=29), Index(Num(0, lineno=193, col_offset=54)), Load(), lineno=193, col_offset=29)), Load(), lineno=193, col_offset=21), [Eq()], [Str('#', lineno=193, col_offset=61)], lineno=193, col_offset=21)], lineno=192, col_offset=21), [AugAssign(Name('brck_index', Store(), lineno=195, col_offset=20), Sub(), Num(2, lineno=195, col_offset=34), lineno=195, col_offset=20), Assign([Name('brck_limit', Store(), lineno=196, col_offset=20)], Subscript(Subscript(Name('bracketing', Load(), lineno=196, col_offset=33), Index(Name('brck_index', Load(), lineno=196, col_offset=44)), Load(), lineno=196, col_offset=33), Index(Num(0, lineno=196, col_offset=56)), Load(), lineno=196, col_offset=33), lineno=196, col_offset=20), Assign([Name('pos', Store(), lineno=197, col_offset=20)], Subscript(Subscript(Name('bracketing', Load(), lineno=197, col_offset=26), Index(BinOp(Name('brck_index', Load(), lineno=197, col_offset=37), Add(), Num(1, lineno=197, col_offset=48), lineno=197, col_offset=37)), Load(), lineno=197, col_offset=26), Index(Num(0, lineno=197, col_offset=51)), Load(), lineno=197, col_offset=26), lineno=197, col_offset=20)], [Break( lineno=200, col_offset=20)], lineno=192, col_offset=21)], lineno=185, col_offset=21)], lineno=182, col_offset=16)], [], lineno=181, col_offset=12), If(UnaryOp(Not(), Name('postdot_phase', Load(), lineno=202, col_offset=19), lineno=202, col_offset=15), [Break( lineno=205, col_offset=16)], [], lineno=202, col_offset=12), Assign([Name('ret', Store(), lineno=207, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=207, col_offset=18), '_eat_identifier', Load(), lineno=207, col_offset=18), [Name('rawtext', Load(), lineno=207, col_offset=39), Name('brck_limit', Load(), lineno=207, col_offset=48), Name('pos', Load(), lineno=207, col_offset=60)], [], None, None, lineno=207, col_offset=18), lineno=207, col_offset=12), If(Name('ret', Load(), lineno=208, col_offset=15), [Assign([Name('pos', Store(), lineno=210, col_offset=16)], BinOp(Name('pos', Load(), lineno=210, col_offset=22), Sub(), Name('ret', Load(), lineno=210, col_offset=28), lineno=210, col_offset=22), lineno=210, col_offset=16), Assign([Name('last_identifier_pos', Store(), lineno=211, col_offset=16)], Name('pos', Load(), lineno=211, col_offset=38), lineno=211, col_offset=16), Assign([Name('postdot_phase', Store(), lineno=213, col_offset=16)], Name('False', Load(), lineno=213, col_offset=32), lineno=213, col_offset=16)], [If(Compare(Name('pos', Load(), lineno=216, col_offset=17), [Eq()], [Name('brck_limit', Load(), lineno=216, col_offset=24)], lineno=216, col_offset=17), [Assign([Name('level', Store(), lineno=219, col_offset=16)], Subscript(Subscript(Name('bracketing', Load(), lineno=219, col_offset=24), Index(Name('brck_index', Load(), lineno=219, col_offset=35)), Load(), lineno=219, col_offset=24), Index(Num(1, lineno=219, col_offset=47)), Load(), lineno=219, col_offset=24), lineno=219, col_offset=16), While(BoolOp(And(), [Compare(Name('brck_index', Load(), lineno=220, col_offset=22), [Gt()], [Num(0, lineno=220, col_offset=35)], lineno=220, col_offset=22), Compare(Subscript(Subscript(Name('bracketing', Load(), lineno=220, col_offset=41), Index(BinOp(Name('brck_index', Load(), lineno=220, col_offset=52), Sub(), Num(1, lineno=220, col_offset=63), lineno=220, col_offset=52)), Load(), lineno=220, col_offset=41), Index(Num(1, lineno=220, col_offset=66)), Load(), lineno=220, col_offset=41), [Gt()], [Name('level', Load(), lineno=220, col_offset=71)], lineno=220, col_offset=41)], lineno=220, col_offset=22), [AugAssign(Name('brck_index', Store(), lineno=221, col_offset=20), Sub(), Num(1, lineno=221, col_offset=34), lineno=221, col_offset=20)], [], lineno=220, col_offset=16), If(Compare(Subscript(Subscript(Name('bracketing', Load(), lineno=222, col_offset=19), Index(Name('brck_index', Load(), lineno=222, col_offset=30)), Load(), lineno=222, col_offset=19), Index(Num(0, lineno=222, col_offset=42)), Load(), lineno=222, col_offset=19), [Eq()], [Name('brck_limit', Load(), lineno=222, col_offset=48)], lineno=222, col_offset=19), [Break( lineno=224, col_offset=20)], [], lineno=222, col_offset=16), Assign([Name('pos', Store(), lineno=225, col_offset=16)], Subscript(Subscript(Name('bracketing', Load(), lineno=225, col_offset=22), Index(Name('brck_index', Load(), lineno=225, col_offset=33)), Load(), lineno=225, col_offset=22), Index(Num(0, lineno=225, col_offset=45)), Load(), lineno=225, col_offset=22), lineno=225, col_offset=16), AugAssign(Name('brck_index', Store(), lineno=226, col_offset=16), Sub(), Num(1, lineno=226, col_offset=30), lineno=226, col_offset=16), Assign([Name('brck_limit', Store(), lineno=227, col_offset=16)], Subscript(Subscript(Name('bracketing', Load(), lineno=227, col_offset=29), Index(Name('brck_index', Load(), lineno=227, col_offset=40)), Load(), lineno=227, col_offset=29), Index(Num(0, lineno=227, col_offset=52)), Load(), lineno=227, col_offset=29), lineno=227, col_offset=16), Assign([Name('last_identifier_pos', Store(), lineno=228, col_offset=16)], Name('pos', Load(), lineno=228, col_offset=38), lineno=228, col_offset=16), If(Compare(Subscript(Name('rawtext', Load(), lineno=229, col_offset=19), Index(Name('pos', Load(), lineno=229, col_offset=27)), Load(), lineno=229, col_offset=19), [In()], [Str('([', lineno=229, col_offset=35)], lineno=229, col_offset=19), [Pass( lineno=232, col_offset=20)], [Break( lineno=235, col_offset=20)], lineno=229, col_offset=16)], [Break( lineno=239, col_offset=16)], lineno=216, col_offset=17)], lineno=208, col_offset=12)], [], lineno=179, col_offset=8), Return(Subscript(Name('rawtext', Load(), lineno=241, col_offset=15), Slice(Name('last_identifier_pos', Load(), lineno=241, col_offset=23), Attribute(Name('self', Load(), lineno=241, col_offset=43), 'indexinrawtext', Load(), lineno=241, col_offset=43), None), Load(), lineno=241, col_offset=15), lineno=241, col_offset=8)], [], lineno=161, col_offset=4)], [], lineno=15, col_offset=0)])
