Module([Import([alias('unittest', None)], lineno=2, col_offset=0), ImportFrom('test.test_support', [alias('run_unittest', None), alias('gc_collect', None)], 0, lineno=3, col_offset=0), Import([alias('sys', None)], lineno=5, col_offset=0), Assign([Name('ModuleType', Store(), lineno=6, col_offset=0)], Call(Name('type', Load(), lineno=6, col_offset=13), [Name('sys', Load(), lineno=6, col_offset=18)], [], None, None, lineno=6, col_offset=13), lineno=6, col_offset=0), ClassDef('ModuleTests', [Attribute(Name('unittest', Load(), lineno=8, col_offset=18), 'TestCase', Load(), lineno=8, col_offset=18)], [FunctionDef('test_uninitialized', arguments([Name('self', Param(), lineno=9, col_offset=27)], None, None, []), [Assign([Name('foo', Store(), lineno=12, col_offset=8)], Call(Attribute(Name('ModuleType', Load(), lineno=12, col_offset=14), '__new__', Load(), lineno=12, col_offset=14), [Name('ModuleType', Load(), lineno=12, col_offset=33)], [], None, None, lineno=12, col_offset=14), lineno=12, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=13, col_offset=8), 'assertTrue', Load(), lineno=13, col_offset=8), [Compare(Attribute(Name('foo', Load(), lineno=13, col_offset=24), '__dict__', Load(), lineno=13, col_offset=24), [Is()], [Name('None', Load(), lineno=13, col_offset=40)], lineno=13, col_offset=24)], [], None, None, lineno=13, col_offset=8), lineno=13, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=14, col_offset=8), 'assertRaises', Load(), lineno=14, col_offset=8), [Name('SystemError', Load(), lineno=14, col_offset=26), Name('dir', Load(), lineno=14, col_offset=39), Name('foo', Load(), lineno=14, col_offset=44)], [], None, None, lineno=14, col_offset=8), lineno=14, col_offset=8), TryExcept([Assign([Name('s', Store(), lineno=16, col_offset=12)], Attribute(Name('foo', Load(), lineno=16, col_offset=16), '__name__', Load(), lineno=16, col_offset=16), lineno=16, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=17, col_offset=12), 'fail', Load(), lineno=17, col_offset=12), [BinOp(Str('__name__ = %s', lineno=17, col_offset=22), Mod(), Call(Name('repr', Load(), lineno=17, col_offset=40), [Name('s', Load(), lineno=17, col_offset=45)], [], None, None, lineno=17, col_offset=40), lineno=17, col_offset=22)], [], None, None, lineno=17, col_offset=12), lineno=17, col_offset=12)], [ExceptHandler(Name('AttributeError', Load(), lineno=18, col_offset=15), None, [Pass( lineno=19, col_offset=12)], lineno=18, col_offset=8)], [], lineno=15, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=20, col_offset=8), 'assertEqual', Load(), lineno=20, col_offset=8), [Attribute(Name('foo', Load(), lineno=20, col_offset=25), '__doc__', Load(), lineno=20, col_offset=25), Attribute(Name('ModuleType', Load(), lineno=20, col_offset=38), '__doc__', Load(), lineno=20, col_offset=38)], [], None, None, lineno=20, col_offset=8), lineno=20, col_offset=8)], [], lineno=9, col_offset=4), FunctionDef('test_no_docstring', arguments([Name('self', Param(), lineno=22, col_offset=26)], None, None, []), [Assign([Name('foo', Store(), lineno=24, col_offset=8)], Call(Name('ModuleType', Load(), lineno=24, col_offset=14), [Str('foo', lineno=24, col_offset=25)], [], None, None, lineno=24, col_offset=14), lineno=24, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=25, col_offset=8), 'assertEqual', Load(), lineno=25, col_offset=8), [Attribute(Name('foo', Load(), lineno=25, col_offset=25), '__name__', Load(), lineno=25, col_offset=25), Str('foo', lineno=25, col_offset=39)], [], None, None, lineno=25, col_offset=8), lineno=25, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=26, col_offset=8), 'assertEqual', Load(), lineno=26, col_offset=8), [Attribute(Name('foo', Load(), lineno=26, col_offset=25), '__doc__', Load(), lineno=26, col_offset=25), Name('None', Load(), lineno=26, col_offset=38)], [], None, None, lineno=26, col_offset=8), lineno=26, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=27, col_offset=8), 'assertEqual', Load(), lineno=27, col_offset=8), [Attribute(Name('foo', Load(), lineno=27, col_offset=25), '__dict__', Load(), lineno=27, col_offset=25), Dict([Str('__name__', lineno=27, col_offset=40), Str('__doc__', lineno=27, col_offset=59)], [Str('foo', lineno=27, col_offset=52), Name('None', Load(), lineno=27, col_offset=70)], lineno=27, col_offset=39)], [], None, None, lineno=27, col_offset=8), lineno=27, col_offset=8)], [], lineno=22, col_offset=4), FunctionDef('test_ascii_docstring', arguments([Name('self', Param(), lineno=29, col_offset=29)], None, None, []), [Assign([Name('foo', Store(), lineno=31, col_offset=8)], Call(Name('ModuleType', Load(), lineno=31, col_offset=14), [Str('foo', lineno=31, col_offset=25), Str('foodoc', lineno=31, col_offset=32)], [], None, None, lineno=31, col_offset=14), lineno=31, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=32, col_offset=8), 'assertEqual', Load(), lineno=32, col_offset=8), [Attribute(Name('foo', Load(), lineno=32, col_offset=25), '__name__', Load(), lineno=32, col_offset=25), Str('foo', lineno=32, col_offset=39)], [], None, None, lineno=32, col_offset=8), lineno=32, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=33, col_offset=8), 'assertEqual', Load(), lineno=33, col_offset=8), [Attribute(Name('foo', Load(), lineno=33, col_offset=25), '__doc__', Load(), lineno=33, col_offset=25), Str('foodoc', lineno=33, col_offset=38)], [], None, None, lineno=33, col_offset=8), lineno=33, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=34, col_offset=8), 'assertEqual', Load(), lineno=34, col_offset=8), [Attribute(Name('foo', Load(), lineno=34, col_offset=25), '__dict__', Load(), lineno=34, col_offset=25), Dict([Str('__name__', lineno=35, col_offset=26), Str('__doc__', lineno=35, col_offset=45)], [Str('foo', lineno=35, col_offset=38), Str('foodoc', lineno=35, col_offset=56)], lineno=35, col_offset=25)], [], None, None, lineno=34, col_offset=8), lineno=34, col_offset=8)], [], lineno=29, col_offset=4), FunctionDef('test_unicode_docstring', arguments([Name('self', Param(), lineno=37, col_offset=31)], None, None, []), [Assign([Name('foo', Store(), lineno=39, col_offset=8)], Call(Name('ModuleType', Load(), lineno=39, col_offset=14), [Str('foo', lineno=39, col_offset=25), Str(u'foodoc\u1234', lineno=39, col_offset=32)], [], None, None, lineno=39, col_offset=14), lineno=39, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=40, col_offset=8), 'assertEqual', Load(), lineno=40, col_offset=8), [Attribute(Name('foo', Load(), lineno=40, col_offset=25), '__name__', Load(), lineno=40, col_offset=25), Str('foo', lineno=40, col_offset=39)], [], None, None, lineno=40, col_offset=8), lineno=40, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=41, col_offset=8), 'assertEqual', Load(), lineno=41, col_offset=8), [Attribute(Name('foo', Load(), lineno=41, col_offset=25), '__doc__', Load(), lineno=41, col_offset=25), Str(u'foodoc\u1234', lineno=41, col_offset=38)], [], None, None, lineno=41, col_offset=8), lineno=41, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=42, col_offset=8), 'assertEqual', Load(), lineno=42, col_offset=8), [Attribute(Name('foo', Load(), lineno=42, col_offset=25), '__dict__', Load(), lineno=42, col_offset=25), Dict([Str('__name__', lineno=43, col_offset=26), Str('__doc__', lineno=43, col_offset=45)], [Str('foo', lineno=43, col_offset=38), Str(u'foodoc\u1234', lineno=43, col_offset=56)], lineno=43, col_offset=25)], [], None, None, lineno=42, col_offset=8), lineno=42, col_offset=8)], [], lineno=37, col_offset=4), FunctionDef('test_reinit', arguments([Name('self', Param(), lineno=45, col_offset=20)], None, None, []), [Assign([Name('foo', Store(), lineno=47, col_offset=8)], Call(Name('ModuleType', Load(), lineno=47, col_offset=14), [Str('foo', lineno=47, col_offset=25), Str(u'foodoc\u1234', lineno=47, col_offset=32)], [], None, None, lineno=47, col_offset=14), lineno=47, col_offset=8), Assign([Attribute(Name('foo', Load(), lineno=48, col_offset=8), 'bar', Store(), lineno=48, col_offset=8)], Num(42, lineno=48, col_offset=18), lineno=48, col_offset=8), Assign([Name('d', Store(), lineno=49, col_offset=8)], Attribute(Name('foo', Load(), lineno=49, col_offset=12), '__dict__', Load(), lineno=49, col_offset=12), lineno=49, col_offset=8), Expr(Call(Attribute(Name('foo', Load(), lineno=50, col_offset=8), '__init__', Load(), lineno=50, col_offset=8), [Str('foo', lineno=50, col_offset=21), Str('foodoc', lineno=50, col_offset=28)], [], None, None, lineno=50, col_offset=8), lineno=50, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=51, col_offset=8), 'assertEqual', Load(), lineno=51, col_offset=8), [Attribute(Name('foo', Load(), lineno=51, col_offset=25), '__name__', Load(), lineno=51, col_offset=25), Str('foo', lineno=51, col_offset=39)], [], None, None, lineno=51, col_offset=8), lineno=51, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=52, col_offset=8), 'assertEqual', Load(), lineno=52, col_offset=8), [Attribute(Name('foo', Load(), lineno=52, col_offset=25), '__doc__', Load(), lineno=52, col_offset=25), Str('foodoc', lineno=52, col_offset=38)], [], None, None, lineno=52, col_offset=8), lineno=52, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=53, col_offset=8), 'assertEqual', Load(), lineno=53, col_offset=8), [Attribute(Name('foo', Load(), lineno=53, col_offset=25), 'bar', Load(), lineno=53, col_offset=25), Num(42, lineno=53, col_offset=34)], [], None, None, lineno=53, col_offset=8), lineno=53, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=54, col_offset=8), 'assertEqual', Load(), lineno=54, col_offset=8), [Attribute(Name('foo', Load(), lineno=54, col_offset=25), '__dict__', Load(), lineno=54, col_offset=25), Dict([Str('__name__', lineno=55, col_offset=15), Str('__doc__', lineno=55, col_offset=34), Str('bar', lineno=55, col_offset=55)], [Str('foo', lineno=55, col_offset=27), Str('foodoc', lineno=55, col_offset=45), Num(42, lineno=55, col_offset=62)], lineno=55, col_offset=14)], [], None, None, lineno=54, col_offset=8), lineno=54, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=56, col_offset=8), 'assertTrue', Load(), lineno=56, col_offset=8), [Compare(Attribute(Name('foo', Load(), lineno=56, col_offset=24), '__dict__', Load(), lineno=56, col_offset=24), [Is()], [Name('d', Load(), lineno=56, col_offset=40)], lineno=56, col_offset=24)], [], None, None, lineno=56, col_offset=8), lineno=56, col_offset=8)], [], lineno=45, col_offset=4), FunctionDef('test_dont_clear_dict', arguments([Name('self', Param(), lineno=59, col_offset=29)], None, None, []), [FunctionDef('f', arguments([], None, None, []), [Assign([Name('foo', Store(), lineno=62, col_offset=12)], Call(Name('ModuleType', Load(), lineno=62, col_offset=18), [Str('foo', lineno=62, col_offset=29)], [], None, None, lineno=62, col_offset=18), lineno=62, col_offset=12), Assign([Attribute(Name('foo', Load(), lineno=63, col_offset=12), 'bar', Store(), lineno=63, col_offset=12)], Num(4, lineno=63, col_offset=22), lineno=63, col_offset=12), Return(Name('foo', Load(), lineno=64, col_offset=19), lineno=64, col_offset=12)], [], lineno=61, col_offset=8), Expr(Call(Name('gc_collect', Load(), lineno=65, col_offset=8), [], [], None, None, lineno=65, col_offset=8), lineno=65, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=66, col_offset=8), 'assertEqual', Load(), lineno=66, col_offset=8), [Subscript(Attribute(Call(Name('f', Load(), lineno=66, col_offset=25), [], [], None, None, lineno=66, col_offset=25), '__dict__', Load(), lineno=66, col_offset=25), Index(Str('bar', lineno=66, col_offset=38)), Load(), lineno=66, col_offset=25), Num(4, lineno=66, col_offset=46)], [], None, None, lineno=66, col_offset=8), lineno=66, col_offset=8)], [Attribute(Name('unittest', Load(), lineno=58, col_offset=5), 'expectedFailure', Load(), lineno=58, col_offset=5)], lineno=58, col_offset=4), FunctionDef('test_clear_dict_in_ref_cycle', arguments([Name('self', Param(), lineno=68, col_offset=37)], None, None, []), [Assign([Name('destroyed', Store(), lineno=69, col_offset=8)], List([], Load(), lineno=69, col_offset=20), lineno=69, col_offset=8), Assign([Name('m', Store(), lineno=70, col_offset=8)], Call(Name('ModuleType', Load(), lineno=70, col_offset=12), [Str('foo', lineno=70, col_offset=23)], [], None, None, lineno=70, col_offset=12), lineno=70, col_offset=8), Assign([Attribute(Name('m', Load(), lineno=71, col_offset=8), 'destroyed', Store(), lineno=71, col_offset=8)], Name('destroyed', Load(), lineno=71, col_offset=22), lineno=71, col_offset=8), Assign([Name('s', Store(), lineno=72, col_offset=8)], Str('class A:\n    def __del__(self):\n        destroyed.append(1)\na = A()', lineno=75, col_offset=-1), lineno=72, col_offset=8), Exec(Tuple([Name('s', Load(), lineno=76, col_offset=13), Attribute(Name('m', Load(), lineno=76, col_offset=16), '__dict__', Load(), lineno=76, col_offset=16)], Load(), lineno=76, col_offset=13), None, None, lineno=76, col_offset=8), Delete([Name('m', Del(), lineno=77, col_offset=12)], lineno=77, col_offset=8), Expr(Call(Name('gc_collect', Load(), lineno=78, col_offset=8), [], [], None, None, lineno=78, col_offset=8), lineno=78, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=79, col_offset=8), 'assertEqual', Load(), lineno=79, col_offset=8), [Name('destroyed', Load(), lineno=79, col_offset=25), List([Num(1, lineno=79, col_offset=37)], Load(), lineno=79, col_offset=36)], [], None, None, lineno=79, col_offset=8), lineno=79, col_offset=8)], [], lineno=68, col_offset=4)], [], lineno=8, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Name('run_unittest', Load(), lineno=82, col_offset=4), [Name('ModuleTests', Load(), lineno=82, col_offset=17)], [], None, None, lineno=82, col_offset=4), lineno=82, col_offset=4)], [], lineno=81, col_offset=0), If(Compare(Name('__name__', Load(), lineno=84, col_offset=3), [Eq()], [Str('__main__', lineno=84, col_offset=15)], lineno=84, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=85, col_offset=4), [], [], None, None, lineno=85, col_offset=4), lineno=85, col_offset=4)], [], lineno=84, col_offset=0)])
