Module([Expr(Str("distutils.command.build_py\n\nImplements the Distutils 'build_py' command.", lineno=3, col_offset=-1), lineno=3, col_offset=-1), Assign([Name('__revision__', Store(), lineno=5, col_offset=0)], Str('$Id: build_py.py 76956 2009-12-21 01:22:46Z tarek.ziade $', lineno=5, col_offset=15), lineno=5, col_offset=0), Import([alias('os', None)], lineno=7, col_offset=0), Import([alias('sys', None)], lineno=8, col_offset=0), ImportFrom('glob', [alias('glob', None)], 0, lineno=9, col_offset=0), ImportFrom('distutils.core', [alias('Command', None)], 0, lineno=11, col_offset=0), ImportFrom('distutils.errors', [alias('DistutilsOptionError', None), alias('DistutilsFileError', None)], 0, lineno=12, col_offset=0), ImportFrom('distutils.util', [alias('convert_path', None)], 0, lineno=13, col_offset=0), ImportFrom('distutils', [alias('log', None)], 0, lineno=14, col_offset=0), ClassDef('build_py', [Name('Command', Load(), lineno=16, col_offset=15)], [Assign([Name('description', Store(), lineno=18, col_offset=4)], Str('"build" pure Python modules (copy to build directory)', lineno=18, col_offset=18), lineno=18, col_offset=4), Assign([Name('user_options', Store(), lineno=20, col_offset=4)], List([Tuple([Str('build-lib=', lineno=21, col_offset=9), Str('d', lineno=21, col_offset=23), Str('directory to "build" (copy) to', lineno=21, col_offset=28)], Load(), lineno=21, col_offset=9), Tuple([Str('compile', lineno=22, col_offset=9), Str('c', lineno=22, col_offset=20), Str('compile .py to .pyc', lineno=22, col_offset=25)], Load(), lineno=22, col_offset=9), Tuple([Str('no-compile', lineno=23, col_offset=9), Name('None', Load(), lineno=23, col_offset=23), Str("don't compile .py files [default]", lineno=23, col_offset=29)], Load(), lineno=23, col_offset=9), Tuple([Str('optimize=', lineno=24, col_offset=9), Str('O', lineno=24, col_offset=22), Str('also compile with optimization: -O1 for "python -O", -O2 for "python -OO", and -O0 to disable [default: -O0]', lineno=25, col_offset=9)], Load(), lineno=24, col_offset=9), Tuple([Str('force', lineno=27, col_offset=9), Str('f', lineno=27, col_offset=18), Str('forcibly build everything (ignore file timestamps)', lineno=27, col_offset=23)], Load(), lineno=27, col_offset=9)], Load(), lineno=20, col_offset=19), lineno=20, col_offset=4), Assign([Name('boolean_options', Store(), lineno=30, col_offset=4)], List([Str('compile', lineno=30, col_offset=23), Str('force', lineno=30, col_offset=34)], Load(), lineno=30, col_offset=22), lineno=30, col_offset=4), Assign([Name('negative_opt', Store(), lineno=31, col_offset=4)], Dict([Str('no-compile', lineno=31, col_offset=20)], [Str('compile', lineno=31, col_offset=35)], lineno=31, col_offset=19), lineno=31, col_offset=4), FunctionDef('initialize_options', arguments([Name('self', Param(), lineno=33, col_offset=27)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=34, col_offset=8), 'build_lib', Store(), lineno=34, col_offset=8)], Name('None', Load(), lineno=34, col_offset=25), lineno=34, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=35, col_offset=8), 'py_modules', Store(), lineno=35, col_offset=8)], Name('None', Load(), lineno=35, col_offset=26), lineno=35, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=36, col_offset=8), 'package', Store(), lineno=36, col_offset=8)], Name('None', Load(), lineno=36, col_offset=23), lineno=36, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=37, col_offset=8), 'package_data', Store(), lineno=37, col_offset=8)], Name('None', Load(), lineno=37, col_offset=28), lineno=37, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=38, col_offset=8), 'package_dir', Store(), lineno=38, col_offset=8)], Name('None', Load(), lineno=38, col_offset=27), lineno=38, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=39, col_offset=8), 'compile', Store(), lineno=39, col_offset=8)], Num(0, lineno=39, col_offset=23), lineno=39, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=40, col_offset=8), 'optimize', Store(), lineno=40, col_offset=8)], Num(0, lineno=40, col_offset=24), lineno=40, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=41, col_offset=8), 'force', Store(), lineno=41, col_offset=8)], Name('None', Load(), lineno=41, col_offset=21), lineno=41, col_offset=8)], [], lineno=33, col_offset=4), FunctionDef('finalize_options', arguments([Name('self', Param(), lineno=43, col_offset=25)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=44, col_offset=8), 'set_undefined_options', Load(), lineno=44, col_offset=8), [Str('build', lineno=44, col_offset=35), Tuple([Str('build_lib', lineno=45, col_offset=36), Str('build_lib', lineno=45, col_offset=49)], Load(), lineno=45, col_offset=36), Tuple([Str('force', lineno=46, col_offset=36), Str('force', lineno=46, col_offset=45)], Load(), lineno=46, col_offset=36)], [], None, None, lineno=44, col_offset=8), lineno=44, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=50, col_offset=8), 'packages', Store(), lineno=50, col_offset=8)], Attribute(Attribute(Name('self', Load(), lineno=50, col_offset=24), 'distribution', Load(), lineno=50, col_offset=24), 'packages', Load(), lineno=50, col_offset=24), lineno=50, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=51, col_offset=8), 'py_modules', Store(), lineno=51, col_offset=8)], Attribute(Attribute(Name('self', Load(), lineno=51, col_offset=26), 'distribution', Load(), lineno=51, col_offset=26), 'py_modules', Load(), lineno=51, col_offset=26), lineno=51, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=52, col_offset=8), 'package_data', Store(), lineno=52, col_offset=8)], Attribute(Attribute(Name('self', Load(), lineno=52, col_offset=28), 'distribution', Load(), lineno=52, col_offset=28), 'package_data', Load(), lineno=52, col_offset=28), lineno=52, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=53, col_offset=8), 'package_dir', Store(), lineno=53, col_offset=8)], Dict([], [], lineno=53, col_offset=27), lineno=53, col_offset=8), If(Attribute(Attribute(Name('self', Load(), lineno=54, col_offset=11), 'distribution', Load(), lineno=54, col_offset=11), 'package_dir', Load(), lineno=54, col_offset=11), [For(Tuple([Name('name', Store(), lineno=55, col_offset=16), Name('path', Store(), lineno=55, col_offset=22)], Store(), lineno=55, col_offset=16), Call(Attribute(Attribute(Attribute(Name('self', Load(), lineno=55, col_offset=30), 'distribution', Load(), lineno=55, col_offset=30), 'package_dir', Load(), lineno=55, col_offset=30), 'items', Load(), lineno=55, col_offset=30), [], [], None, None, lineno=55, col_offset=30), [Assign([Subscript(Attribute(Name('self', Load(), lineno=56, col_offset=16), 'package_dir', Load(), lineno=56, col_offset=16), Index(Name('name', Load(), lineno=56, col_offset=33)), Store(), lineno=56, col_offset=16)], Call(Name('convert_path', Load(), lineno=56, col_offset=41), [Name('path', Load(), lineno=56, col_offset=54)], [], None, None, lineno=56, col_offset=41), lineno=56, col_offset=16)], [], lineno=55, col_offset=12)], [], lineno=54, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=57, col_offset=8), 'data_files', Store(), lineno=57, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=57, col_offset=26), 'get_data_files', Load(), lineno=57, col_offset=26), [], [], None, None, lineno=57, col_offset=26), lineno=57, col_offset=8), If(UnaryOp(Not(), Call(Name('isinstance', Load(), lineno=61, col_offset=15), [Attribute(Name('self', Load(), lineno=61, col_offset=26), 'optimize', Load(), lineno=61, col_offset=26), Name('int', Load(), lineno=61, col_offset=41)], [], None, None, lineno=61, col_offset=15), lineno=61, col_offset=11), [TryExcept([Assign([Attribute(Name('self', Load(), lineno=63, col_offset=16), 'optimize', Store(), lineno=63, col_offset=16)], Call(Name('int', Load(), lineno=63, col_offset=32), [Attribute(Name('self', Load(), lineno=63, col_offset=36), 'optimize', Load(), lineno=63, col_offset=36)], [], None, None, lineno=63, col_offset=32), lineno=63, col_offset=16), Assert(Compare(Num(0, lineno=64, col_offset=23), [LtE(), LtE()], [Attribute(Name('self', Load(), lineno=64, col_offset=28), 'optimize', Load(), lineno=64, col_offset=28), Num(2, lineno=64, col_offset=45)], lineno=64, col_offset=23), None, lineno=64, col_offset=16)], [ExceptHandler(Tuple([Name('ValueError', Load(), lineno=65, col_offset=20), Name('AssertionError', Load(), lineno=65, col_offset=32)], Load(), lineno=65, col_offset=20), None, [Raise(Call(Name('DistutilsOptionError', Load(), lineno=66, col_offset=22), [Str('optimize must be 0, 1, or 2', lineno=66, col_offset=43)], [], None, None, lineno=66, col_offset=22), None, None, lineno=66, col_offset=16)], lineno=65, col_offset=12)], [], lineno=62, col_offset=12)], [], lineno=61, col_offset=8)], [], lineno=43, col_offset=4), FunctionDef('run', arguments([Name('self', Param(), lineno=68, col_offset=12)], None, None, []), [If(Attribute(Name('self', Load(), lineno=90, col_offset=11), 'py_modules', Load(), lineno=90, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=91, col_offset=12), 'build_modules', Load(), lineno=91, col_offset=12), [], [], None, None, lineno=91, col_offset=12), lineno=91, col_offset=12)], [], lineno=90, col_offset=8), If(Attribute(Name('self', Load(), lineno=92, col_offset=11), 'packages', Load(), lineno=92, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=93, col_offset=12), 'build_packages', Load(), lineno=93, col_offset=12), [], [], None, None, lineno=93, col_offset=12), lineno=93, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=94, col_offset=12), 'build_package_data', Load(), lineno=94, col_offset=12), [], [], None, None, lineno=94, col_offset=12), lineno=94, col_offset=12)], [], lineno=92, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=96, col_offset=8), 'byte_compile', Load(), lineno=96, col_offset=8), [Call(Attribute(Name('self', Load(), lineno=96, col_offset=26), 'get_outputs', Load(), lineno=96, col_offset=26), [], [keyword('include_bytecode', Num(0, lineno=96, col_offset=60))], None, None, lineno=96, col_offset=26)], [], None, None, lineno=96, col_offset=8), lineno=96, col_offset=8)], [], lineno=68, col_offset=4), FunctionDef('get_data_files', arguments([Name('self', Param(), lineno=98, col_offset=23)], None, None, []), [Expr(Str("Generate list of '(package,src_dir,build_dir,filenames)' tuples", lineno=99, col_offset=8), lineno=99, col_offset=8), Assign([Name('data', Store(), lineno=100, col_offset=8)], List([], Load(), lineno=100, col_offset=15), lineno=100, col_offset=8), If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=101, col_offset=15), 'packages', Load(), lineno=101, col_offset=15), lineno=101, col_offset=11), [Return(Name('data', Load(), lineno=102, col_offset=19), lineno=102, col_offset=12)], [], lineno=101, col_offset=8), For(Name('package', Store(), lineno=103, col_offset=12), Attribute(Name('self', Load(), lineno=103, col_offset=23), 'packages', Load(), lineno=103, col_offset=23), [Assign([Name('src_dir', Store(), lineno=105, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=105, col_offset=22), 'get_package_dir', Load(), lineno=105, col_offset=22), [Name('package', Load(), lineno=105, col_offset=43)], [], None, None, lineno=105, col_offset=22), lineno=105, col_offset=12), Assign([Name('build_dir', Store(), lineno=108, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=108, col_offset=24), 'path', Load(), lineno=108, col_offset=24), 'join', Load(), lineno=108, col_offset=24), [], [], BinOp(List([Attribute(Name('self', Load(), lineno=108, col_offset=40), 'build_lib', Load(), lineno=108, col_offset=40)], Load(), lineno=108, col_offset=39), Add(), Call(Attribute(Name('package', Load(), lineno=108, col_offset=58), 'split', Load(), lineno=108, col_offset=58), [Str('.', lineno=108, col_offset=72)], [], None, None, lineno=108, col_offset=58), lineno=108, col_offset=39), None, lineno=108, col_offset=24), lineno=108, col_offset=12), Assign([Name('plen', Store(), lineno=111, col_offset=12)], Num(0, lineno=111, col_offset=19), lineno=111, col_offset=12), If(Name('src_dir', Load(), lineno=112, col_offset=15), [Assign([Name('plen', Store(), lineno=113, col_offset=16)], BinOp(Call(Name('len', Load(), lineno=113, col_offset=23), [Name('src_dir', Load(), lineno=113, col_offset=27)], [], None, None, lineno=113, col_offset=23), Add(), Num(1, lineno=113, col_offset=36), lineno=113, col_offset=23), lineno=113, col_offset=16)], [], lineno=112, col_offset=12), Assign([Name('filenames', Store(), lineno=116, col_offset=12)], ListComp(Subscript(Name('file', Load(), lineno=117, col_offset=16), Slice(Name('plen', Load(), lineno=117, col_offset=21), None, None), Load(), lineno=117, col_offset=16), [comprehension(Name('file', Store(), lineno=117, col_offset=32), Call(Attribute(Name('self', Load(), lineno=117, col_offset=40), 'find_data_files', Load(), lineno=117, col_offset=40), [Name('package', Load(), lineno=117, col_offset=61), Name('src_dir', Load(), lineno=117, col_offset=70)], [], None, None, lineno=117, col_offset=40), [])], lineno=117, col_offset=16), lineno=116, col_offset=12), Expr(Call(Attribute(Name('data', Load(), lineno=119, col_offset=12), 'append', Load(), lineno=119, col_offset=12), [Tuple([Name('package', Load(), lineno=119, col_offset=25), Name('src_dir', Load(), lineno=119, col_offset=34), Name('build_dir', Load(), lineno=119, col_offset=43), Name('filenames', Load(), lineno=119, col_offset=54)], Load(), lineno=119, col_offset=25)], [], None, None, lineno=119, col_offset=12), lineno=119, col_offset=12)], [], lineno=103, col_offset=8), Return(Name('data', Load(), lineno=120, col_offset=15), lineno=120, col_offset=8)], [], lineno=98, col_offset=4), FunctionDef('find_data_files', arguments([Name('self', Param(), lineno=122, col_offset=24), Name('package', Param(), lineno=122, col_offset=30), Name('src_dir', Param(), lineno=122, col_offset=39)], None, None, []), [Expr(Str("Return filenames for package's data files in 'src_dir'", lineno=123, col_offset=8), lineno=123, col_offset=8), Assign([Name('globs', Store(), lineno=124, col_offset=8)], BinOp(Call(Attribute(Attribute(Name('self', Load(), lineno=124, col_offset=17), 'package_data', Load(), lineno=124, col_offset=17), 'get', Load(), lineno=124, col_offset=17), [Str('', lineno=124, col_offset=39), List([], Load(), lineno=124, col_offset=43)], [], None, None, lineno=124, col_offset=17), Add(), Call(Attribute(Attribute(Name('self', Load(), lineno=125, col_offset=19), 'package_data', Load(), lineno=125, col_offset=19), 'get', Load(), lineno=125, col_offset=19), [Name('package', Load(), lineno=125, col_offset=41), List([], Load(), lineno=125, col_offset=50)], [], None, None, lineno=125, col_offset=19), lineno=124, col_offset=17), lineno=124, col_offset=8), Assign([Name('files', Store(), lineno=126, col_offset=8)], List([], Load(), lineno=126, col_offset=16), lineno=126, col_offset=8), For(Name('pattern', Store(), lineno=127, col_offset=12), Name('globs', Load(), lineno=127, col_offset=23), [Assign([Name('filelist', Store(), lineno=129, col_offset=12)], Call(Name('glob', Load(), lineno=129, col_offset=23), [Call(Attribute(Attribute(Name('os', Load(), lineno=129, col_offset=28), 'path', Load(), lineno=129, col_offset=28), 'join', Load(), lineno=129, col_offset=28), [Name('src_dir', Load(), lineno=129, col_offset=41), Call(Name('convert_path', Load(), lineno=129, col_offset=50), [Name('pattern', Load(), lineno=129, col_offset=63)], [], None, None, lineno=129, col_offset=50)], [], None, None, lineno=129, col_offset=28)], [], None, None, lineno=129, col_offset=23), lineno=129, col_offset=12), Expr(Call(Attribute(Name('files', Load(), lineno=131, col_offset=12), 'extend', Load(), lineno=131, col_offset=12), [ListComp(Name('fn', Load(), lineno=131, col_offset=26), [comprehension(Name('fn', Store(), lineno=131, col_offset=33), Name('filelist', Load(), lineno=131, col_offset=39), [Compare(Name('fn', Load(), lineno=131, col_offset=51), [NotIn()], [Name('files', Load(), lineno=131, col_offset=61)], lineno=131, col_offset=51)])], lineno=131, col_offset=26)], [], None, None, lineno=131, col_offset=12), lineno=131, col_offset=12)], [], lineno=127, col_offset=8), Return(Name('files', Load(), lineno=132, col_offset=15), lineno=132, col_offset=8)], [], lineno=122, col_offset=4), FunctionDef('build_package_data', arguments([Name('self', Param(), lineno=134, col_offset=27)], None, None, []), [Expr(Str('Copy data files into build directory', lineno=135, col_offset=8), lineno=135, col_offset=8), For(Tuple([Name('package', Store(), lineno=136, col_offset=12), Name('src_dir', Store(), lineno=136, col_offset=21), Name('build_dir', Store(), lineno=136, col_offset=30), Name('filenames', Store(), lineno=136, col_offset=41)], Store(), lineno=136, col_offset=12), Attribute(Name('self', Load(), lineno=136, col_offset=54), 'data_files', Load(), lineno=136, col_offset=54), [For(Name('filename', Store(), lineno=137, col_offset=16), Name('filenames', Load(), lineno=137, col_offset=28), [Assign([Name('target', Store(), lineno=138, col_offset=16)], Call(Attribute(Attribute(Name('os', Load(), lineno=138, col_offset=25), 'path', Load(), lineno=138, col_offset=25), 'join', Load(), lineno=138, col_offset=25), [Name('build_dir', Load(), lineno=138, col_offset=38), Name('filename', Load(), lineno=138, col_offset=49)], [], None, None, lineno=138, col_offset=25), lineno=138, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=139, col_offset=16), 'mkpath', Load(), lineno=139, col_offset=16), [Call(Attribute(Attribute(Name('os', Load(), lineno=139, col_offset=28), 'path', Load(), lineno=139, col_offset=28), 'dirname', Load(), lineno=139, col_offset=28), [Name('target', Load(), lineno=139, col_offset=44)], [], None, None, lineno=139, col_offset=28)], [], None, None, lineno=139, col_offset=16), lineno=139, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=140, col_offset=16), 'copy_file', Load(), lineno=140, col_offset=16), [Call(Attribute(Attribute(Name('os', Load(), lineno=140, col_offset=31), 'path', Load(), lineno=140, col_offset=31), 'join', Load(), lineno=140, col_offset=31), [Name('src_dir', Load(), lineno=140, col_offset=44), Name('filename', Load(), lineno=140, col_offset=53)], [], None, None, lineno=140, col_offset=31), Name('target', Load(), lineno=140, col_offset=64)], [keyword('preserve_mode', Name('False', Load(), lineno=141, col_offset=45))], None, None, lineno=140, col_offset=16), lineno=140, col_offset=16)], [], lineno=137, col_offset=12)], [], lineno=136, col_offset=8)], [], lineno=134, col_offset=4), FunctionDef('get_package_dir', arguments([Name('self', Param(), lineno=143, col_offset=24), Name('package', Param(), lineno=143, col_offset=30)], None, None, []), [Expr(Str("Return the directory, relative to the top of the source\n           distribution, where package 'package' should be found\n           (at least according to the 'package_dir' option, if any).", lineno=146, col_offset=-1), lineno=146, col_offset=-1), Assign([Name('path', Store(), lineno=148, col_offset=8)], Call(Attribute(Name('package', Load(), lineno=148, col_offset=15), 'split', Load(), lineno=148, col_offset=15), [Str('.', lineno=148, col_offset=29)], [], None, None, lineno=148, col_offset=15), lineno=148, col_offset=8), If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=150, col_offset=15), 'package_dir', Load(), lineno=150, col_offset=15), lineno=150, col_offset=11), [If(Name('path', Load(), lineno=151, col_offset=15), [Return(Call(Attribute(Attribute(Name('os', Load(), lineno=152, col_offset=23), 'path', Load(), lineno=152, col_offset=23), 'join', Load(), lineno=152, col_offset=23), [], [], Name('path', Load(), lineno=152, col_offset=37), None, lineno=152, col_offset=23), lineno=152, col_offset=16)], [Return(Str('', lineno=154, col_offset=23), lineno=154, col_offset=16)], lineno=151, col_offset=12)], [Assign([Name('tail', Store(), lineno=156, col_offset=12)], List([], Load(), lineno=156, col_offset=19), lineno=156, col_offset=12), While(Name('path', Load(), lineno=157, col_offset=18), [TryExcept([Assign([Name('pdir', Store(), lineno=159, col_offset=20)], Subscript(Attribute(Name('self', Load(), lineno=159, col_offset=27), 'package_dir', Load(), lineno=159, col_offset=27), Index(Call(Attribute(Str('.', lineno=159, col_offset=44), 'join', Load(), lineno=159, col_offset=44), [Name('path', Load(), lineno=159, col_offset=53)], [], None, None, lineno=159, col_offset=44)), Load(), lineno=159, col_offset=27), lineno=159, col_offset=20)], [ExceptHandler(Name('KeyError', Load(), lineno=160, col_offset=23), None, [Expr(Call(Attribute(Name('tail', Load(), lineno=161, col_offset=20), 'insert', Load(), lineno=161, col_offset=20), [Num(0, lineno=161, col_offset=32), Subscript(Name('path', Load(), lineno=161, col_offset=35), Index(Num(-1, lineno=161, col_offset=41)), Load(), lineno=161, col_offset=35)], [], None, None, lineno=161, col_offset=20), lineno=161, col_offset=20), Delete([Subscript(Name('path', Load(), lineno=162, col_offset=24), Index(Num(-1, lineno=162, col_offset=30)), Del(), lineno=162, col_offset=24)], lineno=162, col_offset=20)], lineno=160, col_offset=16)], [Expr(Call(Attribute(Name('tail', Load(), lineno=164, col_offset=20), 'insert', Load(), lineno=164, col_offset=20), [Num(0, lineno=164, col_offset=32), Name('pdir', Load(), lineno=164, col_offset=35)], [], None, None, lineno=164, col_offset=20), lineno=164, col_offset=20), Return(Call(Attribute(Attribute(Name('os', Load(), lineno=165, col_offset=27), 'path', Load(), lineno=165, col_offset=27), 'join', Load(), lineno=165, col_offset=27), [], [], Name('tail', Load(), lineno=165, col_offset=41), None, lineno=165, col_offset=27), lineno=165, col_offset=20)], lineno=158, col_offset=16)], [Assign([Name('pdir', Store(), lineno=174, col_offset=16)], Call(Attribute(Attribute(Name('self', Load(), lineno=174, col_offset=23), 'package_dir', Load(), lineno=174, col_offset=23), 'get', Load(), lineno=174, col_offset=23), [Str('', lineno=174, col_offset=44)], [], None, None, lineno=174, col_offset=23), lineno=174, col_offset=16), If(Compare(Name('pdir', Load(), lineno=175, col_offset=19), [IsNot()], [Name('None', Load(), lineno=175, col_offset=31)], lineno=175, col_offset=19), [Expr(Call(Attribute(Name('tail', Load(), lineno=176, col_offset=20), 'insert', Load(), lineno=176, col_offset=20), [Num(0, lineno=176, col_offset=32), Name('pdir', Load(), lineno=176, col_offset=35)], [], None, None, lineno=176, col_offset=20), lineno=176, col_offset=20)], [], lineno=175, col_offset=16), If(Name('tail', Load(), lineno=178, col_offset=19), [Return(Call(Attribute(Attribute(Name('os', Load(), lineno=179, col_offset=27), 'path', Load(), lineno=179, col_offset=27), 'join', Load(), lineno=179, col_offset=27), [], [], Name('tail', Load(), lineno=179, col_offset=41), None, lineno=179, col_offset=27), lineno=179, col_offset=20)], [Return(Str('', lineno=181, col_offset=27), lineno=181, col_offset=20)], lineno=178, col_offset=16)], lineno=157, col_offset=12)], lineno=150, col_offset=8)], [], lineno=143, col_offset=4), FunctionDef('check_package', arguments([Name('self', Param(), lineno=183, col_offset=22), Name('package', Param(), lineno=183, col_offset=28), Name('package_dir', Param(), lineno=183, col_offset=37)], None, None, []), [If(Compare(Name('package_dir', Load(), lineno=188, col_offset=11), [NotEq()], [Str('', lineno=188, col_offset=26)], lineno=188, col_offset=11), [If(UnaryOp(Not(), Call(Attribute(Attribute(Name('os', Load(), lineno=189, col_offset=19), 'path', Load(), lineno=189, col_offset=19), 'exists', Load(), lineno=189, col_offset=19), [Name('package_dir', Load(), lineno=189, col_offset=34)], [], None, None, lineno=189, col_offset=19), lineno=189, col_offset=15), [Raise(Call(Name('DistutilsFileError', Load(), lineno=190, col_offset=22), [BinOp(Str("package directory '%s' does not exist", lineno=191, col_offset=22), Mod(), Name('package_dir', Load(), lineno=191, col_offset=64), lineno=191, col_offset=22)], [], None, None, lineno=190, col_offset=22), None, None, lineno=190, col_offset=16)], [], lineno=189, col_offset=12), If(UnaryOp(Not(), Call(Attribute(Attribute(Name('os', Load(), lineno=192, col_offset=19), 'path', Load(), lineno=192, col_offset=19), 'isdir', Load(), lineno=192, col_offset=19), [Name('package_dir', Load(), lineno=192, col_offset=33)], [], None, None, lineno=192, col_offset=19), lineno=192, col_offset=15), [Raise(Call(Name('DistutilsFileError', Load(), lineno=193, col_offset=22), [BinOp(Str("supposed package directory '%s' exists, but is not a directory", lineno=194, col_offset=23), Mod(), Name('package_dir', Load(), lineno=195, col_offset=50), lineno=194, col_offset=23)], [], None, None, lineno=193, col_offset=22), None, None, lineno=193, col_offset=16)], [], lineno=192, col_offset=12)], [], lineno=188, col_offset=8), If(Name('package', Load(), lineno=198, col_offset=11), [Assign([Name('init_py', Store(), lineno=199, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=199, col_offset=22), 'path', Load(), lineno=199, col_offset=22), 'join', Load(), lineno=199, col_offset=22), [Name('package_dir', Load(), lineno=199, col_offset=35), Str('__init__.py', lineno=199, col_offset=48)], [], None, None, lineno=199, col_offset=22), lineno=199, col_offset=12), If(Call(Attribute(Attribute(Name('os', Load(), lineno=200, col_offset=15), 'path', Load(), lineno=200, col_offset=15), 'isfile', Load(), lineno=200, col_offset=15), [Name('init_py', Load(), lineno=200, col_offset=30)], [], None, None, lineno=200, col_offset=15), [Return(Name('init_py', Load(), lineno=201, col_offset=23), lineno=201, col_offset=16)], [Expr(Call(Attribute(Name('log', Load(), lineno=203, col_offset=16), 'warn', Load(), lineno=203, col_offset=16), [BinOp(Str("package init file '%s' not found ", lineno=203, col_offset=26), Add(), Str('(or not a regular file)', lineno=204, col_offset=26), lineno=203, col_offset=26), Name('init_py', Load(), lineno=204, col_offset=54)], [], None, None, lineno=203, col_offset=16), lineno=203, col_offset=16)], lineno=200, col_offset=12)], [], lineno=198, col_offset=8), Return(Name('None', Load(), lineno=208, col_offset=15), lineno=208, col_offset=8)], [], lineno=183, col_offset=4), FunctionDef('check_module', arguments([Name('self', Param(), lineno=210, col_offset=21), Name('module', Param(), lineno=210, col_offset=27), Name('module_file', Param(), lineno=210, col_offset=35)], None, None, []), [If(UnaryOp(Not(), Call(Attribute(Attribute(Name('os', Load(), lineno=211, col_offset=15), 'path', Load(), lineno=211, col_offset=15), 'isfile', Load(), lineno=211, col_offset=15), [Name('module_file', Load(), lineno=211, col_offset=30)], [], None, None, lineno=211, col_offset=15), lineno=211, col_offset=11), [Expr(Call(Attribute(Name('log', Load(), lineno=212, col_offset=12), 'warn', Load(), lineno=212, col_offset=12), [Str('file %s (for module %s) not found', lineno=212, col_offset=21), Name('module_file', Load(), lineno=212, col_offset=58), Name('module', Load(), lineno=212, col_offset=71)], [], None, None, lineno=212, col_offset=12), lineno=212, col_offset=12), Return(Name('False', Load(), lineno=213, col_offset=19), lineno=213, col_offset=12)], [Return(Name('True', Load(), lineno=215, col_offset=19), lineno=215, col_offset=12)], lineno=211, col_offset=8)], [], lineno=210, col_offset=4), FunctionDef('find_package_modules', arguments([Name('self', Param(), lineno=217, col_offset=29), Name('package', Param(), lineno=217, col_offset=35), Name('package_dir', Param(), lineno=217, col_offset=44)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=218, col_offset=8), 'check_package', Load(), lineno=218, col_offset=8), [Name('package', Load(), lineno=218, col_offset=27), Name('package_dir', Load(), lineno=218, col_offset=36)], [], None, None, lineno=218, col_offset=8), lineno=218, col_offset=8), Assign([Name('module_files', Store(), lineno=219, col_offset=8)], Call(Name('glob', Load(), lineno=219, col_offset=23), [Call(Attribute(Attribute(Name('os', Load(), lineno=219, col_offset=28), 'path', Load(), lineno=219, col_offset=28), 'join', Load(), lineno=219, col_offset=28), [Name('package_dir', Load(), lineno=219, col_offset=41), Str('*.py', lineno=219, col_offset=54)], [], None, None, lineno=219, col_offset=28)], [], None, None, lineno=219, col_offset=23), lineno=219, col_offset=8), Assign([Name('modules', Store(), lineno=220, col_offset=8)], List([], Load(), lineno=220, col_offset=18), lineno=220, col_offset=8), Assign([Name('setup_script', Store(), lineno=221, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=221, col_offset=23), 'path', Load(), lineno=221, col_offset=23), 'abspath', Load(), lineno=221, col_offset=23), [Attribute(Attribute(Name('self', Load(), lineno=221, col_offset=39), 'distribution', Load(), lineno=221, col_offset=39), 'script_name', Load(), lineno=221, col_offset=39)], [], None, None, lineno=221, col_offset=23), lineno=221, col_offset=8), For(Name('f', Store(), lineno=223, col_offset=12), Name('module_files', Load(), lineno=223, col_offset=17), [Assign([Name('abs_f', Store(), lineno=224, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=224, col_offset=20), 'path', Load(), lineno=224, col_offset=20), 'abspath', Load(), lineno=224, col_offset=20), [Name('f', Load(), lineno=224, col_offset=36)], [], None, None, lineno=224, col_offset=20), lineno=224, col_offset=12), If(Compare(Name('abs_f', Load(), lineno=225, col_offset=15), [NotEq()], [Name('setup_script', Load(), lineno=225, col_offset=24)], lineno=225, col_offset=15), [Assign([Name('module', Store(), lineno=226, col_offset=16)], Subscript(Call(Attribute(Attribute(Name('os', Load(), lineno=226, col_offset=25), 'path', Load(), lineno=226, col_offset=25), 'splitext', Load(), lineno=226, col_offset=25), [Call(Attribute(Attribute(Name('os', Load(), lineno=226, col_offset=42), 'path', Load(), lineno=226, col_offset=42), 'basename', Load(), lineno=226, col_offset=42), [Name('f', Load(), lineno=226, col_offset=59)], [], None, None, lineno=226, col_offset=42)], [], None, None, lineno=226, col_offset=25), Index(Num(0, lineno=226, col_offset=63)), Load(), lineno=226, col_offset=25), lineno=226, col_offset=16), Expr(Call(Attribute(Name('modules', Load(), lineno=227, col_offset=16), 'append', Load(), lineno=227, col_offset=16), [Tuple([Name('package', Load(), lineno=227, col_offset=32), Name('module', Load(), lineno=227, col_offset=41), Name('f', Load(), lineno=227, col_offset=49)], Load(), lineno=227, col_offset=32)], [], None, None, lineno=227, col_offset=16), lineno=227, col_offset=16)], [Expr(Call(Attribute(Name('self', Load(), lineno=229, col_offset=16), 'debug_print', Load(), lineno=229, col_offset=16), [BinOp(Str('excluding %s', lineno=229, col_offset=33), Mod(), Name('setup_script', Load(), lineno=229, col_offset=50), lineno=229, col_offset=33)], [], None, None, lineno=229, col_offset=16), lineno=229, col_offset=16)], lineno=225, col_offset=12)], [], lineno=223, col_offset=8), Return(Name('modules', Load(), lineno=230, col_offset=15), lineno=230, col_offset=8)], [], lineno=217, col_offset=4), FunctionDef('find_modules', arguments([Name('self', Param(), lineno=232, col_offset=21)], None, None, []), [Expr(Str('Finds individually-specified Python modules, ie. those listed by\n        module name in \'self.py_modules\'.  Returns a list of tuples (package,\n        module_base, filename): \'package\' is a tuple of the path through\n        package-space to the module; \'module_base\' is the bare (no\n        packages, no dots) module name, and \'filename\' is the path to the\n        ".py" file (relative to the distribution root) that implements the\n        module.\n        ', lineno=240, col_offset=-1), lineno=240, col_offset=-1), Assign([Name('packages', Store(), lineno=247, col_offset=8)], Dict([], [], lineno=247, col_offset=19), lineno=247, col_offset=8), Assign([Name('modules', Store(), lineno=250, col_offset=8)], List([], Load(), lineno=250, col_offset=18), lineno=250, col_offset=8), For(Name('module', Store(), lineno=256, col_offset=12), Attribute(Name('self', Load(), lineno=256, col_offset=22), 'py_modules', Load(), lineno=256, col_offset=22), [Assign([Name('path', Store(), lineno=257, col_offset=12)], Call(Attribute(Name('module', Load(), lineno=257, col_offset=19), 'split', Load(), lineno=257, col_offset=19), [Str('.', lineno=257, col_offset=32)], [], None, None, lineno=257, col_offset=19), lineno=257, col_offset=12), Assign([Name('package', Store(), lineno=258, col_offset=12)], Call(Attribute(Str('.', lineno=258, col_offset=22), 'join', Load(), lineno=258, col_offset=22), [Subscript(Name('path', Load(), lineno=258, col_offset=31), Slice(Num(0, lineno=258, col_offset=36), Num(-1, lineno=258, col_offset=39), None), Load(), lineno=258, col_offset=31)], [], None, None, lineno=258, col_offset=22), lineno=258, col_offset=12), Assign([Name('module_base', Store(), lineno=259, col_offset=12)], Subscript(Name('path', Load(), lineno=259, col_offset=26), Index(Num(-1, lineno=259, col_offset=32)), Load(), lineno=259, col_offset=26), lineno=259, col_offset=12), TryExcept([Assign([Tuple([Name('package_dir', Store(), lineno=262, col_offset=17), Name('checked', Store(), lineno=262, col_offset=30)], Store(), lineno=262, col_offset=17)], Subscript(Name('packages', Load(), lineno=262, col_offset=41), Index(Name('package', Load(), lineno=262, col_offset=50)), Load(), lineno=262, col_offset=41), lineno=262, col_offset=16)], [ExceptHandler(Name('KeyError', Load(), lineno=263, col_offset=19), None, [Assign([Name('package_dir', Store(), lineno=264, col_offset=16)], Call(Attribute(Name('self', Load(), lineno=264, col_offset=30), 'get_package_dir', Load(), lineno=264, col_offset=30), [Name('package', Load(), lineno=264, col_offset=51)], [], None, None, lineno=264, col_offset=30), lineno=264, col_offset=16), Assign([Name('checked', Store(), lineno=265, col_offset=16)], Num(0, lineno=265, col_offset=26), lineno=265, col_offset=16)], lineno=263, col_offset=12)], [], lineno=261, col_offset=12), If(UnaryOp(Not(), Name('checked', Load(), lineno=267, col_offset=19), lineno=267, col_offset=15), [Assign([Name('init_py', Store(), lineno=268, col_offset=16)], Call(Attribute(Name('self', Load(), lineno=268, col_offset=26), 'check_package', Load(), lineno=268, col_offset=26), [Name('package', Load(), lineno=268, col_offset=45), Name('package_dir', Load(), lineno=268, col_offset=54)], [], None, None, lineno=268, col_offset=26), lineno=268, col_offset=16), Assign([Subscript(Name('packages', Load(), lineno=269, col_offset=16), Index(Name('package', Load(), lineno=269, col_offset=25)), Store(), lineno=269, col_offset=16)], Tuple([Name('package_dir', Load(), lineno=269, col_offset=37), Num(1, lineno=269, col_offset=50)], Load(), lineno=269, col_offset=37), lineno=269, col_offset=16), If(Name('init_py', Load(), lineno=270, col_offset=19), [Expr(Call(Attribute(Name('modules', Load(), lineno=271, col_offset=20), 'append', Load(), lineno=271, col_offset=20), [Tuple([Name('package', Load(), lineno=271, col_offset=36), Str('__init__', lineno=271, col_offset=45), Name('init_py', Load(), lineno=271, col_offset=57)], Load(), lineno=271, col_offset=36)], [], None, None, lineno=271, col_offset=20), lineno=271, col_offset=20)], [], lineno=270, col_offset=16)], [], lineno=267, col_offset=12), Assign([Name('module_file', Store(), lineno=276, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=276, col_offset=26), 'path', Load(), lineno=276, col_offset=26), 'join', Load(), lineno=276, col_offset=26), [Name('package_dir', Load(), lineno=276, col_offset=39), BinOp(Name('module_base', Load(), lineno=276, col_offset=52), Add(), Str('.py', lineno=276, col_offset=66), lineno=276, col_offset=52)], [], None, None, lineno=276, col_offset=26), lineno=276, col_offset=12), If(UnaryOp(Not(), Call(Attribute(Name('self', Load(), lineno=277, col_offset=19), 'check_module', Load(), lineno=277, col_offset=19), [Name('module', Load(), lineno=277, col_offset=37), Name('module_file', Load(), lineno=277, col_offset=45)], [], None, None, lineno=277, col_offset=19), lineno=277, col_offset=15), [Continue( lineno=278, col_offset=16)], [], lineno=277, col_offset=12), Expr(Call(Attribute(Name('modules', Load(), lineno=280, col_offset=12), 'append', Load(), lineno=280, col_offset=12), [Tuple([Name('package', Load(), lineno=280, col_offset=28), Name('module_base', Load(), lineno=280, col_offset=37), Name('module_file', Load(), lineno=280, col_offset=50)], Load(), lineno=280, col_offset=28)], [], None, None, lineno=280, col_offset=12), lineno=280, col_offset=12)], [], lineno=256, col_offset=8), Return(Name('modules', Load(), lineno=282, col_offset=15), lineno=282, col_offset=8)], [], lineno=232, col_offset=4), FunctionDef('find_all_modules', arguments([Name('self', Param(), lineno=284, col_offset=25)], None, None, []), [Expr(Str("Compute the list of all modules that will be built, whether\n        they are specified one-module-at-a-time ('self.py_modules') or\n        by whole packages ('self.packages').  Return a list of tuples\n        (package, module, module_file), just like 'find_modules()' and\n        'find_package_modules()' do.", lineno=289, col_offset=-1), lineno=289, col_offset=-1), Assign([Name('modules', Store(), lineno=290, col_offset=8)], List([], Load(), lineno=290, col_offset=18), lineno=290, col_offset=8), If(Attribute(Name('self', Load(), lineno=291, col_offset=11), 'py_modules', Load(), lineno=291, col_offset=11), [Expr(Call(Attribute(Name('modules', Load(), lineno=292, col_offset=12), 'extend', Load(), lineno=292, col_offset=12), [Call(Attribute(Name('self', Load(), lineno=292, col_offset=27), 'find_modules', Load(), lineno=292, col_offset=27), [], [], None, None, lineno=292, col_offset=27)], [], None, None, lineno=292, col_offset=12), lineno=292, col_offset=12)], [], lineno=291, col_offset=8), If(Attribute(Name('self', Load(), lineno=293, col_offset=11), 'packages', Load(), lineno=293, col_offset=11), [For(Name('package', Store(), lineno=294, col_offset=16), Attribute(Name('self', Load(), lineno=294, col_offset=27), 'packages', Load(), lineno=294, col_offset=27), [Assign([Name('package_dir', Store(), lineno=295, col_offset=16)], Call(Attribute(Name('self', Load(), lineno=295, col_offset=30), 'get_package_dir', Load(), lineno=295, col_offset=30), [Name('package', Load(), lineno=295, col_offset=51)], [], None, None, lineno=295, col_offset=30), lineno=295, col_offset=16), Assign([Name('m', Store(), lineno=296, col_offset=16)], Call(Attribute(Name('self', Load(), lineno=296, col_offset=20), 'find_package_modules', Load(), lineno=296, col_offset=20), [Name('package', Load(), lineno=296, col_offset=46), Name('package_dir', Load(), lineno=296, col_offset=55)], [], None, None, lineno=296, col_offset=20), lineno=296, col_offset=16), Expr(Call(Attribute(Name('modules', Load(), lineno=297, col_offset=16), 'extend', Load(), lineno=297, col_offset=16), [Name('m', Load(), lineno=297, col_offset=31)], [], None, None, lineno=297, col_offset=16), lineno=297, col_offset=16)], [], lineno=294, col_offset=12)], [], lineno=293, col_offset=8), Return(Name('modules', Load(), lineno=298, col_offset=15), lineno=298, col_offset=8)], [], lineno=284, col_offset=4), FunctionDef('get_source_files', arguments([Name('self', Param(), lineno=300, col_offset=25)], None, None, []), [Return(ListComp(Subscript(Name('module', Load(), lineno=301, col_offset=16), Index(Num(-1, lineno=301, col_offset=24)), Load(), lineno=301, col_offset=16), [comprehension(Name('module', Store(), lineno=301, col_offset=31), Call(Attribute(Name('self', Load(), lineno=301, col_offset=41), 'find_all_modules', Load(), lineno=301, col_offset=41), [], [], None, None, lineno=301, col_offset=41), [])], lineno=301, col_offset=16), lineno=301, col_offset=8)], [], lineno=300, col_offset=4), FunctionDef('get_module_outfile', arguments([Name('self', Param(), lineno=303, col_offset=27), Name('build_dir', Param(), lineno=303, col_offset=33), Name('package', Param(), lineno=303, col_offset=44), Name('module', Param(), lineno=303, col_offset=53)], None, None, []), [Assign([Name('outfile_path', Store(), lineno=304, col_offset=8)], BinOp(BinOp(List([Name('build_dir', Load(), lineno=304, col_offset=24)], Load(), lineno=304, col_offset=23), Add(), Call(Name('list', Load(), lineno=304, col_offset=37), [Name('package', Load(), lineno=304, col_offset=42)], [], None, None, lineno=304, col_offset=37), lineno=304, col_offset=23), Add(), List([BinOp(Name('module', Load(), lineno=304, col_offset=54), Add(), Str('.py', lineno=304, col_offset=63), lineno=304, col_offset=54)], Load(), lineno=304, col_offset=53), lineno=304, col_offset=51), lineno=304, col_offset=8), Return(Call(Attribute(Attribute(Name('os', Load(), lineno=305, col_offset=15), 'path', Load(), lineno=305, col_offset=15), 'join', Load(), lineno=305, col_offset=15), [], [], Name('outfile_path', Load(), lineno=305, col_offset=29), None, lineno=305, col_offset=15), lineno=305, col_offset=8)], [], lineno=303, col_offset=4), FunctionDef('get_outputs', arguments([Name('self', Param(), lineno=307, col_offset=20), Name('include_bytecode', Param(), lineno=307, col_offset=26)], None, None, [Num(1, lineno=307, col_offset=43)]), [Assign([Name('modules', Store(), lineno=308, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=308, col_offset=18), 'find_all_modules', Load(), lineno=308, col_offset=18), [], [], None, None, lineno=308, col_offset=18), lineno=308, col_offset=8), Assign([Name('outputs', Store(), lineno=309, col_offset=8)], List([], Load(), lineno=309, col_offset=18), lineno=309, col_offset=8), For(Tuple([Name('package', Store(), lineno=310, col_offset=13), Name('module', Store(), lineno=310, col_offset=22), Name('module_file', Store(), lineno=310, col_offset=30)], Store(), lineno=310, col_offset=13), Name('modules', Load(), lineno=310, col_offset=46), [Assign([Name('package', Store(), lineno=311, col_offset=12)], Call(Attribute(Name('package', Load(), lineno=311, col_offset=22), 'split', Load(), lineno=311, col_offset=22), [Str('.', lineno=311, col_offset=36)], [], None, None, lineno=311, col_offset=22), lineno=311, col_offset=12), Assign([Name('filename', Store(), lineno=312, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=312, col_offset=23), 'get_module_outfile', Load(), lineno=312, col_offset=23), [Attribute(Name('self', Load(), lineno=312, col_offset=47), 'build_lib', Load(), lineno=312, col_offset=47), Name('package', Load(), lineno=312, col_offset=63), Name('module', Load(), lineno=312, col_offset=72)], [], None, None, lineno=312, col_offset=23), lineno=312, col_offset=12), Expr(Call(Attribute(Name('outputs', Load(), lineno=313, col_offset=12), 'append', Load(), lineno=313, col_offset=12), [Name('filename', Load(), lineno=313, col_offset=27)], [], None, None, lineno=313, col_offset=12), lineno=313, col_offset=12), If(Name('include_bytecode', Load(), lineno=314, col_offset=15), [If(Attribute(Name('self', Load(), lineno=315, col_offset=19), 'compile', Load(), lineno=315, col_offset=19), [Expr(Call(Attribute(Name('outputs', Load(), lineno=316, col_offset=20), 'append', Load(), lineno=316, col_offset=20), [BinOp(Name('filename', Load(), lineno=316, col_offset=35), Add(), Str('c', lineno=316, col_offset=46), lineno=316, col_offset=35)], [], None, None, lineno=316, col_offset=20), lineno=316, col_offset=20)], [], lineno=315, col_offset=16), If(Compare(Attribute(Name('self', Load(), lineno=317, col_offset=19), 'optimize', Load(), lineno=317, col_offset=19), [Gt()], [Num(0, lineno=317, col_offset=35)], lineno=317, col_offset=19), [Expr(Call(Attribute(Name('outputs', Load(), lineno=318, col_offset=20), 'append', Load(), lineno=318, col_offset=20), [BinOp(Name('filename', Load(), lineno=318, col_offset=35), Add(), Str('o', lineno=318, col_offset=46), lineno=318, col_offset=35)], [], None, None, lineno=318, col_offset=20), lineno=318, col_offset=20)], [], lineno=317, col_offset=16)], [], lineno=314, col_offset=12)], [], lineno=310, col_offset=8), AugAssign(Name('outputs', Store(), lineno=320, col_offset=8), Add(), ListComp(Call(Attribute(Attribute(Name('os', Load(), lineno=321, col_offset=12), 'path', Load(), lineno=321, col_offset=12), 'join', Load(), lineno=321, col_offset=12), [Name('build_dir', Load(), lineno=321, col_offset=25), Name('filename', Load(), lineno=321, col_offset=36)], [], None, None, lineno=321, col_offset=12), [comprehension(Tuple([Name('package', Store(), lineno=322, col_offset=16), Name('src_dir', Store(), lineno=322, col_offset=25), Name('build_dir', Store(), lineno=322, col_offset=34), Name('filenames', Store(), lineno=322, col_offset=45)], Store(), lineno=322, col_offset=16), Attribute(Name('self', Load(), lineno=322, col_offset=58), 'data_files', Load(), lineno=322, col_offset=58), []), comprehension(Name('filename', Store(), lineno=323, col_offset=16), Name('filenames', Load(), lineno=323, col_offset=28), [])], lineno=321, col_offset=12), lineno=320, col_offset=8), Return(Name('outputs', Load(), lineno=326, col_offset=15), lineno=326, col_offset=8)], [], lineno=307, col_offset=4), FunctionDef('build_module', arguments([Name('self', Param(), lineno=328, col_offset=21), Name('module', Param(), lineno=328, col_offset=27), Name('module_file', Param(), lineno=328, col_offset=35), Name('package', Param(), lineno=328, col_offset=48)], None, None, []), [If(Call(Name('isinstance', Load(), lineno=329, col_offset=11), [Name('package', Load(), lineno=329, col_offset=22), Name('str', Load(), lineno=329, col_offset=31)], [], None, None, lineno=329, col_offset=11), [Assign([Name('package', Store(), lineno=330, col_offset=12)], Call(Attribute(Name('package', Load(), lineno=330, col_offset=22), 'split', Load(), lineno=330, col_offset=22), [Str('.', lineno=330, col_offset=36)], [], None, None, lineno=330, col_offset=22), lineno=330, col_offset=12)], [If(UnaryOp(Not(), Call(Name('isinstance', Load(), lineno=331, col_offset=17), [Name('package', Load(), lineno=331, col_offset=28), Tuple([Name('list', Load(), lineno=331, col_offset=38), Name('tuple', Load(), lineno=331, col_offset=44)], Load(), lineno=331, col_offset=38)], [], None, None, lineno=331, col_offset=17), lineno=331, col_offset=13), [Raise(Call(Name('TypeError', Load(), lineno=332, col_offset=18), [Str("'package' must be a string (dot-separated), list, or tuple", lineno=333, col_offset=18)], [], None, None, lineno=332, col_offset=18), None, None, lineno=332, col_offset=12)], [], lineno=331, col_offset=13)], lineno=329, col_offset=8), Assign([Name('outfile', Store(), lineno=338, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=338, col_offset=18), 'get_module_outfile', Load(), lineno=338, col_offset=18), [Attribute(Name('self', Load(), lineno=338, col_offset=42), 'build_lib', Load(), lineno=338, col_offset=42), Name('package', Load(), lineno=338, col_offset=58), Name('module', Load(), lineno=338, col_offset=67)], [], None, None, lineno=338, col_offset=18), lineno=338, col_offset=8), Assign([Name('dir', Store(), lineno=339, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=339, col_offset=14), 'path', Load(), lineno=339, col_offset=14), 'dirname', Load(), lineno=339, col_offset=14), [Name('outfile', Load(), lineno=339, col_offset=30)], [], None, None, lineno=339, col_offset=14), lineno=339, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=340, col_offset=8), 'mkpath', Load(), lineno=340, col_offset=8), [Name('dir', Load(), lineno=340, col_offset=20)], [], None, None, lineno=340, col_offset=8), lineno=340, col_offset=8), Return(Call(Attribute(Name('self', Load(), lineno=341, col_offset=15), 'copy_file', Load(), lineno=341, col_offset=15), [Name('module_file', Load(), lineno=341, col_offset=30), Name('outfile', Load(), lineno=341, col_offset=43)], [keyword('preserve_mode', Num(0, lineno=341, col_offset=66))], None, None, lineno=341, col_offset=15), lineno=341, col_offset=8)], [], lineno=328, col_offset=4), FunctionDef('build_modules', arguments([Name('self', Param(), lineno=343, col_offset=22)], None, None, []), [Assign([Name('modules', Store(), lineno=344, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=344, col_offset=18), 'find_modules', Load(), lineno=344, col_offset=18), [], [], None, None, lineno=344, col_offset=18), lineno=344, col_offset=8), For(Tuple([Name('package', Store(), lineno=345, col_offset=13), Name('module', Store(), lineno=345, col_offset=22), Name('module_file', Store(), lineno=345, col_offset=30)], Store(), lineno=345, col_offset=13), Name('modules', Load(), lineno=345, col_offset=46), [Expr(Call(Attribute(Name('self', Load(), lineno=351, col_offset=12), 'build_module', Load(), lineno=351, col_offset=12), [Name('module', Load(), lineno=351, col_offset=30), Name('module_file', Load(), lineno=351, col_offset=38), Name('package', Load(), lineno=351, col_offset=51)], [], None, None, lineno=351, col_offset=12), lineno=351, col_offset=12)], [], lineno=345, col_offset=8)], [], lineno=343, col_offset=4), FunctionDef('build_packages', arguments([Name('self', Param(), lineno=353, col_offset=23)], None, None, []), [For(Name('package', Store(), lineno=354, col_offset=12), Attribute(Name('self', Load(), lineno=354, col_offset=23), 'packages', Load(), lineno=354, col_offset=23), [Assign([Name('package_dir', Store(), lineno=365, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=365, col_offset=26), 'get_package_dir', Load(), lineno=365, col_offset=26), [Name('package', Load(), lineno=365, col_offset=47)], [], None, None, lineno=365, col_offset=26), lineno=365, col_offset=12), Assign([Name('modules', Store(), lineno=366, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=366, col_offset=22), 'find_package_modules', Load(), lineno=366, col_offset=22), [Name('package', Load(), lineno=366, col_offset=48), Name('package_dir', Load(), lineno=366, col_offset=57)], [], None, None, lineno=366, col_offset=22), lineno=366, col_offset=12), For(Tuple([Name('package_', Store(), lineno=370, col_offset=17), Name('module', Store(), lineno=370, col_offset=27), Name('module_file', Store(), lineno=370, col_offset=35)], Store(), lineno=370, col_offset=17), Name('modules', Load(), lineno=370, col_offset=51), [Assert(Compare(Name('package', Load(), lineno=371, col_offset=23), [Eq()], [Name('package_', Load(), lineno=371, col_offset=34)], lineno=371, col_offset=23), None, lineno=371, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=372, col_offset=16), 'build_module', Load(), lineno=372, col_offset=16), [Name('module', Load(), lineno=372, col_offset=34), Name('module_file', Load(), lineno=372, col_offset=42), Name('package', Load(), lineno=372, col_offset=55)], [], None, None, lineno=372, col_offset=16), lineno=372, col_offset=16)], [], lineno=370, col_offset=12)], [], lineno=354, col_offset=8)], [], lineno=353, col_offset=4), FunctionDef('byte_compile', arguments([Name('self', Param(), lineno=374, col_offset=21), Name('files', Param(), lineno=374, col_offset=27)], None, None, []), [If(Attribute(Name('sys', Load(), lineno=375, col_offset=11), 'dont_write_bytecode', Load(), lineno=375, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=376, col_offset=12), 'warn', Load(), lineno=376, col_offset=12), [Str('byte-compiling is disabled, skipping.', lineno=376, col_offset=22)], [], None, None, lineno=376, col_offset=12), lineno=376, col_offset=12), Return(None, lineno=377, col_offset=12)], [], lineno=375, col_offset=8), ImportFrom('distutils.util', [alias('byte_compile', None)], 0, lineno=379, col_offset=8), Assign([Name('prefix', Store(), lineno=380, col_offset=8)], Attribute(Name('self', Load(), lineno=380, col_offset=17), 'build_lib', Load(), lineno=380, col_offset=17), lineno=380, col_offset=8), If(Compare(Subscript(Name('prefix', Load(), lineno=381, col_offset=11), Index(Num(-1, lineno=381, col_offset=19)), Load(), lineno=381, col_offset=11), [NotEq()], [Attribute(Name('os', Load(), lineno=381, col_offset=25), 'sep', Load(), lineno=381, col_offset=25)], lineno=381, col_offset=11), [Assign([Name('prefix', Store(), lineno=382, col_offset=12)], BinOp(Name('prefix', Load(), lineno=382, col_offset=21), Add(), Attribute(Name('os', Load(), lineno=382, col_offset=30), 'sep', Load(), lineno=382, col_offset=30), lineno=382, col_offset=21), lineno=382, col_offset=12)], [], lineno=381, col_offset=8), If(Attribute(Name('self', Load(), lineno=388, col_offset=11), 'compile', Load(), lineno=388, col_offset=11), [Expr(Call(Name('byte_compile', Load(), lineno=389, col_offset=12), [Name('files', Load(), lineno=389, col_offset=25)], [keyword('optimize', Num(0, lineno=389, col_offset=41)), keyword('force', Attribute(Name('self', Load(), lineno=390, col_offset=31), 'force', Load(), lineno=390, col_offset=31)), keyword('prefix', Name('prefix', Load(), lineno=390, col_offset=50)), keyword('dry_run', Attribute(Name('self', Load(), lineno=390, col_offset=66), 'dry_run', Load(), lineno=390, col_offset=66))], None, None, lineno=389, col_offset=12), lineno=389, col_offset=12)], [], lineno=388, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=391, col_offset=11), 'optimize', Load(), lineno=391, col_offset=11), [Gt()], [Num(0, lineno=391, col_offset=27)], lineno=391, col_offset=11), [Expr(Call(Name('byte_compile', Load(), lineno=392, col_offset=12), [Name('files', Load(), lineno=392, col_offset=25)], [keyword('optimize', Attribute(Name('self', Load(), lineno=392, col_offset=41), 'optimize', Load(), lineno=392, col_offset=41)), keyword('force', Attribute(Name('self', Load(), lineno=393, col_offset=31), 'force', Load(), lineno=393, col_offset=31)), keyword('prefix', Name('prefix', Load(), lineno=393, col_offset=50)), keyword('dry_run', Attribute(Name('self', Load(), lineno=393, col_offset=66), 'dry_run', Load(), lineno=393, col_offset=66))], None, None, lineno=392, col_offset=12), lineno=392, col_offset=12)], [], lineno=391, col_offset=8)], [], lineno=374, col_offset=4)], [], lineno=16, col_offset=0)])
