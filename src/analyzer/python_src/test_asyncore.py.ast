Module([Import([alias('asyncore', None)], lineno=1, col_offset=0), Import([alias('unittest', None)], lineno=2, col_offset=0), Import([alias('select', None)], lineno=3, col_offset=0), Import([alias('os', None)], lineno=4, col_offset=0), Import([alias('socket', None)], lineno=5, col_offset=0), Import([alias('sys', None)], lineno=6, col_offset=0), Import([alias('time', None)], lineno=7, col_offset=0), Import([alias('warnings', None)], lineno=8, col_offset=0), Import([alias('errno', None)], lineno=9, col_offset=0), ImportFrom('test', [alias('test_support', None)], 0, lineno=11, col_offset=0), ImportFrom('test.test_support', [alias('TESTFN', None), alias('run_unittest', None), alias('unlink', None)], 0, lineno=12, col_offset=0), ImportFrom('StringIO', [alias('StringIO', None)], 0, lineno=13, col_offset=0), TryExcept([Import([alias('threading', None)], lineno=16, col_offset=4)], [ExceptHandler(Name('ImportError', Load(), lineno=17, col_offset=7), None, [Assign([Name('threading', Store(), lineno=18, col_offset=4)], Name('None', Load(), lineno=18, col_offset=16), lineno=18, col_offset=4)], lineno=17, col_offset=0)], [], lineno=15, col_offset=0), Assign([Name('HOST', Store(), lineno=20, col_offset=0)], Attribute(Name('test_support', Load(), lineno=20, col_offset=7), 'HOST', Load(), lineno=20, col_offset=7), lineno=20, col_offset=0), ClassDef('dummysocket', [], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=23, col_offset=17)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=24, col_offset=8), 'closed', Store(), lineno=24, col_offset=8)], Name('False', Load(), lineno=24, col_offset=22), lineno=24, col_offset=8)], [], lineno=23, col_offset=4), FunctionDef('close', arguments([Name('self', Param(), lineno=26, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=27, col_offset=8), 'closed', Store(), lineno=27, col_offset=8)], Name('True', Load(), lineno=27, col_offset=22), lineno=27, col_offset=8)], [], lineno=26, col_offset=4), FunctionDef('fileno', arguments([Name('self', Param(), lineno=29, col_offset=15)], None, None, []), [Return(Num(42, lineno=30, col_offset=15), lineno=30, col_offset=8)], [], lineno=29, col_offset=4)], [], lineno=22, col_offset=0), ClassDef('dummychannel', [], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=33, col_offset=17)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=34, col_offset=8), 'socket', Store(), lineno=34, col_offset=8)], Call(Name('dummysocket', Load(), lineno=34, col_offset=22), [], [], None, None, lineno=34, col_offset=22), lineno=34, col_offset=8)], [], lineno=33, col_offset=4), FunctionDef('close', arguments([Name('self', Param(), lineno=36, col_offset=14)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=37, col_offset=8), 'socket', Load(), lineno=37, col_offset=8), 'close', Load(), lineno=37, col_offset=8), [], [], None, None, lineno=37, col_offset=8), lineno=37, col_offset=8)], [], lineno=36, col_offset=4)], [], lineno=32, col_offset=0), ClassDef('exitingdummy', [], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=40, col_offset=17)], None, None, []), [Pass( lineno=41, col_offset=8)], [], lineno=40, col_offset=4), FunctionDef('handle_read_event', arguments([Name('self', Param(), lineno=43, col_offset=26)], None, None, []), [Raise(Call(Attribute(Name('asyncore', Load(), lineno=44, col_offset=14), 'ExitNow', Load(), lineno=44, col_offset=14), [], [], None, None, lineno=44, col_offset=14), None, None, lineno=44, col_offset=8)], [], lineno=43, col_offset=4), Assign([Name('handle_write_event', Store(), lineno=46, col_offset=4)], Name('handle_read_event', Load(), lineno=46, col_offset=25), lineno=46, col_offset=4), Assign([Name('handle_close', Store(), lineno=47, col_offset=4)], Name('handle_read_event', Load(), lineno=47, col_offset=19), lineno=47, col_offset=4), Assign([Name('handle_expt_event', Store(), lineno=48, col_offset=4)], Name('handle_read_event', Load(), lineno=48, col_offset=24), lineno=48, col_offset=4)], [], lineno=39, col_offset=0), ClassDef('crashingdummy', [], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=51, col_offset=17)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=52, col_offset=8), 'error_handled', Store(), lineno=52, col_offset=8)], Name('False', Load(), lineno=52, col_offset=29), lineno=52, col_offset=8)], [], lineno=51, col_offset=4), FunctionDef('handle_read_event', arguments([Name('self', Param(), lineno=54, col_offset=26)], None, None, []), [Raise(Call(Name('Exception', Load(), lineno=55, col_offset=14), [], [], None, None, lineno=55, col_offset=14), None, None, lineno=55, col_offset=8)], [], lineno=54, col_offset=4), Assign([Name('handle_write_event', Store(), lineno=57, col_offset=4)], Name('handle_read_event', Load(), lineno=57, col_offset=25), lineno=57, col_offset=4), Assign([Name('handle_close', Store(), lineno=58, col_offset=4)], Name('handle_read_event', Load(), lineno=58, col_offset=19), lineno=58, col_offset=4), Assign([Name('handle_expt_event', Store(), lineno=59, col_offset=4)], Name('handle_read_event', Load(), lineno=59, col_offset=24), lineno=59, col_offset=4), FunctionDef('handle_error', arguments([Name('self', Param(), lineno=61, col_offset=21)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=62, col_offset=8), 'error_handled', Store(), lineno=62, col_offset=8)], Name('True', Load(), lineno=62, col_offset=29), lineno=62, col_offset=8)], [], lineno=61, col_offset=4)], [], lineno=50, col_offset=0), FunctionDef('capture_server', arguments([Name('evt', Param(), lineno=65, col_offset=19), Name('buf', Param(), lineno=65, col_offset=24), Name('serv', Param(), lineno=65, col_offset=29)], None, None, []), [TryFinally([TryExcept([Expr(Call(Attribute(Name('serv', Load(), lineno=67, col_offset=8), 'listen', Load(), lineno=67, col_offset=8), [Num(5, lineno=67, col_offset=20)], [], None, None, lineno=67, col_offset=8), lineno=67, col_offset=8), Assign([Tuple([Name('conn', Store(), lineno=68, col_offset=8), Name('addr', Store(), lineno=68, col_offset=14)], Store(), lineno=68, col_offset=8)], Call(Attribute(Name('serv', Load(), lineno=68, col_offset=21), 'accept', Load(), lineno=68, col_offset=21), [], [], None, None, lineno=68, col_offset=21), lineno=68, col_offset=8)], [ExceptHandler(Attribute(Name('socket', Load(), lineno=69, col_offset=11), 'timeout', Load(), lineno=69, col_offset=11), None, [Pass( lineno=70, col_offset=8)], lineno=69, col_offset=4)], [Assign([Name('n', Store(), lineno=72, col_offset=8)], Num(200, lineno=72, col_offset=12), lineno=72, col_offset=8), While(Compare(Name('n', Load(), lineno=73, col_offset=14), [Gt()], [Num(0, lineno=73, col_offset=18)], lineno=73, col_offset=14), [Assign([Tuple([Name('r', Store(), lineno=74, col_offset=12), Name('w', Store(), lineno=74, col_offset=15), Name('e', Store(), lineno=74, col_offset=18)], Store(), lineno=74, col_offset=12)], Call(Attribute(Name('select', Load(), lineno=74, col_offset=22), 'select', Load(), lineno=74, col_offset=22), [List([Name('conn', Load(), lineno=74, col_offset=37)], Load(), lineno=74, col_offset=36), List([], Load(), lineno=74, col_offset=44), List([], Load(), lineno=74, col_offset=48)], [], None, None, lineno=74, col_offset=22), lineno=74, col_offset=12), If(Name('r', Load(), lineno=75, col_offset=15), [Assign([Name('data', Store(), lineno=76, col_offset=16)], Call(Attribute(Name('conn', Load(), lineno=76, col_offset=23), 'recv', Load(), lineno=76, col_offset=23), [Num(10, lineno=76, col_offset=33)], [], None, None, lineno=76, col_offset=23), lineno=76, col_offset=16), Expr(Call(Attribute(Name('buf', Load(), lineno=78, col_offset=16), 'write', Load(), lineno=78, col_offset=16), [Call(Attribute(Name('data', Load(), lineno=78, col_offset=26), 'replace', Load(), lineno=78, col_offset=26), [Str('\n', lineno=78, col_offset=39), Str('', lineno=78, col_offset=45)], [], None, None, lineno=78, col_offset=26)], [], None, None, lineno=78, col_offset=16), lineno=78, col_offset=16), If(Compare(Str('\n', lineno=79, col_offset=19), [In()], [Name('data', Load(), lineno=79, col_offset=27)], lineno=79, col_offset=19), [Break( lineno=80, col_offset=20)], [], lineno=79, col_offset=16)], [], lineno=75, col_offset=12), AugAssign(Name('n', Store(), lineno=81, col_offset=12), Sub(), Num(1, lineno=81, col_offset=17), lineno=81, col_offset=12), Expr(Call(Attribute(Name('time', Load(), lineno=82, col_offset=12), 'sleep', Load(), lineno=82, col_offset=12), [Num(0.01, lineno=82, col_offset=23)], [], None, None, lineno=82, col_offset=12), lineno=82, col_offset=12)], [], lineno=73, col_offset=8), Expr(Call(Attribute(Name('conn', Load(), lineno=84, col_offset=8), 'close', Load(), lineno=84, col_offset=8), [], [], None, None, lineno=84, col_offset=8), lineno=84, col_offset=8)], lineno=66, col_offset=4)], [Expr(Call(Attribute(Name('serv', Load(), lineno=86, col_offset=8), 'close', Load(), lineno=86, col_offset=8), [], [], None, None, lineno=86, col_offset=8), lineno=86, col_offset=8), Expr(Call(Attribute(Name('evt', Load(), lineno=87, col_offset=8), 'set', Load(), lineno=87, col_offset=8), [], [], None, None, lineno=87, col_offset=8), lineno=87, col_offset=8)], lineno=66, col_offset=4)], [], lineno=65, col_offset=0), ClassDef('HelperFunctionTests', [Attribute(Name('unittest', Load(), lineno=90, col_offset=26), 'TestCase', Load(), lineno=90, col_offset=26)], [FunctionDef('test_readwriteexc', arguments([Name('self', Param(), lineno=91, col_offset=26)], None, None, []), [Assign([Name('tr1', Store(), lineno=96, col_offset=8)], Call(Name('exitingdummy', Load(), lineno=96, col_offset=14), [], [], None, None, lineno=96, col_offset=14), lineno=96, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=97, col_offset=8), 'assertRaises', Load(), lineno=97, col_offset=8), [Attribute(Name('asyncore', Load(), lineno=97, col_offset=26), 'ExitNow', Load(), lineno=97, col_offset=26), Attribute(Name('asyncore', Load(), lineno=97, col_offset=44), 'read', Load(), lineno=97, col_offset=44), Name('tr1', Load(), lineno=97, col_offset=59)], [], None, None, lineno=97, col_offset=8), lineno=97, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=98, col_offset=8), 'assertRaises', Load(), lineno=98, col_offset=8), [Attribute(Name('asyncore', Load(), lineno=98, col_offset=26), 'ExitNow', Load(), lineno=98, col_offset=26), Attribute(Name('asyncore', Load(), lineno=98, col_offset=44), 'write', Load(), lineno=98, col_offset=44), Name('tr1', Load(), lineno=98, col_offset=60)], [], None, None, lineno=98, col_offset=8), lineno=98, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=99, col_offset=8), 'assertRaises', Load(), lineno=99, col_offset=8), [Attribute(Name('asyncore', Load(), lineno=99, col_offset=26), 'ExitNow', Load(), lineno=99, col_offset=26), Attribute(Name('asyncore', Load(), lineno=99, col_offset=44), '_exception', Load(), lineno=99, col_offset=44), Name('tr1', Load(), lineno=99, col_offset=65)], [], None, None, lineno=99, col_offset=8), lineno=99, col_offset=8), Assign([Name('tr2', Store(), lineno=103, col_offset=8)], Call(Name('crashingdummy', Load(), lineno=103, col_offset=14), [], [], None, None, lineno=103, col_offset=14), lineno=103, col_offset=8), Expr(Call(Attribute(Name('asyncore', Load(), lineno=104, col_offset=8), 'read', Load(), lineno=104, col_offset=8), [Name('tr2', Load(), lineno=104, col_offset=22)], [], None, None, lineno=104, col_offset=8), lineno=104, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=105, col_offset=8), 'assertEqual', Load(), lineno=105, col_offset=8), [Attribute(Name('tr2', Load(), lineno=105, col_offset=25), 'error_handled', Load(), lineno=105, col_offset=25), Name('True', Load(), lineno=105, col_offset=44)], [], None, None, lineno=105, col_offset=8), lineno=105, col_offset=8), Assign([Name('tr2', Store(), lineno=107, col_offset=8)], Call(Name('crashingdummy', Load(), lineno=107, col_offset=14), [], [], None, None, lineno=107, col_offset=14), lineno=107, col_offset=8), Expr(Call(Attribute(Name('asyncore', Load(), lineno=108, col_offset=8), 'write', Load(), lineno=108, col_offset=8), [Name('tr2', Load(), lineno=108, col_offset=23)], [], None, None, lineno=108, col_offset=8), lineno=108, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=109, col_offset=8), 'assertEqual', Load(), lineno=109, col_offset=8), [Attribute(Name('tr2', Load(), lineno=109, col_offset=25), 'error_handled', Load(), lineno=109, col_offset=25), Name('True', Load(), lineno=109, col_offset=44)], [], None, None, lineno=109, col_offset=8), lineno=109, col_offset=8), Assign([Name('tr2', Store(), lineno=111, col_offset=8)], Call(Name('crashingdummy', Load(), lineno=111, col_offset=14), [], [], None, None, lineno=111, col_offset=14), lineno=111, col_offset=8), Expr(Call(Attribute(Name('asyncore', Load(), lineno=112, col_offset=8), '_exception', Load(), lineno=112, col_offset=8), [Name('tr2', Load(), lineno=112, col_offset=28)], [], None, None, lineno=112, col_offset=8), lineno=112, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=113, col_offset=8), 'assertEqual', Load(), lineno=113, col_offset=8), [Attribute(Name('tr2', Load(), lineno=113, col_offset=25), 'error_handled', Load(), lineno=113, col_offset=25), Name('True', Load(), lineno=113, col_offset=44)], [], None, None, lineno=113, col_offset=8), lineno=113, col_offset=8)], [], lineno=91, col_offset=4), FunctionDef('test_readwrite', arguments([Name('self', Param(), lineno=121, col_offset=23)], None, None, []), [Assign([Name('attributes', Store(), lineno=124, col_offset=8)], Tuple([Str('read', lineno=124, col_offset=22), Str('expt', lineno=124, col_offset=30), Str('write', lineno=124, col_offset=38), Str('closed', lineno=124, col_offset=47), Str('error_handled', lineno=124, col_offset=57)], Load(), lineno=124, col_offset=22), lineno=124, col_offset=8), Assign([Name('expected', Store(), lineno=126, col_offset=8)], Tuple([Tuple([Attribute(Name('select', Load(), lineno=127, col_offset=13), 'POLLIN', Load(), lineno=127, col_offset=13), Str('read', lineno=127, col_offset=28)], Load(), lineno=127, col_offset=13), Tuple([Attribute(Name('select', Load(), lineno=128, col_offset=13), 'POLLPRI', Load(), lineno=128, col_offset=13), Str('expt', lineno=128, col_offset=29)], Load(), lineno=128, col_offset=13), Tuple([Attribute(Name('select', Load(), lineno=129, col_offset=13), 'POLLOUT', Load(), lineno=129, col_offset=13), Str('write', lineno=129, col_offset=29)], Load(), lineno=129, col_offset=13), Tuple([Attribute(Name('select', Load(), lineno=130, col_offset=13), 'POLLERR', Load(), lineno=130, col_offset=13), Str('closed', lineno=130, col_offset=29)], Load(), lineno=130, col_offset=13), Tuple([Attribute(Name('select', Load(), lineno=131, col_offset=13), 'POLLHUP', Load(), lineno=131, col_offset=13), Str('closed', lineno=131, col_offset=29)], Load(), lineno=131, col_offset=13), Tuple([Attribute(Name('select', Load(), lineno=132, col_offset=13), 'POLLNVAL', Load(), lineno=132, col_offset=13), Str('closed', lineno=132, col_offset=30)], Load(), lineno=132, col_offset=13)], Load(), lineno=127, col_offset=12), lineno=126, col_offset=8), ClassDef('testobj', [], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=136, col_offset=25)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=137, col_offset=16), 'read', Store(), lineno=137, col_offset=16)], Name('False', Load(), lineno=137, col_offset=28), lineno=137, col_offset=16), Assign([Attribute(Name('self', Load(), lineno=138, col_offset=16), 'write', Store(), lineno=138, col_offset=16)], Name('False', Load(), lineno=138, col_offset=29), lineno=138, col_offset=16), Assign([Attribute(Name('self', Load(), lineno=139, col_offset=16), 'closed', Store(), lineno=139, col_offset=16)], Name('False', Load(), lineno=139, col_offset=30), lineno=139, col_offset=16), Assign([Attribute(Name('self', Load(), lineno=140, col_offset=16), 'expt', Store(), lineno=140, col_offset=16)], Name('False', Load(), lineno=140, col_offset=28), lineno=140, col_offset=16), Assign([Attribute(Name('self', Load(), lineno=141, col_offset=16), 'error_handled', Store(), lineno=141, col_offset=16)], Name('False', Load(), lineno=141, col_offset=37), lineno=141, col_offset=16)], [], lineno=136, col_offset=12), FunctionDef('handle_read_event', arguments([Name('self', Param(), lineno=143, col_offset=34)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=144, col_offset=16), 'read', Store(), lineno=144, col_offset=16)], Name('True', Load(), lineno=144, col_offset=28), lineno=144, col_offset=16)], [], lineno=143, col_offset=12), FunctionDef('handle_write_event', arguments([Name('self', Param(), lineno=146, col_offset=35)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=147, col_offset=16), 'write', Store(), lineno=147, col_offset=16)], Name('True', Load(), lineno=147, col_offset=29), lineno=147, col_offset=16)], [], lineno=146, col_offset=12), FunctionDef('handle_close', arguments([Name('self', Param(), lineno=149, col_offset=29)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=150, col_offset=16), 'closed', Store(), lineno=150, col_offset=16)], Name('True', Load(), lineno=150, col_offset=30), lineno=150, col_offset=16)], [], lineno=149, col_offset=12), FunctionDef('handle_expt_event', arguments([Name('self', Param(), lineno=152, col_offset=34)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=153, col_offset=16), 'expt', Store(), lineno=153, col_offset=16)], Name('True', Load(), lineno=153, col_offset=28), lineno=153, col_offset=16)], [], lineno=152, col_offset=12), FunctionDef('handle_error', arguments([Name('self', Param(), lineno=155, col_offset=29)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=156, col_offset=16), 'error_handled', Store(), lineno=156, col_offset=16)], Name('True', Load(), lineno=156, col_offset=37), lineno=156, col_offset=16)], [], lineno=155, col_offset=12)], [], lineno=135, col_offset=8), For(Tuple([Name('flag', Store(), lineno=158, col_offset=12), Name('expectedattr', Store(), lineno=158, col_offset=18)], Store(), lineno=158, col_offset=12), Name('expected', Load(), lineno=158, col_offset=34), [Assign([Name('tobj', Store(), lineno=159, col_offset=12)], Call(Name('testobj', Load(), lineno=159, col_offset=19), [], [], None, None, lineno=159, col_offset=19), lineno=159, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=160, col_offset=12), 'assertEqual', Load(), lineno=160, col_offset=12), [Call(Name('getattr', Load(), lineno=160, col_offset=29), [Name('tobj', Load(), lineno=160, col_offset=37), Name('expectedattr', Load(), lineno=160, col_offset=43)], [], None, None, lineno=160, col_offset=29), Name('False', Load(), lineno=160, col_offset=58)], [], None, None, lineno=160, col_offset=12), lineno=160, col_offset=12), Expr(Call(Attribute(Name('asyncore', Load(), lineno=161, col_offset=12), 'readwrite', Load(), lineno=161, col_offset=12), [Name('tobj', Load(), lineno=161, col_offset=31), Name('flag', Load(), lineno=161, col_offset=37)], [], None, None, lineno=161, col_offset=12), lineno=161, col_offset=12), For(Name('attr', Store(), lineno=165, col_offset=16), Name('attributes', Load(), lineno=165, col_offset=24), [Expr(Call(Attribute(Name('self', Load(), lineno=166, col_offset=16), 'assertEqual', Load(), lineno=166, col_offset=16), [Call(Name('getattr', Load(), lineno=166, col_offset=33), [Name('tobj', Load(), lineno=166, col_offset=41), Name('attr', Load(), lineno=166, col_offset=47)], [], None, None, lineno=166, col_offset=33), Compare(Name('attr', Load(), lineno=166, col_offset=54), [Eq()], [Name('expectedattr', Load(), lineno=166, col_offset=60)], lineno=166, col_offset=54)], [], None, None, lineno=166, col_offset=16), lineno=166, col_offset=16)], [], lineno=165, col_offset=12), Assign([Name('tr1', Store(), lineno=170, col_offset=12)], Call(Name('exitingdummy', Load(), lineno=170, col_offset=18), [], [], None, None, lineno=170, col_offset=18), lineno=170, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=171, col_offset=12), 'assertRaises', Load(), lineno=171, col_offset=12), [Attribute(Name('asyncore', Load(), lineno=171, col_offset=30), 'ExitNow', Load(), lineno=171, col_offset=30), Attribute(Name('asyncore', Load(), lineno=171, col_offset=48), 'readwrite', Load(), lineno=171, col_offset=48), Name('tr1', Load(), lineno=171, col_offset=68), Name('flag', Load(), lineno=171, col_offset=73)], [], None, None, lineno=171, col_offset=12), lineno=171, col_offset=12), Assign([Name('tr2', Store(), lineno=175, col_offset=12)], Call(Name('crashingdummy', Load(), lineno=175, col_offset=18), [], [], None, None, lineno=175, col_offset=18), lineno=175, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=176, col_offset=12), 'assertEqual', Load(), lineno=176, col_offset=12), [Attribute(Name('tr2', Load(), lineno=176, col_offset=29), 'error_handled', Load(), lineno=176, col_offset=29), Name('False', Load(), lineno=176, col_offset=48)], [], None, None, lineno=176, col_offset=12), lineno=176, col_offset=12), Expr(Call(Attribute(Name('asyncore', Load(), lineno=177, col_offset=12), 'readwrite', Load(), lineno=177, col_offset=12), [Name('tr2', Load(), lineno=177, col_offset=31), Name('flag', Load(), lineno=177, col_offset=36)], [], None, None, lineno=177, col_offset=12), lineno=177, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=178, col_offset=12), 'assertEqual', Load(), lineno=178, col_offset=12), [Attribute(Name('tr2', Load(), lineno=178, col_offset=29), 'error_handled', Load(), lineno=178, col_offset=29), Name('True', Load(), lineno=178, col_offset=48)], [], None, None, lineno=178, col_offset=12), lineno=178, col_offset=12)], [], lineno=158, col_offset=8)], [Call(Attribute(Name('unittest', Load(), lineno=120, col_offset=5), 'skipUnless', Load(), lineno=120, col_offset=5), [Call(Name('hasattr', Load(), lineno=120, col_offset=25), [Name('select', Load(), lineno=120, col_offset=33), Str('poll', lineno=120, col_offset=41)], [], None, None, lineno=120, col_offset=25), Str('select.poll required', lineno=120, col_offset=50)], [], None, None, lineno=120, col_offset=5)], lineno=120, col_offset=4), FunctionDef('test_closeall', arguments([Name('self', Param(), lineno=180, col_offset=22)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=181, col_offset=8), 'closeall_check', Load(), lineno=181, col_offset=8), [Name('False', Load(), lineno=181, col_offset=28)], [], None, None, lineno=181, col_offset=8), lineno=181, col_offset=8)], [], lineno=180, col_offset=4), FunctionDef('test_closeall_default', arguments([Name('self', Param(), lineno=183, col_offset=30)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=184, col_offset=8), 'closeall_check', Load(), lineno=184, col_offset=8), [Name('True', Load(), lineno=184, col_offset=28)], [], None, None, lineno=184, col_offset=8), lineno=184, col_offset=8)], [], lineno=183, col_offset=4), FunctionDef('closeall_check', arguments([Name('self', Param(), lineno=186, col_offset=23), Name('usedefault', Param(), lineno=186, col_offset=29)], None, None, []), [Assign([Name('l', Store(), lineno=189, col_offset=8)], List([], Load(), lineno=189, col_offset=12), lineno=189, col_offset=8), Assign([Name('testmap', Store(), lineno=190, col_offset=8)], Dict([], [], lineno=190, col_offset=18), lineno=190, col_offset=8), For(Name('i', Store(), lineno=191, col_offset=12), Call(Name('range', Load(), lineno=191, col_offset=17), [Num(10, lineno=191, col_offset=23)], [], None, None, lineno=191, col_offset=17), [Assign([Name('c', Store(), lineno=192, col_offset=12)], Call(Name('dummychannel', Load(), lineno=192, col_offset=16), [], [], None, None, lineno=192, col_offset=16), lineno=192, col_offset=12), Expr(Call(Attribute(Name('l', Load(), lineno=193, col_offset=12), 'append', Load(), lineno=193, col_offset=12), [Name('c', Load(), lineno=193, col_offset=21)], [], None, None, lineno=193, col_offset=12), lineno=193, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=194, col_offset=12), 'assertEqual', Load(), lineno=194, col_offset=12), [Attribute(Attribute(Name('c', Load(), lineno=194, col_offset=29), 'socket', Load(), lineno=194, col_offset=29), 'closed', Load(), lineno=194, col_offset=29), Name('False', Load(), lineno=194, col_offset=46)], [], None, None, lineno=194, col_offset=12), lineno=194, col_offset=12), Assign([Subscript(Name('testmap', Load(), lineno=195, col_offset=12), Index(Name('i', Load(), lineno=195, col_offset=20)), Store(), lineno=195, col_offset=12)], Name('c', Load(), lineno=195, col_offset=25), lineno=195, col_offset=12)], [], lineno=191, col_offset=8), If(Name('usedefault', Load(), lineno=197, col_offset=11), [Assign([Name('socketmap', Store(), lineno=198, col_offset=12)], Attribute(Name('asyncore', Load(), lineno=198, col_offset=24), 'socket_map', Load(), lineno=198, col_offset=24), lineno=198, col_offset=12), TryFinally([Assign([Attribute(Name('asyncore', Load(), lineno=200, col_offset=16), 'socket_map', Store(), lineno=200, col_offset=16)], Name('testmap', Load(), lineno=200, col_offset=38), lineno=200, col_offset=16), Expr(Call(Attribute(Name('asyncore', Load(), lineno=201, col_offset=16), 'close_all', Load(), lineno=201, col_offset=16), [], [], None, None, lineno=201, col_offset=16), lineno=201, col_offset=16)], [Assign([Tuple([Name('testmap', Store(), lineno=203, col_offset=16), Attribute(Name('asyncore', Load(), lineno=203, col_offset=25), 'socket_map', Store(), lineno=203, col_offset=25)], Store(), lineno=203, col_offset=16)], Tuple([Attribute(Name('asyncore', Load(), lineno=203, col_offset=47), 'socket_map', Load(), lineno=203, col_offset=47), Name('socketmap', Load(), lineno=203, col_offset=68)], Load(), lineno=203, col_offset=47), lineno=203, col_offset=16)], lineno=199, col_offset=12)], [Expr(Call(Attribute(Name('asyncore', Load(), lineno=205, col_offset=12), 'close_all', Load(), lineno=205, col_offset=12), [Name('testmap', Load(), lineno=205, col_offset=31)], [], None, None, lineno=205, col_offset=12), lineno=205, col_offset=12)], lineno=197, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=207, col_offset=8), 'assertEqual', Load(), lineno=207, col_offset=8), [Call(Name('len', Load(), lineno=207, col_offset=25), [Name('testmap', Load(), lineno=207, col_offset=29)], [], None, None, lineno=207, col_offset=25), Num(0, lineno=207, col_offset=39)], [], None, None, lineno=207, col_offset=8), lineno=207, col_offset=8), For(Name('c', Store(), lineno=209, col_offset=12), Name('l', Load(), lineno=209, col_offset=17), [Expr(Call(Attribute(Name('self', Load(), lineno=210, col_offset=12), 'assertEqual', Load(), lineno=210, col_offset=12), [Attribute(Attribute(Name('c', Load(), lineno=210, col_offset=29), 'socket', Load(), lineno=210, col_offset=29), 'closed', Load(), lineno=210, col_offset=29), Name('True', Load(), lineno=210, col_offset=46)], [], None, None, lineno=210, col_offset=12), lineno=210, col_offset=12)], [], lineno=209, col_offset=8)], [], lineno=186, col_offset=4), FunctionDef('test_compact_traceback', arguments([Name('self', Param(), lineno=212, col_offset=31)], None, None, []), [TryExcept([Raise(Call(Name('Exception', Load(), lineno=214, col_offset=18), [Str("I don't like spam!", lineno=214, col_offset=28)], [], None, None, lineno=214, col_offset=18), None, None, lineno=214, col_offset=12)], [ExceptHandler(None, None, [Assign([Tuple([Name('real_t', Store(), lineno=216, col_offset=12), Name('real_v', Store(), lineno=216, col_offset=20), Name('real_tb', Store(), lineno=216, col_offset=28)], Store(), lineno=216, col_offset=12)], Call(Attribute(Name('sys', Load(), lineno=216, col_offset=38), 'exc_info', Load(), lineno=216, col_offset=38), [], [], None, None, lineno=216, col_offset=38), lineno=216, col_offset=12), Assign([Name('r', Store(), lineno=217, col_offset=12)], Call(Attribute(Name('asyncore', Load(), lineno=217, col_offset=16), 'compact_traceback', Load(), lineno=217, col_offset=16), [], [], None, None, lineno=217, col_offset=16), lineno=217, col_offset=12)], lineno=215, col_offset=8)], [Expr(Call(Attribute(Name('self', Load(), lineno=219, col_offset=12), 'fail', Load(), lineno=219, col_offset=12), [Str('Expected exception', lineno=219, col_offset=22)], [], None, None, lineno=219, col_offset=12), lineno=219, col_offset=12)], lineno=213, col_offset=8), Assign([Tuple([Tuple([Name('f', Store(), lineno=221, col_offset=9), Name('function', Store(), lineno=221, col_offset=12), Name('line', Store(), lineno=221, col_offset=22)], Store(), lineno=221, col_offset=9), Name('t', Store(), lineno=221, col_offset=29), Name('v', Store(), lineno=221, col_offset=32), Name('info', Store(), lineno=221, col_offset=35)], Store(), lineno=221, col_offset=8)], Name('r', Load(), lineno=221, col_offset=42), lineno=221, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=222, col_offset=8), 'assertEqual', Load(), lineno=222, col_offset=8), [Subscript(Call(Attribute(Attribute(Name('os', Load(), lineno=222, col_offset=25), 'path', Load(), lineno=222, col_offset=25), 'split', Load(), lineno=222, col_offset=25), [Name('f', Load(), lineno=222, col_offset=39)], [], None, None, lineno=222, col_offset=25), Index(Num(-1, lineno=222, col_offset=43)), Load(), lineno=222, col_offset=25), Str('test_asyncore.py', lineno=222, col_offset=47)], [], None, None, lineno=222, col_offset=8), lineno=222, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=223, col_offset=8), 'assertEqual', Load(), lineno=223, col_offset=8), [Name('function', Load(), lineno=223, col_offset=25), Str('test_compact_traceback', lineno=223, col_offset=35)], [], None, None, lineno=223, col_offset=8), lineno=223, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=224, col_offset=8), 'assertEqual', Load(), lineno=224, col_offset=8), [Name('t', Load(), lineno=224, col_offset=25), Name('real_t', Load(), lineno=224, col_offset=28)], [], None, None, lineno=224, col_offset=8), lineno=224, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=225, col_offset=8), 'assertEqual', Load(), lineno=225, col_offset=8), [Name('v', Load(), lineno=225, col_offset=25), Name('real_v', Load(), lineno=225, col_offset=28)], [], None, None, lineno=225, col_offset=8), lineno=225, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=226, col_offset=8), 'assertEqual', Load(), lineno=226, col_offset=8), [Name('info', Load(), lineno=226, col_offset=25), BinOp(Str('[%s|%s|%s]', lineno=226, col_offset=31), Mod(), Tuple([Name('f', Load(), lineno=226, col_offset=47), Name('function', Load(), lineno=226, col_offset=50), Name('line', Load(), lineno=226, col_offset=60)], Load(), lineno=226, col_offset=47), lineno=226, col_offset=31)], [], None, None, lineno=226, col_offset=8), lineno=226, col_offset=8)], [], lineno=212, col_offset=4)], [], lineno=90, col_offset=0), ClassDef('DispatcherTests', [Attribute(Name('unittest', Load(), lineno=229, col_offset=22), 'TestCase', Load(), lineno=229, col_offset=22)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=230, col_offset=14)], None, None, []), [Pass( lineno=231, col_offset=8)], [], lineno=230, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=233, col_offset=17)], None, None, []), [Expr(Call(Attribute(Name('asyncore', Load(), lineno=234, col_offset=8), 'close_all', Load(), lineno=234, col_offset=8), [], [], None, None, lineno=234, col_offset=8), lineno=234, col_offset=8)], [], lineno=233, col_offset=4), FunctionDef('test_basic', arguments([Name('self', Param(), lineno=236, col_offset=19)], None, None, []), [Assign([Name('d', Store(), lineno=237, col_offset=8)], Call(Attribute(Name('asyncore', Load(), lineno=237, col_offset=12), 'dispatcher', Load(), lineno=237, col_offset=12), [], [], None, None, lineno=237, col_offset=12), lineno=237, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=238, col_offset=8), 'assertEqual', Load(), lineno=238, col_offset=8), [Call(Attribute(Name('d', Load(), lineno=238, col_offset=25), 'readable', Load(), lineno=238, col_offset=25), [], [], None, None, lineno=238, col_offset=25), Name('True', Load(), lineno=238, col_offset=39)], [], None, None, lineno=238, col_offset=8), lineno=238, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=239, col_offset=8), 'assertEqual', Load(), lineno=239, col_offset=8), [Call(Attribute(Name('d', Load(), lineno=239, col_offset=25), 'writable', Load(), lineno=239, col_offset=25), [], [], None, None, lineno=239, col_offset=25), Name('True', Load(), lineno=239, col_offset=39)], [], None, None, lineno=239, col_offset=8), lineno=239, col_offset=8)], [], lineno=236, col_offset=4), FunctionDef('test_repr', arguments([Name('self', Param(), lineno=241, col_offset=18)], None, None, []), [Assign([Name('d', Store(), lineno=242, col_offset=8)], Call(Attribute(Name('asyncore', Load(), lineno=242, col_offset=12), 'dispatcher', Load(), lineno=242, col_offset=12), [], [], None, None, lineno=242, col_offset=12), lineno=242, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=243, col_offset=8), 'assertEqual', Load(), lineno=243, col_offset=8), [Call(Name('repr', Load(), lineno=243, col_offset=25), [Name('d', Load(), lineno=243, col_offset=30)], [], None, None, lineno=243, col_offset=25), BinOp(Str('<asyncore.dispatcher at %#x>', lineno=243, col_offset=34), Mod(), Call(Name('id', Load(), lineno=243, col_offset=67), [Name('d', Load(), lineno=243, col_offset=70)], [], None, None, lineno=243, col_offset=67), lineno=243, col_offset=34)], [], None, None, lineno=243, col_offset=8), lineno=243, col_offset=8)], [], lineno=241, col_offset=4), FunctionDef('test_log', arguments([Name('self', Param(), lineno=245, col_offset=17)], None, None, []), [Assign([Name('d', Store(), lineno=246, col_offset=8)], Call(Attribute(Name('asyncore', Load(), lineno=246, col_offset=12), 'dispatcher', Load(), lineno=246, col_offset=12), [], [], None, None, lineno=246, col_offset=12), lineno=246, col_offset=8), Assign([Name('fp', Store(), lineno=249, col_offset=8)], Call(Name('StringIO', Load(), lineno=249, col_offset=13), [], [], None, None, lineno=249, col_offset=13), lineno=249, col_offset=8), Assign([Name('stderr', Store(), lineno=250, col_offset=8)], Attribute(Name('sys', Load(), lineno=250, col_offset=17), 'stderr', Load(), lineno=250, col_offset=17), lineno=250, col_offset=8), Assign([Name('l1', Store(), lineno=251, col_offset=8)], Str('Lovely spam! Wonderful spam!', lineno=251, col_offset=13), lineno=251, col_offset=8), Assign([Name('l2', Store(), lineno=252, col_offset=8)], Str("I don't like spam!", lineno=252, col_offset=13), lineno=252, col_offset=8), TryFinally([Assign([Attribute(Name('sys', Load(), lineno=254, col_offset=12), 'stderr', Store(), lineno=254, col_offset=12)], Name('fp', Load(), lineno=254, col_offset=25), lineno=254, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=255, col_offset=12), 'log', Load(), lineno=255, col_offset=12), [Name('l1', Load(), lineno=255, col_offset=18)], [], None, None, lineno=255, col_offset=12), lineno=255, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=256, col_offset=12), 'log', Load(), lineno=256, col_offset=12), [Name('l2', Load(), lineno=256, col_offset=18)], [], None, None, lineno=256, col_offset=12), lineno=256, col_offset=12)], [Assign([Attribute(Name('sys', Load(), lineno=258, col_offset=12), 'stderr', Store(), lineno=258, col_offset=12)], Name('stderr', Load(), lineno=258, col_offset=25), lineno=258, col_offset=12)], lineno=253, col_offset=8), Assign([Name('lines', Store(), lineno=260, col_offset=8)], Call(Attribute(Call(Attribute(Name('fp', Load(), lineno=260, col_offset=16), 'getvalue', Load(), lineno=260, col_offset=16), [], [], None, None, lineno=260, col_offset=16), 'splitlines', Load(), lineno=260, col_offset=16), [], [], None, None, lineno=260, col_offset=16), lineno=260, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=261, col_offset=8), 'assertEqual', Load(), lineno=261, col_offset=8), [Name('lines', Load(), lineno=261, col_offset=25), List([BinOp(Str('log: %s', lineno=261, col_offset=33), Mod(), Name('l1', Load(), lineno=261, col_offset=45), lineno=261, col_offset=33), BinOp(Str('log: %s', lineno=261, col_offset=49), Mod(), Name('l2', Load(), lineno=261, col_offset=61), lineno=261, col_offset=49)], Load(), lineno=261, col_offset=32)], [], None, None, lineno=261, col_offset=8), lineno=261, col_offset=8)], [], lineno=245, col_offset=4), FunctionDef('test_log_info', arguments([Name('self', Param(), lineno=263, col_offset=22)], None, None, []), [Assign([Name('d', Store(), lineno=264, col_offset=8)], Call(Attribute(Name('asyncore', Load(), lineno=264, col_offset=12), 'dispatcher', Load(), lineno=264, col_offset=12), [], [], None, None, lineno=264, col_offset=12), lineno=264, col_offset=8), Assign([Name('fp', Store(), lineno=267, col_offset=8)], Call(Name('StringIO', Load(), lineno=267, col_offset=13), [], [], None, None, lineno=267, col_offset=13), lineno=267, col_offset=8), Assign([Name('stdout', Store(), lineno=268, col_offset=8)], Attribute(Name('sys', Load(), lineno=268, col_offset=17), 'stdout', Load(), lineno=268, col_offset=17), lineno=268, col_offset=8), Assign([Name('l1', Store(), lineno=269, col_offset=8)], Str('Have you got anything without spam?', lineno=269, col_offset=13), lineno=269, col_offset=8), Assign([Name('l2', Store(), lineno=270, col_offset=8)], Str("Why can't she have egg bacon spam and sausage?", lineno=270, col_offset=13), lineno=270, col_offset=8), Assign([Name('l3', Store(), lineno=271, col_offset=8)], Str("THAT'S got spam in it!", lineno=271, col_offset=13), lineno=271, col_offset=8), TryFinally([Assign([Attribute(Name('sys', Load(), lineno=273, col_offset=12), 'stdout', Store(), lineno=273, col_offset=12)], Name('fp', Load(), lineno=273, col_offset=25), lineno=273, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=274, col_offset=12), 'log_info', Load(), lineno=274, col_offset=12), [Name('l1', Load(), lineno=274, col_offset=23), Str('EGGS', lineno=274, col_offset=27)], [], None, None, lineno=274, col_offset=12), lineno=274, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=275, col_offset=12), 'log_info', Load(), lineno=275, col_offset=12), [Name('l2', Load(), lineno=275, col_offset=23)], [], None, None, lineno=275, col_offset=12), lineno=275, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=276, col_offset=12), 'log_info', Load(), lineno=276, col_offset=12), [Name('l3', Load(), lineno=276, col_offset=23), Str('SPAM', lineno=276, col_offset=27)], [], None, None, lineno=276, col_offset=12), lineno=276, col_offset=12)], [Assign([Attribute(Name('sys', Load(), lineno=278, col_offset=12), 'stdout', Store(), lineno=278, col_offset=12)], Name('stdout', Load(), lineno=278, col_offset=25), lineno=278, col_offset=12)], lineno=272, col_offset=8), Assign([Name('lines', Store(), lineno=280, col_offset=8)], Call(Attribute(Call(Attribute(Name('fp', Load(), lineno=280, col_offset=16), 'getvalue', Load(), lineno=280, col_offset=16), [], [], None, None, lineno=280, col_offset=16), 'splitlines', Load(), lineno=280, col_offset=16), [], [], None, None, lineno=280, col_offset=16), lineno=280, col_offset=8), Assign([Name('expected', Store(), lineno=281, col_offset=8)], List([BinOp(Str('EGGS: %s', lineno=281, col_offset=20), Mod(), Name('l1', Load(), lineno=281, col_offset=33), lineno=281, col_offset=20), BinOp(Str('info: %s', lineno=281, col_offset=37), Mod(), Name('l2', Load(), lineno=281, col_offset=50), lineno=281, col_offset=37), BinOp(Str('SPAM: %s', lineno=281, col_offset=54), Mod(), Name('l3', Load(), lineno=281, col_offset=67), lineno=281, col_offset=54)], Load(), lineno=281, col_offset=19), lineno=281, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=283, col_offset=8), 'assertEqual', Load(), lineno=283, col_offset=8), [Name('lines', Load(), lineno=283, col_offset=25), Name('expected', Load(), lineno=283, col_offset=32)], [], None, None, lineno=283, col_offset=8), lineno=283, col_offset=8)], [], lineno=263, col_offset=4), FunctionDef('test_unhandled', arguments([Name('self', Param(), lineno=285, col_offset=23)], None, None, []), [Assign([Name('d', Store(), lineno=286, col_offset=8)], Call(Attribute(Name('asyncore', Load(), lineno=286, col_offset=12), 'dispatcher', Load(), lineno=286, col_offset=12), [], [], None, None, lineno=286, col_offset=12), lineno=286, col_offset=8), Assign([Attribute(Name('d', Load(), lineno=287, col_offset=8), 'ignore_log_types', Store(), lineno=287, col_offset=8)], Tuple([], Load(), lineno=287, col_offset=29), lineno=287, col_offset=8), Assign([Name('fp', Store(), lineno=290, col_offset=8)], Call(Name('StringIO', Load(), lineno=290, col_offset=13), [], [], None, None, lineno=290, col_offset=13), lineno=290, col_offset=8), Assign([Name('stdout', Store(), lineno=291, col_offset=8)], Attribute(Name('sys', Load(), lineno=291, col_offset=17), 'stdout', Load(), lineno=291, col_offset=17), lineno=291, col_offset=8), TryFinally([Assign([Attribute(Name('sys', Load(), lineno=293, col_offset=12), 'stdout', Store(), lineno=293, col_offset=12)], Name('fp', Load(), lineno=293, col_offset=25), lineno=293, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=294, col_offset=12), 'handle_expt', Load(), lineno=294, col_offset=12), [], [], None, None, lineno=294, col_offset=12), lineno=294, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=295, col_offset=12), 'handle_read', Load(), lineno=295, col_offset=12), [], [], None, None, lineno=295, col_offset=12), lineno=295, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=296, col_offset=12), 'handle_write', Load(), lineno=296, col_offset=12), [], [], None, None, lineno=296, col_offset=12), lineno=296, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=297, col_offset=12), 'handle_connect', Load(), lineno=297, col_offset=12), [], [], None, None, lineno=297, col_offset=12), lineno=297, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=298, col_offset=12), 'handle_accept', Load(), lineno=298, col_offset=12), [], [], None, None, lineno=298, col_offset=12), lineno=298, col_offset=12)], [Assign([Attribute(Name('sys', Load(), lineno=300, col_offset=12), 'stdout', Store(), lineno=300, col_offset=12)], Name('stdout', Load(), lineno=300, col_offset=25), lineno=300, col_offset=12)], lineno=292, col_offset=8), Assign([Name('lines', Store(), lineno=302, col_offset=8)], Call(Attribute(Call(Attribute(Name('fp', Load(), lineno=302, col_offset=16), 'getvalue', Load(), lineno=302, col_offset=16), [], [], None, None, lineno=302, col_offset=16), 'splitlines', Load(), lineno=302, col_offset=16), [], [], None, None, lineno=302, col_offset=16), lineno=302, col_offset=8), Assign([Name('expected', Store(), lineno=303, col_offset=8)], List([Str('warning: unhandled incoming priority event', lineno=303, col_offset=20), Str('warning: unhandled read event', lineno=304, col_offset=20), Str('warning: unhandled write event', lineno=305, col_offset=20), Str('warning: unhandled connect event', lineno=306, col_offset=20), Str('warning: unhandled accept event', lineno=307, col_offset=20)], Load(), lineno=303, col_offset=19), lineno=303, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=308, col_offset=8), 'assertEqual', Load(), lineno=308, col_offset=8), [Name('lines', Load(), lineno=308, col_offset=25), Name('expected', Load(), lineno=308, col_offset=32)], [], None, None, lineno=308, col_offset=8), lineno=308, col_offset=8)], [], lineno=285, col_offset=4), FunctionDef('test_issue_8594', arguments([Name('self', Param(), lineno=310, col_offset=24)], None, None, []), [Assign([Name('d', Store(), lineno=313, col_offset=8)], Call(Attribute(Name('asyncore', Load(), lineno=313, col_offset=12), 'dispatcher', Load(), lineno=313, col_offset=12), [Call(Attribute(Name('socket', Load(), lineno=313, col_offset=32), 'socket', Load(), lineno=313, col_offset=32), [], [], None, None, lineno=313, col_offset=32)], [], None, None, lineno=313, col_offset=12), lineno=313, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=316, col_offset=8), 'assertRaisesRegexp', Load(), lineno=316, col_offset=8), [Name('AttributeError', Load(), lineno=316, col_offset=32), Str('dispatcher instance', lineno=316, col_offset=48), Name('getattr', Load(), lineno=317, col_offset=32), Name('d', Load(), lineno=317, col_offset=41), Str('foo', lineno=317, col_offset=44)], [], None, None, lineno=316, col_offset=8), lineno=316, col_offset=8), With(Call(Attribute(Name('warnings', Load(), lineno=320, col_offset=13), 'catch_warnings', Load(), lineno=320, col_offset=13), [], [keyword('record', Name('True', Load(), lineno=320, col_offset=44))], None, None, lineno=320, col_offset=13), Name('w', Store(), lineno=320, col_offset=53), [Expr(Call(Attribute(Name('warnings', Load(), lineno=321, col_offset=12), 'simplefilter', Load(), lineno=321, col_offset=12), [Str('always', lineno=321, col_offset=34)], [], None, None, lineno=321, col_offset=12), lineno=321, col_offset=12), Assign([Name('family', Store(), lineno=322, col_offset=12)], Attribute(Name('d', Load(), lineno=322, col_offset=21), 'family', Load(), lineno=322, col_offset=21), lineno=322, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=323, col_offset=12), 'assertEqual', Load(), lineno=323, col_offset=12), [Name('family', Load(), lineno=323, col_offset=29), Attribute(Name('socket', Load(), lineno=323, col_offset=37), 'AF_INET', Load(), lineno=323, col_offset=37)], [], None, None, lineno=323, col_offset=12), lineno=323, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=324, col_offset=12), 'assertEqual', Load(), lineno=324, col_offset=12), [Call(Name('len', Load(), lineno=324, col_offset=29), [Name('w', Load(), lineno=324, col_offset=33)], [], None, None, lineno=324, col_offset=29), Num(1, lineno=324, col_offset=37)], [], None, None, lineno=324, col_offset=12), lineno=324, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=325, col_offset=12), 'assertTrue', Load(), lineno=325, col_offset=12), [Call(Name('issubclass', Load(), lineno=325, col_offset=28), [Attribute(Subscript(Name('w', Load(), lineno=325, col_offset=39), Index(Num(0, lineno=325, col_offset=41)), Load(), lineno=325, col_offset=39), 'category', Load(), lineno=325, col_offset=39), Name('DeprecationWarning', Load(), lineno=325, col_offset=54)], [], None, None, lineno=325, col_offset=28)], [], None, None, lineno=325, col_offset=12), lineno=325, col_offset=12)], lineno=320, col_offset=13)], [], lineno=310, col_offset=4), FunctionDef('test_strerror', arguments([Name('self', Param(), lineno=327, col_offset=22)], None, None, []), [Assign([Name('err', Store(), lineno=329, col_offset=8)], Call(Attribute(Name('asyncore', Load(), lineno=329, col_offset=14), '_strerror', Load(), lineno=329, col_offset=14), [Attribute(Name('errno', Load(), lineno=329, col_offset=33), 'EPERM', Load(), lineno=329, col_offset=33)], [], None, None, lineno=329, col_offset=14), lineno=329, col_offset=8), If(Call(Name('hasattr', Load(), lineno=330, col_offset=11), [Name('os', Load(), lineno=330, col_offset=19), Str('strerror', lineno=330, col_offset=23)], [], None, None, lineno=330, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=331, col_offset=12), 'assertEqual', Load(), lineno=331, col_offset=12), [Name('err', Load(), lineno=331, col_offset=29), Call(Attribute(Name('os', Load(), lineno=331, col_offset=34), 'strerror', Load(), lineno=331, col_offset=34), [Attribute(Name('errno', Load(), lineno=331, col_offset=46), 'EPERM', Load(), lineno=331, col_offset=46)], [], None, None, lineno=331, col_offset=34)], [], None, None, lineno=331, col_offset=12), lineno=331, col_offset=12)], [], lineno=330, col_offset=8), Assign([Name('err', Store(), lineno=332, col_offset=8)], Call(Attribute(Name('asyncore', Load(), lineno=332, col_offset=14), '_strerror', Load(), lineno=332, col_offset=14), [Num(-1, lineno=332, col_offset=34)], [], None, None, lineno=332, col_offset=14), lineno=332, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=333, col_offset=8), 'assertIn', Load(), lineno=333, col_offset=8), [Str('unknown error', lineno=333, col_offset=22), Call(Attribute(Name('err', Load(), lineno=333, col_offset=39), 'lower', Load(), lineno=333, col_offset=39), [], [], None, None, lineno=333, col_offset=39)], [], None, None, lineno=333, col_offset=8), lineno=333, col_offset=8)], [], lineno=327, col_offset=4)], [], lineno=229, col_offset=0), ClassDef('dispatcherwithsend_noread', [Attribute(Name('asyncore', Load(), lineno=336, col_offset=32), 'dispatcher_with_send', Load(), lineno=336, col_offset=32)], [FunctionDef('readable', arguments([Name('self', Param(), lineno=337, col_offset=17)], None, None, []), [Return(Name('False', Load(), lineno=338, col_offset=15), lineno=338, col_offset=8)], [], lineno=337, col_offset=4), FunctionDef('handle_connect', arguments([Name('self', Param(), lineno=340, col_offset=23)], None, None, []), [Pass( lineno=341, col_offset=8)], [], lineno=340, col_offset=4)], [], lineno=336, col_offset=0), ClassDef('DispatcherWithSendTests', [Attribute(Name('unittest', Load(), lineno=343, col_offset=30), 'TestCase', Load(), lineno=343, col_offset=30)], [Assign([Name('usepoll', Store(), lineno=344, col_offset=4)], Name('False', Load(), lineno=344, col_offset=14), lineno=344, col_offset=4), FunctionDef('setUp', arguments([Name('self', Param(), lineno=346, col_offset=14)], None, None, []), [Pass( lineno=347, col_offset=8)], [], lineno=346, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=349, col_offset=17)], None, None, []), [Expr(Call(Attribute(Name('asyncore', Load(), lineno=350, col_offset=8), 'close_all', Load(), lineno=350, col_offset=8), [], [], None, None, lineno=350, col_offset=8), lineno=350, col_offset=8)], [], lineno=349, col_offset=4), FunctionDef('test_send', arguments([Name('self', Param(), lineno=354, col_offset=18)], None, None, []), [Assign([Name('evt', Store(), lineno=355, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=355, col_offset=14), 'Event', Load(), lineno=355, col_offset=14), [], [], None, None, lineno=355, col_offset=14), lineno=355, col_offset=8), Assign([Name('sock', Store(), lineno=356, col_offset=8)], Call(Attribute(Name('socket', Load(), lineno=356, col_offset=15), 'socket', Load(), lineno=356, col_offset=15), [Attribute(Name('socket', Load(), lineno=356, col_offset=29), 'AF_INET', Load(), lineno=356, col_offset=29), Attribute(Name('socket', Load(), lineno=356, col_offset=45), 'SOCK_STREAM', Load(), lineno=356, col_offset=45)], [], None, None, lineno=356, col_offset=15), lineno=356, col_offset=8), Expr(Call(Attribute(Name('sock', Load(), lineno=357, col_offset=8), 'settimeout', Load(), lineno=357, col_offset=8), [Num(3, lineno=357, col_offset=24)], [], None, None, lineno=357, col_offset=8), lineno=357, col_offset=8), Assign([Name('port', Store(), lineno=358, col_offset=8)], Call(Attribute(Name('test_support', Load(), lineno=358, col_offset=15), 'bind_port', Load(), lineno=358, col_offset=15), [Name('sock', Load(), lineno=358, col_offset=38)], [], None, None, lineno=358, col_offset=15), lineno=358, col_offset=8), Assign([Name('cap', Store(), lineno=360, col_offset=8)], Call(Name('StringIO', Load(), lineno=360, col_offset=14), [], [], None, None, lineno=360, col_offset=14), lineno=360, col_offset=8), Assign([Name('args', Store(), lineno=361, col_offset=8)], Tuple([Name('evt', Load(), lineno=361, col_offset=16), Name('cap', Load(), lineno=361, col_offset=21), Name('sock', Load(), lineno=361, col_offset=26)], Load(), lineno=361, col_offset=16), lineno=361, col_offset=8), Assign([Name('t', Store(), lineno=362, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=362, col_offset=12), 'Thread', Load(), lineno=362, col_offset=12), [], [keyword('target', Name('capture_server', Load(), lineno=362, col_offset=36)), keyword('args', Name('args', Load(), lineno=362, col_offset=57))], None, None, lineno=362, col_offset=12), lineno=362, col_offset=8), Expr(Call(Attribute(Name('t', Load(), lineno=363, col_offset=8), 'start', Load(), lineno=363, col_offset=8), [], [], None, None, lineno=363, col_offset=8), lineno=363, col_offset=8), TryFinally([Expr(Call(Attribute(Name('time', Load(), lineno=367, col_offset=12), 'sleep', Load(), lineno=367, col_offset=12), [Num(0.2, lineno=367, col_offset=23)], [], None, None, lineno=367, col_offset=12), lineno=367, col_offset=12), Assign([Name('data', Store(), lineno=369, col_offset=12)], Str("Suppose there isn't a 16-ton weight?", lineno=369, col_offset=19), lineno=369, col_offset=12), Assign([Name('d', Store(), lineno=370, col_offset=12)], Call(Name('dispatcherwithsend_noread', Load(), lineno=370, col_offset=16), [], [], None, None, lineno=370, col_offset=16), lineno=370, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=371, col_offset=12), 'create_socket', Load(), lineno=371, col_offset=12), [Attribute(Name('socket', Load(), lineno=371, col_offset=28), 'AF_INET', Load(), lineno=371, col_offset=28), Attribute(Name('socket', Load(), lineno=371, col_offset=44), 'SOCK_STREAM', Load(), lineno=371, col_offset=44)], [], None, None, lineno=371, col_offset=12), lineno=371, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=372, col_offset=12), 'connect', Load(), lineno=372, col_offset=12), [Tuple([Name('HOST', Load(), lineno=372, col_offset=23), Name('port', Load(), lineno=372, col_offset=29)], Load(), lineno=372, col_offset=23)], [], None, None, lineno=372, col_offset=12), lineno=372, col_offset=12), Expr(Call(Attribute(Name('time', Load(), lineno=375, col_offset=12), 'sleep', Load(), lineno=375, col_offset=12), [Num(0.1, lineno=375, col_offset=23)], [], None, None, lineno=375, col_offset=12), lineno=375, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=377, col_offset=12), 'send', Load(), lineno=377, col_offset=12), [Name('data', Load(), lineno=377, col_offset=19)], [], None, None, lineno=377, col_offset=12), lineno=377, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=378, col_offset=12), 'send', Load(), lineno=378, col_offset=12), [Name('data', Load(), lineno=378, col_offset=19)], [], None, None, lineno=378, col_offset=12), lineno=378, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=379, col_offset=12), 'send', Load(), lineno=379, col_offset=12), [Str('\n', lineno=379, col_offset=19)], [], None, None, lineno=379, col_offset=12), lineno=379, col_offset=12), Assign([Name('n', Store(), lineno=381, col_offset=12)], Num(1000, lineno=381, col_offset=16), lineno=381, col_offset=12), While(BoolOp(And(), [Attribute(Name('d', Load(), lineno=382, col_offset=18), 'out_buffer', Load(), lineno=382, col_offset=18), Compare(Name('n', Load(), lineno=382, col_offset=35), [Gt()], [Num(0, lineno=382, col_offset=39)], lineno=382, col_offset=35)], lineno=382, col_offset=18), [Expr(Call(Attribute(Name('asyncore', Load(), lineno=383, col_offset=16), 'poll', Load(), lineno=383, col_offset=16), [], [], None, None, lineno=383, col_offset=16), lineno=383, col_offset=16), AugAssign(Name('n', Store(), lineno=384, col_offset=16), Sub(), Num(1, lineno=384, col_offset=21), lineno=384, col_offset=16)], [], lineno=382, col_offset=12), Expr(Call(Attribute(Name('evt', Load(), lineno=386, col_offset=12), 'wait', Load(), lineno=386, col_offset=12), [], [], None, None, lineno=386, col_offset=12), lineno=386, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=388, col_offset=12), 'assertEqual', Load(), lineno=388, col_offset=12), [Call(Attribute(Name('cap', Load(), lineno=388, col_offset=29), 'getvalue', Load(), lineno=388, col_offset=29), [], [], None, None, lineno=388, col_offset=29), BinOp(Name('data', Load(), lineno=388, col_offset=45), Mult(), Num(2, lineno=388, col_offset=50), lineno=388, col_offset=45)], [], None, None, lineno=388, col_offset=12), lineno=388, col_offset=12)], [Expr(Call(Attribute(Name('t', Load(), lineno=390, col_offset=12), 'join', Load(), lineno=390, col_offset=12), [], [], None, None, lineno=390, col_offset=12), lineno=390, col_offset=12)], lineno=364, col_offset=8)], [Call(Attribute(Name('unittest', Load(), lineno=352, col_offset=5), 'skipUnless', Load(), lineno=352, col_offset=5), [Name('threading', Load(), lineno=352, col_offset=25), Str('Threading required for this test.', lineno=352, col_offset=36)], [], None, None, lineno=352, col_offset=5), Attribute(Name('test_support', Load(), lineno=353, col_offset=5), 'reap_threads', Load(), lineno=353, col_offset=5)], lineno=352, col_offset=4)], [], lineno=343, col_offset=0), ClassDef('DispatcherWithSendTests_UsePoll', [Name('DispatcherWithSendTests', Load(), lineno=393, col_offset=38)], [Assign([Name('usepoll', Store(), lineno=394, col_offset=4)], Name('True', Load(), lineno=394, col_offset=14), lineno=394, col_offset=4)], [], lineno=393, col_offset=0), ClassDef('FileWrapperTest', [Attribute(Name('unittest', Load(), lineno=398, col_offset=22), 'TestCase', Load(), lineno=398, col_offset=22)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=399, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=400, col_offset=8), 'd', Store(), lineno=400, col_offset=8)], Str("It's not dead, it's sleeping!", lineno=400, col_offset=17), lineno=400, col_offset=8), Expr(Call(Attribute(Call(Name('file', Load(), lineno=401, col_offset=8), [Name('TESTFN', Load(), lineno=401, col_offset=13), Str('w', lineno=401, col_offset=21)], [], None, None, lineno=401, col_offset=8), 'write', Load(), lineno=401, col_offset=8), [Attribute(Name('self', Load(), lineno=401, col_offset=32), 'd', Load(), lineno=401, col_offset=32)], [], None, None, lineno=401, col_offset=8), lineno=401, col_offset=8)], [], lineno=399, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=403, col_offset=17)], None, None, []), [Expr(Call(Name('unlink', Load(), lineno=404, col_offset=8), [Name('TESTFN', Load(), lineno=404, col_offset=15)], [], None, None, lineno=404, col_offset=8), lineno=404, col_offset=8)], [], lineno=403, col_offset=4), FunctionDef('test_recv', arguments([Name('self', Param(), lineno=406, col_offset=18)], None, None, []), [Assign([Name('fd', Store(), lineno=407, col_offset=8)], Call(Attribute(Name('os', Load(), lineno=407, col_offset=13), 'open', Load(), lineno=407, col_offset=13), [Name('TESTFN', Load(), lineno=407, col_offset=21), Attribute(Name('os', Load(), lineno=407, col_offset=29), 'O_RDONLY', Load(), lineno=407, col_offset=29)], [], None, None, lineno=407, col_offset=13), lineno=407, col_offset=8), Assign([Name('w', Store(), lineno=408, col_offset=8)], Call(Attribute(Name('asyncore', Load(), lineno=408, col_offset=12), 'file_wrapper', Load(), lineno=408, col_offset=12), [Name('fd', Load(), lineno=408, col_offset=34)], [], None, None, lineno=408, col_offset=12), lineno=408, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=409, col_offset=8), 'close', Load(), lineno=409, col_offset=8), [Name('fd', Load(), lineno=409, col_offset=17)], [], None, None, lineno=409, col_offset=8), lineno=409, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=411, col_offset=8), 'assertNotEqual', Load(), lineno=411, col_offset=8), [Attribute(Name('w', Load(), lineno=411, col_offset=28), 'fd', Load(), lineno=411, col_offset=28), Name('fd', Load(), lineno=411, col_offset=34)], [], None, None, lineno=411, col_offset=8), lineno=411, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=412, col_offset=8), 'assertNotEqual', Load(), lineno=412, col_offset=8), [Call(Attribute(Name('w', Load(), lineno=412, col_offset=28), 'fileno', Load(), lineno=412, col_offset=28), [], [], None, None, lineno=412, col_offset=28), Name('fd', Load(), lineno=412, col_offset=40)], [], None, None, lineno=412, col_offset=8), lineno=412, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=413, col_offset=8), 'assertEqual', Load(), lineno=413, col_offset=8), [Call(Attribute(Name('w', Load(), lineno=413, col_offset=25), 'recv', Load(), lineno=413, col_offset=25), [Num(13, lineno=413, col_offset=32)], [], None, None, lineno=413, col_offset=25), Str("It's not dead", lineno=413, col_offset=37)], [], None, None, lineno=413, col_offset=8), lineno=413, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=414, col_offset=8), 'assertEqual', Load(), lineno=414, col_offset=8), [Call(Attribute(Name('w', Load(), lineno=414, col_offset=25), 'read', Load(), lineno=414, col_offset=25), [Num(6, lineno=414, col_offset=32)], [], None, None, lineno=414, col_offset=25), Str(", it's", lineno=414, col_offset=36)], [], None, None, lineno=414, col_offset=8), lineno=414, col_offset=8), Expr(Call(Attribute(Name('w', Load(), lineno=415, col_offset=8), 'close', Load(), lineno=415, col_offset=8), [], [], None, None, lineno=415, col_offset=8), lineno=415, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=416, col_offset=8), 'assertRaises', Load(), lineno=416, col_offset=8), [Name('OSError', Load(), lineno=416, col_offset=26), Attribute(Name('w', Load(), lineno=416, col_offset=35), 'read', Load(), lineno=416, col_offset=35), Num(1, lineno=416, col_offset=43)], [], None, None, lineno=416, col_offset=8), lineno=416, col_offset=8)], [], lineno=406, col_offset=4), FunctionDef('test_send', arguments([Name('self', Param(), lineno=419, col_offset=18)], None, None, []), [Assign([Name('d1', Store(), lineno=420, col_offset=8)], Str('Come again?', lineno=420, col_offset=13), lineno=420, col_offset=8), Assign([Name('d2', Store(), lineno=421, col_offset=8)], Str('I want to buy some cheese.', lineno=421, col_offset=13), lineno=421, col_offset=8), Assign([Name('fd', Store(), lineno=422, col_offset=8)], Call(Attribute(Name('os', Load(), lineno=422, col_offset=13), 'open', Load(), lineno=422, col_offset=13), [Name('TESTFN', Load(), lineno=422, col_offset=21), BinOp(Attribute(Name('os', Load(), lineno=422, col_offset=29), 'O_WRONLY', Load(), lineno=422, col_offset=29), BitOr(), Attribute(Name('os', Load(), lineno=422, col_offset=43), 'O_APPEND', Load(), lineno=422, col_offset=43), lineno=422, col_offset=29)], [], None, None, lineno=422, col_offset=13), lineno=422, col_offset=8), Assign([Name('w', Store(), lineno=423, col_offset=8)], Call(Attribute(Name('asyncore', Load(), lineno=423, col_offset=12), 'file_wrapper', Load(), lineno=423, col_offset=12), [Name('fd', Load(), lineno=423, col_offset=34)], [], None, None, lineno=423, col_offset=12), lineno=423, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=424, col_offset=8), 'close', Load(), lineno=424, col_offset=8), [Name('fd', Load(), lineno=424, col_offset=17)], [], None, None, lineno=424, col_offset=8), lineno=424, col_offset=8), Expr(Call(Attribute(Name('w', Load(), lineno=426, col_offset=8), 'write', Load(), lineno=426, col_offset=8), [Name('d1', Load(), lineno=426, col_offset=16)], [], None, None, lineno=426, col_offset=8), lineno=426, col_offset=8), Expr(Call(Attribute(Name('w', Load(), lineno=427, col_offset=8), 'send', Load(), lineno=427, col_offset=8), [Name('d2', Load(), lineno=427, col_offset=15)], [], None, None, lineno=427, col_offset=8), lineno=427, col_offset=8), Expr(Call(Attribute(Name('w', Load(), lineno=428, col_offset=8), 'close', Load(), lineno=428, col_offset=8), [], [], None, None, lineno=428, col_offset=8), lineno=428, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=429, col_offset=8), 'assertEqual', Load(), lineno=429, col_offset=8), [Call(Attribute(Call(Name('file', Load(), lineno=429, col_offset=25), [Name('TESTFN', Load(), lineno=429, col_offset=30)], [], None, None, lineno=429, col_offset=25), 'read', Load(), lineno=429, col_offset=25), [], [], None, None, lineno=429, col_offset=25), BinOp(BinOp(Attribute(Name('self', Load(), lineno=429, col_offset=46), 'd', Load(), lineno=429, col_offset=46), Add(), Name('d1', Load(), lineno=429, col_offset=55), lineno=429, col_offset=46), Add(), Name('d2', Load(), lineno=429, col_offset=60), lineno=429, col_offset=58)], [], None, None, lineno=429, col_offset=8), lineno=429, col_offset=8)], [], lineno=419, col_offset=4), FunctionDef('test_dispatcher', arguments([Name('self', Param(), lineno=433, col_offset=24)], None, None, []), [Assign([Name('fd', Store(), lineno=434, col_offset=8)], Call(Attribute(Name('os', Load(), lineno=434, col_offset=13), 'open', Load(), lineno=434, col_offset=13), [Name('TESTFN', Load(), lineno=434, col_offset=21), Attribute(Name('os', Load(), lineno=434, col_offset=29), 'O_RDONLY', Load(), lineno=434, col_offset=29)], [], None, None, lineno=434, col_offset=13), lineno=434, col_offset=8), Assign([Name('data', Store(), lineno=435, col_offset=8)], List([], Load(), lineno=435, col_offset=15), lineno=435, col_offset=8), ClassDef('FileDispatcher', [Attribute(Name('asyncore', Load(), lineno=436, col_offset=29), 'file_dispatcher', Load(), lineno=436, col_offset=29)], [FunctionDef('handle_read', arguments([Name('self', Param(), lineno=437, col_offset=28)], None, None, []), [Expr(Call(Attribute(Name('data', Load(), lineno=438, col_offset=16), 'append', Load(), lineno=438, col_offset=16), [Call(Attribute(Name('self', Load(), lineno=438, col_offset=28), 'recv', Load(), lineno=438, col_offset=28), [Num(29, lineno=438, col_offset=38)], [], None, None, lineno=438, col_offset=28)], [], None, None, lineno=438, col_offset=16), lineno=438, col_offset=16)], [], lineno=437, col_offset=12)], [], lineno=436, col_offset=8), Assign([Name('s', Store(), lineno=439, col_offset=8)], Call(Name('FileDispatcher', Load(), lineno=439, col_offset=12), [Name('fd', Load(), lineno=439, col_offset=27)], [], None, None, lineno=439, col_offset=12), lineno=439, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=440, col_offset=8), 'close', Load(), lineno=440, col_offset=8), [Name('fd', Load(), lineno=440, col_offset=17)], [], None, None, lineno=440, col_offset=8), lineno=440, col_offset=8), Expr(Call(Attribute(Name('asyncore', Load(), lineno=441, col_offset=8), 'loop', Load(), lineno=441, col_offset=8), [], [keyword('timeout', Num(0.01, lineno=441, col_offset=30)), keyword('use_poll', Name('True', Load(), lineno=441, col_offset=45)), keyword('count', Num(2, lineno=441, col_offset=57))], None, None, lineno=441, col_offset=8), lineno=441, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=442, col_offset=8), 'assertEqual', Load(), lineno=442, col_offset=8), [Call(Attribute(Str('', lineno=442, col_offset=25), 'join', Load(), lineno=442, col_offset=25), [Name('data', Load(), lineno=442, col_offset=34)], [], None, None, lineno=442, col_offset=25), Attribute(Name('self', Load(), lineno=442, col_offset=41), 'd', Load(), lineno=442, col_offset=41)], [], None, None, lineno=442, col_offset=8), lineno=442, col_offset=8)], [Call(Attribute(Name('unittest', Load(), lineno=431, col_offset=5), 'skipUnless', Load(), lineno=431, col_offset=5), [Call(Name('hasattr', Load(), lineno=431, col_offset=25), [Name('asyncore', Load(), lineno=431, col_offset=33), Str('file_dispatcher', lineno=431, col_offset=43)], [], None, None, lineno=431, col_offset=25), Str('asyncore.file_dispatcher required', lineno=432, col_offset=25)], [], None, None, lineno=431, col_offset=5)], lineno=431, col_offset=4)], [Call(Attribute(Name('unittest', Load(), lineno=396, col_offset=1), 'skipUnless', Load(), lineno=396, col_offset=1), [Call(Name('hasattr', Load(), lineno=396, col_offset=21), [Name('asyncore', Load(), lineno=396, col_offset=29), Str('file_wrapper', lineno=396, col_offset=39)], [], None, None, lineno=396, col_offset=21), Str('asyncore.file_wrapper required', lineno=397, col_offset=21)], [], None, None, lineno=396, col_offset=1)], lineno=396, col_offset=0), ClassDef('BaseTestHandler', [Attribute(Name('asyncore', Load(), lineno=445, col_offset=22), 'dispatcher', Load(), lineno=445, col_offset=22)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=447, col_offset=17), Name('sock', Param(), lineno=447, col_offset=23)], None, None, [Name('None', Load(), lineno=447, col_offset=28)]), [Expr(Call(Attribute(Attribute(Name('asyncore', Load(), lineno=448, col_offset=8), 'dispatcher', Load(), lineno=448, col_offset=8), '__init__', Load(), lineno=448, col_offset=8), [Name('self', Load(), lineno=448, col_offset=37), Name('sock', Load(), lineno=448, col_offset=43)], [], None, None, lineno=448, col_offset=8), lineno=448, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=449, col_offset=8), 'flag', Store(), lineno=449, col_offset=8)], Name('False', Load(), lineno=449, col_offset=20), lineno=449, col_offset=8)], [], lineno=447, col_offset=4), FunctionDef('handle_accept', arguments([Name('self', Param(), lineno=451, col_offset=22)], None, None, []), [Raise(Call(Name('Exception', Load(), lineno=452, col_offset=14), [Str('handle_accept not supposed to be called', lineno=452, col_offset=24)], [], None, None, lineno=452, col_offset=14), None, None, lineno=452, col_offset=8)], [], lineno=451, col_offset=4), FunctionDef('handle_connect', arguments([Name('self', Param(), lineno=454, col_offset=23)], None, None, []), [Raise(Call(Name('Exception', Load(), lineno=455, col_offset=14), [Str('handle_connect not supposed to be called', lineno=455, col_offset=24)], [], None, None, lineno=455, col_offset=14), None, None, lineno=455, col_offset=8)], [], lineno=454, col_offset=4), FunctionDef('handle_expt', arguments([Name('self', Param(), lineno=457, col_offset=20)], None, None, []), [Raise(Call(Name('Exception', Load(), lineno=458, col_offset=14), [Str('handle_expt not supposed to be called', lineno=458, col_offset=24)], [], None, None, lineno=458, col_offset=14), None, None, lineno=458, col_offset=8)], [], lineno=457, col_offset=4), FunctionDef('handle_close', arguments([Name('self', Param(), lineno=460, col_offset=21)], None, None, []), [Raise(Call(Name('Exception', Load(), lineno=461, col_offset=14), [Str('handle_close not supposed to be called', lineno=461, col_offset=24)], [], None, None, lineno=461, col_offset=14), None, None, lineno=461, col_offset=8)], [], lineno=460, col_offset=4), FunctionDef('handle_error', arguments([Name('self', Param(), lineno=463, col_offset=21)], None, None, []), [Raise(None, None, None, lineno=464, col_offset=8)], [], lineno=463, col_offset=4)], [], lineno=445, col_offset=0), ClassDef('TCPServer', [Attribute(Name('asyncore', Load(), lineno=467, col_offset=16), 'dispatcher', Load(), lineno=467, col_offset=16)], [Expr(Str('A server which listens on an address and dispatches the\n    connection to a handler.\n    ', lineno=470, col_offset=-1), lineno=470, col_offset=-1), FunctionDef('__init__', arguments([Name('self', Param(), lineno=472, col_offset=17), Name('handler', Param(), lineno=472, col_offset=23), Name('host', Param(), lineno=472, col_offset=48), Name('port', Param(), lineno=472, col_offset=59)], None, None, [Name('BaseTestHandler', Load(), lineno=472, col_offset=31), Name('HOST', Load(), lineno=472, col_offset=53), Num(0, lineno=472, col_offset=64)]), [Expr(Call(Attribute(Attribute(Name('asyncore', Load(), lineno=473, col_offset=8), 'dispatcher', Load(), lineno=473, col_offset=8), '__init__', Load(), lineno=473, col_offset=8), [Name('self', Load(), lineno=473, col_offset=37)], [], None, None, lineno=473, col_offset=8), lineno=473, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=474, col_offset=8), 'create_socket', Load(), lineno=474, col_offset=8), [Attribute(Name('socket', Load(), lineno=474, col_offset=27), 'AF_INET', Load(), lineno=474, col_offset=27), Attribute(Name('socket', Load(), lineno=474, col_offset=43), 'SOCK_STREAM', Load(), lineno=474, col_offset=43)], [], None, None, lineno=474, col_offset=8), lineno=474, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=475, col_offset=8), 'set_reuse_addr', Load(), lineno=475, col_offset=8), [], [], None, None, lineno=475, col_offset=8), lineno=475, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=476, col_offset=8), 'bind', Load(), lineno=476, col_offset=8), [Tuple([Name('host', Load(), lineno=476, col_offset=19), Name('port', Load(), lineno=476, col_offset=25)], Load(), lineno=476, col_offset=19)], [], None, None, lineno=476, col_offset=8), lineno=476, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=477, col_offset=8), 'listen', Load(), lineno=477, col_offset=8), [Num(5, lineno=477, col_offset=20)], [], None, None, lineno=477, col_offset=8), lineno=477, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=478, col_offset=8), 'handler', Store(), lineno=478, col_offset=8)], Name('handler', Load(), lineno=478, col_offset=23), lineno=478, col_offset=8)], [], lineno=472, col_offset=4), FunctionDef('address', arguments([Name('self', Param(), lineno=481, col_offset=16)], None, None, []), [Return(Subscript(Call(Attribute(Attribute(Name('self', Load(), lineno=482, col_offset=15), 'socket', Load(), lineno=482, col_offset=15), 'getsockname', Load(), lineno=482, col_offset=15), [], [], None, None, lineno=482, col_offset=15), Slice(None, Num(2, lineno=482, col_offset=42), None), Load(), lineno=482, col_offset=15), lineno=482, col_offset=8)], [Name('property', Load(), lineno=480, col_offset=5)], lineno=480, col_offset=4), FunctionDef('handle_accept', arguments([Name('self', Param(), lineno=484, col_offset=22)], None, None, []), [Assign([Tuple([Name('sock', Store(), lineno=485, col_offset=8), Name('addr', Store(), lineno=485, col_offset=14)], Store(), lineno=485, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=485, col_offset=21), 'accept', Load(), lineno=485, col_offset=21), [], [], None, None, lineno=485, col_offset=21), lineno=485, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=486, col_offset=8), 'handler', Load(), lineno=486, col_offset=8), [Name('sock', Load(), lineno=486, col_offset=21)], [], None, None, lineno=486, col_offset=8), lineno=486, col_offset=8)], [], lineno=484, col_offset=4), FunctionDef('handle_error', arguments([Name('self', Param(), lineno=488, col_offset=21)], None, None, []), [Raise(None, None, None, lineno=489, col_offset=8)], [], lineno=488, col_offset=4)], [], lineno=467, col_offset=0), ClassDef('BaseClient', [Name('BaseTestHandler', Load(), lineno=492, col_offset=17)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=494, col_offset=17), Name('address', Param(), lineno=494, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('BaseTestHandler', Load(), lineno=495, col_offset=8), '__init__', Load(), lineno=495, col_offset=8), [Name('self', Load(), lineno=495, col_offset=33)], [], None, None, lineno=495, col_offset=8), lineno=495, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=496, col_offset=8), 'create_socket', Load(), lineno=496, col_offset=8), [Attribute(Name('socket', Load(), lineno=496, col_offset=27), 'AF_INET', Load(), lineno=496, col_offset=27), Attribute(Name('socket', Load(), lineno=496, col_offset=43), 'SOCK_STREAM', Load(), lineno=496, col_offset=43)], [], None, None, lineno=496, col_offset=8), lineno=496, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=497, col_offset=8), 'connect', Load(), lineno=497, col_offset=8), [Name('address', Load(), lineno=497, col_offset=21)], [], None, None, lineno=497, col_offset=8), lineno=497, col_offset=8)], [], lineno=494, col_offset=4), FunctionDef('handle_connect', arguments([Name('self', Param(), lineno=499, col_offset=23)], None, None, []), [Pass( lineno=500, col_offset=8)], [], lineno=499, col_offset=4)], [], lineno=492, col_offset=0), ClassDef('BaseTestAPI', [Attribute(Name('unittest', Load(), lineno=503, col_offset=18), 'TestCase', Load(), lineno=503, col_offset=18)], [FunctionDef('tearDown', arguments([Name('self', Param(), lineno=505, col_offset=17)], None, None, []), [Expr(Call(Attribute(Name('asyncore', Load(), lineno=506, col_offset=8), 'close_all', Load(), lineno=506, col_offset=8), [], [], None, None, lineno=506, col_offset=8), lineno=506, col_offset=8)], [], lineno=505, col_offset=4), FunctionDef('loop_waiting_for_flag', arguments([Name('self', Param(), lineno=508, col_offset=30), Name('instance', Param(), lineno=508, col_offset=36), Name('timeout', Param(), lineno=508, col_offset=46)], None, None, [Num(5, lineno=508, col_offset=54)]), [Assign([Name('timeout', Store(), lineno=509, col_offset=8)], BinOp(Call(Name('float', Load(), lineno=509, col_offset=18), [Name('timeout', Load(), lineno=509, col_offset=24)], [], None, None, lineno=509, col_offset=18), Div(), Num(100, lineno=509, col_offset=35), lineno=509, col_offset=18), lineno=509, col_offset=8), Assign([Name('count', Store(), lineno=510, col_offset=8)], Num(100, lineno=510, col_offset=16), lineno=510, col_offset=8), While(BoolOp(And(), [Attribute(Name('asyncore', Load(), lineno=511, col_offset=14), 'socket_map', Load(), lineno=511, col_offset=14), Compare(Name('count', Load(), lineno=511, col_offset=38), [Gt()], [Num(0, lineno=511, col_offset=46)], lineno=511, col_offset=38)], lineno=511, col_offset=14), [Expr(Call(Attribute(Name('asyncore', Load(), lineno=512, col_offset=12), 'loop', Load(), lineno=512, col_offset=12), [], [keyword('timeout', Num(0.01, lineno=512, col_offset=34)), keyword('count', Num(1, lineno=512, col_offset=46)), keyword('use_poll', Attribute(Name('self', Load(), lineno=512, col_offset=58), 'use_poll', Load(), lineno=512, col_offset=58))], None, None, lineno=512, col_offset=12), lineno=512, col_offset=12), If(Attribute(Name('instance', Load(), lineno=513, col_offset=15), 'flag', Load(), lineno=513, col_offset=15), [Return(None, lineno=514, col_offset=16)], [], lineno=513, col_offset=12), AugAssign(Name('count', Store(), lineno=515, col_offset=12), Sub(), Num(1, lineno=515, col_offset=21), lineno=515, col_offset=12), Expr(Call(Attribute(Name('time', Load(), lineno=516, col_offset=12), 'sleep', Load(), lineno=516, col_offset=12), [Name('timeout', Load(), lineno=516, col_offset=23)], [], None, None, lineno=516, col_offset=12), lineno=516, col_offset=12)], [], lineno=511, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=517, col_offset=8), 'fail', Load(), lineno=517, col_offset=8), [Str('flag not set', lineno=517, col_offset=18)], [], None, None, lineno=517, col_offset=8), lineno=517, col_offset=8)], [], lineno=508, col_offset=4), FunctionDef('test_handle_connect', arguments([Name('self', Param(), lineno=519, col_offset=28)], None, None, []), [ClassDef('TestClient', [Name('BaseClient', Load(), lineno=522, col_offset=25)], [FunctionDef('handle_connect', arguments([Name('self', Param(), lineno=523, col_offset=31)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=524, col_offset=16), 'flag', Store(), lineno=524, col_offset=16)], Name('True', Load(), lineno=524, col_offset=28), lineno=524, col_offset=16)], [], lineno=523, col_offset=12)], [], lineno=522, col_offset=8), Assign([Name('server', Store(), lineno=526, col_offset=8)], Call(Name('TCPServer', Load(), lineno=526, col_offset=17), [], [], None, None, lineno=526, col_offset=17), lineno=526, col_offset=8), Assign([Name('client', Store(), lineno=527, col_offset=8)], Call(Name('TestClient', Load(), lineno=527, col_offset=17), [Attribute(Name('server', Load(), lineno=527, col_offset=28), 'address', Load(), lineno=527, col_offset=28)], [], None, None, lineno=527, col_offset=17), lineno=527, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=528, col_offset=8), 'loop_waiting_for_flag', Load(), lineno=528, col_offset=8), [Name('client', Load(), lineno=528, col_offset=35)], [], None, None, lineno=528, col_offset=8), lineno=528, col_offset=8)], [], lineno=519, col_offset=4), FunctionDef('test_handle_accept', arguments([Name('self', Param(), lineno=530, col_offset=27)], None, None, []), [ClassDef('TestListener', [Name('BaseTestHandler', Load(), lineno=533, col_offset=27)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=535, col_offset=25)], None, None, []), [Expr(Call(Attribute(Name('BaseTestHandler', Load(), lineno=536, col_offset=16), '__init__', Load(), lineno=536, col_offset=16), [Name('self', Load(), lineno=536, col_offset=41)], [], None, None, lineno=536, col_offset=16), lineno=536, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=537, col_offset=16), 'create_socket', Load(), lineno=537, col_offset=16), [Attribute(Name('socket', Load(), lineno=537, col_offset=35), 'AF_INET', Load(), lineno=537, col_offset=35), Attribute(Name('socket', Load(), lineno=537, col_offset=51), 'SOCK_STREAM', Load(), lineno=537, col_offset=51)], [], None, None, lineno=537, col_offset=16), lineno=537, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=538, col_offset=16), 'bind', Load(), lineno=538, col_offset=16), [Tuple([Name('HOST', Load(), lineno=538, col_offset=27), Num(0, lineno=538, col_offset=33)], Load(), lineno=538, col_offset=27)], [], None, None, lineno=538, col_offset=16), lineno=538, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=539, col_offset=16), 'listen', Load(), lineno=539, col_offset=16), [Num(5, lineno=539, col_offset=28)], [], None, None, lineno=539, col_offset=16), lineno=539, col_offset=16), Assign([Attribute(Name('self', Load(), lineno=540, col_offset=16), 'address', Store(), lineno=540, col_offset=16)], Subscript(Call(Attribute(Attribute(Name('self', Load(), lineno=540, col_offset=31), 'socket', Load(), lineno=540, col_offset=31), 'getsockname', Load(), lineno=540, col_offset=31), [], [], None, None, lineno=540, col_offset=31), Slice(None, Num(2, lineno=540, col_offset=58), None), Load(), lineno=540, col_offset=31), lineno=540, col_offset=16)], [], lineno=535, col_offset=12), FunctionDef('handle_accept', arguments([Name('self', Param(), lineno=542, col_offset=30)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=543, col_offset=16), 'flag', Store(), lineno=543, col_offset=16)], Name('True', Load(), lineno=543, col_offset=28), lineno=543, col_offset=16)], [], lineno=542, col_offset=12)], [], lineno=533, col_offset=8), Assign([Name('server', Store(), lineno=545, col_offset=8)], Call(Name('TestListener', Load(), lineno=545, col_offset=17), [], [], None, None, lineno=545, col_offset=17), lineno=545, col_offset=8), Assign([Name('client', Store(), lineno=546, col_offset=8)], Call(Name('BaseClient', Load(), lineno=546, col_offset=17), [Attribute(Name('server', Load(), lineno=546, col_offset=28), 'address', Load(), lineno=546, col_offset=28)], [], None, None, lineno=546, col_offset=17), lineno=546, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=547, col_offset=8), 'loop_waiting_for_flag', Load(), lineno=547, col_offset=8), [Name('server', Load(), lineno=547, col_offset=35)], [], None, None, lineno=547, col_offset=8), lineno=547, col_offset=8)], [], lineno=530, col_offset=4), FunctionDef('test_handle_read', arguments([Name('self', Param(), lineno=549, col_offset=25)], None, None, []), [ClassDef('TestClient', [Name('BaseClient', Load(), lineno=552, col_offset=25)], [FunctionDef('handle_read', arguments([Name('self', Param(), lineno=553, col_offset=28)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=554, col_offset=16), 'flag', Store(), lineno=554, col_offset=16)], Name('True', Load(), lineno=554, col_offset=28), lineno=554, col_offset=16)], [], lineno=553, col_offset=12)], [], lineno=552, col_offset=8), ClassDef('TestHandler', [Name('BaseTestHandler', Load(), lineno=556, col_offset=26)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=557, col_offset=25), Name('conn', Param(), lineno=557, col_offset=31)], None, None, []), [Expr(Call(Attribute(Name('BaseTestHandler', Load(), lineno=558, col_offset=16), '__init__', Load(), lineno=558, col_offset=16), [Name('self', Load(), lineno=558, col_offset=41), Name('conn', Load(), lineno=558, col_offset=47)], [], None, None, lineno=558, col_offset=16), lineno=558, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=559, col_offset=16), 'send', Load(), lineno=559, col_offset=16), [BinOp(Str('x', lineno=559, col_offset=26), Mult(), Num(1024, lineno=559, col_offset=32), lineno=559, col_offset=26)], [], None, None, lineno=559, col_offset=16), lineno=559, col_offset=16)], [], lineno=557, col_offset=12)], [], lineno=556, col_offset=8), Assign([Name('server', Store(), lineno=561, col_offset=8)], Call(Name('TCPServer', Load(), lineno=561, col_offset=17), [Name('TestHandler', Load(), lineno=561, col_offset=27)], [], None, None, lineno=561, col_offset=17), lineno=561, col_offset=8), Assign([Name('client', Store(), lineno=562, col_offset=8)], Call(Name('TestClient', Load(), lineno=562, col_offset=17), [Attribute(Name('server', Load(), lineno=562, col_offset=28), 'address', Load(), lineno=562, col_offset=28)], [], None, None, lineno=562, col_offset=17), lineno=562, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=563, col_offset=8), 'loop_waiting_for_flag', Load(), lineno=563, col_offset=8), [Name('client', Load(), lineno=563, col_offset=35)], [], None, None, lineno=563, col_offset=8), lineno=563, col_offset=8)], [], lineno=549, col_offset=4), FunctionDef('test_handle_write', arguments([Name('self', Param(), lineno=565, col_offset=26)], None, None, []), [ClassDef('TestClient', [Name('BaseClient', Load(), lineno=568, col_offset=25)], [FunctionDef('handle_write', arguments([Name('self', Param(), lineno=569, col_offset=29)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=570, col_offset=16), 'flag', Store(), lineno=570, col_offset=16)], Name('True', Load(), lineno=570, col_offset=28), lineno=570, col_offset=16)], [], lineno=569, col_offset=12)], [], lineno=568, col_offset=8), Assign([Name('server', Store(), lineno=572, col_offset=8)], Call(Name('TCPServer', Load(), lineno=572, col_offset=17), [], [], None, None, lineno=572, col_offset=17), lineno=572, col_offset=8), Assign([Name('client', Store(), lineno=573, col_offset=8)], Call(Name('TestClient', Load(), lineno=573, col_offset=17), [Attribute(Name('server', Load(), lineno=573, col_offset=28), 'address', Load(), lineno=573, col_offset=28)], [], None, None, lineno=573, col_offset=17), lineno=573, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=574, col_offset=8), 'loop_waiting_for_flag', Load(), lineno=574, col_offset=8), [Name('client', Load(), lineno=574, col_offset=35)], [], None, None, lineno=574, col_offset=8), lineno=574, col_offset=8)], [], lineno=565, col_offset=4), FunctionDef('test_handle_close', arguments([Name('self', Param(), lineno=576, col_offset=26)], None, None, []), [ClassDef('TestClient', [Name('BaseClient', Load(), lineno=580, col_offset=25)], [FunctionDef('handle_read', arguments([Name('self', Param(), lineno=582, col_offset=28)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=585, col_offset=16), 'recv', Load(), lineno=585, col_offset=16), [Num(1024, lineno=585, col_offset=26)], [], None, None, lineno=585, col_offset=16), lineno=585, col_offset=16)], [], lineno=582, col_offset=12), FunctionDef('handle_close', arguments([Name('self', Param(), lineno=587, col_offset=29)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=588, col_offset=16), 'flag', Store(), lineno=588, col_offset=16)], Name('True', Load(), lineno=588, col_offset=28), lineno=588, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=589, col_offset=16), 'close', Load(), lineno=589, col_offset=16), [], [], None, None, lineno=589, col_offset=16), lineno=589, col_offset=16)], [], lineno=587, col_offset=12)], [], lineno=580, col_offset=8), ClassDef('TestHandler', [Name('BaseTestHandler', Load(), lineno=591, col_offset=26)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=592, col_offset=25), Name('conn', Param(), lineno=592, col_offset=31)], None, None, []), [Expr(Call(Attribute(Name('BaseTestHandler', Load(), lineno=593, col_offset=16), '__init__', Load(), lineno=593, col_offset=16), [Name('self', Load(), lineno=593, col_offset=41), Name('conn', Load(), lineno=593, col_offset=47)], [], None, None, lineno=593, col_offset=16), lineno=593, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=594, col_offset=16), 'close', Load(), lineno=594, col_offset=16), [], [], None, None, lineno=594, col_offset=16), lineno=594, col_offset=16)], [], lineno=592, col_offset=12)], [], lineno=591, col_offset=8), Assign([Name('server', Store(), lineno=596, col_offset=8)], Call(Name('TCPServer', Load(), lineno=596, col_offset=17), [Name('TestHandler', Load(), lineno=596, col_offset=27)], [], None, None, lineno=596, col_offset=17), lineno=596, col_offset=8), Assign([Name('client', Store(), lineno=597, col_offset=8)], Call(Name('TestClient', Load(), lineno=597, col_offset=17), [Attribute(Name('server', Load(), lineno=597, col_offset=28), 'address', Load(), lineno=597, col_offset=28)], [], None, None, lineno=597, col_offset=17), lineno=597, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=598, col_offset=8), 'loop_waiting_for_flag', Load(), lineno=598, col_offset=8), [Name('client', Load(), lineno=598, col_offset=35)], [], None, None, lineno=598, col_offset=8), lineno=598, col_offset=8)], [], lineno=576, col_offset=4), FunctionDef('test_handle_expt', arguments([Name('self', Param(), lineno=602, col_offset=25)], None, None, []), [ClassDef('TestClient', [Name('BaseClient', Load(), lineno=607, col_offset=25)], [FunctionDef('handle_expt', arguments([Name('self', Param(), lineno=608, col_offset=28)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=609, col_offset=16), 'flag', Store(), lineno=609, col_offset=16)], Name('True', Load(), lineno=609, col_offset=28), lineno=609, col_offset=16)], [], lineno=608, col_offset=12)], [], lineno=607, col_offset=8), ClassDef('TestHandler', [Name('BaseTestHandler', Load(), lineno=611, col_offset=26)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=612, col_offset=25), Name('conn', Param(), lineno=612, col_offset=31)], None, None, []), [Expr(Call(Attribute(Name('BaseTestHandler', Load(), lineno=613, col_offset=16), '__init__', Load(), lineno=613, col_offset=16), [Name('self', Load(), lineno=613, col_offset=41), Name('conn', Load(), lineno=613, col_offset=47)], [], None, None, lineno=613, col_offset=16), lineno=613, col_offset=16), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=614, col_offset=16), 'socket', Load(), lineno=614, col_offset=16), 'send', Load(), lineno=614, col_offset=16), [Call(Name('chr', Load(), lineno=614, col_offset=33), [Num(244, lineno=614, col_offset=37)], [], None, None, lineno=614, col_offset=33), Attribute(Name('socket', Load(), lineno=614, col_offset=43), 'MSG_OOB', Load(), lineno=614, col_offset=43)], [], None, None, lineno=614, col_offset=16), lineno=614, col_offset=16)], [], lineno=612, col_offset=12)], [], lineno=611, col_offset=8), Assign([Name('server', Store(), lineno=616, col_offset=8)], Call(Name('TCPServer', Load(), lineno=616, col_offset=17), [Name('TestHandler', Load(), lineno=616, col_offset=27)], [], None, None, lineno=616, col_offset=17), lineno=616, col_offset=8), Assign([Name('client', Store(), lineno=617, col_offset=8)], Call(Name('TestClient', Load(), lineno=617, col_offset=17), [Attribute(Name('server', Load(), lineno=617, col_offset=28), 'address', Load(), lineno=617, col_offset=28)], [], None, None, lineno=617, col_offset=17), lineno=617, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=618, col_offset=8), 'loop_waiting_for_flag', Load(), lineno=618, col_offset=8), [Name('client', Load(), lineno=618, col_offset=35)], [], None, None, lineno=618, col_offset=8), lineno=618, col_offset=8)], [Call(Attribute(Name('unittest', Load(), lineno=600, col_offset=5), 'skipIf', Load(), lineno=600, col_offset=5), [Call(Attribute(Attribute(Name('sys', Load(), lineno=600, col_offset=21), 'platform', Load(), lineno=600, col_offset=21), 'startswith', Load(), lineno=600, col_offset=21), [Str('sunos', lineno=600, col_offset=45)], [], None, None, lineno=600, col_offset=21), Str('OOB support is broken on Solaris', lineno=601, col_offset=21)], [], None, None, lineno=600, col_offset=5)], lineno=600, col_offset=4), FunctionDef('test_handle_error', arguments([Name('self', Param(), lineno=620, col_offset=26)], None, None, []), [ClassDef('TestClient', [Name('BaseClient', Load(), lineno=622, col_offset=25)], [FunctionDef('handle_write', arguments([Name('self', Param(), lineno=623, col_offset=29)], None, None, []), [Expr(BinOp(Num(1.0, lineno=624, col_offset=16), Div(), Num(0, lineno=624, col_offset=22), lineno=624, col_offset=16), lineno=624, col_offset=16)], [], lineno=623, col_offset=12), FunctionDef('handle_error', arguments([Name('self', Param(), lineno=625, col_offset=29)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=626, col_offset=16), 'flag', Store(), lineno=626, col_offset=16)], Name('True', Load(), lineno=626, col_offset=28), lineno=626, col_offset=16), TryExcept([Raise(None, None, None, lineno=628, col_offset=20)], [ExceptHandler(Name('ZeroDivisionError', Load(), lineno=629, col_offset=23), None, [Pass( lineno=630, col_offset=20)], lineno=629, col_offset=16)], [Raise(Call(Name('Exception', Load(), lineno=632, col_offset=26), [Str('exception not raised', lineno=632, col_offset=36)], [], None, None, lineno=632, col_offset=26), None, None, lineno=632, col_offset=20)], lineno=627, col_offset=16)], [], lineno=625, col_offset=12)], [], lineno=622, col_offset=8), Assign([Name('server', Store(), lineno=634, col_offset=8)], Call(Name('TCPServer', Load(), lineno=634, col_offset=17), [], [], None, None, lineno=634, col_offset=17), lineno=634, col_offset=8), Assign([Name('client', Store(), lineno=635, col_offset=8)], Call(Name('TestClient', Load(), lineno=635, col_offset=17), [Attribute(Name('server', Load(), lineno=635, col_offset=28), 'address', Load(), lineno=635, col_offset=28)], [], None, None, lineno=635, col_offset=17), lineno=635, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=636, col_offset=8), 'loop_waiting_for_flag', Load(), lineno=636, col_offset=8), [Name('client', Load(), lineno=636, col_offset=35)], [], None, None, lineno=636, col_offset=8), lineno=636, col_offset=8)], [], lineno=620, col_offset=4), FunctionDef('test_connection_attributes', arguments([Name('self', Param(), lineno=638, col_offset=35)], None, None, []), [Assign([Name('server', Store(), lineno=639, col_offset=8)], Call(Name('TCPServer', Load(), lineno=639, col_offset=17), [], [], None, None, lineno=639, col_offset=17), lineno=639, col_offset=8), Assign([Name('client', Store(), lineno=640, col_offset=8)], Call(Name('BaseClient', Load(), lineno=640, col_offset=17), [Attribute(Name('server', Load(), lineno=640, col_offset=28), 'address', Load(), lineno=640, col_offset=28)], [], None, None, lineno=640, col_offset=17), lineno=640, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=643, col_offset=8), 'assertFalse', Load(), lineno=643, col_offset=8), [Attribute(Name('server', Load(), lineno=643, col_offset=25), 'connected', Load(), lineno=643, col_offset=25)], [], None, None, lineno=643, col_offset=8), lineno=643, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=644, col_offset=8), 'assertTrue', Load(), lineno=644, col_offset=8), [Attribute(Name('server', Load(), lineno=644, col_offset=24), 'accepting', Load(), lineno=644, col_offset=24)], [], None, None, lineno=644, col_offset=8), lineno=644, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=647, col_offset=8), 'assertFalse', Load(), lineno=647, col_offset=8), [Attribute(Name('client', Load(), lineno=647, col_offset=25), 'accepting', Load(), lineno=647, col_offset=25)], [], None, None, lineno=647, col_offset=8), lineno=647, col_offset=8), Expr(Call(Attribute(Name('asyncore', Load(), lineno=650, col_offset=8), 'loop', Load(), lineno=650, col_offset=8), [], [keyword('timeout', Num(0.01, lineno=650, col_offset=30)), keyword('use_poll', Attribute(Name('self', Load(), lineno=650, col_offset=45), 'use_poll', Load(), lineno=650, col_offset=45)), keyword('count', Num(100, lineno=650, col_offset=66))], None, None, lineno=650, col_offset=8), lineno=650, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=651, col_offset=8), 'assertFalse', Load(), lineno=651, col_offset=8), [Attribute(Name('server', Load(), lineno=651, col_offset=25), 'connected', Load(), lineno=651, col_offset=25)], [], None, None, lineno=651, col_offset=8), lineno=651, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=652, col_offset=8), 'assertTrue', Load(), lineno=652, col_offset=8), [Attribute(Name('server', Load(), lineno=652, col_offset=24), 'accepting', Load(), lineno=652, col_offset=24)], [], None, None, lineno=652, col_offset=8), lineno=652, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=653, col_offset=8), 'assertTrue', Load(), lineno=653, col_offset=8), [Attribute(Name('client', Load(), lineno=653, col_offset=24), 'connected', Load(), lineno=653, col_offset=24)], [], None, None, lineno=653, col_offset=8), lineno=653, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=654, col_offset=8), 'assertFalse', Load(), lineno=654, col_offset=8), [Attribute(Name('client', Load(), lineno=654, col_offset=25), 'accepting', Load(), lineno=654, col_offset=25)], [], None, None, lineno=654, col_offset=8), lineno=654, col_offset=8), Expr(Call(Attribute(Name('client', Load(), lineno=657, col_offset=8), 'close', Load(), lineno=657, col_offset=8), [], [], None, None, lineno=657, col_offset=8), lineno=657, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=658, col_offset=8), 'assertFalse', Load(), lineno=658, col_offset=8), [Attribute(Name('server', Load(), lineno=658, col_offset=25), 'connected', Load(), lineno=658, col_offset=25)], [], None, None, lineno=658, col_offset=8), lineno=658, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=659, col_offset=8), 'assertTrue', Load(), lineno=659, col_offset=8), [Attribute(Name('server', Load(), lineno=659, col_offset=24), 'accepting', Load(), lineno=659, col_offset=24)], [], None, None, lineno=659, col_offset=8), lineno=659, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=660, col_offset=8), 'assertFalse', Load(), lineno=660, col_offset=8), [Attribute(Name('client', Load(), lineno=660, col_offset=25), 'connected', Load(), lineno=660, col_offset=25)], [], None, None, lineno=660, col_offset=8), lineno=660, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=661, col_offset=8), 'assertFalse', Load(), lineno=661, col_offset=8), [Attribute(Name('client', Load(), lineno=661, col_offset=25), 'accepting', Load(), lineno=661, col_offset=25)], [], None, None, lineno=661, col_offset=8), lineno=661, col_offset=8), Expr(Call(Attribute(Name('server', Load(), lineno=664, col_offset=8), 'close', Load(), lineno=664, col_offset=8), [], [], None, None, lineno=664, col_offset=8), lineno=664, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=665, col_offset=8), 'assertFalse', Load(), lineno=665, col_offset=8), [Attribute(Name('server', Load(), lineno=665, col_offset=25), 'connected', Load(), lineno=665, col_offset=25)], [], None, None, lineno=665, col_offset=8), lineno=665, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=666, col_offset=8), 'assertFalse', Load(), lineno=666, col_offset=8), [Attribute(Name('server', Load(), lineno=666, col_offset=25), 'accepting', Load(), lineno=666, col_offset=25)], [], None, None, lineno=666, col_offset=8), lineno=666, col_offset=8)], [], lineno=638, col_offset=4), FunctionDef('test_create_socket', arguments([Name('self', Param(), lineno=668, col_offset=27)], None, None, []), [Assign([Name('s', Store(), lineno=669, col_offset=8)], Call(Attribute(Name('asyncore', Load(), lineno=669, col_offset=12), 'dispatcher', Load(), lineno=669, col_offset=12), [], [], None, None, lineno=669, col_offset=12), lineno=669, col_offset=8), Expr(Call(Attribute(Name('s', Load(), lineno=670, col_offset=8), 'create_socket', Load(), lineno=670, col_offset=8), [Attribute(Name('socket', Load(), lineno=670, col_offset=24), 'AF_INET', Load(), lineno=670, col_offset=24), Attribute(Name('socket', Load(), lineno=670, col_offset=40), 'SOCK_STREAM', Load(), lineno=670, col_offset=40)], [], None, None, lineno=670, col_offset=8), lineno=670, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=671, col_offset=8), 'assertEqual', Load(), lineno=671, col_offset=8), [Attribute(Attribute(Name('s', Load(), lineno=671, col_offset=25), 'socket', Load(), lineno=671, col_offset=25), 'family', Load(), lineno=671, col_offset=25), Attribute(Name('socket', Load(), lineno=671, col_offset=42), 'AF_INET', Load(), lineno=671, col_offset=42)], [], None, None, lineno=671, col_offset=8), lineno=671, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=672, col_offset=8), 'assertEqual', Load(), lineno=672, col_offset=8), [Attribute(Attribute(Name('s', Load(), lineno=672, col_offset=25), 'socket', Load(), lineno=672, col_offset=25), 'type', Load(), lineno=672, col_offset=25), Attribute(Name('socket', Load(), lineno=672, col_offset=40), 'SOCK_STREAM', Load(), lineno=672, col_offset=40)], [], None, None, lineno=672, col_offset=8), lineno=672, col_offset=8)], [], lineno=668, col_offset=4), FunctionDef('test_bind', arguments([Name('self', Param(), lineno=674, col_offset=18)], None, None, []), [Assign([Name('s1', Store(), lineno=675, col_offset=8)], Call(Attribute(Name('asyncore', Load(), lineno=675, col_offset=13), 'dispatcher', Load(), lineno=675, col_offset=13), [], [], None, None, lineno=675, col_offset=13), lineno=675, col_offset=8), Expr(Call(Attribute(Name('s1', Load(), lineno=676, col_offset=8), 'create_socket', Load(), lineno=676, col_offset=8), [Attribute(Name('socket', Load(), lineno=676, col_offset=25), 'AF_INET', Load(), lineno=676, col_offset=25), Attribute(Name('socket', Load(), lineno=676, col_offset=41), 'SOCK_STREAM', Load(), lineno=676, col_offset=41)], [], None, None, lineno=676, col_offset=8), lineno=676, col_offset=8), Expr(Call(Attribute(Name('s1', Load(), lineno=677, col_offset=8), 'bind', Load(), lineno=677, col_offset=8), [Tuple([Name('HOST', Load(), lineno=677, col_offset=17), Num(0, lineno=677, col_offset=23)], Load(), lineno=677, col_offset=17)], [], None, None, lineno=677, col_offset=8), lineno=677, col_offset=8), Expr(Call(Attribute(Name('s1', Load(), lineno=678, col_offset=8), 'listen', Load(), lineno=678, col_offset=8), [Num(5, lineno=678, col_offset=18)], [], None, None, lineno=678, col_offset=8), lineno=678, col_offset=8), Assign([Name('port', Store(), lineno=679, col_offset=8)], Subscript(Call(Attribute(Attribute(Name('s1', Load(), lineno=679, col_offset=15), 'socket', Load(), lineno=679, col_offset=15), 'getsockname', Load(), lineno=679, col_offset=15), [], [], None, None, lineno=679, col_offset=15), Index(Num(1, lineno=679, col_offset=39)), Load(), lineno=679, col_offset=15), lineno=679, col_offset=8), Assign([Name('s2', Store(), lineno=681, col_offset=8)], Call(Attribute(Name('asyncore', Load(), lineno=681, col_offset=13), 'dispatcher', Load(), lineno=681, col_offset=13), [], [], None, None, lineno=681, col_offset=13), lineno=681, col_offset=8), Expr(Call(Attribute(Name('s2', Load(), lineno=682, col_offset=8), 'create_socket', Load(), lineno=682, col_offset=8), [Attribute(Name('socket', Load(), lineno=682, col_offset=25), 'AF_INET', Load(), lineno=682, col_offset=25), Attribute(Name('socket', Load(), lineno=682, col_offset=41), 'SOCK_STREAM', Load(), lineno=682, col_offset=41)], [], None, None, lineno=682, col_offset=8), lineno=682, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=684, col_offset=8), 'assertRaises', Load(), lineno=684, col_offset=8), [Attribute(Name('socket', Load(), lineno=684, col_offset=26), 'error', Load(), lineno=684, col_offset=26), Attribute(Name('s2', Load(), lineno=684, col_offset=40), 'bind', Load(), lineno=684, col_offset=40), Tuple([Name('HOST', Load(), lineno=684, col_offset=50), Name('port', Load(), lineno=684, col_offset=56)], Load(), lineno=684, col_offset=50)], [], None, None, lineno=684, col_offset=8), lineno=684, col_offset=8)], [], lineno=674, col_offset=4), FunctionDef('test_set_reuse_addr', arguments([Name('self', Param(), lineno=686, col_offset=28)], None, None, []), [Assign([Name('sock', Store(), lineno=687, col_offset=8)], Call(Attribute(Name('socket', Load(), lineno=687, col_offset=15), 'socket', Load(), lineno=687, col_offset=15), [], [], None, None, lineno=687, col_offset=15), lineno=687, col_offset=8), TryFinally([TryExcept([Expr(Call(Attribute(Name('sock', Load(), lineno=689, col_offset=12), 'setsockopt', Load(), lineno=689, col_offset=12), [Attribute(Name('socket', Load(), lineno=689, col_offset=28), 'SOL_SOCKET', Load(), lineno=689, col_offset=28), Attribute(Name('socket', Load(), lineno=689, col_offset=47), 'SO_REUSEADDR', Load(), lineno=689, col_offset=47), Num(1, lineno=689, col_offset=68)], [], None, None, lineno=689, col_offset=12), lineno=689, col_offset=12)], [ExceptHandler(Attribute(Name('socket', Load(), lineno=690, col_offset=15), 'error', Load(), lineno=690, col_offset=15), None, [Expr(Call(Attribute(Name('unittest', Load(), lineno=691, col_offset=12), 'skip', Load(), lineno=691, col_offset=12), [Str('SO_REUSEADDR not supported on this platform', lineno=691, col_offset=26)], [], None, None, lineno=691, col_offset=12), lineno=691, col_offset=12)], lineno=690, col_offset=8)], [Assign([Name('s', Store(), lineno=695, col_offset=12)], Call(Attribute(Name('asyncore', Load(), lineno=695, col_offset=16), 'dispatcher', Load(), lineno=695, col_offset=16), [Call(Attribute(Name('socket', Load(), lineno=695, col_offset=36), 'socket', Load(), lineno=695, col_offset=36), [], [], None, None, lineno=695, col_offset=36)], [], None, None, lineno=695, col_offset=16), lineno=695, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=696, col_offset=12), 'assertFalse', Load(), lineno=696, col_offset=12), [Call(Attribute(Attribute(Name('s', Load(), lineno=696, col_offset=29), 'socket', Load(), lineno=696, col_offset=29), 'getsockopt', Load(), lineno=696, col_offset=29), [Attribute(Name('socket', Load(), lineno=696, col_offset=49), 'SOL_SOCKET', Load(), lineno=696, col_offset=49), Attribute(Name('socket', Load(), lineno=697, col_offset=49), 'SO_REUSEADDR', Load(), lineno=697, col_offset=49)], [], None, None, lineno=696, col_offset=29)], [], None, None, lineno=696, col_offset=12), lineno=696, col_offset=12), Expr(Call(Attribute(Name('s', Load(), lineno=698, col_offset=12), 'create_socket', Load(), lineno=698, col_offset=12), [Attribute(Name('socket', Load(), lineno=698, col_offset=28), 'AF_INET', Load(), lineno=698, col_offset=28), Attribute(Name('socket', Load(), lineno=698, col_offset=44), 'SOCK_STREAM', Load(), lineno=698, col_offset=44)], [], None, None, lineno=698, col_offset=12), lineno=698, col_offset=12), Expr(Call(Attribute(Name('s', Load(), lineno=699, col_offset=12), 'set_reuse_addr', Load(), lineno=699, col_offset=12), [], [], None, None, lineno=699, col_offset=12), lineno=699, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=700, col_offset=12), 'assertTrue', Load(), lineno=700, col_offset=12), [Call(Attribute(Attribute(Name('s', Load(), lineno=700, col_offset=28), 'socket', Load(), lineno=700, col_offset=28), 'getsockopt', Load(), lineno=700, col_offset=28), [Attribute(Name('socket', Load(), lineno=700, col_offset=48), 'SOL_SOCKET', Load(), lineno=700, col_offset=48), Attribute(Name('socket', Load(), lineno=701, col_offset=49), 'SO_REUSEADDR', Load(), lineno=701, col_offset=49)], [], None, None, lineno=700, col_offset=28)], [], None, None, lineno=700, col_offset=12), lineno=700, col_offset=12)], lineno=688, col_offset=8)], [Expr(Call(Attribute(Name('sock', Load(), lineno=703, col_offset=12), 'close', Load(), lineno=703, col_offset=12), [], [], None, None, lineno=703, col_offset=12), lineno=703, col_offset=12)], lineno=688, col_offset=8)], [], lineno=686, col_offset=4)], [], lineno=503, col_offset=0), ClassDef('TestAPI_UseSelect', [Name('BaseTestAPI', Load(), lineno=706, col_offset=24)], [Assign([Name('use_poll', Store(), lineno=707, col_offset=4)], Name('False', Load(), lineno=707, col_offset=15), lineno=707, col_offset=4)], [], lineno=706, col_offset=0), ClassDef('TestAPI_UsePoll', [Name('BaseTestAPI', Load(), lineno=710, col_offset=22)], [Assign([Name('use_poll', Store(), lineno=711, col_offset=4)], Name('True', Load(), lineno=711, col_offset=15), lineno=711, col_offset=4)], [Call(Attribute(Name('unittest', Load(), lineno=709, col_offset=1), 'skipUnless', Load(), lineno=709, col_offset=1), [Call(Name('hasattr', Load(), lineno=709, col_offset=21), [Name('select', Load(), lineno=709, col_offset=29), Str('poll', lineno=709, col_offset=37)], [], None, None, lineno=709, col_offset=21), Str('select.poll required', lineno=709, col_offset=46)], [], None, None, lineno=709, col_offset=1)], lineno=709, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Assign([Name('tests', Store(), lineno=715, col_offset=4)], List([Name('HelperFunctionTests', Load(), lineno=715, col_offset=13), Name('DispatcherTests', Load(), lineno=715, col_offset=34), Name('DispatcherWithSendTests', Load(), lineno=715, col_offset=51), Name('DispatcherWithSendTests_UsePoll', Load(), lineno=716, col_offset=13), Name('TestAPI_UseSelect', Load(), lineno=716, col_offset=46), Name('TestAPI_UsePoll', Load(), lineno=717, col_offset=13), Name('FileWrapperTest', Load(), lineno=717, col_offset=30)], Load(), lineno=715, col_offset=12), lineno=715, col_offset=4), Expr(Call(Name('run_unittest', Load(), lineno=718, col_offset=4), [], [], Name('tests', Load(), lineno=718, col_offset=18), None, lineno=718, col_offset=4), lineno=718, col_offset=4)], [], lineno=714, col_offset=0), If(Compare(Name('__name__', Load(), lineno=720, col_offset=3), [Eq()], [Str('__main__', lineno=720, col_offset=15)], lineno=720, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=721, col_offset=4), [], [], None, None, lineno=721, col_offset=4), lineno=721, col_offset=4)], [], lineno=720, col_offset=0)])
