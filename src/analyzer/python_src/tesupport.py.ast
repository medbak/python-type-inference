Module([Import([alias('string', None)], lineno=6, col_offset=0), Assign([Name('MACHEADERFILE', Store(), lineno=9, col_offset=0)], Str('TextEdit.h', lineno=9, col_offset=16), lineno=9, col_offset=0), Assign([Name('MODNAME', Store(), lineno=10, col_offset=0)], Str('_TE', lineno=10, col_offset=10), lineno=10, col_offset=0), Assign([Name('OBJECTNAME', Store(), lineno=11, col_offset=0)], Str('TE', lineno=11, col_offset=13), lineno=11, col_offset=0), Assign([Name('KIND', Store(), lineno=12, col_offset=0)], Str('Handle', lineno=12, col_offset=7), lineno=12, col_offset=0), Assign([Name('MODPREFIX', Store(), lineno=15, col_offset=0)], Str('TE', lineno=15, col_offset=12), lineno=15, col_offset=0), Assign([Name('OBJECTTYPE', Store(), lineno=16, col_offset=0)], Str('TEHandle', lineno=16, col_offset=13), lineno=16, col_offset=0), Assign([Name('OBJECTPREFIX', Store(), lineno=17, col_offset=0)], BinOp(Name('MODPREFIX', Load(), lineno=17, col_offset=15), Add(), Str('Obj', lineno=17, col_offset=27), lineno=17, col_offset=15), lineno=17, col_offset=0), Assign([Name('INPUTFILE', Store(), lineno=18, col_offset=0)], BinOp(Call(Attribute(Name('string', Load(), lineno=18, col_offset=12), 'lower', Load(), lineno=18, col_offset=12), [Name('MODPREFIX', Load(), lineno=18, col_offset=25)], [], None, None, lineno=18, col_offset=12), Add(), Str('gen.py', lineno=18, col_offset=38), lineno=18, col_offset=12), lineno=18, col_offset=0), Assign([Name('OUTPUTFILE', Store(), lineno=19, col_offset=0)], BinOp(Name('MODNAME', Load(), lineno=19, col_offset=13), Add(), Str('module.c', lineno=19, col_offset=23), lineno=19, col_offset=13), lineno=19, col_offset=0), ImportFrom('macsupport', [alias('*', None)], 0, lineno=21, col_offset=0), Assign([Name('TEHandle', Store(), lineno=24, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=24, col_offset=11), [Str('TEHandle', lineno=24, col_offset=29), Str('TEObj', lineno=24, col_offset=41)], [], None, None, lineno=24, col_offset=11), lineno=24, col_offset=0), Assign([Name('CharsHandle', Store(), lineno=25, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=25, col_offset=14), [Str('CharsHandle', lineno=25, col_offset=32), Str('ResObj', lineno=25, col_offset=47)], [], None, None, lineno=25, col_offset=14), lineno=25, col_offset=0), Assign([Name('Handle', Store(), lineno=26, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=26, col_offset=9), [Str('Handle', lineno=26, col_offset=27), Str('ResObj', lineno=26, col_offset=37)], [], None, None, lineno=26, col_offset=9), lineno=26, col_offset=0), Assign([Name('StScrpHandle', Store(), lineno=27, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=27, col_offset=15), [Str('StScrpHandle', lineno=27, col_offset=33), Str('ResObj', lineno=27, col_offset=49)], [], None, None, lineno=27, col_offset=15), lineno=27, col_offset=0), Assign([Name('TEStyleHandle', Store(), lineno=28, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=28, col_offset=16), [Str('TEStyleHandle', lineno=28, col_offset=34), Str('ResObj', lineno=28, col_offset=51)], [], None, None, lineno=28, col_offset=16), lineno=28, col_offset=0), Assign([Name('RgnHandle', Store(), lineno=29, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=29, col_offset=12), [Str('RgnHandle', lineno=29, col_offset=30), Str('ResObj', lineno=29, col_offset=43)], [], None, None, lineno=29, col_offset=12), lineno=29, col_offset=0), Assign([Name('TextStyle', Store(), lineno=31, col_offset=0)], Call(Name('OpaqueType', Load(), lineno=31, col_offset=12), [Str('TextStyle', lineno=31, col_offset=23), Str('TextStyle', lineno=31, col_offset=36)], [], None, None, lineno=31, col_offset=12), lineno=31, col_offset=0), Assign([Name('TextStyle_ptr', Store(), lineno=32, col_offset=0)], Name('TextStyle', Load(), lineno=32, col_offset=16), lineno=32, col_offset=0), Assign([Name('includestuff', Store(), lineno=34, col_offset=0)], BinOp(Name('includestuff', Load(), lineno=34, col_offset=15), Add(), Str('\n#include <Carbon/Carbon.h>\n\n#ifdef USE_TOOLBOX_OBJECT_GLUE\nextern PyObject *_TEObj_New(TEHandle);\nextern int _TEObj_Convert(PyObject *, TEHandle *);\n\n#define TEObj_New _TEObj_New\n#define TEObj_Convert _TEObj_Convert\n#endif\n\n#define as_TE(h) ((TEHandle)h)\n#define as_Resource(teh) ((Handle)teh)\n\n/*\n** Parse/generate TextStyle records\n*/\nstatic PyObject *\nTextStyle_New(TextStylePtr itself)\n{\n\n        return Py_BuildValue("lllO&", (long)itself->tsFont, (long)itself->tsFace, (long)itself->tsSize, QdRGB_New,\n                                &itself->tsColor);\n}\n\nstatic int\nTextStyle_Convert(PyObject *v, TextStylePtr p_itself)\n{\n        long font, face, size;\n\n        if( !PyArg_ParseTuple(v, "lllO&", &font, &face, &size, QdRGB_Convert, &p_itself->tsColor) )\n                return 0;\n        p_itself->tsFont = (short)font;\n        p_itself->tsFace = (Style)face;\n        p_itself->tsSize = (short)size;\n        return 1;\n}\n', lineno=71, col_offset=-1), lineno=34, col_offset=15), lineno=34, col_offset=0), Assign([Name('initstuff', Store(), lineno=73, col_offset=0)], BinOp(Name('initstuff', Load(), lineno=73, col_offset=12), Add(), Str('\n        PyMac_INIT_TOOLBOX_OBJECT_NEW(TEHandle, TEObj_New);\n        PyMac_INIT_TOOLBOX_OBJECT_CONVERT(TEHandle, TEObj_Convert);\n', lineno=76, col_offset=-1), lineno=73, col_offset=12), lineno=73, col_offset=0), ClassDef('TEMethodGenerator', [Name('OSErrWeakLinkMethodGenerator', Load(), lineno=78, col_offset=24)], [Expr(Str('Similar to MethodGenerator, but has self as last argument', lineno=79, col_offset=4), lineno=79, col_offset=4), FunctionDef('parseArgumentList', arguments([Name('self', Param(), lineno=81, col_offset=26), Name('args', Param(), lineno=81, col_offset=32)], None, None, []), [Assign([Tuple([Name('args', Store(), lineno=82, col_offset=8), Name('a0', Store(), lineno=82, col_offset=14)], Store(), lineno=82, col_offset=8)], Tuple([Subscript(Name('args', Load(), lineno=82, col_offset=19), Slice(None, Num(-1, lineno=82, col_offset=26), None), Load(), lineno=82, col_offset=19), Subscript(Name('args', Load(), lineno=82, col_offset=30), Index(Num(-1, lineno=82, col_offset=36)), Load(), lineno=82, col_offset=30)], Load(), lineno=82, col_offset=19), lineno=82, col_offset=8), Assign([Tuple([Name('t0', Store(), lineno=83, col_offset=8), Name('n0', Store(), lineno=83, col_offset=12), Name('m0', Store(), lineno=83, col_offset=16)], Store(), lineno=83, col_offset=8)], Name('a0', Load(), lineno=83, col_offset=21), lineno=83, col_offset=8), If(Compare(Name('m0', Load(), lineno=84, col_offset=11), [NotEq()], [Name('InMode', Load(), lineno=84, col_offset=17)], lineno=84, col_offset=11), [Raise(Name('ValueError', Load(), lineno=85, col_offset=18), Str("method's 'self' must be 'InMode'", lineno=85, col_offset=30), None, lineno=85, col_offset=12)], [], lineno=84, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=86, col_offset=8), 'itself', Store(), lineno=86, col_offset=8)], Call(Name('Variable', Load(), lineno=86, col_offset=22), [Name('t0', Load(), lineno=86, col_offset=31), Str('_self->ob_itself', lineno=86, col_offset=35), Name('SelfMode', Load(), lineno=86, col_offset=55)], [], None, None, lineno=86, col_offset=22), lineno=86, col_offset=8), Expr(Call(Attribute(Name('FunctionGenerator', Load(), lineno=87, col_offset=8), 'parseArgumentList', Load(), lineno=87, col_offset=8), [Name('self', Load(), lineno=87, col_offset=44), Name('args', Load(), lineno=87, col_offset=50)], [], None, None, lineno=87, col_offset=8), lineno=87, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=88, col_offset=8), 'argumentList', Load(), lineno=88, col_offset=8), 'append', Load(), lineno=88, col_offset=8), [Attribute(Name('self', Load(), lineno=88, col_offset=33), 'itself', Load(), lineno=88, col_offset=33)], [], None, None, lineno=88, col_offset=8), lineno=88, col_offset=8)], [], lineno=81, col_offset=4)], [], lineno=78, col_offset=0), ClassDef('MyObjectDefinition', [Name('PEP253Mixin', Load(), lineno=92, col_offset=25), Name('GlobalObjectDefinition', Load(), lineno=92, col_offset=38)], [Assign([Name('getsetlist', Store(), lineno=95, col_offset=4)], List([Tuple([Str('destRect', lineno=97, col_offset=12), Str('return Py_BuildValue("O&", PyMac_BuildRect, &(*self->ob_itself)->destRect);', lineno=98, col_offset=12), Name('None', Load(), lineno=99, col_offset=12), Str('Destination rectangle', lineno=100, col_offset=12)], Load(), lineno=97, col_offset=12), Tuple([Str('viewRect', lineno=102, col_offset=12), Str('return Py_BuildValue("O&", PyMac_BuildRect, &(*self->ob_itself)->viewRect);', lineno=103, col_offset=12), Name('None', Load(), lineno=104, col_offset=12), Str('Viewing rectangle', lineno=105, col_offset=12)], Load(), lineno=102, col_offset=12), Tuple([Str('selRect', lineno=107, col_offset=12), Str('return Py_BuildValue("O&", PyMac_BuildRect, &(*self->ob_itself)->selRect);', lineno=108, col_offset=12), Name('None', Load(), lineno=109, col_offset=12), Str('Selection rectangle', lineno=110, col_offset=12)], Load(), lineno=107, col_offset=12), Tuple([Str('lineHeight', lineno=112, col_offset=12), Str('return Py_BuildValue("h", (*self->ob_itself)->lineHeight);', lineno=113, col_offset=12), Name('None', Load(), lineno=114, col_offset=12), Str('Height of a line', lineno=115, col_offset=12)], Load(), lineno=112, col_offset=12), Tuple([Str('fontAscent', lineno=117, col_offset=12), Str('return Py_BuildValue("h", (*self->ob_itself)->fontAscent);', lineno=118, col_offset=12), Name('None', Load(), lineno=119, col_offset=12), Str('Ascent of a line', lineno=120, col_offset=12)], Load(), lineno=117, col_offset=12), Tuple([Str('selPoint', lineno=122, col_offset=12), Str('return Py_BuildValue("O&", PyMac_BuildPoint, (*self->ob_itself)->selPoint);', lineno=123, col_offset=12), Name('None', Load(), lineno=124, col_offset=12), Str('Selection Point', lineno=125, col_offset=12)], Load(), lineno=122, col_offset=12), Tuple([Str('selStart', lineno=127, col_offset=12), Str('return Py_BuildValue("h", (*self->ob_itself)->selStart);', lineno=128, col_offset=12), Name('None', Load(), lineno=129, col_offset=12), Str('Start of selection', lineno=130, col_offset=12)], Load(), lineno=127, col_offset=12), Tuple([Str('selEnd', lineno=132, col_offset=12), Str('return Py_BuildValue("h", (*self->ob_itself)->selEnd);', lineno=133, col_offset=12), Name('None', Load(), lineno=134, col_offset=12), Str('End of selection', lineno=135, col_offset=12)], Load(), lineno=132, col_offset=12), Tuple([Str('active', lineno=137, col_offset=12), Str('return Py_BuildValue("h", (*self->ob_itself)->active);', lineno=138, col_offset=12), Name('None', Load(), lineno=139, col_offset=12), Str('TBD', lineno=140, col_offset=12)], Load(), lineno=137, col_offset=12), Tuple([Str('just', lineno=142, col_offset=12), Str('return Py_BuildValue("h", (*self->ob_itself)->just);', lineno=143, col_offset=12), Name('None', Load(), lineno=144, col_offset=12), Str('Justification', lineno=145, col_offset=12)], Load(), lineno=142, col_offset=12), Tuple([Str('teLength', lineno=147, col_offset=12), Str('return Py_BuildValue("h", (*self->ob_itself)->teLength);', lineno=148, col_offset=12), Name('None', Load(), lineno=149, col_offset=12), Str('TBD', lineno=150, col_offset=12)], Load(), lineno=147, col_offset=12), Tuple([Str('txFont', lineno=152, col_offset=12), Str('return Py_BuildValue("h", (*self->ob_itself)->txFont);', lineno=153, col_offset=12), Name('None', Load(), lineno=154, col_offset=12), Str('Current font', lineno=155, col_offset=12)], Load(), lineno=152, col_offset=12), Tuple([Str('txFace', lineno=157, col_offset=12), Str('return Py_BuildValue("h", (*self->ob_itself)->txFace);', lineno=158, col_offset=12), Name('None', Load(), lineno=159, col_offset=12), Str('Current font variant', lineno=160, col_offset=12)], Load(), lineno=157, col_offset=12), Tuple([Str('txMode', lineno=162, col_offset=12), Str('return Py_BuildValue("h", (*self->ob_itself)->txMode);', lineno=163, col_offset=12), Name('None', Load(), lineno=164, col_offset=12), Str('Current text-drawing mode', lineno=165, col_offset=12)], Load(), lineno=162, col_offset=12), Tuple([Str('txSize', lineno=167, col_offset=12), Str('return Py_BuildValue("h", (*self->ob_itself)->txSize);', lineno=168, col_offset=12), Name('None', Load(), lineno=169, col_offset=12), Str('Current font size', lineno=170, col_offset=12)], Load(), lineno=167, col_offset=12), Tuple([Str('nLines', lineno=172, col_offset=12), Str('return Py_BuildValue("h", (*self->ob_itself)->nLines);', lineno=173, col_offset=12), Name('None', Load(), lineno=174, col_offset=12), Str('TBD', lineno=175, col_offset=12)], Load(), lineno=172, col_offset=12)], Load(), lineno=95, col_offset=17), lineno=95, col_offset=4), FunctionDef('outputCheckNewArg', arguments([Name('self', Param(), lineno=178, col_offset=26)], None, None, []), [Expr(Call(Name('Output', Load(), lineno=179, col_offset=8), [Str('if (itself == NULL) {\n                                PyErr_SetString(TE_Error,"Cannot create null TE");\n                                return NULL;\n                        }', lineno=182, col_offset=-1)], [], None, None, lineno=179, col_offset=8), lineno=179, col_offset=8)], [], lineno=178, col_offset=4), FunctionDef('outputFreeIt', arguments([Name('self', Param(), lineno=183, col_offset=21), Name('itselfname', Param(), lineno=183, col_offset=27)], None, None, []), [Expr(Call(Name('Output', Load(), lineno=184, col_offset=8), [Str('TEDispose(%s);', lineno=184, col_offset=15), Name('itselfname', Load(), lineno=184, col_offset=33)], [], None, None, lineno=184, col_offset=8), lineno=184, col_offset=8)], [], lineno=183, col_offset=4)], [], lineno=92, col_offset=0), Assign([Name('module', Store(), lineno=190, col_offset=0)], Call(Name('MacModule', Load(), lineno=190, col_offset=9), [Name('MODNAME', Load(), lineno=190, col_offset=19), Name('MODPREFIX', Load(), lineno=190, col_offset=28), Name('includestuff', Load(), lineno=190, col_offset=39), Name('finalstuff', Load(), lineno=190, col_offset=53), Name('initstuff', Load(), lineno=190, col_offset=65)], [], None, None, lineno=190, col_offset=9), lineno=190, col_offset=0), Assign([Name('object', Store(), lineno=191, col_offset=0)], Call(Name('MyObjectDefinition', Load(), lineno=191, col_offset=9), [Name('OBJECTNAME', Load(), lineno=191, col_offset=28), Name('OBJECTPREFIX', Load(), lineno=191, col_offset=40), Name('OBJECTTYPE', Load(), lineno=191, col_offset=54)], [], None, None, lineno=191, col_offset=9), lineno=191, col_offset=0), Expr(Call(Attribute(Name('module', Load(), lineno=192, col_offset=0), 'addobject', Load(), lineno=192, col_offset=0), [Name('object', Load(), lineno=192, col_offset=17)], [], None, None, lineno=192, col_offset=0), lineno=192, col_offset=0), Assign([Name('Function', Store(), lineno=195, col_offset=0)], Name('OSErrWeakLinkFunctionGenerator', Load(), lineno=195, col_offset=11), lineno=195, col_offset=0), Assign([Name('Method', Store(), lineno=196, col_offset=0)], Name('TEMethodGenerator', Load(), lineno=196, col_offset=9), lineno=196, col_offset=0), Assign([Name('functions', Store(), lineno=199, col_offset=0)], List([], Load(), lineno=199, col_offset=12), lineno=199, col_offset=0), Assign([Name('methods', Store(), lineno=200, col_offset=0)], List([], Load(), lineno=200, col_offset=10), lineno=200, col_offset=0), Expr(Call(Name('execfile', Load(), lineno=201, col_offset=0), [Name('INPUTFILE', Load(), lineno=201, col_offset=9)], [], None, None, lineno=201, col_offset=0), lineno=201, col_offset=0), Assign([Name('f', Store(), lineno=204, col_offset=0)], Call(Name('Function', Load(), lineno=204, col_offset=4), [Name('TEHandle', Load(), lineno=204, col_offset=13), Str('as_TE', lineno=204, col_offset=23), Tuple([Name('Handle', Load(), lineno=204, col_offset=33), Str('h', lineno=204, col_offset=41), Name('InMode', Load(), lineno=204, col_offset=46)], Load(), lineno=204, col_offset=33)], [], None, None, lineno=204, col_offset=4), lineno=204, col_offset=0), Expr(Call(Attribute(Name('functions', Load(), lineno=205, col_offset=0), 'append', Load(), lineno=205, col_offset=0), [Name('f', Load(), lineno=205, col_offset=17)], [], None, None, lineno=205, col_offset=0), lineno=205, col_offset=0), Assign([Name('f', Store(), lineno=206, col_offset=0)], Call(Name('Method', Load(), lineno=206, col_offset=4), [Name('Handle', Load(), lineno=206, col_offset=11), Str('as_Resource', lineno=206, col_offset=19), Tuple([Name('TEHandle', Load(), lineno=206, col_offset=35), Str('teh', lineno=206, col_offset=45), Name('InMode', Load(), lineno=206, col_offset=52)], Load(), lineno=206, col_offset=35)], [], None, None, lineno=206, col_offset=4), lineno=206, col_offset=0), Expr(Call(Attribute(Name('methods', Load(), lineno=207, col_offset=0), 'append', Load(), lineno=207, col_offset=0), [Name('f', Load(), lineno=207, col_offset=15)], [], None, None, lineno=207, col_offset=0), lineno=207, col_offset=0), For(Name('f', Store(), lineno=211, col_offset=4), Name('functions', Load(), lineno=211, col_offset=9), [Expr(Call(Attribute(Name('module', Load(), lineno=211, col_offset=20), 'add', Load(), lineno=211, col_offset=20), [Name('f', Load(), lineno=211, col_offset=31)], [], None, None, lineno=211, col_offset=20), lineno=211, col_offset=20)], [], lineno=211, col_offset=0), For(Name('f', Store(), lineno=212, col_offset=4), Name('methods', Load(), lineno=212, col_offset=9), [Expr(Call(Attribute(Name('object', Load(), lineno=212, col_offset=18), 'add', Load(), lineno=212, col_offset=18), [Name('f', Load(), lineno=212, col_offset=29)], [], None, None, lineno=212, col_offset=18), lineno=212, col_offset=18)], [], lineno=212, col_offset=0), Expr(Call(Name('SetOutputFileName', Load(), lineno=215, col_offset=0), [Name('OUTPUTFILE', Load(), lineno=215, col_offset=18)], [], None, None, lineno=215, col_offset=0), lineno=215, col_offset=0), Expr(Call(Attribute(Name('module', Load(), lineno=216, col_offset=0), 'generate', Load(), lineno=216, col_offset=0), [], [], None, None, lineno=216, col_offset=0), lineno=216, col_offset=0)])
