Module([Import([alias('os', None), alias('select', None), alias('random', None), alias('unittest', None)], lineno=3, col_offset=0), ImportFrom('test.test_support', [alias('TESTFN', None), alias('run_unittest', None)], 0, lineno=4, col_offset=0), TryExcept([Expr(Attribute(Name('select', Load(), lineno=7, col_offset=4), 'poll', Load(), lineno=7, col_offset=4), lineno=7, col_offset=4)], [ExceptHandler(Name('AttributeError', Load(), lineno=8, col_offset=7), None, [Raise(Attribute(Name('unittest', Load(), lineno=9, col_offset=10), 'SkipTest', Load(), lineno=9, col_offset=10), Str('select.poll not defined -- skipping test_poll', lineno=9, col_offset=29), None, lineno=9, col_offset=4)], lineno=8, col_offset=0)], [], lineno=6, col_offset=0), FunctionDef('find_ready_matching', arguments([Name('ready', Param(), lineno=12, col_offset=24), Name('flag', Param(), lineno=12, col_offset=31)], None, None, []), [Assign([Name('match', Store(), lineno=13, col_offset=4)], List([], Load(), lineno=13, col_offset=12), lineno=13, col_offset=4), For(Tuple([Name('fd', Store(), lineno=14, col_offset=8), Name('mode', Store(), lineno=14, col_offset=12)], Store(), lineno=14, col_offset=8), Name('ready', Load(), lineno=14, col_offset=20), [If(BinOp(Name('mode', Load(), lineno=15, col_offset=11), BitAnd(), Name('flag', Load(), lineno=15, col_offset=18), lineno=15, col_offset=11), [Expr(Call(Attribute(Name('match', Load(), lineno=16, col_offset=12), 'append', Load(), lineno=16, col_offset=12), [Name('fd', Load(), lineno=16, col_offset=25)], [], None, None, lineno=16, col_offset=12), lineno=16, col_offset=12)], [], lineno=15, col_offset=8)], [], lineno=14, col_offset=4), Return(Name('match', Load(), lineno=17, col_offset=11), lineno=17, col_offset=4)], [], lineno=12, col_offset=0), ClassDef('PollTests', [Attribute(Name('unittest', Load(), lineno=19, col_offset=16), 'TestCase', Load(), lineno=19, col_offset=16)], [FunctionDef('test_poll1', arguments([Name('self', Param(), lineno=21, col_offset=19)], None, None, []), [Assign([Name('p', Store(), lineno=25, col_offset=8)], Call(Attribute(Name('select', Load(), lineno=25, col_offset=12), 'poll', Load(), lineno=25, col_offset=12), [], [], None, None, lineno=25, col_offset=12), lineno=25, col_offset=8), Assign([Name('NUM_PIPES', Store(), lineno=27, col_offset=8)], Num(12, lineno=27, col_offset=20), lineno=27, col_offset=8), Assign([Name('MSG', Store(), lineno=28, col_offset=8)], Str(' This is a test.', lineno=28, col_offset=14), lineno=28, col_offset=8), Assign([Name('MSG_LEN', Store(), lineno=29, col_offset=8)], Call(Name('len', Load(), lineno=29, col_offset=18), [Name('MSG', Load(), lineno=29, col_offset=22)], [], None, None, lineno=29, col_offset=18), lineno=29, col_offset=8), Assign([Name('readers', Store(), lineno=30, col_offset=8)], List([], Load(), lineno=30, col_offset=18), lineno=30, col_offset=8), Assign([Name('writers', Store(), lineno=31, col_offset=8)], List([], Load(), lineno=31, col_offset=18), lineno=31, col_offset=8), Assign([Name('r2w', Store(), lineno=32, col_offset=8)], Dict([], [], lineno=32, col_offset=14), lineno=32, col_offset=8), Assign([Name('w2r', Store(), lineno=33, col_offset=8)], Dict([], [], lineno=33, col_offset=14), lineno=33, col_offset=8), For(Name('i', Store(), lineno=35, col_offset=12), Call(Name('range', Load(), lineno=35, col_offset=17), [Name('NUM_PIPES', Load(), lineno=35, col_offset=23)], [], None, None, lineno=35, col_offset=17), [Assign([Tuple([Name('rd', Store(), lineno=36, col_offset=12), Name('wr', Store(), lineno=36, col_offset=16)], Store(), lineno=36, col_offset=12)], Call(Attribute(Name('os', Load(), lineno=36, col_offset=21), 'pipe', Load(), lineno=36, col_offset=21), [], [], None, None, lineno=36, col_offset=21), lineno=36, col_offset=12), Expr(Call(Attribute(Name('p', Load(), lineno=37, col_offset=12), 'register', Load(), lineno=37, col_offset=12), [Name('rd', Load(), lineno=37, col_offset=23)], [], None, None, lineno=37, col_offset=12), lineno=37, col_offset=12), Expr(Call(Attribute(Name('p', Load(), lineno=38, col_offset=12), 'modify', Load(), lineno=38, col_offset=12), [Name('rd', Load(), lineno=38, col_offset=21), Attribute(Name('select', Load(), lineno=38, col_offset=25), 'POLLIN', Load(), lineno=38, col_offset=25)], [], None, None, lineno=38, col_offset=12), lineno=38, col_offset=12), Expr(Call(Attribute(Name('p', Load(), lineno=39, col_offset=12), 'register', Load(), lineno=39, col_offset=12), [Name('wr', Load(), lineno=39, col_offset=23), Attribute(Name('select', Load(), lineno=39, col_offset=27), 'POLLOUT', Load(), lineno=39, col_offset=27)], [], None, None, lineno=39, col_offset=12), lineno=39, col_offset=12), Expr(Call(Attribute(Name('readers', Load(), lineno=40, col_offset=12), 'append', Load(), lineno=40, col_offset=12), [Name('rd', Load(), lineno=40, col_offset=27)], [], None, None, lineno=40, col_offset=12), lineno=40, col_offset=12), Expr(Call(Attribute(Name('writers', Load(), lineno=41, col_offset=12), 'append', Load(), lineno=41, col_offset=12), [Name('wr', Load(), lineno=41, col_offset=27)], [], None, None, lineno=41, col_offset=12), lineno=41, col_offset=12), Assign([Subscript(Name('r2w', Load(), lineno=42, col_offset=12), Index(Name('rd', Load(), lineno=42, col_offset=16)), Store(), lineno=42, col_offset=12)], Name('wr', Load(), lineno=42, col_offset=22), lineno=42, col_offset=12), Assign([Subscript(Name('w2r', Load(), lineno=43, col_offset=12), Index(Name('wr', Load(), lineno=43, col_offset=16)), Store(), lineno=43, col_offset=12)], Name('rd', Load(), lineno=43, col_offset=22), lineno=43, col_offset=12)], [], lineno=35, col_offset=8), Assign([Name('bufs', Store(), lineno=45, col_offset=8)], List([], Load(), lineno=45, col_offset=15), lineno=45, col_offset=8), While(Name('writers', Load(), lineno=47, col_offset=14), [Assign([Name('ready', Store(), lineno=48, col_offset=12)], Call(Attribute(Name('p', Load(), lineno=48, col_offset=20), 'poll', Load(), lineno=48, col_offset=20), [], [], None, None, lineno=48, col_offset=20), lineno=48, col_offset=12), Assign([Name('ready_writers', Store(), lineno=49, col_offset=12)], Call(Name('find_ready_matching', Load(), lineno=49, col_offset=28), [Name('ready', Load(), lineno=49, col_offset=48), Attribute(Name('select', Load(), lineno=49, col_offset=55), 'POLLOUT', Load(), lineno=49, col_offset=55)], [], None, None, lineno=49, col_offset=28), lineno=49, col_offset=12), If(UnaryOp(Not(), Name('ready_writers', Load(), lineno=50, col_offset=19), lineno=50, col_offset=15), [Raise(Name('RuntimeError', Load(), lineno=51, col_offset=22), Str('no pipes ready for writing', lineno=51, col_offset=36), None, lineno=51, col_offset=16)], [], lineno=50, col_offset=12), Assign([Name('wr', Store(), lineno=52, col_offset=12)], Call(Attribute(Name('random', Load(), lineno=52, col_offset=17), 'choice', Load(), lineno=52, col_offset=17), [Name('ready_writers', Load(), lineno=52, col_offset=31)], [], None, None, lineno=52, col_offset=17), lineno=52, col_offset=12), Expr(Call(Attribute(Name('os', Load(), lineno=53, col_offset=12), 'write', Load(), lineno=53, col_offset=12), [Name('wr', Load(), lineno=53, col_offset=21), Name('MSG', Load(), lineno=53, col_offset=25)], [], None, None, lineno=53, col_offset=12), lineno=53, col_offset=12), Assign([Name('ready', Store(), lineno=55, col_offset=12)], Call(Attribute(Name('p', Load(), lineno=55, col_offset=20), 'poll', Load(), lineno=55, col_offset=20), [], [], None, None, lineno=55, col_offset=20), lineno=55, col_offset=12), Assign([Name('ready_readers', Store(), lineno=56, col_offset=12)], Call(Name('find_ready_matching', Load(), lineno=56, col_offset=28), [Name('ready', Load(), lineno=56, col_offset=48), Attribute(Name('select', Load(), lineno=56, col_offset=55), 'POLLIN', Load(), lineno=56, col_offset=55)], [], None, None, lineno=56, col_offset=28), lineno=56, col_offset=12), If(UnaryOp(Not(), Name('ready_readers', Load(), lineno=57, col_offset=19), lineno=57, col_offset=15), [Raise(Name('RuntimeError', Load(), lineno=58, col_offset=22), Str('no pipes ready for reading', lineno=58, col_offset=36), None, lineno=58, col_offset=16)], [], lineno=57, col_offset=12), Assign([Name('rd', Store(), lineno=59, col_offset=12)], Call(Attribute(Name('random', Load(), lineno=59, col_offset=17), 'choice', Load(), lineno=59, col_offset=17), [Name('ready_readers', Load(), lineno=59, col_offset=31)], [], None, None, lineno=59, col_offset=17), lineno=59, col_offset=12), Assign([Name('buf', Store(), lineno=60, col_offset=12)], Call(Attribute(Name('os', Load(), lineno=60, col_offset=18), 'read', Load(), lineno=60, col_offset=18), [Name('rd', Load(), lineno=60, col_offset=26), Name('MSG_LEN', Load(), lineno=60, col_offset=30)], [], None, None, lineno=60, col_offset=18), lineno=60, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=61, col_offset=12), 'assertEqual', Load(), lineno=61, col_offset=12), [Call(Name('len', Load(), lineno=61, col_offset=29), [Name('buf', Load(), lineno=61, col_offset=33)], [], None, None, lineno=61, col_offset=29), Name('MSG_LEN', Load(), lineno=61, col_offset=39)], [], None, None, lineno=61, col_offset=12), lineno=61, col_offset=12), Expr(Call(Attribute(Name('bufs', Load(), lineno=62, col_offset=12), 'append', Load(), lineno=62, col_offset=12), [Name('buf', Load(), lineno=62, col_offset=24)], [], None, None, lineno=62, col_offset=12), lineno=62, col_offset=12), Expr(Call(Attribute(Name('os', Load(), lineno=63, col_offset=12), 'close', Load(), lineno=63, col_offset=12), [Subscript(Name('r2w', Load(), lineno=63, col_offset=21), Index(Name('rd', Load(), lineno=63, col_offset=25)), Load(), lineno=63, col_offset=21)], [], None, None, lineno=63, col_offset=12), lineno=63, col_offset=12), Expr(Call(Attribute(Name('os', Load(), lineno=63, col_offset=32), 'close', Load(), lineno=63, col_offset=32), [Name('rd', Load(), lineno=63, col_offset=42)], [], None, None, lineno=63, col_offset=32), lineno=63, col_offset=32), Expr(Call(Attribute(Name('p', Load(), lineno=64, col_offset=12), 'unregister', Load(), lineno=64, col_offset=12), [Subscript(Name('r2w', Load(), lineno=64, col_offset=26), Index(Name('rd', Load(), lineno=64, col_offset=30)), Load(), lineno=64, col_offset=26)], [], None, None, lineno=64, col_offset=12), lineno=64, col_offset=12), Expr(Call(Attribute(Name('p', Load(), lineno=65, col_offset=12), 'unregister', Load(), lineno=65, col_offset=12), [Name('rd', Load(), lineno=65, col_offset=26)], [], None, None, lineno=65, col_offset=12), lineno=65, col_offset=12), Expr(Call(Attribute(Name('writers', Load(), lineno=66, col_offset=12), 'remove', Load(), lineno=66, col_offset=12), [Subscript(Name('r2w', Load(), lineno=66, col_offset=27), Index(Name('rd', Load(), lineno=66, col_offset=31)), Load(), lineno=66, col_offset=27)], [], None, None, lineno=66, col_offset=12), lineno=66, col_offset=12)], [], lineno=47, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=68, col_offset=8), 'assertEqual', Load(), lineno=68, col_offset=8), [Name('bufs', Load(), lineno=68, col_offset=25), BinOp(List([Name('MSG', Load(), lineno=68, col_offset=32)], Load(), lineno=68, col_offset=31), Mult(), Name('NUM_PIPES', Load(), lineno=68, col_offset=39), lineno=68, col_offset=31)], [], None, None, lineno=68, col_offset=8), lineno=68, col_offset=8)], [], lineno=21, col_offset=4), FunctionDef('poll_unit_tests', arguments([Name('self', Param(), lineno=70, col_offset=24)], None, None, []), [Assign([Name('FD', Store(), lineno=72, col_offset=8)], Num(42, lineno=72, col_offset=13), lineno=72, col_offset=8), TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=74, col_offset=12), 'close', Load(), lineno=74, col_offset=12), [Name('FD', Load(), lineno=74, col_offset=21)], [], None, None, lineno=74, col_offset=12), lineno=74, col_offset=12)], [ExceptHandler(Name('OSError', Load(), lineno=75, col_offset=15), None, [Pass( lineno=76, col_offset=12)], lineno=75, col_offset=8)], [], lineno=73, col_offset=8), Assign([Name('p', Store(), lineno=77, col_offset=8)], Call(Attribute(Name('select', Load(), lineno=77, col_offset=12), 'poll', Load(), lineno=77, col_offset=12), [], [], None, None, lineno=77, col_offset=12), lineno=77, col_offset=8), Expr(Call(Attribute(Name('p', Load(), lineno=78, col_offset=8), 'register', Load(), lineno=78, col_offset=8), [Name('FD', Load(), lineno=78, col_offset=19)], [], None, None, lineno=78, col_offset=8), lineno=78, col_offset=8), Assign([Name('r', Store(), lineno=79, col_offset=8)], Call(Attribute(Name('p', Load(), lineno=79, col_offset=12), 'poll', Load(), lineno=79, col_offset=12), [], [], None, None, lineno=79, col_offset=12), lineno=79, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=80, col_offset=8), 'assertEqual', Load(), lineno=80, col_offset=8), [Subscript(Name('r', Load(), lineno=80, col_offset=25), Index(Num(0, lineno=80, col_offset=27)), Load(), lineno=80, col_offset=25), Tuple([Name('FD', Load(), lineno=80, col_offset=32), Attribute(Name('select', Load(), lineno=80, col_offset=36), 'POLLNVAL', Load(), lineno=80, col_offset=36)], Load(), lineno=80, col_offset=32)], [], None, None, lineno=80, col_offset=8), lineno=80, col_offset=8), Assign([Name('f', Store(), lineno=82, col_offset=8)], Call(Name('open', Load(), lineno=82, col_offset=12), [Name('TESTFN', Load(), lineno=82, col_offset=17), Str('w', lineno=82, col_offset=25)], [], None, None, lineno=82, col_offset=12), lineno=82, col_offset=8), Assign([Name('fd', Store(), lineno=83, col_offset=8)], Call(Attribute(Name('f', Load(), lineno=83, col_offset=13), 'fileno', Load(), lineno=83, col_offset=13), [], [], None, None, lineno=83, col_offset=13), lineno=83, col_offset=8), Assign([Name('p', Store(), lineno=84, col_offset=8)], Call(Attribute(Name('select', Load(), lineno=84, col_offset=12), 'poll', Load(), lineno=84, col_offset=12), [], [], None, None, lineno=84, col_offset=12), lineno=84, col_offset=8), Expr(Call(Attribute(Name('p', Load(), lineno=85, col_offset=8), 'register', Load(), lineno=85, col_offset=8), [Name('f', Load(), lineno=85, col_offset=19)], [], None, None, lineno=85, col_offset=8), lineno=85, col_offset=8), Assign([Name('r', Store(), lineno=86, col_offset=8)], Call(Attribute(Name('p', Load(), lineno=86, col_offset=12), 'poll', Load(), lineno=86, col_offset=12), [], [], None, None, lineno=86, col_offset=12), lineno=86, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=87, col_offset=8), 'assertEqual', Load(), lineno=87, col_offset=8), [Subscript(Subscript(Name('r', Load(), lineno=87, col_offset=25), Index(Num(0, lineno=87, col_offset=27)), Load(), lineno=87, col_offset=25), Index(Num(0, lineno=87, col_offset=30)), Load(), lineno=87, col_offset=25), Name('fd', Load(), lineno=87, col_offset=34)], [], None, None, lineno=87, col_offset=8), lineno=87, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=88, col_offset=8), 'close', Load(), lineno=88, col_offset=8), [], [], None, None, lineno=88, col_offset=8), lineno=88, col_offset=8), Assign([Name('r', Store(), lineno=89, col_offset=8)], Call(Attribute(Name('p', Load(), lineno=89, col_offset=12), 'poll', Load(), lineno=89, col_offset=12), [], [], None, None, lineno=89, col_offset=12), lineno=89, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=90, col_offset=8), 'assertEqual', Load(), lineno=90, col_offset=8), [Subscript(Name('r', Load(), lineno=90, col_offset=25), Index(Num(0, lineno=90, col_offset=27)), Load(), lineno=90, col_offset=25), Tuple([Name('fd', Load(), lineno=90, col_offset=32), Attribute(Name('select', Load(), lineno=90, col_offset=36), 'POLLNVAL', Load(), lineno=90, col_offset=36)], Load(), lineno=90, col_offset=32)], [], None, None, lineno=90, col_offset=8), lineno=90, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=91, col_offset=8), 'unlink', Load(), lineno=91, col_offset=8), [Name('TESTFN', Load(), lineno=91, col_offset=18)], [], None, None, lineno=91, col_offset=8), lineno=91, col_offset=8), Assign([Name('p', Store(), lineno=94, col_offset=8)], Call(Attribute(Name('select', Load(), lineno=94, col_offset=12), 'poll', Load(), lineno=94, col_offset=12), [], [], None, None, lineno=94, col_offset=12), lineno=94, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=95, col_offset=8), 'assertRaises', Load(), lineno=95, col_offset=8), [Name('TypeError', Load(), lineno=95, col_offset=26), Attribute(Name('p', Load(), lineno=95, col_offset=37), 'register', Load(), lineno=95, col_offset=37), Name('p', Load(), lineno=95, col_offset=49)], [], None, None, lineno=95, col_offset=8), lineno=95, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=96, col_offset=8), 'assertRaises', Load(), lineno=96, col_offset=8), [Name('TypeError', Load(), lineno=96, col_offset=26), Attribute(Name('p', Load(), lineno=96, col_offset=37), 'unregister', Load(), lineno=96, col_offset=37), Name('p', Load(), lineno=96, col_offset=51)], [], None, None, lineno=96, col_offset=8), lineno=96, col_offset=8), Assign([Name('p', Store(), lineno=99, col_offset=8)], Call(Attribute(Name('select', Load(), lineno=99, col_offset=12), 'poll', Load(), lineno=99, col_offset=12), [], [], None, None, lineno=99, col_offset=12), lineno=99, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=100, col_offset=8), 'assertRaises', Load(), lineno=100, col_offset=8), [Name('KeyError', Load(), lineno=100, col_offset=26), Attribute(Name('p', Load(), lineno=100, col_offset=36), 'unregister', Load(), lineno=100, col_offset=36), Num(3, lineno=100, col_offset=50)], [], None, None, lineno=100, col_offset=8), lineno=100, col_offset=8), Assign([Name('pollster', Store(), lineno=103, col_offset=8)], Call(Attribute(Name('select', Load(), lineno=103, col_offset=19), 'poll', Load(), lineno=103, col_offset=19), [], [], None, None, lineno=103, col_offset=19), lineno=103, col_offset=8), ClassDef('Nope', [], [Pass( lineno=105, col_offset=12)], [], lineno=104, col_offset=8), ClassDef('Almost', [], [FunctionDef('fileno', arguments([Name('self', Param(), lineno=108, col_offset=23)], None, None, []), [Return(Str('fileno', lineno=109, col_offset=23), lineno=109, col_offset=16)], [], lineno=108, col_offset=12)], [], lineno=107, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=111, col_offset=8), 'assertRaises', Load(), lineno=111, col_offset=8), [Name('TypeError', Load(), lineno=111, col_offset=26), Attribute(Name('pollster', Load(), lineno=111, col_offset=37), 'register', Load(), lineno=111, col_offset=37), Call(Name('Nope', Load(), lineno=111, col_offset=56), [], [], None, None, lineno=111, col_offset=56), Num(0, lineno=111, col_offset=64)], [], None, None, lineno=111, col_offset=8), lineno=111, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=112, col_offset=8), 'assertRaises', Load(), lineno=112, col_offset=8), [Name('TypeError', Load(), lineno=112, col_offset=26), Attribute(Name('pollster', Load(), lineno=112, col_offset=37), 'register', Load(), lineno=112, col_offset=37), Call(Name('Almost', Load(), lineno=112, col_offset=56), [], [], None, None, lineno=112, col_offset=56), Num(0, lineno=112, col_offset=66)], [], None, None, lineno=112, col_offset=8), lineno=112, col_offset=8)], [], lineno=70, col_offset=4), FunctionDef('test_poll2', arguments([Name('self', Param(), lineno=117, col_offset=19)], None, None, []), [Assign([Name('cmd', Store(), lineno=118, col_offset=8)], Str('for i in 0 1 2 3 4 5 6 7 8 9; do echo testing...; sleep 1; done', lineno=118, col_offset=14), lineno=118, col_offset=8), Assign([Name('p', Store(), lineno=119, col_offset=8)], Call(Attribute(Name('os', Load(), lineno=119, col_offset=12), 'popen', Load(), lineno=119, col_offset=12), [Name('cmd', Load(), lineno=119, col_offset=21), Str('r', lineno=119, col_offset=26)], [], None, None, lineno=119, col_offset=12), lineno=119, col_offset=8), Assign([Name('pollster', Store(), lineno=120, col_offset=8)], Call(Attribute(Name('select', Load(), lineno=120, col_offset=19), 'poll', Load(), lineno=120, col_offset=19), [], [], None, None, lineno=120, col_offset=19), lineno=120, col_offset=8), Expr(Call(Attribute(Name('pollster', Load(), lineno=121, col_offset=8), 'register', Load(), lineno=121, col_offset=8), [Name('p', Load(), lineno=121, col_offset=27), Attribute(Name('select', Load(), lineno=121, col_offset=30), 'POLLIN', Load(), lineno=121, col_offset=30)], [], None, None, lineno=121, col_offset=8), lineno=121, col_offset=8), For(Name('tout', Store(), lineno=122, col_offset=12), BinOp(Tuple([Num(0, lineno=122, col_offset=21), Num(1000, lineno=122, col_offset=24), Num(2000, lineno=122, col_offset=30), Num(4000, lineno=122, col_offset=36), Num(8000, lineno=122, col_offset=42), Num(16000, lineno=122, col_offset=48)], Load(), lineno=122, col_offset=21), Add(), BinOp(Tuple([Num(-1, lineno=122, col_offset=59)], Load(), lineno=122, col_offset=58), Mult(), Num(10, lineno=122, col_offset=63), lineno=122, col_offset=57), lineno=122, col_offset=20), [Assign([Name('fdlist', Store(), lineno=123, col_offset=12)], Call(Attribute(Name('pollster', Load(), lineno=123, col_offset=21), 'poll', Load(), lineno=123, col_offset=21), [Name('tout', Load(), lineno=123, col_offset=35)], [], None, None, lineno=123, col_offset=21), lineno=123, col_offset=12), If(Compare(Name('fdlist', Load(), lineno=124, col_offset=16), [Eq()], [List([], Load(), lineno=124, col_offset=26)], lineno=124, col_offset=16), [Continue( lineno=125, col_offset=16)], [], lineno=124, col_offset=12), Assign([Tuple([Name('fd', Store(), lineno=126, col_offset=12), Name('flags', Store(), lineno=126, col_offset=16)], Store(), lineno=126, col_offset=12)], Subscript(Name('fdlist', Load(), lineno=126, col_offset=24), Index(Num(0, lineno=126, col_offset=31)), Load(), lineno=126, col_offset=24), lineno=126, col_offset=12), If(BinOp(Name('flags', Load(), lineno=127, col_offset=15), BitAnd(), Attribute(Name('select', Load(), lineno=127, col_offset=23), 'POLLHUP', Load(), lineno=127, col_offset=23), lineno=127, col_offset=15), [Assign([Name('line', Store(), lineno=128, col_offset=16)], Call(Attribute(Name('p', Load(), lineno=128, col_offset=23), 'readline', Load(), lineno=128, col_offset=23), [], [], None, None, lineno=128, col_offset=23), lineno=128, col_offset=16), If(Compare(Name('line', Load(), lineno=129, col_offset=19), [NotEq()], [Str('', lineno=129, col_offset=27)], lineno=129, col_offset=19), [Expr(Call(Attribute(Name('self', Load(), lineno=130, col_offset=20), 'fail', Load(), lineno=130, col_offset=20), [Str('error: pipe seems to be closed, but still returns data', lineno=130, col_offset=30)], [], None, None, lineno=130, col_offset=20), lineno=130, col_offset=20)], [], lineno=129, col_offset=16), Continue( lineno=131, col_offset=16)], [If(BinOp(Name('flags', Load(), lineno=133, col_offset=17), BitAnd(), Attribute(Name('select', Load(), lineno=133, col_offset=25), 'POLLIN', Load(), lineno=133, col_offset=25), lineno=133, col_offset=17), [Assign([Name('line', Store(), lineno=134, col_offset=16)], Call(Attribute(Name('p', Load(), lineno=134, col_offset=23), 'readline', Load(), lineno=134, col_offset=23), [], [], None, None, lineno=134, col_offset=23), lineno=134, col_offset=16), If(UnaryOp(Not(), Name('line', Load(), lineno=135, col_offset=23), lineno=135, col_offset=19), [Break( lineno=136, col_offset=20)], [], lineno=135, col_offset=16), Continue( lineno=137, col_offset=16)], [Expr(Call(Attribute(Name('self', Load(), lineno=139, col_offset=16), 'fail', Load(), lineno=139, col_offset=16), [BinOp(Str('Unexpected return value from select.poll: %s', lineno=139, col_offset=26), Mod(), Name('fdlist', Load(), lineno=139, col_offset=75), lineno=139, col_offset=26)], [], None, None, lineno=139, col_offset=16), lineno=139, col_offset=16)], lineno=133, col_offset=17)], lineno=127, col_offset=12)], [], lineno=122, col_offset=8), Expr(Call(Attribute(Name('p', Load(), lineno=140, col_offset=8), 'close', Load(), lineno=140, col_offset=8), [], [], None, None, lineno=140, col_offset=8), lineno=140, col_offset=8)], [], lineno=117, col_offset=4), FunctionDef('test_poll3', arguments([Name('self', Param(), lineno=142, col_offset=19)], None, None, []), [Assign([Name('pollster', Store(), lineno=144, col_offset=8)], Call(Attribute(Name('select', Load(), lineno=144, col_offset=19), 'poll', Load(), lineno=144, col_offset=19), [], [], None, None, lineno=144, col_offset=19), lineno=144, col_offset=8), Expr(Call(Attribute(Name('pollster', Load(), lineno=145, col_offset=8), 'register', Load(), lineno=145, col_offset=8), [Num(1, lineno=145, col_offset=26)], [], None, None, lineno=145, col_offset=8), lineno=145, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=147, col_offset=8), 'assertRaises', Load(), lineno=147, col_offset=8), [Name('OverflowError', Load(), lineno=147, col_offset=26), Attribute(Name('pollster', Load(), lineno=147, col_offset=41), 'poll', Load(), lineno=147, col_offset=41), BinOp(Num(1L, lineno=147, col_offset=56), LShift(), Num(64, lineno=147, col_offset=62), lineno=147, col_offset=56)], [], None, None, lineno=147, col_offset=8), lineno=147, col_offset=8), Assign([Name('x', Store(), lineno=149, col_offset=8)], BinOp(Num(2, lineno=149, col_offset=12), Add(), Num(3, lineno=149, col_offset=16), lineno=149, col_offset=12), lineno=149, col_offset=8), If(Compare(Name('x', Load(), lineno=150, col_offset=11), [NotEq()], [Num(5, lineno=150, col_offset=16)], lineno=150, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=151, col_offset=12), 'fail', Load(), lineno=151, col_offset=12), [Str('Overflow must have occurred', lineno=151, col_offset=22)], [], None, None, lineno=151, col_offset=12), lineno=151, col_offset=12)], [], lineno=150, col_offset=8)], [], lineno=142, col_offset=4)], [], lineno=19, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Name('run_unittest', Load(), lineno=154, col_offset=4), [Name('PollTests', Load(), lineno=154, col_offset=17)], [], None, None, lineno=154, col_offset=4), lineno=154, col_offset=4)], [], lineno=153, col_offset=0), If(Compare(Name('__name__', Load(), lineno=156, col_offset=3), [Eq()], [Str('__main__', lineno=156, col_offset=15)], lineno=156, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=157, col_offset=4), [], [], None, None, lineno=157, col_offset=4), lineno=157, col_offset=4)], [], lineno=156, col_offset=0)])
