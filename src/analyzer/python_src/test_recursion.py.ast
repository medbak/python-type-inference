Module([ImportFrom('unittest', [alias('TestCase', None)], 0, lineno=1, col_offset=0), Import([alias('json', None)], lineno=3, col_offset=0), ClassDef('JSONTestObject', [], [Pass( lineno=6, col_offset=4)], [], lineno=5, col_offset=0), ClassDef('RecursiveJSONEncoder', [Attribute(Name('json', Load(), lineno=9, col_offset=27), 'JSONEncoder', Load(), lineno=9, col_offset=27)], [Assign([Name('recurse', Store(), lineno=10, col_offset=4)], Name('False', Load(), lineno=10, col_offset=14), lineno=10, col_offset=4), FunctionDef('default', arguments([Name('self', Param(), lineno=11, col_offset=16), Name('o', Param(), lineno=11, col_offset=22)], None, None, []), [If(Compare(Name('o', Load(), lineno=12, col_offset=11), [Is()], [Name('JSONTestObject', Load(), lineno=12, col_offset=16)], lineno=12, col_offset=11), [If(Attribute(Name('self', Load(), lineno=13, col_offset=15), 'recurse', Load(), lineno=13, col_offset=15), [Return(List([Name('JSONTestObject', Load(), lineno=14, col_offset=24)], Load(), lineno=14, col_offset=23), lineno=14, col_offset=16)], [Return(Str('JSONTestObject', lineno=16, col_offset=23), lineno=16, col_offset=16)], lineno=13, col_offset=12)], [], lineno=12, col_offset=8), Return(Call(Attribute(Attribute(Name('json', Load(), lineno=17, col_offset=15), 'JSONEncoder', Load(), lineno=17, col_offset=15), 'default', Load(), lineno=17, col_offset=15), [Name('o', Load(), lineno=17, col_offset=40)], [], None, None, lineno=17, col_offset=15), lineno=17, col_offset=8)], [], lineno=11, col_offset=4)], [], lineno=9, col_offset=0), ClassDef('TestRecursion', [Name('TestCase', Load(), lineno=20, col_offset=20)], [FunctionDef('test_listrecursion', arguments([Name('self', Param(), lineno=21, col_offset=27)], None, None, []), [Assign([Name('x', Store(), lineno=22, col_offset=8)], List([], Load(), lineno=22, col_offset=12), lineno=22, col_offset=8), Expr(Call(Attribute(Name('x', Load(), lineno=23, col_offset=8), 'append', Load(), lineno=23, col_offset=8), [Name('x', Load(), lineno=23, col_offset=17)], [], None, None, lineno=23, col_offset=8), lineno=23, col_offset=8), TryExcept([Expr(Call(Attribute(Name('json', Load(), lineno=25, col_offset=12), 'dumps', Load(), lineno=25, col_offset=12), [Name('x', Load(), lineno=25, col_offset=23)], [], None, None, lineno=25, col_offset=12), lineno=25, col_offset=12)], [ExceptHandler(Name('ValueError', Load(), lineno=26, col_offset=15), None, [Pass( lineno=27, col_offset=12)], lineno=26, col_offset=8)], [Expr(Call(Attribute(Name('self', Load(), lineno=29, col_offset=12), 'fail', Load(), lineno=29, col_offset=12), [Str("didn't raise ValueError on list recursion", lineno=29, col_offset=22)], [], None, None, lineno=29, col_offset=12), lineno=29, col_offset=12)], lineno=24, col_offset=8), Assign([Name('x', Store(), lineno=30, col_offset=8)], List([], Load(), lineno=30, col_offset=12), lineno=30, col_offset=8), Assign([Name('y', Store(), lineno=31, col_offset=8)], List([Name('x', Load(), lineno=31, col_offset=13)], Load(), lineno=31, col_offset=12), lineno=31, col_offset=8), Expr(Call(Attribute(Name('x', Load(), lineno=32, col_offset=8), 'append', Load(), lineno=32, col_offset=8), [Name('y', Load(), lineno=32, col_offset=17)], [], None, None, lineno=32, col_offset=8), lineno=32, col_offset=8), TryExcept([Expr(Call(Attribute(Name('json', Load(), lineno=34, col_offset=12), 'dumps', Load(), lineno=34, col_offset=12), [Name('x', Load(), lineno=34, col_offset=23)], [], None, None, lineno=34, col_offset=12), lineno=34, col_offset=12)], [ExceptHandler(Name('ValueError', Load(), lineno=35, col_offset=15), None, [Pass( lineno=36, col_offset=12)], lineno=35, col_offset=8)], [Expr(Call(Attribute(Name('self', Load(), lineno=38, col_offset=12), 'fail', Load(), lineno=38, col_offset=12), [Str("didn't raise ValueError on alternating list recursion", lineno=38, col_offset=22)], [], None, None, lineno=38, col_offset=12), lineno=38, col_offset=12)], lineno=33, col_offset=8), Assign([Name('y', Store(), lineno=39, col_offset=8)], List([], Load(), lineno=39, col_offset=12), lineno=39, col_offset=8), Assign([Name('x', Store(), lineno=40, col_offset=8)], List([Name('y', Load(), lineno=40, col_offset=13), Name('y', Load(), lineno=40, col_offset=16)], Load(), lineno=40, col_offset=12), lineno=40, col_offset=8), Expr(Call(Attribute(Name('json', Load(), lineno=42, col_offset=8), 'dumps', Load(), lineno=42, col_offset=8), [Name('x', Load(), lineno=42, col_offset=19)], [], None, None, lineno=42, col_offset=8), lineno=42, col_offset=8)], [], lineno=21, col_offset=4), FunctionDef('test_dictrecursion', arguments([Name('self', Param(), lineno=44, col_offset=27)], None, None, []), [Assign([Name('x', Store(), lineno=45, col_offset=8)], Dict([], [], lineno=45, col_offset=12), lineno=45, col_offset=8), Assign([Subscript(Name('x', Load(), lineno=46, col_offset=8), Index(Str('test', lineno=46, col_offset=10)), Store(), lineno=46, col_offset=8)], Name('x', Load(), lineno=46, col_offset=20), lineno=46, col_offset=8), TryExcept([Expr(Call(Attribute(Name('json', Load(), lineno=48, col_offset=12), 'dumps', Load(), lineno=48, col_offset=12), [Name('x', Load(), lineno=48, col_offset=23)], [], None, None, lineno=48, col_offset=12), lineno=48, col_offset=12)], [ExceptHandler(Name('ValueError', Load(), lineno=49, col_offset=15), None, [Pass( lineno=50, col_offset=12)], lineno=49, col_offset=8)], [Expr(Call(Attribute(Name('self', Load(), lineno=52, col_offset=12), 'fail', Load(), lineno=52, col_offset=12), [Str("didn't raise ValueError on dict recursion", lineno=52, col_offset=22)], [], None, None, lineno=52, col_offset=12), lineno=52, col_offset=12)], lineno=47, col_offset=8), Assign([Name('x', Store(), lineno=53, col_offset=8)], Dict([], [], lineno=53, col_offset=12), lineno=53, col_offset=8), Assign([Name('y', Store(), lineno=54, col_offset=8)], Dict([Str('a', lineno=54, col_offset=13), Str('b', lineno=54, col_offset=21)], [Name('x', Load(), lineno=54, col_offset=18), Name('x', Load(), lineno=54, col_offset=26)], lineno=54, col_offset=12), lineno=54, col_offset=8), Expr(Call(Attribute(Name('json', Load(), lineno=56, col_offset=8), 'dumps', Load(), lineno=56, col_offset=8), [Name('x', Load(), lineno=56, col_offset=19)], [], None, None, lineno=56, col_offset=8), lineno=56, col_offset=8)], [], lineno=44, col_offset=4), FunctionDef('test_defaultrecursion', arguments([Name('self', Param(), lineno=58, col_offset=30)], None, None, []), [Assign([Name('enc', Store(), lineno=59, col_offset=8)], Call(Name('RecursiveJSONEncoder', Load(), lineno=59, col_offset=14), [], [], None, None, lineno=59, col_offset=14), lineno=59, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=60, col_offset=8), 'assertEqual', Load(), lineno=60, col_offset=8), [Call(Attribute(Name('enc', Load(), lineno=60, col_offset=25), 'encode', Load(), lineno=60, col_offset=25), [Name('JSONTestObject', Load(), lineno=60, col_offset=36)], [], None, None, lineno=60, col_offset=25), Str('"JSONTestObject"', lineno=60, col_offset=53)], [], None, None, lineno=60, col_offset=8), lineno=60, col_offset=8), Assign([Attribute(Name('enc', Load(), lineno=61, col_offset=8), 'recurse', Store(), lineno=61, col_offset=8)], Name('True', Load(), lineno=61, col_offset=22), lineno=61, col_offset=8), TryExcept([Expr(Call(Attribute(Name('enc', Load(), lineno=63, col_offset=12), 'encode', Load(), lineno=63, col_offset=12), [Name('JSONTestObject', Load(), lineno=63, col_offset=23)], [], None, None, lineno=63, col_offset=12), lineno=63, col_offset=12)], [ExceptHandler(Name('ValueError', Load(), lineno=64, col_offset=15), None, [Pass( lineno=65, col_offset=12)], lineno=64, col_offset=8)], [Expr(Call(Attribute(Name('self', Load(), lineno=67, col_offset=12), 'fail', Load(), lineno=67, col_offset=12), [Str("didn't raise ValueError on default recursion", lineno=67, col_offset=22)], [], None, None, lineno=67, col_offset=12), lineno=67, col_offset=12)], lineno=62, col_offset=8)], [], lineno=58, col_offset=4)], [], lineno=20, col_offset=0)])
