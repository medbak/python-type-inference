Module([Assign([Name('MYPORT', Store(), lineno=12, col_offset=0)], Num(8123, lineno=12, col_offset=9), lineno=12, col_offset=0), Assign([Name('MYGROUP_4', Store(), lineno=13, col_offset=0)], Str('225.0.0.250', lineno=13, col_offset=12), lineno=13, col_offset=0), Assign([Name('MYGROUP_6', Store(), lineno=14, col_offset=0)], Str('ff15:7079:7468:6f6e:6465:6d6f:6d63:6173', lineno=14, col_offset=12), lineno=14, col_offset=0), Assign([Name('MYTTL', Store(), lineno=15, col_offset=0)], Num(1, lineno=15, col_offset=8), lineno=15, col_offset=0), Import([alias('time', None)], lineno=17, col_offset=0), Import([alias('struct', None)], lineno=18, col_offset=0), Import([alias('socket', None)], lineno=19, col_offset=0), Import([alias('sys', None)], lineno=20, col_offset=0), FunctionDef('main', arguments([], None, None, []), [Assign([Name('group', Store(), lineno=23, col_offset=4)], IfExp(Compare(Str('-6', lineno=23, col_offset=25), [In()], [Subscript(Attribute(Name('sys', Load(), lineno=23, col_offset=33), 'argv', Load(), lineno=23, col_offset=33), Slice(Num(1, lineno=23, col_offset=42), None, None), Load(), lineno=23, col_offset=33)], lineno=23, col_offset=25), Name('MYGROUP_6', Load(), lineno=23, col_offset=12), Name('MYGROUP_4', Load(), lineno=23, col_offset=51), lineno=23, col_offset=12), lineno=23, col_offset=4), If(Compare(Str('-s', lineno=25, col_offset=7), [In()], [Subscript(Attribute(Name('sys', Load(), lineno=25, col_offset=15), 'argv', Load(), lineno=25, col_offset=15), Slice(Num(1, lineno=25, col_offset=24), None, None), Load(), lineno=25, col_offset=15)], lineno=25, col_offset=7), [Expr(Call(Name('sender', Load(), lineno=26, col_offset=8), [Name('group', Load(), lineno=26, col_offset=15)], [], None, None, lineno=26, col_offset=8), lineno=26, col_offset=8)], [Expr(Call(Name('receiver', Load(), lineno=28, col_offset=8), [Name('group', Load(), lineno=28, col_offset=17)], [], None, None, lineno=28, col_offset=8), lineno=28, col_offset=8)], lineno=25, col_offset=4)], [], lineno=22, col_offset=0), FunctionDef('sender', arguments([Name('group', Param(), lineno=31, col_offset=11)], None, None, []), [Assign([Name('addrinfo', Store(), lineno=32, col_offset=4)], Subscript(Call(Attribute(Name('socket', Load(), lineno=32, col_offset=15), 'getaddrinfo', Load(), lineno=32, col_offset=15), [Name('group', Load(), lineno=32, col_offset=34), Name('None', Load(), lineno=32, col_offset=41)], [], None, None, lineno=32, col_offset=15), Index(Num(0, lineno=32, col_offset=47)), Load(), lineno=32, col_offset=15), lineno=32, col_offset=4), Assign([Name('s', Store(), lineno=34, col_offset=4)], Call(Attribute(Name('socket', Load(), lineno=34, col_offset=8), 'socket', Load(), lineno=34, col_offset=8), [Subscript(Name('addrinfo', Load(), lineno=34, col_offset=22), Index(Num(0, lineno=34, col_offset=31)), Load(), lineno=34, col_offset=22), Attribute(Name('socket', Load(), lineno=34, col_offset=35), 'SOCK_DGRAM', Load(), lineno=34, col_offset=35)], [], None, None, lineno=34, col_offset=8), lineno=34, col_offset=4), Assign([Name('ttl_bin', Store(), lineno=37, col_offset=4)], Call(Attribute(Name('struct', Load(), lineno=37, col_offset=14), 'pack', Load(), lineno=37, col_offset=14), [Str('@i', lineno=37, col_offset=26), Name('MYTTL', Load(), lineno=37, col_offset=32)], [], None, None, lineno=37, col_offset=14), lineno=37, col_offset=4), If(Compare(Subscript(Name('addrinfo', Load(), lineno=38, col_offset=7), Index(Num(0, lineno=38, col_offset=16)), Load(), lineno=38, col_offset=7), [Eq()], [Attribute(Name('socket', Load(), lineno=38, col_offset=22), 'AF_INET', Load(), lineno=38, col_offset=22)], lineno=38, col_offset=7), [Expr(Call(Attribute(Name('s', Load(), lineno=39, col_offset=8), 'setsockopt', Load(), lineno=39, col_offset=8), [Attribute(Name('socket', Load(), lineno=39, col_offset=21), 'IPPROTO_IP', Load(), lineno=39, col_offset=21), Attribute(Name('socket', Load(), lineno=39, col_offset=40), 'IP_MULTICAST_TTL', Load(), lineno=39, col_offset=40), Name('ttl_bin', Load(), lineno=39, col_offset=65)], [], None, None, lineno=39, col_offset=8), lineno=39, col_offset=8)], [Expr(Call(Attribute(Name('s', Load(), lineno=41, col_offset=8), 'setsockopt', Load(), lineno=41, col_offset=8), [Attribute(Name('socket', Load(), lineno=41, col_offset=21), 'IPPROTO_IPV6', Load(), lineno=41, col_offset=21), Attribute(Name('socket', Load(), lineno=41, col_offset=42), 'IPV6_MULTICAST_HOPS', Load(), lineno=41, col_offset=42), Name('ttl_bin', Load(), lineno=41, col_offset=70)], [], None, None, lineno=41, col_offset=8), lineno=41, col_offset=8)], lineno=38, col_offset=4), While(Name('True', Load(), lineno=43, col_offset=10), [Assign([Name('data', Store(), lineno=44, col_offset=8)], Call(Name('repr', Load(), lineno=44, col_offset=15), [Call(Attribute(Name('time', Load(), lineno=44, col_offset=20), 'time', Load(), lineno=44, col_offset=20), [], [], None, None, lineno=44, col_offset=20)], [], None, None, lineno=44, col_offset=15), lineno=44, col_offset=8), Expr(Call(Attribute(Name('s', Load(), lineno=45, col_offset=8), 'sendto', Load(), lineno=45, col_offset=8), [BinOp(Name('data', Load(), lineno=45, col_offset=17), Add(), Str('\x00', lineno=45, col_offset=24), lineno=45, col_offset=17), Tuple([Subscript(Subscript(Name('addrinfo', Load(), lineno=45, col_offset=31), Index(Num(4, lineno=45, col_offset=40)), Load(), lineno=45, col_offset=31), Index(Num(0, lineno=45, col_offset=43)), Load(), lineno=45, col_offset=31), Name('MYPORT', Load(), lineno=45, col_offset=47)], Load(), lineno=45, col_offset=31)], [], None, None, lineno=45, col_offset=8), lineno=45, col_offset=8), Expr(Call(Attribute(Name('time', Load(), lineno=46, col_offset=8), 'sleep', Load(), lineno=46, col_offset=8), [Num(1, lineno=46, col_offset=19)], [], None, None, lineno=46, col_offset=8), lineno=46, col_offset=8)], [], lineno=43, col_offset=4)], [], lineno=31, col_offset=0), FunctionDef('receiver', arguments([Name('group', Param(), lineno=49, col_offset=13)], None, None, []), [Assign([Name('addrinfo', Store(), lineno=51, col_offset=4)], Subscript(Call(Attribute(Name('socket', Load(), lineno=51, col_offset=15), 'getaddrinfo', Load(), lineno=51, col_offset=15), [Name('group', Load(), lineno=51, col_offset=34), Name('None', Load(), lineno=51, col_offset=41)], [], None, None, lineno=51, col_offset=15), Index(Num(0, lineno=51, col_offset=47)), Load(), lineno=51, col_offset=15), lineno=51, col_offset=4), Assign([Name('s', Store(), lineno=54, col_offset=4)], Call(Attribute(Name('socket', Load(), lineno=54, col_offset=8), 'socket', Load(), lineno=54, col_offset=8), [Subscript(Name('addrinfo', Load(), lineno=54, col_offset=22), Index(Num(0, lineno=54, col_offset=31)), Load(), lineno=54, col_offset=22), Attribute(Name('socket', Load(), lineno=54, col_offset=35), 'SOCK_DGRAM', Load(), lineno=54, col_offset=35)], [], None, None, lineno=54, col_offset=8), lineno=54, col_offset=4), Expr(Call(Attribute(Name('s', Load(), lineno=58, col_offset=4), 'setsockopt', Load(), lineno=58, col_offset=4), [Attribute(Name('socket', Load(), lineno=58, col_offset=17), 'SOL_SOCKET', Load(), lineno=58, col_offset=17), Attribute(Name('socket', Load(), lineno=58, col_offset=36), 'SO_REUSEADDR', Load(), lineno=58, col_offset=36), Num(1, lineno=58, col_offset=57)], [], None, None, lineno=58, col_offset=4), lineno=58, col_offset=4), Expr(Call(Attribute(Name('s', Load(), lineno=61, col_offset=4), 'bind', Load(), lineno=61, col_offset=4), [Tuple([Str('', lineno=61, col_offset=12), Name('MYPORT', Load(), lineno=61, col_offset=16)], Load(), lineno=61, col_offset=12)], [], None, None, lineno=61, col_offset=4), lineno=61, col_offset=4), Assign([Name('group_bin', Store(), lineno=63, col_offset=4)], Call(Attribute(Name('socket', Load(), lineno=63, col_offset=16), 'inet_pton', Load(), lineno=63, col_offset=16), [Subscript(Name('addrinfo', Load(), lineno=63, col_offset=33), Index(Num(0, lineno=63, col_offset=42)), Load(), lineno=63, col_offset=33), Subscript(Subscript(Name('addrinfo', Load(), lineno=63, col_offset=46), Index(Num(4, lineno=63, col_offset=55)), Load(), lineno=63, col_offset=46), Index(Num(0, lineno=63, col_offset=58)), Load(), lineno=63, col_offset=46)], [], None, None, lineno=63, col_offset=16), lineno=63, col_offset=4), If(Compare(Subscript(Name('addrinfo', Load(), lineno=65, col_offset=7), Index(Num(0, lineno=65, col_offset=16)), Load(), lineno=65, col_offset=7), [Eq()], [Attribute(Name('socket', Load(), lineno=65, col_offset=22), 'AF_INET', Load(), lineno=65, col_offset=22)], lineno=65, col_offset=7), [Assign([Name('mreq', Store(), lineno=66, col_offset=8)], BinOp(Name('group_bin', Load(), lineno=66, col_offset=15), Add(), Call(Attribute(Name('struct', Load(), lineno=66, col_offset=27), 'pack', Load(), lineno=66, col_offset=27), [Str('=I', lineno=66, col_offset=39), Attribute(Name('socket', Load(), lineno=66, col_offset=45), 'INADDR_ANY', Load(), lineno=66, col_offset=45)], [], None, None, lineno=66, col_offset=27), lineno=66, col_offset=15), lineno=66, col_offset=8), Expr(Call(Attribute(Name('s', Load(), lineno=67, col_offset=8), 'setsockopt', Load(), lineno=67, col_offset=8), [Attribute(Name('socket', Load(), lineno=67, col_offset=21), 'IPPROTO_IP', Load(), lineno=67, col_offset=21), Attribute(Name('socket', Load(), lineno=67, col_offset=40), 'IP_ADD_MEMBERSHIP', Load(), lineno=67, col_offset=40), Name('mreq', Load(), lineno=67, col_offset=66)], [], None, None, lineno=67, col_offset=8), lineno=67, col_offset=8)], [Assign([Name('mreq', Store(), lineno=69, col_offset=8)], BinOp(Name('group_bin', Load(), lineno=69, col_offset=15), Add(), Call(Attribute(Name('struct', Load(), lineno=69, col_offset=27), 'pack', Load(), lineno=69, col_offset=27), [Str('@I', lineno=69, col_offset=39), Num(0, lineno=69, col_offset=45)], [], None, None, lineno=69, col_offset=27), lineno=69, col_offset=15), lineno=69, col_offset=8), Expr(Call(Attribute(Name('s', Load(), lineno=70, col_offset=8), 'setsockopt', Load(), lineno=70, col_offset=8), [Attribute(Name('socket', Load(), lineno=70, col_offset=21), 'IPPROTO_IPV6', Load(), lineno=70, col_offset=21), Attribute(Name('socket', Load(), lineno=70, col_offset=42), 'IPV6_JOIN_GROUP', Load(), lineno=70, col_offset=42), Name('mreq', Load(), lineno=70, col_offset=66)], [], None, None, lineno=70, col_offset=8), lineno=70, col_offset=8)], lineno=65, col_offset=4), While(Name('True', Load(), lineno=73, col_offset=10), [Assign([Tuple([Name('data', Store(), lineno=74, col_offset=8), Name('sender', Store(), lineno=74, col_offset=14)], Store(), lineno=74, col_offset=8)], Call(Attribute(Name('s', Load(), lineno=74, col_offset=23), 'recvfrom', Load(), lineno=74, col_offset=23), [Num(1500, lineno=74, col_offset=34)], [], None, None, lineno=74, col_offset=23), lineno=74, col_offset=8), While(Compare(Subscript(Name('data', Load(), lineno=75, col_offset=14), Slice(Num(-1, lineno=75, col_offset=20), None, None), Load(), lineno=75, col_offset=14), [Eq()], [Str('\x00', lineno=75, col_offset=27)], lineno=75, col_offset=14), [Assign([Name('data', Store(), lineno=75, col_offset=33)], Subscript(Name('data', Load(), lineno=75, col_offset=40), Slice(None, Num(-1, lineno=75, col_offset=47), None), Load(), lineno=75, col_offset=40), lineno=75, col_offset=33)], [], lineno=75, col_offset=8), Print(None, [BinOp(BinOp(Call(Name('str', Load(), lineno=76, col_offset=15), [Name('sender', Load(), lineno=76, col_offset=19)], [], None, None, lineno=76, col_offset=15), Add(), Str('  ', lineno=76, col_offset=29), lineno=76, col_offset=15), Add(), Call(Name('repr', Load(), lineno=76, col_offset=36), [Name('data', Load(), lineno=76, col_offset=41)], [], None, None, lineno=76, col_offset=36), lineno=76, col_offset=34)], True, lineno=76, col_offset=8)], [], lineno=73, col_offset=4)], [], lineno=49, col_offset=0), If(Compare(Name('__name__', Load(), lineno=79, col_offset=3), [Eq()], [Str('__main__', lineno=79, col_offset=15)], lineno=79, col_offset=3), [Expr(Call(Name('main', Load(), lineno=80, col_offset=4), [], [], None, None, lineno=80, col_offset=4), lineno=80, col_offset=4)], [], lineno=79, col_offset=0)])
