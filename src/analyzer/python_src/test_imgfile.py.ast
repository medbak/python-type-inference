Module([Expr(Str('Simple test script for imgfile.c\n   Roger E. Masse\n', lineno=5, col_offset=-1), lineno=5, col_offset=-1), ImportFrom('test.test_support', [alias('verbose', None), alias('unlink', None), alias('findfile', None), alias('import_module', None)], 0, lineno=7, col_offset=0), Assign([Name('imgfile', Store(), lineno=9, col_offset=0)], Call(Name('import_module', Load(), lineno=9, col_offset=10), [Str('imgfile', lineno=9, col_offset=24)], [keyword('deprecated', Name('True', Load(), lineno=9, col_offset=46))], None, None, lineno=9, col_offset=10), lineno=9, col_offset=0), Import([alias('uu', None)], lineno=10, col_offset=0), FunctionDef('testimage', arguments([Name('name', Param(), lineno=13, col_offset=14)], None, None, []), [Expr(Str("Run through the imgfile's battery of possible methods\n       on the image passed in name.\n    ", lineno=16, col_offset=-1), lineno=16, col_offset=-1), Import([alias('sys', None)], lineno=18, col_offset=4), Import([alias('os', None)], lineno=19, col_offset=4), Assign([Name('outputfile', Store(), lineno=21, col_offset=4)], Str('/tmp/deleteme', lineno=21, col_offset=17), lineno=21, col_offset=4), TryExcept([Assign([Name('sizes', Store(), lineno=28, col_offset=8)], Call(Attribute(Name('imgfile', Load(), lineno=28, col_offset=16), 'getsizes', Load(), lineno=28, col_offset=16), [Name('name', Load(), lineno=28, col_offset=33)], [], None, None, lineno=28, col_offset=16), lineno=28, col_offset=8)], [ExceptHandler(Attribute(Name('imgfile', Load(), lineno=29, col_offset=11), 'error', Load(), lineno=29, col_offset=11), None, [If(Compare(Name('__name__', Load(), lineno=31, col_offset=11), [Eq()], [Str('__main__', lineno=31, col_offset=23)], lineno=31, col_offset=11), [Assign([Name('ourname', Store(), lineno=32, col_offset=12)], Subscript(Attribute(Name('sys', Load(), lineno=32, col_offset=22), 'argv', Load(), lineno=32, col_offset=22), Index(Num(0, lineno=32, col_offset=31)), Load(), lineno=32, col_offset=22), lineno=32, col_offset=12)], [Assign([Name('ourname', Store(), lineno=34, col_offset=12)], Attribute(Subscript(Attribute(Name('sys', Load(), lineno=34, col_offset=22), 'modules', Load(), lineno=34, col_offset=22), Index(Name('__name__', Load(), lineno=34, col_offset=34)), Load(), lineno=34, col_offset=22), '__file__', Load(), lineno=34, col_offset=22), lineno=34, col_offset=12)], lineno=31, col_offset=8), Assign([Name('parts', Store(), lineno=36, col_offset=8)], Call(Attribute(Name('ourname', Load(), lineno=36, col_offset=16), 'split', Load(), lineno=36, col_offset=16), [Attribute(Name('os', Load(), lineno=36, col_offset=30), 'sep', Load(), lineno=36, col_offset=30)], [], None, None, lineno=36, col_offset=16), lineno=36, col_offset=8), Assign([Subscript(Name('parts', Load(), lineno=37, col_offset=8), Index(Num(-1, lineno=37, col_offset=15)), Store(), lineno=37, col_offset=8)], Name('name', Load(), lineno=37, col_offset=20), lineno=37, col_offset=8), Assign([Name('name', Store(), lineno=38, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=38, col_offset=15), 'sep', Load(), lineno=38, col_offset=15), 'join', Load(), lineno=38, col_offset=15), [Name('parts', Load(), lineno=38, col_offset=27)], [], None, None, lineno=38, col_offset=15), lineno=38, col_offset=8), Assign([Name('sizes', Store(), lineno=39, col_offset=8)], Call(Attribute(Name('imgfile', Load(), lineno=39, col_offset=16), 'getsizes', Load(), lineno=39, col_offset=16), [Name('name', Load(), lineno=39, col_offset=33)], [], None, None, lineno=39, col_offset=16), lineno=39, col_offset=8)], lineno=29, col_offset=4)], [], lineno=24, col_offset=4), If(Name('verbose', Load(), lineno=40, col_offset=7), [Print(None, [BinOp(Str('Opening test image: %s, sizes: %s', lineno=41, col_offset=14), Mod(), Tuple([Name('name', Load(), lineno=41, col_offset=53), Call(Name('str', Load(), lineno=41, col_offset=59), [Name('sizes', Load(), lineno=41, col_offset=63)], [], None, None, lineno=41, col_offset=59)], Load(), lineno=41, col_offset=53), lineno=41, col_offset=14)], True, lineno=41, col_offset=8)], [], lineno=40, col_offset=4), Assign([Name('image', Store(), lineno=47, col_offset=4)], Call(Attribute(Name('imgfile', Load(), lineno=47, col_offset=12), 'read', Load(), lineno=47, col_offset=12), [Name('name', Load(), lineno=47, col_offset=25)], [], None, None, lineno=47, col_offset=12), lineno=47, col_offset=4), If(Name('verbose', Load(), lineno=54, col_offset=7), [Print(None, [Str('Writing output file', lineno=55, col_offset=14)], True, lineno=55, col_offset=8)], [], lineno=54, col_offset=4), Expr(Call(Attribute(Name('imgfile', Load(), lineno=56, col_offset=4), 'write', Load(), lineno=56, col_offset=4), [Name('outputfile', Load(), lineno=56, col_offset=19), Name('image', Load(), lineno=56, col_offset=31), Subscript(Name('sizes', Load(), lineno=56, col_offset=38), Index(Num(0, lineno=56, col_offset=44)), Load(), lineno=56, col_offset=38), Subscript(Name('sizes', Load(), lineno=56, col_offset=48), Index(Num(1, lineno=56, col_offset=54)), Load(), lineno=56, col_offset=48), Subscript(Name('sizes', Load(), lineno=56, col_offset=58), Index(Num(2, lineno=56, col_offset=64)), Load(), lineno=56, col_offset=58)], [], None, None, lineno=56, col_offset=4), lineno=56, col_offset=4), If(Name('verbose', Load(), lineno=59, col_offset=7), [Print(None, [BinOp(Str('Opening scaled test image: %s, sizes: %s', lineno=60, col_offset=14), Mod(), Tuple([Name('name', Load(), lineno=60, col_offset=60), Call(Name('str', Load(), lineno=60, col_offset=66), [Name('sizes', Load(), lineno=60, col_offset=70)], [], None, None, lineno=60, col_offset=66)], Load(), lineno=60, col_offset=60), lineno=60, col_offset=14)], True, lineno=60, col_offset=8)], [], lineno=59, col_offset=4), If(Name('verbose', Load(), lineno=73, col_offset=7), [Print(None, [Str('Filtering with "impulse"', lineno=74, col_offset=14)], True, lineno=74, col_offset=8)], [], lineno=73, col_offset=4), Assign([Name('simage', Store(), lineno=75, col_offset=4)], Call(Attribute(Name('imgfile', Load(), lineno=75, col_offset=13), 'readscaled', Load(), lineno=75, col_offset=13), [Name('name', Load(), lineno=75, col_offset=33), BinOp(Subscript(Name('sizes', Load(), lineno=75, col_offset=39), Index(Num(0, lineno=75, col_offset=45)), Load(), lineno=75, col_offset=39), Div(), Num(2, lineno=75, col_offset=48), lineno=75, col_offset=39), BinOp(Subscript(Name('sizes', Load(), lineno=75, col_offset=51), Index(Num(1, lineno=75, col_offset=57)), Load(), lineno=75, col_offset=51), Div(), Num(2, lineno=75, col_offset=60), lineno=75, col_offset=51), Str('impulse', lineno=75, col_offset=63), Num(2.0, lineno=75, col_offset=74)], [], None, None, lineno=75, col_offset=13), lineno=75, col_offset=4), If(Name('verbose', Load(), lineno=81, col_offset=7), [Print(None, [Str('Switching to X compatibility', lineno=82, col_offset=14)], True, lineno=82, col_offset=8)], [], lineno=81, col_offset=4), Expr(Call(Attribute(Name('imgfile', Load(), lineno=83, col_offset=4), 'ttob', Load(), lineno=83, col_offset=4), [Num(1, lineno=83, col_offset=18)], [], None, None, lineno=83, col_offset=4), lineno=83, col_offset=4), If(Name('verbose', Load(), lineno=85, col_offset=7), [Print(None, [Str('Filtering with "triangle"', lineno=86, col_offset=14)], True, lineno=86, col_offset=8)], [], lineno=85, col_offset=4), Assign([Name('simage', Store(), lineno=87, col_offset=4)], Call(Attribute(Name('imgfile', Load(), lineno=87, col_offset=13), 'readscaled', Load(), lineno=87, col_offset=13), [Name('name', Load(), lineno=87, col_offset=33), BinOp(Subscript(Name('sizes', Load(), lineno=87, col_offset=39), Index(Num(0, lineno=87, col_offset=45)), Load(), lineno=87, col_offset=39), Div(), Num(2, lineno=87, col_offset=48), lineno=87, col_offset=39), BinOp(Subscript(Name('sizes', Load(), lineno=87, col_offset=51), Index(Num(1, lineno=87, col_offset=57)), Load(), lineno=87, col_offset=51), Div(), Num(2, lineno=87, col_offset=60), lineno=87, col_offset=51), Str('triangle', lineno=87, col_offset=63), Num(3.0, lineno=87, col_offset=75)], [], None, None, lineno=87, col_offset=13), lineno=87, col_offset=4), If(Name('verbose', Load(), lineno=88, col_offset=7), [Print(None, [Str('Switching back to SGI compatibility', lineno=89, col_offset=14)], True, lineno=89, col_offset=8)], [], lineno=88, col_offset=4), Expr(Call(Attribute(Name('imgfile', Load(), lineno=90, col_offset=4), 'ttob', Load(), lineno=90, col_offset=4), [Num(0, lineno=90, col_offset=18)], [], None, None, lineno=90, col_offset=4), lineno=90, col_offset=4), If(Name('verbose', Load(), lineno=92, col_offset=7), [Print(None, [Str('Filtering with "quadratic"', lineno=92, col_offset=22)], True, lineno=92, col_offset=16)], [], lineno=92, col_offset=4), Assign([Name('simage', Store(), lineno=93, col_offset=4)], Call(Attribute(Name('imgfile', Load(), lineno=93, col_offset=13), 'readscaled', Load(), lineno=93, col_offset=13), [Name('name', Load(), lineno=93, col_offset=33), BinOp(Subscript(Name('sizes', Load(), lineno=93, col_offset=39), Index(Num(0, lineno=93, col_offset=45)), Load(), lineno=93, col_offset=39), Div(), Num(2, lineno=93, col_offset=48), lineno=93, col_offset=39), BinOp(Subscript(Name('sizes', Load(), lineno=93, col_offset=51), Index(Num(1, lineno=93, col_offset=57)), Load(), lineno=93, col_offset=51), Div(), Num(2, lineno=93, col_offset=60), lineno=93, col_offset=51), Str('quadratic', lineno=93, col_offset=63)], [], None, None, lineno=93, col_offset=13), lineno=93, col_offset=4), If(Name('verbose', Load(), lineno=94, col_offset=7), [Print(None, [Str('Filtering with "gaussian"', lineno=94, col_offset=22)], True, lineno=94, col_offset=16)], [], lineno=94, col_offset=4), Assign([Name('simage', Store(), lineno=95, col_offset=4)], Call(Attribute(Name('imgfile', Load(), lineno=95, col_offset=13), 'readscaled', Load(), lineno=95, col_offset=13), [Name('name', Load(), lineno=95, col_offset=33), BinOp(Subscript(Name('sizes', Load(), lineno=95, col_offset=39), Index(Num(0, lineno=95, col_offset=45)), Load(), lineno=95, col_offset=39), Div(), Num(2, lineno=95, col_offset=48), lineno=95, col_offset=39), BinOp(Subscript(Name('sizes', Load(), lineno=95, col_offset=51), Index(Num(1, lineno=95, col_offset=57)), Load(), lineno=95, col_offset=51), Div(), Num(2, lineno=95, col_offset=60), lineno=95, col_offset=51), Str('gaussian', lineno=95, col_offset=63), Num(1.0, lineno=95, col_offset=75)], [], None, None, lineno=95, col_offset=13), lineno=95, col_offset=4), If(Name('verbose', Load(), lineno=97, col_offset=7), [Print(None, [Str('Writing output file', lineno=98, col_offset=14)], True, lineno=98, col_offset=8)], [], lineno=97, col_offset=4), Expr(Call(Attribute(Name('imgfile', Load(), lineno=99, col_offset=4), 'write', Load(), lineno=99, col_offset=4), [Name('outputfile', Load(), lineno=99, col_offset=19), Name('simage', Load(), lineno=99, col_offset=31), BinOp(Subscript(Name('sizes', Load(), lineno=99, col_offset=39), Index(Num(0, lineno=99, col_offset=45)), Load(), lineno=99, col_offset=39), Div(), Num(2, lineno=99, col_offset=48), lineno=99, col_offset=39), BinOp(Subscript(Name('sizes', Load(), lineno=99, col_offset=51), Index(Num(1, lineno=99, col_offset=57)), Load(), lineno=99, col_offset=51), Div(), Num(2, lineno=99, col_offset=60), lineno=99, col_offset=51), Subscript(Name('sizes', Load(), lineno=99, col_offset=63), Index(Num(2, lineno=99, col_offset=69)), Load(), lineno=99, col_offset=63)], [], None, None, lineno=99, col_offset=4), lineno=99, col_offset=4), Expr(Call(Attribute(Name('os', Load(), lineno=101, col_offset=4), 'unlink', Load(), lineno=101, col_offset=4), [Name('outputfile', Load(), lineno=101, col_offset=14)], [], None, None, lineno=101, col_offset=4), lineno=101, col_offset=4)], [], lineno=13, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Attribute(Name('uu', Load(), lineno=106, col_offset=4), 'decode', Load(), lineno=106, col_offset=4), [Call(Name('findfile', Load(), lineno=106, col_offset=14), [Str('testrgb.uue', lineno=106, col_offset=23)], [], None, None, lineno=106, col_offset=14), Str('test.rgb', lineno=106, col_offset=39)], [], None, None, lineno=106, col_offset=4), lineno=106, col_offset=4), Expr(Call(Attribute(Name('uu', Load(), lineno=107, col_offset=4), 'decode', Load(), lineno=107, col_offset=4), [Call(Name('findfile', Load(), lineno=107, col_offset=14), [Str('greyrgb.uue', lineno=107, col_offset=23)], [], None, None, lineno=107, col_offset=14), Str('greytest.rgb', lineno=107, col_offset=39)], [], None, None, lineno=107, col_offset=4), lineno=107, col_offset=4), Expr(Call(Name('testimage', Load(), lineno=110, col_offset=4), [Str('test.rgb', lineno=110, col_offset=14)], [], None, None, lineno=110, col_offset=4), lineno=110, col_offset=4), Expr(Call(Name('testimage', Load(), lineno=113, col_offset=4), [Str('greytest.rgb', lineno=113, col_offset=14)], [], None, None, lineno=113, col_offset=4), lineno=113, col_offset=4), Expr(Call(Name('unlink', Load(), lineno=115, col_offset=4), [Str('test.rgb', lineno=115, col_offset=11)], [], None, None, lineno=115, col_offset=4), lineno=115, col_offset=4), Expr(Call(Name('unlink', Load(), lineno=116, col_offset=4), [Str('greytest.rgb', lineno=116, col_offset=11)], [], None, None, lineno=116, col_offset=4), lineno=116, col_offset=4)], [], lineno=104, col_offset=0), If(Compare(Name('__name__', Load(), lineno=118, col_offset=3), [Eq()], [Str('__main__', lineno=118, col_offset=15)], lineno=118, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=119, col_offset=4), [], [], None, None, lineno=119, col_offset=4), lineno=119, col_offset=4)], [], lineno=118, col_offset=0)])
