Module([Import([alias('test.test_support', None), alias('unittest', None)], lineno=1, col_offset=0), Import([alias('sys', None), alias('codecs', None), alias('htmlentitydefs', None), alias('unicodedata', None)], lineno=2, col_offset=0), ClassDef('PosReturn', [], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=7, col_offset=17)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=8, col_offset=8), 'pos', Store(), lineno=8, col_offset=8)], Num(0, lineno=8, col_offset=19), lineno=8, col_offset=8)], [], lineno=7, col_offset=4), FunctionDef('handle', arguments([Name('self', Param(), lineno=10, col_offset=15), Name('exc', Param(), lineno=10, col_offset=21)], None, None, []), [Assign([Name('oldpos', Store(), lineno=11, col_offset=8)], Attribute(Name('self', Load(), lineno=11, col_offset=17), 'pos', Load(), lineno=11, col_offset=17), lineno=11, col_offset=8), Assign([Name('realpos', Store(), lineno=12, col_offset=8)], Name('oldpos', Load(), lineno=12, col_offset=18), lineno=12, col_offset=8), If(Compare(Name('realpos', Load(), lineno=13, col_offset=11), [Lt()], [Num(0, lineno=13, col_offset=19)], lineno=13, col_offset=11), [Assign([Name('realpos', Store(), lineno=14, col_offset=12)], BinOp(Call(Name('len', Load(), lineno=14, col_offset=22), [Attribute(Name('exc', Load(), lineno=14, col_offset=26), 'object', Load(), lineno=14, col_offset=26)], [], None, None, lineno=14, col_offset=22), Add(), Name('realpos', Load(), lineno=14, col_offset=40), lineno=14, col_offset=22), lineno=14, col_offset=12)], [], lineno=13, col_offset=8), If(Compare(Name('realpos', Load(), lineno=17, col_offset=11), [LtE()], [Attribute(Name('exc', Load(), lineno=17, col_offset=22), 'start', Load(), lineno=17, col_offset=22)], lineno=17, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=18, col_offset=12), 'pos', Store(), lineno=18, col_offset=12)], Call(Name('len', Load(), lineno=18, col_offset=23), [Attribute(Name('exc', Load(), lineno=18, col_offset=27), 'object', Load(), lineno=18, col_offset=27)], [], None, None, lineno=18, col_offset=23), lineno=18, col_offset=12)], [], lineno=17, col_offset=8), Return(Tuple([Str(u'<?>', lineno=19, col_offset=16), Name('oldpos', Load(), lineno=19, col_offset=24)], Load(), lineno=19, col_offset=16), lineno=19, col_offset=8)], [], lineno=10, col_offset=4)], [], lineno=4, col_offset=0), ClassDef('BadStartUnicodeEncodeError', [Name('UnicodeEncodeError', Load(), lineno=22, col_offset=33)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=23, col_offset=17)], None, None, []), [Expr(Call(Attribute(Name('UnicodeEncodeError', Load(), lineno=24, col_offset=8), '__init__', Load(), lineno=24, col_offset=8), [Name('self', Load(), lineno=24, col_offset=36), Str('ascii', lineno=24, col_offset=42), Str(u'', lineno=24, col_offset=51), Num(0, lineno=24, col_offset=56), Num(1, lineno=24, col_offset=59), Str('bad', lineno=24, col_offset=62)], [], None, None, lineno=24, col_offset=8), lineno=24, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=25, col_offset=8), 'start', Store(), lineno=25, col_offset=8)], List([], Load(), lineno=25, col_offset=21), lineno=25, col_offset=8)], [], lineno=23, col_offset=4)], [], lineno=22, col_offset=0), ClassDef('BadObjectUnicodeEncodeError', [Name('UnicodeEncodeError', Load(), lineno=28, col_offset=34)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=29, col_offset=17)], None, None, []), [Expr(Call(Attribute(Name('UnicodeEncodeError', Load(), lineno=30, col_offset=8), '__init__', Load(), lineno=30, col_offset=8), [Name('self', Load(), lineno=30, col_offset=36), Str('ascii', lineno=30, col_offset=42), Str(u'', lineno=30, col_offset=51), Num(0, lineno=30, col_offset=56), Num(1, lineno=30, col_offset=59), Str('bad', lineno=30, col_offset=62)], [], None, None, lineno=30, col_offset=8), lineno=30, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=31, col_offset=8), 'object', Store(), lineno=31, col_offset=8)], List([], Load(), lineno=31, col_offset=22), lineno=31, col_offset=8)], [], lineno=29, col_offset=4)], [], lineno=28, col_offset=0), ClassDef('NoEndUnicodeDecodeError', [Name('UnicodeDecodeError', Load(), lineno=34, col_offset=30)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=35, col_offset=17)], None, None, []), [Expr(Call(Attribute(Name('UnicodeDecodeError', Load(), lineno=36, col_offset=8), '__init__', Load(), lineno=36, col_offset=8), [Name('self', Load(), lineno=36, col_offset=36), Str('ascii', lineno=36, col_offset=42), Str('', lineno=36, col_offset=51), Num(0, lineno=36, col_offset=55), Num(1, lineno=36, col_offset=58), Str('bad', lineno=36, col_offset=61)], [], None, None, lineno=36, col_offset=8), lineno=36, col_offset=8), Delete([Attribute(Name('self', Load(), lineno=37, col_offset=12), 'end', Del(), lineno=37, col_offset=12)], lineno=37, col_offset=8)], [], lineno=35, col_offset=4)], [], lineno=34, col_offset=0), ClassDef('BadObjectUnicodeDecodeError', [Name('UnicodeDecodeError', Load(), lineno=40, col_offset=34)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=41, col_offset=17)], None, None, []), [Expr(Call(Attribute(Name('UnicodeDecodeError', Load(), lineno=42, col_offset=8), '__init__', Load(), lineno=42, col_offset=8), [Name('self', Load(), lineno=42, col_offset=36), Str('ascii', lineno=42, col_offset=42), Str('', lineno=42, col_offset=51), Num(0, lineno=42, col_offset=55), Num(1, lineno=42, col_offset=58), Str('bad', lineno=42, col_offset=61)], [], None, None, lineno=42, col_offset=8), lineno=42, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=43, col_offset=8), 'object', Store(), lineno=43, col_offset=8)], List([], Load(), lineno=43, col_offset=22), lineno=43, col_offset=8)], [], lineno=41, col_offset=4)], [], lineno=40, col_offset=0), ClassDef('NoStartUnicodeTranslateError', [Name('UnicodeTranslateError', Load(), lineno=46, col_offset=35)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=47, col_offset=17)], None, None, []), [Expr(Call(Attribute(Name('UnicodeTranslateError', Load(), lineno=48, col_offset=8), '__init__', Load(), lineno=48, col_offset=8), [Name('self', Load(), lineno=48, col_offset=39), Str(u'', lineno=48, col_offset=45), Num(0, lineno=48, col_offset=50), Num(1, lineno=48, col_offset=53), Str('bad', lineno=48, col_offset=56)], [], None, None, lineno=48, col_offset=8), lineno=48, col_offset=8), Delete([Attribute(Name('self', Load(), lineno=49, col_offset=12), 'start', Del(), lineno=49, col_offset=12)], lineno=49, col_offset=8)], [], lineno=47, col_offset=4)], [], lineno=46, col_offset=0), ClassDef('NoEndUnicodeTranslateError', [Name('UnicodeTranslateError', Load(), lineno=52, col_offset=33)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=53, col_offset=17)], None, None, []), [Expr(Call(Attribute(Name('UnicodeTranslateError', Load(), lineno=54, col_offset=8), '__init__', Load(), lineno=54, col_offset=8), [Name('self', Load(), lineno=54, col_offset=39), Str(u'', lineno=54, col_offset=46), Num(0, lineno=54, col_offset=51), Num(1, lineno=54, col_offset=54), Str('bad', lineno=54, col_offset=57)], [], None, None, lineno=54, col_offset=8), lineno=54, col_offset=8), Delete([Attribute(Name('self', Load(), lineno=55, col_offset=12), 'end', Del(), lineno=55, col_offset=12)], lineno=55, col_offset=8)], [], lineno=53, col_offset=4)], [], lineno=52, col_offset=0), ClassDef('NoObjectUnicodeTranslateError', [Name('UnicodeTranslateError', Load(), lineno=58, col_offset=36)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=59, col_offset=17)], None, None, []), [Expr(Call(Attribute(Name('UnicodeTranslateError', Load(), lineno=60, col_offset=8), '__init__', Load(), lineno=60, col_offset=8), [Name('self', Load(), lineno=60, col_offset=39), Str(u'', lineno=60, col_offset=45), Num(0, lineno=60, col_offset=50), Num(1, lineno=60, col_offset=53), Str('bad', lineno=60, col_offset=56)], [], None, None, lineno=60, col_offset=8), lineno=60, col_offset=8), Delete([Attribute(Name('self', Load(), lineno=61, col_offset=12), 'object', Del(), lineno=61, col_offset=12)], lineno=61, col_offset=8)], [], lineno=59, col_offset=4)], [], lineno=58, col_offset=0), ClassDef('CodecCallbackTest', [Attribute(Name('unittest', Load(), lineno=63, col_offset=24), 'TestCase', Load(), lineno=63, col_offset=24)], [FunctionDef('test_xmlcharrefreplace', arguments([Name('self', Param(), lineno=65, col_offset=31)], None, None, []), [Assign([Name('s', Store(), lineno=69, col_offset=8)], Str(u'\u30b9\u30d1\u30e2 \xe4nd eggs', lineno=69, col_offset=12), lineno=69, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=70, col_offset=8), 'assertEqual', Load(), lineno=70, col_offset=8), [Call(Attribute(Name('s', Load(), lineno=71, col_offset=12), 'encode', Load(), lineno=71, col_offset=12), [Str('ascii', lineno=71, col_offset=21), Str('xmlcharrefreplace', lineno=71, col_offset=30)], [], None, None, lineno=71, col_offset=12), Str('&#12473;&#12497;&#12514; &#228;nd eggs', lineno=72, col_offset=12)], [], None, None, lineno=70, col_offset=8), lineno=70, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=74, col_offset=8), 'assertEqual', Load(), lineno=74, col_offset=8), [Call(Attribute(Name('s', Load(), lineno=75, col_offset=12), 'encode', Load(), lineno=75, col_offset=12), [Str('latin-1', lineno=75, col_offset=21), Str('xmlcharrefreplace', lineno=75, col_offset=32)], [], None, None, lineno=75, col_offset=12), Str('&#12473;&#12497;&#12514; \xe4nd eggs', lineno=76, col_offset=12)], [], None, None, lineno=74, col_offset=8), lineno=74, col_offset=8)], [], lineno=65, col_offset=4), FunctionDef('test_xmlcharnamereplace', arguments([Name('self', Param(), lineno=79, col_offset=32)], None, None, []), [FunctionDef('xmlcharnamereplace', arguments([Name('exc', Param(), lineno=83, col_offset=31)], None, None, []), [If(UnaryOp(Not(), Call(Name('isinstance', Load(), lineno=84, col_offset=19), [Name('exc', Load(), lineno=84, col_offset=30), Name('UnicodeEncodeError', Load(), lineno=84, col_offset=35)], [], None, None, lineno=84, col_offset=19), lineno=84, col_offset=15), [Raise(Call(Name('TypeError', Load(), lineno=85, col_offset=22), [BinOp(Str("don't know how to handle %r", lineno=85, col_offset=32), Mod(), Name('exc', Load(), lineno=85, col_offset=64), lineno=85, col_offset=32)], [], None, None, lineno=85, col_offset=22), None, None, lineno=85, col_offset=16)], [], lineno=84, col_offset=12), Assign([Name('l', Store(), lineno=86, col_offset=12)], List([], Load(), lineno=86, col_offset=16), lineno=86, col_offset=12), For(Name('c', Store(), lineno=87, col_offset=16), Subscript(Attribute(Name('exc', Load(), lineno=87, col_offset=21), 'object', Load(), lineno=87, col_offset=21), Slice(Attribute(Name('exc', Load(), lineno=87, col_offset=32), 'start', Load(), lineno=87, col_offset=32), Attribute(Name('exc', Load(), lineno=87, col_offset=42), 'end', Load(), lineno=87, col_offset=42), None), Load(), lineno=87, col_offset=21), [TryExcept([Expr(Call(Attribute(Name('l', Load(), lineno=89, col_offset=20), 'append', Load(), lineno=89, col_offset=20), [BinOp(Str(u'&%s;', lineno=89, col_offset=29), Mod(), Subscript(Attribute(Name('htmlentitydefs', Load(), lineno=89, col_offset=39), 'codepoint2name', Load(), lineno=89, col_offset=39), Index(Call(Name('ord', Load(), lineno=89, col_offset=69), [Name('c', Load(), lineno=89, col_offset=73)], [], None, None, lineno=89, col_offset=69)), Load(), lineno=89, col_offset=39), lineno=89, col_offset=29)], [], None, None, lineno=89, col_offset=20), lineno=89, col_offset=20)], [ExceptHandler(Name('KeyError', Load(), lineno=90, col_offset=23), None, [Expr(Call(Attribute(Name('l', Load(), lineno=91, col_offset=20), 'append', Load(), lineno=91, col_offset=20), [BinOp(Str(u'&#%d;', lineno=91, col_offset=29), Mod(), Call(Name('ord', Load(), lineno=91, col_offset=40), [Name('c', Load(), lineno=91, col_offset=44)], [], None, None, lineno=91, col_offset=40), lineno=91, col_offset=29)], [], None, None, lineno=91, col_offset=20), lineno=91, col_offset=20)], lineno=90, col_offset=16)], [], lineno=88, col_offset=16)], [], lineno=87, col_offset=12), Return(Tuple([Call(Attribute(Str(u'', lineno=92, col_offset=20), 'join', Load(), lineno=92, col_offset=20), [Name('l', Load(), lineno=92, col_offset=29)], [], None, None, lineno=92, col_offset=20), Attribute(Name('exc', Load(), lineno=92, col_offset=33), 'end', Load(), lineno=92, col_offset=33)], Load(), lineno=92, col_offset=20), lineno=92, col_offset=12)], [], lineno=83, col_offset=8), Expr(Call(Attribute(Name('codecs', Load(), lineno=94, col_offset=8), 'register_error', Load(), lineno=94, col_offset=8), [Str('test.xmlcharnamereplace', lineno=95, col_offset=12), Name('xmlcharnamereplace', Load(), lineno=95, col_offset=39)], [], None, None, lineno=94, col_offset=8), lineno=94, col_offset=8), Assign([Name('sin', Store(), lineno=97, col_offset=8)], Str(u'\xab\u211c\xbb = \u2329\u1234\u20ac\u232a', lineno=97, col_offset=14), lineno=97, col_offset=8), Assign([Name('sout', Store(), lineno=98, col_offset=8)], Str('&laquo;&real;&raquo; = &lang;&#4660;&euro;&rang;', lineno=98, col_offset=15), lineno=98, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=99, col_offset=8), 'assertEqual', Load(), lineno=99, col_offset=8), [Call(Attribute(Name('sin', Load(), lineno=99, col_offset=25), 'encode', Load(), lineno=99, col_offset=25), [Str('ascii', lineno=99, col_offset=36), Str('test.xmlcharnamereplace', lineno=99, col_offset=45)], [], None, None, lineno=99, col_offset=25), Name('sout', Load(), lineno=99, col_offset=73)], [], None, None, lineno=99, col_offset=8), lineno=99, col_offset=8), Assign([Name('sout', Store(), lineno=100, col_offset=8)], Str('\xab&real;\xbb = &lang;&#4660;&euro;&rang;', lineno=100, col_offset=15), lineno=100, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=101, col_offset=8), 'assertEqual', Load(), lineno=101, col_offset=8), [Call(Attribute(Name('sin', Load(), lineno=101, col_offset=25), 'encode', Load(), lineno=101, col_offset=25), [Str('latin-1', lineno=101, col_offset=36), Str('test.xmlcharnamereplace', lineno=101, col_offset=47)], [], None, None, lineno=101, col_offset=25), Name('sout', Load(), lineno=101, col_offset=75)], [], None, None, lineno=101, col_offset=8), lineno=101, col_offset=8), Assign([Name('sout', Store(), lineno=102, col_offset=8)], Str('\xab&real;\xbb = &lang;&#4660;\xa4&rang;', lineno=102, col_offset=15), lineno=102, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=103, col_offset=8), 'assertEqual', Load(), lineno=103, col_offset=8), [Call(Attribute(Name('sin', Load(), lineno=103, col_offset=25), 'encode', Load(), lineno=103, col_offset=25), [Str('iso-8859-15', lineno=103, col_offset=36), Str('test.xmlcharnamereplace', lineno=103, col_offset=51)], [], None, None, lineno=103, col_offset=25), Name('sout', Load(), lineno=103, col_offset=79)], [], None, None, lineno=103, col_offset=8), lineno=103, col_offset=8)], [], lineno=79, col_offset=4), FunctionDef('test_uninamereplace', arguments([Name('self', Param(), lineno=105, col_offset=28)], None, None, []), [FunctionDef('uninamereplace', arguments([Name('exc', Param(), lineno=114, col_offset=27)], None, None, []), [If(UnaryOp(Not(), Call(Name('isinstance', Load(), lineno=115, col_offset=19), [Name('exc', Load(), lineno=115, col_offset=30), Name('UnicodeEncodeError', Load(), lineno=115, col_offset=35)], [], None, None, lineno=115, col_offset=19), lineno=115, col_offset=15), [Raise(Call(Name('TypeError', Load(), lineno=116, col_offset=22), [BinOp(Str("don't know how to handle %r", lineno=116, col_offset=32), Mod(), Name('exc', Load(), lineno=116, col_offset=64), lineno=116, col_offset=32)], [], None, None, lineno=116, col_offset=22), None, None, lineno=116, col_offset=16)], [], lineno=115, col_offset=12), Assign([Name('l', Store(), lineno=117, col_offset=12)], List([], Load(), lineno=117, col_offset=16), lineno=117, col_offset=12), For(Name('c', Store(), lineno=118, col_offset=16), Subscript(Attribute(Name('exc', Load(), lineno=118, col_offset=21), 'object', Load(), lineno=118, col_offset=21), Slice(Attribute(Name('exc', Load(), lineno=118, col_offset=32), 'start', Load(), lineno=118, col_offset=32), Attribute(Name('exc', Load(), lineno=118, col_offset=42), 'end', Load(), lineno=118, col_offset=42), None), Load(), lineno=118, col_offset=21), [Expr(Call(Attribute(Name('l', Load(), lineno=119, col_offset=16), 'append', Load(), lineno=119, col_offset=16), [Call(Attribute(Name('unicodedata', Load(), lineno=119, col_offset=25), 'name', Load(), lineno=119, col_offset=25), [Name('c', Load(), lineno=119, col_offset=42), BinOp(Str(u'0x%x', lineno=119, col_offset=45), Mod(), Call(Name('ord', Load(), lineno=119, col_offset=55), [Name('c', Load(), lineno=119, col_offset=59)], [], None, None, lineno=119, col_offset=55), lineno=119, col_offset=45)], [], None, None, lineno=119, col_offset=25)], [], None, None, lineno=119, col_offset=16), lineno=119, col_offset=16)], [], lineno=118, col_offset=12), Return(Tuple([BinOp(Str(u'\x1b[1m%s\x1b[0m', lineno=120, col_offset=20), Mod(), Call(Attribute(Str(u', ', lineno=120, col_offset=42), 'join', Load(), lineno=120, col_offset=42), [Name('l', Load(), lineno=120, col_offset=53)], [], None, None, lineno=120, col_offset=42), lineno=120, col_offset=20), Attribute(Name('exc', Load(), lineno=120, col_offset=57), 'end', Load(), lineno=120, col_offset=57)], Load(), lineno=120, col_offset=20), lineno=120, col_offset=12)], [], lineno=114, col_offset=8), Expr(Call(Attribute(Name('codecs', Load(), lineno=122, col_offset=8), 'register_error', Load(), lineno=122, col_offset=8), [Str('test.uninamereplace', lineno=123, col_offset=12), Name('uninamereplace', Load(), lineno=123, col_offset=35)], [], None, None, lineno=122, col_offset=8), lineno=122, col_offset=8), Assign([Name('sin', Store(), lineno=125, col_offset=8)], Str(u'\xac\u1234\u20ac\u8000', lineno=125, col_offset=14), lineno=125, col_offset=8), Assign([Name('sout', Store(), lineno=126, col_offset=8)], Str('\x1b[1mNOT SIGN, ETHIOPIC SYLLABLE SEE, EURO SIGN, CJK UNIFIED IDEOGRAPH-8000\x1b[0m', lineno=126, col_offset=15), lineno=126, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=127, col_offset=8), 'assertEqual', Load(), lineno=127, col_offset=8), [Call(Attribute(Name('sin', Load(), lineno=127, col_offset=25), 'encode', Load(), lineno=127, col_offset=25), [Str('ascii', lineno=127, col_offset=36), Str('test.uninamereplace', lineno=127, col_offset=45)], [], None, None, lineno=127, col_offset=25), Name('sout', Load(), lineno=127, col_offset=69)], [], None, None, lineno=127, col_offset=8), lineno=127, col_offset=8), Assign([Name('sout', Store(), lineno=129, col_offset=8)], Str('\xac\x1b[1mETHIOPIC SYLLABLE SEE, EURO SIGN, CJK UNIFIED IDEOGRAPH-8000\x1b[0m', lineno=129, col_offset=15), lineno=129, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=130, col_offset=8), 'assertEqual', Load(), lineno=130, col_offset=8), [Call(Attribute(Name('sin', Load(), lineno=130, col_offset=25), 'encode', Load(), lineno=130, col_offset=25), [Str('latin-1', lineno=130, col_offset=36), Str('test.uninamereplace', lineno=130, col_offset=47)], [], None, None, lineno=130, col_offset=25), Name('sout', Load(), lineno=130, col_offset=71)], [], None, None, lineno=130, col_offset=8), lineno=130, col_offset=8), Assign([Name('sout', Store(), lineno=132, col_offset=8)], Str('\xac\x1b[1mETHIOPIC SYLLABLE SEE\x1b[0m\xa4\x1b[1mCJK UNIFIED IDEOGRAPH-8000\x1b[0m', lineno=132, col_offset=15), lineno=132, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=133, col_offset=8), 'assertEqual', Load(), lineno=133, col_offset=8), [Call(Attribute(Name('sin', Load(), lineno=133, col_offset=25), 'encode', Load(), lineno=133, col_offset=25), [Str('iso-8859-15', lineno=133, col_offset=36), Str('test.uninamereplace', lineno=133, col_offset=51)], [], None, None, lineno=133, col_offset=25), Name('sout', Load(), lineno=133, col_offset=75)], [], None, None, lineno=133, col_offset=8), lineno=133, col_offset=8)], [], lineno=105, col_offset=4), FunctionDef('test_backslashescape', arguments([Name('self', Param(), lineno=135, col_offset=29)], None, None, []), [Assign([Name('sin', Store(), lineno=138, col_offset=8)], Str(u'a\xac\u1234\u20ac\u8000', lineno=138, col_offset=14), lineno=138, col_offset=8), If(Compare(Attribute(Name('sys', Load(), lineno=139, col_offset=11), 'maxunicode', Load(), lineno=139, col_offset=11), [Gt()], [Num(65535, lineno=139, col_offset=28)], lineno=139, col_offset=11), [AugAssign(Name('sin', Store(), lineno=140, col_offset=12), Add(), Call(Name('unichr', Load(), lineno=140, col_offset=19), [Attribute(Name('sys', Load(), lineno=140, col_offset=26), 'maxunicode', Load(), lineno=140, col_offset=26)], [], None, None, lineno=140, col_offset=19), lineno=140, col_offset=12)], [], lineno=139, col_offset=8), Assign([Name('sout', Store(), lineno=141, col_offset=8)], Str('a\\xac\\u1234\\u20ac\\u8000', lineno=141, col_offset=15), lineno=141, col_offset=8), If(Compare(Attribute(Name('sys', Load(), lineno=142, col_offset=11), 'maxunicode', Load(), lineno=142, col_offset=11), [Gt()], [Num(65535, lineno=142, col_offset=28)], lineno=142, col_offset=11), [AugAssign(Name('sout', Store(), lineno=143, col_offset=12), Add(), BinOp(Str('\\U%08x', lineno=143, col_offset=20), Mod(), Attribute(Name('sys', Load(), lineno=143, col_offset=32), 'maxunicode', Load(), lineno=143, col_offset=32), lineno=143, col_offset=20), lineno=143, col_offset=12)], [], lineno=142, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=144, col_offset=8), 'assertEqual', Load(), lineno=144, col_offset=8), [Call(Attribute(Name('sin', Load(), lineno=144, col_offset=25), 'encode', Load(), lineno=144, col_offset=25), [Str('ascii', lineno=144, col_offset=36), Str('backslashreplace', lineno=144, col_offset=45)], [], None, None, lineno=144, col_offset=25), Name('sout', Load(), lineno=144, col_offset=66)], [], None, None, lineno=144, col_offset=8), lineno=144, col_offset=8), Assign([Name('sout', Store(), lineno=146, col_offset=8)], Str('a\xac\\u1234\\u20ac\\u8000', lineno=146, col_offset=15), lineno=146, col_offset=8), If(Compare(Attribute(Name('sys', Load(), lineno=147, col_offset=11), 'maxunicode', Load(), lineno=147, col_offset=11), [Gt()], [Num(65535, lineno=147, col_offset=28)], lineno=147, col_offset=11), [AugAssign(Name('sout', Store(), lineno=148, col_offset=12), Add(), BinOp(Str('\\U%08x', lineno=148, col_offset=20), Mod(), Attribute(Name('sys', Load(), lineno=148, col_offset=32), 'maxunicode', Load(), lineno=148, col_offset=32), lineno=148, col_offset=20), lineno=148, col_offset=12)], [], lineno=147, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=149, col_offset=8), 'assertEqual', Load(), lineno=149, col_offset=8), [Call(Attribute(Name('sin', Load(), lineno=149, col_offset=25), 'encode', Load(), lineno=149, col_offset=25), [Str('latin-1', lineno=149, col_offset=36), Str('backslashreplace', lineno=149, col_offset=47)], [], None, None, lineno=149, col_offset=25), Name('sout', Load(), lineno=149, col_offset=68)], [], None, None, lineno=149, col_offset=8), lineno=149, col_offset=8), Assign([Name('sout', Store(), lineno=151, col_offset=8)], Str('a\xac\\u1234\xa4\\u8000', lineno=151, col_offset=15), lineno=151, col_offset=8), If(Compare(Attribute(Name('sys', Load(), lineno=152, col_offset=11), 'maxunicode', Load(), lineno=152, col_offset=11), [Gt()], [Num(65535, lineno=152, col_offset=28)], lineno=152, col_offset=11), [AugAssign(Name('sout', Store(), lineno=153, col_offset=12), Add(), BinOp(Str('\\U%08x', lineno=153, col_offset=20), Mod(), Attribute(Name('sys', Load(), lineno=153, col_offset=32), 'maxunicode', Load(), lineno=153, col_offset=32), lineno=153, col_offset=20), lineno=153, col_offset=12)], [], lineno=152, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=154, col_offset=8), 'assertEqual', Load(), lineno=154, col_offset=8), [Call(Attribute(Name('sin', Load(), lineno=154, col_offset=25), 'encode', Load(), lineno=154, col_offset=25), [Str('iso-8859-15', lineno=154, col_offset=36), Str('backslashreplace', lineno=154, col_offset=51)], [], None, None, lineno=154, col_offset=25), Name('sout', Load(), lineno=154, col_offset=72)], [], None, None, lineno=154, col_offset=8), lineno=154, col_offset=8)], [], lineno=135, col_offset=4), FunctionDef('test_decoding_callbacks', arguments([Name('self', Param(), lineno=156, col_offset=32)], None, None, []), [FunctionDef('relaxedutf8', arguments([Name('exc', Param(), lineno=161, col_offset=24)], None, None, []), [If(UnaryOp(Not(), Call(Name('isinstance', Load(), lineno=162, col_offset=19), [Name('exc', Load(), lineno=162, col_offset=30), Name('UnicodeDecodeError', Load(), lineno=162, col_offset=35)], [], None, None, lineno=162, col_offset=19), lineno=162, col_offset=15), [Raise(Call(Name('TypeError', Load(), lineno=163, col_offset=22), [BinOp(Str("don't know how to handle %r", lineno=163, col_offset=32), Mod(), Name('exc', Load(), lineno=163, col_offset=64), lineno=163, col_offset=32)], [], None, None, lineno=163, col_offset=22), None, None, lineno=163, col_offset=16)], [], lineno=162, col_offset=12), If(Compare(Subscript(Attribute(Name('exc', Load(), lineno=164, col_offset=15), 'object', Load(), lineno=164, col_offset=15), Slice(Attribute(Name('exc', Load(), lineno=164, col_offset=26), 'start', Load(), lineno=164, col_offset=26), BinOp(Attribute(Name('exc', Load(), lineno=164, col_offset=36), 'start', Load(), lineno=164, col_offset=36), Add(), Num(2, lineno=164, col_offset=46), lineno=164, col_offset=36), None), Load(), lineno=164, col_offset=15), [Eq()], [Str('\xc0\x80', lineno=164, col_offset=52)], lineno=164, col_offset=15), [Return(Tuple([Str(u'\x00', lineno=165, col_offset=24), BinOp(Attribute(Name('exc', Load(), lineno=165, col_offset=33), 'start', Load(), lineno=165, col_offset=33), Add(), Num(2, lineno=165, col_offset=43), lineno=165, col_offset=33)], Load(), lineno=165, col_offset=24), lineno=165, col_offset=16)], [Raise(Name('exc', Load(), lineno=167, col_offset=22), None, None, lineno=167, col_offset=16)], lineno=164, col_offset=12)], [], lineno=161, col_offset=8), Expr(Call(Attribute(Name('codecs', Load(), lineno=169, col_offset=8), 'register_error', Load(), lineno=169, col_offset=8), [Str('test.relaxedutf8', lineno=169, col_offset=30), Name('relaxedutf8', Load(), lineno=169, col_offset=50)], [], None, None, lineno=169, col_offset=8), lineno=169, col_offset=8), Assign([Name('sin', Store(), lineno=172, col_offset=8)], Str('a\x00b\xc0\x80c\xc3\xbc\xc0\x80\xc0\x80', lineno=172, col_offset=14), lineno=172, col_offset=8), Assign([Name('sout', Store(), lineno=173, col_offset=8)], Str(u'a\x00b\x00c\xfc\x00\x00', lineno=173, col_offset=15), lineno=173, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=174, col_offset=8), 'assertEqual', Load(), lineno=174, col_offset=8), [Call(Attribute(Name('sin', Load(), lineno=174, col_offset=25), 'decode', Load(), lineno=174, col_offset=25), [Str('utf-8', lineno=174, col_offset=36), Str('test.relaxedutf8', lineno=174, col_offset=45)], [], None, None, lineno=174, col_offset=25), Name('sout', Load(), lineno=174, col_offset=66)], [], None, None, lineno=174, col_offset=8), lineno=174, col_offset=8), Assign([Name('sin', Store(), lineno=177, col_offset=8)], Str('\xc0\x80\xc0\x81', lineno=177, col_offset=14), lineno=177, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=178, col_offset=8), 'assertRaises', Load(), lineno=178, col_offset=8), [Name('UnicodeDecodeError', Load(), lineno=178, col_offset=26), Attribute(Name('sin', Load(), lineno=178, col_offset=46), 'decode', Load(), lineno=178, col_offset=46), Str('utf-8', lineno=179, col_offset=26), Str('test.relaxedutf8', lineno=179, col_offset=35)], [], None, None, lineno=178, col_offset=8), lineno=178, col_offset=8)], [], lineno=156, col_offset=4), FunctionDef('test_charmapencode', arguments([Name('self', Param(), lineno=181, col_offset=27)], None, None, []), [Assign([Name('charmap', Store(), lineno=186, col_offset=8)], Call(Name('dict', Load(), lineno=186, col_offset=18), [ListComp(Tuple([Call(Name('ord', Load(), lineno=186, col_offset=26), [Name('c', Load(), lineno=186, col_offset=30)], [], None, None, lineno=186, col_offset=26), BinOp(Num(2, lineno=186, col_offset=34), Mult(), Call(Attribute(Name('c', Load(), lineno=186, col_offset=36), 'upper', Load(), lineno=186, col_offset=36), [], [], None, None, lineno=186, col_offset=36), lineno=186, col_offset=34)], Load(), lineno=186, col_offset=26), [comprehension(Name('c', Store(), lineno=186, col_offset=51), Str('abcdefgh', lineno=186, col_offset=56), [])], lineno=186, col_offset=25)], [], None, None, lineno=186, col_offset=18), lineno=186, col_offset=8), Assign([Name('sin', Store(), lineno=187, col_offset=8)], Str(u'abc', lineno=187, col_offset=14), lineno=187, col_offset=8), Assign([Name('sout', Store(), lineno=188, col_offset=8)], Str('AABBCC', lineno=188, col_offset=15), lineno=188, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=189, col_offset=8), 'assertEqual', Load(), lineno=189, col_offset=8), [Subscript(Call(Attribute(Name('codecs', Load(), lineno=189, col_offset=25), 'charmap_encode', Load(), lineno=189, col_offset=25), [Name('sin', Load(), lineno=189, col_offset=47), Str('strict', lineno=189, col_offset=52), Name('charmap', Load(), lineno=189, col_offset=62)], [], None, None, lineno=189, col_offset=25), Index(Num(0, lineno=189, col_offset=71)), Load(), lineno=189, col_offset=25), Name('sout', Load(), lineno=189, col_offset=75)], [], None, None, lineno=189, col_offset=8), lineno=189, col_offset=8), Assign([Name('sin', Store(), lineno=191, col_offset=8)], Str(u'abcA', lineno=191, col_offset=14), lineno=191, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=192, col_offset=8), 'assertRaises', Load(), lineno=192, col_offset=8), [Name('UnicodeError', Load(), lineno=192, col_offset=26), Attribute(Name('codecs', Load(), lineno=192, col_offset=40), 'charmap_encode', Load(), lineno=192, col_offset=40), Name('sin', Load(), lineno=192, col_offset=63), Str('strict', lineno=192, col_offset=68), Name('charmap', Load(), lineno=192, col_offset=78)], [], None, None, lineno=192, col_offset=8), lineno=192, col_offset=8), Assign([Subscript(Name('charmap', Load(), lineno=194, col_offset=8), Index(Call(Name('ord', Load(), lineno=194, col_offset=16), [Str('?', lineno=194, col_offset=20)], [], None, None, lineno=194, col_offset=16)), Store(), lineno=194, col_offset=8)], Str('XYZ', lineno=194, col_offset=28), lineno=194, col_offset=8), Assign([Name('sin', Store(), lineno=195, col_offset=8)], Str(u'abcDEF', lineno=195, col_offset=14), lineno=195, col_offset=8), Assign([Name('sout', Store(), lineno=196, col_offset=8)], Str('AABBCCXYZXYZXYZ', lineno=196, col_offset=15), lineno=196, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=197, col_offset=8), 'assertEqual', Load(), lineno=197, col_offset=8), [Subscript(Call(Attribute(Name('codecs', Load(), lineno=197, col_offset=25), 'charmap_encode', Load(), lineno=197, col_offset=25), [Name('sin', Load(), lineno=197, col_offset=47), Str('replace', lineno=197, col_offset=52), Name('charmap', Load(), lineno=197, col_offset=63)], [], None, None, lineno=197, col_offset=25), Index(Num(0, lineno=197, col_offset=72)), Load(), lineno=197, col_offset=25), Name('sout', Load(), lineno=197, col_offset=76)], [], None, None, lineno=197, col_offset=8), lineno=197, col_offset=8), Assign([Subscript(Name('charmap', Load(), lineno=199, col_offset=8), Index(Call(Name('ord', Load(), lineno=199, col_offset=16), [Str('?', lineno=199, col_offset=20)], [], None, None, lineno=199, col_offset=16)), Store(), lineno=199, col_offset=8)], Str(u'XYZ', lineno=199, col_offset=28), lineno=199, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=200, col_offset=8), 'assertRaises', Load(), lineno=200, col_offset=8), [Name('TypeError', Load(), lineno=200, col_offset=26), Attribute(Name('codecs', Load(), lineno=200, col_offset=37), 'charmap_encode', Load(), lineno=200, col_offset=37), Name('sin', Load(), lineno=200, col_offset=60), Str('replace', lineno=200, col_offset=65), Name('charmap', Load(), lineno=200, col_offset=76)], [], None, None, lineno=200, col_offset=8), lineno=200, col_offset=8), Assign([Subscript(Name('charmap', Load(), lineno=202, col_offset=8), Index(Call(Name('ord', Load(), lineno=202, col_offset=16), [Str('?', lineno=202, col_offset=20)], [], None, None, lineno=202, col_offset=16)), Store(), lineno=202, col_offset=8)], Str(u'XYZ', lineno=202, col_offset=28), lineno=202, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=203, col_offset=8), 'assertRaises', Load(), lineno=203, col_offset=8), [Name('TypeError', Load(), lineno=203, col_offset=26), Attribute(Name('codecs', Load(), lineno=203, col_offset=37), 'charmap_encode', Load(), lineno=203, col_offset=37), Name('sin', Load(), lineno=203, col_offset=60), Str('replace', lineno=203, col_offset=65), Name('charmap', Load(), lineno=203, col_offset=76)], [], None, None, lineno=203, col_offset=8), lineno=203, col_offset=8)], [], lineno=181, col_offset=4), FunctionDef('test_decodeunicodeinternal', arguments([Name('self', Param(), lineno=205, col_offset=35)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=206, col_offset=8), 'assertRaises', Load(), lineno=206, col_offset=8), [Name('UnicodeDecodeError', Load(), lineno=207, col_offset=12), Attribute(Str('\x00\x00\x00\x00\x00', lineno=208, col_offset=12), 'decode', Load(), lineno=208, col_offset=12), Str('unicode-internal', lineno=209, col_offset=12)], [], None, None, lineno=206, col_offset=8), lineno=206, col_offset=8), If(Compare(Attribute(Name('sys', Load(), lineno=211, col_offset=11), 'maxunicode', Load(), lineno=211, col_offset=11), [Gt()], [Num(65535, lineno=211, col_offset=28)], lineno=211, col_offset=11), [FunctionDef('handler_unicodeinternal', arguments([Name('exc', Param(), lineno=212, col_offset=40)], None, None, []), [If(UnaryOp(Not(), Call(Name('isinstance', Load(), lineno=213, col_offset=23), [Name('exc', Load(), lineno=213, col_offset=34), Name('UnicodeDecodeError', Load(), lineno=213, col_offset=39)], [], None, None, lineno=213, col_offset=23), lineno=213, col_offset=19), [Raise(Call(Name('TypeError', Load(), lineno=214, col_offset=26), [BinOp(Str("don't know how to handle %r", lineno=214, col_offset=36), Mod(), Name('exc', Load(), lineno=214, col_offset=68), lineno=214, col_offset=36)], [], None, None, lineno=214, col_offset=26), None, None, lineno=214, col_offset=20)], [], lineno=213, col_offset=16), Return(Tuple([Str(u'\x01', lineno=215, col_offset=24), Num(1, lineno=215, col_offset=33)], Load(), lineno=215, col_offset=24), lineno=215, col_offset=16)], [], lineno=212, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=217, col_offset=12), 'assertEqual', Load(), lineno=217, col_offset=12), [Call(Attribute(Str('\x00\x00\x00\x00\x00', lineno=218, col_offset=16), 'decode', Load(), lineno=218, col_offset=16), [Str('unicode-internal', lineno=218, col_offset=46), Str('ignore', lineno=218, col_offset=66)], [], None, None, lineno=218, col_offset=16), Str(u'\x00', lineno=219, col_offset=16)], [], None, None, lineno=217, col_offset=12), lineno=217, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=222, col_offset=12), 'assertEqual', Load(), lineno=222, col_offset=12), [Call(Attribute(Str('\x00\x00\x00\x00\x00', lineno=223, col_offset=16), 'decode', Load(), lineno=223, col_offset=16), [Str('unicode-internal', lineno=223, col_offset=46), Str('replace', lineno=223, col_offset=66)], [], None, None, lineno=223, col_offset=16), Str(u'\x00\ufffd', lineno=224, col_offset=16)], [], None, None, lineno=222, col_offset=12), lineno=222, col_offset=12), Expr(Call(Attribute(Name('codecs', Load(), lineno=227, col_offset=12), 'register_error', Load(), lineno=227, col_offset=12), [Str('test.hui', lineno=227, col_offset=34), Name('handler_unicodeinternal', Load(), lineno=227, col_offset=46)], [], None, None, lineno=227, col_offset=12), lineno=227, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=229, col_offset=12), 'assertEqual', Load(), lineno=229, col_offset=12), [Call(Attribute(Str('\x00\x00\x00\x00\x00', lineno=230, col_offset=16), 'decode', Load(), lineno=230, col_offset=16), [Str('unicode-internal', lineno=230, col_offset=46), Str('test.hui', lineno=230, col_offset=66)], [], None, None, lineno=230, col_offset=16), Str(u'\x00\x01\x00', lineno=231, col_offset=16)], [], None, None, lineno=229, col_offset=12), lineno=229, col_offset=12)], [], lineno=211, col_offset=8)], [], lineno=205, col_offset=4), FunctionDef('test_callbacks', arguments([Name('self', Param(), lineno=234, col_offset=23)], None, None, []), [FunctionDef('handler1', arguments([Name('exc', Param(), lineno=235, col_offset=21)], None, None, []), [If(BoolOp(And(), [UnaryOp(Not(), Call(Name('isinstance', Load(), lineno=236, col_offset=19), [Name('exc', Load(), lineno=236, col_offset=30), Name('UnicodeEncodeError', Load(), lineno=236, col_offset=35)], [], None, None, lineno=236, col_offset=19), lineno=236, col_offset=15), UnaryOp(Not(), Call(Name('isinstance', Load(), lineno=237, col_offset=23), [Name('exc', Load(), lineno=237, col_offset=34), Name('UnicodeDecodeError', Load(), lineno=237, col_offset=39)], [], None, None, lineno=237, col_offset=23), lineno=237, col_offset=19)], lineno=236, col_offset=15), [Raise(Call(Name('TypeError', Load(), lineno=238, col_offset=22), [BinOp(Str("don't know how to handle %r", lineno=238, col_offset=32), Mod(), Name('exc', Load(), lineno=238, col_offset=64), lineno=238, col_offset=32)], [], None, None, lineno=238, col_offset=22), None, None, lineno=238, col_offset=16)], [], lineno=236, col_offset=12), Assign([Name('l', Store(), lineno=239, col_offset=12)], ListComp(BinOp(Str(u'<%d>', lineno=239, col_offset=17), Mod(), Call(Name('ord', Load(), lineno=239, col_offset=27), [Subscript(Attribute(Name('exc', Load(), lineno=239, col_offset=31), 'object', Load(), lineno=239, col_offset=31), Index(Name('pos', Load(), lineno=239, col_offset=42)), Load(), lineno=239, col_offset=31)], [], None, None, lineno=239, col_offset=27), lineno=239, col_offset=17), [comprehension(Name('pos', Store(), lineno=239, col_offset=52), Call(Name('xrange', Load(), lineno=239, col_offset=59), [Attribute(Name('exc', Load(), lineno=239, col_offset=66), 'start', Load(), lineno=239, col_offset=66), Attribute(Name('exc', Load(), lineno=239, col_offset=77), 'end', Load(), lineno=239, col_offset=77)], [], None, None, lineno=239, col_offset=59), [])], lineno=239, col_offset=17), lineno=239, col_offset=12), Return(Tuple([BinOp(Str(u'[%s]', lineno=240, col_offset=20), Mod(), Call(Attribute(Str(u'', lineno=240, col_offset=30), 'join', Load(), lineno=240, col_offset=30), [Name('l', Load(), lineno=240, col_offset=39)], [], None, None, lineno=240, col_offset=30), lineno=240, col_offset=20), Attribute(Name('exc', Load(), lineno=240, col_offset=43), 'end', Load(), lineno=240, col_offset=43)], Load(), lineno=240, col_offset=20), lineno=240, col_offset=12)], [], lineno=235, col_offset=8), Expr(Call(Attribute(Name('codecs', Load(), lineno=242, col_offset=8), 'register_error', Load(), lineno=242, col_offset=8), [Str('test.handler1', lineno=242, col_offset=30), Name('handler1', Load(), lineno=242, col_offset=47)], [], None, None, lineno=242, col_offset=8), lineno=242, col_offset=8), FunctionDef('handler2', arguments([Name('exc', Param(), lineno=244, col_offset=21)], None, None, []), [If(UnaryOp(Not(), Call(Name('isinstance', Load(), lineno=245, col_offset=19), [Name('exc', Load(), lineno=245, col_offset=30), Name('UnicodeDecodeError', Load(), lineno=245, col_offset=35)], [], None, None, lineno=245, col_offset=19), lineno=245, col_offset=15), [Raise(Call(Name('TypeError', Load(), lineno=246, col_offset=22), [BinOp(Str("don't know how to handle %r", lineno=246, col_offset=32), Mod(), Name('exc', Load(), lineno=246, col_offset=64), lineno=246, col_offset=32)], [], None, None, lineno=246, col_offset=22), None, None, lineno=246, col_offset=16)], [], lineno=245, col_offset=12), Assign([Name('l', Store(), lineno=247, col_offset=12)], ListComp(BinOp(Str(u'<%d>', lineno=247, col_offset=17), Mod(), Call(Name('ord', Load(), lineno=247, col_offset=27), [Subscript(Attribute(Name('exc', Load(), lineno=247, col_offset=31), 'object', Load(), lineno=247, col_offset=31), Index(Name('pos', Load(), lineno=247, col_offset=42)), Load(), lineno=247, col_offset=31)], [], None, None, lineno=247, col_offset=27), lineno=247, col_offset=17), [comprehension(Name('pos', Store(), lineno=247, col_offset=52), Call(Name('xrange', Load(), lineno=247, col_offset=59), [Attribute(Name('exc', Load(), lineno=247, col_offset=66), 'start', Load(), lineno=247, col_offset=66), Attribute(Name('exc', Load(), lineno=247, col_offset=77), 'end', Load(), lineno=247, col_offset=77)], [], None, None, lineno=247, col_offset=59), [])], lineno=247, col_offset=17), lineno=247, col_offset=12), Return(Tuple([BinOp(Str(u'[%s]', lineno=248, col_offset=20), Mod(), Call(Attribute(Str(u'', lineno=248, col_offset=30), 'join', Load(), lineno=248, col_offset=30), [Name('l', Load(), lineno=248, col_offset=39)], [], None, None, lineno=248, col_offset=30), lineno=248, col_offset=20), BinOp(Attribute(Name('exc', Load(), lineno=248, col_offset=43), 'end', Load(), lineno=248, col_offset=43), Add(), Num(1, lineno=248, col_offset=51), lineno=248, col_offset=43)], Load(), lineno=248, col_offset=20), lineno=248, col_offset=12)], [], lineno=244, col_offset=8), Expr(Call(Attribute(Name('codecs', Load(), lineno=250, col_offset=8), 'register_error', Load(), lineno=250, col_offset=8), [Str('test.handler2', lineno=250, col_offset=30), Name('handler2', Load(), lineno=250, col_offset=47)], [], None, None, lineno=250, col_offset=8), lineno=250, col_offset=8), Assign([Name('s', Store(), lineno=252, col_offset=8)], Str('\x00\x81\x7f\x80\xff', lineno=252, col_offset=12), lineno=252, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=254, col_offset=8), 'assertEqual', Load(), lineno=254, col_offset=8), [Call(Attribute(Name('s', Load(), lineno=255, col_offset=12), 'decode', Load(), lineno=255, col_offset=12), [Str('ascii', lineno=255, col_offset=21), Str('test.handler1', lineno=255, col_offset=30)], [], None, None, lineno=255, col_offset=12), Str(u'\x00[<129>]\x7f[<128>][<255>]', lineno=256, col_offset=12)], [], None, None, lineno=254, col_offset=8), lineno=254, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=258, col_offset=8), 'assertEqual', Load(), lineno=258, col_offset=8), [Call(Attribute(Name('s', Load(), lineno=259, col_offset=12), 'decode', Load(), lineno=259, col_offset=12), [Str('ascii', lineno=259, col_offset=21), Str('test.handler2', lineno=259, col_offset=30)], [], None, None, lineno=259, col_offset=12), Str(u'\x00[<129>][<128>]', lineno=260, col_offset=12)], [], None, None, lineno=258, col_offset=8), lineno=258, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=263, col_offset=8), 'assertEqual', Load(), lineno=263, col_offset=8), [Call(Attribute(Str('\\u3042\\u3xxx', lineno=264, col_offset=12), 'decode', Load(), lineno=264, col_offset=12), [Str('unicode-escape', lineno=264, col_offset=35), Str('test.handler1', lineno=264, col_offset=53)], [], None, None, lineno=264, col_offset=12), Str(u'\u3042[<92><117><51><120>]xx', lineno=265, col_offset=12)], [], None, None, lineno=263, col_offset=8), lineno=263, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=268, col_offset=8), 'assertEqual', Load(), lineno=268, col_offset=8), [Call(Attribute(Str('\\u3042\\u3xx', lineno=269, col_offset=12), 'decode', Load(), lineno=269, col_offset=12), [Str('unicode-escape', lineno=269, col_offset=34), Str('test.handler1', lineno=269, col_offset=52)], [], None, None, lineno=269, col_offset=12), Str(u'\u3042[<92><117><51><120><120>]', lineno=270, col_offset=12)], [], None, None, lineno=268, col_offset=8), lineno=268, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=273, col_offset=8), 'assertEqual', Load(), lineno=273, col_offset=8), [Subscript(Call(Attribute(Name('codecs', Load(), lineno=274, col_offset=12), 'charmap_decode', Load(), lineno=274, col_offset=12), [Str('abc', lineno=274, col_offset=34), Str('test.handler1', lineno=274, col_offset=41), Dict([Call(Name('ord', Load(), lineno=274, col_offset=59), [Str('a', lineno=274, col_offset=63)], [], None, None, lineno=274, col_offset=59)], [Str(u'z', lineno=274, col_offset=69)], lineno=274, col_offset=58)], [], None, None, lineno=274, col_offset=12), Index(Num(0, lineno=274, col_offset=76)), Load(), lineno=274, col_offset=12), Str(u'z[<98>][<99>]', lineno=275, col_offset=12)], [], None, None, lineno=273, col_offset=8), lineno=273, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=278, col_offset=8), 'assertEqual', Load(), lineno=278, col_offset=8), [Call(Attribute(Str(u'g\xfc\xdfrk', lineno=279, col_offset=12), 'encode', Load(), lineno=279, col_offset=12), [Str('ascii', lineno=279, col_offset=34), Str('test.handler1', lineno=279, col_offset=43)], [], None, None, lineno=279, col_offset=12), Str(u'g[<252><223>]rk', lineno=280, col_offset=12)], [], None, None, lineno=278, col_offset=8), lineno=278, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=283, col_offset=8), 'assertEqual', Load(), lineno=283, col_offset=8), [Call(Attribute(Str(u'g\xfc\xdf', lineno=284, col_offset=12), 'encode', Load(), lineno=284, col_offset=12), [Str('ascii', lineno=284, col_offset=32), Str('test.handler1', lineno=284, col_offset=41)], [], None, None, lineno=284, col_offset=12), Str(u'g[<252><223>]', lineno=285, col_offset=12)], [], None, None, lineno=283, col_offset=8), lineno=283, col_offset=8)], [], lineno=234, col_offset=4), FunctionDef('test_longstrings', arguments([Name('self', Param(), lineno=288, col_offset=25)], None, None, []), [Assign([Name('errors', Store(), lineno=290, col_offset=8)], List([Str('strict', lineno=290, col_offset=19), Str('ignore', lineno=290, col_offset=29), Str('replace', lineno=290, col_offset=39), Str('xmlcharrefreplace', lineno=290, col_offset=50), Str('backslashreplace', lineno=291, col_offset=19)], Load(), lineno=290, col_offset=17), lineno=290, col_offset=8), For(Name('err', Store(), lineno=294, col_offset=12), Name('errors', Load(), lineno=294, col_offset=19), [Expr(Call(Attribute(Name('codecs', Load(), lineno=295, col_offset=12), 'register_error', Load(), lineno=295, col_offset=12), [BinOp(Str('test.', lineno=295, col_offset=34), Add(), Name('err', Load(), lineno=295, col_offset=44), lineno=295, col_offset=34), Call(Attribute(Name('codecs', Load(), lineno=295, col_offset=49), 'lookup_error', Load(), lineno=295, col_offset=49), [Name('err', Load(), lineno=295, col_offset=69)], [], None, None, lineno=295, col_offset=49)], [], None, None, lineno=295, col_offset=12), lineno=295, col_offset=12)], [], lineno=294, col_offset=8), Assign([Name('l', Store(), lineno=296, col_offset=8)], Num(1000, lineno=296, col_offset=12), lineno=296, col_offset=8), AugAssign(Name('errors', Store(), lineno=297, col_offset=8), Add(), ListComp(BinOp(Str('test.', lineno=297, col_offset=20), Add(), Name('err', Load(), lineno=297, col_offset=30), lineno=297, col_offset=20), [comprehension(Name('err', Store(), lineno=297, col_offset=38), Name('errors', Load(), lineno=297, col_offset=45), [])], lineno=297, col_offset=20), lineno=297, col_offset=8), For(Name('uni', Store(), lineno=298, col_offset=12), ListComp(BinOp(Name('s', Load(), lineno=298, col_offset=21), Mult(), Name('l', Load(), lineno=298, col_offset=23), lineno=298, col_offset=21), [comprehension(Name('s', Store(), lineno=298, col_offset=29), Tuple([Str(u'x', lineno=298, col_offset=35), Str(u'\u3042', lineno=298, col_offset=41), Str(u'a\xe4', lineno=298, col_offset=52)], Load(), lineno=298, col_offset=35), [])], lineno=298, col_offset=21), [For(Name('enc', Store(), lineno=299, col_offset=16), Tuple([Str('ascii', lineno=299, col_offset=24), Str('latin-1', lineno=299, col_offset=33), Str('iso-8859-1', lineno=299, col_offset=44), Str('iso-8859-15', lineno=299, col_offset=58), Str('utf-8', lineno=300, col_offset=24), Str('utf-7', lineno=300, col_offset=33), Str('utf-16', lineno=300, col_offset=42), Str('utf-32', lineno=300, col_offset=52)], Load(), lineno=299, col_offset=24), [For(Name('err', Store(), lineno=301, col_offset=20), Name('errors', Load(), lineno=301, col_offset=27), [TryExcept([Expr(Call(Attribute(Name('uni', Load(), lineno=303, col_offset=24), 'encode', Load(), lineno=303, col_offset=24), [Name('enc', Load(), lineno=303, col_offset=35), Name('err', Load(), lineno=303, col_offset=40)], [], None, None, lineno=303, col_offset=24), lineno=303, col_offset=24)], [ExceptHandler(Name('UnicodeError', Load(), lineno=304, col_offset=27), None, [Pass( lineno=305, col_offset=24)], lineno=304, col_offset=20)], [], lineno=302, col_offset=20)], [], lineno=301, col_offset=16)], [], lineno=299, col_offset=12)], [], lineno=298, col_offset=8)], [], lineno=288, col_offset=4), FunctionDef('check_exceptionobjectargs', arguments([Name('self', Param(), lineno=307, col_offset=34), Name('exctype', Param(), lineno=307, col_offset=40), Name('args', Param(), lineno=307, col_offset=49), Name('msg', Param(), lineno=307, col_offset=55)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=310, col_offset=8), 'assertRaises', Load(), lineno=310, col_offset=8), [Name('TypeError', Load(), lineno=310, col_offset=26), Name('exctype', Load(), lineno=310, col_offset=37)], [], Subscript(Name('args', Load(), lineno=310, col_offset=47), Slice(None, Num(-1, lineno=310, col_offset=54), None), Load(), lineno=310, col_offset=47), None, lineno=310, col_offset=8), lineno=310, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=312, col_offset=8), 'assertRaises', Load(), lineno=312, col_offset=8), [Name('TypeError', Load(), lineno=312, col_offset=26), Name('exctype', Load(), lineno=312, col_offset=37)], [], BinOp(Name('args', Load(), lineno=312, col_offset=48), Add(), List([Str('too much', lineno=312, col_offset=56)], Load(), lineno=312, col_offset=55), lineno=312, col_offset=48), None, lineno=312, col_offset=8), lineno=312, col_offset=8), Assign([Name('wrongargs', Store(), lineno=314, col_offset=8)], List([Str('spam', lineno=314, col_offset=22), Str(u'eggs', lineno=314, col_offset=30), Num(42, lineno=314, col_offset=39), Num(1.0, lineno=314, col_offset=43), Name('None', Load(), lineno=314, col_offset=48)], Load(), lineno=314, col_offset=20), lineno=314, col_offset=8), For(Name('i', Store(), lineno=315, col_offset=12), Call(Name('xrange', Load(), lineno=315, col_offset=17), [Call(Name('len', Load(), lineno=315, col_offset=24), [Name('args', Load(), lineno=315, col_offset=28)], [], None, None, lineno=315, col_offset=24)], [], None, None, lineno=315, col_offset=17), [For(Name('wrongarg', Store(), lineno=316, col_offset=16), Name('wrongargs', Load(), lineno=316, col_offset=28), [If(Compare(Call(Name('type', Load(), lineno=317, col_offset=19), [Name('wrongarg', Load(), lineno=317, col_offset=24)], [], None, None, lineno=317, col_offset=19), [Is()], [Call(Name('type', Load(), lineno=317, col_offset=37), [Subscript(Name('args', Load(), lineno=317, col_offset=42), Index(Name('i', Load(), lineno=317, col_offset=47)), Load(), lineno=317, col_offset=42)], [], None, None, lineno=317, col_offset=37)], lineno=317, col_offset=19), [Continue( lineno=318, col_offset=20)], [], lineno=317, col_offset=16), Assign([Name('callargs', Store(), lineno=320, col_offset=16)], List([], Load(), lineno=320, col_offset=27), lineno=320, col_offset=16), For(Name('j', Store(), lineno=321, col_offset=20), Call(Name('xrange', Load(), lineno=321, col_offset=25), [Call(Name('len', Load(), lineno=321, col_offset=32), [Name('args', Load(), lineno=321, col_offset=36)], [], None, None, lineno=321, col_offset=32)], [], None, None, lineno=321, col_offset=25), [If(Compare(Name('i', Load(), lineno=322, col_offset=23), [Eq()], [Name('j', Load(), lineno=322, col_offset=26)], lineno=322, col_offset=23), [Expr(Call(Attribute(Name('callargs', Load(), lineno=323, col_offset=24), 'append', Load(), lineno=323, col_offset=24), [Name('wrongarg', Load(), lineno=323, col_offset=40)], [], None, None, lineno=323, col_offset=24), lineno=323, col_offset=24)], [Expr(Call(Attribute(Name('callargs', Load(), lineno=325, col_offset=24), 'append', Load(), lineno=325, col_offset=24), [Subscript(Name('args', Load(), lineno=325, col_offset=40), Index(Name('i', Load(), lineno=325, col_offset=45)), Load(), lineno=325, col_offset=40)], [], None, None, lineno=325, col_offset=24), lineno=325, col_offset=24)], lineno=322, col_offset=20)], [], lineno=321, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=326, col_offset=16), 'assertRaises', Load(), lineno=326, col_offset=16), [Name('TypeError', Load(), lineno=326, col_offset=34), Name('exctype', Load(), lineno=326, col_offset=45)], [], Name('callargs', Load(), lineno=326, col_offset=55), None, lineno=326, col_offset=16), lineno=326, col_offset=16)], [], lineno=316, col_offset=12)], [], lineno=315, col_offset=8), Assign([Name('exc', Store(), lineno=329, col_offset=8)], Call(Name('exctype', Load(), lineno=329, col_offset=14), [], [], Name('args', Load(), lineno=329, col_offset=23), None, lineno=329, col_offset=14), lineno=329, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=330, col_offset=8), 'assertEqual', Load(), lineno=330, col_offset=8), [Call(Name('str', Load(), lineno=330, col_offset=25), [Name('exc', Load(), lineno=330, col_offset=29)], [], None, None, lineno=330, col_offset=25), Name('msg', Load(), lineno=330, col_offset=35)], [], None, None, lineno=330, col_offset=8), lineno=330, col_offset=8)], [], lineno=307, col_offset=4), FunctionDef('test_unicodeencodeerror', arguments([Name('self', Param(), lineno=332, col_offset=32)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=333, col_offset=8), 'check_exceptionobjectargs', Load(), lineno=333, col_offset=8), [Name('UnicodeEncodeError', Load(), lineno=334, col_offset=12), List([Str('ascii', lineno=335, col_offset=13), Str(u'g\xfcrk', lineno=335, col_offset=22), Num(1, lineno=335, col_offset=34), Num(2, lineno=335, col_offset=37), Str('ouch', lineno=335, col_offset=40)], Load(), lineno=335, col_offset=12), Str("'ascii' codec can't encode character u'\\xfc' in position 1: ouch", lineno=336, col_offset=12)], [], None, None, lineno=333, col_offset=8), lineno=333, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=338, col_offset=8), 'check_exceptionobjectargs', Load(), lineno=338, col_offset=8), [Name('UnicodeEncodeError', Load(), lineno=339, col_offset=12), List([Str('ascii', lineno=340, col_offset=13), Str(u'g\xfcrk', lineno=340, col_offset=22), Num(1, lineno=340, col_offset=34), Num(4, lineno=340, col_offset=37), Str('ouch', lineno=340, col_offset=40)], Load(), lineno=340, col_offset=12), Str("'ascii' codec can't encode characters in position 1-3: ouch", lineno=341, col_offset=12)], [], None, None, lineno=338, col_offset=8), lineno=338, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=343, col_offset=8), 'check_exceptionobjectargs', Load(), lineno=343, col_offset=8), [Name('UnicodeEncodeError', Load(), lineno=344, col_offset=12), List([Str('ascii', lineno=345, col_offset=13), Str(u'\xfcx', lineno=345, col_offset=22), Num(0, lineno=345, col_offset=32), Num(1, lineno=345, col_offset=35), Str('ouch', lineno=345, col_offset=38)], Load(), lineno=345, col_offset=12), Str("'ascii' codec can't encode character u'\\xfc' in position 0: ouch", lineno=346, col_offset=12)], [], None, None, lineno=343, col_offset=8), lineno=343, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=348, col_offset=8), 'check_exceptionobjectargs', Load(), lineno=348, col_offset=8), [Name('UnicodeEncodeError', Load(), lineno=349, col_offset=12), List([Str('ascii', lineno=350, col_offset=13), Str(u'\u0100x', lineno=350, col_offset=22), Num(0, lineno=350, col_offset=34), Num(1, lineno=350, col_offset=37), Str('ouch', lineno=350, col_offset=40)], Load(), lineno=350, col_offset=12), Str("'ascii' codec can't encode character u'\\u0100' in position 0: ouch", lineno=351, col_offset=12)], [], None, None, lineno=348, col_offset=8), lineno=348, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=353, col_offset=8), 'check_exceptionobjectargs', Load(), lineno=353, col_offset=8), [Name('UnicodeEncodeError', Load(), lineno=354, col_offset=12), List([Str('ascii', lineno=355, col_offset=13), Str(u'\uffffx', lineno=355, col_offset=22), Num(0, lineno=355, col_offset=34), Num(1, lineno=355, col_offset=37), Str('ouch', lineno=355, col_offset=40)], Load(), lineno=355, col_offset=12), Str("'ascii' codec can't encode character u'\\uffff' in position 0: ouch", lineno=356, col_offset=12)], [], None, None, lineno=353, col_offset=8), lineno=353, col_offset=8), If(Compare(Attribute(Name('sys', Load(), lineno=358, col_offset=11), 'maxunicode', Load(), lineno=358, col_offset=11), [Gt()], [Num(65535, lineno=358, col_offset=28)], lineno=358, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=359, col_offset=12), 'check_exceptionobjectargs', Load(), lineno=359, col_offset=12), [Name('UnicodeEncodeError', Load(), lineno=360, col_offset=16), List([Str('ascii', lineno=361, col_offset=17), Str(u'\U00010000x', lineno=361, col_offset=26), Num(0, lineno=361, col_offset=42), Num(1, lineno=361, col_offset=45), Str('ouch', lineno=361, col_offset=48)], Load(), lineno=361, col_offset=16), Str("'ascii' codec can't encode character u'\\U00010000' in position 0: ouch", lineno=362, col_offset=16)], [], None, None, lineno=359, col_offset=12), lineno=359, col_offset=12)], [], lineno=358, col_offset=8)], [], lineno=332, col_offset=4), FunctionDef('test_unicodedecodeerror', arguments([Name('self', Param(), lineno=365, col_offset=32)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=366, col_offset=8), 'check_exceptionobjectargs', Load(), lineno=366, col_offset=8), [Name('UnicodeDecodeError', Load(), lineno=367, col_offset=12), List([Str('ascii', lineno=368, col_offset=13), Str('g\xfcrk', lineno=368, col_offset=22), Num(1, lineno=368, col_offset=33), Num(2, lineno=368, col_offset=36), Str('ouch', lineno=368, col_offset=39)], Load(), lineno=368, col_offset=12), Str("'ascii' codec can't decode byte 0xfc in position 1: ouch", lineno=369, col_offset=12)], [], None, None, lineno=366, col_offset=8), lineno=366, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=371, col_offset=8), 'check_exceptionobjectargs', Load(), lineno=371, col_offset=8), [Name('UnicodeDecodeError', Load(), lineno=372, col_offset=12), List([Str('ascii', lineno=373, col_offset=13), Str('g\xfcrk', lineno=373, col_offset=22), Num(1, lineno=373, col_offset=33), Num(3, lineno=373, col_offset=36), Str('ouch', lineno=373, col_offset=39)], Load(), lineno=373, col_offset=12), Str("'ascii' codec can't decode bytes in position 1-2: ouch", lineno=374, col_offset=12)], [], None, None, lineno=371, col_offset=8), lineno=371, col_offset=8)], [], lineno=365, col_offset=4), FunctionDef('test_unicodetranslateerror', arguments([Name('self', Param(), lineno=377, col_offset=35)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=378, col_offset=8), 'check_exceptionobjectargs', Load(), lineno=378, col_offset=8), [Name('UnicodeTranslateError', Load(), lineno=379, col_offset=12), List([Str(u'g\xfcrk', lineno=380, col_offset=13), Num(1, lineno=380, col_offset=25), Num(2, lineno=380, col_offset=28), Str('ouch', lineno=380, col_offset=31)], Load(), lineno=380, col_offset=12), Str("can't translate character u'\\xfc' in position 1: ouch", lineno=381, col_offset=12)], [], None, None, lineno=378, col_offset=8), lineno=378, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=383, col_offset=8), 'check_exceptionobjectargs', Load(), lineno=383, col_offset=8), [Name('UnicodeTranslateError', Load(), lineno=384, col_offset=12), List([Str(u'g\u0100rk', lineno=385, col_offset=13), Num(1, lineno=385, col_offset=27), Num(2, lineno=385, col_offset=30), Str('ouch', lineno=385, col_offset=33)], Load(), lineno=385, col_offset=12), Str("can't translate character u'\\u0100' in position 1: ouch", lineno=386, col_offset=12)], [], None, None, lineno=383, col_offset=8), lineno=383, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=388, col_offset=8), 'check_exceptionobjectargs', Load(), lineno=388, col_offset=8), [Name('UnicodeTranslateError', Load(), lineno=389, col_offset=12), List([Str(u'g\uffffrk', lineno=390, col_offset=13), Num(1, lineno=390, col_offset=27), Num(2, lineno=390, col_offset=30), Str('ouch', lineno=390, col_offset=33)], Load(), lineno=390, col_offset=12), Str("can't translate character u'\\uffff' in position 1: ouch", lineno=391, col_offset=12)], [], None, None, lineno=388, col_offset=8), lineno=388, col_offset=8), If(Compare(Attribute(Name('sys', Load(), lineno=393, col_offset=11), 'maxunicode', Load(), lineno=393, col_offset=11), [Gt()], [Num(65535, lineno=393, col_offset=28)], lineno=393, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=394, col_offset=12), 'check_exceptionobjectargs', Load(), lineno=394, col_offset=12), [Name('UnicodeTranslateError', Load(), lineno=395, col_offset=16), List([Str(u'g\U00010000rk', lineno=396, col_offset=17), Num(1, lineno=396, col_offset=35), Num(2, lineno=396, col_offset=38), Str('ouch', lineno=396, col_offset=41)], Load(), lineno=396, col_offset=16), Str("can't translate character u'\\U00010000' in position 1: ouch", lineno=397, col_offset=16)], [], None, None, lineno=394, col_offset=12), lineno=394, col_offset=12)], [], lineno=393, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=399, col_offset=8), 'check_exceptionobjectargs', Load(), lineno=399, col_offset=8), [Name('UnicodeTranslateError', Load(), lineno=400, col_offset=12), List([Str(u'g\xfcrk', lineno=401, col_offset=13), Num(1, lineno=401, col_offset=25), Num(3, lineno=401, col_offset=28), Str('ouch', lineno=401, col_offset=31)], Load(), lineno=401, col_offset=12), Str("can't translate characters in position 1-2: ouch", lineno=402, col_offset=12)], [], None, None, lineno=399, col_offset=8), lineno=399, col_offset=8)], [], lineno=377, col_offset=4), FunctionDef('test_badandgoodstrictexceptions', arguments([Name('self', Param(), lineno=405, col_offset=40)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=407, col_offset=8), 'assertRaises', Load(), lineno=407, col_offset=8), [Name('TypeError', Load(), lineno=408, col_offset=12), Attribute(Name('codecs', Load(), lineno=409, col_offset=12), 'strict_errors', Load(), lineno=409, col_offset=12), Num(42, lineno=410, col_offset=12)], [], None, None, lineno=407, col_offset=8), lineno=407, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=413, col_offset=8), 'assertRaises', Load(), lineno=413, col_offset=8), [Name('Exception', Load(), lineno=414, col_offset=12), Attribute(Name('codecs', Load(), lineno=415, col_offset=12), 'strict_errors', Load(), lineno=415, col_offset=12), Call(Name('Exception', Load(), lineno=416, col_offset=12), [Str('ouch', lineno=416, col_offset=22)], [], None, None, lineno=416, col_offset=12)], [], None, None, lineno=413, col_offset=8), lineno=413, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=420, col_offset=8), 'assertRaises', Load(), lineno=420, col_offset=8), [Name('UnicodeEncodeError', Load(), lineno=421, col_offset=12), Attribute(Name('codecs', Load(), lineno=422, col_offset=12), 'strict_errors', Load(), lineno=422, col_offset=12), Call(Name('UnicodeEncodeError', Load(), lineno=423, col_offset=12), [Str('ascii', lineno=423, col_offset=31), Str(u'\u3042', lineno=423, col_offset=40), Num(0, lineno=423, col_offset=51), Num(1, lineno=423, col_offset=54), Str('ouch', lineno=423, col_offset=57)], [], None, None, lineno=423, col_offset=12)], [], None, None, lineno=420, col_offset=8), lineno=420, col_offset=8)], [], lineno=405, col_offset=4), FunctionDef('test_badandgoodignoreexceptions', arguments([Name('self', Param(), lineno=426, col_offset=40)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=428, col_offset=8), 'assertRaises', Load(), lineno=428, col_offset=8), [Name('TypeError', Load(), lineno=429, col_offset=11), Attribute(Name('codecs', Load(), lineno=430, col_offset=11), 'ignore_errors', Load(), lineno=430, col_offset=11), Num(42, lineno=431, col_offset=11)], [], None, None, lineno=428, col_offset=8), lineno=428, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=434, col_offset=8), 'assertRaises', Load(), lineno=434, col_offset=8), [Name('TypeError', Load(), lineno=435, col_offset=11), Attribute(Name('codecs', Load(), lineno=436, col_offset=11), 'ignore_errors', Load(), lineno=436, col_offset=11), Call(Name('UnicodeError', Load(), lineno=437, col_offset=11), [Str('ouch', lineno=437, col_offset=24)], [], None, None, lineno=437, col_offset=11)], [], None, None, lineno=434, col_offset=8), lineno=434, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=440, col_offset=8), 'assertEqual', Load(), lineno=440, col_offset=8), [Call(Attribute(Name('codecs', Load(), lineno=441, col_offset=12), 'ignore_errors', Load(), lineno=441, col_offset=12), [Call(Name('UnicodeEncodeError', Load(), lineno=441, col_offset=33), [Str('ascii', lineno=441, col_offset=52), Str(u'\u3042', lineno=441, col_offset=61), Num(0, lineno=441, col_offset=72), Num(1, lineno=441, col_offset=75), Str('ouch', lineno=441, col_offset=78)], [], None, None, lineno=441, col_offset=33)], [], None, None, lineno=441, col_offset=12), Tuple([Str(u'', lineno=442, col_offset=13), Num(1, lineno=442, col_offset=18)], Load(), lineno=442, col_offset=13)], [], None, None, lineno=440, col_offset=8), lineno=440, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=444, col_offset=8), 'assertEqual', Load(), lineno=444, col_offset=8), [Call(Attribute(Name('codecs', Load(), lineno=445, col_offset=12), 'ignore_errors', Load(), lineno=445, col_offset=12), [Call(Name('UnicodeDecodeError', Load(), lineno=445, col_offset=33), [Str('ascii', lineno=445, col_offset=52), Str('\xff', lineno=445, col_offset=61), Num(0, lineno=445, col_offset=69), Num(1, lineno=445, col_offset=72), Str('ouch', lineno=445, col_offset=75)], [], None, None, lineno=445, col_offset=33)], [], None, None, lineno=445, col_offset=12), Tuple([Str(u'', lineno=446, col_offset=13), Num(1, lineno=446, col_offset=18)], Load(), lineno=446, col_offset=13)], [], None, None, lineno=444, col_offset=8), lineno=444, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=448, col_offset=8), 'assertEqual', Load(), lineno=448, col_offset=8), [Call(Attribute(Name('codecs', Load(), lineno=449, col_offset=12), 'ignore_errors', Load(), lineno=449, col_offset=12), [Call(Name('UnicodeTranslateError', Load(), lineno=449, col_offset=33), [Str(u'\u3042', lineno=449, col_offset=55), Num(0, lineno=449, col_offset=66), Num(1, lineno=449, col_offset=69), Str('ouch', lineno=449, col_offset=72)], [], None, None, lineno=449, col_offset=33)], [], None, None, lineno=449, col_offset=12), Tuple([Str(u'', lineno=450, col_offset=13), Num(1, lineno=450, col_offset=18)], Load(), lineno=450, col_offset=13)], [], None, None, lineno=448, col_offset=8), lineno=448, col_offset=8)], [], lineno=426, col_offset=4), FunctionDef('test_badandgoodreplaceexceptions', arguments([Name('self', Param(), lineno=453, col_offset=41)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=455, col_offset=8), 'assertRaises', Load(), lineno=455, col_offset=8), [Name('TypeError', Load(), lineno=456, col_offset=11), Attribute(Name('codecs', Load(), lineno=457, col_offset=11), 'replace_errors', Load(), lineno=457, col_offset=11), Num(42, lineno=458, col_offset=11)], [], None, None, lineno=455, col_offset=8), lineno=455, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=461, col_offset=8), 'assertRaises', Load(), lineno=461, col_offset=8), [Name('TypeError', Load(), lineno=462, col_offset=11), Attribute(Name('codecs', Load(), lineno=463, col_offset=11), 'replace_errors', Load(), lineno=463, col_offset=11), Call(Name('UnicodeError', Load(), lineno=464, col_offset=11), [Str('ouch', lineno=464, col_offset=24)], [], None, None, lineno=464, col_offset=11)], [], None, None, lineno=461, col_offset=8), lineno=461, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=466, col_offset=8), 'assertRaises', Load(), lineno=466, col_offset=8), [Name('TypeError', Load(), lineno=467, col_offset=12), Attribute(Name('codecs', Load(), lineno=468, col_offset=12), 'replace_errors', Load(), lineno=468, col_offset=12), Call(Name('BadObjectUnicodeEncodeError', Load(), lineno=469, col_offset=12), [], [], None, None, lineno=469, col_offset=12)], [], None, None, lineno=466, col_offset=8), lineno=466, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=471, col_offset=8), 'assertRaises', Load(), lineno=471, col_offset=8), [Name('TypeError', Load(), lineno=472, col_offset=12), Attribute(Name('codecs', Load(), lineno=473, col_offset=12), 'replace_errors', Load(), lineno=473, col_offset=12), Call(Name('BadObjectUnicodeDecodeError', Load(), lineno=474, col_offset=12), [], [], None, None, lineno=474, col_offset=12)], [], None, None, lineno=471, col_offset=8), lineno=471, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=477, col_offset=8), 'assertEqual', Load(), lineno=477, col_offset=8), [Call(Attribute(Name('codecs', Load(), lineno=478, col_offset=12), 'replace_errors', Load(), lineno=478, col_offset=12), [Call(Name('UnicodeEncodeError', Load(), lineno=478, col_offset=34), [Str('ascii', lineno=478, col_offset=53), Str(u'\u3042', lineno=478, col_offset=62), Num(0, lineno=478, col_offset=73), Num(1, lineno=478, col_offset=76), Str('ouch', lineno=478, col_offset=79)], [], None, None, lineno=478, col_offset=34)], [], None, None, lineno=478, col_offset=12), Tuple([Str(u'?', lineno=479, col_offset=13), Num(1, lineno=479, col_offset=19)], Load(), lineno=479, col_offset=13)], [], None, None, lineno=477, col_offset=8), lineno=477, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=481, col_offset=8), 'assertEqual', Load(), lineno=481, col_offset=8), [Call(Attribute(Name('codecs', Load(), lineno=482, col_offset=12), 'replace_errors', Load(), lineno=482, col_offset=12), [Call(Name('UnicodeDecodeError', Load(), lineno=482, col_offset=34), [Str('ascii', lineno=482, col_offset=53), Str('\xff', lineno=482, col_offset=62), Num(0, lineno=482, col_offset=70), Num(1, lineno=482, col_offset=73), Str('ouch', lineno=482, col_offset=76)], [], None, None, lineno=482, col_offset=34)], [], None, None, lineno=482, col_offset=12), Tuple([Str(u'\ufffd', lineno=483, col_offset=13), Num(1, lineno=483, col_offset=24)], Load(), lineno=483, col_offset=13)], [], None, None, lineno=481, col_offset=8), lineno=481, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=485, col_offset=8), 'assertEqual', Load(), lineno=485, col_offset=8), [Call(Attribute(Name('codecs', Load(), lineno=486, col_offset=12), 'replace_errors', Load(), lineno=486, col_offset=12), [Call(Name('UnicodeTranslateError', Load(), lineno=486, col_offset=34), [Str(u'\u3042', lineno=486, col_offset=56), Num(0, lineno=486, col_offset=67), Num(1, lineno=486, col_offset=70), Str('ouch', lineno=486, col_offset=73)], [], None, None, lineno=486, col_offset=34)], [], None, None, lineno=486, col_offset=12), Tuple([Str(u'\ufffd', lineno=487, col_offset=13), Num(1, lineno=487, col_offset=24)], Load(), lineno=487, col_offset=13)], [], None, None, lineno=485, col_offset=8), lineno=485, col_offset=8)], [], lineno=453, col_offset=4), FunctionDef('test_badandgoodxmlcharrefreplaceexceptions', arguments([Name('self', Param(), lineno=490, col_offset=51)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=492, col_offset=8), 'assertRaises', Load(), lineno=492, col_offset=8), [Name('TypeError', Load(), lineno=493, col_offset=11), Attribute(Name('codecs', Load(), lineno=494, col_offset=11), 'xmlcharrefreplace_errors', Load(), lineno=494, col_offset=11), Num(42, lineno=495, col_offset=11)], [], None, None, lineno=492, col_offset=8), lineno=492, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=498, col_offset=8), 'assertRaises', Load(), lineno=498, col_offset=8), [Name('TypeError', Load(), lineno=499, col_offset=11), Attribute(Name('codecs', Load(), lineno=500, col_offset=11), 'xmlcharrefreplace_errors', Load(), lineno=500, col_offset=11), Call(Name('UnicodeError', Load(), lineno=501, col_offset=11), [Str('ouch', lineno=501, col_offset=24)], [], None, None, lineno=501, col_offset=11)], [], None, None, lineno=498, col_offset=8), lineno=498, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=504, col_offset=8), 'assertRaises', Load(), lineno=504, col_offset=8), [Name('TypeError', Load(), lineno=505, col_offset=12), Attribute(Name('codecs', Load(), lineno=506, col_offset=12), 'xmlcharrefreplace_errors', Load(), lineno=506, col_offset=12), Call(Name('UnicodeDecodeError', Load(), lineno=507, col_offset=12), [Str('ascii', lineno=507, col_offset=31), Str('\xff', lineno=507, col_offset=40), Num(0, lineno=507, col_offset=48), Num(1, lineno=507, col_offset=51), Str('ouch', lineno=507, col_offset=54)], [], None, None, lineno=507, col_offset=12)], [], None, None, lineno=504, col_offset=8), lineno=504, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=509, col_offset=8), 'assertRaises', Load(), lineno=509, col_offset=8), [Name('TypeError', Load(), lineno=510, col_offset=12), Attribute(Name('codecs', Load(), lineno=511, col_offset=12), 'xmlcharrefreplace_errors', Load(), lineno=511, col_offset=12), Call(Name('UnicodeTranslateError', Load(), lineno=512, col_offset=12), [Str(u'\u3042', lineno=512, col_offset=34), Num(0, lineno=512, col_offset=45), Num(1, lineno=512, col_offset=48), Str('ouch', lineno=512, col_offset=51)], [], None, None, lineno=512, col_offset=12)], [], None, None, lineno=509, col_offset=8), lineno=509, col_offset=8), Assign([Name('cs', Store(), lineno=515, col_offset=8)], Tuple([Num(0, lineno=515, col_offset=14), Num(1, lineno=515, col_offset=17), Num(9, lineno=515, col_offset=20), Num(10, lineno=515, col_offset=23), Num(99, lineno=515, col_offset=27), Num(100, lineno=515, col_offset=31), Num(999, lineno=515, col_offset=36), Num(1000, lineno=515, col_offset=41), Num(9999, lineno=515, col_offset=47), Num(10000, lineno=515, col_offset=53), Num(12354, lineno=515, col_offset=60)], Load(), lineno=515, col_offset=14), lineno=515, col_offset=8), Assign([Name('s', Store(), lineno=516, col_offset=8)], Call(Attribute(Str('', lineno=516, col_offset=12), 'join', Load(), lineno=516, col_offset=12), [GeneratorExp(Call(Name('unichr', Load(), lineno=516, col_offset=20), [Name('c', Load(), lineno=516, col_offset=27)], [], None, None, lineno=516, col_offset=20), [comprehension(Name('c', Store(), lineno=516, col_offset=34), Name('cs', Load(), lineno=516, col_offset=39), [])], lineno=516, col_offset=20)], [], None, None, lineno=516, col_offset=12), lineno=516, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=517, col_offset=8), 'assertEqual', Load(), lineno=517, col_offset=8), [Call(Attribute(Name('codecs', Load(), lineno=518, col_offset=12), 'xmlcharrefreplace_errors', Load(), lineno=518, col_offset=12), [Call(Name('UnicodeEncodeError', Load(), lineno=519, col_offset=16), [Str('ascii', lineno=519, col_offset=35), Name('s', Load(), lineno=519, col_offset=44), Num(0, lineno=519, col_offset=47), Call(Name('len', Load(), lineno=519, col_offset=50), [Name('s', Load(), lineno=519, col_offset=54)], [], None, None, lineno=519, col_offset=50), Str('ouch', lineno=519, col_offset=58)], [], None, None, lineno=519, col_offset=16)], [], None, None, lineno=518, col_offset=12), Tuple([Call(Attribute(Str(u'', lineno=521, col_offset=13), 'join', Load(), lineno=521, col_offset=13), [GeneratorExp(BinOp(Str(u'&#%d;', lineno=521, col_offset=22), Mod(), Call(Name('ord', Load(), lineno=521, col_offset=33), [Name('c', Load(), lineno=521, col_offset=37)], [], None, None, lineno=521, col_offset=33), lineno=521, col_offset=22), [comprehension(Name('c', Store(), lineno=521, col_offset=44), Name('s', Load(), lineno=521, col_offset=49), [])], lineno=521, col_offset=22)], [], None, None, lineno=521, col_offset=13), Call(Name('len', Load(), lineno=521, col_offset=53), [Name('s', Load(), lineno=521, col_offset=57)], [], None, None, lineno=521, col_offset=53)], Load(), lineno=521, col_offset=13)], [], None, None, lineno=517, col_offset=8), lineno=517, col_offset=8)], [], lineno=490, col_offset=4), FunctionDef('test_badandgoodbackslashreplaceexceptions', arguments([Name('self', Param(), lineno=524, col_offset=50)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=526, col_offset=8), 'assertRaises', Load(), lineno=526, col_offset=8), [Name('TypeError', Load(), lineno=527, col_offset=11), Attribute(Name('codecs', Load(), lineno=528, col_offset=11), 'backslashreplace_errors', Load(), lineno=528, col_offset=11), Num(42, lineno=529, col_offset=11)], [], None, None, lineno=526, col_offset=8), lineno=526, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=532, col_offset=8), 'assertRaises', Load(), lineno=532, col_offset=8), [Name('TypeError', Load(), lineno=533, col_offset=11), Attribute(Name('codecs', Load(), lineno=534, col_offset=11), 'backslashreplace_errors', Load(), lineno=534, col_offset=11), Call(Name('UnicodeError', Load(), lineno=535, col_offset=11), [Str('ouch', lineno=535, col_offset=24)], [], None, None, lineno=535, col_offset=11)], [], None, None, lineno=532, col_offset=8), lineno=532, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=538, col_offset=8), 'assertRaises', Load(), lineno=538, col_offset=8), [Name('TypeError', Load(), lineno=539, col_offset=12), Attribute(Name('codecs', Load(), lineno=540, col_offset=12), 'backslashreplace_errors', Load(), lineno=540, col_offset=12), Call(Name('UnicodeDecodeError', Load(), lineno=541, col_offset=12), [Str('ascii', lineno=541, col_offset=31), Str('\xff', lineno=541, col_offset=40), Num(0, lineno=541, col_offset=48), Num(1, lineno=541, col_offset=51), Str('ouch', lineno=541, col_offset=54)], [], None, None, lineno=541, col_offset=12)], [], None, None, lineno=538, col_offset=8), lineno=538, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=543, col_offset=8), 'assertRaises', Load(), lineno=543, col_offset=8), [Name('TypeError', Load(), lineno=544, col_offset=12), Attribute(Name('codecs', Load(), lineno=545, col_offset=12), 'backslashreplace_errors', Load(), lineno=545, col_offset=12), Call(Name('UnicodeTranslateError', Load(), lineno=546, col_offset=12), [Str(u'\u3042', lineno=546, col_offset=34), Num(0, lineno=546, col_offset=45), Num(1, lineno=546, col_offset=48), Str('ouch', lineno=546, col_offset=51)], [], None, None, lineno=546, col_offset=12)], [], None, None, lineno=543, col_offset=8), lineno=543, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=549, col_offset=8), 'assertEqual', Load(), lineno=549, col_offset=8), [Call(Attribute(Name('codecs', Load(), lineno=550, col_offset=12), 'backslashreplace_errors', Load(), lineno=550, col_offset=12), [Call(Name('UnicodeEncodeError', Load(), lineno=550, col_offset=43), [Str('ascii', lineno=550, col_offset=62), Str(u'\u3042', lineno=550, col_offset=71), Num(0, lineno=550, col_offset=82), Num(1, lineno=550, col_offset=85), Str('ouch', lineno=550, col_offset=88)], [], None, None, lineno=550, col_offset=43)], [], None, None, lineno=550, col_offset=12), Tuple([Str(u'\\u3042', lineno=551, col_offset=13), Num(1, lineno=551, col_offset=25)], Load(), lineno=551, col_offset=13)], [], None, None, lineno=549, col_offset=8), lineno=549, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=553, col_offset=8), 'assertEqual', Load(), lineno=553, col_offset=8), [Call(Attribute(Name('codecs', Load(), lineno=554, col_offset=12), 'backslashreplace_errors', Load(), lineno=554, col_offset=12), [Call(Name('UnicodeEncodeError', Load(), lineno=554, col_offset=43), [Str('ascii', lineno=554, col_offset=62), Str(u'\x00', lineno=554, col_offset=71), Num(0, lineno=554, col_offset=80), Num(1, lineno=554, col_offset=83), Str('ouch', lineno=554, col_offset=86)], [], None, None, lineno=554, col_offset=43)], [], None, None, lineno=554, col_offset=12), Tuple([Str(u'\\x00', lineno=555, col_offset=13), Num(1, lineno=555, col_offset=23)], Load(), lineno=555, col_offset=13)], [], None, None, lineno=553, col_offset=8), lineno=553, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=557, col_offset=8), 'assertEqual', Load(), lineno=557, col_offset=8), [Call(Attribute(Name('codecs', Load(), lineno=558, col_offset=12), 'backslashreplace_errors', Load(), lineno=558, col_offset=12), [Call(Name('UnicodeEncodeError', Load(), lineno=558, col_offset=43), [Str('ascii', lineno=558, col_offset=62), Str(u'\xff', lineno=558, col_offset=71), Num(0, lineno=558, col_offset=80), Num(1, lineno=558, col_offset=83), Str('ouch', lineno=558, col_offset=86)], [], None, None, lineno=558, col_offset=43)], [], None, None, lineno=558, col_offset=12), Tuple([Str(u'\\xff', lineno=559, col_offset=13), Num(1, lineno=559, col_offset=23)], Load(), lineno=559, col_offset=13)], [], None, None, lineno=557, col_offset=8), lineno=557, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=561, col_offset=8), 'assertEqual', Load(), lineno=561, col_offset=8), [Call(Attribute(Name('codecs', Load(), lineno=562, col_offset=12), 'backslashreplace_errors', Load(), lineno=562, col_offset=12), [Call(Name('UnicodeEncodeError', Load(), lineno=562, col_offset=43), [Str('ascii', lineno=562, col_offset=62), Str(u'\u0100', lineno=562, col_offset=71), Num(0, lineno=562, col_offset=82), Num(1, lineno=562, col_offset=85), Str('ouch', lineno=562, col_offset=88)], [], None, None, lineno=562, col_offset=43)], [], None, None, lineno=562, col_offset=12), Tuple([Str(u'\\u0100', lineno=563, col_offset=13), Num(1, lineno=563, col_offset=25)], Load(), lineno=563, col_offset=13)], [], None, None, lineno=561, col_offset=8), lineno=561, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=565, col_offset=8), 'assertEqual', Load(), lineno=565, col_offset=8), [Call(Attribute(Name('codecs', Load(), lineno=566, col_offset=12), 'backslashreplace_errors', Load(), lineno=566, col_offset=12), [Call(Name('UnicodeEncodeError', Load(), lineno=566, col_offset=43), [Str('ascii', lineno=566, col_offset=62), Str(u'\uffff', lineno=566, col_offset=71), Num(0, lineno=566, col_offset=82), Num(1, lineno=566, col_offset=85), Str('ouch', lineno=566, col_offset=88)], [], None, None, lineno=566, col_offset=43)], [], None, None, lineno=566, col_offset=12), Tuple([Str(u'\\uffff', lineno=567, col_offset=13), Num(1, lineno=567, col_offset=25)], Load(), lineno=567, col_offset=13)], [], None, None, lineno=565, col_offset=8), lineno=565, col_offset=8), If(Compare(Attribute(Name('sys', Load(), lineno=569, col_offset=11), 'maxunicode', Load(), lineno=569, col_offset=11), [Gt()], [Num(65535, lineno=569, col_offset=26)], lineno=569, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=570, col_offset=12), 'assertEqual', Load(), lineno=570, col_offset=12), [Call(Attribute(Name('codecs', Load(), lineno=571, col_offset=16), 'backslashreplace_errors', Load(), lineno=571, col_offset=16), [Call(Name('UnicodeEncodeError', Load(), lineno=571, col_offset=47), [Str('ascii', lineno=571, col_offset=66), Str(u'\U00010000', lineno=571, col_offset=75), Num(0, lineno=571, col_offset=90), Num(1, lineno=571, col_offset=93), Str('ouch', lineno=571, col_offset=96)], [], None, None, lineno=571, col_offset=47)], [], None, None, lineno=571, col_offset=16), Tuple([Str(u'\\U00010000', lineno=572, col_offset=17), Num(1, lineno=572, col_offset=33)], Load(), lineno=572, col_offset=17)], [], None, None, lineno=570, col_offset=12), lineno=570, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=574, col_offset=12), 'assertEqual', Load(), lineno=574, col_offset=12), [Call(Attribute(Name('codecs', Load(), lineno=575, col_offset=16), 'backslashreplace_errors', Load(), lineno=575, col_offset=16), [Call(Name('UnicodeEncodeError', Load(), lineno=575, col_offset=47), [Str('ascii', lineno=575, col_offset=66), Str(u'\U0010ffff', lineno=575, col_offset=75), Num(0, lineno=575, col_offset=90), Num(1, lineno=575, col_offset=93), Str('ouch', lineno=575, col_offset=96)], [], None, None, lineno=575, col_offset=47)], [], None, None, lineno=575, col_offset=16), Tuple([Str(u'\\U0010ffff', lineno=576, col_offset=17), Num(1, lineno=576, col_offset=33)], Load(), lineno=576, col_offset=17)], [], None, None, lineno=574, col_offset=12), lineno=574, col_offset=12)], [], lineno=569, col_offset=8)], [], lineno=524, col_offset=4), FunctionDef('test_badhandlerresults', arguments([Name('self', Param(), lineno=579, col_offset=31)], None, None, []), [Assign([Name('results', Store(), lineno=580, col_offset=8)], Tuple([Num(42, lineno=580, col_offset=20), Str(u'foo', lineno=580, col_offset=24), Tuple([Num(1, lineno=580, col_offset=33), Num(2, lineno=580, col_offset=35), Num(3, lineno=580, col_offset=37)], Load(), lineno=580, col_offset=33), Tuple([Str(u'foo', lineno=580, col_offset=42), Num(1, lineno=580, col_offset=50), Num(3, lineno=580, col_offset=53)], Load(), lineno=580, col_offset=42), Tuple([Str(u'foo', lineno=580, col_offset=58), Name('None', Load(), lineno=580, col_offset=66)], Load(), lineno=580, col_offset=58), Tuple([Str(u'foo', lineno=580, col_offset=74)], Load(), lineno=580, col_offset=74), Tuple([Str('foo', lineno=580, col_offset=85), Num(1, lineno=580, col_offset=92), Num(3, lineno=580, col_offset=95)], Load(), lineno=580, col_offset=85), Tuple([Str('foo', lineno=580, col_offset=100), Name('None', Load(), lineno=580, col_offset=107)], Load(), lineno=580, col_offset=100), Tuple([Str('foo', lineno=580, col_offset=115)], Load(), lineno=580, col_offset=115)], Load(), lineno=580, col_offset=20), lineno=580, col_offset=8), Assign([Name('encs', Store(), lineno=581, col_offset=8)], Tuple([Str('ascii', lineno=581, col_offset=16), Str('latin-1', lineno=581, col_offset=25), Str('iso-8859-1', lineno=581, col_offset=36), Str('iso-8859-15', lineno=581, col_offset=50)], Load(), lineno=581, col_offset=16), lineno=581, col_offset=8), For(Name('res', Store(), lineno=583, col_offset=12), Name('results', Load(), lineno=583, col_offset=19), [Expr(Call(Attribute(Name('codecs', Load(), lineno=584, col_offset=12), 'register_error', Load(), lineno=584, col_offset=12), [Str('test.badhandler', lineno=584, col_offset=34), Lambda(arguments([Name('x', Param(), lineno=584, col_offset=60)], None, None, []), Name('res', Load(), lineno=584, col_offset=63), lineno=584, col_offset=53)], [], None, None, lineno=584, col_offset=12), lineno=584, col_offset=12), For(Name('enc', Store(), lineno=585, col_offset=16), Name('encs', Load(), lineno=585, col_offset=23), [Expr(Call(Attribute(Name('self', Load(), lineno=586, col_offset=16), 'assertRaises', Load(), lineno=586, col_offset=16), [Name('TypeError', Load(), lineno=587, col_offset=20), Attribute(Str(u'\u3042', lineno=588, col_offset=20), 'encode', Load(), lineno=588, col_offset=20), Name('enc', Load(), lineno=589, col_offset=20), Str('test.badhandler', lineno=590, col_offset=20)], [], None, None, lineno=586, col_offset=16), lineno=586, col_offset=16)], [], lineno=585, col_offset=12), For(Tuple([Name('enc', Store(), lineno=592, col_offset=17), Name('bytes', Store(), lineno=592, col_offset=22)], Store(), lineno=592, col_offset=17), Tuple([Tuple([Str('ascii', lineno=593, col_offset=17), Str('\xff', lineno=593, col_offset=26)], Load(), lineno=593, col_offset=17), Tuple([Str('utf-8', lineno=594, col_offset=17), Str('\xff', lineno=594, col_offset=26)], Load(), lineno=594, col_offset=17), Tuple([Str('utf-7', lineno=595, col_offset=17), Str('+x-', lineno=595, col_offset=26)], Load(), lineno=595, col_offset=17), Tuple([Str('unicode-internal', lineno=596, col_offset=17), Str('\x00', lineno=596, col_offset=37)], Load(), lineno=596, col_offset=17)], Load(), lineno=593, col_offset=16), [Expr(Call(Attribute(Name('self', Load(), lineno=598, col_offset=16), 'assertRaises', Load(), lineno=598, col_offset=16), [Name('TypeError', Load(), lineno=599, col_offset=20), Attribute(Name('bytes', Load(), lineno=600, col_offset=20), 'decode', Load(), lineno=600, col_offset=20), Name('enc', Load(), lineno=601, col_offset=20), Str('test.badhandler', lineno=602, col_offset=20)], [], None, None, lineno=598, col_offset=16), lineno=598, col_offset=16)], [], lineno=592, col_offset=12)], [], lineno=583, col_offset=8)], [], lineno=579, col_offset=4), FunctionDef('test_lookup', arguments([Name('self', Param(), lineno=605, col_offset=20)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=606, col_offset=8), 'assertEqual', Load(), lineno=606, col_offset=8), [Attribute(Name('codecs', Load(), lineno=606, col_offset=25), 'strict_errors', Load(), lineno=606, col_offset=25), Call(Attribute(Name('codecs', Load(), lineno=606, col_offset=47), 'lookup_error', Load(), lineno=606, col_offset=47), [Str('strict', lineno=606, col_offset=67)], [], None, None, lineno=606, col_offset=47)], [], None, None, lineno=606, col_offset=8), lineno=606, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=607, col_offset=8), 'assertEqual', Load(), lineno=607, col_offset=8), [Attribute(Name('codecs', Load(), lineno=607, col_offset=25), 'ignore_errors', Load(), lineno=607, col_offset=25), Call(Attribute(Name('codecs', Load(), lineno=607, col_offset=47), 'lookup_error', Load(), lineno=607, col_offset=47), [Str('ignore', lineno=607, col_offset=67)], [], None, None, lineno=607, col_offset=47)], [], None, None, lineno=607, col_offset=8), lineno=607, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=608, col_offset=8), 'assertEqual', Load(), lineno=608, col_offset=8), [Attribute(Name('codecs', Load(), lineno=608, col_offset=25), 'strict_errors', Load(), lineno=608, col_offset=25), Call(Attribute(Name('codecs', Load(), lineno=608, col_offset=47), 'lookup_error', Load(), lineno=608, col_offset=47), [Str('strict', lineno=608, col_offset=67)], [], None, None, lineno=608, col_offset=47)], [], None, None, lineno=608, col_offset=8), lineno=608, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=609, col_offset=8), 'assertEqual', Load(), lineno=609, col_offset=8), [Attribute(Name('codecs', Load(), lineno=610, col_offset=12), 'xmlcharrefreplace_errors', Load(), lineno=610, col_offset=12), Call(Attribute(Name('codecs', Load(), lineno=611, col_offset=12), 'lookup_error', Load(), lineno=611, col_offset=12), [Str('xmlcharrefreplace', lineno=611, col_offset=32)], [], None, None, lineno=611, col_offset=12)], [], None, None, lineno=609, col_offset=8), lineno=609, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=613, col_offset=8), 'assertEqual', Load(), lineno=613, col_offset=8), [Attribute(Name('codecs', Load(), lineno=614, col_offset=12), 'backslashreplace_errors', Load(), lineno=614, col_offset=12), Call(Attribute(Name('codecs', Load(), lineno=615, col_offset=12), 'lookup_error', Load(), lineno=615, col_offset=12), [Str('backslashreplace', lineno=615, col_offset=32)], [], None, None, lineno=615, col_offset=12)], [], None, None, lineno=613, col_offset=8), lineno=613, col_offset=8)], [], lineno=605, col_offset=4), FunctionDef('test_unencodablereplacement', arguments([Name('self', Param(), lineno=618, col_offset=36)], None, None, []), [FunctionDef('unencrepl', arguments([Name('exc', Param(), lineno=619, col_offset=22)], None, None, []), [If(Call(Name('isinstance', Load(), lineno=620, col_offset=15), [Name('exc', Load(), lineno=620, col_offset=26), Name('UnicodeEncodeError', Load(), lineno=620, col_offset=31)], [], None, None, lineno=620, col_offset=15), [Return(Tuple([Str(u'\u4242', lineno=621, col_offset=24), Attribute(Name('exc', Load(), lineno=621, col_offset=35), 'end', Load(), lineno=621, col_offset=35)], Load(), lineno=621, col_offset=24), lineno=621, col_offset=16)], [Raise(Call(Name('TypeError', Load(), lineno=623, col_offset=22), [BinOp(Str("don't know how to handle %r", lineno=623, col_offset=32), Mod(), Name('exc', Load(), lineno=623, col_offset=64), lineno=623, col_offset=32)], [], None, None, lineno=623, col_offset=22), None, None, lineno=623, col_offset=16)], lineno=620, col_offset=12)], [], lineno=619, col_offset=8), Expr(Call(Attribute(Name('codecs', Load(), lineno=624, col_offset=8), 'register_error', Load(), lineno=624, col_offset=8), [Str('test.unencreplhandler', lineno=624, col_offset=30), Name('unencrepl', Load(), lineno=624, col_offset=55)], [], None, None, lineno=624, col_offset=8), lineno=624, col_offset=8), For(Name('enc', Store(), lineno=625, col_offset=12), Tuple([Str('ascii', lineno=625, col_offset=20), Str('iso-8859-1', lineno=625, col_offset=29), Str('iso-8859-15', lineno=625, col_offset=43)], Load(), lineno=625, col_offset=20), [Expr(Call(Attribute(Name('self', Load(), lineno=626, col_offset=12), 'assertRaises', Load(), lineno=626, col_offset=12), [Name('UnicodeEncodeError', Load(), lineno=627, col_offset=16), Attribute(Str(u'\u4242', lineno=628, col_offset=16), 'encode', Load(), lineno=628, col_offset=16), Name('enc', Load(), lineno=629, col_offset=16), Str('test.unencreplhandler', lineno=630, col_offset=16)], [], None, None, lineno=626, col_offset=12), lineno=626, col_offset=12)], [], lineno=625, col_offset=8)], [], lineno=618, col_offset=4), FunctionDef('test_badregistercall', arguments([Name('self', Param(), lineno=633, col_offset=29)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=637, col_offset=8), 'assertRaises', Load(), lineno=637, col_offset=8), [Name('TypeError', Load(), lineno=637, col_offset=26), Attribute(Name('codecs', Load(), lineno=637, col_offset=37), 'register_error', Load(), lineno=637, col_offset=37), Num(42, lineno=637, col_offset=60)], [], None, None, lineno=637, col_offset=8), lineno=637, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=638, col_offset=8), 'assertRaises', Load(), lineno=638, col_offset=8), [Name('TypeError', Load(), lineno=638, col_offset=26), Attribute(Name('codecs', Load(), lineno=638, col_offset=37), 'register_error', Load(), lineno=638, col_offset=37), Str('test.dummy', lineno=638, col_offset=60), Num(42, lineno=638, col_offset=74)], [], None, None, lineno=638, col_offset=8), lineno=638, col_offset=8)], [], lineno=633, col_offset=4), FunctionDef('test_badlookupcall', arguments([Name('self', Param(), lineno=640, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=643, col_offset=8), 'assertRaises', Load(), lineno=643, col_offset=8), [Name('TypeError', Load(), lineno=643, col_offset=26), Attribute(Name('codecs', Load(), lineno=643, col_offset=37), 'lookup_error', Load(), lineno=643, col_offset=37)], [], None, None, lineno=643, col_offset=8), lineno=643, col_offset=8)], [], lineno=640, col_offset=4), FunctionDef('test_unknownhandler', arguments([Name('self', Param(), lineno=645, col_offset=28)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=648, col_offset=8), 'assertRaises', Load(), lineno=648, col_offset=8), [Name('LookupError', Load(), lineno=648, col_offset=26), Attribute(Name('codecs', Load(), lineno=648, col_offset=39), 'lookup_error', Load(), lineno=648, col_offset=39), Str('test.unknown', lineno=648, col_offset=60)], [], None, None, lineno=648, col_offset=8), lineno=648, col_offset=8)], [], lineno=645, col_offset=4), FunctionDef('test_xmlcharrefvalues', arguments([Name('self', Param(), lineno=650, col_offset=30)], None, None, []), [Assign([Name('v', Store(), lineno=654, col_offset=8)], Tuple([Num(1, lineno=654, col_offset=13), Num(5, lineno=654, col_offset=16), Num(10, lineno=654, col_offset=19), Num(50, lineno=654, col_offset=23), Num(100, lineno=654, col_offset=27), Num(500, lineno=654, col_offset=32), Num(1000, lineno=654, col_offset=37), Num(5000, lineno=654, col_offset=43), Num(10000, lineno=654, col_offset=49), Num(50000, lineno=654, col_offset=56)], Load(), lineno=654, col_offset=13), lineno=654, col_offset=8), If(Compare(Attribute(Name('sys', Load(), lineno=655, col_offset=11), 'maxunicode', Load(), lineno=655, col_offset=11), [GtE()], [Num(100000, lineno=655, col_offset=27)], lineno=655, col_offset=11), [AugAssign(Name('v', Store(), lineno=656, col_offset=12), Add(), Tuple([Num(100000, lineno=656, col_offset=18), Num(500000, lineno=656, col_offset=26), Num(1000000, lineno=656, col_offset=34)], Load(), lineno=656, col_offset=18), lineno=656, col_offset=12)], [], lineno=655, col_offset=8), Assign([Name('s', Store(), lineno=657, col_offset=8)], Call(Attribute(Str(u'', lineno=657, col_offset=12), 'join', Load(), lineno=657, col_offset=12), [ListComp(Call(Name('unichr', Load(), lineno=657, col_offset=22), [Name('x', Load(), lineno=657, col_offset=29)], [], None, None, lineno=657, col_offset=22), [comprehension(Name('x', Store(), lineno=657, col_offset=36), Name('v', Load(), lineno=657, col_offset=41), [])], lineno=657, col_offset=22)], [], None, None, lineno=657, col_offset=12), lineno=657, col_offset=8), Expr(Call(Attribute(Name('codecs', Load(), lineno=658, col_offset=8), 'register_error', Load(), lineno=658, col_offset=8), [Str('test.xmlcharrefreplace', lineno=658, col_offset=30), Attribute(Name('codecs', Load(), lineno=658, col_offset=56), 'xmlcharrefreplace_errors', Load(), lineno=658, col_offset=56)], [], None, None, lineno=658, col_offset=8), lineno=658, col_offset=8), For(Name('enc', Store(), lineno=659, col_offset=12), Tuple([Str('ascii', lineno=659, col_offset=20), Str('iso-8859-15', lineno=659, col_offset=29)], Load(), lineno=659, col_offset=20), [For(Name('err', Store(), lineno=660, col_offset=16), Tuple([Str('xmlcharrefreplace', lineno=660, col_offset=24), Str('test.xmlcharrefreplace', lineno=660, col_offset=45)], Load(), lineno=660, col_offset=24), [Expr(Call(Attribute(Name('s', Load(), lineno=661, col_offset=16), 'encode', Load(), lineno=661, col_offset=16), [Name('enc', Load(), lineno=661, col_offset=25), Name('err', Load(), lineno=661, col_offset=30)], [], None, None, lineno=661, col_offset=16), lineno=661, col_offset=16)], [], lineno=660, col_offset=12)], [], lineno=659, col_offset=8)], [], lineno=650, col_offset=4), FunctionDef('test_decodehelper', arguments([Name('self', Param(), lineno=663, col_offset=26)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=667, col_offset=8), 'assertRaises', Load(), lineno=667, col_offset=8), [Name('LookupError', Load(), lineno=667, col_offset=26), Attribute(Str('\xff', lineno=667, col_offset=39), 'decode', Load(), lineno=667, col_offset=39), Str('ascii', lineno=667, col_offset=54), Str('test.unknown', lineno=667, col_offset=63)], [], None, None, lineno=667, col_offset=8), lineno=667, col_offset=8), FunctionDef('baddecodereturn1', arguments([Name('exc', Param(), lineno=669, col_offset=29)], None, None, []), [Return(Num(42, lineno=670, col_offset=19), lineno=670, col_offset=12)], [], lineno=669, col_offset=8), Expr(Call(Attribute(Name('codecs', Load(), lineno=671, col_offset=8), 'register_error', Load(), lineno=671, col_offset=8), [Str('test.baddecodereturn1', lineno=671, col_offset=30), Name('baddecodereturn1', Load(), lineno=671, col_offset=55)], [], None, None, lineno=671, col_offset=8), lineno=671, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=672, col_offset=8), 'assertRaises', Load(), lineno=672, col_offset=8), [Name('TypeError', Load(), lineno=672, col_offset=26), Attribute(Str('\xff', lineno=672, col_offset=37), 'decode', Load(), lineno=672, col_offset=37), Str('ascii', lineno=672, col_offset=52), Str('test.baddecodereturn1', lineno=672, col_offset=61)], [], None, None, lineno=672, col_offset=8), lineno=672, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=673, col_offset=8), 'assertRaises', Load(), lineno=673, col_offset=8), [Name('TypeError', Load(), lineno=673, col_offset=26), Attribute(Str('\\', lineno=673, col_offset=37), 'decode', Load(), lineno=673, col_offset=37), Str('unicode-escape', lineno=673, col_offset=50), Str('test.baddecodereturn1', lineno=673, col_offset=68)], [], None, None, lineno=673, col_offset=8), lineno=673, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=674, col_offset=8), 'assertRaises', Load(), lineno=674, col_offset=8), [Name('TypeError', Load(), lineno=674, col_offset=26), Attribute(Str('\\x0', lineno=674, col_offset=37), 'decode', Load(), lineno=674, col_offset=37), Str('unicode-escape', lineno=674, col_offset=52), Str('test.baddecodereturn1', lineno=674, col_offset=70)], [], None, None, lineno=674, col_offset=8), lineno=674, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=675, col_offset=8), 'assertRaises', Load(), lineno=675, col_offset=8), [Name('TypeError', Load(), lineno=675, col_offset=26), Attribute(Str('\\x0y', lineno=675, col_offset=37), 'decode', Load(), lineno=675, col_offset=37), Str('unicode-escape', lineno=675, col_offset=53), Str('test.baddecodereturn1', lineno=675, col_offset=71)], [], None, None, lineno=675, col_offset=8), lineno=675, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=676, col_offset=8), 'assertRaises', Load(), lineno=676, col_offset=8), [Name('TypeError', Load(), lineno=676, col_offset=26), Attribute(Str('\\Uffffeeee', lineno=676, col_offset=37), 'decode', Load(), lineno=676, col_offset=37), Str('unicode-escape', lineno=676, col_offset=59), Str('test.baddecodereturn1', lineno=676, col_offset=77)], [], None, None, lineno=676, col_offset=8), lineno=676, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=677, col_offset=8), 'assertRaises', Load(), lineno=677, col_offset=8), [Name('TypeError', Load(), lineno=677, col_offset=26), Attribute(Str('\\uyyyy', lineno=677, col_offset=37), 'decode', Load(), lineno=677, col_offset=37), Str('raw-unicode-escape', lineno=677, col_offset=55), Str('test.baddecodereturn1', lineno=677, col_offset=77)], [], None, None, lineno=677, col_offset=8), lineno=677, col_offset=8), FunctionDef('baddecodereturn2', arguments([Name('exc', Param(), lineno=679, col_offset=29)], None, None, []), [Return(Tuple([Str(u'?', lineno=680, col_offset=20), Name('None', Load(), lineno=680, col_offset=26)], Load(), lineno=680, col_offset=20), lineno=680, col_offset=12)], [], lineno=679, col_offset=8), Expr(Call(Attribute(Name('codecs', Load(), lineno=681, col_offset=8), 'register_error', Load(), lineno=681, col_offset=8), [Str('test.baddecodereturn2', lineno=681, col_offset=30), Name('baddecodereturn2', Load(), lineno=681, col_offset=55)], [], None, None, lineno=681, col_offset=8), lineno=681, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=682, col_offset=8), 'assertRaises', Load(), lineno=682, col_offset=8), [Name('TypeError', Load(), lineno=682, col_offset=26), Attribute(Str('\xff', lineno=682, col_offset=37), 'decode', Load(), lineno=682, col_offset=37), Str('ascii', lineno=682, col_offset=52), Str('test.baddecodereturn2', lineno=682, col_offset=61)], [], None, None, lineno=682, col_offset=8), lineno=682, col_offset=8), Assign([Name('handler', Store(), lineno=684, col_offset=8)], Call(Name('PosReturn', Load(), lineno=684, col_offset=18), [], [], None, None, lineno=684, col_offset=18), lineno=684, col_offset=8), Expr(Call(Attribute(Name('codecs', Load(), lineno=685, col_offset=8), 'register_error', Load(), lineno=685, col_offset=8), [Str('test.posreturn', lineno=685, col_offset=30), Attribute(Name('handler', Load(), lineno=685, col_offset=48), 'handle', Load(), lineno=685, col_offset=48)], [], None, None, lineno=685, col_offset=8), lineno=685, col_offset=8), Assign([Attribute(Name('handler', Load(), lineno=688, col_offset=8), 'pos', Store(), lineno=688, col_offset=8)], Num(-1, lineno=688, col_offset=23), lineno=688, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=689, col_offset=8), 'assertEqual', Load(), lineno=689, col_offset=8), [Call(Attribute(Str('\xff0', lineno=689, col_offset=25), 'decode', Load(), lineno=689, col_offset=25), [Str('ascii', lineno=689, col_offset=40), Str('test.posreturn', lineno=689, col_offset=49)], [], None, None, lineno=689, col_offset=25), Str(u'<?>0', lineno=689, col_offset=68)], [], None, None, lineno=689, col_offset=8), lineno=689, col_offset=8), Assign([Attribute(Name('handler', Load(), lineno=692, col_offset=8), 'pos', Store(), lineno=692, col_offset=8)], Num(-2, lineno=692, col_offset=23), lineno=692, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=693, col_offset=8), 'assertEqual', Load(), lineno=693, col_offset=8), [Call(Attribute(Str('\xff0', lineno=693, col_offset=25), 'decode', Load(), lineno=693, col_offset=25), [Str('ascii', lineno=693, col_offset=40), Str('test.posreturn', lineno=693, col_offset=49)], [], None, None, lineno=693, col_offset=25), Str(u'<?><?>', lineno=693, col_offset=68)], [], None, None, lineno=693, col_offset=8), lineno=693, col_offset=8), Assign([Attribute(Name('handler', Load(), lineno=696, col_offset=8), 'pos', Store(), lineno=696, col_offset=8)], Num(-3, lineno=696, col_offset=23), lineno=696, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=697, col_offset=8), 'assertRaises', Load(), lineno=697, col_offset=8), [Name('IndexError', Load(), lineno=697, col_offset=26), Attribute(Str('\xff0', lineno=697, col_offset=38), 'decode', Load(), lineno=697, col_offset=38), Str('ascii', lineno=697, col_offset=54), Str('test.posreturn', lineno=697, col_offset=63)], [], None, None, lineno=697, col_offset=8), lineno=697, col_offset=8), Assign([Attribute(Name('handler', Load(), lineno=700, col_offset=8), 'pos', Store(), lineno=700, col_offset=8)], Num(1, lineno=700, col_offset=22), lineno=700, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=701, col_offset=8), 'assertEqual', Load(), lineno=701, col_offset=8), [Call(Attribute(Str('\xff0', lineno=701, col_offset=25), 'decode', Load(), lineno=701, col_offset=25), [Str('ascii', lineno=701, col_offset=40), Str('test.posreturn', lineno=701, col_offset=49)], [], None, None, lineno=701, col_offset=25), Str(u'<?>0', lineno=701, col_offset=68)], [], None, None, lineno=701, col_offset=8), lineno=701, col_offset=8), Assign([Attribute(Name('handler', Load(), lineno=704, col_offset=8), 'pos', Store(), lineno=704, col_offset=8)], Num(2, lineno=704, col_offset=22), lineno=704, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=705, col_offset=8), 'assertEqual', Load(), lineno=705, col_offset=8), [Call(Attribute(Str('\xff0', lineno=705, col_offset=25), 'decode', Load(), lineno=705, col_offset=25), [Str('ascii', lineno=705, col_offset=40), Str('test.posreturn', lineno=705, col_offset=49)], [], None, None, lineno=705, col_offset=25), Str(u'<?>', lineno=705, col_offset=68)], [], None, None, lineno=705, col_offset=8), lineno=705, col_offset=8), Assign([Attribute(Name('handler', Load(), lineno=708, col_offset=8), 'pos', Store(), lineno=708, col_offset=8)], Num(3, lineno=708, col_offset=22), lineno=708, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=709, col_offset=8), 'assertRaises', Load(), lineno=709, col_offset=8), [Name('IndexError', Load(), lineno=709, col_offset=26), Attribute(Str('\xff0', lineno=709, col_offset=38), 'decode', Load(), lineno=709, col_offset=38), Str('ascii', lineno=709, col_offset=54), Str('test.posreturn', lineno=709, col_offset=63)], [], None, None, lineno=709, col_offset=8), lineno=709, col_offset=8), Assign([Attribute(Name('handler', Load(), lineno=712, col_offset=8), 'pos', Store(), lineno=712, col_offset=8)], Num(6, lineno=712, col_offset=22), lineno=712, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=713, col_offset=8), 'assertEqual', Load(), lineno=713, col_offset=8), [Call(Attribute(Str('\\uyyyy0', lineno=713, col_offset=25), 'decode', Load(), lineno=713, col_offset=25), [Str('raw-unicode-escape', lineno=713, col_offset=43), Str('test.posreturn', lineno=713, col_offset=65)], [], None, None, lineno=713, col_offset=25), Str(u'<?>0', lineno=713, col_offset=84)], [], None, None, lineno=713, col_offset=8), lineno=713, col_offset=8), ClassDef('D', [Name('dict', Load(), lineno=715, col_offset=16)], [FunctionDef('__getitem__', arguments([Name('self', Param(), lineno=716, col_offset=28), Name('key', Param(), lineno=716, col_offset=34)], None, None, []), [Raise(Name('ValueError', Load(), lineno=717, col_offset=22), None, None, lineno=717, col_offset=16)], [], lineno=716, col_offset=12)], [], lineno=715, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=718, col_offset=8), 'assertRaises', Load(), lineno=718, col_offset=8), [Name('UnicodeError', Load(), lineno=718, col_offset=26), Attribute(Name('codecs', Load(), lineno=718, col_offset=40), 'charmap_decode', Load(), lineno=718, col_offset=40), Str('\xff', lineno=718, col_offset=63), Str('strict', lineno=718, col_offset=71), Dict([Num(255, lineno=718, col_offset=82)], [Name('None', Load(), lineno=718, col_offset=88)], lineno=718, col_offset=81)], [], None, None, lineno=718, col_offset=8), lineno=718, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=719, col_offset=8), 'assertRaises', Load(), lineno=719, col_offset=8), [Name('ValueError', Load(), lineno=719, col_offset=26), Attribute(Name('codecs', Load(), lineno=719, col_offset=38), 'charmap_decode', Load(), lineno=719, col_offset=38), Str('\xff', lineno=719, col_offset=61), Str('strict', lineno=719, col_offset=69), Call(Name('D', Load(), lineno=719, col_offset=79), [], [], None, None, lineno=719, col_offset=79)], [], None, None, lineno=719, col_offset=8), lineno=719, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=720, col_offset=8), 'assertRaises', Load(), lineno=720, col_offset=8), [Name('TypeError', Load(), lineno=720, col_offset=26), Attribute(Name('codecs', Load(), lineno=720, col_offset=37), 'charmap_decode', Load(), lineno=720, col_offset=37), Str('\xff', lineno=720, col_offset=60), Str('strict', lineno=720, col_offset=68), Dict([Num(255, lineno=720, col_offset=79)], [BinOp(Attribute(Name('sys', Load(), lineno=720, col_offset=85), 'maxunicode', Load(), lineno=720, col_offset=85), Add(), Num(1, lineno=720, col_offset=100), lineno=720, col_offset=85)], lineno=720, col_offset=78)], [], None, None, lineno=720, col_offset=8), lineno=720, col_offset=8)], [], lineno=663, col_offset=4), FunctionDef('test_encodehelper', arguments([Name('self', Param(), lineno=722, col_offset=26)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=726, col_offset=8), 'assertRaises', Load(), lineno=726, col_offset=8), [Name('LookupError', Load(), lineno=726, col_offset=26), Attribute(Str(u'\xff', lineno=726, col_offset=39), 'encode', Load(), lineno=726, col_offset=39), Str('ascii', lineno=726, col_offset=55), Str('test.unknown', lineno=726, col_offset=64)], [], None, None, lineno=726, col_offset=8), lineno=726, col_offset=8), FunctionDef('badencodereturn1', arguments([Name('exc', Param(), lineno=728, col_offset=29)], None, None, []), [Return(Num(42, lineno=729, col_offset=19), lineno=729, col_offset=12)], [], lineno=728, col_offset=8), Expr(Call(Attribute(Name('codecs', Load(), lineno=730, col_offset=8), 'register_error', Load(), lineno=730, col_offset=8), [Str('test.badencodereturn1', lineno=730, col_offset=30), Name('badencodereturn1', Load(), lineno=730, col_offset=55)], [], None, None, lineno=730, col_offset=8), lineno=730, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=731, col_offset=8), 'assertRaises', Load(), lineno=731, col_offset=8), [Name('TypeError', Load(), lineno=731, col_offset=26), Attribute(Str(u'\xff', lineno=731, col_offset=37), 'encode', Load(), lineno=731, col_offset=37), Str('ascii', lineno=731, col_offset=53), Str('test.badencodereturn1', lineno=731, col_offset=62)], [], None, None, lineno=731, col_offset=8), lineno=731, col_offset=8), FunctionDef('badencodereturn2', arguments([Name('exc', Param(), lineno=733, col_offset=29)], None, None, []), [Return(Tuple([Str(u'?', lineno=734, col_offset=20), Name('None', Load(), lineno=734, col_offset=26)], Load(), lineno=734, col_offset=20), lineno=734, col_offset=12)], [], lineno=733, col_offset=8), Expr(Call(Attribute(Name('codecs', Load(), lineno=735, col_offset=8), 'register_error', Load(), lineno=735, col_offset=8), [Str('test.badencodereturn2', lineno=735, col_offset=30), Name('badencodereturn2', Load(), lineno=735, col_offset=55)], [], None, None, lineno=735, col_offset=8), lineno=735, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=736, col_offset=8), 'assertRaises', Load(), lineno=736, col_offset=8), [Name('TypeError', Load(), lineno=736, col_offset=26), Attribute(Str(u'\xff', lineno=736, col_offset=37), 'encode', Load(), lineno=736, col_offset=37), Str('ascii', lineno=736, col_offset=53), Str('test.badencodereturn2', lineno=736, col_offset=62)], [], None, None, lineno=736, col_offset=8), lineno=736, col_offset=8), Assign([Name('handler', Store(), lineno=738, col_offset=8)], Call(Name('PosReturn', Load(), lineno=738, col_offset=18), [], [], None, None, lineno=738, col_offset=18), lineno=738, col_offset=8), Expr(Call(Attribute(Name('codecs', Load(), lineno=739, col_offset=8), 'register_error', Load(), lineno=739, col_offset=8), [Str('test.posreturn', lineno=739, col_offset=30), Attribute(Name('handler', Load(), lineno=739, col_offset=48), 'handle', Load(), lineno=739, col_offset=48)], [], None, None, lineno=739, col_offset=8), lineno=739, col_offset=8), Assign([Attribute(Name('handler', Load(), lineno=742, col_offset=8), 'pos', Store(), lineno=742, col_offset=8)], Num(-1, lineno=742, col_offset=23), lineno=742, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=743, col_offset=8), 'assertEqual', Load(), lineno=743, col_offset=8), [Call(Attribute(Str(u'\xff0', lineno=743, col_offset=25), 'encode', Load(), lineno=743, col_offset=25), [Str('ascii', lineno=743, col_offset=41), Str('test.posreturn', lineno=743, col_offset=50)], [], None, None, lineno=743, col_offset=25), Str('<?>0', lineno=743, col_offset=69)], [], None, None, lineno=743, col_offset=8), lineno=743, col_offset=8), Assign([Attribute(Name('handler', Load(), lineno=746, col_offset=8), 'pos', Store(), lineno=746, col_offset=8)], Num(-2, lineno=746, col_offset=23), lineno=746, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=747, col_offset=8), 'assertEqual', Load(), lineno=747, col_offset=8), [Call(Attribute(Str(u'\xff0', lineno=747, col_offset=25), 'encode', Load(), lineno=747, col_offset=25), [Str('ascii', lineno=747, col_offset=41), Str('test.posreturn', lineno=747, col_offset=50)], [], None, None, lineno=747, col_offset=25), Str('<?><?>', lineno=747, col_offset=69)], [], None, None, lineno=747, col_offset=8), lineno=747, col_offset=8), Assign([Attribute(Name('handler', Load(), lineno=750, col_offset=8), 'pos', Store(), lineno=750, col_offset=8)], Num(-3, lineno=750, col_offset=23), lineno=750, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=751, col_offset=8), 'assertRaises', Load(), lineno=751, col_offset=8), [Name('IndexError', Load(), lineno=751, col_offset=26), Attribute(Str(u'\xff0', lineno=751, col_offset=38), 'encode', Load(), lineno=751, col_offset=38), Str('ascii', lineno=751, col_offset=55), Str('test.posreturn', lineno=751, col_offset=64)], [], None, None, lineno=751, col_offset=8), lineno=751, col_offset=8), Assign([Attribute(Name('handler', Load(), lineno=754, col_offset=8), 'pos', Store(), lineno=754, col_offset=8)], Num(1, lineno=754, col_offset=22), lineno=754, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=755, col_offset=8), 'assertEqual', Load(), lineno=755, col_offset=8), [Call(Attribute(Str(u'\xff0', lineno=755, col_offset=25), 'encode', Load(), lineno=755, col_offset=25), [Str('ascii', lineno=755, col_offset=41), Str('test.posreturn', lineno=755, col_offset=50)], [], None, None, lineno=755, col_offset=25), Str('<?>0', lineno=755, col_offset=69)], [], None, None, lineno=755, col_offset=8), lineno=755, col_offset=8), Assign([Attribute(Name('handler', Load(), lineno=758, col_offset=8), 'pos', Store(), lineno=758, col_offset=8)], Num(2, lineno=758, col_offset=22), lineno=758, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=759, col_offset=8), 'assertEqual', Load(), lineno=759, col_offset=8), [Call(Attribute(Str(u'\xff0', lineno=759, col_offset=25), 'encode', Load(), lineno=759, col_offset=25), [Str('ascii', lineno=759, col_offset=41), Str('test.posreturn', lineno=759, col_offset=50)], [], None, None, lineno=759, col_offset=25), Str('<?>', lineno=759, col_offset=69)], [], None, None, lineno=759, col_offset=8), lineno=759, col_offset=8), Assign([Attribute(Name('handler', Load(), lineno=762, col_offset=8), 'pos', Store(), lineno=762, col_offset=8)], Num(3, lineno=762, col_offset=22), lineno=762, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=763, col_offset=8), 'assertRaises', Load(), lineno=763, col_offset=8), [Name('IndexError', Load(), lineno=763, col_offset=26), Attribute(Str(u'\xff0', lineno=763, col_offset=38), 'encode', Load(), lineno=763, col_offset=38), Str('ascii', lineno=763, col_offset=55), Str('test.posreturn', lineno=763, col_offset=64)], [], None, None, lineno=763, col_offset=8), lineno=763, col_offset=8), Assign([Attribute(Name('handler', Load(), lineno=765, col_offset=8), 'pos', Store(), lineno=765, col_offset=8)], Num(0, lineno=765, col_offset=22), lineno=765, col_offset=8), ClassDef('D', [Name('dict', Load(), lineno=767, col_offset=16)], [FunctionDef('__getitem__', arguments([Name('self', Param(), lineno=768, col_offset=28), Name('key', Param(), lineno=768, col_offset=34)], None, None, []), [Raise(Name('ValueError', Load(), lineno=769, col_offset=22), None, None, lineno=769, col_offset=16)], [], lineno=768, col_offset=12)], [], lineno=767, col_offset=8), For(Name('err', Store(), lineno=770, col_offset=12), Tuple([Str('strict', lineno=770, col_offset=20), Str('replace', lineno=770, col_offset=30), Str('xmlcharrefreplace', lineno=770, col_offset=41), Str('backslashreplace', lineno=770, col_offset=62), Str('test.posreturn', lineno=770, col_offset=82)], Load(), lineno=770, col_offset=20), [Expr(Call(Attribute(Name('self', Load(), lineno=771, col_offset=12), 'assertRaises', Load(), lineno=771, col_offset=12), [Name('UnicodeError', Load(), lineno=771, col_offset=30), Attribute(Name('codecs', Load(), lineno=771, col_offset=44), 'charmap_encode', Load(), lineno=771, col_offset=44), Str(u'\xff', lineno=771, col_offset=67), Name('err', Load(), lineno=771, col_offset=76), Dict([Num(255, lineno=771, col_offset=82)], [Name('None', Load(), lineno=771, col_offset=88)], lineno=771, col_offset=81)], [], None, None, lineno=771, col_offset=12), lineno=771, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=772, col_offset=12), 'assertRaises', Load(), lineno=772, col_offset=12), [Name('ValueError', Load(), lineno=772, col_offset=30), Attribute(Name('codecs', Load(), lineno=772, col_offset=42), 'charmap_encode', Load(), lineno=772, col_offset=42), Str(u'\xff', lineno=772, col_offset=65), Name('err', Load(), lineno=772, col_offset=74), Call(Name('D', Load(), lineno=772, col_offset=79), [], [], None, None, lineno=772, col_offset=79)], [], None, None, lineno=772, col_offset=12), lineno=772, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=773, col_offset=12), 'assertRaises', Load(), lineno=773, col_offset=12), [Name('TypeError', Load(), lineno=773, col_offset=30), Attribute(Name('codecs', Load(), lineno=773, col_offset=41), 'charmap_encode', Load(), lineno=773, col_offset=41), Str(u'\xff', lineno=773, col_offset=64), Name('err', Load(), lineno=773, col_offset=73), Dict([Num(255, lineno=773, col_offset=79)], [Num(300, lineno=773, col_offset=85)], lineno=773, col_offset=78)], [], None, None, lineno=773, col_offset=12), lineno=773, col_offset=12)], [], lineno=770, col_offset=8)], [], lineno=722, col_offset=4), FunctionDef('test_translatehelper', arguments([Name('self', Param(), lineno=775, col_offset=29)], None, None, []), [ClassDef('D', [Name('dict', Load(), lineno=781, col_offset=16)], [FunctionDef('__getitem__', arguments([Name('self', Param(), lineno=782, col_offset=28), Name('key', Param(), lineno=782, col_offset=34)], None, None, []), [Raise(Name('ValueError', Load(), lineno=783, col_offset=22), None, None, lineno=783, col_offset=16)], [], lineno=782, col_offset=12)], [], lineno=781, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=784, col_offset=8), 'assertRaises', Load(), lineno=784, col_offset=8), [Name('ValueError', Load(), lineno=784, col_offset=26), Attribute(Str(u'\xff', lineno=784, col_offset=38), 'translate', Load(), lineno=784, col_offset=38), Call(Name('D', Load(), lineno=784, col_offset=57), [], [], None, None, lineno=784, col_offset=57)], [], None, None, lineno=784, col_offset=8), lineno=784, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=785, col_offset=8), 'assertRaises', Load(), lineno=785, col_offset=8), [Name('TypeError', Load(), lineno=785, col_offset=26), Attribute(Str(u'\xff', lineno=785, col_offset=37), 'translate', Load(), lineno=785, col_offset=37), Dict([Num(255, lineno=785, col_offset=57)], [BinOp(Attribute(Name('sys', Load(), lineno=785, col_offset=63), 'maxunicode', Load(), lineno=785, col_offset=63), Add(), Num(1, lineno=785, col_offset=78), lineno=785, col_offset=63)], lineno=785, col_offset=56)], [], None, None, lineno=785, col_offset=8), lineno=785, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=786, col_offset=8), 'assertRaises', Load(), lineno=786, col_offset=8), [Name('TypeError', Load(), lineno=786, col_offset=26), Attribute(Str(u'\xff', lineno=786, col_offset=37), 'translate', Load(), lineno=786, col_offset=37), Dict([Num(255, lineno=786, col_offset=57)], [Tuple([], Load(), lineno=786, col_offset=63)], lineno=786, col_offset=56)], [], None, None, lineno=786, col_offset=8), lineno=786, col_offset=8)], [], lineno=775, col_offset=4), FunctionDef('test_bug828737', arguments([Name('self', Param(), lineno=788, col_offset=23)], None, None, []), [Assign([Name('charmap', Store(), lineno=789, col_offset=8)], Dict([Call(Name('ord', Load(), lineno=790, col_offset=12), [Str('&', lineno=790, col_offset=16)], [], None, None, lineno=790, col_offset=12), Call(Name('ord', Load(), lineno=791, col_offset=12), [Str('<', lineno=791, col_offset=16)], [], None, None, lineno=791, col_offset=12), Call(Name('ord', Load(), lineno=792, col_offset=12), [Str('>', lineno=792, col_offset=16)], [], None, None, lineno=792, col_offset=12), Call(Name('ord', Load(), lineno=793, col_offset=12), [Str('"', lineno=793, col_offset=16)], [], None, None, lineno=793, col_offset=12)], [Str(u'&amp;', lineno=790, col_offset=22), Str(u'&lt;', lineno=791, col_offset=22), Str(u'&gt;', lineno=792, col_offset=22), Str(u'&quot;', lineno=793, col_offset=22)], lineno=789, col_offset=18), lineno=789, col_offset=8), For(Name('n', Store(), lineno=796, col_offset=12), Tuple([Num(1, lineno=796, col_offset=18), Num(10, lineno=796, col_offset=21), Num(100, lineno=796, col_offset=25), Num(1000, lineno=796, col_offset=30)], Load(), lineno=796, col_offset=18), [Assign([Name('text', Store(), lineno=797, col_offset=12)], BinOp(Str(u'abc<def>ghi', lineno=797, col_offset=19), Mult(), Name('n', Load(), lineno=797, col_offset=34), lineno=797, col_offset=19), lineno=797, col_offset=12), Expr(Call(Attribute(Name('text', Load(), lineno=798, col_offset=12), 'translate', Load(), lineno=798, col_offset=12), [Name('charmap', Load(), lineno=798, col_offset=27)], [], None, None, lineno=798, col_offset=12), lineno=798, col_offset=12)], [], lineno=796, col_offset=8)], [], lineno=788, col_offset=4)], [], lineno=63, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Attribute(Attribute(Name('test', Load(), lineno=801, col_offset=4), 'test_support', Load(), lineno=801, col_offset=4), 'run_unittest', Load(), lineno=801, col_offset=4), [Name('CodecCallbackTest', Load(), lineno=801, col_offset=35)], [], None, None, lineno=801, col_offset=4), lineno=801, col_offset=4)], [], lineno=800, col_offset=0), If(Compare(Name('__name__', Load(), lineno=803, col_offset=3), [Eq()], [Str('__main__', lineno=803, col_offset=15)], lineno=803, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=804, col_offset=4), [], [], None, None, lineno=804, col_offset=4), lineno=804, col_offset=4)], [], lineno=803, col_offset=0)])
