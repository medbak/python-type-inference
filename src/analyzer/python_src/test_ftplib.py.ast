Module([Expr(Str('Test script for ftplib module.', lineno=1, col_offset=0), lineno=1, col_offset=0), Import([alias('ftplib', None)], lineno=6, col_offset=0), Import([alias('asyncore', None)], lineno=7, col_offset=0), Import([alias('asynchat', None)], lineno=8, col_offset=0), Import([alias('socket', None)], lineno=9, col_offset=0), Import([alias('StringIO', None)], lineno=10, col_offset=0), Import([alias('errno', None)], lineno=11, col_offset=0), Import([alias('os', None)], lineno=12, col_offset=0), TryExcept([Import([alias('ssl', None)], lineno=14, col_offset=4)], [ExceptHandler(Name('ImportError', Load(), lineno=15, col_offset=7), None, [Assign([Name('ssl', Store(), lineno=16, col_offset=4)], Name('None', Load(), lineno=16, col_offset=10), lineno=16, col_offset=4)], lineno=15, col_offset=0)], [], lineno=13, col_offset=0), ImportFrom('unittest', [alias('TestCase', None)], 0, lineno=18, col_offset=0), ImportFrom('test', [alias('test_support', None)], 0, lineno=19, col_offset=0), ImportFrom('test.test_support', [alias('HOST', None)], 0, lineno=20, col_offset=0), Assign([Name('threading', Store(), lineno=21, col_offset=0)], Call(Attribute(Name('test_support', Load(), lineno=21, col_offset=12), 'import_module', Load(), lineno=21, col_offset=12), [Str('threading', lineno=21, col_offset=39)], [], None, None, lineno=21, col_offset=12), lineno=21, col_offset=0), Assign([Name('RETR_DATA', Store(), lineno=26, col_offset=0)], BinOp(Str('abcde12345\r\n', lineno=26, col_offset=12), Mult(), Num(1000, lineno=26, col_offset=31), lineno=26, col_offset=12), lineno=26, col_offset=0), Assign([Name('LIST_DATA', Store(), lineno=27, col_offset=0)], Str('foo\r\nbar\r\n', lineno=27, col_offset=12), lineno=27, col_offset=0), Assign([Name('NLST_DATA', Store(), lineno=28, col_offset=0)], Str('foo\r\nbar\r\n', lineno=28, col_offset=12), lineno=28, col_offset=0), ClassDef('DummyDTPHandler', [Attribute(Name('asynchat', Load(), lineno=31, col_offset=22), 'async_chat', Load(), lineno=31, col_offset=22)], [Assign([Name('dtp_conn_closed', Store(), lineno=32, col_offset=4)], Name('False', Load(), lineno=32, col_offset=22), lineno=32, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=34, col_offset=17), Name('conn', Param(), lineno=34, col_offset=23), Name('baseclass', Param(), lineno=34, col_offset=29)], None, None, []), [Expr(Call(Attribute(Attribute(Name('asynchat', Load(), lineno=35, col_offset=8), 'async_chat', Load(), lineno=35, col_offset=8), '__init__', Load(), lineno=35, col_offset=8), [Name('self', Load(), lineno=35, col_offset=37), Name('conn', Load(), lineno=35, col_offset=43)], [], None, None, lineno=35, col_offset=8), lineno=35, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=36, col_offset=8), 'baseclass', Store(), lineno=36, col_offset=8)], Name('baseclass', Load(), lineno=36, col_offset=25), lineno=36, col_offset=8), Assign([Attribute(Attribute(Name('self', Load(), lineno=37, col_offset=8), 'baseclass', Load(), lineno=37, col_offset=8), 'last_received_data', Store(), lineno=37, col_offset=8)], Str('', lineno=37, col_offset=44), lineno=37, col_offset=8)], [], lineno=34, col_offset=4), FunctionDef('handle_read', arguments([Name('self', Param(), lineno=39, col_offset=20)], None, None, []), [AugAssign(Attribute(Attribute(Name('self', Load(), lineno=40, col_offset=8), 'baseclass', Load(), lineno=40, col_offset=8), 'last_received_data', Store(), lineno=40, col_offset=8), Add(), Call(Attribute(Name('self', Load(), lineno=40, col_offset=45), 'recv', Load(), lineno=40, col_offset=45), [Num(1024, lineno=40, col_offset=55)], [], None, None, lineno=40, col_offset=45), lineno=40, col_offset=8)], [], lineno=39, col_offset=4), FunctionDef('handle_close', arguments([Name('self', Param(), lineno=42, col_offset=21)], None, None, []), [If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=46, col_offset=15), 'dtp_conn_closed', Load(), lineno=46, col_offset=15), lineno=46, col_offset=11), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=47, col_offset=12), 'baseclass', Load(), lineno=47, col_offset=12), 'push', Load(), lineno=47, col_offset=12), [Str('226 transfer complete', lineno=47, col_offset=32)], [], None, None, lineno=47, col_offset=12), lineno=47, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=48, col_offset=12), 'close', Load(), lineno=48, col_offset=12), [], [], None, None, lineno=48, col_offset=12), lineno=48, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=49, col_offset=12), 'dtp_conn_closed', Store(), lineno=49, col_offset=12)], Name('True', Load(), lineno=49, col_offset=35), lineno=49, col_offset=12)], [], lineno=46, col_offset=8)], [], lineno=42, col_offset=4), FunctionDef('handle_error', arguments([Name('self', Param(), lineno=51, col_offset=21)], None, None, []), [Raise(None, None, None, lineno=52, col_offset=8)], [], lineno=51, col_offset=4)], [], lineno=31, col_offset=0), ClassDef('DummyFTPHandler', [Attribute(Name('asynchat', Load(), lineno=55, col_offset=22), 'async_chat', Load(), lineno=55, col_offset=22)], [Assign([Name('dtp_handler', Store(), lineno=57, col_offset=4)], Name('DummyDTPHandler', Load(), lineno=57, col_offset=18), lineno=57, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=59, col_offset=17), Name('conn', Param(), lineno=59, col_offset=23)], None, None, []), [Expr(Call(Attribute(Attribute(Name('asynchat', Load(), lineno=60, col_offset=8), 'async_chat', Load(), lineno=60, col_offset=8), '__init__', Load(), lineno=60, col_offset=8), [Name('self', Load(), lineno=60, col_offset=37), Name('conn', Load(), lineno=60, col_offset=43)], [], None, None, lineno=60, col_offset=8), lineno=60, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=61, col_offset=8), 'set_terminator', Load(), lineno=61, col_offset=8), [Str('\r\n', lineno=61, col_offset=28)], [], None, None, lineno=61, col_offset=8), lineno=61, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=62, col_offset=8), 'in_buffer', Store(), lineno=62, col_offset=8)], List([], Load(), lineno=62, col_offset=25), lineno=62, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=63, col_offset=8), 'dtp', Store(), lineno=63, col_offset=8)], Name('None', Load(), lineno=63, col_offset=19), lineno=63, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=64, col_offset=8), 'last_received_cmd', Store(), lineno=64, col_offset=8)], Name('None', Load(), lineno=64, col_offset=33), lineno=64, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=65, col_offset=8), 'last_received_data', Store(), lineno=65, col_offset=8)], Str('', lineno=65, col_offset=34), lineno=65, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=66, col_offset=8), 'next_response', Store(), lineno=66, col_offset=8)], Str('', lineno=66, col_offset=29), lineno=66, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=67, col_offset=8), 'rest', Store(), lineno=67, col_offset=8)], Name('None', Load(), lineno=67, col_offset=20), lineno=67, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=68, col_offset=8), 'push', Load(), lineno=68, col_offset=8), [Str('220 welcome', lineno=68, col_offset=18)], [], None, None, lineno=68, col_offset=8), lineno=68, col_offset=8)], [], lineno=59, col_offset=4), FunctionDef('collect_incoming_data', arguments([Name('self', Param(), lineno=70, col_offset=30), Name('data', Param(), lineno=70, col_offset=36)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=71, col_offset=8), 'in_buffer', Load(), lineno=71, col_offset=8), 'append', Load(), lineno=71, col_offset=8), [Name('data', Load(), lineno=71, col_offset=30)], [], None, None, lineno=71, col_offset=8), lineno=71, col_offset=8)], [], lineno=70, col_offset=4), FunctionDef('found_terminator', arguments([Name('self', Param(), lineno=73, col_offset=25)], None, None, []), [Assign([Name('line', Store(), lineno=74, col_offset=8)], Call(Attribute(Str('', lineno=74, col_offset=15), 'join', Load(), lineno=74, col_offset=15), [Attribute(Name('self', Load(), lineno=74, col_offset=23), 'in_buffer', Load(), lineno=74, col_offset=23)], [], None, None, lineno=74, col_offset=15), lineno=74, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=75, col_offset=8), 'in_buffer', Store(), lineno=75, col_offset=8)], List([], Load(), lineno=75, col_offset=25), lineno=75, col_offset=8), If(Attribute(Name('self', Load(), lineno=76, col_offset=11), 'next_response', Load(), lineno=76, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=77, col_offset=12), 'push', Load(), lineno=77, col_offset=12), [Attribute(Name('self', Load(), lineno=77, col_offset=22), 'next_response', Load(), lineno=77, col_offset=22)], [], None, None, lineno=77, col_offset=12), lineno=77, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=78, col_offset=12), 'next_response', Store(), lineno=78, col_offset=12)], Str('', lineno=78, col_offset=33), lineno=78, col_offset=12)], [], lineno=76, col_offset=8), Assign([Name('cmd', Store(), lineno=79, col_offset=8)], Call(Attribute(Subscript(Call(Attribute(Name('line', Load(), lineno=79, col_offset=14), 'split', Load(), lineno=79, col_offset=14), [Str(' ', lineno=79, col_offset=25)], [], None, None, lineno=79, col_offset=14), Index(Num(0, lineno=79, col_offset=30)), Load(), lineno=79, col_offset=14), 'lower', Load(), lineno=79, col_offset=14), [], [], None, None, lineno=79, col_offset=14), lineno=79, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=80, col_offset=8), 'last_received_cmd', Store(), lineno=80, col_offset=8)], Name('cmd', Load(), lineno=80, col_offset=33), lineno=80, col_offset=8), Assign([Name('space', Store(), lineno=81, col_offset=8)], Call(Attribute(Name('line', Load(), lineno=81, col_offset=16), 'find', Load(), lineno=81, col_offset=16), [Str(' ', lineno=81, col_offset=26)], [], None, None, lineno=81, col_offset=16), lineno=81, col_offset=8), If(Compare(Name('space', Load(), lineno=82, col_offset=11), [NotEq()], [Num(-1, lineno=82, col_offset=21)], lineno=82, col_offset=11), [Assign([Name('arg', Store(), lineno=83, col_offset=12)], Subscript(Name('line', Load(), lineno=83, col_offset=18), Slice(BinOp(Name('space', Load(), lineno=83, col_offset=23), Add(), Num(1, lineno=83, col_offset=31), lineno=83, col_offset=23), None, None), Load(), lineno=83, col_offset=18), lineno=83, col_offset=12)], [Assign([Name('arg', Store(), lineno=85, col_offset=12)], Str('', lineno=85, col_offset=18), lineno=85, col_offset=12)], lineno=82, col_offset=8), If(Call(Name('hasattr', Load(), lineno=86, col_offset=11), [Name('self', Load(), lineno=86, col_offset=19), BinOp(Str('cmd_', lineno=86, col_offset=25), Add(), Name('cmd', Load(), lineno=86, col_offset=34), lineno=86, col_offset=25)], [], None, None, lineno=86, col_offset=11), [Assign([Name('method', Store(), lineno=87, col_offset=12)], Call(Name('getattr', Load(), lineno=87, col_offset=21), [Name('self', Load(), lineno=87, col_offset=29), BinOp(Str('cmd_', lineno=87, col_offset=35), Add(), Name('cmd', Load(), lineno=87, col_offset=44), lineno=87, col_offset=35)], [], None, None, lineno=87, col_offset=21), lineno=87, col_offset=12), Expr(Call(Name('method', Load(), lineno=88, col_offset=12), [Name('arg', Load(), lineno=88, col_offset=19)], [], None, None, lineno=88, col_offset=12), lineno=88, col_offset=12)], [Expr(Call(Attribute(Name('self', Load(), lineno=90, col_offset=12), 'push', Load(), lineno=90, col_offset=12), [BinOp(Str('550 command "%s" not understood.', lineno=90, col_offset=22), Mod(), Name('cmd', Load(), lineno=90, col_offset=58), lineno=90, col_offset=22)], [], None, None, lineno=90, col_offset=12), lineno=90, col_offset=12)], lineno=86, col_offset=8)], [], lineno=73, col_offset=4), FunctionDef('handle_error', arguments([Name('self', Param(), lineno=92, col_offset=21)], None, None, []), [Raise(None, None, None, lineno=93, col_offset=8)], [], lineno=92, col_offset=4), FunctionDef('push', arguments([Name('self', Param(), lineno=95, col_offset=13), Name('data', Param(), lineno=95, col_offset=19)], None, None, []), [Expr(Call(Attribute(Attribute(Name('asynchat', Load(), lineno=96, col_offset=8), 'async_chat', Load(), lineno=96, col_offset=8), 'push', Load(), lineno=96, col_offset=8), [Name('self', Load(), lineno=96, col_offset=33), BinOp(Name('data', Load(), lineno=96, col_offset=39), Add(), Str('\r\n', lineno=96, col_offset=46), lineno=96, col_offset=39)], [], None, None, lineno=96, col_offset=8), lineno=96, col_offset=8)], [], lineno=95, col_offset=4), FunctionDef('cmd_port', arguments([Name('self', Param(), lineno=98, col_offset=17), Name('arg', Param(), lineno=98, col_offset=23)], None, None, []), [Assign([Name('addr', Store(), lineno=99, col_offset=8)], Call(Name('map', Load(), lineno=99, col_offset=15), [Name('int', Load(), lineno=99, col_offset=19), Call(Attribute(Name('arg', Load(), lineno=99, col_offset=24), 'split', Load(), lineno=99, col_offset=24), [Str(',', lineno=99, col_offset=34)], [], None, None, lineno=99, col_offset=24)], [], None, None, lineno=99, col_offset=15), lineno=99, col_offset=8), Assign([Name('ip', Store(), lineno=100, col_offset=8)], BinOp(Str('%d.%d.%d.%d', lineno=100, col_offset=13), Mod(), Call(Name('tuple', Load(), lineno=100, col_offset=28), [Subscript(Name('addr', Load(), lineno=100, col_offset=34), Slice(None, Num(4, lineno=100, col_offset=40), None), Load(), lineno=100, col_offset=34)], [], None, None, lineno=100, col_offset=28), lineno=100, col_offset=13), lineno=100, col_offset=8), Assign([Name('port', Store(), lineno=101, col_offset=8)], BinOp(BinOp(Subscript(Name('addr', Load(), lineno=101, col_offset=16), Index(Num(4, lineno=101, col_offset=21)), Load(), lineno=101, col_offset=16), Mult(), Num(256, lineno=101, col_offset=26), lineno=101, col_offset=16), Add(), Subscript(Name('addr', Load(), lineno=101, col_offset=33), Index(Num(5, lineno=101, col_offset=38)), Load(), lineno=101, col_offset=33), lineno=101, col_offset=15), lineno=101, col_offset=8), Assign([Name('s', Store(), lineno=102, col_offset=8)], Call(Attribute(Name('socket', Load(), lineno=102, col_offset=12), 'create_connection', Load(), lineno=102, col_offset=12), [Tuple([Name('ip', Load(), lineno=102, col_offset=38), Name('port', Load(), lineno=102, col_offset=42)], Load(), lineno=102, col_offset=38)], [keyword('timeout', Num(10, lineno=102, col_offset=57))], None, None, lineno=102, col_offset=12), lineno=102, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=103, col_offset=8), 'dtp', Store(), lineno=103, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=103, col_offset=19), 'dtp_handler', Load(), lineno=103, col_offset=19), [Name('s', Load(), lineno=103, col_offset=36)], [keyword('baseclass', Name('self', Load(), lineno=103, col_offset=49))], None, None, lineno=103, col_offset=19), lineno=103, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=104, col_offset=8), 'push', Load(), lineno=104, col_offset=8), [Str('200 active data connection established', lineno=104, col_offset=18)], [], None, None, lineno=104, col_offset=8), lineno=104, col_offset=8)], [], lineno=98, col_offset=4), FunctionDef('cmd_pasv', arguments([Name('self', Param(), lineno=106, col_offset=17), Name('arg', Param(), lineno=106, col_offset=23)], None, None, []), [Assign([Name('sock', Store(), lineno=107, col_offset=8)], Call(Attribute(Name('socket', Load(), lineno=107, col_offset=15), 'socket', Load(), lineno=107, col_offset=15), [], [], None, None, lineno=107, col_offset=15), lineno=107, col_offset=8), Expr(Call(Attribute(Name('sock', Load(), lineno=108, col_offset=8), 'bind', Load(), lineno=108, col_offset=8), [Tuple([Subscript(Call(Attribute(Attribute(Name('self', Load(), lineno=108, col_offset=19), 'socket', Load(), lineno=108, col_offset=19), 'getsockname', Load(), lineno=108, col_offset=19), [], [], None, None, lineno=108, col_offset=19), Index(Num(0, lineno=108, col_offset=45)), Load(), lineno=108, col_offset=19), Num(0, lineno=108, col_offset=49)], Load(), lineno=108, col_offset=19)], [], None, None, lineno=108, col_offset=8), lineno=108, col_offset=8), Expr(Call(Attribute(Name('sock', Load(), lineno=109, col_offset=8), 'listen', Load(), lineno=109, col_offset=8), [Num(5, lineno=109, col_offset=20)], [], None, None, lineno=109, col_offset=8), lineno=109, col_offset=8), Expr(Call(Attribute(Name('sock', Load(), lineno=110, col_offset=8), 'settimeout', Load(), lineno=110, col_offset=8), [Num(10, lineno=110, col_offset=24)], [], None, None, lineno=110, col_offset=8), lineno=110, col_offset=8), Assign([Tuple([Name('ip', Store(), lineno=111, col_offset=8), Name('port', Store(), lineno=111, col_offset=12)], Store(), lineno=111, col_offset=8)], Subscript(Call(Attribute(Name('sock', Load(), lineno=111, col_offset=19), 'getsockname', Load(), lineno=111, col_offset=19), [], [], None, None, lineno=111, col_offset=19), Slice(None, Num(2, lineno=111, col_offset=39), None), Load(), lineno=111, col_offset=19), lineno=111, col_offset=8), Assign([Name('ip', Store(), lineno=112, col_offset=8)], Call(Attribute(Name('ip', Load(), lineno=112, col_offset=13), 'replace', Load(), lineno=112, col_offset=13), [Str('.', lineno=112, col_offset=24), Str(',', lineno=112, col_offset=29)], [], None, None, lineno=112, col_offset=13), lineno=112, col_offset=8), Assign([Tuple([Name('p1', Store(), lineno=113, col_offset=8), Name('p2', Store(), lineno=113, col_offset=12)], Store(), lineno=113, col_offset=8)], Call(Name('divmod', Load(), lineno=113, col_offset=17), [Name('port', Load(), lineno=113, col_offset=24), Num(256, lineno=113, col_offset=30)], [], None, None, lineno=113, col_offset=17), lineno=113, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=114, col_offset=8), 'push', Load(), lineno=114, col_offset=8), [BinOp(Str('227 entering passive mode (%s,%d,%d)', lineno=114, col_offset=18), Mod(), Tuple([Name('ip', Load(), lineno=114, col_offset=59), Name('p1', Load(), lineno=114, col_offset=63), Name('p2', Load(), lineno=114, col_offset=67)], Load(), lineno=114, col_offset=59), lineno=114, col_offset=18)], [], None, None, lineno=114, col_offset=8), lineno=114, col_offset=8), Assign([Tuple([Name('conn', Store(), lineno=115, col_offset=8), Name('addr', Store(), lineno=115, col_offset=14)], Store(), lineno=115, col_offset=8)], Call(Attribute(Name('sock', Load(), lineno=115, col_offset=21), 'accept', Load(), lineno=115, col_offset=21), [], [], None, None, lineno=115, col_offset=21), lineno=115, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=116, col_offset=8), 'dtp', Store(), lineno=116, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=116, col_offset=19), 'dtp_handler', Load(), lineno=116, col_offset=19), [Name('conn', Load(), lineno=116, col_offset=36)], [keyword('baseclass', Name('self', Load(), lineno=116, col_offset=52))], None, None, lineno=116, col_offset=19), lineno=116, col_offset=8)], [], lineno=106, col_offset=4), FunctionDef('cmd_eprt', arguments([Name('self', Param(), lineno=118, col_offset=17), Name('arg', Param(), lineno=118, col_offset=23)], None, None, []), [Assign([Tuple([Name('af', Store(), lineno=119, col_offset=8), Name('ip', Store(), lineno=119, col_offset=12), Name('port', Store(), lineno=119, col_offset=16)], Store(), lineno=119, col_offset=8)], Subscript(Call(Attribute(Name('arg', Load(), lineno=119, col_offset=23), 'split', Load(), lineno=119, col_offset=23), [Subscript(Name('arg', Load(), lineno=119, col_offset=33), Index(Num(0, lineno=119, col_offset=37)), Load(), lineno=119, col_offset=33)], [], None, None, lineno=119, col_offset=23), Slice(Num(1, lineno=119, col_offset=41), Num(-1, lineno=119, col_offset=44), None), Load(), lineno=119, col_offset=23), lineno=119, col_offset=8), Assign([Name('port', Store(), lineno=120, col_offset=8)], Call(Name('int', Load(), lineno=120, col_offset=15), [Name('port', Load(), lineno=120, col_offset=19)], [], None, None, lineno=120, col_offset=15), lineno=120, col_offset=8), Assign([Name('s', Store(), lineno=121, col_offset=8)], Call(Attribute(Name('socket', Load(), lineno=121, col_offset=12), 'create_connection', Load(), lineno=121, col_offset=12), [Tuple([Name('ip', Load(), lineno=121, col_offset=38), Name('port', Load(), lineno=121, col_offset=42)], Load(), lineno=121, col_offset=38)], [keyword('timeout', Num(10, lineno=121, col_offset=57))], None, None, lineno=121, col_offset=12), lineno=121, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=122, col_offset=8), 'dtp', Store(), lineno=122, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=122, col_offset=19), 'dtp_handler', Load(), lineno=122, col_offset=19), [Name('s', Load(), lineno=122, col_offset=36)], [keyword('baseclass', Name('self', Load(), lineno=122, col_offset=49))], None, None, lineno=122, col_offset=19), lineno=122, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=123, col_offset=8), 'push', Load(), lineno=123, col_offset=8), [Str('200 active data connection established', lineno=123, col_offset=18)], [], None, None, lineno=123, col_offset=8), lineno=123, col_offset=8)], [], lineno=118, col_offset=4), FunctionDef('cmd_epsv', arguments([Name('self', Param(), lineno=125, col_offset=17), Name('arg', Param(), lineno=125, col_offset=23)], None, None, []), [Assign([Name('sock', Store(), lineno=126, col_offset=8)], Call(Attribute(Name('socket', Load(), lineno=126, col_offset=15), 'socket', Load(), lineno=126, col_offset=15), [Attribute(Name('socket', Load(), lineno=126, col_offset=29), 'AF_INET6', Load(), lineno=126, col_offset=29)], [], None, None, lineno=126, col_offset=15), lineno=126, col_offset=8), Expr(Call(Attribute(Name('sock', Load(), lineno=127, col_offset=8), 'bind', Load(), lineno=127, col_offset=8), [Tuple([Subscript(Call(Attribute(Attribute(Name('self', Load(), lineno=127, col_offset=19), 'socket', Load(), lineno=127, col_offset=19), 'getsockname', Load(), lineno=127, col_offset=19), [], [], None, None, lineno=127, col_offset=19), Index(Num(0, lineno=127, col_offset=45)), Load(), lineno=127, col_offset=19), Num(0, lineno=127, col_offset=49)], Load(), lineno=127, col_offset=19)], [], None, None, lineno=127, col_offset=8), lineno=127, col_offset=8), Expr(Call(Attribute(Name('sock', Load(), lineno=128, col_offset=8), 'listen', Load(), lineno=128, col_offset=8), [Num(5, lineno=128, col_offset=20)], [], None, None, lineno=128, col_offset=8), lineno=128, col_offset=8), Expr(Call(Attribute(Name('sock', Load(), lineno=129, col_offset=8), 'settimeout', Load(), lineno=129, col_offset=8), [Num(10, lineno=129, col_offset=24)], [], None, None, lineno=129, col_offset=8), lineno=129, col_offset=8), Assign([Name('port', Store(), lineno=130, col_offset=8)], Subscript(Call(Attribute(Name('sock', Load(), lineno=130, col_offset=15), 'getsockname', Load(), lineno=130, col_offset=15), [], [], None, None, lineno=130, col_offset=15), Index(Num(1, lineno=130, col_offset=34)), Load(), lineno=130, col_offset=15), lineno=130, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=131, col_offset=8), 'push', Load(), lineno=131, col_offset=8), [BinOp(Str('229 entering extended passive mode (|||%d|)', lineno=131, col_offset=18), Mod(), Name('port', Load(), lineno=131, col_offset=65), lineno=131, col_offset=18)], [], None, None, lineno=131, col_offset=8), lineno=131, col_offset=8), Assign([Tuple([Name('conn', Store(), lineno=132, col_offset=8), Name('addr', Store(), lineno=132, col_offset=14)], Store(), lineno=132, col_offset=8)], Call(Attribute(Name('sock', Load(), lineno=132, col_offset=21), 'accept', Load(), lineno=132, col_offset=21), [], [], None, None, lineno=132, col_offset=21), lineno=132, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=133, col_offset=8), 'dtp', Store(), lineno=133, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=133, col_offset=19), 'dtp_handler', Load(), lineno=133, col_offset=19), [Name('conn', Load(), lineno=133, col_offset=36)], [keyword('baseclass', Name('self', Load(), lineno=133, col_offset=52))], None, None, lineno=133, col_offset=19), lineno=133, col_offset=8)], [], lineno=125, col_offset=4), FunctionDef('cmd_echo', arguments([Name('self', Param(), lineno=135, col_offset=17), Name('arg', Param(), lineno=135, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=137, col_offset=8), 'push', Load(), lineno=137, col_offset=8), [Name('arg', Load(), lineno=137, col_offset=18)], [], None, None, lineno=137, col_offset=8), lineno=137, col_offset=8)], [], lineno=135, col_offset=4), FunctionDef('cmd_user', arguments([Name('self', Param(), lineno=139, col_offset=17), Name('arg', Param(), lineno=139, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=140, col_offset=8), 'push', Load(), lineno=140, col_offset=8), [Str('331 username ok', lineno=140, col_offset=18)], [], None, None, lineno=140, col_offset=8), lineno=140, col_offset=8)], [], lineno=139, col_offset=4), FunctionDef('cmd_pass', arguments([Name('self', Param(), lineno=142, col_offset=17), Name('arg', Param(), lineno=142, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=143, col_offset=8), 'push', Load(), lineno=143, col_offset=8), [Str('230 password ok', lineno=143, col_offset=18)], [], None, None, lineno=143, col_offset=8), lineno=143, col_offset=8)], [], lineno=142, col_offset=4), FunctionDef('cmd_acct', arguments([Name('self', Param(), lineno=145, col_offset=17), Name('arg', Param(), lineno=145, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=146, col_offset=8), 'push', Load(), lineno=146, col_offset=8), [Str('230 acct ok', lineno=146, col_offset=18)], [], None, None, lineno=146, col_offset=8), lineno=146, col_offset=8)], [], lineno=145, col_offset=4), FunctionDef('cmd_rnfr', arguments([Name('self', Param(), lineno=148, col_offset=17), Name('arg', Param(), lineno=148, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=149, col_offset=8), 'push', Load(), lineno=149, col_offset=8), [Str('350 rnfr ok', lineno=149, col_offset=18)], [], None, None, lineno=149, col_offset=8), lineno=149, col_offset=8)], [], lineno=148, col_offset=4), FunctionDef('cmd_rnto', arguments([Name('self', Param(), lineno=151, col_offset=17), Name('arg', Param(), lineno=151, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=152, col_offset=8), 'push', Load(), lineno=152, col_offset=8), [Str('250 rnto ok', lineno=152, col_offset=18)], [], None, None, lineno=152, col_offset=8), lineno=152, col_offset=8)], [], lineno=151, col_offset=4), FunctionDef('cmd_dele', arguments([Name('self', Param(), lineno=154, col_offset=17), Name('arg', Param(), lineno=154, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=155, col_offset=8), 'push', Load(), lineno=155, col_offset=8), [Str('250 dele ok', lineno=155, col_offset=18)], [], None, None, lineno=155, col_offset=8), lineno=155, col_offset=8)], [], lineno=154, col_offset=4), FunctionDef('cmd_cwd', arguments([Name('self', Param(), lineno=157, col_offset=16), Name('arg', Param(), lineno=157, col_offset=22)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=158, col_offset=8), 'push', Load(), lineno=158, col_offset=8), [Str('250 cwd ok', lineno=158, col_offset=18)], [], None, None, lineno=158, col_offset=8), lineno=158, col_offset=8)], [], lineno=157, col_offset=4), FunctionDef('cmd_size', arguments([Name('self', Param(), lineno=160, col_offset=17), Name('arg', Param(), lineno=160, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=161, col_offset=8), 'push', Load(), lineno=161, col_offset=8), [Str('250 1000', lineno=161, col_offset=18)], [], None, None, lineno=161, col_offset=8), lineno=161, col_offset=8)], [], lineno=160, col_offset=4), FunctionDef('cmd_mkd', arguments([Name('self', Param(), lineno=163, col_offset=16), Name('arg', Param(), lineno=163, col_offset=22)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=164, col_offset=8), 'push', Load(), lineno=164, col_offset=8), [BinOp(Str('257 "%s"', lineno=164, col_offset=18), Mod(), Name('arg', Load(), lineno=164, col_offset=30), lineno=164, col_offset=18)], [], None, None, lineno=164, col_offset=8), lineno=164, col_offset=8)], [], lineno=163, col_offset=4), FunctionDef('cmd_rmd', arguments([Name('self', Param(), lineno=166, col_offset=16), Name('arg', Param(), lineno=166, col_offset=22)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=167, col_offset=8), 'push', Load(), lineno=167, col_offset=8), [Str('250 rmd ok', lineno=167, col_offset=18)], [], None, None, lineno=167, col_offset=8), lineno=167, col_offset=8)], [], lineno=166, col_offset=4), FunctionDef('cmd_pwd', arguments([Name('self', Param(), lineno=169, col_offset=16), Name('arg', Param(), lineno=169, col_offset=22)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=170, col_offset=8), 'push', Load(), lineno=170, col_offset=8), [Str('257 "pwd ok"', lineno=170, col_offset=18)], [], None, None, lineno=170, col_offset=8), lineno=170, col_offset=8)], [], lineno=169, col_offset=4), FunctionDef('cmd_type', arguments([Name('self', Param(), lineno=172, col_offset=17), Name('arg', Param(), lineno=172, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=173, col_offset=8), 'push', Load(), lineno=173, col_offset=8), [Str('200 type ok', lineno=173, col_offset=18)], [], None, None, lineno=173, col_offset=8), lineno=173, col_offset=8)], [], lineno=172, col_offset=4), FunctionDef('cmd_quit', arguments([Name('self', Param(), lineno=175, col_offset=17), Name('arg', Param(), lineno=175, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=176, col_offset=8), 'push', Load(), lineno=176, col_offset=8), [Str('221 quit ok', lineno=176, col_offset=18)], [], None, None, lineno=176, col_offset=8), lineno=176, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=177, col_offset=8), 'close', Load(), lineno=177, col_offset=8), [], [], None, None, lineno=177, col_offset=8), lineno=177, col_offset=8)], [], lineno=175, col_offset=4), FunctionDef('cmd_stor', arguments([Name('self', Param(), lineno=179, col_offset=17), Name('arg', Param(), lineno=179, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=180, col_offset=8), 'push', Load(), lineno=180, col_offset=8), [Str('125 stor ok', lineno=180, col_offset=18)], [], None, None, lineno=180, col_offset=8), lineno=180, col_offset=8)], [], lineno=179, col_offset=4), FunctionDef('cmd_rest', arguments([Name('self', Param(), lineno=182, col_offset=17), Name('arg', Param(), lineno=182, col_offset=23)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=183, col_offset=8), 'rest', Store(), lineno=183, col_offset=8)], Name('arg', Load(), lineno=183, col_offset=20), lineno=183, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=184, col_offset=8), 'push', Load(), lineno=184, col_offset=8), [Str('350 rest ok', lineno=184, col_offset=18)], [], None, None, lineno=184, col_offset=8), lineno=184, col_offset=8)], [], lineno=182, col_offset=4), FunctionDef('cmd_retr', arguments([Name('self', Param(), lineno=186, col_offset=17), Name('arg', Param(), lineno=186, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=187, col_offset=8), 'push', Load(), lineno=187, col_offset=8), [Str('125 retr ok', lineno=187, col_offset=18)], [], None, None, lineno=187, col_offset=8), lineno=187, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=188, col_offset=11), 'rest', Load(), lineno=188, col_offset=11), [IsNot()], [Name('None', Load(), lineno=188, col_offset=28)], lineno=188, col_offset=11), [Assign([Name('offset', Store(), lineno=189, col_offset=12)], Call(Name('int', Load(), lineno=189, col_offset=21), [Attribute(Name('self', Load(), lineno=189, col_offset=25), 'rest', Load(), lineno=189, col_offset=25)], [], None, None, lineno=189, col_offset=21), lineno=189, col_offset=12)], [Assign([Name('offset', Store(), lineno=191, col_offset=12)], Num(0, lineno=191, col_offset=21), lineno=191, col_offset=12)], lineno=188, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=192, col_offset=8), 'dtp', Load(), lineno=192, col_offset=8), 'push', Load(), lineno=192, col_offset=8), [Subscript(Name('RETR_DATA', Load(), lineno=192, col_offset=22), Slice(Name('offset', Load(), lineno=192, col_offset=32), None, None), Load(), lineno=192, col_offset=22)], [], None, None, lineno=192, col_offset=8), lineno=192, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=193, col_offset=8), 'dtp', Load(), lineno=193, col_offset=8), 'close_when_done', Load(), lineno=193, col_offset=8), [], [], None, None, lineno=193, col_offset=8), lineno=193, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=194, col_offset=8), 'rest', Store(), lineno=194, col_offset=8)], Name('None', Load(), lineno=194, col_offset=20), lineno=194, col_offset=8)], [], lineno=186, col_offset=4), FunctionDef('cmd_list', arguments([Name('self', Param(), lineno=196, col_offset=17), Name('arg', Param(), lineno=196, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=197, col_offset=8), 'push', Load(), lineno=197, col_offset=8), [Str('125 list ok', lineno=197, col_offset=18)], [], None, None, lineno=197, col_offset=8), lineno=197, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=198, col_offset=8), 'dtp', Load(), lineno=198, col_offset=8), 'push', Load(), lineno=198, col_offset=8), [Name('LIST_DATA', Load(), lineno=198, col_offset=22)], [], None, None, lineno=198, col_offset=8), lineno=198, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=199, col_offset=8), 'dtp', Load(), lineno=199, col_offset=8), 'close_when_done', Load(), lineno=199, col_offset=8), [], [], None, None, lineno=199, col_offset=8), lineno=199, col_offset=8)], [], lineno=196, col_offset=4), FunctionDef('cmd_nlst', arguments([Name('self', Param(), lineno=201, col_offset=17), Name('arg', Param(), lineno=201, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=202, col_offset=8), 'push', Load(), lineno=202, col_offset=8), [Str('125 nlst ok', lineno=202, col_offset=18)], [], None, None, lineno=202, col_offset=8), lineno=202, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=203, col_offset=8), 'dtp', Load(), lineno=203, col_offset=8), 'push', Load(), lineno=203, col_offset=8), [Name('NLST_DATA', Load(), lineno=203, col_offset=22)], [], None, None, lineno=203, col_offset=8), lineno=203, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=204, col_offset=8), 'dtp', Load(), lineno=204, col_offset=8), 'close_when_done', Load(), lineno=204, col_offset=8), [], [], None, None, lineno=204, col_offset=8), lineno=204, col_offset=8)], [], lineno=201, col_offset=4)], [], lineno=55, col_offset=0), ClassDef('DummyFTPServer', [Attribute(Name('asyncore', Load(), lineno=207, col_offset=21), 'dispatcher', Load(), lineno=207, col_offset=21), Attribute(Name('threading', Load(), lineno=207, col_offset=42), 'Thread', Load(), lineno=207, col_offset=42)], [Assign([Name('handler', Store(), lineno=209, col_offset=4)], Name('DummyFTPHandler', Load(), lineno=209, col_offset=14), lineno=209, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=211, col_offset=17), Name('address', Param(), lineno=211, col_offset=23), Name('af', Param(), lineno=211, col_offset=32)], None, None, [Attribute(Name('socket', Load(), lineno=211, col_offset=35), 'AF_INET', Load(), lineno=211, col_offset=35)]), [Expr(Call(Attribute(Attribute(Name('threading', Load(), lineno=212, col_offset=8), 'Thread', Load(), lineno=212, col_offset=8), '__init__', Load(), lineno=212, col_offset=8), [Name('self', Load(), lineno=212, col_offset=34)], [], None, None, lineno=212, col_offset=8), lineno=212, col_offset=8), Expr(Call(Attribute(Attribute(Name('asyncore', Load(), lineno=213, col_offset=8), 'dispatcher', Load(), lineno=213, col_offset=8), '__init__', Load(), lineno=213, col_offset=8), [Name('self', Load(), lineno=213, col_offset=37)], [], None, None, lineno=213, col_offset=8), lineno=213, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=214, col_offset=8), 'create_socket', Load(), lineno=214, col_offset=8), [Name('af', Load(), lineno=214, col_offset=27), Attribute(Name('socket', Load(), lineno=214, col_offset=31), 'SOCK_STREAM', Load(), lineno=214, col_offset=31)], [], None, None, lineno=214, col_offset=8), lineno=214, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=215, col_offset=8), 'bind', Load(), lineno=215, col_offset=8), [Name('address', Load(), lineno=215, col_offset=18)], [], None, None, lineno=215, col_offset=8), lineno=215, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=216, col_offset=8), 'listen', Load(), lineno=216, col_offset=8), [Num(5, lineno=216, col_offset=20)], [], None, None, lineno=216, col_offset=8), lineno=216, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=217, col_offset=8), 'active', Store(), lineno=217, col_offset=8)], Name('False', Load(), lineno=217, col_offset=22), lineno=217, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=218, col_offset=8), 'active_lock', Store(), lineno=218, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=218, col_offset=27), 'Lock', Load(), lineno=218, col_offset=27), [], [], None, None, lineno=218, col_offset=27), lineno=218, col_offset=8), Assign([Tuple([Attribute(Name('self', Load(), lineno=219, col_offset=8), 'host', Store(), lineno=219, col_offset=8), Attribute(Name('self', Load(), lineno=219, col_offset=19), 'port', Store(), lineno=219, col_offset=19)], Store(), lineno=219, col_offset=8)], Subscript(Call(Attribute(Attribute(Name('self', Load(), lineno=219, col_offset=31), 'socket', Load(), lineno=219, col_offset=31), 'getsockname', Load(), lineno=219, col_offset=31), [], [], None, None, lineno=219, col_offset=31), Slice(None, Num(2, lineno=219, col_offset=58), None), Load(), lineno=219, col_offset=31), lineno=219, col_offset=8)], [], lineno=211, col_offset=4), FunctionDef('start', arguments([Name('self', Param(), lineno=221, col_offset=14)], None, None, []), [Assert(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=222, col_offset=19), 'active', Load(), lineno=222, col_offset=19), lineno=222, col_offset=15), None, lineno=222, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=223, col_offset=8), '__flag', Store(), lineno=223, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=223, col_offset=22), 'Event', Load(), lineno=223, col_offset=22), [], [], None, None, lineno=223, col_offset=22), lineno=223, col_offset=8), Expr(Call(Attribute(Attribute(Name('threading', Load(), lineno=224, col_offset=8), 'Thread', Load(), lineno=224, col_offset=8), 'start', Load(), lineno=224, col_offset=8), [Name('self', Load(), lineno=224, col_offset=31)], [], None, None, lineno=224, col_offset=8), lineno=224, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=225, col_offset=8), '__flag', Load(), lineno=225, col_offset=8), 'wait', Load(), lineno=225, col_offset=8), [], [], None, None, lineno=225, col_offset=8), lineno=225, col_offset=8)], [], lineno=221, col_offset=4), FunctionDef('run', arguments([Name('self', Param(), lineno=227, col_offset=12)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=228, col_offset=8), 'active', Store(), lineno=228, col_offset=8)], Name('True', Load(), lineno=228, col_offset=22), lineno=228, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=229, col_offset=8), '__flag', Load(), lineno=229, col_offset=8), 'set', Load(), lineno=229, col_offset=8), [], [], None, None, lineno=229, col_offset=8), lineno=229, col_offset=8), While(BoolOp(And(), [Attribute(Name('self', Load(), lineno=230, col_offset=14), 'active', Load(), lineno=230, col_offset=14), Attribute(Name('asyncore', Load(), lineno=230, col_offset=30), 'socket_map', Load(), lineno=230, col_offset=30)], lineno=230, col_offset=14), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=231, col_offset=12), 'active_lock', Load(), lineno=231, col_offset=12), 'acquire', Load(), lineno=231, col_offset=12), [], [], None, None, lineno=231, col_offset=12), lineno=231, col_offset=12), Expr(Call(Attribute(Name('asyncore', Load(), lineno=232, col_offset=12), 'loop', Load(), lineno=232, col_offset=12), [], [keyword('timeout', Num(0.1, lineno=232, col_offset=34)), keyword('count', Num(1, lineno=232, col_offset=45))], None, None, lineno=232, col_offset=12), lineno=232, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=233, col_offset=12), 'active_lock', Load(), lineno=233, col_offset=12), 'release', Load(), lineno=233, col_offset=12), [], [], None, None, lineno=233, col_offset=12), lineno=233, col_offset=12)], [], lineno=230, col_offset=8), Expr(Call(Attribute(Name('asyncore', Load(), lineno=234, col_offset=8), 'close_all', Load(), lineno=234, col_offset=8), [], [keyword('ignore_all', Name('True', Load(), lineno=234, col_offset=38))], None, None, lineno=234, col_offset=8), lineno=234, col_offset=8)], [], lineno=227, col_offset=4), FunctionDef('stop', arguments([Name('self', Param(), lineno=236, col_offset=13)], None, None, []), [Assert(Attribute(Name('self', Load(), lineno=237, col_offset=15), 'active', Load(), lineno=237, col_offset=15), None, lineno=237, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=238, col_offset=8), 'active', Store(), lineno=238, col_offset=8)], Name('False', Load(), lineno=238, col_offset=22), lineno=238, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=239, col_offset=8), 'join', Load(), lineno=239, col_offset=8), [], [], None, None, lineno=239, col_offset=8), lineno=239, col_offset=8)], [], lineno=236, col_offset=4), FunctionDef('handle_accept', arguments([Name('self', Param(), lineno=241, col_offset=22)], None, None, []), [Assign([Tuple([Name('conn', Store(), lineno=242, col_offset=8), Name('addr', Store(), lineno=242, col_offset=14)], Store(), lineno=242, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=242, col_offset=21), 'accept', Load(), lineno=242, col_offset=21), [], [], None, None, lineno=242, col_offset=21), lineno=242, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=243, col_offset=8), 'handler', Store(), lineno=243, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=243, col_offset=23), 'handler', Load(), lineno=243, col_offset=23), [Name('conn', Load(), lineno=243, col_offset=36)], [], None, None, lineno=243, col_offset=23), lineno=243, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=244, col_offset=8), 'close', Load(), lineno=244, col_offset=8), [], [], None, None, lineno=244, col_offset=8), lineno=244, col_offset=8)], [], lineno=241, col_offset=4), FunctionDef('handle_connect', arguments([Name('self', Param(), lineno=246, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=247, col_offset=8), 'close', Load(), lineno=247, col_offset=8), [], [], None, None, lineno=247, col_offset=8), lineno=247, col_offset=8)], [], lineno=246, col_offset=4), Assign([Name('handle_read', Store(), lineno=248, col_offset=4)], Name('handle_connect', Load(), lineno=248, col_offset=18), lineno=248, col_offset=4), FunctionDef('writable', arguments([Name('self', Param(), lineno=250, col_offset=17)], None, None, []), [Return(Num(0, lineno=251, col_offset=15), lineno=251, col_offset=8)], [], lineno=250, col_offset=4), FunctionDef('handle_error', arguments([Name('self', Param(), lineno=253, col_offset=21)], None, None, []), [Raise(None, None, None, lineno=254, col_offset=8)], [], lineno=253, col_offset=4)], [], lineno=207, col_offset=0), If(Compare(Name('ssl', Load(), lineno=257, col_offset=3), [IsNot()], [Name('None', Load(), lineno=257, col_offset=14)], lineno=257, col_offset=3), [Assign([Name('CERTFILE', Store(), lineno=259, col_offset=4)], Call(Attribute(Attribute(Name('os', Load(), lineno=259, col_offset=15), 'path', Load(), lineno=259, col_offset=15), 'join', Load(), lineno=259, col_offset=15), [Call(Attribute(Attribute(Name('os', Load(), lineno=259, col_offset=28), 'path', Load(), lineno=259, col_offset=28), 'dirname', Load(), lineno=259, col_offset=28), [Name('__file__', Load(), lineno=259, col_offset=44)], [], None, None, lineno=259, col_offset=28), Str('keycert.pem', lineno=259, col_offset=55)], [], None, None, lineno=259, col_offset=15), lineno=259, col_offset=4), ClassDef('SSLConnection', [Name('object', Load(), lineno=261, col_offset=24), Attribute(Name('asyncore', Load(), lineno=261, col_offset=32), 'dispatcher', Load(), lineno=261, col_offset=32)], [Expr(Str('An asyncore.dispatcher subclass supporting TLS/SSL.', lineno=262, col_offset=8), lineno=262, col_offset=8), Assign([Name('_ssl_accepting', Store(), lineno=264, col_offset=8)], Name('False', Load(), lineno=264, col_offset=25), lineno=264, col_offset=8), Assign([Name('_ssl_closing', Store(), lineno=265, col_offset=8)], Name('False', Load(), lineno=265, col_offset=23), lineno=265, col_offset=8), FunctionDef('secure_connection', arguments([Name('self', Param(), lineno=267, col_offset=30)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=268, col_offset=12), 'socket', Store(), lineno=268, col_offset=12)], Call(Attribute(Name('ssl', Load(), lineno=268, col_offset=26), 'wrap_socket', Load(), lineno=268, col_offset=26), [Attribute(Name('self', Load(), lineno=268, col_offset=42), 'socket', Load(), lineno=268, col_offset=42)], [keyword('suppress_ragged_eofs', Name('False', Load(), lineno=268, col_offset=76)), keyword('certfile', Name('CERTFILE', Load(), lineno=269, col_offset=51)), keyword('server_side', Name('True', Load(), lineno=269, col_offset=73)), keyword('do_handshake_on_connect', Name('False', Load(), lineno=270, col_offset=66)), keyword('ssl_version', Attribute(Name('ssl', Load(), lineno=271, col_offset=54), 'PROTOCOL_SSLv23', Load(), lineno=271, col_offset=54))], None, None, lineno=268, col_offset=26), lineno=268, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=272, col_offset=12), '_ssl_accepting', Store(), lineno=272, col_offset=12)], Name('True', Load(), lineno=272, col_offset=34), lineno=272, col_offset=12)], [], lineno=267, col_offset=8), FunctionDef('_do_ssl_handshake', arguments([Name('self', Param(), lineno=274, col_offset=30)], None, None, []), [TryExcept([Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=276, col_offset=16), 'socket', Load(), lineno=276, col_offset=16), 'do_handshake', Load(), lineno=276, col_offset=16), [], [], None, None, lineno=276, col_offset=16), lineno=276, col_offset=16)], [ExceptHandler(Attribute(Name('ssl', Load(), lineno=277, col_offset=19), 'SSLError', Load(), lineno=277, col_offset=19), Name('err', Store(), lineno=277, col_offset=33), [If(Compare(Subscript(Attribute(Name('err', Load(), lineno=278, col_offset=19), 'args', Load(), lineno=278, col_offset=19), Index(Num(0, lineno=278, col_offset=28)), Load(), lineno=278, col_offset=19), [In()], [Tuple([Attribute(Name('ssl', Load(), lineno=278, col_offset=35), 'SSL_ERROR_WANT_READ', Load(), lineno=278, col_offset=35), Attribute(Name('ssl', Load(), lineno=279, col_offset=35), 'SSL_ERROR_WANT_WRITE', Load(), lineno=279, col_offset=35)], Load(), lineno=278, col_offset=35)], lineno=278, col_offset=19), [Return(None, lineno=280, col_offset=20)], [If(Compare(Subscript(Attribute(Name('err', Load(), lineno=281, col_offset=21), 'args', Load(), lineno=281, col_offset=21), Index(Num(0, lineno=281, col_offset=30)), Load(), lineno=281, col_offset=21), [Eq()], [Attribute(Name('ssl', Load(), lineno=281, col_offset=36), 'SSL_ERROR_EOF', Load(), lineno=281, col_offset=36)], lineno=281, col_offset=21), [Return(Call(Attribute(Name('self', Load(), lineno=282, col_offset=27), 'handle_close', Load(), lineno=282, col_offset=27), [], [], None, None, lineno=282, col_offset=27), lineno=282, col_offset=20)], [], lineno=281, col_offset=21)], lineno=278, col_offset=16), Raise(None, None, None, lineno=283, col_offset=16)], lineno=277, col_offset=12), ExceptHandler(Attribute(Name('socket', Load(), lineno=284, col_offset=19), 'error', Load(), lineno=284, col_offset=19), Name('err', Store(), lineno=284, col_offset=33), [If(Compare(Subscript(Attribute(Name('err', Load(), lineno=285, col_offset=19), 'args', Load(), lineno=285, col_offset=19), Index(Num(0, lineno=285, col_offset=28)), Load(), lineno=285, col_offset=19), [Eq()], [Attribute(Name('errno', Load(), lineno=285, col_offset=34), 'ECONNABORTED', Load(), lineno=285, col_offset=34)], lineno=285, col_offset=19), [Return(Call(Attribute(Name('self', Load(), lineno=286, col_offset=27), 'handle_close', Load(), lineno=286, col_offset=27), [], [], None, None, lineno=286, col_offset=27), lineno=286, col_offset=20)], [], lineno=285, col_offset=16)], lineno=284, col_offset=12)], [Assign([Attribute(Name('self', Load(), lineno=288, col_offset=16), '_ssl_accepting', Store(), lineno=288, col_offset=16)], Name('False', Load(), lineno=288, col_offset=38), lineno=288, col_offset=16)], lineno=275, col_offset=12)], [], lineno=274, col_offset=8), FunctionDef('_do_ssl_shutdown', arguments([Name('self', Param(), lineno=290, col_offset=29)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=291, col_offset=12), '_ssl_closing', Store(), lineno=291, col_offset=12)], Name('True', Load(), lineno=291, col_offset=32), lineno=291, col_offset=12), TryExcept([Assign([Attribute(Name('self', Load(), lineno=293, col_offset=16), 'socket', Store(), lineno=293, col_offset=16)], Call(Attribute(Attribute(Name('self', Load(), lineno=293, col_offset=30), 'socket', Load(), lineno=293, col_offset=30), 'unwrap', Load(), lineno=293, col_offset=30), [], [], None, None, lineno=293, col_offset=30), lineno=293, col_offset=16)], [ExceptHandler(Attribute(Name('ssl', Load(), lineno=294, col_offset=19), 'SSLError', Load(), lineno=294, col_offset=19), Name('err', Store(), lineno=294, col_offset=33), [If(Compare(Subscript(Attribute(Name('err', Load(), lineno=295, col_offset=19), 'args', Load(), lineno=295, col_offset=19), Index(Num(0, lineno=295, col_offset=28)), Load(), lineno=295, col_offset=19), [In()], [Tuple([Attribute(Name('ssl', Load(), lineno=295, col_offset=35), 'SSL_ERROR_WANT_READ', Load(), lineno=295, col_offset=35), Attribute(Name('ssl', Load(), lineno=296, col_offset=35), 'SSL_ERROR_WANT_WRITE', Load(), lineno=296, col_offset=35)], Load(), lineno=295, col_offset=35)], lineno=295, col_offset=19), [Return(None, lineno=297, col_offset=20)], [], lineno=295, col_offset=16)], lineno=294, col_offset=12), ExceptHandler(Attribute(Name('socket', Load(), lineno=298, col_offset=19), 'error', Load(), lineno=298, col_offset=19), Name('err', Store(), lineno=298, col_offset=33), [Pass( lineno=303, col_offset=16)], lineno=298, col_offset=12)], [], lineno=292, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=304, col_offset=12), '_ssl_closing', Store(), lineno=304, col_offset=12)], Name('False', Load(), lineno=304, col_offset=32), lineno=304, col_offset=12), Expr(Call(Attribute(Call(Name('super', Load(), lineno=305, col_offset=12), [Name('SSLConnection', Load(), lineno=305, col_offset=18), Name('self', Load(), lineno=305, col_offset=33)], [], None, None, lineno=305, col_offset=12), 'close', Load(), lineno=305, col_offset=12), [], [], None, None, lineno=305, col_offset=12), lineno=305, col_offset=12)], [], lineno=290, col_offset=8), FunctionDef('handle_read_event', arguments([Name('self', Param(), lineno=307, col_offset=30)], None, None, []), [If(Attribute(Name('self', Load(), lineno=308, col_offset=15), '_ssl_accepting', Load(), lineno=308, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=309, col_offset=16), '_do_ssl_handshake', Load(), lineno=309, col_offset=16), [], [], None, None, lineno=309, col_offset=16), lineno=309, col_offset=16)], [If(Attribute(Name('self', Load(), lineno=310, col_offset=17), '_ssl_closing', Load(), lineno=310, col_offset=17), [Expr(Call(Attribute(Name('self', Load(), lineno=311, col_offset=16), '_do_ssl_shutdown', Load(), lineno=311, col_offset=16), [], [], None, None, lineno=311, col_offset=16), lineno=311, col_offset=16)], [Expr(Call(Attribute(Call(Name('super', Load(), lineno=313, col_offset=16), [Name('SSLConnection', Load(), lineno=313, col_offset=22), Name('self', Load(), lineno=313, col_offset=37)], [], None, None, lineno=313, col_offset=16), 'handle_read_event', Load(), lineno=313, col_offset=16), [], [], None, None, lineno=313, col_offset=16), lineno=313, col_offset=16)], lineno=310, col_offset=17)], lineno=308, col_offset=12)], [], lineno=307, col_offset=8), FunctionDef('handle_write_event', arguments([Name('self', Param(), lineno=315, col_offset=31)], None, None, []), [If(Attribute(Name('self', Load(), lineno=316, col_offset=15), '_ssl_accepting', Load(), lineno=316, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=317, col_offset=16), '_do_ssl_handshake', Load(), lineno=317, col_offset=16), [], [], None, None, lineno=317, col_offset=16), lineno=317, col_offset=16)], [If(Attribute(Name('self', Load(), lineno=318, col_offset=17), '_ssl_closing', Load(), lineno=318, col_offset=17), [Expr(Call(Attribute(Name('self', Load(), lineno=319, col_offset=16), '_do_ssl_shutdown', Load(), lineno=319, col_offset=16), [], [], None, None, lineno=319, col_offset=16), lineno=319, col_offset=16)], [Expr(Call(Attribute(Call(Name('super', Load(), lineno=321, col_offset=16), [Name('SSLConnection', Load(), lineno=321, col_offset=22), Name('self', Load(), lineno=321, col_offset=37)], [], None, None, lineno=321, col_offset=16), 'handle_write_event', Load(), lineno=321, col_offset=16), [], [], None, None, lineno=321, col_offset=16), lineno=321, col_offset=16)], lineno=318, col_offset=17)], lineno=316, col_offset=12)], [], lineno=315, col_offset=8), FunctionDef('send', arguments([Name('self', Param(), lineno=323, col_offset=17), Name('data', Param(), lineno=323, col_offset=23)], None, None, []), [TryExcept([Return(Call(Attribute(Call(Name('super', Load(), lineno=325, col_offset=23), [Name('SSLConnection', Load(), lineno=325, col_offset=29), Name('self', Load(), lineno=325, col_offset=44)], [], None, None, lineno=325, col_offset=23), 'send', Load(), lineno=325, col_offset=23), [Name('data', Load(), lineno=325, col_offset=55)], [], None, None, lineno=325, col_offset=23), lineno=325, col_offset=16)], [ExceptHandler(Attribute(Name('ssl', Load(), lineno=326, col_offset=19), 'SSLError', Load(), lineno=326, col_offset=19), Name('err', Store(), lineno=326, col_offset=33), [If(Compare(Subscript(Attribute(Name('err', Load(), lineno=327, col_offset=19), 'args', Load(), lineno=327, col_offset=19), Index(Num(0, lineno=327, col_offset=28)), Load(), lineno=327, col_offset=19), [In()], [Tuple([Attribute(Name('ssl', Load(), lineno=327, col_offset=35), 'SSL_ERROR_EOF', Load(), lineno=327, col_offset=35), Attribute(Name('ssl', Load(), lineno=327, col_offset=54), 'SSL_ERROR_ZERO_RETURN', Load(), lineno=327, col_offset=54), Attribute(Name('ssl', Load(), lineno=328, col_offset=35), 'SSL_ERROR_WANT_READ', Load(), lineno=328, col_offset=35), Attribute(Name('ssl', Load(), lineno=329, col_offset=35), 'SSL_ERROR_WANT_WRITE', Load(), lineno=329, col_offset=35)], Load(), lineno=327, col_offset=35)], lineno=327, col_offset=19), [Return(Num(0, lineno=330, col_offset=27), lineno=330, col_offset=20)], [], lineno=327, col_offset=16), Raise(None, None, None, lineno=331, col_offset=16)], lineno=326, col_offset=12)], [], lineno=324, col_offset=12)], [], lineno=323, col_offset=8), FunctionDef('recv', arguments([Name('self', Param(), lineno=333, col_offset=17), Name('buffer_size', Param(), lineno=333, col_offset=23)], None, None, []), [TryExcept([Return(Call(Attribute(Call(Name('super', Load(), lineno=335, col_offset=23), [Name('SSLConnection', Load(), lineno=335, col_offset=29), Name('self', Load(), lineno=335, col_offset=44)], [], None, None, lineno=335, col_offset=23), 'recv', Load(), lineno=335, col_offset=23), [Name('buffer_size', Load(), lineno=335, col_offset=55)], [], None, None, lineno=335, col_offset=23), lineno=335, col_offset=16)], [ExceptHandler(Attribute(Name('ssl', Load(), lineno=336, col_offset=19), 'SSLError', Load(), lineno=336, col_offset=19), Name('err', Store(), lineno=336, col_offset=33), [If(Compare(Subscript(Attribute(Name('err', Load(), lineno=337, col_offset=19), 'args', Load(), lineno=337, col_offset=19), Index(Num(0, lineno=337, col_offset=28)), Load(), lineno=337, col_offset=19), [In()], [Tuple([Attribute(Name('ssl', Load(), lineno=337, col_offset=35), 'SSL_ERROR_WANT_READ', Load(), lineno=337, col_offset=35), Attribute(Name('ssl', Load(), lineno=338, col_offset=35), 'SSL_ERROR_WANT_WRITE', Load(), lineno=338, col_offset=35)], Load(), lineno=337, col_offset=35)], lineno=337, col_offset=19), [Return(Str('', lineno=339, col_offset=27), lineno=339, col_offset=20)], [], lineno=337, col_offset=16), If(Compare(Subscript(Attribute(Name('err', Load(), lineno=340, col_offset=19), 'args', Load(), lineno=340, col_offset=19), Index(Num(0, lineno=340, col_offset=28)), Load(), lineno=340, col_offset=19), [In()], [Tuple([Attribute(Name('ssl', Load(), lineno=340, col_offset=35), 'SSL_ERROR_EOF', Load(), lineno=340, col_offset=35), Attribute(Name('ssl', Load(), lineno=340, col_offset=54), 'SSL_ERROR_ZERO_RETURN', Load(), lineno=340, col_offset=54)], Load(), lineno=340, col_offset=35)], lineno=340, col_offset=19), [Expr(Call(Attribute(Name('self', Load(), lineno=341, col_offset=20), 'handle_close', Load(), lineno=341, col_offset=20), [], [], None, None, lineno=341, col_offset=20), lineno=341, col_offset=20), Return(Str('', lineno=342, col_offset=27), lineno=342, col_offset=20)], [], lineno=340, col_offset=16), Raise(None, None, None, lineno=343, col_offset=16)], lineno=336, col_offset=12)], [], lineno=334, col_offset=12)], [], lineno=333, col_offset=8), FunctionDef('handle_error', arguments([Name('self', Param(), lineno=345, col_offset=25)], None, None, []), [Raise(None, None, None, lineno=346, col_offset=12)], [], lineno=345, col_offset=8), FunctionDef('close', arguments([Name('self', Param(), lineno=348, col_offset=18)], None, None, []), [If(BoolOp(And(), [Call(Name('isinstance', Load(), lineno=349, col_offset=16), [Attribute(Name('self', Load(), lineno=349, col_offset=27), 'socket', Load(), lineno=349, col_offset=27), Attribute(Name('ssl', Load(), lineno=349, col_offset=40), 'SSLSocket', Load(), lineno=349, col_offset=40)], [], None, None, lineno=349, col_offset=16), Compare(Attribute(Attribute(Name('self', Load(), lineno=350, col_offset=16), 'socket', Load(), lineno=350, col_offset=16), '_sslobj', Load(), lineno=350, col_offset=16), [IsNot()], [Name('None', Load(), lineno=350, col_offset=43)], lineno=350, col_offset=16)], lineno=349, col_offset=16), [Expr(Call(Attribute(Name('self', Load(), lineno=351, col_offset=16), '_do_ssl_shutdown', Load(), lineno=351, col_offset=16), [], [], None, None, lineno=351, col_offset=16), lineno=351, col_offset=16)], [], lineno=349, col_offset=12)], [], lineno=348, col_offset=8)], [], lineno=261, col_offset=4), ClassDef('DummyTLS_DTPHandler', [Name('SSLConnection', Load(), lineno=354, col_offset=30), Name('DummyDTPHandler', Load(), lineno=354, col_offset=45)], [Expr(Str('A DummyDTPHandler subclass supporting TLS/SSL.', lineno=355, col_offset=8), lineno=355, col_offset=8), FunctionDef('__init__', arguments([Name('self', Param(), lineno=357, col_offset=21), Name('conn', Param(), lineno=357, col_offset=27), Name('baseclass', Param(), lineno=357, col_offset=33)], None, None, []), [Expr(Call(Attribute(Name('DummyDTPHandler', Load(), lineno=358, col_offset=12), '__init__', Load(), lineno=358, col_offset=12), [Name('self', Load(), lineno=358, col_offset=37), Name('conn', Load(), lineno=358, col_offset=43), Name('baseclass', Load(), lineno=358, col_offset=49)], [], None, None, lineno=358, col_offset=12), lineno=358, col_offset=12), If(Attribute(Attribute(Name('self', Load(), lineno=359, col_offset=15), 'baseclass', Load(), lineno=359, col_offset=15), 'secure_data_channel', Load(), lineno=359, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=360, col_offset=16), 'secure_connection', Load(), lineno=360, col_offset=16), [], [], None, None, lineno=360, col_offset=16), lineno=360, col_offset=16)], [], lineno=359, col_offset=12)], [], lineno=357, col_offset=8)], [], lineno=354, col_offset=4), ClassDef('DummyTLS_FTPHandler', [Name('SSLConnection', Load(), lineno=363, col_offset=30), Name('DummyFTPHandler', Load(), lineno=363, col_offset=45)], [Expr(Str('A DummyFTPHandler subclass supporting TLS/SSL.', lineno=364, col_offset=8), lineno=364, col_offset=8), Assign([Name('dtp_handler', Store(), lineno=366, col_offset=8)], Name('DummyTLS_DTPHandler', Load(), lineno=366, col_offset=22), lineno=366, col_offset=8), FunctionDef('__init__', arguments([Name('self', Param(), lineno=368, col_offset=21), Name('conn', Param(), lineno=368, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('DummyFTPHandler', Load(), lineno=369, col_offset=12), '__init__', Load(), lineno=369, col_offset=12), [Name('self', Load(), lineno=369, col_offset=37), Name('conn', Load(), lineno=369, col_offset=43)], [], None, None, lineno=369, col_offset=12), lineno=369, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=370, col_offset=12), 'secure_data_channel', Store(), lineno=370, col_offset=12)], Name('False', Load(), lineno=370, col_offset=39), lineno=370, col_offset=12)], [], lineno=368, col_offset=8), FunctionDef('cmd_auth', arguments([Name('self', Param(), lineno=372, col_offset=21), Name('line', Param(), lineno=372, col_offset=27)], None, None, []), [Expr(Str('Set up secure control channel.', lineno=373, col_offset=12), lineno=373, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=374, col_offset=12), 'push', Load(), lineno=374, col_offset=12), [Str('234 AUTH TLS successful', lineno=374, col_offset=22)], [], None, None, lineno=374, col_offset=12), lineno=374, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=375, col_offset=12), 'secure_connection', Load(), lineno=375, col_offset=12), [], [], None, None, lineno=375, col_offset=12), lineno=375, col_offset=12)], [], lineno=372, col_offset=8), FunctionDef('cmd_pbsz', arguments([Name('self', Param(), lineno=377, col_offset=21), Name('line', Param(), lineno=377, col_offset=27)], None, None, []), [Expr(Str("Negotiate size of buffer for secure data transfer.\n            For TLS/SSL the only valid value for the parameter is '0'.\n            Any other value is accepted but ignored.\n            ", lineno=381, col_offset=-1), lineno=381, col_offset=-1), Expr(Call(Attribute(Name('self', Load(), lineno=382, col_offset=12), 'push', Load(), lineno=382, col_offset=12), [Str('200 PBSZ=0 successful.', lineno=382, col_offset=22)], [], None, None, lineno=382, col_offset=12), lineno=382, col_offset=12)], [], lineno=377, col_offset=8), FunctionDef('cmd_prot', arguments([Name('self', Param(), lineno=384, col_offset=21), Name('line', Param(), lineno=384, col_offset=27)], None, None, []), [Expr(Str('Setup un/secure data channel.', lineno=385, col_offset=12), lineno=385, col_offset=12), Assign([Name('arg', Store(), lineno=386, col_offset=12)], Call(Attribute(Name('line', Load(), lineno=386, col_offset=18), 'upper', Load(), lineno=386, col_offset=18), [], [], None, None, lineno=386, col_offset=18), lineno=386, col_offset=12), If(Compare(Name('arg', Load(), lineno=387, col_offset=15), [Eq()], [Str('C', lineno=387, col_offset=22)], lineno=387, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=388, col_offset=16), 'push', Load(), lineno=388, col_offset=16), [Str('200 Protection set to Clear', lineno=388, col_offset=26)], [], None, None, lineno=388, col_offset=16), lineno=388, col_offset=16), Assign([Attribute(Name('self', Load(), lineno=389, col_offset=16), 'secure_data_channel', Store(), lineno=389, col_offset=16)], Name('False', Load(), lineno=389, col_offset=43), lineno=389, col_offset=16)], [If(Compare(Name('arg', Load(), lineno=390, col_offset=17), [Eq()], [Str('P', lineno=390, col_offset=24)], lineno=390, col_offset=17), [Expr(Call(Attribute(Name('self', Load(), lineno=391, col_offset=16), 'push', Load(), lineno=391, col_offset=16), [Str('200 Protection set to Private', lineno=391, col_offset=26)], [], None, None, lineno=391, col_offset=16), lineno=391, col_offset=16), Assign([Attribute(Name('self', Load(), lineno=392, col_offset=16), 'secure_data_channel', Store(), lineno=392, col_offset=16)], Name('True', Load(), lineno=392, col_offset=43), lineno=392, col_offset=16)], [Expr(Call(Attribute(Name('self', Load(), lineno=394, col_offset=16), 'push', Load(), lineno=394, col_offset=16), [Str('502 Unrecognized PROT type (use C or P).', lineno=394, col_offset=26)], [], None, None, lineno=394, col_offset=16), lineno=394, col_offset=16)], lineno=390, col_offset=17)], lineno=387, col_offset=12)], [], lineno=384, col_offset=8)], [], lineno=363, col_offset=4), ClassDef('DummyTLS_FTPServer', [Name('DummyFTPServer', Load(), lineno=397, col_offset=29)], [Assign([Name('handler', Store(), lineno=398, col_offset=8)], Name('DummyTLS_FTPHandler', Load(), lineno=398, col_offset=18), lineno=398, col_offset=8)], [], lineno=397, col_offset=4)], [], lineno=257, col_offset=0), ClassDef('TestFTPClass', [Name('TestCase', Load(), lineno=401, col_offset=19)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=403, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=404, col_offset=8), 'server', Store(), lineno=404, col_offset=8)], Call(Name('DummyFTPServer', Load(), lineno=404, col_offset=22), [Tuple([Name('HOST', Load(), lineno=404, col_offset=38), Num(0, lineno=404, col_offset=44)], Load(), lineno=404, col_offset=38)], [], None, None, lineno=404, col_offset=22), lineno=404, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=405, col_offset=8), 'server', Load(), lineno=405, col_offset=8), 'start', Load(), lineno=405, col_offset=8), [], [], None, None, lineno=405, col_offset=8), lineno=405, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=406, col_offset=8), 'client', Store(), lineno=406, col_offset=8)], Call(Attribute(Name('ftplib', Load(), lineno=406, col_offset=22), 'FTP', Load(), lineno=406, col_offset=22), [], [keyword('timeout', Num(10, lineno=406, col_offset=41))], None, None, lineno=406, col_offset=22), lineno=406, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=407, col_offset=8), 'client', Load(), lineno=407, col_offset=8), 'connect', Load(), lineno=407, col_offset=8), [Attribute(Attribute(Name('self', Load(), lineno=407, col_offset=28), 'server', Load(), lineno=407, col_offset=28), 'host', Load(), lineno=407, col_offset=28), Attribute(Attribute(Name('self', Load(), lineno=407, col_offset=46), 'server', Load(), lineno=407, col_offset=46), 'port', Load(), lineno=407, col_offset=46)], [], None, None, lineno=407, col_offset=8), lineno=407, col_offset=8)], [], lineno=403, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=409, col_offset=17)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=410, col_offset=8), 'client', Load(), lineno=410, col_offset=8), 'close', Load(), lineno=410, col_offset=8), [], [], None, None, lineno=410, col_offset=8), lineno=410, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=411, col_offset=8), 'server', Load(), lineno=411, col_offset=8), 'stop', Load(), lineno=411, col_offset=8), [], [], None, None, lineno=411, col_offset=8), lineno=411, col_offset=8)], [], lineno=409, col_offset=4), FunctionDef('test_getwelcome', arguments([Name('self', Param(), lineno=413, col_offset=24)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=414, col_offset=8), 'assertEqual', Load(), lineno=414, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=414, col_offset=25), 'client', Load(), lineno=414, col_offset=25), 'getwelcome', Load(), lineno=414, col_offset=25), [], [], None, None, lineno=414, col_offset=25), Str('220 welcome', lineno=414, col_offset=51)], [], None, None, lineno=414, col_offset=8), lineno=414, col_offset=8)], [], lineno=413, col_offset=4), FunctionDef('test_sanitize', arguments([Name('self', Param(), lineno=416, col_offset=22)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=417, col_offset=8), 'assertEqual', Load(), lineno=417, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=417, col_offset=25), 'client', Load(), lineno=417, col_offset=25), 'sanitize', Load(), lineno=417, col_offset=25), [Str('foo', lineno=417, col_offset=46)], [], None, None, lineno=417, col_offset=25), Call(Name('repr', Load(), lineno=417, col_offset=54), [Str('foo', lineno=417, col_offset=59)], [], None, None, lineno=417, col_offset=54)], [], None, None, lineno=417, col_offset=8), lineno=417, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=418, col_offset=8), 'assertEqual', Load(), lineno=418, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=418, col_offset=25), 'client', Load(), lineno=418, col_offset=25), 'sanitize', Load(), lineno=418, col_offset=25), [Str('pass 12345', lineno=418, col_offset=46)], [], None, None, lineno=418, col_offset=25), Call(Name('repr', Load(), lineno=418, col_offset=61), [Str('pass *****', lineno=418, col_offset=66)], [], None, None, lineno=418, col_offset=61)], [], None, None, lineno=418, col_offset=8), lineno=418, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=419, col_offset=8), 'assertEqual', Load(), lineno=419, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=419, col_offset=25), 'client', Load(), lineno=419, col_offset=25), 'sanitize', Load(), lineno=419, col_offset=25), [Str('PASS 12345', lineno=419, col_offset=46)], [], None, None, lineno=419, col_offset=25), Call(Name('repr', Load(), lineno=419, col_offset=61), [Str('PASS *****', lineno=419, col_offset=66)], [], None, None, lineno=419, col_offset=61)], [], None, None, lineno=419, col_offset=8), lineno=419, col_offset=8)], [], lineno=416, col_offset=4), FunctionDef('test_exceptions', arguments([Name('self', Param(), lineno=421, col_offset=24)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=422, col_offset=8), 'assertRaises', Load(), lineno=422, col_offset=8), [Attribute(Name('ftplib', Load(), lineno=422, col_offset=26), 'error_temp', Load(), lineno=422, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=422, col_offset=45), 'client', Load(), lineno=422, col_offset=45), 'sendcmd', Load(), lineno=422, col_offset=45), Str('echo 400', lineno=422, col_offset=66)], [], None, None, lineno=422, col_offset=8), lineno=422, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=423, col_offset=8), 'assertRaises', Load(), lineno=423, col_offset=8), [Attribute(Name('ftplib', Load(), lineno=423, col_offset=26), 'error_temp', Load(), lineno=423, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=423, col_offset=45), 'client', Load(), lineno=423, col_offset=45), 'sendcmd', Load(), lineno=423, col_offset=45), Str('echo 499', lineno=423, col_offset=66)], [], None, None, lineno=423, col_offset=8), lineno=423, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=424, col_offset=8), 'assertRaises', Load(), lineno=424, col_offset=8), [Attribute(Name('ftplib', Load(), lineno=424, col_offset=26), 'error_perm', Load(), lineno=424, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=424, col_offset=45), 'client', Load(), lineno=424, col_offset=45), 'sendcmd', Load(), lineno=424, col_offset=45), Str('echo 500', lineno=424, col_offset=66)], [], None, None, lineno=424, col_offset=8), lineno=424, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=425, col_offset=8), 'assertRaises', Load(), lineno=425, col_offset=8), [Attribute(Name('ftplib', Load(), lineno=425, col_offset=26), 'error_perm', Load(), lineno=425, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=425, col_offset=45), 'client', Load(), lineno=425, col_offset=45), 'sendcmd', Load(), lineno=425, col_offset=45), Str('echo 599', lineno=425, col_offset=66)], [], None, None, lineno=425, col_offset=8), lineno=425, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=426, col_offset=8), 'assertRaises', Load(), lineno=426, col_offset=8), [Attribute(Name('ftplib', Load(), lineno=426, col_offset=26), 'error_proto', Load(), lineno=426, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=426, col_offset=46), 'client', Load(), lineno=426, col_offset=46), 'sendcmd', Load(), lineno=426, col_offset=46), Str('echo 999', lineno=426, col_offset=67)], [], None, None, lineno=426, col_offset=8), lineno=426, col_offset=8)], [], lineno=421, col_offset=4), FunctionDef('test_all_errors', arguments([Name('self', Param(), lineno=428, col_offset=24)], None, None, []), [Assign([Name('exceptions', Store(), lineno=429, col_offset=8)], Tuple([Attribute(Name('ftplib', Load(), lineno=429, col_offset=22), 'error_reply', Load(), lineno=429, col_offset=22), Attribute(Name('ftplib', Load(), lineno=429, col_offset=42), 'error_temp', Load(), lineno=429, col_offset=42), Attribute(Name('ftplib', Load(), lineno=429, col_offset=61), 'error_perm', Load(), lineno=429, col_offset=61), Attribute(Name('ftplib', Load(), lineno=430, col_offset=22), 'error_proto', Load(), lineno=430, col_offset=22), Attribute(Name('ftplib', Load(), lineno=430, col_offset=42), 'Error', Load(), lineno=430, col_offset=42), Name('IOError', Load(), lineno=430, col_offset=56), Name('EOFError', Load(), lineno=430, col_offset=65)], Load(), lineno=429, col_offset=22), lineno=429, col_offset=8), For(Name('x', Store(), lineno=431, col_offset=12), Name('exceptions', Load(), lineno=431, col_offset=17), [TryExcept([Raise(Call(Name('x', Load(), lineno=433, col_offset=22), [Str('exception not included in all_errors set', lineno=433, col_offset=24)], [], None, None, lineno=433, col_offset=22), None, None, lineno=433, col_offset=16)], [ExceptHandler(Attribute(Name('ftplib', Load(), lineno=434, col_offset=19), 'all_errors', Load(), lineno=434, col_offset=19), None, [Pass( lineno=435, col_offset=16)], lineno=434, col_offset=12)], [], lineno=432, col_offset=12)], [], lineno=431, col_offset=8)], [], lineno=428, col_offset=4), FunctionDef('test_set_pasv', arguments([Name('self', Param(), lineno=437, col_offset=22)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=439, col_offset=8), 'assertTrue', Load(), lineno=439, col_offset=8), [Attribute(Attribute(Name('self', Load(), lineno=439, col_offset=24), 'client', Load(), lineno=439, col_offset=24), 'passiveserver', Load(), lineno=439, col_offset=24)], [], None, None, lineno=439, col_offset=8), lineno=439, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=440, col_offset=8), 'client', Load(), lineno=440, col_offset=8), 'set_pasv', Load(), lineno=440, col_offset=8), [Name('True', Load(), lineno=440, col_offset=29)], [], None, None, lineno=440, col_offset=8), lineno=440, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=441, col_offset=8), 'assertTrue', Load(), lineno=441, col_offset=8), [Attribute(Attribute(Name('self', Load(), lineno=441, col_offset=24), 'client', Load(), lineno=441, col_offset=24), 'passiveserver', Load(), lineno=441, col_offset=24)], [], None, None, lineno=441, col_offset=8), lineno=441, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=442, col_offset=8), 'client', Load(), lineno=442, col_offset=8), 'set_pasv', Load(), lineno=442, col_offset=8), [Name('False', Load(), lineno=442, col_offset=29)], [], None, None, lineno=442, col_offset=8), lineno=442, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=443, col_offset=8), 'assertFalse', Load(), lineno=443, col_offset=8), [Attribute(Attribute(Name('self', Load(), lineno=443, col_offset=25), 'client', Load(), lineno=443, col_offset=25), 'passiveserver', Load(), lineno=443, col_offset=25)], [], None, None, lineno=443, col_offset=8), lineno=443, col_offset=8)], [], lineno=437, col_offset=4), FunctionDef('test_voidcmd', arguments([Name('self', Param(), lineno=445, col_offset=21)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=446, col_offset=8), 'client', Load(), lineno=446, col_offset=8), 'voidcmd', Load(), lineno=446, col_offset=8), [Str('echo 200', lineno=446, col_offset=28)], [], None, None, lineno=446, col_offset=8), lineno=446, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=447, col_offset=8), 'client', Load(), lineno=447, col_offset=8), 'voidcmd', Load(), lineno=447, col_offset=8), [Str('echo 299', lineno=447, col_offset=28)], [], None, None, lineno=447, col_offset=8), lineno=447, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=448, col_offset=8), 'assertRaises', Load(), lineno=448, col_offset=8), [Attribute(Name('ftplib', Load(), lineno=448, col_offset=26), 'error_reply', Load(), lineno=448, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=448, col_offset=46), 'client', Load(), lineno=448, col_offset=46), 'voidcmd', Load(), lineno=448, col_offset=46), Str('echo 199', lineno=448, col_offset=67)], [], None, None, lineno=448, col_offset=8), lineno=448, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=449, col_offset=8), 'assertRaises', Load(), lineno=449, col_offset=8), [Attribute(Name('ftplib', Load(), lineno=449, col_offset=26), 'error_reply', Load(), lineno=449, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=449, col_offset=46), 'client', Load(), lineno=449, col_offset=46), 'voidcmd', Load(), lineno=449, col_offset=46), Str('echo 300', lineno=449, col_offset=67)], [], None, None, lineno=449, col_offset=8), lineno=449, col_offset=8)], [], lineno=445, col_offset=4), FunctionDef('test_login', arguments([Name('self', Param(), lineno=451, col_offset=19)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=452, col_offset=8), 'client', Load(), lineno=452, col_offset=8), 'login', Load(), lineno=452, col_offset=8), [], [], None, None, lineno=452, col_offset=8), lineno=452, col_offset=8)], [], lineno=451, col_offset=4), FunctionDef('test_acct', arguments([Name('self', Param(), lineno=454, col_offset=18)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=455, col_offset=8), 'client', Load(), lineno=455, col_offset=8), 'acct', Load(), lineno=455, col_offset=8), [Str('passwd', lineno=455, col_offset=25)], [], None, None, lineno=455, col_offset=8), lineno=455, col_offset=8)], [], lineno=454, col_offset=4), FunctionDef('test_rename', arguments([Name('self', Param(), lineno=457, col_offset=20)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=458, col_offset=8), 'client', Load(), lineno=458, col_offset=8), 'rename', Load(), lineno=458, col_offset=8), [Str('a', lineno=458, col_offset=27), Str('b', lineno=458, col_offset=32)], [], None, None, lineno=458, col_offset=8), lineno=458, col_offset=8), Assign([Attribute(Attribute(Attribute(Name('self', Load(), lineno=459, col_offset=8), 'server', Load(), lineno=459, col_offset=8), 'handler', Load(), lineno=459, col_offset=8), 'next_response', Store(), lineno=459, col_offset=8)], Str('200', lineno=459, col_offset=44), lineno=459, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=460, col_offset=8), 'assertRaises', Load(), lineno=460, col_offset=8), [Attribute(Name('ftplib', Load(), lineno=460, col_offset=26), 'error_reply', Load(), lineno=460, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=460, col_offset=46), 'client', Load(), lineno=460, col_offset=46), 'rename', Load(), lineno=460, col_offset=46), Str('a', lineno=460, col_offset=66), Str('b', lineno=460, col_offset=71)], [], None, None, lineno=460, col_offset=8), lineno=460, col_offset=8)], [], lineno=457, col_offset=4), FunctionDef('test_delete', arguments([Name('self', Param(), lineno=462, col_offset=20)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=463, col_offset=8), 'client', Load(), lineno=463, col_offset=8), 'delete', Load(), lineno=463, col_offset=8), [Str('foo', lineno=463, col_offset=27)], [], None, None, lineno=463, col_offset=8), lineno=463, col_offset=8), Assign([Attribute(Attribute(Attribute(Name('self', Load(), lineno=464, col_offset=8), 'server', Load(), lineno=464, col_offset=8), 'handler', Load(), lineno=464, col_offset=8), 'next_response', Store(), lineno=464, col_offset=8)], Str('199', lineno=464, col_offset=44), lineno=464, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=465, col_offset=8), 'assertRaises', Load(), lineno=465, col_offset=8), [Attribute(Name('ftplib', Load(), lineno=465, col_offset=26), 'error_reply', Load(), lineno=465, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=465, col_offset=46), 'client', Load(), lineno=465, col_offset=46), 'delete', Load(), lineno=465, col_offset=46), Str('foo', lineno=465, col_offset=66)], [], None, None, lineno=465, col_offset=8), lineno=465, col_offset=8)], [], lineno=462, col_offset=4), FunctionDef('test_size', arguments([Name('self', Param(), lineno=467, col_offset=18)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=468, col_offset=8), 'client', Load(), lineno=468, col_offset=8), 'size', Load(), lineno=468, col_offset=8), [Str('foo', lineno=468, col_offset=25)], [], None, None, lineno=468, col_offset=8), lineno=468, col_offset=8)], [], lineno=467, col_offset=4), FunctionDef('test_mkd', arguments([Name('self', Param(), lineno=470, col_offset=17)], None, None, []), [Assign([Name('dir', Store(), lineno=471, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=471, col_offset=14), 'client', Load(), lineno=471, col_offset=14), 'mkd', Load(), lineno=471, col_offset=14), [Str('/foo', lineno=471, col_offset=30)], [], None, None, lineno=471, col_offset=14), lineno=471, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=472, col_offset=8), 'assertEqual', Load(), lineno=472, col_offset=8), [Name('dir', Load(), lineno=472, col_offset=25), Str('/foo', lineno=472, col_offset=30)], [], None, None, lineno=472, col_offset=8), lineno=472, col_offset=8)], [], lineno=470, col_offset=4), FunctionDef('test_rmd', arguments([Name('self', Param(), lineno=474, col_offset=17)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=475, col_offset=8), 'client', Load(), lineno=475, col_offset=8), 'rmd', Load(), lineno=475, col_offset=8), [Str('foo', lineno=475, col_offset=24)], [], None, None, lineno=475, col_offset=8), lineno=475, col_offset=8)], [], lineno=474, col_offset=4), FunctionDef('test_pwd', arguments([Name('self', Param(), lineno=477, col_offset=17)], None, None, []), [Assign([Name('dir', Store(), lineno=478, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=478, col_offset=14), 'client', Load(), lineno=478, col_offset=14), 'pwd', Load(), lineno=478, col_offset=14), [], [], None, None, lineno=478, col_offset=14), lineno=478, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=479, col_offset=8), 'assertEqual', Load(), lineno=479, col_offset=8), [Name('dir', Load(), lineno=479, col_offset=25), Str('pwd ok', lineno=479, col_offset=30)], [], None, None, lineno=479, col_offset=8), lineno=479, col_offset=8)], [], lineno=477, col_offset=4), FunctionDef('test_quit', arguments([Name('self', Param(), lineno=481, col_offset=18)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=482, col_offset=8), 'assertEqual', Load(), lineno=482, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=482, col_offset=25), 'client', Load(), lineno=482, col_offset=25), 'quit', Load(), lineno=482, col_offset=25), [], [], None, None, lineno=482, col_offset=25), Str('221 quit ok', lineno=482, col_offset=45)], [], None, None, lineno=482, col_offset=8), lineno=482, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=484, col_offset=8), 'assertEqual', Load(), lineno=484, col_offset=8), [Attribute(Attribute(Name('self', Load(), lineno=484, col_offset=25), 'client', Load(), lineno=484, col_offset=25), 'sock', Load(), lineno=484, col_offset=25), Name('None', Load(), lineno=484, col_offset=43)], [], None, None, lineno=484, col_offset=8), lineno=484, col_offset=8)], [], lineno=481, col_offset=4), FunctionDef('test_retrbinary', arguments([Name('self', Param(), lineno=486, col_offset=24)], None, None, []), [Assign([Name('received', Store(), lineno=487, col_offset=8)], List([], Load(), lineno=487, col_offset=19), lineno=487, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=488, col_offset=8), 'client', Load(), lineno=488, col_offset=8), 'retrbinary', Load(), lineno=488, col_offset=8), [Str('retr', lineno=488, col_offset=31), Attribute(Name('received', Load(), lineno=488, col_offset=39), 'append', Load(), lineno=488, col_offset=39)], [], None, None, lineno=488, col_offset=8), lineno=488, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=489, col_offset=8), 'assertEqual', Load(), lineno=489, col_offset=8), [Call(Attribute(Str('', lineno=489, col_offset=25), 'join', Load(), lineno=489, col_offset=25), [Name('received', Load(), lineno=489, col_offset=33)], [], None, None, lineno=489, col_offset=25), Name('RETR_DATA', Load(), lineno=489, col_offset=44)], [], None, None, lineno=489, col_offset=8), lineno=489, col_offset=8)], [], lineno=486, col_offset=4), FunctionDef('test_retrbinary_rest', arguments([Name('self', Param(), lineno=491, col_offset=29)], None, None, []), [For(Name('rest', Store(), lineno=492, col_offset=12), Tuple([Num(0, lineno=492, col_offset=21), Num(10, lineno=492, col_offset=24), Num(20, lineno=492, col_offset=28)], Load(), lineno=492, col_offset=21), [Assign([Name('received', Store(), lineno=493, col_offset=12)], List([], Load(), lineno=493, col_offset=23), lineno=493, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=494, col_offset=12), 'client', Load(), lineno=494, col_offset=12), 'retrbinary', Load(), lineno=494, col_offset=12), [Str('retr', lineno=494, col_offset=35), Attribute(Name('received', Load(), lineno=494, col_offset=43), 'append', Load(), lineno=494, col_offset=43)], [keyword('rest', Name('rest', Load(), lineno=494, col_offset=65))], None, None, lineno=494, col_offset=12), lineno=494, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=495, col_offset=12), 'assertEqual', Load(), lineno=495, col_offset=12), [Call(Attribute(Str('', lineno=495, col_offset=29), 'join', Load(), lineno=495, col_offset=29), [Name('received', Load(), lineno=495, col_offset=37)], [], None, None, lineno=495, col_offset=29), Subscript(Name('RETR_DATA', Load(), lineno=495, col_offset=48), Slice(Name('rest', Load(), lineno=495, col_offset=58), None, None), Load(), lineno=495, col_offset=48)], [keyword('msg', BinOp(Str('rest test case %d %d %d', lineno=496, col_offset=33), Mod(), Tuple([Name('rest', Load(), lineno=496, col_offset=62), Call(Name('len', Load(), lineno=497, col_offset=62), [Call(Attribute(Str('', lineno=497, col_offset=66), 'join', Load(), lineno=497, col_offset=66), [Name('received', Load(), lineno=497, col_offset=74)], [], None, None, lineno=497, col_offset=66)], [], None, None, lineno=497, col_offset=62), Call(Name('len', Load(), lineno=498, col_offset=62), [Subscript(Name('RETR_DATA', Load(), lineno=498, col_offset=66), Slice(Name('rest', Load(), lineno=498, col_offset=76), None, None), Load(), lineno=498, col_offset=66)], [], None, None, lineno=498, col_offset=62)], Load(), lineno=496, col_offset=62), lineno=496, col_offset=33))], None, None, lineno=495, col_offset=12), lineno=495, col_offset=12)], [], lineno=492, col_offset=8)], [], lineno=491, col_offset=4), FunctionDef('test_retrlines', arguments([Name('self', Param(), lineno=500, col_offset=23)], None, None, []), [Assign([Name('received', Store(), lineno=501, col_offset=8)], List([], Load(), lineno=501, col_offset=19), lineno=501, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=502, col_offset=8), 'client', Load(), lineno=502, col_offset=8), 'retrlines', Load(), lineno=502, col_offset=8), [Str('retr', lineno=502, col_offset=30), Attribute(Name('received', Load(), lineno=502, col_offset=38), 'append', Load(), lineno=502, col_offset=38)], [], None, None, lineno=502, col_offset=8), lineno=502, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=503, col_offset=8), 'assertEqual', Load(), lineno=503, col_offset=8), [Call(Attribute(Str('', lineno=503, col_offset=25), 'join', Load(), lineno=503, col_offset=25), [Name('received', Load(), lineno=503, col_offset=33)], [], None, None, lineno=503, col_offset=25), Call(Attribute(Name('RETR_DATA', Load(), lineno=503, col_offset=44), 'replace', Load(), lineno=503, col_offset=44), [Str('\r\n', lineno=503, col_offset=62), Str('', lineno=503, col_offset=70)], [], None, None, lineno=503, col_offset=44)], [], None, None, lineno=503, col_offset=8), lineno=503, col_offset=8)], [], lineno=500, col_offset=4), FunctionDef('test_storbinary', arguments([Name('self', Param(), lineno=505, col_offset=24)], None, None, []), [Assign([Name('f', Store(), lineno=506, col_offset=8)], Call(Attribute(Name('StringIO', Load(), lineno=506, col_offset=12), 'StringIO', Load(), lineno=506, col_offset=12), [Name('RETR_DATA', Load(), lineno=506, col_offset=30)], [], None, None, lineno=506, col_offset=12), lineno=506, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=507, col_offset=8), 'client', Load(), lineno=507, col_offset=8), 'storbinary', Load(), lineno=507, col_offset=8), [Str('stor', lineno=507, col_offset=31), Name('f', Load(), lineno=507, col_offset=39)], [], None, None, lineno=507, col_offset=8), lineno=507, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=508, col_offset=8), 'assertEqual', Load(), lineno=508, col_offset=8), [Attribute(Attribute(Attribute(Name('self', Load(), lineno=508, col_offset=25), 'server', Load(), lineno=508, col_offset=25), 'handler', Load(), lineno=508, col_offset=25), 'last_received_data', Load(), lineno=508, col_offset=25), Name('RETR_DATA', Load(), lineno=508, col_offset=65)], [], None, None, lineno=508, col_offset=8), lineno=508, col_offset=8), Assign([Name('flag', Store(), lineno=510, col_offset=8)], List([], Load(), lineno=510, col_offset=15), lineno=510, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=511, col_offset=8), 'seek', Load(), lineno=511, col_offset=8), [Num(0, lineno=511, col_offset=15)], [], None, None, lineno=511, col_offset=8), lineno=511, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=512, col_offset=8), 'client', Load(), lineno=512, col_offset=8), 'storbinary', Load(), lineno=512, col_offset=8), [Str('stor', lineno=512, col_offset=31), Name('f', Load(), lineno=512, col_offset=39)], [keyword('callback', Lambda(arguments([Name('x', Param(), lineno=512, col_offset=58)], None, None, []), Call(Attribute(Name('flag', Load(), lineno=512, col_offset=61), 'append', Load(), lineno=512, col_offset=61), [Name('None', Load(), lineno=512, col_offset=73)], [], None, None, lineno=512, col_offset=61), lineno=512, col_offset=51))], None, None, lineno=512, col_offset=8), lineno=512, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=513, col_offset=8), 'assertTrue', Load(), lineno=513, col_offset=8), [Name('flag', Load(), lineno=513, col_offset=24)], [], None, None, lineno=513, col_offset=8), lineno=513, col_offset=8)], [], lineno=505, col_offset=4), FunctionDef('test_storbinary_rest', arguments([Name('self', Param(), lineno=515, col_offset=29)], None, None, []), [Assign([Name('f', Store(), lineno=516, col_offset=8)], Call(Attribute(Name('StringIO', Load(), lineno=516, col_offset=12), 'StringIO', Load(), lineno=516, col_offset=12), [Name('RETR_DATA', Load(), lineno=516, col_offset=30)], [], None, None, lineno=516, col_offset=12), lineno=516, col_offset=8), For(Name('r', Store(), lineno=517, col_offset=12), Tuple([Num(30, lineno=517, col_offset=18), Str('30', lineno=517, col_offset=22)], Load(), lineno=517, col_offset=18), [Expr(Call(Attribute(Name('f', Load(), lineno=518, col_offset=12), 'seek', Load(), lineno=518, col_offset=12), [Num(0, lineno=518, col_offset=19)], [], None, None, lineno=518, col_offset=12), lineno=518, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=519, col_offset=12), 'client', Load(), lineno=519, col_offset=12), 'storbinary', Load(), lineno=519, col_offset=12), [Str('stor', lineno=519, col_offset=35), Name('f', Load(), lineno=519, col_offset=43)], [keyword('rest', Name('r', Load(), lineno=519, col_offset=51))], None, None, lineno=519, col_offset=12), lineno=519, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=520, col_offset=12), 'assertEqual', Load(), lineno=520, col_offset=12), [Attribute(Attribute(Attribute(Name('self', Load(), lineno=520, col_offset=29), 'server', Load(), lineno=520, col_offset=29), 'handler', Load(), lineno=520, col_offset=29), 'rest', Load(), lineno=520, col_offset=29), Call(Name('str', Load(), lineno=520, col_offset=55), [Name('r', Load(), lineno=520, col_offset=59)], [], None, None, lineno=520, col_offset=55)], [], None, None, lineno=520, col_offset=12), lineno=520, col_offset=12)], [], lineno=517, col_offset=8)], [], lineno=515, col_offset=4), FunctionDef('test_storlines', arguments([Name('self', Param(), lineno=522, col_offset=23)], None, None, []), [Assign([Name('f', Store(), lineno=523, col_offset=8)], Call(Attribute(Name('StringIO', Load(), lineno=523, col_offset=12), 'StringIO', Load(), lineno=523, col_offset=12), [Call(Attribute(Name('RETR_DATA', Load(), lineno=523, col_offset=30), 'replace', Load(), lineno=523, col_offset=30), [Str('\r\n', lineno=523, col_offset=48), Str('\n', lineno=523, col_offset=56)], [], None, None, lineno=523, col_offset=30)], [], None, None, lineno=523, col_offset=12), lineno=523, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=524, col_offset=8), 'client', Load(), lineno=524, col_offset=8), 'storlines', Load(), lineno=524, col_offset=8), [Str('stor', lineno=524, col_offset=30), Name('f', Load(), lineno=524, col_offset=38)], [], None, None, lineno=524, col_offset=8), lineno=524, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=525, col_offset=8), 'assertEqual', Load(), lineno=525, col_offset=8), [Attribute(Attribute(Attribute(Name('self', Load(), lineno=525, col_offset=25), 'server', Load(), lineno=525, col_offset=25), 'handler', Load(), lineno=525, col_offset=25), 'last_received_data', Load(), lineno=525, col_offset=25), Name('RETR_DATA', Load(), lineno=525, col_offset=65)], [], None, None, lineno=525, col_offset=8), lineno=525, col_offset=8), Assign([Name('flag', Store(), lineno=527, col_offset=8)], List([], Load(), lineno=527, col_offset=15), lineno=527, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=528, col_offset=8), 'seek', Load(), lineno=528, col_offset=8), [Num(0, lineno=528, col_offset=15)], [], None, None, lineno=528, col_offset=8), lineno=528, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=529, col_offset=8), 'client', Load(), lineno=529, col_offset=8), 'storlines', Load(), lineno=529, col_offset=8), [Str('stor foo', lineno=529, col_offset=30), Name('f', Load(), lineno=529, col_offset=42)], [keyword('callback', Lambda(arguments([Name('x', Param(), lineno=529, col_offset=61)], None, None, []), Call(Attribute(Name('flag', Load(), lineno=529, col_offset=64), 'append', Load(), lineno=529, col_offset=64), [Name('None', Load(), lineno=529, col_offset=76)], [], None, None, lineno=529, col_offset=64), lineno=529, col_offset=54))], None, None, lineno=529, col_offset=8), lineno=529, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=530, col_offset=8), 'assertTrue', Load(), lineno=530, col_offset=8), [Name('flag', Load(), lineno=530, col_offset=24)], [], None, None, lineno=530, col_offset=8), lineno=530, col_offset=8)], [], lineno=522, col_offset=4), FunctionDef('test_nlst', arguments([Name('self', Param(), lineno=532, col_offset=18)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=533, col_offset=8), 'client', Load(), lineno=533, col_offset=8), 'nlst', Load(), lineno=533, col_offset=8), [], [], None, None, lineno=533, col_offset=8), lineno=533, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=534, col_offset=8), 'assertEqual', Load(), lineno=534, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=534, col_offset=25), 'client', Load(), lineno=534, col_offset=25), 'nlst', Load(), lineno=534, col_offset=25), [], [], None, None, lineno=534, col_offset=25), Subscript(Call(Attribute(Name('NLST_DATA', Load(), lineno=534, col_offset=45), 'split', Load(), lineno=534, col_offset=45), [Str('\r\n', lineno=534, col_offset=61)], [], None, None, lineno=534, col_offset=45), Slice(None, Num(-1, lineno=534, col_offset=71), None), Load(), lineno=534, col_offset=45)], [], None, None, lineno=534, col_offset=8), lineno=534, col_offset=8)], [], lineno=532, col_offset=4), FunctionDef('test_dir', arguments([Name('self', Param(), lineno=536, col_offset=17)], None, None, []), [Assign([Name('l', Store(), lineno=537, col_offset=8)], List([], Load(), lineno=537, col_offset=12), lineno=537, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=538, col_offset=8), 'client', Load(), lineno=538, col_offset=8), 'dir', Load(), lineno=538, col_offset=8), [Lambda(arguments([Name('x', Param(), lineno=538, col_offset=31)], None, None, []), Call(Attribute(Name('l', Load(), lineno=538, col_offset=34), 'append', Load(), lineno=538, col_offset=34), [Name('x', Load(), lineno=538, col_offset=43)], [], None, None, lineno=538, col_offset=34), lineno=538, col_offset=24)], [], None, None, lineno=538, col_offset=8), lineno=538, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=539, col_offset=8), 'assertEqual', Load(), lineno=539, col_offset=8), [Call(Attribute(Str('', lineno=539, col_offset=25), 'join', Load(), lineno=539, col_offset=25), [Name('l', Load(), lineno=539, col_offset=33)], [], None, None, lineno=539, col_offset=25), Call(Attribute(Name('LIST_DATA', Load(), lineno=539, col_offset=37), 'replace', Load(), lineno=539, col_offset=37), [Str('\r\n', lineno=539, col_offset=55), Str('', lineno=539, col_offset=63)], [], None, None, lineno=539, col_offset=37)], [], None, None, lineno=539, col_offset=8), lineno=539, col_offset=8)], [], lineno=536, col_offset=4), FunctionDef('test_makeport', arguments([Name('self', Param(), lineno=541, col_offset=22)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=542, col_offset=8), 'client', Load(), lineno=542, col_offset=8), 'makeport', Load(), lineno=542, col_offset=8), [], [], None, None, lineno=542, col_offset=8), lineno=542, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=544, col_offset=8), 'assertEqual', Load(), lineno=544, col_offset=8), [Attribute(Attribute(Attribute(Name('self', Load(), lineno=544, col_offset=25), 'server', Load(), lineno=544, col_offset=25), 'handler', Load(), lineno=544, col_offset=25), 'last_received_cmd', Load(), lineno=544, col_offset=25), Str('port', lineno=544, col_offset=64)], [], None, None, lineno=544, col_offset=8), lineno=544, col_offset=8)], [], lineno=541, col_offset=4), FunctionDef('test_makepasv', arguments([Name('self', Param(), lineno=546, col_offset=22)], None, None, []), [Assign([Tuple([Name('host', Store(), lineno=547, col_offset=8), Name('port', Store(), lineno=547, col_offset=14)], Store(), lineno=547, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=547, col_offset=21), 'client', Load(), lineno=547, col_offset=21), 'makepasv', Load(), lineno=547, col_offset=21), [], [], None, None, lineno=547, col_offset=21), lineno=547, col_offset=8), Assign([Name('conn', Store(), lineno=548, col_offset=8)], Call(Attribute(Name('socket', Load(), lineno=548, col_offset=15), 'create_connection', Load(), lineno=548, col_offset=15), [Tuple([Name('host', Load(), lineno=548, col_offset=41), Name('port', Load(), lineno=548, col_offset=47)], Load(), lineno=548, col_offset=41), Num(10, lineno=548, col_offset=54)], [], None, None, lineno=548, col_offset=15), lineno=548, col_offset=8), Expr(Call(Attribute(Name('conn', Load(), lineno=549, col_offset=8), 'close', Load(), lineno=549, col_offset=8), [], [], None, None, lineno=549, col_offset=8), lineno=549, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=551, col_offset=8), 'assertEqual', Load(), lineno=551, col_offset=8), [Attribute(Attribute(Attribute(Name('self', Load(), lineno=551, col_offset=25), 'server', Load(), lineno=551, col_offset=25), 'handler', Load(), lineno=551, col_offset=25), 'last_received_cmd', Load(), lineno=551, col_offset=25), Str('pasv', lineno=551, col_offset=64)], [], None, None, lineno=551, col_offset=8), lineno=551, col_offset=8)], [], lineno=546, col_offset=4)], [], lineno=401, col_offset=0), ClassDef('TestIPv6Environment', [Name('TestCase', Load(), lineno=554, col_offset=26)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=556, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=557, col_offset=8), 'server', Store(), lineno=557, col_offset=8)], Call(Name('DummyFTPServer', Load(), lineno=557, col_offset=22), [Tuple([Name('HOST', Load(), lineno=557, col_offset=38), Num(0, lineno=557, col_offset=44)], Load(), lineno=557, col_offset=38)], [keyword('af', Attribute(Name('socket', Load(), lineno=557, col_offset=51), 'AF_INET6', Load(), lineno=557, col_offset=51))], None, None, lineno=557, col_offset=22), lineno=557, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=558, col_offset=8), 'server', Load(), lineno=558, col_offset=8), 'start', Load(), lineno=558, col_offset=8), [], [], None, None, lineno=558, col_offset=8), lineno=558, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=559, col_offset=8), 'client', Store(), lineno=559, col_offset=8)], Call(Attribute(Name('ftplib', Load(), lineno=559, col_offset=22), 'FTP', Load(), lineno=559, col_offset=22), [], [], None, None, lineno=559, col_offset=22), lineno=559, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=560, col_offset=8), 'client', Load(), lineno=560, col_offset=8), 'connect', Load(), lineno=560, col_offset=8), [Attribute(Attribute(Name('self', Load(), lineno=560, col_offset=28), 'server', Load(), lineno=560, col_offset=28), 'host', Load(), lineno=560, col_offset=28), Attribute(Attribute(Name('self', Load(), lineno=560, col_offset=46), 'server', Load(), lineno=560, col_offset=46), 'port', Load(), lineno=560, col_offset=46)], [], None, None, lineno=560, col_offset=8), lineno=560, col_offset=8)], [], lineno=556, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=562, col_offset=17)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=563, col_offset=8), 'client', Load(), lineno=563, col_offset=8), 'close', Load(), lineno=563, col_offset=8), [], [], None, None, lineno=563, col_offset=8), lineno=563, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=564, col_offset=8), 'server', Load(), lineno=564, col_offset=8), 'stop', Load(), lineno=564, col_offset=8), [], [], None, None, lineno=564, col_offset=8), lineno=564, col_offset=8)], [], lineno=562, col_offset=4), FunctionDef('test_af', arguments([Name('self', Param(), lineno=566, col_offset=16)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=567, col_offset=8), 'assertEqual', Load(), lineno=567, col_offset=8), [Attribute(Attribute(Name('self', Load(), lineno=567, col_offset=25), 'client', Load(), lineno=567, col_offset=25), 'af', Load(), lineno=567, col_offset=25), Attribute(Name('socket', Load(), lineno=567, col_offset=41), 'AF_INET6', Load(), lineno=567, col_offset=41)], [], None, None, lineno=567, col_offset=8), lineno=567, col_offset=8)], [], lineno=566, col_offset=4), FunctionDef('test_makeport', arguments([Name('self', Param(), lineno=569, col_offset=22)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=570, col_offset=8), 'client', Load(), lineno=570, col_offset=8), 'makeport', Load(), lineno=570, col_offset=8), [], [], None, None, lineno=570, col_offset=8), lineno=570, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=571, col_offset=8), 'assertEqual', Load(), lineno=571, col_offset=8), [Attribute(Attribute(Attribute(Name('self', Load(), lineno=571, col_offset=25), 'server', Load(), lineno=571, col_offset=25), 'handler', Load(), lineno=571, col_offset=25), 'last_received_cmd', Load(), lineno=571, col_offset=25), Str('eprt', lineno=571, col_offset=64)], [], None, None, lineno=571, col_offset=8), lineno=571, col_offset=8)], [], lineno=569, col_offset=4), FunctionDef('test_makepasv', arguments([Name('self', Param(), lineno=573, col_offset=22)], None, None, []), [Assign([Tuple([Name('host', Store(), lineno=574, col_offset=8), Name('port', Store(), lineno=574, col_offset=14)], Store(), lineno=574, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=574, col_offset=21), 'client', Load(), lineno=574, col_offset=21), 'makepasv', Load(), lineno=574, col_offset=21), [], [], None, None, lineno=574, col_offset=21), lineno=574, col_offset=8), Assign([Name('conn', Store(), lineno=575, col_offset=8)], Call(Attribute(Name('socket', Load(), lineno=575, col_offset=15), 'create_connection', Load(), lineno=575, col_offset=15), [Tuple([Name('host', Load(), lineno=575, col_offset=41), Name('port', Load(), lineno=575, col_offset=47)], Load(), lineno=575, col_offset=41), Num(10, lineno=575, col_offset=54)], [], None, None, lineno=575, col_offset=15), lineno=575, col_offset=8), Expr(Call(Attribute(Name('conn', Load(), lineno=576, col_offset=8), 'close', Load(), lineno=576, col_offset=8), [], [], None, None, lineno=576, col_offset=8), lineno=576, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=577, col_offset=8), 'assertEqual', Load(), lineno=577, col_offset=8), [Attribute(Attribute(Attribute(Name('self', Load(), lineno=577, col_offset=25), 'server', Load(), lineno=577, col_offset=25), 'handler', Load(), lineno=577, col_offset=25), 'last_received_cmd', Load(), lineno=577, col_offset=25), Str('epsv', lineno=577, col_offset=64)], [], None, None, lineno=577, col_offset=8), lineno=577, col_offset=8)], [], lineno=573, col_offset=4), FunctionDef('test_transfer', arguments([Name('self', Param(), lineno=579, col_offset=22)], None, None, []), [FunctionDef('retr', arguments([], None, None, []), [Assign([Name('received', Store(), lineno=581, col_offset=12)], List([], Load(), lineno=581, col_offset=23), lineno=581, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=582, col_offset=12), 'client', Load(), lineno=582, col_offset=12), 'retrbinary', Load(), lineno=582, col_offset=12), [Str('retr', lineno=582, col_offset=35), Attribute(Name('received', Load(), lineno=582, col_offset=43), 'append', Load(), lineno=582, col_offset=43)], [], None, None, lineno=582, col_offset=12), lineno=582, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=583, col_offset=12), 'assertEqual', Load(), lineno=583, col_offset=12), [Call(Attribute(Str('', lineno=583, col_offset=29), 'join', Load(), lineno=583, col_offset=29), [Name('received', Load(), lineno=583, col_offset=37)], [], None, None, lineno=583, col_offset=29), Name('RETR_DATA', Load(), lineno=583, col_offset=48)], [], None, None, lineno=583, col_offset=12), lineno=583, col_offset=12)], [], lineno=580, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=584, col_offset=8), 'client', Load(), lineno=584, col_offset=8), 'set_pasv', Load(), lineno=584, col_offset=8), [Name('True', Load(), lineno=584, col_offset=29)], [], None, None, lineno=584, col_offset=8), lineno=584, col_offset=8), Expr(Call(Name('retr', Load(), lineno=585, col_offset=8), [], [], None, None, lineno=585, col_offset=8), lineno=585, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=586, col_offset=8), 'client', Load(), lineno=586, col_offset=8), 'set_pasv', Load(), lineno=586, col_offset=8), [Name('False', Load(), lineno=586, col_offset=29)], [], None, None, lineno=586, col_offset=8), lineno=586, col_offset=8), Expr(Call(Name('retr', Load(), lineno=587, col_offset=8), [], [], None, None, lineno=587, col_offset=8), lineno=587, col_offset=8)], [], lineno=579, col_offset=4)], [], lineno=554, col_offset=0), ClassDef('TestTLS_FTPClassMixin', [Name('TestFTPClass', Load(), lineno=590, col_offset=28)], [Expr(Str('Repeat TestFTPClass tests starting the TLS layer for both control\n    and data connections first.\n    ', lineno=593, col_offset=-1), lineno=593, col_offset=-1), FunctionDef('setUp', arguments([Name('self', Param(), lineno=595, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=596, col_offset=8), 'server', Store(), lineno=596, col_offset=8)], Call(Name('DummyTLS_FTPServer', Load(), lineno=596, col_offset=22), [Tuple([Name('HOST', Load(), lineno=596, col_offset=42), Num(0, lineno=596, col_offset=48)], Load(), lineno=596, col_offset=42)], [], None, None, lineno=596, col_offset=22), lineno=596, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=597, col_offset=8), 'server', Load(), lineno=597, col_offset=8), 'start', Load(), lineno=597, col_offset=8), [], [], None, None, lineno=597, col_offset=8), lineno=597, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=598, col_offset=8), 'client', Store(), lineno=598, col_offset=8)], Call(Attribute(Name('ftplib', Load(), lineno=598, col_offset=22), 'FTP_TLS', Load(), lineno=598, col_offset=22), [], [keyword('timeout', Num(10, lineno=598, col_offset=45))], None, None, lineno=598, col_offset=22), lineno=598, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=599, col_offset=8), 'client', Load(), lineno=599, col_offset=8), 'connect', Load(), lineno=599, col_offset=8), [Attribute(Attribute(Name('self', Load(), lineno=599, col_offset=28), 'server', Load(), lineno=599, col_offset=28), 'host', Load(), lineno=599, col_offset=28), Attribute(Attribute(Name('self', Load(), lineno=599, col_offset=46), 'server', Load(), lineno=599, col_offset=46), 'port', Load(), lineno=599, col_offset=46)], [], None, None, lineno=599, col_offset=8), lineno=599, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=601, col_offset=8), 'client', Load(), lineno=601, col_offset=8), 'auth', Load(), lineno=601, col_offset=8), [], [], None, None, lineno=601, col_offset=8), lineno=601, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=602, col_offset=8), 'client', Load(), lineno=602, col_offset=8), 'prot_p', Load(), lineno=602, col_offset=8), [], [], None, None, lineno=602, col_offset=8), lineno=602, col_offset=8)], [], lineno=595, col_offset=4)], [], lineno=590, col_offset=0), ClassDef('TestTLS_FTPClass', [Name('TestCase', Load(), lineno=605, col_offset=23)], [Expr(Str('Specific TLS_FTP class tests.', lineno=606, col_offset=4), lineno=606, col_offset=4), FunctionDef('setUp', arguments([Name('self', Param(), lineno=608, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=609, col_offset=8), 'server', Store(), lineno=609, col_offset=8)], Call(Name('DummyTLS_FTPServer', Load(), lineno=609, col_offset=22), [Tuple([Name('HOST', Load(), lineno=609, col_offset=42), Num(0, lineno=609, col_offset=48)], Load(), lineno=609, col_offset=42)], [], None, None, lineno=609, col_offset=22), lineno=609, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=610, col_offset=8), 'server', Load(), lineno=610, col_offset=8), 'start', Load(), lineno=610, col_offset=8), [], [], None, None, lineno=610, col_offset=8), lineno=610, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=611, col_offset=8), 'client', Store(), lineno=611, col_offset=8)], Call(Attribute(Name('ftplib', Load(), lineno=611, col_offset=22), 'FTP_TLS', Load(), lineno=611, col_offset=22), [], [keyword('timeout', Num(10, lineno=611, col_offset=45))], None, None, lineno=611, col_offset=22), lineno=611, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=612, col_offset=8), 'client', Load(), lineno=612, col_offset=8), 'connect', Load(), lineno=612, col_offset=8), [Attribute(Attribute(Name('self', Load(), lineno=612, col_offset=28), 'server', Load(), lineno=612, col_offset=28), 'host', Load(), lineno=612, col_offset=28), Attribute(Attribute(Name('self', Load(), lineno=612, col_offset=46), 'server', Load(), lineno=612, col_offset=46), 'port', Load(), lineno=612, col_offset=46)], [], None, None, lineno=612, col_offset=8), lineno=612, col_offset=8)], [], lineno=608, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=614, col_offset=17)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=615, col_offset=8), 'client', Load(), lineno=615, col_offset=8), 'close', Load(), lineno=615, col_offset=8), [], [], None, None, lineno=615, col_offset=8), lineno=615, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=616, col_offset=8), 'server', Load(), lineno=616, col_offset=8), 'stop', Load(), lineno=616, col_offset=8), [], [], None, None, lineno=616, col_offset=8), lineno=616, col_offset=8)], [], lineno=614, col_offset=4), FunctionDef('test_control_connection', arguments([Name('self', Param(), lineno=618, col_offset=32)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=619, col_offset=8), 'assertNotIsInstance', Load(), lineno=619, col_offset=8), [Attribute(Attribute(Name('self', Load(), lineno=619, col_offset=33), 'client', Load(), lineno=619, col_offset=33), 'sock', Load(), lineno=619, col_offset=33), Attribute(Name('ssl', Load(), lineno=619, col_offset=51), 'SSLSocket', Load(), lineno=619, col_offset=51)], [], None, None, lineno=619, col_offset=8), lineno=619, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=620, col_offset=8), 'client', Load(), lineno=620, col_offset=8), 'auth', Load(), lineno=620, col_offset=8), [], [], None, None, lineno=620, col_offset=8), lineno=620, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=621, col_offset=8), 'assertIsInstance', Load(), lineno=621, col_offset=8), [Attribute(Attribute(Name('self', Load(), lineno=621, col_offset=30), 'client', Load(), lineno=621, col_offset=30), 'sock', Load(), lineno=621, col_offset=30), Attribute(Name('ssl', Load(), lineno=621, col_offset=48), 'SSLSocket', Load(), lineno=621, col_offset=48)], [], None, None, lineno=621, col_offset=8), lineno=621, col_offset=8)], [], lineno=618, col_offset=4), FunctionDef('test_data_connection', arguments([Name('self', Param(), lineno=623, col_offset=29)], None, None, []), [Assign([Name('sock', Store(), lineno=625, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=625, col_offset=15), 'client', Load(), lineno=625, col_offset=15), 'transfercmd', Load(), lineno=625, col_offset=15), [Str('list', lineno=625, col_offset=39)], [], None, None, lineno=625, col_offset=15), lineno=625, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=626, col_offset=8), 'assertNotIsInstance', Load(), lineno=626, col_offset=8), [Name('sock', Load(), lineno=626, col_offset=33), Attribute(Name('ssl', Load(), lineno=626, col_offset=39), 'SSLSocket', Load(), lineno=626, col_offset=39)], [], None, None, lineno=626, col_offset=8), lineno=626, col_offset=8), Expr(Call(Attribute(Name('sock', Load(), lineno=627, col_offset=8), 'close', Load(), lineno=627, col_offset=8), [], [], None, None, lineno=627, col_offset=8), lineno=627, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=628, col_offset=8), 'assertEqual', Load(), lineno=628, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=628, col_offset=25), 'client', Load(), lineno=628, col_offset=25), 'voidresp', Load(), lineno=628, col_offset=25), [], [], None, None, lineno=628, col_offset=25), Str('226 transfer complete', lineno=628, col_offset=49)], [], None, None, lineno=628, col_offset=8), lineno=628, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=631, col_offset=8), 'client', Load(), lineno=631, col_offset=8), 'prot_p', Load(), lineno=631, col_offset=8), [], [], None, None, lineno=631, col_offset=8), lineno=631, col_offset=8), Assign([Name('sock', Store(), lineno=632, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=632, col_offset=15), 'client', Load(), lineno=632, col_offset=15), 'transfercmd', Load(), lineno=632, col_offset=15), [Str('list', lineno=632, col_offset=39)], [], None, None, lineno=632, col_offset=15), lineno=632, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=633, col_offset=8), 'assertIsInstance', Load(), lineno=633, col_offset=8), [Name('sock', Load(), lineno=633, col_offset=30), Attribute(Name('ssl', Load(), lineno=633, col_offset=36), 'SSLSocket', Load(), lineno=633, col_offset=36)], [], None, None, lineno=633, col_offset=8), lineno=633, col_offset=8), Expr(Call(Attribute(Name('sock', Load(), lineno=634, col_offset=8), 'close', Load(), lineno=634, col_offset=8), [], [], None, None, lineno=634, col_offset=8), lineno=634, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=635, col_offset=8), 'assertEqual', Load(), lineno=635, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=635, col_offset=25), 'client', Load(), lineno=635, col_offset=25), 'voidresp', Load(), lineno=635, col_offset=25), [], [], None, None, lineno=635, col_offset=25), Str('226 transfer complete', lineno=635, col_offset=49)], [], None, None, lineno=635, col_offset=8), lineno=635, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=638, col_offset=8), 'client', Load(), lineno=638, col_offset=8), 'prot_c', Load(), lineno=638, col_offset=8), [], [], None, None, lineno=638, col_offset=8), lineno=638, col_offset=8), Assign([Name('sock', Store(), lineno=639, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=639, col_offset=15), 'client', Load(), lineno=639, col_offset=15), 'transfercmd', Load(), lineno=639, col_offset=15), [Str('list', lineno=639, col_offset=39)], [], None, None, lineno=639, col_offset=15), lineno=639, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=640, col_offset=8), 'assertNotIsInstance', Load(), lineno=640, col_offset=8), [Name('sock', Load(), lineno=640, col_offset=33), Attribute(Name('ssl', Load(), lineno=640, col_offset=39), 'SSLSocket', Load(), lineno=640, col_offset=39)], [], None, None, lineno=640, col_offset=8), lineno=640, col_offset=8), Expr(Call(Attribute(Name('sock', Load(), lineno=641, col_offset=8), 'close', Load(), lineno=641, col_offset=8), [], [], None, None, lineno=641, col_offset=8), lineno=641, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=642, col_offset=8), 'assertEqual', Load(), lineno=642, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=642, col_offset=25), 'client', Load(), lineno=642, col_offset=25), 'voidresp', Load(), lineno=642, col_offset=25), [], [], None, None, lineno=642, col_offset=25), Str('226 transfer complete', lineno=642, col_offset=49)], [], None, None, lineno=642, col_offset=8), lineno=642, col_offset=8)], [], lineno=623, col_offset=4), FunctionDef('test_login', arguments([Name('self', Param(), lineno=644, col_offset=19)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=646, col_offset=8), 'assertNotIsInstance', Load(), lineno=646, col_offset=8), [Attribute(Attribute(Name('self', Load(), lineno=646, col_offset=33), 'client', Load(), lineno=646, col_offset=33), 'sock', Load(), lineno=646, col_offset=33), Attribute(Name('ssl', Load(), lineno=646, col_offset=51), 'SSLSocket', Load(), lineno=646, col_offset=51)], [], None, None, lineno=646, col_offset=8), lineno=646, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=647, col_offset=8), 'client', Load(), lineno=647, col_offset=8), 'login', Load(), lineno=647, col_offset=8), [], [], None, None, lineno=647, col_offset=8), lineno=647, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=648, col_offset=8), 'assertIsInstance', Load(), lineno=648, col_offset=8), [Attribute(Attribute(Name('self', Load(), lineno=648, col_offset=30), 'client', Load(), lineno=648, col_offset=30), 'sock', Load(), lineno=648, col_offset=30), Attribute(Name('ssl', Load(), lineno=648, col_offset=48), 'SSLSocket', Load(), lineno=648, col_offset=48)], [], None, None, lineno=648, col_offset=8), lineno=648, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=650, col_offset=8), 'client', Load(), lineno=650, col_offset=8), 'login', Load(), lineno=650, col_offset=8), [], [], None, None, lineno=650, col_offset=8), lineno=650, col_offset=8)], [], lineno=644, col_offset=4), FunctionDef('test_auth_issued_twice', arguments([Name('self', Param(), lineno=652, col_offset=31)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=653, col_offset=8), 'client', Load(), lineno=653, col_offset=8), 'auth', Load(), lineno=653, col_offset=8), [], [], None, None, lineno=653, col_offset=8), lineno=653, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=654, col_offset=8), 'assertRaises', Load(), lineno=654, col_offset=8), [Name('ValueError', Load(), lineno=654, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=654, col_offset=38), 'client', Load(), lineno=654, col_offset=38), 'auth', Load(), lineno=654, col_offset=38)], [], None, None, lineno=654, col_offset=8), lineno=654, col_offset=8)], [], lineno=652, col_offset=4), FunctionDef('test_auth_ssl', arguments([Name('self', Param(), lineno=656, col_offset=22)], None, None, []), [TryFinally([Assign([Attribute(Attribute(Name('self', Load(), lineno=658, col_offset=12), 'client', Load(), lineno=658, col_offset=12), 'ssl_version', Store(), lineno=658, col_offset=12)], Attribute(Name('ssl', Load(), lineno=658, col_offset=38), 'PROTOCOL_SSLv3', Load(), lineno=658, col_offset=38), lineno=658, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=659, col_offset=12), 'client', Load(), lineno=659, col_offset=12), 'auth', Load(), lineno=659, col_offset=12), [], [], None, None, lineno=659, col_offset=12), lineno=659, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=660, col_offset=12), 'assertRaises', Load(), lineno=660, col_offset=12), [Name('ValueError', Load(), lineno=660, col_offset=30), Attribute(Attribute(Name('self', Load(), lineno=660, col_offset=42), 'client', Load(), lineno=660, col_offset=42), 'auth', Load(), lineno=660, col_offset=42)], [], None, None, lineno=660, col_offset=12), lineno=660, col_offset=12)], [Assign([Attribute(Attribute(Name('self', Load(), lineno=662, col_offset=12), 'client', Load(), lineno=662, col_offset=12), 'ssl_version', Store(), lineno=662, col_offset=12)], Attribute(Name('ssl', Load(), lineno=662, col_offset=38), 'PROTOCOL_TLSv1', Load(), lineno=662, col_offset=38), lineno=662, col_offset=12)], lineno=657, col_offset=8)], [], lineno=656, col_offset=4)], [], lineno=605, col_offset=0), ClassDef('TestTimeouts', [Name('TestCase', Load(), lineno=665, col_offset=19)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=667, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=668, col_offset=8), 'evt', Store(), lineno=668, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=668, col_offset=19), 'Event', Load(), lineno=668, col_offset=19), [], [], None, None, lineno=668, col_offset=19), lineno=668, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=669, col_offset=8), 'sock', Store(), lineno=669, col_offset=8)], Call(Attribute(Name('socket', Load(), lineno=669, col_offset=20), 'socket', Load(), lineno=669, col_offset=20), [Attribute(Name('socket', Load(), lineno=669, col_offset=34), 'AF_INET', Load(), lineno=669, col_offset=34), Attribute(Name('socket', Load(), lineno=669, col_offset=50), 'SOCK_STREAM', Load(), lineno=669, col_offset=50)], [], None, None, lineno=669, col_offset=20), lineno=669, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=670, col_offset=8), 'sock', Load(), lineno=670, col_offset=8), 'settimeout', Load(), lineno=670, col_offset=8), [Num(3, lineno=670, col_offset=29)], [], None, None, lineno=670, col_offset=8), lineno=670, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=671, col_offset=8), 'port', Store(), lineno=671, col_offset=8)], Call(Attribute(Name('test_support', Load(), lineno=671, col_offset=20), 'bind_port', Load(), lineno=671, col_offset=20), [Attribute(Name('self', Load(), lineno=671, col_offset=43), 'sock', Load(), lineno=671, col_offset=43)], [], None, None, lineno=671, col_offset=20), lineno=671, col_offset=8), Expr(Call(Attribute(Call(Attribute(Name('threading', Load(), lineno=672, col_offset=8), 'Thread', Load(), lineno=672, col_offset=8), [], [keyword('target', Attribute(Name('self', Load(), lineno=672, col_offset=32), 'server', Load(), lineno=672, col_offset=32)), keyword('args', Tuple([Attribute(Name('self', Load(), lineno=672, col_offset=51), 'evt', Load(), lineno=672, col_offset=51), Attribute(Name('self', Load(), lineno=672, col_offset=60), 'sock', Load(), lineno=672, col_offset=60)], Load(), lineno=672, col_offset=51))], None, None, lineno=672, col_offset=8), 'start', Load(), lineno=672, col_offset=8), [], [], None, None, lineno=672, col_offset=8), lineno=672, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=674, col_offset=8), 'evt', Load(), lineno=674, col_offset=8), 'wait', Load(), lineno=674, col_offset=8), [], [], None, None, lineno=674, col_offset=8), lineno=674, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=675, col_offset=8), 'evt', Load(), lineno=675, col_offset=8), 'clear', Load(), lineno=675, col_offset=8), [], [], None, None, lineno=675, col_offset=8), lineno=675, col_offset=8), Assign([Attribute(Attribute(Name('ftplib', Load(), lineno=676, col_offset=8), 'FTP', Load(), lineno=676, col_offset=8), 'port', Store(), lineno=676, col_offset=8)], Attribute(Name('self', Load(), lineno=676, col_offset=26), 'port', Load(), lineno=676, col_offset=26), lineno=676, col_offset=8)], [], lineno=667, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=678, col_offset=17)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=679, col_offset=8), 'evt', Load(), lineno=679, col_offset=8), 'wait', Load(), lineno=679, col_offset=8), [], [], None, None, lineno=679, col_offset=8), lineno=679, col_offset=8)], [], lineno=678, col_offset=4), FunctionDef('server', arguments([Name('self', Param(), lineno=681, col_offset=15), Name('evt', Param(), lineno=681, col_offset=21), Name('serv', Param(), lineno=681, col_offset=26)], None, None, []), [Expr(Call(Attribute(Name('serv', Load(), lineno=686, col_offset=8), 'listen', Load(), lineno=686, col_offset=8), [Num(5, lineno=686, col_offset=20)], [], None, None, lineno=686, col_offset=8), lineno=686, col_offset=8), Expr(Call(Attribute(Name('evt', Load(), lineno=688, col_offset=8), 'set', Load(), lineno=688, col_offset=8), [], [], None, None, lineno=688, col_offset=8), lineno=688, col_offset=8), TryFinally([TryExcept([Assign([Tuple([Name('conn', Store(), lineno=690, col_offset=12), Name('addr', Store(), lineno=690, col_offset=18)], Store(), lineno=690, col_offset=12)], Call(Attribute(Name('serv', Load(), lineno=690, col_offset=25), 'accept', Load(), lineno=690, col_offset=25), [], [], None, None, lineno=690, col_offset=25), lineno=690, col_offset=12)], [ExceptHandler(Attribute(Name('socket', Load(), lineno=691, col_offset=15), 'timeout', Load(), lineno=691, col_offset=15), None, [Pass( lineno=692, col_offset=12)], lineno=691, col_offset=8)], [Expr(Call(Attribute(Name('conn', Load(), lineno=694, col_offset=12), 'send', Load(), lineno=694, col_offset=12), [Str('1 Hola mundo\n', lineno=694, col_offset=22)], [], None, None, lineno=694, col_offset=12), lineno=694, col_offset=12), Expr(Call(Attribute(Name('evt', Load(), lineno=696, col_offset=12), 'set', Load(), lineno=696, col_offset=12), [], [], None, None, lineno=696, col_offset=12), lineno=696, col_offset=12), Expr(Call(Attribute(Name('conn', Load(), lineno=697, col_offset=12), 'close', Load(), lineno=697, col_offset=12), [], [], None, None, lineno=697, col_offset=12), lineno=697, col_offset=12)], lineno=689, col_offset=8)], [Expr(Call(Attribute(Name('serv', Load(), lineno=699, col_offset=12), 'close', Load(), lineno=699, col_offset=12), [], [], None, None, lineno=699, col_offset=12), lineno=699, col_offset=12), Expr(Call(Attribute(Name('evt', Load(), lineno=701, col_offset=12), 'set', Load(), lineno=701, col_offset=12), [], [], None, None, lineno=701, col_offset=12), lineno=701, col_offset=12)], lineno=689, col_offset=8)], [], lineno=681, col_offset=4), FunctionDef('testTimeoutDefault', arguments([Name('self', Param(), lineno=703, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=705, col_offset=8), 'assertTrue', Load(), lineno=705, col_offset=8), [Compare(Call(Attribute(Name('socket', Load(), lineno=705, col_offset=24), 'getdefaulttimeout', Load(), lineno=705, col_offset=24), [], [], None, None, lineno=705, col_offset=24), [Is()], [Name('None', Load(), lineno=705, col_offset=54)], lineno=705, col_offset=24)], [], None, None, lineno=705, col_offset=8), lineno=705, col_offset=8), Expr(Call(Attribute(Name('socket', Load(), lineno=706, col_offset=8), 'setdefaulttimeout', Load(), lineno=706, col_offset=8), [Num(30, lineno=706, col_offset=33)], [], None, None, lineno=706, col_offset=8), lineno=706, col_offset=8), TryFinally([Assign([Name('ftp', Store(), lineno=708, col_offset=12)], Call(Attribute(Name('ftplib', Load(), lineno=708, col_offset=18), 'FTP', Load(), lineno=708, col_offset=18), [Str('localhost', lineno=708, col_offset=29)], [], None, None, lineno=708, col_offset=18), lineno=708, col_offset=12)], [Expr(Call(Attribute(Name('socket', Load(), lineno=710, col_offset=12), 'setdefaulttimeout', Load(), lineno=710, col_offset=12), [Name('None', Load(), lineno=710, col_offset=37)], [], None, None, lineno=710, col_offset=12), lineno=710, col_offset=12)], lineno=707, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=711, col_offset=8), 'assertEqual', Load(), lineno=711, col_offset=8), [Call(Attribute(Attribute(Name('ftp', Load(), lineno=711, col_offset=25), 'sock', Load(), lineno=711, col_offset=25), 'gettimeout', Load(), lineno=711, col_offset=25), [], [], None, None, lineno=711, col_offset=25), Num(30, lineno=711, col_offset=48)], [], None, None, lineno=711, col_offset=8), lineno=711, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=712, col_offset=8), 'evt', Load(), lineno=712, col_offset=8), 'wait', Load(), lineno=712, col_offset=8), [], [], None, None, lineno=712, col_offset=8), lineno=712, col_offset=8), Expr(Call(Attribute(Name('ftp', Load(), lineno=713, col_offset=8), 'close', Load(), lineno=713, col_offset=8), [], [], None, None, lineno=713, col_offset=8), lineno=713, col_offset=8)], [], lineno=703, col_offset=4), FunctionDef('testTimeoutNone', arguments([Name('self', Param(), lineno=715, col_offset=24)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=717, col_offset=8), 'assertTrue', Load(), lineno=717, col_offset=8), [Compare(Call(Attribute(Name('socket', Load(), lineno=717, col_offset=24), 'getdefaulttimeout', Load(), lineno=717, col_offset=24), [], [], None, None, lineno=717, col_offset=24), [Is()], [Name('None', Load(), lineno=717, col_offset=54)], lineno=717, col_offset=24)], [], None, None, lineno=717, col_offset=8), lineno=717, col_offset=8), Expr(Call(Attribute(Name('socket', Load(), lineno=718, col_offset=8), 'setdefaulttimeout', Load(), lineno=718, col_offset=8), [Num(30, lineno=718, col_offset=33)], [], None, None, lineno=718, col_offset=8), lineno=718, col_offset=8), TryFinally([Assign([Name('ftp', Store(), lineno=720, col_offset=12)], Call(Attribute(Name('ftplib', Load(), lineno=720, col_offset=18), 'FTP', Load(), lineno=720, col_offset=18), [Str('localhost', lineno=720, col_offset=29)], [keyword('timeout', Name('None', Load(), lineno=720, col_offset=50))], None, None, lineno=720, col_offset=18), lineno=720, col_offset=12)], [Expr(Call(Attribute(Name('socket', Load(), lineno=722, col_offset=12), 'setdefaulttimeout', Load(), lineno=722, col_offset=12), [Name('None', Load(), lineno=722, col_offset=37)], [], None, None, lineno=722, col_offset=12), lineno=722, col_offset=12)], lineno=719, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=723, col_offset=8), 'assertTrue', Load(), lineno=723, col_offset=8), [Compare(Call(Attribute(Attribute(Name('ftp', Load(), lineno=723, col_offset=24), 'sock', Load(), lineno=723, col_offset=24), 'gettimeout', Load(), lineno=723, col_offset=24), [], [], None, None, lineno=723, col_offset=24), [Is()], [Name('None', Load(), lineno=723, col_offset=49)], lineno=723, col_offset=24)], [], None, None, lineno=723, col_offset=8), lineno=723, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=724, col_offset=8), 'evt', Load(), lineno=724, col_offset=8), 'wait', Load(), lineno=724, col_offset=8), [], [], None, None, lineno=724, col_offset=8), lineno=724, col_offset=8), Expr(Call(Attribute(Name('ftp', Load(), lineno=725, col_offset=8), 'close', Load(), lineno=725, col_offset=8), [], [], None, None, lineno=725, col_offset=8), lineno=725, col_offset=8)], [], lineno=715, col_offset=4), FunctionDef('testTimeoutValue', arguments([Name('self', Param(), lineno=727, col_offset=25)], None, None, []), [Assign([Name('ftp', Store(), lineno=729, col_offset=8)], Call(Attribute(Name('ftplib', Load(), lineno=729, col_offset=14), 'FTP', Load(), lineno=729, col_offset=14), [Name('HOST', Load(), lineno=729, col_offset=25)], [keyword('timeout', Num(30, lineno=729, col_offset=39))], None, None, lineno=729, col_offset=14), lineno=729, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=730, col_offset=8), 'assertEqual', Load(), lineno=730, col_offset=8), [Call(Attribute(Attribute(Name('ftp', Load(), lineno=730, col_offset=25), 'sock', Load(), lineno=730, col_offset=25), 'gettimeout', Load(), lineno=730, col_offset=25), [], [], None, None, lineno=730, col_offset=25), Num(30, lineno=730, col_offset=48)], [], None, None, lineno=730, col_offset=8), lineno=730, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=731, col_offset=8), 'evt', Load(), lineno=731, col_offset=8), 'wait', Load(), lineno=731, col_offset=8), [], [], None, None, lineno=731, col_offset=8), lineno=731, col_offset=8), Expr(Call(Attribute(Name('ftp', Load(), lineno=732, col_offset=8), 'close', Load(), lineno=732, col_offset=8), [], [], None, None, lineno=732, col_offset=8), lineno=732, col_offset=8)], [], lineno=727, col_offset=4), FunctionDef('testTimeoutConnect', arguments([Name('self', Param(), lineno=734, col_offset=27)], None, None, []), [Assign([Name('ftp', Store(), lineno=735, col_offset=8)], Call(Attribute(Name('ftplib', Load(), lineno=735, col_offset=14), 'FTP', Load(), lineno=735, col_offset=14), [], [], None, None, lineno=735, col_offset=14), lineno=735, col_offset=8), Expr(Call(Attribute(Name('ftp', Load(), lineno=736, col_offset=8), 'connect', Load(), lineno=736, col_offset=8), [Name('HOST', Load(), lineno=736, col_offset=20)], [keyword('timeout', Num(30, lineno=736, col_offset=34))], None, None, lineno=736, col_offset=8), lineno=736, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=737, col_offset=8), 'assertEqual', Load(), lineno=737, col_offset=8), [Call(Attribute(Attribute(Name('ftp', Load(), lineno=737, col_offset=25), 'sock', Load(), lineno=737, col_offset=25), 'gettimeout', Load(), lineno=737, col_offset=25), [], [], None, None, lineno=737, col_offset=25), Num(30, lineno=737, col_offset=48)], [], None, None, lineno=737, col_offset=8), lineno=737, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=738, col_offset=8), 'evt', Load(), lineno=738, col_offset=8), 'wait', Load(), lineno=738, col_offset=8), [], [], None, None, lineno=738, col_offset=8), lineno=738, col_offset=8), Expr(Call(Attribute(Name('ftp', Load(), lineno=739, col_offset=8), 'close', Load(), lineno=739, col_offset=8), [], [], None, None, lineno=739, col_offset=8), lineno=739, col_offset=8)], [], lineno=734, col_offset=4), FunctionDef('testTimeoutDifferentOrder', arguments([Name('self', Param(), lineno=741, col_offset=34)], None, None, []), [Assign([Name('ftp', Store(), lineno=742, col_offset=8)], Call(Attribute(Name('ftplib', Load(), lineno=742, col_offset=14), 'FTP', Load(), lineno=742, col_offset=14), [], [keyword('timeout', Num(30, lineno=742, col_offset=33))], None, None, lineno=742, col_offset=14), lineno=742, col_offset=8), Expr(Call(Attribute(Name('ftp', Load(), lineno=743, col_offset=8), 'connect', Load(), lineno=743, col_offset=8), [Name('HOST', Load(), lineno=743, col_offset=20)], [], None, None, lineno=743, col_offset=8), lineno=743, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=744, col_offset=8), 'assertEqual', Load(), lineno=744, col_offset=8), [Call(Attribute(Attribute(Name('ftp', Load(), lineno=744, col_offset=25), 'sock', Load(), lineno=744, col_offset=25), 'gettimeout', Load(), lineno=744, col_offset=25), [], [], None, None, lineno=744, col_offset=25), Num(30, lineno=744, col_offset=48)], [], None, None, lineno=744, col_offset=8), lineno=744, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=745, col_offset=8), 'evt', Load(), lineno=745, col_offset=8), 'wait', Load(), lineno=745, col_offset=8), [], [], None, None, lineno=745, col_offset=8), lineno=745, col_offset=8), Expr(Call(Attribute(Name('ftp', Load(), lineno=746, col_offset=8), 'close', Load(), lineno=746, col_offset=8), [], [], None, None, lineno=746, col_offset=8), lineno=746, col_offset=8)], [], lineno=741, col_offset=4), FunctionDef('testTimeoutDirectAccess', arguments([Name('self', Param(), lineno=748, col_offset=32)], None, None, []), [Assign([Name('ftp', Store(), lineno=749, col_offset=8)], Call(Attribute(Name('ftplib', Load(), lineno=749, col_offset=14), 'FTP', Load(), lineno=749, col_offset=14), [], [], None, None, lineno=749, col_offset=14), lineno=749, col_offset=8), Assign([Attribute(Name('ftp', Load(), lineno=750, col_offset=8), 'timeout', Store(), lineno=750, col_offset=8)], Num(30, lineno=750, col_offset=22), lineno=750, col_offset=8), Expr(Call(Attribute(Name('ftp', Load(), lineno=751, col_offset=8), 'connect', Load(), lineno=751, col_offset=8), [Name('HOST', Load(), lineno=751, col_offset=20)], [], None, None, lineno=751, col_offset=8), lineno=751, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=752, col_offset=8), 'assertEqual', Load(), lineno=752, col_offset=8), [Call(Attribute(Attribute(Name('ftp', Load(), lineno=752, col_offset=25), 'sock', Load(), lineno=752, col_offset=25), 'gettimeout', Load(), lineno=752, col_offset=25), [], [], None, None, lineno=752, col_offset=25), Num(30, lineno=752, col_offset=48)], [], None, None, lineno=752, col_offset=8), lineno=752, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=753, col_offset=8), 'evt', Load(), lineno=753, col_offset=8), 'wait', Load(), lineno=753, col_offset=8), [], [], None, None, lineno=753, col_offset=8), lineno=753, col_offset=8), Expr(Call(Attribute(Name('ftp', Load(), lineno=754, col_offset=8), 'close', Load(), lineno=754, col_offset=8), [], [], None, None, lineno=754, col_offset=8), lineno=754, col_offset=8)], [], lineno=748, col_offset=4)], [], lineno=665, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Assign([Name('tests', Store(), lineno=758, col_offset=4)], List([Name('TestFTPClass', Load(), lineno=758, col_offset=13), Name('TestTimeouts', Load(), lineno=758, col_offset=27)], Load(), lineno=758, col_offset=12), lineno=758, col_offset=4), If(Attribute(Name('socket', Load(), lineno=759, col_offset=7), 'has_ipv6', Load(), lineno=759, col_offset=7), [TryExcept([Expr(Call(Name('DummyFTPServer', Load(), lineno=761, col_offset=12), [Tuple([Name('HOST', Load(), lineno=761, col_offset=28), Num(0, lineno=761, col_offset=34)], Load(), lineno=761, col_offset=28)], [keyword('af', Attribute(Name('socket', Load(), lineno=761, col_offset=41), 'AF_INET6', Load(), lineno=761, col_offset=41))], None, None, lineno=761, col_offset=12), lineno=761, col_offset=12)], [ExceptHandler(Attribute(Name('socket', Load(), lineno=762, col_offset=15), 'error', Load(), lineno=762, col_offset=15), None, [Pass( lineno=763, col_offset=12)], lineno=762, col_offset=8)], [Expr(Call(Attribute(Name('tests', Load(), lineno=765, col_offset=12), 'append', Load(), lineno=765, col_offset=12), [Name('TestIPv6Environment', Load(), lineno=765, col_offset=25)], [], None, None, lineno=765, col_offset=12), lineno=765, col_offset=12)], lineno=760, col_offset=8)], [], lineno=759, col_offset=4), If(Compare(Name('ssl', Load(), lineno=767, col_offset=7), [IsNot()], [Name('None', Load(), lineno=767, col_offset=18)], lineno=767, col_offset=7), [Expr(Call(Attribute(Name('tests', Load(), lineno=768, col_offset=8), 'extend', Load(), lineno=768, col_offset=8), [List([Name('TestTLS_FTPClassMixin', Load(), lineno=768, col_offset=22), Name('TestTLS_FTPClass', Load(), lineno=768, col_offset=45)], Load(), lineno=768, col_offset=21)], [], None, None, lineno=768, col_offset=8), lineno=768, col_offset=8)], [], lineno=767, col_offset=4), Assign([Name('thread_info', Store(), lineno=770, col_offset=4)], Call(Attribute(Name('test_support', Load(), lineno=770, col_offset=18), 'threading_setup', Load(), lineno=770, col_offset=18), [], [], None, None, lineno=770, col_offset=18), lineno=770, col_offset=4), TryFinally([Expr(Call(Attribute(Name('test_support', Load(), lineno=772, col_offset=8), 'run_unittest', Load(), lineno=772, col_offset=8), [], [], Name('tests', Load(), lineno=772, col_offset=35), None, lineno=772, col_offset=8), lineno=772, col_offset=8)], [Expr(Call(Attribute(Name('test_support', Load(), lineno=774, col_offset=8), 'threading_cleanup', Load(), lineno=774, col_offset=8), [], [], Name('thread_info', Load(), lineno=774, col_offset=40), None, lineno=774, col_offset=8), lineno=774, col_offset=8)], lineno=771, col_offset=4)], [], lineno=757, col_offset=0), If(Compare(Name('__name__', Load(), lineno=777, col_offset=3), [Eq()], [Str('__main__', lineno=777, col_offset=15)], lineno=777, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=778, col_offset=4), [], [], None, None, lineno=778, col_offset=4), lineno=778, col_offset=4)], [], lineno=777, col_offset=0)])
