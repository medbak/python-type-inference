Module([ImportFrom('contextlib', [alias('contextmanager', None)], 0, lineno=1, col_offset=0), Import([alias('linecache', None)], lineno=2, col_offset=0), Import([alias('os', None)], lineno=3, col_offset=0), Import([alias('StringIO', None)], lineno=4, col_offset=0), Import([alias('sys', None)], lineno=5, col_offset=0), Import([alias('unittest', None)], lineno=6, col_offset=0), Import([alias('subprocess', None)], lineno=7, col_offset=0), ImportFrom('test', [alias('test_support', None)], 0, lineno=8, col_offset=0), ImportFrom('test.script_helper', [alias('assert_python_ok', None)], 0, lineno=9, col_offset=0), Import([alias('warning_tests', None)], lineno=11, col_offset=0), Import([alias('warnings', 'original_warnings')], lineno=13, col_offset=0), Assign([Name('py_warnings', Store(), lineno=15, col_offset=0)], Call(Attribute(Name('test_support', Load(), lineno=15, col_offset=14), 'import_fresh_module', Load(), lineno=15, col_offset=14), [Str('warnings', lineno=15, col_offset=47)], [keyword('blocked', List([Str('_warnings', lineno=15, col_offset=68)], Load(), lineno=15, col_offset=67))], None, None, lineno=15, col_offset=14), lineno=15, col_offset=0), Assign([Name('c_warnings', Store(), lineno=16, col_offset=0)], Call(Attribute(Name('test_support', Load(), lineno=16, col_offset=13), 'import_fresh_module', Load(), lineno=16, col_offset=13), [Str('warnings', lineno=16, col_offset=46)], [keyword('fresh', List([Str('_warnings', lineno=16, col_offset=65)], Load(), lineno=16, col_offset=64))], None, None, lineno=16, col_offset=13), lineno=16, col_offset=0), FunctionDef('warnings_state', arguments([Name('module', Param(), lineno=19, col_offset=19)], None, None, []), [Expr(Str('Use a specific warnings implementation in warning_tests.', lineno=20, col_offset=4), lineno=20, col_offset=4), Global(['__warningregistry__'], lineno=21, col_offset=4), For(Name('to_clear', Store(), lineno=22, col_offset=8), Tuple([Name('sys', Load(), lineno=22, col_offset=21), Name('warning_tests', Load(), lineno=22, col_offset=26)], Load(), lineno=22, col_offset=21), [TryExcept([Expr(Call(Attribute(Attribute(Name('to_clear', Load(), lineno=24, col_offset=12), '__warningregistry__', Load(), lineno=24, col_offset=12), 'clear', Load(), lineno=24, col_offset=12), [], [], None, None, lineno=24, col_offset=12), lineno=24, col_offset=12)], [ExceptHandler(Name('AttributeError', Load(), lineno=25, col_offset=15), None, [Pass( lineno=26, col_offset=12)], lineno=25, col_offset=8)], [], lineno=23, col_offset=8)], [], lineno=22, col_offset=4), TryExcept([Expr(Call(Attribute(Name('__warningregistry__', Load(), lineno=28, col_offset=8), 'clear', Load(), lineno=28, col_offset=8), [], [], None, None, lineno=28, col_offset=8), lineno=28, col_offset=8)], [ExceptHandler(Name('NameError', Load(), lineno=29, col_offset=11), None, [Pass( lineno=30, col_offset=8)], lineno=29, col_offset=4)], [], lineno=27, col_offset=4), Assign([Name('original_warnings', Store(), lineno=31, col_offset=4)], Attribute(Name('warning_tests', Load(), lineno=31, col_offset=24), 'warnings', Load(), lineno=31, col_offset=24), lineno=31, col_offset=4), Assign([Name('original_filters', Store(), lineno=32, col_offset=4)], Attribute(Name('module', Load(), lineno=32, col_offset=23), 'filters', Load(), lineno=32, col_offset=23), lineno=32, col_offset=4), TryFinally([Assign([Attribute(Name('module', Load(), lineno=34, col_offset=8), 'filters', Store(), lineno=34, col_offset=8)], Subscript(Name('original_filters', Load(), lineno=34, col_offset=25), Slice(None, None, None), Load(), lineno=34, col_offset=25), lineno=34, col_offset=8), Expr(Call(Attribute(Name('module', Load(), lineno=35, col_offset=8), 'simplefilter', Load(), lineno=35, col_offset=8), [Str('once', lineno=35, col_offset=28)], [], None, None, lineno=35, col_offset=8), lineno=35, col_offset=8), Assign([Attribute(Name('warning_tests', Load(), lineno=36, col_offset=8), 'warnings', Store(), lineno=36, col_offset=8)], Name('module', Load(), lineno=36, col_offset=33), lineno=36, col_offset=8), Expr(Yield(None, lineno=37, col_offset=8), lineno=37, col_offset=8)], [Assign([Attribute(Name('warning_tests', Load(), lineno=39, col_offset=8), 'warnings', Store(), lineno=39, col_offset=8)], Name('original_warnings', Load(), lineno=39, col_offset=33), lineno=39, col_offset=8), Assign([Attribute(Name('module', Load(), lineno=40, col_offset=8), 'filters', Store(), lineno=40, col_offset=8)], Name('original_filters', Load(), lineno=40, col_offset=25), lineno=40, col_offset=8)], lineno=33, col_offset=4)], [Name('contextmanager', Load(), lineno=18, col_offset=1)], lineno=18, col_offset=0), ClassDef('BaseTest', [Attribute(Name('unittest', Load(), lineno=43, col_offset=15), 'TestCase', Load(), lineno=43, col_offset=15)], [Expr(Str('Basic bookkeeping required for testing.', lineno=45, col_offset=4), lineno=45, col_offset=4), FunctionDef('setUp', arguments([Name('self', Param(), lineno=47, col_offset=14)], None, None, []), [If(Compare(Str('__warningregistry__', lineno=50, col_offset=11), [In()], [Call(Name('globals', Load(), lineno=50, col_offset=36), [], [], None, None, lineno=50, col_offset=36)], lineno=50, col_offset=11), [Delete([Subscript(Call(Name('globals', Load(), lineno=51, col_offset=16), [], [], None, None, lineno=51, col_offset=16), Index(Str('__warningregistry__', lineno=51, col_offset=26)), Del(), lineno=51, col_offset=16)], lineno=51, col_offset=12)], [], lineno=50, col_offset=8), If(Call(Name('hasattr', Load(), lineno=52, col_offset=11), [Name('warning_tests', Load(), lineno=52, col_offset=19), Str('__warningregistry__', lineno=52, col_offset=34)], [], None, None, lineno=52, col_offset=11), [Delete([Attribute(Name('warning_tests', Load(), lineno=53, col_offset=16), '__warningregistry__', Del(), lineno=53, col_offset=16)], lineno=53, col_offset=12)], [], lineno=52, col_offset=8), If(Call(Name('hasattr', Load(), lineno=54, col_offset=11), [Name('sys', Load(), lineno=54, col_offset=19), Str('__warningregistry__', lineno=54, col_offset=24)], [], None, None, lineno=54, col_offset=11), [Delete([Attribute(Name('sys', Load(), lineno=55, col_offset=16), '__warningregistry__', Del(), lineno=55, col_offset=16)], lineno=55, col_offset=12)], [], lineno=54, col_offset=8), Assign([Subscript(Attribute(Name('sys', Load(), lineno=58, col_offset=8), 'modules', Load(), lineno=58, col_offset=8), Index(Str('warnings', lineno=58, col_offset=20)), Store(), lineno=58, col_offset=8)], Attribute(Name('self', Load(), lineno=58, col_offset=34), 'module', Load(), lineno=58, col_offset=34), lineno=58, col_offset=8), Expr(Call(Attribute(Call(Name('super', Load(), lineno=59, col_offset=8), [Name('BaseTest', Load(), lineno=59, col_offset=14), Name('self', Load(), lineno=59, col_offset=24)], [], None, None, lineno=59, col_offset=8), 'setUp', Load(), lineno=59, col_offset=8), [], [], None, None, lineno=59, col_offset=8), lineno=59, col_offset=8)], [], lineno=47, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=61, col_offset=17)], None, None, []), [Assign([Subscript(Attribute(Name('sys', Load(), lineno=62, col_offset=8), 'modules', Load(), lineno=62, col_offset=8), Index(Str('warnings', lineno=62, col_offset=20)), Store(), lineno=62, col_offset=8)], Name('original_warnings', Load(), lineno=62, col_offset=34), lineno=62, col_offset=8), Expr(Call(Attribute(Call(Name('super', Load(), lineno=63, col_offset=8), [Name('BaseTest', Load(), lineno=63, col_offset=14), Name('self', Load(), lineno=63, col_offset=24)], [], None, None, lineno=63, col_offset=8), 'tearDown', Load(), lineno=63, col_offset=8), [], [], None, None, lineno=63, col_offset=8), lineno=63, col_offset=8)], [], lineno=61, col_offset=4)], [], lineno=43, col_offset=0), ClassDef('FilterTests', [Name('object', Load(), lineno=66, col_offset=18)], [Expr(Str('Testing the filtering functionality.', lineno=68, col_offset=4), lineno=68, col_offset=4), FunctionDef('test_error', arguments([Name('self', Param(), lineno=70, col_offset=19)], None, None, []), [With(Call(Attribute(Name('original_warnings', Load(), lineno=71, col_offset=13), 'catch_warnings', Load(), lineno=71, col_offset=13), [], [keyword('module', Attribute(Name('self', Load(), lineno=71, col_offset=53), 'module', Load(), lineno=71, col_offset=53))], None, None, lineno=71, col_offset=13), Name('w', Store(), lineno=71, col_offset=69), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=72, col_offset=12), 'module', Load(), lineno=72, col_offset=12), 'resetwarnings', Load(), lineno=72, col_offset=12), [], [], None, None, lineno=72, col_offset=12), lineno=72, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=73, col_offset=12), 'module', Load(), lineno=73, col_offset=12), 'filterwarnings', Load(), lineno=73, col_offset=12), [Str('error', lineno=73, col_offset=39)], [keyword('category', Name('UserWarning', Load(), lineno=73, col_offset=57))], None, None, lineno=73, col_offset=12), lineno=73, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=74, col_offset=12), 'assertRaises', Load(), lineno=74, col_offset=12), [Name('UserWarning', Load(), lineno=74, col_offset=30), Attribute(Attribute(Name('self', Load(), lineno=74, col_offset=43), 'module', Load(), lineno=74, col_offset=43), 'warn', Load(), lineno=74, col_offset=43), Str('FilterTests.test_error', lineno=75, col_offset=32)], [], None, None, lineno=74, col_offset=12), lineno=74, col_offset=12)], lineno=71, col_offset=13)], [], lineno=70, col_offset=4), FunctionDef('test_ignore', arguments([Name('self', Param(), lineno=77, col_offset=20)], None, None, []), [With(Call(Attribute(Name('original_warnings', Load(), lineno=78, col_offset=13), 'catch_warnings', Load(), lineno=78, col_offset=13), [], [keyword('record', Name('True', Load(), lineno=78, col_offset=53)), keyword('module', Attribute(Name('self', Load(), lineno=79, col_offset=23), 'module', Load(), lineno=79, col_offset=23))], None, None, lineno=78, col_offset=13), Name('w', Store(), lineno=79, col_offset=39), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=80, col_offset=12), 'module', Load(), lineno=80, col_offset=12), 'resetwarnings', Load(), lineno=80, col_offset=12), [], [], None, None, lineno=80, col_offset=12), lineno=80, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=81, col_offset=12), 'module', Load(), lineno=81, col_offset=12), 'filterwarnings', Load(), lineno=81, col_offset=12), [Str('ignore', lineno=81, col_offset=39)], [keyword('category', Name('UserWarning', Load(), lineno=81, col_offset=58))], None, None, lineno=81, col_offset=12), lineno=81, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=82, col_offset=12), 'module', Load(), lineno=82, col_offset=12), 'warn', Load(), lineno=82, col_offset=12), [Str('FilterTests.test_ignore', lineno=82, col_offset=29), Name('UserWarning', Load(), lineno=82, col_offset=56)], [], None, None, lineno=82, col_offset=12), lineno=82, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=83, col_offset=12), 'assertEqual', Load(), lineno=83, col_offset=12), [Call(Name('len', Load(), lineno=83, col_offset=29), [Name('w', Load(), lineno=83, col_offset=33)], [], None, None, lineno=83, col_offset=29), Num(0, lineno=83, col_offset=37)], [], None, None, lineno=83, col_offset=12), lineno=83, col_offset=12)], lineno=78, col_offset=13)], [], lineno=77, col_offset=4), FunctionDef('test_always', arguments([Name('self', Param(), lineno=85, col_offset=20)], None, None, []), [With(Call(Attribute(Name('original_warnings', Load(), lineno=86, col_offset=13), 'catch_warnings', Load(), lineno=86, col_offset=13), [], [keyword('record', Name('True', Load(), lineno=86, col_offset=53)), keyword('module', Attribute(Name('self', Load(), lineno=87, col_offset=23), 'module', Load(), lineno=87, col_offset=23))], None, None, lineno=86, col_offset=13), Name('w', Store(), lineno=87, col_offset=39), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=88, col_offset=12), 'module', Load(), lineno=88, col_offset=12), 'resetwarnings', Load(), lineno=88, col_offset=12), [], [], None, None, lineno=88, col_offset=12), lineno=88, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=89, col_offset=12), 'module', Load(), lineno=89, col_offset=12), 'filterwarnings', Load(), lineno=89, col_offset=12), [Str('always', lineno=89, col_offset=39)], [keyword('category', Name('UserWarning', Load(), lineno=89, col_offset=58))], None, None, lineno=89, col_offset=12), lineno=89, col_offset=12), Assign([Name('message', Store(), lineno=90, col_offset=12)], Str('FilterTests.test_always', lineno=90, col_offset=22), lineno=90, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=91, col_offset=12), 'module', Load(), lineno=91, col_offset=12), 'warn', Load(), lineno=91, col_offset=12), [Name('message', Load(), lineno=91, col_offset=29), Name('UserWarning', Load(), lineno=91, col_offset=38)], [], None, None, lineno=91, col_offset=12), lineno=91, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=92, col_offset=12), 'assertTrue', Load(), lineno=92, col_offset=12), [Name('message', Load(), lineno=92, col_offset=28), Attribute(Subscript(Name('w', Load(), lineno=92, col_offset=37), Index(Num(-1, lineno=92, col_offset=40)), Load(), lineno=92, col_offset=37), 'message', Load(), lineno=92, col_offset=37)], [], None, None, lineno=92, col_offset=12), lineno=92, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=93, col_offset=12), 'module', Load(), lineno=93, col_offset=12), 'warn', Load(), lineno=93, col_offset=12), [Name('message', Load(), lineno=93, col_offset=29), Name('UserWarning', Load(), lineno=93, col_offset=38)], [], None, None, lineno=93, col_offset=12), lineno=93, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=94, col_offset=12), 'assertTrue', Load(), lineno=94, col_offset=12), [Attribute(Subscript(Name('w', Load(), lineno=94, col_offset=28), Index(Num(-1, lineno=94, col_offset=31)), Load(), lineno=94, col_offset=28), 'message', Load(), lineno=94, col_offset=28), Name('message', Load(), lineno=94, col_offset=43)], [], None, None, lineno=94, col_offset=12), lineno=94, col_offset=12)], lineno=86, col_offset=13)], [], lineno=85, col_offset=4), FunctionDef('test_default', arguments([Name('self', Param(), lineno=96, col_offset=21)], None, None, []), [With(Call(Attribute(Name('original_warnings', Load(), lineno=97, col_offset=13), 'catch_warnings', Load(), lineno=97, col_offset=13), [], [keyword('record', Name('True', Load(), lineno=97, col_offset=53)), keyword('module', Attribute(Name('self', Load(), lineno=98, col_offset=23), 'module', Load(), lineno=98, col_offset=23))], None, None, lineno=97, col_offset=13), Name('w', Store(), lineno=98, col_offset=39), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=99, col_offset=12), 'module', Load(), lineno=99, col_offset=12), 'resetwarnings', Load(), lineno=99, col_offset=12), [], [], None, None, lineno=99, col_offset=12), lineno=99, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=100, col_offset=12), 'module', Load(), lineno=100, col_offset=12), 'filterwarnings', Load(), lineno=100, col_offset=12), [Str('default', lineno=100, col_offset=39)], [keyword('category', Name('UserWarning', Load(), lineno=100, col_offset=59))], None, None, lineno=100, col_offset=12), lineno=100, col_offset=12), Assign([Name('message', Store(), lineno=101, col_offset=12)], Call(Name('UserWarning', Load(), lineno=101, col_offset=22), [Str('FilterTests.test_default', lineno=101, col_offset=34)], [], None, None, lineno=101, col_offset=22), lineno=101, col_offset=12), For(Name('x', Store(), lineno=102, col_offset=16), Call(Name('xrange', Load(), lineno=102, col_offset=21), [Num(2, lineno=102, col_offset=28)], [], None, None, lineno=102, col_offset=21), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=103, col_offset=16), 'module', Load(), lineno=103, col_offset=16), 'warn', Load(), lineno=103, col_offset=16), [Name('message', Load(), lineno=103, col_offset=33), Name('UserWarning', Load(), lineno=103, col_offset=42)], [], None, None, lineno=103, col_offset=16), lineno=103, col_offset=16), If(Compare(Name('x', Load(), lineno=104, col_offset=19), [Eq()], [Num(0, lineno=104, col_offset=24)], lineno=104, col_offset=19), [Expr(Call(Attribute(Name('self', Load(), lineno=105, col_offset=20), 'assertEqual', Load(), lineno=105, col_offset=20), [Attribute(Subscript(Name('w', Load(), lineno=105, col_offset=37), Index(Num(-1, lineno=105, col_offset=40)), Load(), lineno=105, col_offset=37), 'message', Load(), lineno=105, col_offset=37), Name('message', Load(), lineno=105, col_offset=52)], [], None, None, lineno=105, col_offset=20), lineno=105, col_offset=20), Delete([Subscript(Name('w', Load(), lineno=106, col_offset=24), Slice(None, None, None), Del(), lineno=106, col_offset=24)], lineno=106, col_offset=20)], [If(Compare(Name('x', Load(), lineno=107, col_offset=21), [Eq()], [Num(1, lineno=107, col_offset=26)], lineno=107, col_offset=21), [Expr(Call(Attribute(Name('self', Load(), lineno=108, col_offset=20), 'assertEqual', Load(), lineno=108, col_offset=20), [Call(Name('len', Load(), lineno=108, col_offset=37), [Name('w', Load(), lineno=108, col_offset=41)], [], None, None, lineno=108, col_offset=37), Num(0, lineno=108, col_offset=45)], [], None, None, lineno=108, col_offset=20), lineno=108, col_offset=20)], [Raise(Call(Name('ValueError', Load(), lineno=110, col_offset=26), [Str('loop variant unhandled', lineno=110, col_offset=37)], [], None, None, lineno=110, col_offset=26), None, None, lineno=110, col_offset=20)], lineno=107, col_offset=21)], lineno=104, col_offset=16)], [], lineno=102, col_offset=12)], lineno=97, col_offset=13)], [], lineno=96, col_offset=4), FunctionDef('test_module', arguments([Name('self', Param(), lineno=112, col_offset=20)], None, None, []), [With(Call(Attribute(Name('original_warnings', Load(), lineno=113, col_offset=13), 'catch_warnings', Load(), lineno=113, col_offset=13), [], [keyword('record', Name('True', Load(), lineno=113, col_offset=53)), keyword('module', Attribute(Name('self', Load(), lineno=114, col_offset=23), 'module', Load(), lineno=114, col_offset=23))], None, None, lineno=113, col_offset=13), Name('w', Store(), lineno=114, col_offset=39), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=115, col_offset=12), 'module', Load(), lineno=115, col_offset=12), 'resetwarnings', Load(), lineno=115, col_offset=12), [], [], None, None, lineno=115, col_offset=12), lineno=115, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=116, col_offset=12), 'module', Load(), lineno=116, col_offset=12), 'filterwarnings', Load(), lineno=116, col_offset=12), [Str('module', lineno=116, col_offset=39)], [keyword('category', Name('UserWarning', Load(), lineno=116, col_offset=58))], None, None, lineno=116, col_offset=12), lineno=116, col_offset=12), Assign([Name('message', Store(), lineno=117, col_offset=12)], Call(Name('UserWarning', Load(), lineno=117, col_offset=22), [Str('FilterTests.test_module', lineno=117, col_offset=34)], [], None, None, lineno=117, col_offset=22), lineno=117, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=118, col_offset=12), 'module', Load(), lineno=118, col_offset=12), 'warn', Load(), lineno=118, col_offset=12), [Name('message', Load(), lineno=118, col_offset=29), Name('UserWarning', Load(), lineno=118, col_offset=38)], [], None, None, lineno=118, col_offset=12), lineno=118, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=119, col_offset=12), 'assertEqual', Load(), lineno=119, col_offset=12), [Attribute(Subscript(Name('w', Load(), lineno=119, col_offset=29), Index(Num(-1, lineno=119, col_offset=32)), Load(), lineno=119, col_offset=29), 'message', Load(), lineno=119, col_offset=29), Name('message', Load(), lineno=119, col_offset=44)], [], None, None, lineno=119, col_offset=12), lineno=119, col_offset=12), Delete([Subscript(Name('w', Load(), lineno=120, col_offset=16), Slice(None, None, None), Del(), lineno=120, col_offset=16)], lineno=120, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=121, col_offset=12), 'module', Load(), lineno=121, col_offset=12), 'warn', Load(), lineno=121, col_offset=12), [Name('message', Load(), lineno=121, col_offset=29), Name('UserWarning', Load(), lineno=121, col_offset=38)], [], None, None, lineno=121, col_offset=12), lineno=121, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=122, col_offset=12), 'assertEqual', Load(), lineno=122, col_offset=12), [Call(Name('len', Load(), lineno=122, col_offset=29), [Name('w', Load(), lineno=122, col_offset=33)], [], None, None, lineno=122, col_offset=29), Num(0, lineno=122, col_offset=37)], [], None, None, lineno=122, col_offset=12), lineno=122, col_offset=12)], lineno=113, col_offset=13)], [], lineno=112, col_offset=4), FunctionDef('test_once', arguments([Name('self', Param(), lineno=124, col_offset=18)], None, None, []), [With(Call(Attribute(Name('original_warnings', Load(), lineno=125, col_offset=13), 'catch_warnings', Load(), lineno=125, col_offset=13), [], [keyword('record', Name('True', Load(), lineno=125, col_offset=53)), keyword('module', Attribute(Name('self', Load(), lineno=126, col_offset=23), 'module', Load(), lineno=126, col_offset=23))], None, None, lineno=125, col_offset=13), Name('w', Store(), lineno=126, col_offset=39), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=127, col_offset=12), 'module', Load(), lineno=127, col_offset=12), 'resetwarnings', Load(), lineno=127, col_offset=12), [], [], None, None, lineno=127, col_offset=12), lineno=127, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=128, col_offset=12), 'module', Load(), lineno=128, col_offset=12), 'filterwarnings', Load(), lineno=128, col_offset=12), [Str('once', lineno=128, col_offset=39)], [keyword('category', Name('UserWarning', Load(), lineno=128, col_offset=56))], None, None, lineno=128, col_offset=12), lineno=128, col_offset=12), Assign([Name('message', Store(), lineno=129, col_offset=12)], Call(Name('UserWarning', Load(), lineno=129, col_offset=22), [Str('FilterTests.test_once', lineno=129, col_offset=34)], [], None, None, lineno=129, col_offset=22), lineno=129, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=130, col_offset=12), 'module', Load(), lineno=130, col_offset=12), 'warn_explicit', Load(), lineno=130, col_offset=12), [Name('message', Load(), lineno=130, col_offset=38), Name('UserWarning', Load(), lineno=130, col_offset=47), Str('test_warnings.py', lineno=130, col_offset=60), Num(42, lineno=131, col_offset=36)], [], None, None, lineno=130, col_offset=12), lineno=130, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=132, col_offset=12), 'assertEqual', Load(), lineno=132, col_offset=12), [Attribute(Subscript(Name('w', Load(), lineno=132, col_offset=29), Index(Num(-1, lineno=132, col_offset=32)), Load(), lineno=132, col_offset=29), 'message', Load(), lineno=132, col_offset=29), Name('message', Load(), lineno=132, col_offset=44)], [], None, None, lineno=132, col_offset=12), lineno=132, col_offset=12), Delete([Subscript(Name('w', Load(), lineno=133, col_offset=16), Slice(None, None, None), Del(), lineno=133, col_offset=16)], lineno=133, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=134, col_offset=12), 'module', Load(), lineno=134, col_offset=12), 'warn_explicit', Load(), lineno=134, col_offset=12), [Name('message', Load(), lineno=134, col_offset=38), Name('UserWarning', Load(), lineno=134, col_offset=47), Str('test_warnings.py', lineno=134, col_offset=60), Num(13, lineno=135, col_offset=36)], [], None, None, lineno=134, col_offset=12), lineno=134, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=136, col_offset=12), 'assertEqual', Load(), lineno=136, col_offset=12), [Call(Name('len', Load(), lineno=136, col_offset=29), [Name('w', Load(), lineno=136, col_offset=33)], [], None, None, lineno=136, col_offset=29), Num(0, lineno=136, col_offset=37)], [], None, None, lineno=136, col_offset=12), lineno=136, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=137, col_offset=12), 'module', Load(), lineno=137, col_offset=12), 'warn_explicit', Load(), lineno=137, col_offset=12), [Name('message', Load(), lineno=137, col_offset=38), Name('UserWarning', Load(), lineno=137, col_offset=47), Str('test_warnings2.py', lineno=137, col_offset=60), Num(42, lineno=138, col_offset=36)], [], None, None, lineno=137, col_offset=12), lineno=137, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=139, col_offset=12), 'assertEqual', Load(), lineno=139, col_offset=12), [Call(Name('len', Load(), lineno=139, col_offset=29), [Name('w', Load(), lineno=139, col_offset=33)], [], None, None, lineno=139, col_offset=29), Num(0, lineno=139, col_offset=37)], [], None, None, lineno=139, col_offset=12), lineno=139, col_offset=12)], lineno=125, col_offset=13)], [], lineno=124, col_offset=4), FunctionDef('test_inheritance', arguments([Name('self', Param(), lineno=141, col_offset=25)], None, None, []), [With(Call(Attribute(Name('original_warnings', Load(), lineno=142, col_offset=13), 'catch_warnings', Load(), lineno=142, col_offset=13), [], [keyword('module', Attribute(Name('self', Load(), lineno=142, col_offset=53), 'module', Load(), lineno=142, col_offset=53))], None, None, lineno=142, col_offset=13), Name('w', Store(), lineno=142, col_offset=69), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=143, col_offset=12), 'module', Load(), lineno=143, col_offset=12), 'resetwarnings', Load(), lineno=143, col_offset=12), [], [], None, None, lineno=143, col_offset=12), lineno=143, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=144, col_offset=12), 'module', Load(), lineno=144, col_offset=12), 'filterwarnings', Load(), lineno=144, col_offset=12), [Str('error', lineno=144, col_offset=39)], [keyword('category', Name('Warning', Load(), lineno=144, col_offset=57))], None, None, lineno=144, col_offset=12), lineno=144, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=145, col_offset=12), 'assertRaises', Load(), lineno=145, col_offset=12), [Name('UserWarning', Load(), lineno=145, col_offset=30), Attribute(Attribute(Name('self', Load(), lineno=145, col_offset=43), 'module', Load(), lineno=145, col_offset=43), 'warn', Load(), lineno=145, col_offset=43), Str('FilterTests.test_inheritance', lineno=146, col_offset=32), Name('UserWarning', Load(), lineno=146, col_offset=64)], [], None, None, lineno=145, col_offset=12), lineno=145, col_offset=12)], lineno=142, col_offset=13)], [], lineno=141, col_offset=4), FunctionDef('test_ordering', arguments([Name('self', Param(), lineno=148, col_offset=22)], None, None, []), [With(Call(Attribute(Name('original_warnings', Load(), lineno=149, col_offset=13), 'catch_warnings', Load(), lineno=149, col_offset=13), [], [keyword('record', Name('True', Load(), lineno=149, col_offset=53)), keyword('module', Attribute(Name('self', Load(), lineno=150, col_offset=23), 'module', Load(), lineno=150, col_offset=23))], None, None, lineno=149, col_offset=13), Name('w', Store(), lineno=150, col_offset=39), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=151, col_offset=12), 'module', Load(), lineno=151, col_offset=12), 'resetwarnings', Load(), lineno=151, col_offset=12), [], [], None, None, lineno=151, col_offset=12), lineno=151, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=152, col_offset=12), 'module', Load(), lineno=152, col_offset=12), 'filterwarnings', Load(), lineno=152, col_offset=12), [Str('ignore', lineno=152, col_offset=39)], [keyword('category', Name('UserWarning', Load(), lineno=152, col_offset=58))], None, None, lineno=152, col_offset=12), lineno=152, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=153, col_offset=12), 'module', Load(), lineno=153, col_offset=12), 'filterwarnings', Load(), lineno=153, col_offset=12), [Str('error', lineno=153, col_offset=39)], [keyword('category', Name('UserWarning', Load(), lineno=153, col_offset=57)), keyword('append', Name('True', Load(), lineno=154, col_offset=47))], None, None, lineno=153, col_offset=12), lineno=153, col_offset=12), Delete([Subscript(Name('w', Load(), lineno=155, col_offset=16), Slice(None, None, None), Del(), lineno=155, col_offset=16)], lineno=155, col_offset=12), TryExcept([Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=157, col_offset=16), 'module', Load(), lineno=157, col_offset=16), 'warn', Load(), lineno=157, col_offset=16), [Str('FilterTests.test_ordering', lineno=157, col_offset=33), Name('UserWarning', Load(), lineno=157, col_offset=62)], [], None, None, lineno=157, col_offset=16), lineno=157, col_offset=16)], [ExceptHandler(Name('UserWarning', Load(), lineno=158, col_offset=19), None, [Expr(Call(Attribute(Name('self', Load(), lineno=159, col_offset=16), 'fail', Load(), lineno=159, col_offset=16), [Str('order handling for actions failed', lineno=159, col_offset=26)], [], None, None, lineno=159, col_offset=16), lineno=159, col_offset=16)], lineno=158, col_offset=12)], [], lineno=156, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=160, col_offset=12), 'assertEqual', Load(), lineno=160, col_offset=12), [Call(Name('len', Load(), lineno=160, col_offset=29), [Name('w', Load(), lineno=160, col_offset=33)], [], None, None, lineno=160, col_offset=29), Num(0, lineno=160, col_offset=37)], [], None, None, lineno=160, col_offset=12), lineno=160, col_offset=12)], lineno=149, col_offset=13)], [], lineno=148, col_offset=4), FunctionDef('test_filterwarnings', arguments([Name('self', Param(), lineno=162, col_offset=28)], None, None, []), [With(Call(Attribute(Name('original_warnings', Load(), lineno=165, col_offset=13), 'catch_warnings', Load(), lineno=165, col_offset=13), [], [keyword('record', Name('True', Load(), lineno=165, col_offset=53)), keyword('module', Attribute(Name('self', Load(), lineno=166, col_offset=23), 'module', Load(), lineno=166, col_offset=23))], None, None, lineno=165, col_offset=13), Name('w', Store(), lineno=166, col_offset=39), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=167, col_offset=12), 'module', Load(), lineno=167, col_offset=12), 'filterwarnings', Load(), lineno=167, col_offset=12), [Str('error', lineno=167, col_offset=39), Str('', lineno=167, col_offset=48), Name('Warning', Load(), lineno=167, col_offset=52), Str('', lineno=167, col_offset=61), Num(0, lineno=167, col_offset=65)], [], None, None, lineno=167, col_offset=12), lineno=167, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=168, col_offset=12), 'assertRaises', Load(), lineno=168, col_offset=12), [Name('UserWarning', Load(), lineno=168, col_offset=30), Attribute(Attribute(Name('self', Load(), lineno=168, col_offset=43), 'module', Load(), lineno=168, col_offset=43), 'warn', Load(), lineno=168, col_offset=43), Str('convert to error', lineno=168, col_offset=61)], [], None, None, lineno=168, col_offset=12), lineno=168, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=170, col_offset=12), 'module', Load(), lineno=170, col_offset=12), 'resetwarnings', Load(), lineno=170, col_offset=12), [], [], None, None, lineno=170, col_offset=12), lineno=170, col_offset=12), Assign([Name('text', Store(), lineno=171, col_offset=12)], Str('handle normally', lineno=171, col_offset=19), lineno=171, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=172, col_offset=12), 'module', Load(), lineno=172, col_offset=12), 'warn', Load(), lineno=172, col_offset=12), [Name('text', Load(), lineno=172, col_offset=29)], [], None, None, lineno=172, col_offset=12), lineno=172, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=173, col_offset=12), 'assertEqual', Load(), lineno=173, col_offset=12), [Call(Name('str', Load(), lineno=173, col_offset=29), [Attribute(Subscript(Name('w', Load(), lineno=173, col_offset=33), Index(Num(-1, lineno=173, col_offset=36)), Load(), lineno=173, col_offset=33), 'message', Load(), lineno=173, col_offset=33)], [], None, None, lineno=173, col_offset=29), Name('text', Load(), lineno=173, col_offset=49)], [], None, None, lineno=173, col_offset=12), lineno=173, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=174, col_offset=12), 'assertTrue', Load(), lineno=174, col_offset=12), [Compare(Attribute(Subscript(Name('w', Load(), lineno=174, col_offset=28), Index(Num(-1, lineno=174, col_offset=31)), Load(), lineno=174, col_offset=28), 'category', Load(), lineno=174, col_offset=28), [Is()], [Name('UserWarning', Load(), lineno=174, col_offset=46)], lineno=174, col_offset=28)], [], None, None, lineno=174, col_offset=12), lineno=174, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=176, col_offset=12), 'module', Load(), lineno=176, col_offset=12), 'filterwarnings', Load(), lineno=176, col_offset=12), [Str('ignore', lineno=176, col_offset=39), Str('', lineno=176, col_offset=49), Name('Warning', Load(), lineno=176, col_offset=53), Str('', lineno=176, col_offset=62), Num(0, lineno=176, col_offset=66)], [], None, None, lineno=176, col_offset=12), lineno=176, col_offset=12), Assign([Name('text', Store(), lineno=177, col_offset=12)], Str('filtered out', lineno=177, col_offset=19), lineno=177, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=178, col_offset=12), 'module', Load(), lineno=178, col_offset=12), 'warn', Load(), lineno=178, col_offset=12), [Name('text', Load(), lineno=178, col_offset=29)], [], None, None, lineno=178, col_offset=12), lineno=178, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=179, col_offset=12), 'assertNotEqual', Load(), lineno=179, col_offset=12), [Call(Name('str', Load(), lineno=179, col_offset=32), [Attribute(Subscript(Name('w', Load(), lineno=179, col_offset=36), Index(Num(-1, lineno=179, col_offset=39)), Load(), lineno=179, col_offset=36), 'message', Load(), lineno=179, col_offset=36)], [], None, None, lineno=179, col_offset=32), Name('text', Load(), lineno=179, col_offset=52)], [], None, None, lineno=179, col_offset=12), lineno=179, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=181, col_offset=12), 'module', Load(), lineno=181, col_offset=12), 'resetwarnings', Load(), lineno=181, col_offset=12), [], [], None, None, lineno=181, col_offset=12), lineno=181, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=182, col_offset=12), 'module', Load(), lineno=182, col_offset=12), 'filterwarnings', Load(), lineno=182, col_offset=12), [Str('error', lineno=182, col_offset=39), Str('hex*', lineno=182, col_offset=48), Name('Warning', Load(), lineno=182, col_offset=56), Str('', lineno=182, col_offset=65), Num(0, lineno=182, col_offset=69)], [], None, None, lineno=182, col_offset=12), lineno=182, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=183, col_offset=12), 'assertRaises', Load(), lineno=183, col_offset=12), [Name('UserWarning', Load(), lineno=183, col_offset=30), Attribute(Attribute(Name('self', Load(), lineno=183, col_offset=43), 'module', Load(), lineno=183, col_offset=43), 'warn', Load(), lineno=183, col_offset=43), Str('hex/oct', lineno=183, col_offset=61)], [], None, None, lineno=183, col_offset=12), lineno=183, col_offset=12), Assign([Name('text', Store(), lineno=184, col_offset=12)], Str('nonmatching text', lineno=184, col_offset=19), lineno=184, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=185, col_offset=12), 'module', Load(), lineno=185, col_offset=12), 'warn', Load(), lineno=185, col_offset=12), [Name('text', Load(), lineno=185, col_offset=29)], [], None, None, lineno=185, col_offset=12), lineno=185, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=186, col_offset=12), 'assertEqual', Load(), lineno=186, col_offset=12), [Call(Name('str', Load(), lineno=186, col_offset=29), [Attribute(Subscript(Name('w', Load(), lineno=186, col_offset=33), Index(Num(-1, lineno=186, col_offset=36)), Load(), lineno=186, col_offset=33), 'message', Load(), lineno=186, col_offset=33)], [], None, None, lineno=186, col_offset=29), Name('text', Load(), lineno=186, col_offset=49)], [], None, None, lineno=186, col_offset=12), lineno=186, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=187, col_offset=12), 'assertTrue', Load(), lineno=187, col_offset=12), [Compare(Attribute(Subscript(Name('w', Load(), lineno=187, col_offset=28), Index(Num(-1, lineno=187, col_offset=31)), Load(), lineno=187, col_offset=28), 'category', Load(), lineno=187, col_offset=28), [Is()], [Name('UserWarning', Load(), lineno=187, col_offset=46)], lineno=187, col_offset=28)], [], None, None, lineno=187, col_offset=12), lineno=187, col_offset=12)], lineno=165, col_offset=13)], [], lineno=162, col_offset=4)], [], lineno=66, col_offset=0), ClassDef('CFilterTests', [Name('BaseTest', Load(), lineno=189, col_offset=19), Name('FilterTests', Load(), lineno=189, col_offset=29)], [Assign([Name('module', Store(), lineno=190, col_offset=4)], Name('c_warnings', Load(), lineno=190, col_offset=13), lineno=190, col_offset=4)], [], lineno=189, col_offset=0), ClassDef('PyFilterTests', [Name('BaseTest', Load(), lineno=192, col_offset=20), Name('FilterTests', Load(), lineno=192, col_offset=30)], [Assign([Name('module', Store(), lineno=193, col_offset=4)], Name('py_warnings', Load(), lineno=193, col_offset=13), lineno=193, col_offset=4)], [], lineno=192, col_offset=0), ClassDef('WarnTests', [Attribute(Name('unittest', Load(), lineno=196, col_offset=16), 'TestCase', Load(), lineno=196, col_offset=16)], [Expr(Str('Test warnings.warn() and warnings.warn_explicit().', lineno=198, col_offset=4), lineno=198, col_offset=4), FunctionDef('test_message', arguments([Name('self', Param(), lineno=200, col_offset=21)], None, None, []), [With(Call(Attribute(Name('original_warnings', Load(), lineno=201, col_offset=13), 'catch_warnings', Load(), lineno=201, col_offset=13), [], [keyword('record', Name('True', Load(), lineno=201, col_offset=53)), keyword('module', Attribute(Name('self', Load(), lineno=202, col_offset=23), 'module', Load(), lineno=202, col_offset=23))], None, None, lineno=201, col_offset=13), Name('w', Store(), lineno=202, col_offset=39), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=203, col_offset=12), 'module', Load(), lineno=203, col_offset=12), 'simplefilter', Load(), lineno=203, col_offset=12), [Str('once', lineno=203, col_offset=37)], [], None, None, lineno=203, col_offset=12), lineno=203, col_offset=12), For(Name('i', Store(), lineno=204, col_offset=16), Call(Name('range', Load(), lineno=204, col_offset=21), [Num(4, lineno=204, col_offset=27)], [], None, None, lineno=204, col_offset=21), [Assign([Name('text', Store(), lineno=205, col_offset=16)], BinOp(Str('multi %d', lineno=205, col_offset=23), Mod(), Name('i', Load(), lineno=205, col_offset=35), lineno=205, col_offset=23), lineno=205, col_offset=16), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=206, col_offset=16), 'module', Load(), lineno=206, col_offset=16), 'warn', Load(), lineno=206, col_offset=16), [Name('text', Load(), lineno=206, col_offset=33)], [], None, None, lineno=206, col_offset=16), lineno=206, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=207, col_offset=16), 'assertEqual', Load(), lineno=207, col_offset=16), [Call(Name('str', Load(), lineno=207, col_offset=33), [Attribute(Subscript(Name('w', Load(), lineno=207, col_offset=37), Index(Num(-1, lineno=207, col_offset=40)), Load(), lineno=207, col_offset=37), 'message', Load(), lineno=207, col_offset=37)], [], None, None, lineno=207, col_offset=33), Name('text', Load(), lineno=207, col_offset=53)], [], None, None, lineno=207, col_offset=16), lineno=207, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=208, col_offset=16), 'assertTrue', Load(), lineno=208, col_offset=16), [Compare(Attribute(Subscript(Name('w', Load(), lineno=208, col_offset=32), Index(Num(-1, lineno=208, col_offset=35)), Load(), lineno=208, col_offset=32), 'category', Load(), lineno=208, col_offset=32), [Is()], [Name('UserWarning', Load(), lineno=208, col_offset=50)], lineno=208, col_offset=32)], [], None, None, lineno=208, col_offset=16), lineno=208, col_offset=16)], [], lineno=204, col_offset=12)], lineno=201, col_offset=13)], [], lineno=200, col_offset=4), FunctionDef('test_filename', arguments([Name('self', Param(), lineno=210, col_offset=22)], None, None, []), [With(Call(Name('warnings_state', Load(), lineno=211, col_offset=13), [Attribute(Name('self', Load(), lineno=211, col_offset=28), 'module', Load(), lineno=211, col_offset=28)], [], None, None, lineno=211, col_offset=13), None, [With(Call(Attribute(Name('original_warnings', Load(), lineno=212, col_offset=17), 'catch_warnings', Load(), lineno=212, col_offset=17), [], [keyword('record', Name('True', Load(), lineno=212, col_offset=57)), keyword('module', Attribute(Name('self', Load(), lineno=213, col_offset=27), 'module', Load(), lineno=213, col_offset=27))], None, None, lineno=212, col_offset=17), Name('w', Store(), lineno=213, col_offset=43), [Expr(Call(Attribute(Name('warning_tests', Load(), lineno=214, col_offset=16), 'inner', Load(), lineno=214, col_offset=16), [Str('spam1', lineno=214, col_offset=36)], [], None, None, lineno=214, col_offset=16), lineno=214, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=215, col_offset=16), 'assertEqual', Load(), lineno=215, col_offset=16), [Call(Attribute(Attribute(Name('os', Load(), lineno=215, col_offset=33), 'path', Load(), lineno=215, col_offset=33), 'basename', Load(), lineno=215, col_offset=33), [Attribute(Subscript(Name('w', Load(), lineno=215, col_offset=50), Index(Num(-1, lineno=215, col_offset=53)), Load(), lineno=215, col_offset=50), 'filename', Load(), lineno=215, col_offset=50)], [], None, None, lineno=215, col_offset=33), Str('warning_tests.py', lineno=216, col_offset=36)], [], None, None, lineno=215, col_offset=16), lineno=215, col_offset=16), Expr(Call(Attribute(Name('warning_tests', Load(), lineno=217, col_offset=16), 'outer', Load(), lineno=217, col_offset=16), [Str('spam2', lineno=217, col_offset=36)], [], None, None, lineno=217, col_offset=16), lineno=217, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=218, col_offset=16), 'assertEqual', Load(), lineno=218, col_offset=16), [Call(Attribute(Attribute(Name('os', Load(), lineno=218, col_offset=33), 'path', Load(), lineno=218, col_offset=33), 'basename', Load(), lineno=218, col_offset=33), [Attribute(Subscript(Name('w', Load(), lineno=218, col_offset=50), Index(Num(-1, lineno=218, col_offset=53)), Load(), lineno=218, col_offset=50), 'filename', Load(), lineno=218, col_offset=50)], [], None, None, lineno=218, col_offset=33), Str('warning_tests.py', lineno=219, col_offset=36)], [], None, None, lineno=218, col_offset=16), lineno=218, col_offset=16)], lineno=212, col_offset=17)], lineno=211, col_offset=13)], [], lineno=210, col_offset=4), FunctionDef('test_stacklevel', arguments([Name('self', Param(), lineno=221, col_offset=24)], None, None, []), [With(Call(Name('warnings_state', Load(), lineno=224, col_offset=13), [Attribute(Name('self', Load(), lineno=224, col_offset=28), 'module', Load(), lineno=224, col_offset=28)], [], None, None, lineno=224, col_offset=13), None, [With(Call(Attribute(Name('original_warnings', Load(), lineno=225, col_offset=17), 'catch_warnings', Load(), lineno=225, col_offset=17), [], [keyword('record', Name('True', Load(), lineno=225, col_offset=57)), keyword('module', Attribute(Name('self', Load(), lineno=226, col_offset=27), 'module', Load(), lineno=226, col_offset=27))], None, None, lineno=225, col_offset=17), Name('w', Store(), lineno=226, col_offset=43), [Expr(Call(Attribute(Name('warning_tests', Load(), lineno=227, col_offset=16), 'inner', Load(), lineno=227, col_offset=16), [Str('spam3', lineno=227, col_offset=36)], [keyword('stacklevel', Num(1, lineno=227, col_offset=56))], None, None, lineno=227, col_offset=16), lineno=227, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=228, col_offset=16), 'assertEqual', Load(), lineno=228, col_offset=16), [Call(Attribute(Attribute(Name('os', Load(), lineno=228, col_offset=33), 'path', Load(), lineno=228, col_offset=33), 'basename', Load(), lineno=228, col_offset=33), [Attribute(Subscript(Name('w', Load(), lineno=228, col_offset=50), Index(Num(-1, lineno=228, col_offset=53)), Load(), lineno=228, col_offset=50), 'filename', Load(), lineno=228, col_offset=50)], [], None, None, lineno=228, col_offset=33), Str('warning_tests.py', lineno=229, col_offset=36)], [], None, None, lineno=228, col_offset=16), lineno=228, col_offset=16), Expr(Call(Attribute(Name('warning_tests', Load(), lineno=230, col_offset=16), 'outer', Load(), lineno=230, col_offset=16), [Str('spam4', lineno=230, col_offset=36)], [keyword('stacklevel', Num(1, lineno=230, col_offset=56))], None, None, lineno=230, col_offset=16), lineno=230, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=231, col_offset=16), 'assertEqual', Load(), lineno=231, col_offset=16), [Call(Attribute(Attribute(Name('os', Load(), lineno=231, col_offset=33), 'path', Load(), lineno=231, col_offset=33), 'basename', Load(), lineno=231, col_offset=33), [Attribute(Subscript(Name('w', Load(), lineno=231, col_offset=50), Index(Num(-1, lineno=231, col_offset=53)), Load(), lineno=231, col_offset=50), 'filename', Load(), lineno=231, col_offset=50)], [], None, None, lineno=231, col_offset=33), Str('warning_tests.py', lineno=232, col_offset=36)], [], None, None, lineno=231, col_offset=16), lineno=231, col_offset=16), Expr(Call(Attribute(Name('warning_tests', Load(), lineno=234, col_offset=16), 'inner', Load(), lineno=234, col_offset=16), [Str('spam5', lineno=234, col_offset=36)], [keyword('stacklevel', Num(2, lineno=234, col_offset=56))], None, None, lineno=234, col_offset=16), lineno=234, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=235, col_offset=16), 'assertEqual', Load(), lineno=235, col_offset=16), [Call(Attribute(Attribute(Name('os', Load(), lineno=235, col_offset=33), 'path', Load(), lineno=235, col_offset=33), 'basename', Load(), lineno=235, col_offset=33), [Attribute(Subscript(Name('w', Load(), lineno=235, col_offset=50), Index(Num(-1, lineno=235, col_offset=53)), Load(), lineno=235, col_offset=50), 'filename', Load(), lineno=235, col_offset=50)], [], None, None, lineno=235, col_offset=33), Str('test_warnings.py', lineno=236, col_offset=36)], [], None, None, lineno=235, col_offset=16), lineno=235, col_offset=16), Expr(Call(Attribute(Name('warning_tests', Load(), lineno=237, col_offset=16), 'outer', Load(), lineno=237, col_offset=16), [Str('spam6', lineno=237, col_offset=36)], [keyword('stacklevel', Num(2, lineno=237, col_offset=56))], None, None, lineno=237, col_offset=16), lineno=237, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=238, col_offset=16), 'assertEqual', Load(), lineno=238, col_offset=16), [Call(Attribute(Attribute(Name('os', Load(), lineno=238, col_offset=33), 'path', Load(), lineno=238, col_offset=33), 'basename', Load(), lineno=238, col_offset=33), [Attribute(Subscript(Name('w', Load(), lineno=238, col_offset=50), Index(Num(-1, lineno=238, col_offset=53)), Load(), lineno=238, col_offset=50), 'filename', Load(), lineno=238, col_offset=50)], [], None, None, lineno=238, col_offset=33), Str('warning_tests.py', lineno=239, col_offset=36)], [], None, None, lineno=238, col_offset=16), lineno=238, col_offset=16), Expr(Call(Attribute(Name('warning_tests', Load(), lineno=240, col_offset=16), 'outer', Load(), lineno=240, col_offset=16), [Str('spam6.5', lineno=240, col_offset=36)], [keyword('stacklevel', Num(3, lineno=240, col_offset=58))], None, None, lineno=240, col_offset=16), lineno=240, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=241, col_offset=16), 'assertEqual', Load(), lineno=241, col_offset=16), [Call(Attribute(Attribute(Name('os', Load(), lineno=241, col_offset=33), 'path', Load(), lineno=241, col_offset=33), 'basename', Load(), lineno=241, col_offset=33), [Attribute(Subscript(Name('w', Load(), lineno=241, col_offset=50), Index(Num(-1, lineno=241, col_offset=53)), Load(), lineno=241, col_offset=50), 'filename', Load(), lineno=241, col_offset=50)], [], None, None, lineno=241, col_offset=33), Str('test_warnings.py', lineno=242, col_offset=36)], [], None, None, lineno=241, col_offset=16), lineno=241, col_offset=16), Expr(Call(Attribute(Name('warning_tests', Load(), lineno=244, col_offset=16), 'inner', Load(), lineno=244, col_offset=16), [Str('spam7', lineno=244, col_offset=36)], [keyword('stacklevel', Num(9999, lineno=244, col_offset=56))], None, None, lineno=244, col_offset=16), lineno=244, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=245, col_offset=16), 'assertEqual', Load(), lineno=245, col_offset=16), [Call(Attribute(Attribute(Name('os', Load(), lineno=245, col_offset=33), 'path', Load(), lineno=245, col_offset=33), 'basename', Load(), lineno=245, col_offset=33), [Attribute(Subscript(Name('w', Load(), lineno=245, col_offset=50), Index(Num(-1, lineno=245, col_offset=53)), Load(), lineno=245, col_offset=50), 'filename', Load(), lineno=245, col_offset=50)], [], None, None, lineno=245, col_offset=33), Str('sys', lineno=246, col_offset=36)], [], None, None, lineno=245, col_offset=16), lineno=245, col_offset=16)], lineno=225, col_offset=17)], lineno=224, col_offset=13)], [], lineno=221, col_offset=4), FunctionDef('test_missing_filename_not_main', arguments([Name('self', Param(), lineno=248, col_offset=39)], None, None, []), [Assign([Name('filename', Store(), lineno=251, col_offset=8)], Attribute(Name('warning_tests', Load(), lineno=251, col_offset=19), '__file__', Load(), lineno=251, col_offset=19), lineno=251, col_offset=8), TryFinally([Delete([Attribute(Name('warning_tests', Load(), lineno=253, col_offset=16), '__file__', Del(), lineno=253, col_offset=16)], lineno=253, col_offset=12), With(Call(Name('warnings_state', Load(), lineno=254, col_offset=17), [Attribute(Name('self', Load(), lineno=254, col_offset=32), 'module', Load(), lineno=254, col_offset=32)], [], None, None, lineno=254, col_offset=17), None, [With(Call(Attribute(Name('original_warnings', Load(), lineno=255, col_offset=21), 'catch_warnings', Load(), lineno=255, col_offset=21), [], [keyword('record', Name('True', Load(), lineno=255, col_offset=61)), keyword('module', Attribute(Name('self', Load(), lineno=256, col_offset=31), 'module', Load(), lineno=256, col_offset=31))], None, None, lineno=255, col_offset=21), Name('w', Store(), lineno=256, col_offset=47), [Expr(Call(Attribute(Name('warning_tests', Load(), lineno=257, col_offset=20), 'inner', Load(), lineno=257, col_offset=20), [Str('spam8', lineno=257, col_offset=40)], [keyword('stacklevel', Num(1, lineno=257, col_offset=60))], None, None, lineno=257, col_offset=20), lineno=257, col_offset=20), Expr(Call(Attribute(Name('self', Load(), lineno=258, col_offset=20), 'assertEqual', Load(), lineno=258, col_offset=20), [Attribute(Subscript(Name('w', Load(), lineno=258, col_offset=37), Index(Num(-1, lineno=258, col_offset=40)), Load(), lineno=258, col_offset=37), 'filename', Load(), lineno=258, col_offset=37), Attribute(Name('warning_tests', Load(), lineno=258, col_offset=53), '__name__', Load(), lineno=258, col_offset=53)], [], None, None, lineno=258, col_offset=20), lineno=258, col_offset=20)], lineno=255, col_offset=21)], lineno=254, col_offset=17)], [Assign([Attribute(Name('warning_tests', Load(), lineno=260, col_offset=12), '__file__', Store(), lineno=260, col_offset=12)], Name('filename', Load(), lineno=260, col_offset=37), lineno=260, col_offset=12)], lineno=252, col_offset=8)], [], lineno=248, col_offset=4), FunctionDef('test_missing_filename_main_with_argv', arguments([Name('self', Param(), lineno=262, col_offset=45)], None, None, []), [If(UnaryOp(Not(), Call(Name('hasattr', Load(), lineno=265, col_offset=15), [Name('sys', Load(), lineno=265, col_offset=23), Str('argv', lineno=265, col_offset=28)], [], None, None, lineno=265, col_offset=15), lineno=265, col_offset=11), [Return(None, lineno=266, col_offset=12)], [], lineno=265, col_offset=8), Assign([Name('filename', Store(), lineno=267, col_offset=8)], Attribute(Name('warning_tests', Load(), lineno=267, col_offset=19), '__file__', Load(), lineno=267, col_offset=19), lineno=267, col_offset=8), Assign([Name('module_name', Store(), lineno=268, col_offset=8)], Attribute(Name('warning_tests', Load(), lineno=268, col_offset=22), '__name__', Load(), lineno=268, col_offset=22), lineno=268, col_offset=8), TryFinally([Delete([Attribute(Name('warning_tests', Load(), lineno=270, col_offset=16), '__file__', Del(), lineno=270, col_offset=16)], lineno=270, col_offset=12), Assign([Attribute(Name('warning_tests', Load(), lineno=271, col_offset=12), '__name__', Store(), lineno=271, col_offset=12)], Str('__main__', lineno=271, col_offset=37), lineno=271, col_offset=12), With(Call(Name('warnings_state', Load(), lineno=272, col_offset=17), [Attribute(Name('self', Load(), lineno=272, col_offset=32), 'module', Load(), lineno=272, col_offset=32)], [], None, None, lineno=272, col_offset=17), None, [With(Call(Attribute(Name('original_warnings', Load(), lineno=273, col_offset=21), 'catch_warnings', Load(), lineno=273, col_offset=21), [], [keyword('record', Name('True', Load(), lineno=273, col_offset=61)), keyword('module', Attribute(Name('self', Load(), lineno=274, col_offset=31), 'module', Load(), lineno=274, col_offset=31))], None, None, lineno=273, col_offset=21), Name('w', Store(), lineno=274, col_offset=47), [Expr(Call(Attribute(Name('warning_tests', Load(), lineno=275, col_offset=20), 'inner', Load(), lineno=275, col_offset=20), [Str('spam9', lineno=275, col_offset=40)], [keyword('stacklevel', Num(1, lineno=275, col_offset=60))], None, None, lineno=275, col_offset=20), lineno=275, col_offset=20), Expr(Call(Attribute(Name('self', Load(), lineno=276, col_offset=20), 'assertEqual', Load(), lineno=276, col_offset=20), [Attribute(Subscript(Name('w', Load(), lineno=276, col_offset=37), Index(Num(-1, lineno=276, col_offset=40)), Load(), lineno=276, col_offset=37), 'filename', Load(), lineno=276, col_offset=37), Subscript(Attribute(Name('sys', Load(), lineno=276, col_offset=53), 'argv', Load(), lineno=276, col_offset=53), Index(Num(0, lineno=276, col_offset=62)), Load(), lineno=276, col_offset=53)], [], None, None, lineno=276, col_offset=20), lineno=276, col_offset=20)], lineno=273, col_offset=21)], lineno=272, col_offset=17)], [Assign([Attribute(Name('warning_tests', Load(), lineno=278, col_offset=12), '__file__', Store(), lineno=278, col_offset=12)], Name('filename', Load(), lineno=278, col_offset=37), lineno=278, col_offset=12), Assign([Attribute(Name('warning_tests', Load(), lineno=279, col_offset=12), '__name__', Store(), lineno=279, col_offset=12)], Name('module_name', Load(), lineno=279, col_offset=37), lineno=279, col_offset=12)], lineno=269, col_offset=8)], [], lineno=262, col_offset=4), FunctionDef('test_missing_filename_main_without_argv', arguments([Name('self', Param(), lineno=281, col_offset=48)], None, None, []), [Assign([Name('filename', Store(), lineno=284, col_offset=8)], Attribute(Name('warning_tests', Load(), lineno=284, col_offset=19), '__file__', Load(), lineno=284, col_offset=19), lineno=284, col_offset=8), Assign([Name('module_name', Store(), lineno=285, col_offset=8)], Attribute(Name('warning_tests', Load(), lineno=285, col_offset=22), '__name__', Load(), lineno=285, col_offset=22), lineno=285, col_offset=8), Assign([Name('argv', Store(), lineno=286, col_offset=8)], Attribute(Name('sys', Load(), lineno=286, col_offset=15), 'argv', Load(), lineno=286, col_offset=15), lineno=286, col_offset=8), TryFinally([Delete([Attribute(Name('warning_tests', Load(), lineno=288, col_offset=16), '__file__', Del(), lineno=288, col_offset=16)], lineno=288, col_offset=12), Assign([Attribute(Name('warning_tests', Load(), lineno=289, col_offset=12), '__name__', Store(), lineno=289, col_offset=12)], Str('__main__', lineno=289, col_offset=37), lineno=289, col_offset=12), Delete([Attribute(Name('sys', Load(), lineno=290, col_offset=16), 'argv', Del(), lineno=290, col_offset=16)], lineno=290, col_offset=12), With(Call(Name('warnings_state', Load(), lineno=291, col_offset=17), [Attribute(Name('self', Load(), lineno=291, col_offset=32), 'module', Load(), lineno=291, col_offset=32)], [], None, None, lineno=291, col_offset=17), None, [With(Call(Attribute(Name('original_warnings', Load(), lineno=292, col_offset=21), 'catch_warnings', Load(), lineno=292, col_offset=21), [], [keyword('record', Name('True', Load(), lineno=292, col_offset=61)), keyword('module', Attribute(Name('self', Load(), lineno=293, col_offset=31), 'module', Load(), lineno=293, col_offset=31))], None, None, lineno=292, col_offset=21), Name('w', Store(), lineno=293, col_offset=47), [Expr(Call(Attribute(Name('warning_tests', Load(), lineno=294, col_offset=20), 'inner', Load(), lineno=294, col_offset=20), [Str('spam10', lineno=294, col_offset=40)], [keyword('stacklevel', Num(1, lineno=294, col_offset=61))], None, None, lineno=294, col_offset=20), lineno=294, col_offset=20), Expr(Call(Attribute(Name('self', Load(), lineno=295, col_offset=20), 'assertEqual', Load(), lineno=295, col_offset=20), [Attribute(Subscript(Name('w', Load(), lineno=295, col_offset=37), Index(Num(-1, lineno=295, col_offset=40)), Load(), lineno=295, col_offset=37), 'filename', Load(), lineno=295, col_offset=37), Str('__main__', lineno=295, col_offset=53)], [], None, None, lineno=295, col_offset=20), lineno=295, col_offset=20)], lineno=292, col_offset=21)], lineno=291, col_offset=17)], [Assign([Attribute(Name('warning_tests', Load(), lineno=297, col_offset=12), '__file__', Store(), lineno=297, col_offset=12)], Name('filename', Load(), lineno=297, col_offset=37), lineno=297, col_offset=12), Assign([Attribute(Name('warning_tests', Load(), lineno=298, col_offset=12), '__name__', Store(), lineno=298, col_offset=12)], Name('module_name', Load(), lineno=298, col_offset=37), lineno=298, col_offset=12), Assign([Attribute(Name('sys', Load(), lineno=299, col_offset=12), 'argv', Store(), lineno=299, col_offset=12)], Name('argv', Load(), lineno=299, col_offset=23), lineno=299, col_offset=12)], lineno=287, col_offset=8)], [], lineno=281, col_offset=4), FunctionDef('test_missing_filename_main_with_argv_empty_string', arguments([Name('self', Param(), lineno=301, col_offset=58)], None, None, []), [Assign([Name('file_name', Store(), lineno=305, col_offset=8)], Attribute(Name('warning_tests', Load(), lineno=305, col_offset=20), '__file__', Load(), lineno=305, col_offset=20), lineno=305, col_offset=8), Assign([Name('module_name', Store(), lineno=306, col_offset=8)], Attribute(Name('warning_tests', Load(), lineno=306, col_offset=22), '__name__', Load(), lineno=306, col_offset=22), lineno=306, col_offset=8), Assign([Name('argv', Store(), lineno=307, col_offset=8)], Attribute(Name('sys', Load(), lineno=307, col_offset=15), 'argv', Load(), lineno=307, col_offset=15), lineno=307, col_offset=8), TryFinally([Delete([Attribute(Name('warning_tests', Load(), lineno=309, col_offset=16), '__file__', Del(), lineno=309, col_offset=16)], lineno=309, col_offset=12), Assign([Attribute(Name('warning_tests', Load(), lineno=310, col_offset=12), '__name__', Store(), lineno=310, col_offset=12)], Str('__main__', lineno=310, col_offset=37), lineno=310, col_offset=12), Assign([Attribute(Name('sys', Load(), lineno=311, col_offset=12), 'argv', Store(), lineno=311, col_offset=12)], List([Str('', lineno=311, col_offset=24)], Load(), lineno=311, col_offset=23), lineno=311, col_offset=12), With(Call(Name('warnings_state', Load(), lineno=312, col_offset=17), [Attribute(Name('self', Load(), lineno=312, col_offset=32), 'module', Load(), lineno=312, col_offset=32)], [], None, None, lineno=312, col_offset=17), None, [With(Call(Attribute(Name('original_warnings', Load(), lineno=313, col_offset=21), 'catch_warnings', Load(), lineno=313, col_offset=21), [], [keyword('record', Name('True', Load(), lineno=313, col_offset=61)), keyword('module', Attribute(Name('self', Load(), lineno=314, col_offset=31), 'module', Load(), lineno=314, col_offset=31))], None, None, lineno=313, col_offset=21), Name('w', Store(), lineno=314, col_offset=47), [Expr(Call(Attribute(Name('warning_tests', Load(), lineno=315, col_offset=20), 'inner', Load(), lineno=315, col_offset=20), [Str('spam11', lineno=315, col_offset=40)], [keyword('stacklevel', Num(1, lineno=315, col_offset=61))], None, None, lineno=315, col_offset=20), lineno=315, col_offset=20), Expr(Call(Attribute(Name('self', Load(), lineno=316, col_offset=20), 'assertEqual', Load(), lineno=316, col_offset=20), [Attribute(Subscript(Name('w', Load(), lineno=316, col_offset=37), Index(Num(-1, lineno=316, col_offset=40)), Load(), lineno=316, col_offset=37), 'filename', Load(), lineno=316, col_offset=37), Str('__main__', lineno=316, col_offset=53)], [], None, None, lineno=316, col_offset=20), lineno=316, col_offset=20)], lineno=313, col_offset=21)], lineno=312, col_offset=17)], [Assign([Attribute(Name('warning_tests', Load(), lineno=318, col_offset=12), '__file__', Store(), lineno=318, col_offset=12)], Name('file_name', Load(), lineno=318, col_offset=37), lineno=318, col_offset=12), Assign([Attribute(Name('warning_tests', Load(), lineno=319, col_offset=12), '__name__', Store(), lineno=319, col_offset=12)], Name('module_name', Load(), lineno=319, col_offset=37), lineno=319, col_offset=12), Assign([Attribute(Name('sys', Load(), lineno=320, col_offset=12), 'argv', Store(), lineno=320, col_offset=12)], Name('argv', Load(), lineno=320, col_offset=23), lineno=320, col_offset=12)], lineno=308, col_offset=8)], [], lineno=301, col_offset=4), FunctionDef('test_warn_explicit_type_errors', arguments([Name('self', Param(), lineno=322, col_offset=39)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=326, col_offset=8), 'assertRaises', Load(), lineno=326, col_offset=8), [Name('TypeError', Load(), lineno=326, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=326, col_offset=37), 'module', Load(), lineno=326, col_offset=37), 'warn_explicit', Load(), lineno=326, col_offset=37), Name('None', Load(), lineno=327, col_offset=28), Name('UserWarning', Load(), lineno=327, col_offset=34), Name('None', Load(), lineno=327, col_offset=47), Name('None', Load(), lineno=327, col_offset=53)], [], None, None, lineno=326, col_offset=8), lineno=326, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=330, col_offset=8), 'assertRaises', Load(), lineno=330, col_offset=8), [Name('TypeError', Load(), lineno=330, col_offset=26), Attribute(Attribute(Name('self', Load(), lineno=330, col_offset=37), 'module', Load(), lineno=330, col_offset=37), 'warn_explicit', Load(), lineno=330, col_offset=37), Name('None', Load(), lineno=331, col_offset=28), Name('None', Load(), lineno=331, col_offset=34), Name('None', Load(), lineno=331, col_offset=40), Num(1, lineno=331, col_offset=46)], [], None, None, lineno=330, col_offset=8), lineno=330, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=333, col_offset=8), 'assertRaises', Load(), lineno=333, col_offset=8), [Tuple([Name('TypeError', Load(), lineno=333, col_offset=27), Name('AttributeError', Load(), lineno=333, col_offset=38)], Load(), lineno=333, col_offset=27), Attribute(Attribute(Name('self', Load(), lineno=334, col_offset=28), 'module', Load(), lineno=334, col_offset=28), 'warn_explicit', Load(), lineno=334, col_offset=28), Name('None', Load(), lineno=335, col_offset=28), Name('Warning', Load(), lineno=335, col_offset=34), Name('None', Load(), lineno=335, col_offset=43), Num(1, lineno=335, col_offset=49)], [keyword('registry', Num(42, lineno=335, col_offset=61))], None, None, lineno=333, col_offset=8), lineno=333, col_offset=8)], [], lineno=322, col_offset=4), FunctionDef('test_bad_str', arguments([Name('self', Param(), lineno=337, col_offset=21)], None, None, []), [ClassDef('BadStrWarning', [Name('Warning', Load(), lineno=341, col_offset=28)], [Expr(Str('Warning with a bad format string for __str__.', lineno=342, col_offset=12), lineno=342, col_offset=12), FunctionDef('__str__', arguments([Name('self', Param(), lineno=343, col_offset=24)], None, None, []), [Return(BinOp(Str('A bad formatted string %(err)', lineno=344, col_offset=24), Mod(), Dict([Str('err', lineno=345, col_offset=25)], [Str('there is no %(err)s', lineno=345, col_offset=33)], lineno=345, col_offset=24), lineno=344, col_offset=24), lineno=344, col_offset=16)], [], lineno=343, col_offset=12)], [], lineno=341, col_offset=8), With(Call(Attribute(Name('self', Load(), lineno=347, col_offset=13), 'assertRaises', Load(), lineno=347, col_offset=13), [Name('ValueError', Load(), lineno=347, col_offset=31)], [], None, None, lineno=347, col_offset=13), None, [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=348, col_offset=12), 'module', Load(), lineno=348, col_offset=12), 'warn', Load(), lineno=348, col_offset=12), [Call(Name('BadStrWarning', Load(), lineno=348, col_offset=29), [], [], None, None, lineno=348, col_offset=29)], [], None, None, lineno=348, col_offset=12), lineno=348, col_offset=12)], lineno=347, col_offset=13)], [], lineno=337, col_offset=4)], [], lineno=196, col_offset=0), ClassDef('CWarnTests', [Name('BaseTest', Load(), lineno=351, col_offset=17), Name('WarnTests', Load(), lineno=351, col_offset=27)], [Assign([Name('module', Store(), lineno=352, col_offset=4)], Name('c_warnings', Load(), lineno=352, col_offset=13), lineno=352, col_offset=4), FunctionDef('test_accelerated', arguments([Name('self', Param(), lineno=356, col_offset=25)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=357, col_offset=8), 'assertFalse', Load(), lineno=357, col_offset=8), [Compare(Name('original_warnings', Load(), lineno=357, col_offset=25), [Is()], [Attribute(Name('self', Load(), lineno=357, col_offset=46), 'module', Load(), lineno=357, col_offset=46)], lineno=357, col_offset=25)], [], None, None, lineno=357, col_offset=8), lineno=357, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=358, col_offset=8), 'assertFalse', Load(), lineno=358, col_offset=8), [Call(Name('hasattr', Load(), lineno=358, col_offset=25), [Attribute(Attribute(Name('self', Load(), lineno=358, col_offset=33), 'module', Load(), lineno=358, col_offset=33), 'warn', Load(), lineno=358, col_offset=33), Str('func_code', lineno=358, col_offset=51)], [], None, None, lineno=358, col_offset=25)], [], None, None, lineno=358, col_offset=8), lineno=358, col_offset=8)], [], lineno=356, col_offset=4)], [], lineno=351, col_offset=0), ClassDef('PyWarnTests', [Name('BaseTest', Load(), lineno=360, col_offset=18), Name('WarnTests', Load(), lineno=360, col_offset=28)], [Assign([Name('module', Store(), lineno=361, col_offset=4)], Name('py_warnings', Load(), lineno=361, col_offset=13), lineno=361, col_offset=4), FunctionDef('test_pure_python', arguments([Name('self', Param(), lineno=365, col_offset=25)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=366, col_offset=8), 'assertFalse', Load(), lineno=366, col_offset=8), [Compare(Name('original_warnings', Load(), lineno=366, col_offset=25), [Is()], [Attribute(Name('self', Load(), lineno=366, col_offset=46), 'module', Load(), lineno=366, col_offset=46)], lineno=366, col_offset=25)], [], None, None, lineno=366, col_offset=8), lineno=366, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=367, col_offset=8), 'assertTrue', Load(), lineno=367, col_offset=8), [Call(Name('hasattr', Load(), lineno=367, col_offset=24), [Attribute(Attribute(Name('self', Load(), lineno=367, col_offset=32), 'module', Load(), lineno=367, col_offset=32), 'warn', Load(), lineno=367, col_offset=32), Str('func_code', lineno=367, col_offset=50)], [], None, None, lineno=367, col_offset=24)], [], None, None, lineno=367, col_offset=8), lineno=367, col_offset=8)], [], lineno=365, col_offset=4)], [], lineno=360, col_offset=0), ClassDef('WCmdLineTests', [Attribute(Name('unittest', Load(), lineno=370, col_offset=20), 'TestCase', Load(), lineno=370, col_offset=20)], [FunctionDef('test_improper_input', arguments([Name('self', Param(), lineno=372, col_offset=28)], None, None, []), [With(Call(Attribute(Name('original_warnings', Load(), lineno=375, col_offset=13), 'catch_warnings', Load(), lineno=375, col_offset=13), [], [keyword('module', Attribute(Name('self', Load(), lineno=375, col_offset=53), 'module', Load(), lineno=375, col_offset=53))], None, None, lineno=375, col_offset=13), None, [Expr(Call(Attribute(Name('self', Load(), lineno=376, col_offset=12), 'assertRaises', Load(), lineno=376, col_offset=12), [Attribute(Attribute(Name('self', Load(), lineno=376, col_offset=30), 'module', Load(), lineno=376, col_offset=30), '_OptionError', Load(), lineno=376, col_offset=30), Attribute(Attribute(Name('self', Load(), lineno=377, col_offset=30), 'module', Load(), lineno=377, col_offset=30), '_setoption', Load(), lineno=377, col_offset=30), Str('1:2:3:4:5:6', lineno=377, col_offset=54)], [], None, None, lineno=376, col_offset=12), lineno=376, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=378, col_offset=12), 'assertRaises', Load(), lineno=378, col_offset=12), [Attribute(Attribute(Name('self', Load(), lineno=378, col_offset=30), 'module', Load(), lineno=378, col_offset=30), '_OptionError', Load(), lineno=378, col_offset=30), Attribute(Attribute(Name('self', Load(), lineno=379, col_offset=30), 'module', Load(), lineno=379, col_offset=30), '_setoption', Load(), lineno=379, col_offset=30), Str('bogus::Warning', lineno=379, col_offset=54)], [], None, None, lineno=378, col_offset=12), lineno=378, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=380, col_offset=12), 'assertRaises', Load(), lineno=380, col_offset=12), [Attribute(Attribute(Name('self', Load(), lineno=380, col_offset=30), 'module', Load(), lineno=380, col_offset=30), '_OptionError', Load(), lineno=380, col_offset=30), Attribute(Attribute(Name('self', Load(), lineno=381, col_offset=30), 'module', Load(), lineno=381, col_offset=30), '_setoption', Load(), lineno=381, col_offset=30), Str('ignore:2::4:-5', lineno=381, col_offset=54)], [], None, None, lineno=380, col_offset=12), lineno=380, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=382, col_offset=12), 'module', Load(), lineno=382, col_offset=12), '_setoption', Load(), lineno=382, col_offset=12), [Str('error::Warning::0', lineno=382, col_offset=35)], [], None, None, lineno=382, col_offset=12), lineno=382, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=383, col_offset=12), 'assertRaises', Load(), lineno=383, col_offset=12), [Name('UserWarning', Load(), lineno=383, col_offset=30), Attribute(Attribute(Name('self', Load(), lineno=383, col_offset=43), 'module', Load(), lineno=383, col_offset=43), 'warn', Load(), lineno=383, col_offset=43), Str('convert to error', lineno=383, col_offset=61)], [], None, None, lineno=383, col_offset=12), lineno=383, col_offset=12)], lineno=375, col_offset=13)], [], lineno=372, col_offset=4), FunctionDef('test_improper_option', arguments([Name('self', Param(), lineno=385, col_offset=29)], None, None, []), [Assign([Tuple([Name('rc', Store(), lineno=389, col_offset=8), Name('out', Store(), lineno=389, col_offset=12), Name('err', Store(), lineno=389, col_offset=17)], Store(), lineno=389, col_offset=8)], Call(Name('assert_python_ok', Load(), lineno=389, col_offset=23), [Str('-Wxxx', lineno=389, col_offset=40), Str('-c', lineno=389, col_offset=49), Str('pass', lineno=389, col_offset=55)], [], None, None, lineno=389, col_offset=23), lineno=389, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=390, col_offset=8), 'assertIn', Load(), lineno=390, col_offset=8), [Str("Invalid -W option ignored: invalid action: 'xxx'", lineno=390, col_offset=22), Name('err', Load(), lineno=390, col_offset=75)], [], None, None, lineno=390, col_offset=8), lineno=390, col_offset=8)], [], lineno=385, col_offset=4), FunctionDef('test_warnings_bootstrap', arguments([Name('self', Param(), lineno=392, col_offset=32)], None, None, []), [Assign([Tuple([Name('rc', Store(), lineno=395, col_offset=8), Name('out', Store(), lineno=395, col_offset=12), Name('err', Store(), lineno=395, col_offset=17)], Store(), lineno=395, col_offset=8)], Call(Name('assert_python_ok', Load(), lineno=395, col_offset=23), [Str('-Wi', lineno=395, col_offset=40), Str('-c', lineno=395, col_offset=47), Str("import sys; sys.modules['warnings'].warn('foo', RuntimeWarning)", lineno=396, col_offset=12)], [], None, None, lineno=395, col_offset=23), lineno=395, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=398, col_offset=8), 'assertFalse', Load(), lineno=398, col_offset=8), [Call(Attribute(Name('out', Load(), lineno=398, col_offset=25), 'strip', Load(), lineno=398, col_offset=25), [], [], None, None, lineno=398, col_offset=25)], [], None, None, lineno=398, col_offset=8), lineno=398, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=399, col_offset=8), 'assertNotIn', Load(), lineno=399, col_offset=8), [Str('RuntimeWarning', lineno=399, col_offset=25), Name('err', Load(), lineno=399, col_offset=44)], [], None, None, lineno=399, col_offset=8), lineno=399, col_offset=8)], [], lineno=392, col_offset=4)], [], lineno=370, col_offset=0), ClassDef('CWCmdLineTests', [Name('BaseTest', Load(), lineno=401, col_offset=21), Name('WCmdLineTests', Load(), lineno=401, col_offset=31)], [Assign([Name('module', Store(), lineno=402, col_offset=4)], Name('c_warnings', Load(), lineno=402, col_offset=13), lineno=402, col_offset=4)], [], lineno=401, col_offset=0), ClassDef('PyWCmdLineTests', [Name('BaseTest', Load(), lineno=404, col_offset=22), Name('WCmdLineTests', Load(), lineno=404, col_offset=32)], [Assign([Name('module', Store(), lineno=405, col_offset=4)], Name('py_warnings', Load(), lineno=405, col_offset=13), lineno=405, col_offset=4)], [], lineno=404, col_offset=0), ClassDef('_WarningsTests', [Name('BaseTest', Load(), lineno=408, col_offset=21)], [Expr(Str('Tests specific to the _warnings module.', lineno=410, col_offset=4), lineno=410, col_offset=4), Assign([Name('module', Store(), lineno=412, col_offset=4)], Name('c_warnings', Load(), lineno=412, col_offset=13), lineno=412, col_offset=4), FunctionDef('test_filter', arguments([Name('self', Param(), lineno=414, col_offset=20)], None, None, []), [With(Call(Attribute(Name('original_warnings', Load(), lineno=416, col_offset=13), 'catch_warnings', Load(), lineno=416, col_offset=13), [], [keyword('module', Attribute(Name('self', Load(), lineno=416, col_offset=53), 'module', Load(), lineno=416, col_offset=53))], None, None, lineno=416, col_offset=13), Name('w', Store(), lineno=416, col_offset=69), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=417, col_offset=12), 'module', Load(), lineno=417, col_offset=12), 'filterwarnings', Load(), lineno=417, col_offset=12), [Str('error', lineno=417, col_offset=39), Str('', lineno=417, col_offset=48), Name('Warning', Load(), lineno=417, col_offset=52), Str('', lineno=417, col_offset=61), Num(0, lineno=417, col_offset=65)], [], None, None, lineno=417, col_offset=12), lineno=417, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=418, col_offset=12), 'assertRaises', Load(), lineno=418, col_offset=12), [Name('UserWarning', Load(), lineno=418, col_offset=30), Attribute(Attribute(Name('self', Load(), lineno=418, col_offset=43), 'module', Load(), lineno=418, col_offset=43), 'warn', Load(), lineno=418, col_offset=43), Str('convert to error', lineno=419, col_offset=32)], [], None, None, lineno=418, col_offset=12), lineno=418, col_offset=12), Delete([Attribute(Attribute(Name('self', Load(), lineno=420, col_offset=16), 'module', Load(), lineno=420, col_offset=16), 'filters', Del(), lineno=420, col_offset=16)], lineno=420, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=421, col_offset=12), 'assertRaises', Load(), lineno=421, col_offset=12), [Name('UserWarning', Load(), lineno=421, col_offset=30), Attribute(Attribute(Name('self', Load(), lineno=421, col_offset=43), 'module', Load(), lineno=421, col_offset=43), 'warn', Load(), lineno=421, col_offset=43), Str('convert to error', lineno=422, col_offset=32)], [], None, None, lineno=421, col_offset=12), lineno=421, col_offset=12)], lineno=416, col_offset=13)], [], lineno=414, col_offset=4), FunctionDef('test_onceregistry', arguments([Name('self', Param(), lineno=424, col_offset=26)], None, None, []), [Global(['__warningregistry__'], lineno=426, col_offset=8), Assign([Name('message', Store(), lineno=427, col_offset=8)], Call(Name('UserWarning', Load(), lineno=427, col_offset=18), [Str('onceregistry test', lineno=427, col_offset=30)], [], None, None, lineno=427, col_offset=18), lineno=427, col_offset=8), TryFinally([Assign([Name('original_registry', Store(), lineno=429, col_offset=12)], Attribute(Attribute(Name('self', Load(), lineno=429, col_offset=32), 'module', Load(), lineno=429, col_offset=32), 'onceregistry', Load(), lineno=429, col_offset=32), lineno=429, col_offset=12), Assign([Name('__warningregistry__', Store(), lineno=430, col_offset=12)], Dict([], [], lineno=430, col_offset=34), lineno=430, col_offset=12), With(Call(Attribute(Name('original_warnings', Load(), lineno=431, col_offset=17), 'catch_warnings', Load(), lineno=431, col_offset=17), [], [keyword('record', Name('True', Load(), lineno=431, col_offset=57)), keyword('module', Attribute(Name('self', Load(), lineno=432, col_offset=27), 'module', Load(), lineno=432, col_offset=27))], None, None, lineno=431, col_offset=17), Name('w', Store(), lineno=432, col_offset=43), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=433, col_offset=16), 'module', Load(), lineno=433, col_offset=16), 'resetwarnings', Load(), lineno=433, col_offset=16), [], [], None, None, lineno=433, col_offset=16), lineno=433, col_offset=16), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=434, col_offset=16), 'module', Load(), lineno=434, col_offset=16), 'filterwarnings', Load(), lineno=434, col_offset=16), [Str('once', lineno=434, col_offset=43)], [keyword('category', Name('UserWarning', Load(), lineno=434, col_offset=60))], None, None, lineno=434, col_offset=16), lineno=434, col_offset=16), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=435, col_offset=16), 'module', Load(), lineno=435, col_offset=16), 'warn_explicit', Load(), lineno=435, col_offset=16), [Name('message', Load(), lineno=435, col_offset=42), Name('UserWarning', Load(), lineno=435, col_offset=51), Str('file', lineno=435, col_offset=64), Num(42, lineno=435, col_offset=72)], [], None, None, lineno=435, col_offset=16), lineno=435, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=436, col_offset=16), 'assertEqual', Load(), lineno=436, col_offset=16), [Attribute(Subscript(Name('w', Load(), lineno=436, col_offset=33), Index(Num(-1, lineno=436, col_offset=36)), Load(), lineno=436, col_offset=33), 'message', Load(), lineno=436, col_offset=33), Name('message', Load(), lineno=436, col_offset=48)], [], None, None, lineno=436, col_offset=16), lineno=436, col_offset=16), Delete([Subscript(Name('w', Load(), lineno=437, col_offset=20), Slice(None, None, None), Del(), lineno=437, col_offset=20)], lineno=437, col_offset=16), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=438, col_offset=16), 'module', Load(), lineno=438, col_offset=16), 'warn_explicit', Load(), lineno=438, col_offset=16), [Name('message', Load(), lineno=438, col_offset=42), Name('UserWarning', Load(), lineno=438, col_offset=51), Str('file', lineno=438, col_offset=64), Num(42, lineno=438, col_offset=72)], [], None, None, lineno=438, col_offset=16), lineno=438, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=439, col_offset=16), 'assertEqual', Load(), lineno=439, col_offset=16), [Call(Name('len', Load(), lineno=439, col_offset=33), [Name('w', Load(), lineno=439, col_offset=37)], [], None, None, lineno=439, col_offset=33), Num(0, lineno=439, col_offset=41)], [], None, None, lineno=439, col_offset=16), lineno=439, col_offset=16), Assign([Attribute(Attribute(Name('self', Load(), lineno=441, col_offset=16), 'module', Load(), lineno=441, col_offset=16), 'onceregistry', Store(), lineno=441, col_offset=16)], Dict([], [], lineno=441, col_offset=43), lineno=441, col_offset=16), Assign([Name('__warningregistry__', Store(), lineno=442, col_offset=16)], Dict([], [], lineno=442, col_offset=38), lineno=442, col_offset=16), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=443, col_offset=16), 'module', Load(), lineno=443, col_offset=16), 'warn', Load(), lineno=443, col_offset=16), [Str('onceregistry test', lineno=443, col_offset=33)], [], None, None, lineno=443, col_offset=16), lineno=443, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=444, col_offset=16), 'assertEqual', Load(), lineno=444, col_offset=16), [Attribute(Attribute(Subscript(Name('w', Load(), lineno=444, col_offset=33), Index(Num(-1, lineno=444, col_offset=36)), Load(), lineno=444, col_offset=33), 'message', Load(), lineno=444, col_offset=33), 'args', Load(), lineno=444, col_offset=33), Attribute(Name('message', Load(), lineno=444, col_offset=53), 'args', Load(), lineno=444, col_offset=53)], [], None, None, lineno=444, col_offset=16), lineno=444, col_offset=16), Delete([Subscript(Name('w', Load(), lineno=446, col_offset=20), Slice(None, None, None), Del(), lineno=446, col_offset=20)], lineno=446, col_offset=16), Delete([Attribute(Attribute(Name('self', Load(), lineno=447, col_offset=20), 'module', Load(), lineno=447, col_offset=20), 'onceregistry', Del(), lineno=447, col_offset=20)], lineno=447, col_offset=16), Assign([Name('__warningregistry__', Store(), lineno=448, col_offset=16)], Dict([], [], lineno=448, col_offset=38), lineno=448, col_offset=16), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=449, col_offset=16), 'module', Load(), lineno=449, col_offset=16), 'warn_explicit', Load(), lineno=449, col_offset=16), [Name('message', Load(), lineno=449, col_offset=42), Name('UserWarning', Load(), lineno=449, col_offset=51), Str('file', lineno=449, col_offset=64), Num(42, lineno=449, col_offset=72)], [], None, None, lineno=449, col_offset=16), lineno=449, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=450, col_offset=16), 'assertEqual', Load(), lineno=450, col_offset=16), [Call(Name('len', Load(), lineno=450, col_offset=33), [Name('w', Load(), lineno=450, col_offset=37)], [], None, None, lineno=450, col_offset=33), Num(0, lineno=450, col_offset=41)], [], None, None, lineno=450, col_offset=16), lineno=450, col_offset=16)], lineno=431, col_offset=17)], [Assign([Attribute(Attribute(Name('self', Load(), lineno=452, col_offset=12), 'module', Load(), lineno=452, col_offset=12), 'onceregistry', Store(), lineno=452, col_offset=12)], Name('original_registry', Load(), lineno=452, col_offset=39), lineno=452, col_offset=12)], lineno=428, col_offset=8)], [], lineno=424, col_offset=4), FunctionDef('test_default_action', arguments([Name('self', Param(), lineno=454, col_offset=28)], None, None, []), [Assign([Name('message', Store(), lineno=456, col_offset=8)], Call(Name('UserWarning', Load(), lineno=456, col_offset=18), [Str('defaultaction test', lineno=456, col_offset=30)], [], None, None, lineno=456, col_offset=18), lineno=456, col_offset=8), Assign([Name('original', Store(), lineno=457, col_offset=8)], Attribute(Attribute(Name('self', Load(), lineno=457, col_offset=19), 'module', Load(), lineno=457, col_offset=19), 'defaultaction', Load(), lineno=457, col_offset=19), lineno=457, col_offset=8), TryFinally([With(Call(Attribute(Name('original_warnings', Load(), lineno=459, col_offset=17), 'catch_warnings', Load(), lineno=459, col_offset=17), [], [keyword('record', Name('True', Load(), lineno=459, col_offset=57)), keyword('module', Attribute(Name('self', Load(), lineno=460, col_offset=27), 'module', Load(), lineno=460, col_offset=27))], None, None, lineno=459, col_offset=17), Name('w', Store(), lineno=460, col_offset=43), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=461, col_offset=16), 'module', Load(), lineno=461, col_offset=16), 'resetwarnings', Load(), lineno=461, col_offset=16), [], [], None, None, lineno=461, col_offset=16), lineno=461, col_offset=16), Assign([Name('registry', Store(), lineno=462, col_offset=16)], Dict([], [], lineno=462, col_offset=27), lineno=462, col_offset=16), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=463, col_offset=16), 'module', Load(), lineno=463, col_offset=16), 'warn_explicit', Load(), lineno=463, col_offset=16), [Name('message', Load(), lineno=463, col_offset=42), Name('UserWarning', Load(), lineno=463, col_offset=51), Str('<test>', lineno=463, col_offset=64), Num(42, lineno=463, col_offset=74)], [keyword('registry', Name('registry', Load(), lineno=464, col_offset=53))], None, None, lineno=463, col_offset=16), lineno=463, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=465, col_offset=16), 'assertEqual', Load(), lineno=465, col_offset=16), [Attribute(Subscript(Name('w', Load(), lineno=465, col_offset=33), Index(Num(-1, lineno=465, col_offset=36)), Load(), lineno=465, col_offset=33), 'message', Load(), lineno=465, col_offset=33), Name('message', Load(), lineno=465, col_offset=48)], [], None, None, lineno=465, col_offset=16), lineno=465, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=466, col_offset=16), 'assertEqual', Load(), lineno=466, col_offset=16), [Call(Name('len', Load(), lineno=466, col_offset=33), [Name('w', Load(), lineno=466, col_offset=37)], [], None, None, lineno=466, col_offset=33), Num(1, lineno=466, col_offset=41)], [], None, None, lineno=466, col_offset=16), lineno=466, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=467, col_offset=16), 'assertEqual', Load(), lineno=467, col_offset=16), [Call(Name('len', Load(), lineno=467, col_offset=33), [Name('registry', Load(), lineno=467, col_offset=37)], [], None, None, lineno=467, col_offset=33), Num(1, lineno=467, col_offset=48)], [], None, None, lineno=467, col_offset=16), lineno=467, col_offset=16), Delete([Subscript(Name('w', Load(), lineno=468, col_offset=20), Slice(None, None, None), Del(), lineno=468, col_offset=20)], lineno=468, col_offset=16), Delete([Attribute(Attribute(Name('self', Load(), lineno=470, col_offset=20), 'module', Load(), lineno=470, col_offset=20), 'defaultaction', Del(), lineno=470, col_offset=20)], lineno=470, col_offset=16), Assign([Name('__warningregistry__', Store(), lineno=471, col_offset=16)], Dict([], [], lineno=471, col_offset=38), lineno=471, col_offset=16), Assign([Name('registry', Store(), lineno=472, col_offset=16)], Dict([], [], lineno=472, col_offset=27), lineno=472, col_offset=16), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=473, col_offset=16), 'module', Load(), lineno=473, col_offset=16), 'warn_explicit', Load(), lineno=473, col_offset=16), [Name('message', Load(), lineno=473, col_offset=42), Name('UserWarning', Load(), lineno=473, col_offset=51), Str('<test>', lineno=473, col_offset=64), Num(43, lineno=473, col_offset=74)], [keyword('registry', Name('registry', Load(), lineno=474, col_offset=53))], None, None, lineno=473, col_offset=16), lineno=473, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=475, col_offset=16), 'assertEqual', Load(), lineno=475, col_offset=16), [Attribute(Subscript(Name('w', Load(), lineno=475, col_offset=33), Index(Num(-1, lineno=475, col_offset=36)), Load(), lineno=475, col_offset=33), 'message', Load(), lineno=475, col_offset=33), Name('message', Load(), lineno=475, col_offset=48)], [], None, None, lineno=475, col_offset=16), lineno=475, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=476, col_offset=16), 'assertEqual', Load(), lineno=476, col_offset=16), [Call(Name('len', Load(), lineno=476, col_offset=33), [Name('w', Load(), lineno=476, col_offset=37)], [], None, None, lineno=476, col_offset=33), Num(1, lineno=476, col_offset=41)], [], None, None, lineno=476, col_offset=16), lineno=476, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=477, col_offset=16), 'assertEqual', Load(), lineno=477, col_offset=16), [Call(Name('len', Load(), lineno=477, col_offset=33), [Name('registry', Load(), lineno=477, col_offset=37)], [], None, None, lineno=477, col_offset=33), Num(1, lineno=477, col_offset=48)], [], None, None, lineno=477, col_offset=16), lineno=477, col_offset=16), Delete([Subscript(Name('w', Load(), lineno=478, col_offset=20), Slice(None, None, None), Del(), lineno=478, col_offset=20)], lineno=478, col_offset=16), Assign([Attribute(Attribute(Name('self', Load(), lineno=480, col_offset=16), 'module', Load(), lineno=480, col_offset=16), 'defaultaction', Store(), lineno=480, col_offset=16)], Str('ignore', lineno=480, col_offset=44), lineno=480, col_offset=16), Assign([Name('__warningregistry__', Store(), lineno=481, col_offset=16)], Dict([], [], lineno=481, col_offset=38), lineno=481, col_offset=16), Assign([Name('registry', Store(), lineno=482, col_offset=16)], Dict([], [], lineno=482, col_offset=27), lineno=482, col_offset=16), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=483, col_offset=16), 'module', Load(), lineno=483, col_offset=16), 'warn_explicit', Load(), lineno=483, col_offset=16), [Name('message', Load(), lineno=483, col_offset=42), Name('UserWarning', Load(), lineno=483, col_offset=51), Str('<test>', lineno=483, col_offset=64), Num(44, lineno=483, col_offset=74)], [keyword('registry', Name('registry', Load(), lineno=484, col_offset=53))], None, None, lineno=483, col_offset=16), lineno=483, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=485, col_offset=16), 'assertEqual', Load(), lineno=485, col_offset=16), [Call(Name('len', Load(), lineno=485, col_offset=33), [Name('w', Load(), lineno=485, col_offset=37)], [], None, None, lineno=485, col_offset=33), Num(0, lineno=485, col_offset=41)], [], None, None, lineno=485, col_offset=16), lineno=485, col_offset=16)], lineno=459, col_offset=17)], [Assign([Attribute(Attribute(Name('self', Load(), lineno=487, col_offset=12), 'module', Load(), lineno=487, col_offset=12), 'defaultaction', Store(), lineno=487, col_offset=12)], Name('original', Load(), lineno=487, col_offset=40), lineno=487, col_offset=12)], lineno=458, col_offset=8)], [], lineno=454, col_offset=4), FunctionDef('test_showwarning_missing', arguments([Name('self', Param(), lineno=489, col_offset=33)], None, None, []), [Assign([Name('text', Store(), lineno=491, col_offset=8)], Str('del showwarning test', lineno=491, col_offset=15), lineno=491, col_offset=8), With(Call(Attribute(Name('original_warnings', Load(), lineno=492, col_offset=13), 'catch_warnings', Load(), lineno=492, col_offset=13), [], [keyword('module', Attribute(Name('self', Load(), lineno=492, col_offset=53), 'module', Load(), lineno=492, col_offset=53))], None, None, lineno=492, col_offset=13), None, [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=493, col_offset=12), 'module', Load(), lineno=493, col_offset=12), 'filterwarnings', Load(), lineno=493, col_offset=12), [Str('always', lineno=493, col_offset=39)], [keyword('category', Name('UserWarning', Load(), lineno=493, col_offset=58))], None, None, lineno=493, col_offset=12), lineno=493, col_offset=12), Delete([Attribute(Attribute(Name('self', Load(), lineno=494, col_offset=16), 'module', Load(), lineno=494, col_offset=16), 'showwarning', Del(), lineno=494, col_offset=16)], lineno=494, col_offset=12), With(Call(Attribute(Name('test_support', Load(), lineno=495, col_offset=17), 'captured_output', Load(), lineno=495, col_offset=17), [Str('stderr', lineno=495, col_offset=46)], [], None, None, lineno=495, col_offset=17), Name('stream', Store(), lineno=495, col_offset=59), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=496, col_offset=16), 'module', Load(), lineno=496, col_offset=16), 'warn', Load(), lineno=496, col_offset=16), [Name('text', Load(), lineno=496, col_offset=33)], [], None, None, lineno=496, col_offset=16), lineno=496, col_offset=16), Assign([Name('result', Store(), lineno=497, col_offset=16)], Call(Attribute(Name('stream', Load(), lineno=497, col_offset=25), 'getvalue', Load(), lineno=497, col_offset=25), [], [], None, None, lineno=497, col_offset=25), lineno=497, col_offset=16)], lineno=495, col_offset=17)], lineno=492, col_offset=13), Expr(Call(Attribute(Name('self', Load(), lineno=498, col_offset=8), 'assertIn', Load(), lineno=498, col_offset=8), [Name('text', Load(), lineno=498, col_offset=22), Name('result', Load(), lineno=498, col_offset=28)], [], None, None, lineno=498, col_offset=8), lineno=498, col_offset=8)], [], lineno=489, col_offset=4), FunctionDef('test_showwarning_not_callable', arguments([Name('self', Param(), lineno=500, col_offset=38)], None, None, []), [With(Call(Attribute(Name('original_warnings', Load(), lineno=501, col_offset=13), 'catch_warnings', Load(), lineno=501, col_offset=13), [], [keyword('module', Attribute(Name('self', Load(), lineno=501, col_offset=53), 'module', Load(), lineno=501, col_offset=53))], None, None, lineno=501, col_offset=13), None, [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=502, col_offset=12), 'module', Load(), lineno=502, col_offset=12), 'filterwarnings', Load(), lineno=502, col_offset=12), [Str('always', lineno=502, col_offset=39)], [keyword('category', Name('UserWarning', Load(), lineno=502, col_offset=58))], None, None, lineno=502, col_offset=12), lineno=502, col_offset=12), Assign([Name('old_showwarning', Store(), lineno=503, col_offset=12)], Attribute(Attribute(Name('self', Load(), lineno=503, col_offset=30), 'module', Load(), lineno=503, col_offset=30), 'showwarning', Load(), lineno=503, col_offset=30), lineno=503, col_offset=12), Assign([Attribute(Attribute(Name('self', Load(), lineno=504, col_offset=12), 'module', Load(), lineno=504, col_offset=12), 'showwarning', Store(), lineno=504, col_offset=12)], Num(23, lineno=504, col_offset=38), lineno=504, col_offset=12), TryFinally([Expr(Call(Attribute(Name('self', Load(), lineno=506, col_offset=16), 'assertRaises', Load(), lineno=506, col_offset=16), [Name('TypeError', Load(), lineno=506, col_offset=34), Attribute(Attribute(Name('self', Load(), lineno=506, col_offset=45), 'module', Load(), lineno=506, col_offset=45), 'warn', Load(), lineno=506, col_offset=45), Str('Warning!', lineno=506, col_offset=63)], [], None, None, lineno=506, col_offset=16), lineno=506, col_offset=16)], [Assign([Attribute(Attribute(Name('self', Load(), lineno=508, col_offset=16), 'module', Load(), lineno=508, col_offset=16), 'showwarning', Store(), lineno=508, col_offset=16)], Name('old_showwarning', Load(), lineno=508, col_offset=42), lineno=508, col_offset=16)], lineno=505, col_offset=12)], lineno=501, col_offset=13)], [], lineno=500, col_offset=4), FunctionDef('test_show_warning_output', arguments([Name('self', Param(), lineno=510, col_offset=33)], None, None, []), [Assign([Name('text', Store(), lineno=512, col_offset=8)], Str('test show_warning', lineno=512, col_offset=15), lineno=512, col_offset=8), With(Call(Attribute(Name('original_warnings', Load(), lineno=513, col_offset=13), 'catch_warnings', Load(), lineno=513, col_offset=13), [], [keyword('module', Attribute(Name('self', Load(), lineno=513, col_offset=53), 'module', Load(), lineno=513, col_offset=53))], None, None, lineno=513, col_offset=13), None, [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=514, col_offset=12), 'module', Load(), lineno=514, col_offset=12), 'filterwarnings', Load(), lineno=514, col_offset=12), [Str('always', lineno=514, col_offset=39)], [keyword('category', Name('UserWarning', Load(), lineno=514, col_offset=58))], None, None, lineno=514, col_offset=12), lineno=514, col_offset=12), Delete([Attribute(Attribute(Name('self', Load(), lineno=515, col_offset=16), 'module', Load(), lineno=515, col_offset=16), 'showwarning', Del(), lineno=515, col_offset=16)], lineno=515, col_offset=12), With(Call(Attribute(Name('test_support', Load(), lineno=516, col_offset=17), 'captured_output', Load(), lineno=516, col_offset=17), [Str('stderr', lineno=516, col_offset=46)], [], None, None, lineno=516, col_offset=17), Name('stream', Store(), lineno=516, col_offset=59), [Expr(Call(Attribute(Name('warning_tests', Load(), lineno=517, col_offset=16), 'inner', Load(), lineno=517, col_offset=16), [Name('text', Load(), lineno=517, col_offset=36)], [], None, None, lineno=517, col_offset=16), lineno=517, col_offset=16), Assign([Name('result', Store(), lineno=518, col_offset=16)], Call(Attribute(Name('stream', Load(), lineno=518, col_offset=25), 'getvalue', Load(), lineno=518, col_offset=25), [], [], None, None, lineno=518, col_offset=25), lineno=518, col_offset=16)], lineno=516, col_offset=17)], lineno=513, col_offset=13), Expr(Call(Attribute(Name('self', Load(), lineno=519, col_offset=8), 'assertEqual', Load(), lineno=519, col_offset=8), [Call(Attribute(Name('result', Load(), lineno=519, col_offset=25), 'count', Load(), lineno=519, col_offset=25), [Str('\n', lineno=519, col_offset=38)], [], None, None, lineno=519, col_offset=25), Num(2, lineno=519, col_offset=45), BinOp(Str('Too many newlines in %r', lineno=520, col_offset=29), Mod(), Name('result', Load(), lineno=520, col_offset=57), lineno=520, col_offset=29)], [], None, None, lineno=519, col_offset=8), lineno=519, col_offset=8), Assign([Tuple([Name('first_line', Store(), lineno=521, col_offset=8), Name('second_line', Store(), lineno=521, col_offset=20)], Store(), lineno=521, col_offset=8)], Call(Attribute(Name('result', Load(), lineno=521, col_offset=34), 'split', Load(), lineno=521, col_offset=34), [Str('\n', lineno=521, col_offset=47), Num(1, lineno=521, col_offset=53)], [], None, None, lineno=521, col_offset=34), lineno=521, col_offset=8), Assign([Name('expected_file', Store(), lineno=522, col_offset=8)], BinOp(Subscript(Call(Attribute(Attribute(Name('os', Load(), lineno=522, col_offset=24), 'path', Load(), lineno=522, col_offset=24), 'splitext', Load(), lineno=522, col_offset=24), [Attribute(Name('warning_tests', Load(), lineno=522, col_offset=41), '__file__', Load(), lineno=522, col_offset=41)], [], None, None, lineno=522, col_offset=24), Index(Num(0, lineno=522, col_offset=65)), Load(), lineno=522, col_offset=24), Add(), Str('.py', lineno=522, col_offset=70), lineno=522, col_offset=24), lineno=522, col_offset=8), Assign([Name('first_line_parts', Store(), lineno=523, col_offset=8)], Call(Attribute(Name('first_line', Load(), lineno=523, col_offset=27), 'rsplit', Load(), lineno=523, col_offset=27), [Str(':', lineno=523, col_offset=45), Num(3, lineno=523, col_offset=50)], [], None, None, lineno=523, col_offset=27), lineno=523, col_offset=8), Assign([Tuple([Name('path', Store(), lineno=524, col_offset=8), Name('line', Store(), lineno=524, col_offset=14), Name('warning_class', Store(), lineno=524, col_offset=20), Name('message', Store(), lineno=524, col_offset=35)], Store(), lineno=524, col_offset=8)], Name('first_line_parts', Load(), lineno=524, col_offset=45), lineno=524, col_offset=8), Assign([Name('line', Store(), lineno=525, col_offset=8)], Call(Name('int', Load(), lineno=525, col_offset=15), [Name('line', Load(), lineno=525, col_offset=19)], [], None, None, lineno=525, col_offset=15), lineno=525, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=526, col_offset=8), 'assertEqual', Load(), lineno=526, col_offset=8), [Name('expected_file', Load(), lineno=526, col_offset=25), Name('path', Load(), lineno=526, col_offset=40)], [], None, None, lineno=526, col_offset=8), lineno=526, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=527, col_offset=8), 'assertEqual', Load(), lineno=527, col_offset=8), [Name('warning_class', Load(), lineno=527, col_offset=25), BinOp(Str(' ', lineno=527, col_offset=40), Add(), Attribute(Name('UserWarning', Load(), lineno=527, col_offset=46), '__name__', Load(), lineno=527, col_offset=46), lineno=527, col_offset=40)], [], None, None, lineno=527, col_offset=8), lineno=527, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=528, col_offset=8), 'assertEqual', Load(), lineno=528, col_offset=8), [Name('message', Load(), lineno=528, col_offset=25), BinOp(Str(' ', lineno=528, col_offset=34), Add(), Name('text', Load(), lineno=528, col_offset=40), lineno=528, col_offset=34)], [], None, None, lineno=528, col_offset=8), lineno=528, col_offset=8), Assign([Name('expected_line', Store(), lineno=529, col_offset=8)], BinOp(BinOp(Str('  ', lineno=529, col_offset=24), Add(), Call(Attribute(Call(Attribute(Name('linecache', Load(), lineno=529, col_offset=31), 'getline', Load(), lineno=529, col_offset=31), [Name('path', Load(), lineno=529, col_offset=49), Name('line', Load(), lineno=529, col_offset=55)], [], None, None, lineno=529, col_offset=31), 'strip', Load(), lineno=529, col_offset=31), [], [], None, None, lineno=529, col_offset=31), lineno=529, col_offset=24), Add(), Str('\n', lineno=529, col_offset=71), lineno=529, col_offset=69), lineno=529, col_offset=8), Assert(Name('expected_line', Load(), lineno=530, col_offset=15), None, lineno=530, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=531, col_offset=8), 'assertEqual', Load(), lineno=531, col_offset=8), [Name('second_line', Load(), lineno=531, col_offset=25), Name('expected_line', Load(), lineno=531, col_offset=38)], [], None, None, lineno=531, col_offset=8), lineno=531, col_offset=8)], [], lineno=510, col_offset=4)], [], lineno=408, col_offset=0), ClassDef('WarningsDisplayTests', [Attribute(Name('unittest', Load(), lineno=534, col_offset=27), 'TestCase', Load(), lineno=534, col_offset=27)], [Expr(Str('Test the displaying of warnings and the ability to overload functions\n    related to displaying warnings.', lineno=537, col_offset=-1), lineno=537, col_offset=-1), FunctionDef('test_formatwarning', arguments([Name('self', Param(), lineno=539, col_offset=27)], None, None, []), [Assign([Name('message', Store(), lineno=540, col_offset=8)], Str('msg', lineno=540, col_offset=18), lineno=540, col_offset=8), Assign([Name('category', Store(), lineno=541, col_offset=8)], Name('Warning', Load(), lineno=541, col_offset=19), lineno=541, col_offset=8), Assign([Name('file_name', Store(), lineno=542, col_offset=8)], BinOp(Subscript(Call(Attribute(Attribute(Name('os', Load(), lineno=542, col_offset=20), 'path', Load(), lineno=542, col_offset=20), 'splitext', Load(), lineno=542, col_offset=20), [Attribute(Name('warning_tests', Load(), lineno=542, col_offset=37), '__file__', Load(), lineno=542, col_offset=37)], [], None, None, lineno=542, col_offset=20), Index(Num(0, lineno=542, col_offset=61)), Load(), lineno=542, col_offset=20), Add(), Str('.py', lineno=542, col_offset=66), lineno=542, col_offset=20), lineno=542, col_offset=8), Assign([Name('line_num', Store(), lineno=543, col_offset=8)], Num(3, lineno=543, col_offset=19), lineno=543, col_offset=8), Assign([Name('file_line', Store(), lineno=544, col_offset=8)], Call(Attribute(Call(Attribute(Name('linecache', Load(), lineno=544, col_offset=20), 'getline', Load(), lineno=544, col_offset=20), [Name('file_name', Load(), lineno=544, col_offset=38), Name('line_num', Load(), lineno=544, col_offset=49)], [], None, None, lineno=544, col_offset=20), 'strip', Load(), lineno=544, col_offset=20), [], [], None, None, lineno=544, col_offset=20), lineno=544, col_offset=8), Assign([Name('format', Store(), lineno=545, col_offset=8)], Str('%s:%s: %s: %s\n  %s\n', lineno=545, col_offset=17), lineno=545, col_offset=8), Assign([Name('expect', Store(), lineno=546, col_offset=8)], BinOp(Name('format', Load(), lineno=546, col_offset=17), Mod(), Tuple([Name('file_name', Load(), lineno=546, col_offset=27), Name('line_num', Load(), lineno=546, col_offset=38), Attribute(Name('category', Load(), lineno=546, col_offset=48), '__name__', Load(), lineno=546, col_offset=48), Name('message', Load(), lineno=546, col_offset=67), Name('file_line', Load(), lineno=547, col_offset=28)], Load(), lineno=546, col_offset=27), lineno=546, col_offset=17), lineno=546, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=548, col_offset=8), 'assertEqual', Load(), lineno=548, col_offset=8), [Name('expect', Load(), lineno=548, col_offset=25), Call(Attribute(Attribute(Name('self', Load(), lineno=548, col_offset=33), 'module', Load(), lineno=548, col_offset=33), 'formatwarning', Load(), lineno=548, col_offset=33), [Name('message', Load(), lineno=548, col_offset=59), Name('category', Load(), lineno=549, col_offset=48), Name('file_name', Load(), lineno=549, col_offset=58), Name('line_num', Load(), lineno=549, col_offset=69)], [], None, None, lineno=548, col_offset=33)], [], None, None, lineno=548, col_offset=8), lineno=548, col_offset=8), AugAssign(Name('file_line', Store(), lineno=551, col_offset=8), Add(), Str(' for the win!', lineno=551, col_offset=21), lineno=551, col_offset=8), Assign([Name('expect', Store(), lineno=552, col_offset=8)], BinOp(Name('format', Load(), lineno=552, col_offset=17), Mod(), Tuple([Name('file_name', Load(), lineno=552, col_offset=27), Name('line_num', Load(), lineno=552, col_offset=38), Attribute(Name('category', Load(), lineno=552, col_offset=48), '__name__', Load(), lineno=552, col_offset=48), Name('message', Load(), lineno=552, col_offset=67), Name('file_line', Load(), lineno=553, col_offset=28)], Load(), lineno=552, col_offset=27), lineno=552, col_offset=17), lineno=552, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=554, col_offset=8), 'assertEqual', Load(), lineno=554, col_offset=8), [Name('expect', Load(), lineno=554, col_offset=25), Call(Attribute(Attribute(Name('self', Load(), lineno=554, col_offset=33), 'module', Load(), lineno=554, col_offset=33), 'formatwarning', Load(), lineno=554, col_offset=33), [Name('message', Load(), lineno=554, col_offset=59), Name('category', Load(), lineno=555, col_offset=36), Name('file_name', Load(), lineno=555, col_offset=46), Name('line_num', Load(), lineno=555, col_offset=57), Name('file_line', Load(), lineno=555, col_offset=67)], [], None, None, lineno=554, col_offset=33)], [], None, None, lineno=554, col_offset=8), lineno=554, col_offset=8)], [], lineno=539, col_offset=4), FunctionDef('test_showwarning', arguments([Name('self', Param(), lineno=557, col_offset=25)], None, None, []), [Assign([Name('file_name', Store(), lineno=558, col_offset=8)], BinOp(Subscript(Call(Attribute(Attribute(Name('os', Load(), lineno=558, col_offset=20), 'path', Load(), lineno=558, col_offset=20), 'splitext', Load(), lineno=558, col_offset=20), [Attribute(Name('warning_tests', Load(), lineno=558, col_offset=37), '__file__', Load(), lineno=558, col_offset=37)], [], None, None, lineno=558, col_offset=20), Index(Num(0, lineno=558, col_offset=61)), Load(), lineno=558, col_offset=20), Add(), Str('.py', lineno=558, col_offset=66), lineno=558, col_offset=20), lineno=558, col_offset=8), Assign([Name('line_num', Store(), lineno=559, col_offset=8)], Num(3, lineno=559, col_offset=19), lineno=559, col_offset=8), Assign([Name('expected_file_line', Store(), lineno=560, col_offset=8)], Call(Attribute(Call(Attribute(Name('linecache', Load(), lineno=560, col_offset=29), 'getline', Load(), lineno=560, col_offset=29), [Name('file_name', Load(), lineno=560, col_offset=47), Name('line_num', Load(), lineno=560, col_offset=58)], [], None, None, lineno=560, col_offset=29), 'strip', Load(), lineno=560, col_offset=29), [], [], None, None, lineno=560, col_offset=29), lineno=560, col_offset=8), Assign([Name('message', Store(), lineno=561, col_offset=8)], Str('msg', lineno=561, col_offset=18), lineno=561, col_offset=8), Assign([Name('category', Store(), lineno=562, col_offset=8)], Name('Warning', Load(), lineno=562, col_offset=19), lineno=562, col_offset=8), Assign([Name('file_object', Store(), lineno=563, col_offset=8)], Call(Attribute(Name('StringIO', Load(), lineno=563, col_offset=22), 'StringIO', Load(), lineno=563, col_offset=22), [], [], None, None, lineno=563, col_offset=22), lineno=563, col_offset=8), Assign([Name('expect', Store(), lineno=564, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=564, col_offset=17), 'module', Load(), lineno=564, col_offset=17), 'formatwarning', Load(), lineno=564, col_offset=17), [Name('message', Load(), lineno=564, col_offset=43), Name('category', Load(), lineno=564, col_offset=52), Name('file_name', Load(), lineno=564, col_offset=62), Name('line_num', Load(), lineno=565, col_offset=44)], [], None, None, lineno=564, col_offset=17), lineno=564, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=566, col_offset=8), 'module', Load(), lineno=566, col_offset=8), 'showwarning', Load(), lineno=566, col_offset=8), [Name('message', Load(), lineno=566, col_offset=32), Name('category', Load(), lineno=566, col_offset=41), Name('file_name', Load(), lineno=566, col_offset=51), Name('line_num', Load(), lineno=566, col_offset=62), Name('file_object', Load(), lineno=567, col_offset=32)], [], None, None, lineno=566, col_offset=8), lineno=566, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=568, col_offset=8), 'assertEqual', Load(), lineno=568, col_offset=8), [Call(Attribute(Name('file_object', Load(), lineno=568, col_offset=25), 'getvalue', Load(), lineno=568, col_offset=25), [], [], None, None, lineno=568, col_offset=25), Name('expect', Load(), lineno=568, col_offset=49)], [], None, None, lineno=568, col_offset=8), lineno=568, col_offset=8), AugAssign(Name('expected_file_line', Store(), lineno=570, col_offset=8), Add(), Str('for the win!', lineno=570, col_offset=30), lineno=570, col_offset=8), Assign([Name('expect', Store(), lineno=571, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=571, col_offset=17), 'module', Load(), lineno=571, col_offset=17), 'formatwarning', Load(), lineno=571, col_offset=17), [Name('message', Load(), lineno=571, col_offset=43), Name('category', Load(), lineno=571, col_offset=52), Name('file_name', Load(), lineno=571, col_offset=62), Name('line_num', Load(), lineno=572, col_offset=44), Name('expected_file_line', Load(), lineno=572, col_offset=54)], [], None, None, lineno=571, col_offset=17), lineno=571, col_offset=8), Assign([Name('file_object', Store(), lineno=573, col_offset=8)], Call(Attribute(Name('StringIO', Load(), lineno=573, col_offset=22), 'StringIO', Load(), lineno=573, col_offset=22), [], [], None, None, lineno=573, col_offset=22), lineno=573, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=574, col_offset=8), 'module', Load(), lineno=574, col_offset=8), 'showwarning', Load(), lineno=574, col_offset=8), [Name('message', Load(), lineno=574, col_offset=32), Name('category', Load(), lineno=574, col_offset=41), Name('file_name', Load(), lineno=574, col_offset=51), Name('line_num', Load(), lineno=574, col_offset=62), Name('file_object', Load(), lineno=575, col_offset=32), Name('expected_file_line', Load(), lineno=575, col_offset=45)], [], None, None, lineno=574, col_offset=8), lineno=574, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=576, col_offset=8), 'assertEqual', Load(), lineno=576, col_offset=8), [Name('expect', Load(), lineno=576, col_offset=25), Call(Attribute(Name('file_object', Load(), lineno=576, col_offset=33), 'getvalue', Load(), lineno=576, col_offset=33), [], [], None, None, lineno=576, col_offset=33)], [], None, None, lineno=576, col_offset=8), lineno=576, col_offset=8)], [], lineno=557, col_offset=4)], [], lineno=534, col_offset=0), ClassDef('CWarningsDisplayTests', [Name('BaseTest', Load(), lineno=578, col_offset=28), Name('WarningsDisplayTests', Load(), lineno=578, col_offset=38)], [Assign([Name('module', Store(), lineno=579, col_offset=4)], Name('c_warnings', Load(), lineno=579, col_offset=13), lineno=579, col_offset=4)], [], lineno=578, col_offset=0), ClassDef('PyWarningsDisplayTests', [Name('BaseTest', Load(), lineno=581, col_offset=29), Name('WarningsDisplayTests', Load(), lineno=581, col_offset=39)], [Assign([Name('module', Store(), lineno=582, col_offset=4)], Name('py_warnings', Load(), lineno=582, col_offset=13), lineno=582, col_offset=4)], [], lineno=581, col_offset=0), ClassDef('CatchWarningTests', [Name('BaseTest', Load(), lineno=585, col_offset=24)], [Expr(Str('Test catch_warnings().', lineno=587, col_offset=4), lineno=587, col_offset=4), FunctionDef('test_catch_warnings_restore', arguments([Name('self', Param(), lineno=589, col_offset=36)], None, None, []), [Assign([Name('wmod', Store(), lineno=590, col_offset=8)], Attribute(Name('self', Load(), lineno=590, col_offset=15), 'module', Load(), lineno=590, col_offset=15), lineno=590, col_offset=8), Assign([Name('orig_filters', Store(), lineno=591, col_offset=8)], Attribute(Name('wmod', Load(), lineno=591, col_offset=23), 'filters', Load(), lineno=591, col_offset=23), lineno=591, col_offset=8), Assign([Name('orig_showwarning', Store(), lineno=592, col_offset=8)], Attribute(Name('wmod', Load(), lineno=592, col_offset=27), 'showwarning', Load(), lineno=592, col_offset=27), lineno=592, col_offset=8), With(Call(Attribute(Name('wmod', Load(), lineno=594, col_offset=13), 'catch_warnings', Load(), lineno=594, col_offset=13), [], [keyword('module', Name('wmod', Load(), lineno=594, col_offset=40)), keyword('record', Name('True', Load(), lineno=594, col_offset=53))], None, None, lineno=594, col_offset=13), None, [Assign([Attribute(Name('wmod', Load(), lineno=595, col_offset=12), 'filters', Store(), lineno=595, col_offset=12), Attribute(Name('wmod', Load(), lineno=595, col_offset=27), 'showwarning', Store(), lineno=595, col_offset=27)], Call(Name('object', Load(), lineno=595, col_offset=46), [], [], None, None, lineno=595, col_offset=46), lineno=595, col_offset=12)], lineno=594, col_offset=13), Expr(Call(Attribute(Name('self', Load(), lineno=596, col_offset=8), 'assertTrue', Load(), lineno=596, col_offset=8), [Compare(Attribute(Name('wmod', Load(), lineno=596, col_offset=24), 'filters', Load(), lineno=596, col_offset=24), [Is()], [Name('orig_filters', Load(), lineno=596, col_offset=40)], lineno=596, col_offset=24)], [], None, None, lineno=596, col_offset=8), lineno=596, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=597, col_offset=8), 'assertTrue', Load(), lineno=597, col_offset=8), [Compare(Attribute(Name('wmod', Load(), lineno=597, col_offset=24), 'showwarning', Load(), lineno=597, col_offset=24), [Is()], [Name('orig_showwarning', Load(), lineno=597, col_offset=44)], lineno=597, col_offset=24)], [], None, None, lineno=597, col_offset=8), lineno=597, col_offset=8), With(Call(Attribute(Name('wmod', Load(), lineno=599, col_offset=13), 'catch_warnings', Load(), lineno=599, col_offset=13), [], [keyword('module', Name('wmod', Load(), lineno=599, col_offset=40)), keyword('record', Name('False', Load(), lineno=599, col_offset=53))], None, None, lineno=599, col_offset=13), None, [Assign([Attribute(Name('wmod', Load(), lineno=600, col_offset=12), 'filters', Store(), lineno=600, col_offset=12), Attribute(Name('wmod', Load(), lineno=600, col_offset=27), 'showwarning', Store(), lineno=600, col_offset=27)], Call(Name('object', Load(), lineno=600, col_offset=46), [], [], None, None, lineno=600, col_offset=46), lineno=600, col_offset=12)], lineno=599, col_offset=13), Expr(Call(Attribute(Name('self', Load(), lineno=601, col_offset=8), 'assertTrue', Load(), lineno=601, col_offset=8), [Compare(Attribute(Name('wmod', Load(), lineno=601, col_offset=24), 'filters', Load(), lineno=601, col_offset=24), [Is()], [Name('orig_filters', Load(), lineno=601, col_offset=40)], lineno=601, col_offset=24)], [], None, None, lineno=601, col_offset=8), lineno=601, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=602, col_offset=8), 'assertTrue', Load(), lineno=602, col_offset=8), [Compare(Attribute(Name('wmod', Load(), lineno=602, col_offset=24), 'showwarning', Load(), lineno=602, col_offset=24), [Is()], [Name('orig_showwarning', Load(), lineno=602, col_offset=44)], lineno=602, col_offset=24)], [], None, None, lineno=602, col_offset=8), lineno=602, col_offset=8)], [], lineno=589, col_offset=4), FunctionDef('test_catch_warnings_recording', arguments([Name('self', Param(), lineno=604, col_offset=38)], None, None, []), [Assign([Name('wmod', Store(), lineno=605, col_offset=8)], Attribute(Name('self', Load(), lineno=605, col_offset=15), 'module', Load(), lineno=605, col_offset=15), lineno=605, col_offset=8), With(Call(Attribute(Name('wmod', Load(), lineno=607, col_offset=13), 'catch_warnings', Load(), lineno=607, col_offset=13), [], [keyword('module', Name('wmod', Load(), lineno=607, col_offset=40)), keyword('record', Name('True', Load(), lineno=607, col_offset=53))], None, None, lineno=607, col_offset=13), Name('w', Store(), lineno=607, col_offset=62), [Expr(Call(Attribute(Name('self', Load(), lineno=608, col_offset=12), 'assertEqual', Load(), lineno=608, col_offset=12), [Name('w', Load(), lineno=608, col_offset=29), List([], Load(), lineno=608, col_offset=32)], [], None, None, lineno=608, col_offset=12), lineno=608, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=609, col_offset=12), 'assertTrue', Load(), lineno=609, col_offset=12), [Compare(Call(Name('type', Load(), lineno=609, col_offset=28), [Name('w', Load(), lineno=609, col_offset=33)], [], None, None, lineno=609, col_offset=28), [Is()], [Name('list', Load(), lineno=609, col_offset=39)], lineno=609, col_offset=28)], [], None, None, lineno=609, col_offset=12), lineno=609, col_offset=12), Expr(Call(Attribute(Name('wmod', Load(), lineno=610, col_offset=12), 'simplefilter', Load(), lineno=610, col_offset=12), [Str('always', lineno=610, col_offset=30)], [], None, None, lineno=610, col_offset=12), lineno=610, col_offset=12), Expr(Call(Attribute(Name('wmod', Load(), lineno=611, col_offset=12), 'warn', Load(), lineno=611, col_offset=12), [Str('foo', lineno=611, col_offset=22)], [], None, None, lineno=611, col_offset=12), lineno=611, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=612, col_offset=12), 'assertEqual', Load(), lineno=612, col_offset=12), [Call(Name('str', Load(), lineno=612, col_offset=29), [Attribute(Subscript(Name('w', Load(), lineno=612, col_offset=33), Index(Num(-1, lineno=612, col_offset=36)), Load(), lineno=612, col_offset=33), 'message', Load(), lineno=612, col_offset=33)], [], None, None, lineno=612, col_offset=29), Str('foo', lineno=612, col_offset=49)], [], None, None, lineno=612, col_offset=12), lineno=612, col_offset=12), Expr(Call(Attribute(Name('wmod', Load(), lineno=613, col_offset=12), 'warn', Load(), lineno=613, col_offset=12), [Str('bar', lineno=613, col_offset=22)], [], None, None, lineno=613, col_offset=12), lineno=613, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=614, col_offset=12), 'assertEqual', Load(), lineno=614, col_offset=12), [Call(Name('str', Load(), lineno=614, col_offset=29), [Attribute(Subscript(Name('w', Load(), lineno=614, col_offset=33), Index(Num(-1, lineno=614, col_offset=36)), Load(), lineno=614, col_offset=33), 'message', Load(), lineno=614, col_offset=33)], [], None, None, lineno=614, col_offset=29), Str('bar', lineno=614, col_offset=49)], [], None, None, lineno=614, col_offset=12), lineno=614, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=615, col_offset=12), 'assertEqual', Load(), lineno=615, col_offset=12), [Call(Name('str', Load(), lineno=615, col_offset=29), [Attribute(Subscript(Name('w', Load(), lineno=615, col_offset=33), Index(Num(0, lineno=615, col_offset=35)), Load(), lineno=615, col_offset=33), 'message', Load(), lineno=615, col_offset=33)], [], None, None, lineno=615, col_offset=29), Str('foo', lineno=615, col_offset=48)], [], None, None, lineno=615, col_offset=12), lineno=615, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=616, col_offset=12), 'assertEqual', Load(), lineno=616, col_offset=12), [Call(Name('str', Load(), lineno=616, col_offset=29), [Attribute(Subscript(Name('w', Load(), lineno=616, col_offset=33), Index(Num(1, lineno=616, col_offset=35)), Load(), lineno=616, col_offset=33), 'message', Load(), lineno=616, col_offset=33)], [], None, None, lineno=616, col_offset=29), Str('bar', lineno=616, col_offset=48)], [], None, None, lineno=616, col_offset=12), lineno=616, col_offset=12), Delete([Subscript(Name('w', Load(), lineno=617, col_offset=16), Slice(None, None, None), Del(), lineno=617, col_offset=16)], lineno=617, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=618, col_offset=12), 'assertEqual', Load(), lineno=618, col_offset=12), [Name('w', Load(), lineno=618, col_offset=29), List([], Load(), lineno=618, col_offset=32)], [], None, None, lineno=618, col_offset=12), lineno=618, col_offset=12)], lineno=607, col_offset=13), Assign([Name('orig_showwarning', Store(), lineno=620, col_offset=8)], Attribute(Name('wmod', Load(), lineno=620, col_offset=27), 'showwarning', Load(), lineno=620, col_offset=27), lineno=620, col_offset=8), With(Call(Attribute(Name('wmod', Load(), lineno=621, col_offset=13), 'catch_warnings', Load(), lineno=621, col_offset=13), [], [keyword('module', Name('wmod', Load(), lineno=621, col_offset=40)), keyword('record', Name('False', Load(), lineno=621, col_offset=53))], None, None, lineno=621, col_offset=13), Name('w', Store(), lineno=621, col_offset=63), [Expr(Call(Attribute(Name('self', Load(), lineno=622, col_offset=12), 'assertTrue', Load(), lineno=622, col_offset=12), [Compare(Name('w', Load(), lineno=622, col_offset=28), [Is()], [Name('None', Load(), lineno=622, col_offset=33)], lineno=622, col_offset=28)], [], None, None, lineno=622, col_offset=12), lineno=622, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=623, col_offset=12), 'assertTrue', Load(), lineno=623, col_offset=12), [Compare(Attribute(Name('wmod', Load(), lineno=623, col_offset=28), 'showwarning', Load(), lineno=623, col_offset=28), [Is()], [Name('orig_showwarning', Load(), lineno=623, col_offset=48)], lineno=623, col_offset=28)], [], None, None, lineno=623, col_offset=12), lineno=623, col_offset=12)], lineno=621, col_offset=13)], [], lineno=604, col_offset=4), FunctionDef('test_catch_warnings_reentry_guard', arguments([Name('self', Param(), lineno=625, col_offset=42)], None, None, []), [Assign([Name('wmod', Store(), lineno=626, col_offset=8)], Attribute(Name('self', Load(), lineno=626, col_offset=15), 'module', Load(), lineno=626, col_offset=15), lineno=626, col_offset=8), Assign([Name('x', Store(), lineno=628, col_offset=8)], Call(Attribute(Name('wmod', Load(), lineno=628, col_offset=12), 'catch_warnings', Load(), lineno=628, col_offset=12), [], [keyword('module', Name('wmod', Load(), lineno=628, col_offset=39)), keyword('record', Name('True', Load(), lineno=628, col_offset=52))], None, None, lineno=628, col_offset=12), lineno=628, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=629, col_offset=8), 'assertRaises', Load(), lineno=629, col_offset=8), [Name('RuntimeError', Load(), lineno=629, col_offset=26), Attribute(Name('x', Load(), lineno=629, col_offset=40), '__exit__', Load(), lineno=629, col_offset=40)], [], None, None, lineno=629, col_offset=8), lineno=629, col_offset=8), With(Name('x', Load(), lineno=630, col_offset=13), None, [Expr(Call(Attribute(Name('self', Load(), lineno=631, col_offset=12), 'assertRaises', Load(), lineno=631, col_offset=12), [Name('RuntimeError', Load(), lineno=631, col_offset=30), Attribute(Name('x', Load(), lineno=631, col_offset=44), '__enter__', Load(), lineno=631, col_offset=44)], [], None, None, lineno=631, col_offset=12), lineno=631, col_offset=12)], lineno=630, col_offset=13), Assign([Name('x', Store(), lineno=633, col_offset=8)], Call(Attribute(Name('wmod', Load(), lineno=633, col_offset=12), 'catch_warnings', Load(), lineno=633, col_offset=12), [], [keyword('module', Name('wmod', Load(), lineno=633, col_offset=39)), keyword('record', Name('False', Load(), lineno=633, col_offset=52))], None, None, lineno=633, col_offset=12), lineno=633, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=634, col_offset=8), 'assertRaises', Load(), lineno=634, col_offset=8), [Name('RuntimeError', Load(), lineno=634, col_offset=26), Attribute(Name('x', Load(), lineno=634, col_offset=40), '__exit__', Load(), lineno=634, col_offset=40)], [], None, None, lineno=634, col_offset=8), lineno=634, col_offset=8), With(Name('x', Load(), lineno=635, col_offset=13), None, [Expr(Call(Attribute(Name('self', Load(), lineno=636, col_offset=12), 'assertRaises', Load(), lineno=636, col_offset=12), [Name('RuntimeError', Load(), lineno=636, col_offset=30), Attribute(Name('x', Load(), lineno=636, col_offset=44), '__enter__', Load(), lineno=636, col_offset=44)], [], None, None, lineno=636, col_offset=12), lineno=636, col_offset=12)], lineno=635, col_offset=13)], [], lineno=625, col_offset=4), FunctionDef('test_catch_warnings_defaults', arguments([Name('self', Param(), lineno=638, col_offset=37)], None, None, []), [Assign([Name('wmod', Store(), lineno=639, col_offset=8)], Attribute(Name('self', Load(), lineno=639, col_offset=15), 'module', Load(), lineno=639, col_offset=15), lineno=639, col_offset=8), Assign([Name('orig_filters', Store(), lineno=640, col_offset=8)], Attribute(Name('wmod', Load(), lineno=640, col_offset=23), 'filters', Load(), lineno=640, col_offset=23), lineno=640, col_offset=8), Assign([Name('orig_showwarning', Store(), lineno=641, col_offset=8)], Attribute(Name('wmod', Load(), lineno=641, col_offset=27), 'showwarning', Load(), lineno=641, col_offset=27), lineno=641, col_offset=8), With(Call(Attribute(Name('wmod', Load(), lineno=643, col_offset=13), 'catch_warnings', Load(), lineno=643, col_offset=13), [], [keyword('module', Name('wmod', Load(), lineno=643, col_offset=40))], None, None, lineno=643, col_offset=13), Name('w', Store(), lineno=643, col_offset=49), [Expr(Call(Attribute(Name('self', Load(), lineno=644, col_offset=12), 'assertTrue', Load(), lineno=644, col_offset=12), [Compare(Name('w', Load(), lineno=644, col_offset=28), [Is()], [Name('None', Load(), lineno=644, col_offset=33)], lineno=644, col_offset=28)], [], None, None, lineno=644, col_offset=12), lineno=644, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=645, col_offset=12), 'assertTrue', Load(), lineno=645, col_offset=12), [Compare(Attribute(Name('wmod', Load(), lineno=645, col_offset=28), 'showwarning', Load(), lineno=645, col_offset=28), [Is()], [Name('orig_showwarning', Load(), lineno=645, col_offset=48)], lineno=645, col_offset=28)], [], None, None, lineno=645, col_offset=12), lineno=645, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=646, col_offset=12), 'assertTrue', Load(), lineno=646, col_offset=12), [Compare(Attribute(Name('wmod', Load(), lineno=646, col_offset=28), 'filters', Load(), lineno=646, col_offset=28), [IsNot()], [Name('orig_filters', Load(), lineno=646, col_offset=48)], lineno=646, col_offset=28)], [], None, None, lineno=646, col_offset=12), lineno=646, col_offset=12)], lineno=643, col_offset=13), Expr(Call(Attribute(Name('self', Load(), lineno=647, col_offset=8), 'assertTrue', Load(), lineno=647, col_offset=8), [Compare(Attribute(Name('wmod', Load(), lineno=647, col_offset=24), 'filters', Load(), lineno=647, col_offset=24), [Is()], [Name('orig_filters', Load(), lineno=647, col_offset=40)], lineno=647, col_offset=24)], [], None, None, lineno=647, col_offset=8), lineno=647, col_offset=8), If(Compare(Name('wmod', Load(), lineno=648, col_offset=11), [Is()], [Subscript(Attribute(Name('sys', Load(), lineno=648, col_offset=19), 'modules', Load(), lineno=648, col_offset=19), Index(Str('warnings', lineno=648, col_offset=31)), Load(), lineno=648, col_offset=19)], lineno=648, col_offset=11), [With(Call(Attribute(Name('wmod', Load(), lineno=650, col_offset=17), 'catch_warnings', Load(), lineno=650, col_offset=17), [], [], None, None, lineno=650, col_offset=17), Name('w', Store(), lineno=650, col_offset=42), [Expr(Call(Attribute(Name('self', Load(), lineno=651, col_offset=16), 'assertTrue', Load(), lineno=651, col_offset=16), [Compare(Name('w', Load(), lineno=651, col_offset=32), [Is()], [Name('None', Load(), lineno=651, col_offset=37)], lineno=651, col_offset=32)], [], None, None, lineno=651, col_offset=16), lineno=651, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=652, col_offset=16), 'assertTrue', Load(), lineno=652, col_offset=16), [Compare(Attribute(Name('wmod', Load(), lineno=652, col_offset=32), 'showwarning', Load(), lineno=652, col_offset=32), [Is()], [Name('orig_showwarning', Load(), lineno=652, col_offset=52)], lineno=652, col_offset=32)], [], None, None, lineno=652, col_offset=16), lineno=652, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=653, col_offset=16), 'assertTrue', Load(), lineno=653, col_offset=16), [Compare(Attribute(Name('wmod', Load(), lineno=653, col_offset=32), 'filters', Load(), lineno=653, col_offset=32), [IsNot()], [Name('orig_filters', Load(), lineno=653, col_offset=52)], lineno=653, col_offset=32)], [], None, None, lineno=653, col_offset=16), lineno=653, col_offset=16)], lineno=650, col_offset=17), Expr(Call(Attribute(Name('self', Load(), lineno=654, col_offset=12), 'assertTrue', Load(), lineno=654, col_offset=12), [Compare(Attribute(Name('wmod', Load(), lineno=654, col_offset=28), 'filters', Load(), lineno=654, col_offset=28), [Is()], [Name('orig_filters', Load(), lineno=654, col_offset=44)], lineno=654, col_offset=28)], [], None, None, lineno=654, col_offset=12), lineno=654, col_offset=12)], [], lineno=648, col_offset=8)], [], lineno=638, col_offset=4), FunctionDef('test_check_warnings', arguments([Name('self', Param(), lineno=656, col_offset=28)], None, None, []), [Assign([Name('wmod', Store(), lineno=658, col_offset=8)], Attribute(Name('self', Load(), lineno=658, col_offset=15), 'module', Load(), lineno=658, col_offset=15), lineno=658, col_offset=8), If(Compare(Name('wmod', Load(), lineno=659, col_offset=11), [IsNot()], [Subscript(Attribute(Name('sys', Load(), lineno=659, col_offset=23), 'modules', Load(), lineno=659, col_offset=23), Index(Str('warnings', lineno=659, col_offset=35)), Load(), lineno=659, col_offset=23)], lineno=659, col_offset=11), [Return(None, lineno=660, col_offset=12)], [], lineno=659, col_offset=8), With(Call(Attribute(Name('test_support', Load(), lineno=661, col_offset=13), 'check_warnings', Load(), lineno=661, col_offset=13), [], [keyword('quiet', Name('False', Load(), lineno=661, col_offset=47))], None, None, lineno=661, col_offset=13), Name('w', Store(), lineno=661, col_offset=57), [Expr(Call(Attribute(Name('self', Load(), lineno=662, col_offset=12), 'assertEqual', Load(), lineno=662, col_offset=12), [Attribute(Name('w', Load(), lineno=662, col_offset=29), 'warnings', Load(), lineno=662, col_offset=29), List([], Load(), lineno=662, col_offset=41)], [], None, None, lineno=662, col_offset=12), lineno=662, col_offset=12), Expr(Call(Attribute(Name('wmod', Load(), lineno=663, col_offset=12), 'simplefilter', Load(), lineno=663, col_offset=12), [Str('always', lineno=663, col_offset=30)], [], None, None, lineno=663, col_offset=12), lineno=663, col_offset=12), Expr(Call(Attribute(Name('wmod', Load(), lineno=664, col_offset=12), 'warn', Load(), lineno=664, col_offset=12), [Str('foo', lineno=664, col_offset=22)], [], None, None, lineno=664, col_offset=12), lineno=664, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=665, col_offset=12), 'assertEqual', Load(), lineno=665, col_offset=12), [Call(Name('str', Load(), lineno=665, col_offset=29), [Attribute(Name('w', Load(), lineno=665, col_offset=33), 'message', Load(), lineno=665, col_offset=33)], [], None, None, lineno=665, col_offset=29), Str('foo', lineno=665, col_offset=45)], [], None, None, lineno=665, col_offset=12), lineno=665, col_offset=12), Expr(Call(Attribute(Name('wmod', Load(), lineno=666, col_offset=12), 'warn', Load(), lineno=666, col_offset=12), [Str('bar', lineno=666, col_offset=22)], [], None, None, lineno=666, col_offset=12), lineno=666, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=667, col_offset=12), 'assertEqual', Load(), lineno=667, col_offset=12), [Call(Name('str', Load(), lineno=667, col_offset=29), [Attribute(Name('w', Load(), lineno=667, col_offset=33), 'message', Load(), lineno=667, col_offset=33)], [], None, None, lineno=667, col_offset=29), Str('bar', lineno=667, col_offset=45)], [], None, None, lineno=667, col_offset=12), lineno=667, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=668, col_offset=12), 'assertEqual', Load(), lineno=668, col_offset=12), [Call(Name('str', Load(), lineno=668, col_offset=29), [Attribute(Subscript(Attribute(Name('w', Load(), lineno=668, col_offset=33), 'warnings', Load(), lineno=668, col_offset=33), Index(Num(0, lineno=668, col_offset=44)), Load(), lineno=668, col_offset=33), 'message', Load(), lineno=668, col_offset=33)], [], None, None, lineno=668, col_offset=29), Str('foo', lineno=668, col_offset=57)], [], None, None, lineno=668, col_offset=12), lineno=668, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=669, col_offset=12), 'assertEqual', Load(), lineno=669, col_offset=12), [Call(Name('str', Load(), lineno=669, col_offset=29), [Attribute(Subscript(Attribute(Name('w', Load(), lineno=669, col_offset=33), 'warnings', Load(), lineno=669, col_offset=33), Index(Num(1, lineno=669, col_offset=44)), Load(), lineno=669, col_offset=33), 'message', Load(), lineno=669, col_offset=33)], [], None, None, lineno=669, col_offset=29), Str('bar', lineno=669, col_offset=57)], [], None, None, lineno=669, col_offset=12), lineno=669, col_offset=12), Expr(Call(Attribute(Name('w', Load(), lineno=670, col_offset=12), 'reset', Load(), lineno=670, col_offset=12), [], [], None, None, lineno=670, col_offset=12), lineno=670, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=671, col_offset=12), 'assertEqual', Load(), lineno=671, col_offset=12), [Attribute(Name('w', Load(), lineno=671, col_offset=29), 'warnings', Load(), lineno=671, col_offset=29), List([], Load(), lineno=671, col_offset=41)], [], None, None, lineno=671, col_offset=12), lineno=671, col_offset=12)], lineno=661, col_offset=13), With(Call(Attribute(Name('test_support', Load(), lineno=673, col_offset=13), 'check_warnings', Load(), lineno=673, col_offset=13), [], [], None, None, lineno=673, col_offset=13), None, [Pass( lineno=675, col_offset=12)], lineno=673, col_offset=13), With(Call(Attribute(Name('test_support', Load(), lineno=676, col_offset=13), 'check_warnings', Load(), lineno=676, col_offset=13), [Tuple([Str('foo', lineno=676, col_offset=42), Name('UserWarning', Load(), lineno=676, col_offset=49)], Load(), lineno=676, col_offset=42)], [], None, None, lineno=676, col_offset=13), None, [Expr(Call(Attribute(Name('wmod', Load(), lineno=677, col_offset=12), 'warn', Load(), lineno=677, col_offset=12), [Str('foo', lineno=677, col_offset=22)], [], None, None, lineno=677, col_offset=12), lineno=677, col_offset=12)], lineno=676, col_offset=13), With(Call(Attribute(Name('self', Load(), lineno=679, col_offset=13), 'assertRaises', Load(), lineno=679, col_offset=13), [Name('AssertionError', Load(), lineno=679, col_offset=31)], [], None, None, lineno=679, col_offset=13), None, [With(Call(Attribute(Name('test_support', Load(), lineno=680, col_offset=17), 'check_warnings', Load(), lineno=680, col_offset=17), [Tuple([Str('', lineno=680, col_offset=46), Name('RuntimeWarning', Load(), lineno=680, col_offset=50)], Load(), lineno=680, col_offset=46)], [], None, None, lineno=680, col_offset=17), None, [Pass( lineno=682, col_offset=16)], lineno=680, col_offset=17)], lineno=679, col_offset=13), With(Call(Attribute(Name('self', Load(), lineno=683, col_offset=13), 'assertRaises', Load(), lineno=683, col_offset=13), [Name('AssertionError', Load(), lineno=683, col_offset=31)], [], None, None, lineno=683, col_offset=13), None, [With(Call(Attribute(Name('test_support', Load(), lineno=684, col_offset=17), 'check_warnings', Load(), lineno=684, col_offset=17), [Tuple([Str('foo', lineno=684, col_offset=46), Name('RuntimeWarning', Load(), lineno=684, col_offset=53)], Load(), lineno=684, col_offset=46)], [], None, None, lineno=684, col_offset=17), None, [Expr(Call(Attribute(Name('wmod', Load(), lineno=685, col_offset=16), 'warn', Load(), lineno=685, col_offset=16), [Str('foo', lineno=685, col_offset=26)], [], None, None, lineno=685, col_offset=16), lineno=685, col_offset=16)], lineno=684, col_offset=17)], lineno=683, col_offset=13)], [], lineno=656, col_offset=4)], [], lineno=585, col_offset=0), ClassDef('CCatchWarningTests', [Name('CatchWarningTests', Load(), lineno=688, col_offset=25)], [Assign([Name('module', Store(), lineno=689, col_offset=4)], Name('c_warnings', Load(), lineno=689, col_offset=13), lineno=689, col_offset=4)], [], lineno=688, col_offset=0), ClassDef('PyCatchWarningTests', [Name('CatchWarningTests', Load(), lineno=691, col_offset=26)], [Assign([Name('module', Store(), lineno=692, col_offset=4)], Name('py_warnings', Load(), lineno=692, col_offset=13), lineno=692, col_offset=4)], [], lineno=691, col_offset=0), ClassDef('EnvironmentVariableTests', [Name('BaseTest', Load(), lineno=695, col_offset=31)], [FunctionDef('test_single_warning', arguments([Name('self', Param(), lineno=697, col_offset=28)], None, None, []), [Assign([Name('newenv', Store(), lineno=698, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=698, col_offset=17), 'environ', Load(), lineno=698, col_offset=17), 'copy', Load(), lineno=698, col_offset=17), [], [], None, None, lineno=698, col_offset=17), lineno=698, col_offset=8), Assign([Subscript(Name('newenv', Load(), lineno=699, col_offset=8), Index(Str('PYTHONWARNINGS', lineno=699, col_offset=15)), Store(), lineno=699, col_offset=8)], Str('ignore::DeprecationWarning', lineno=699, col_offset=35), lineno=699, col_offset=8), Assign([Name('p', Store(), lineno=700, col_offset=8)], Call(Attribute(Name('subprocess', Load(), lineno=700, col_offset=12), 'Popen', Load(), lineno=700, col_offset=12), [List([Attribute(Name('sys', Load(), lineno=700, col_offset=30), 'executable', Load(), lineno=700, col_offset=30), Str('-c', lineno=701, col_offset=16), Str('import sys; sys.stdout.write(str(sys.warnoptions))', lineno=701, col_offset=22)], Load(), lineno=700, col_offset=29)], [keyword('stdout', Attribute(Name('subprocess', Load(), lineno=702, col_offset=23), 'PIPE', Load(), lineno=702, col_offset=23)), keyword('env', Name('newenv', Load(), lineno=702, col_offset=44))], None, None, lineno=700, col_offset=12), lineno=700, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=703, col_offset=8), 'assertEqual', Load(), lineno=703, col_offset=8), [Subscript(Call(Attribute(Name('p', Load(), lineno=703, col_offset=25), 'communicate', Load(), lineno=703, col_offset=25), [], [], None, None, lineno=703, col_offset=25), Index(Num(0, lineno=703, col_offset=41)), Load(), lineno=703, col_offset=25), Str("['ignore::DeprecationWarning']", lineno=703, col_offset=45)], [], None, None, lineno=703, col_offset=8), lineno=703, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=704, col_offset=8), 'assertEqual', Load(), lineno=704, col_offset=8), [Call(Attribute(Name('p', Load(), lineno=704, col_offset=25), 'wait', Load(), lineno=704, col_offset=25), [], [], None, None, lineno=704, col_offset=25), Num(0, lineno=704, col_offset=35)], [], None, None, lineno=704, col_offset=8), lineno=704, col_offset=8)], [], lineno=697, col_offset=4), FunctionDef('test_comma_separated_warnings', arguments([Name('self', Param(), lineno=706, col_offset=38)], None, None, []), [Assign([Name('newenv', Store(), lineno=707, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=707, col_offset=17), 'environ', Load(), lineno=707, col_offset=17), 'copy', Load(), lineno=707, col_offset=17), [], [], None, None, lineno=707, col_offset=17), lineno=707, col_offset=8), Assign([Subscript(Name('newenv', Load(), lineno=708, col_offset=8), Index(Str('PYTHONWARNINGS', lineno=708, col_offset=15)), Store(), lineno=708, col_offset=8)], Str('ignore::DeprecationWarning,ignore::UnicodeWarning', lineno=708, col_offset=36), lineno=708, col_offset=8), Assign([Name('p', Store(), lineno=710, col_offset=8)], Call(Attribute(Name('subprocess', Load(), lineno=710, col_offset=12), 'Popen', Load(), lineno=710, col_offset=12), [List([Attribute(Name('sys', Load(), lineno=710, col_offset=30), 'executable', Load(), lineno=710, col_offset=30), Str('-c', lineno=711, col_offset=16), Str('import sys; sys.stdout.write(str(sys.warnoptions))', lineno=711, col_offset=22)], Load(), lineno=710, col_offset=29)], [keyword('stdout', Attribute(Name('subprocess', Load(), lineno=712, col_offset=23), 'PIPE', Load(), lineno=712, col_offset=23)), keyword('env', Name('newenv', Load(), lineno=712, col_offset=44))], None, None, lineno=710, col_offset=12), lineno=710, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=713, col_offset=8), 'assertEqual', Load(), lineno=713, col_offset=8), [Subscript(Call(Attribute(Name('p', Load(), lineno=713, col_offset=25), 'communicate', Load(), lineno=713, col_offset=25), [], [], None, None, lineno=713, col_offset=25), Index(Num(0, lineno=713, col_offset=41)), Load(), lineno=713, col_offset=25), Str("['ignore::DeprecationWarning', 'ignore::UnicodeWarning']", lineno=714, col_offset=16)], [], None, None, lineno=713, col_offset=8), lineno=713, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=715, col_offset=8), 'assertEqual', Load(), lineno=715, col_offset=8), [Call(Attribute(Name('p', Load(), lineno=715, col_offset=25), 'wait', Load(), lineno=715, col_offset=25), [], [], None, None, lineno=715, col_offset=25), Num(0, lineno=715, col_offset=35)], [], None, None, lineno=715, col_offset=8), lineno=715, col_offset=8)], [], lineno=706, col_offset=4), FunctionDef('test_envvar_and_command_line', arguments([Name('self', Param(), lineno=717, col_offset=37)], None, None, []), [Assign([Name('newenv', Store(), lineno=718, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=718, col_offset=17), 'environ', Load(), lineno=718, col_offset=17), 'copy', Load(), lineno=718, col_offset=17), [], [], None, None, lineno=718, col_offset=17), lineno=718, col_offset=8), Assign([Subscript(Name('newenv', Load(), lineno=719, col_offset=8), Index(Str('PYTHONWARNINGS', lineno=719, col_offset=15)), Store(), lineno=719, col_offset=8)], Str('ignore::DeprecationWarning', lineno=719, col_offset=35), lineno=719, col_offset=8), Assign([Name('p', Store(), lineno=720, col_offset=8)], Call(Attribute(Name('subprocess', Load(), lineno=720, col_offset=12), 'Popen', Load(), lineno=720, col_offset=12), [List([Attribute(Name('sys', Load(), lineno=720, col_offset=30), 'executable', Load(), lineno=720, col_offset=30), Str('-Wignore::UnicodeWarning', lineno=720, col_offset=46), Str('-c', lineno=721, col_offset=16), Str('import sys; sys.stdout.write(str(sys.warnoptions))', lineno=721, col_offset=22)], Load(), lineno=720, col_offset=29)], [keyword('stdout', Attribute(Name('subprocess', Load(), lineno=722, col_offset=23), 'PIPE', Load(), lineno=722, col_offset=23)), keyword('env', Name('newenv', Load(), lineno=722, col_offset=44))], None, None, lineno=720, col_offset=12), lineno=720, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=723, col_offset=8), 'assertEqual', Load(), lineno=723, col_offset=8), [Subscript(Call(Attribute(Name('p', Load(), lineno=723, col_offset=25), 'communicate', Load(), lineno=723, col_offset=25), [], [], None, None, lineno=723, col_offset=25), Index(Num(0, lineno=723, col_offset=41)), Load(), lineno=723, col_offset=25), Str("['ignore::UnicodeWarning', 'ignore::DeprecationWarning']", lineno=724, col_offset=16)], [], None, None, lineno=723, col_offset=8), lineno=723, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=725, col_offset=8), 'assertEqual', Load(), lineno=725, col_offset=8), [Call(Attribute(Name('p', Load(), lineno=725, col_offset=25), 'wait', Load(), lineno=725, col_offset=25), [], [], None, None, lineno=725, col_offset=25), Num(0, lineno=725, col_offset=35)], [], None, None, lineno=725, col_offset=8), lineno=725, col_offset=8)], [], lineno=717, col_offset=4)], [], lineno=695, col_offset=0), ClassDef('CEnvironmentVariableTests', [Name('EnvironmentVariableTests', Load(), lineno=727, col_offset=32)], [Assign([Name('module', Store(), lineno=728, col_offset=4)], Name('c_warnings', Load(), lineno=728, col_offset=13), lineno=728, col_offset=4)], [], lineno=727, col_offset=0), ClassDef('PyEnvironmentVariableTests', [Name('EnvironmentVariableTests', Load(), lineno=730, col_offset=33)], [Assign([Name('module', Store(), lineno=731, col_offset=4)], Name('py_warnings', Load(), lineno=731, col_offset=13), lineno=731, col_offset=4)], [], lineno=730, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Attribute(Attribute(Name('py_warnings', Load(), lineno=735, col_offset=4), 'onceregistry', Load(), lineno=735, col_offset=4), 'clear', Load(), lineno=735, col_offset=4), [], [], None, None, lineno=735, col_offset=4), lineno=735, col_offset=4), Expr(Call(Attribute(Attribute(Name('c_warnings', Load(), lineno=736, col_offset=4), 'onceregistry', Load(), lineno=736, col_offset=4), 'clear', Load(), lineno=736, col_offset=4), [], [], None, None, lineno=736, col_offset=4), lineno=736, col_offset=4), Expr(Call(Attribute(Name('test_support', Load(), lineno=737, col_offset=4), 'run_unittest', Load(), lineno=737, col_offset=4), [Name('CFilterTests', Load(), lineno=737, col_offset=30), Name('PyFilterTests', Load(), lineno=737, col_offset=44), Name('CWarnTests', Load(), lineno=738, col_offset=32), Name('PyWarnTests', Load(), lineno=738, col_offset=44), Name('CWCmdLineTests', Load(), lineno=739, col_offset=32), Name('PyWCmdLineTests', Load(), lineno=739, col_offset=48), Name('_WarningsTests', Load(), lineno=740, col_offset=32), Name('CWarningsDisplayTests', Load(), lineno=741, col_offset=32), Name('PyWarningsDisplayTests', Load(), lineno=741, col_offset=55), Name('CCatchWarningTests', Load(), lineno=742, col_offset=32), Name('PyCatchWarningTests', Load(), lineno=742, col_offset=52), Name('CEnvironmentVariableTests', Load(), lineno=743, col_offset=32), Name('PyEnvironmentVariableTests', Load(), lineno=744, col_offset=32)], [], None, None, lineno=737, col_offset=4), lineno=737, col_offset=4)], [], lineno=734, col_offset=0), If(Compare(Name('__name__', Load(), lineno=748, col_offset=3), [Eq()], [Str('__main__', lineno=748, col_offset=15)], lineno=748, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=749, col_offset=4), [], [], None, None, lineno=749, col_offset=4), lineno=749, col_offset=4)], [], lineno=748, col_offset=0)])
