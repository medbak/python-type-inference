Module([Expr(Str(' Utility for parsing HTML entity definitions available from:\n\n      http://www.w3.org/ as e.g.\n      http://www.w3.org/TR/REC-html40/HTMLlat1.ent\n\n    Input is read from stdin, output is written to stdout in form of a\n    Python snippet defining a dictionary "entitydefs" mapping literal\n    entity name to character or numeric entity.\n\n    Marc-Andre Lemburg, mal@lemburg.com, 1999.\n    Use as you like. NO WARRANTIES.\n\n', lineno=14, col_offset=-1), lineno=14, col_offset=-1), Import([alias('re', None), alias('sys', None)], lineno=15, col_offset=0), Import([alias('TextTools', None)], lineno=16, col_offset=0), Assign([Name('entityRE', Store(), lineno=18, col_offset=0)], Call(Attribute(Name('re', Load(), lineno=18, col_offset=11), 'compile', Load(), lineno=18, col_offset=11), [Str('<!ENTITY +(\\w+) +CDATA +"([^"]+)" +-- +((?:.|\n)+?) *-->', lineno=18, col_offset=22)], [], None, None, lineno=18, col_offset=11), lineno=18, col_offset=0), FunctionDef('parse', arguments([Name('text', Param(), lineno=20, col_offset=10), Name('pos', Param(), lineno=20, col_offset=15), Name('endpos', Param(), lineno=20, col_offset=21)], None, None, [Num(0, lineno=20, col_offset=19), Name('None', Load(), lineno=20, col_offset=28)]), [Assign([Name('pos', Store(), lineno=22, col_offset=4)], Num(0, lineno=22, col_offset=10), lineno=22, col_offset=4), If(Compare(Name('endpos', Load(), lineno=23, col_offset=7), [Is()], [Name('None', Load(), lineno=23, col_offset=17)], lineno=23, col_offset=7), [Assign([Name('endpos', Store(), lineno=24, col_offset=8)], Call(Name('len', Load(), lineno=24, col_offset=17), [Name('text', Load(), lineno=24, col_offset=21)], [], None, None, lineno=24, col_offset=17), lineno=24, col_offset=8)], [], lineno=23, col_offset=4), Assign([Name('d', Store(), lineno=25, col_offset=4)], Dict([], [], lineno=25, col_offset=8), lineno=25, col_offset=4), While(Num(1, lineno=26, col_offset=10), [Assign([Name('m', Store(), lineno=27, col_offset=8)], Call(Attribute(Name('entityRE', Load(), lineno=27, col_offset=12), 'search', Load(), lineno=27, col_offset=12), [Name('text', Load(), lineno=27, col_offset=28), Name('pos', Load(), lineno=27, col_offset=33), Name('endpos', Load(), lineno=27, col_offset=37)], [], None, None, lineno=27, col_offset=12), lineno=27, col_offset=8), If(UnaryOp(Not(), Name('m', Load(), lineno=28, col_offset=15), lineno=28, col_offset=11), [Break( lineno=29, col_offset=12)], [], lineno=28, col_offset=8), Assign([Tuple([Name('name', Store(), lineno=30, col_offset=8), Name('charcode', Store(), lineno=30, col_offset=13), Name('comment', Store(), lineno=30, col_offset=22)], Store(), lineno=30, col_offset=8)], Call(Attribute(Name('m', Load(), lineno=30, col_offset=32), 'groups', Load(), lineno=30, col_offset=32), [], [], None, None, lineno=30, col_offset=32), lineno=30, col_offset=8), Assign([Subscript(Name('d', Load(), lineno=31, col_offset=8), Index(Name('name', Load(), lineno=31, col_offset=10)), Store(), lineno=31, col_offset=8)], Tuple([Name('charcode', Load(), lineno=31, col_offset=18), Name('comment', Load(), lineno=31, col_offset=27)], Load(), lineno=31, col_offset=18), lineno=31, col_offset=8), Assign([Name('pos', Store(), lineno=32, col_offset=8)], Call(Attribute(Name('m', Load(), lineno=32, col_offset=14), 'end', Load(), lineno=32, col_offset=14), [], [], None, None, lineno=32, col_offset=14), lineno=32, col_offset=8)], [], lineno=26, col_offset=4), Return(Name('d', Load(), lineno=33, col_offset=11), lineno=33, col_offset=4)], [], lineno=20, col_offset=0), FunctionDef('writefile', arguments([Name('f', Param(), lineno=35, col_offset=14), Name('defs', Param(), lineno=35, col_offset=16)], None, None, []), [Expr(Call(Attribute(Name('f', Load(), lineno=37, col_offset=4), 'write', Load(), lineno=37, col_offset=4), [Str('entitydefs = {\n', lineno=37, col_offset=12)], [], None, None, lineno=37, col_offset=4), lineno=37, col_offset=4), Assign([Name('items', Store(), lineno=38, col_offset=4)], Call(Attribute(Name('defs', Load(), lineno=38, col_offset=12), 'items', Load(), lineno=38, col_offset=12), [], [], None, None, lineno=38, col_offset=12), lineno=38, col_offset=4), Expr(Call(Attribute(Name('items', Load(), lineno=39, col_offset=4), 'sort', Load(), lineno=39, col_offset=4), [], [], None, None, lineno=39, col_offset=4), lineno=39, col_offset=4), For(Tuple([Name('name', Store(), lineno=40, col_offset=8), Tuple([Name('charcode', Store(), lineno=40, col_offset=14), Name('comment', Store(), lineno=40, col_offset=23)], Store(), lineno=40, col_offset=14)], Store(), lineno=40, col_offset=8), Name('items', Load(), lineno=40, col_offset=35), [If(Compare(Subscript(Name('charcode', Load(), lineno=41, col_offset=11), Slice(None, Num(2, lineno=41, col_offset=21), None), Load(), lineno=41, col_offset=11), [Eq()], [Str('&#', lineno=41, col_offset=27)], lineno=41, col_offset=11), [Assign([Name('code', Store(), lineno=42, col_offset=12)], Call(Name('int', Load(), lineno=42, col_offset=19), [Subscript(Name('charcode', Load(), lineno=42, col_offset=23), Slice(Num(2, lineno=42, col_offset=32), Num(-1, lineno=42, col_offset=35), None), Load(), lineno=42, col_offset=23)], [], None, None, lineno=42, col_offset=19), lineno=42, col_offset=12), If(Compare(Name('code', Load(), lineno=43, col_offset=15), [Lt()], [Num(256, lineno=43, col_offset=22)], lineno=43, col_offset=15), [Assign([Name('charcode', Store(), lineno=44, col_offset=16)], BinOp(Str("'\\%o'", lineno=44, col_offset=27), Mod(), Name('code', Load(), lineno=44, col_offset=37), lineno=44, col_offset=27), lineno=44, col_offset=16)], [Assign([Name('charcode', Store(), lineno=46, col_offset=16)], Call(Name('repr', Load(), lineno=46, col_offset=27), [Name('charcode', Load(), lineno=46, col_offset=32)], [], None, None, lineno=46, col_offset=27), lineno=46, col_offset=16)], lineno=43, col_offset=12)], [Assign([Name('charcode', Store(), lineno=48, col_offset=12)], Call(Name('repr', Load(), lineno=48, col_offset=23), [Name('charcode', Load(), lineno=48, col_offset=28)], [], None, None, lineno=48, col_offset=23), lineno=48, col_offset=12)], lineno=41, col_offset=8), Assign([Name('comment', Store(), lineno=49, col_offset=8)], Call(Attribute(Name('TextTools', Load(), lineno=49, col_offset=18), 'collapse', Load(), lineno=49, col_offset=18), [Name('comment', Load(), lineno=49, col_offset=37)], [], None, None, lineno=49, col_offset=18), lineno=49, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=50, col_offset=8), 'write', Load(), lineno=50, col_offset=8), [BinOp(Str("    '%s':\t%s,  \t# %s\n", lineno=50, col_offset=16), Mod(), Tuple([Name('name', Load(), lineno=50, col_offset=46), Name('charcode', Load(), lineno=50, col_offset=51), Name('comment', Load(), lineno=50, col_offset=60)], Load(), lineno=50, col_offset=46), lineno=50, col_offset=16)], [], None, None, lineno=50, col_offset=8), lineno=50, col_offset=8)], [], lineno=40, col_offset=4), Expr(Call(Attribute(Name('f', Load(), lineno=51, col_offset=4), 'write', Load(), lineno=51, col_offset=4), [Str('\n}\n', lineno=51, col_offset=12)], [], None, None, lineno=51, col_offset=4), lineno=51, col_offset=4)], [], lineno=35, col_offset=0), If(Compare(Name('__name__', Load(), lineno=53, col_offset=3), [Eq()], [Str('__main__', lineno=53, col_offset=15)], lineno=53, col_offset=3), [If(Compare(Call(Name('len', Load(), lineno=54, col_offset=7), [Attribute(Name('sys', Load(), lineno=54, col_offset=11), 'argv', Load(), lineno=54, col_offset=11)], [], None, None, lineno=54, col_offset=7), [Gt()], [Num(1, lineno=54, col_offset=23)], lineno=54, col_offset=7), [Assign([Name('infile', Store(), lineno=55, col_offset=8)], Call(Name('open', Load(), lineno=55, col_offset=17), [Subscript(Attribute(Name('sys', Load(), lineno=55, col_offset=22), 'argv', Load(), lineno=55, col_offset=22), Index(Num(1, lineno=55, col_offset=31)), Load(), lineno=55, col_offset=22)], [], None, None, lineno=55, col_offset=17), lineno=55, col_offset=8)], [Assign([Name('infile', Store(), lineno=57, col_offset=8)], Attribute(Name('sys', Load(), lineno=57, col_offset=17), 'stdin', Load(), lineno=57, col_offset=17), lineno=57, col_offset=8)], lineno=54, col_offset=4), If(Compare(Call(Name('len', Load(), lineno=58, col_offset=7), [Attribute(Name('sys', Load(), lineno=58, col_offset=11), 'argv', Load(), lineno=58, col_offset=11)], [], None, None, lineno=58, col_offset=7), [Gt()], [Num(2, lineno=58, col_offset=23)], lineno=58, col_offset=7), [Assign([Name('outfile', Store(), lineno=59, col_offset=8)], Call(Name('open', Load(), lineno=59, col_offset=18), [Subscript(Attribute(Name('sys', Load(), lineno=59, col_offset=23), 'argv', Load(), lineno=59, col_offset=23), Index(Num(2, lineno=59, col_offset=32)), Load(), lineno=59, col_offset=23), Str('w', lineno=59, col_offset=35)], [], None, None, lineno=59, col_offset=18), lineno=59, col_offset=8)], [Assign([Name('outfile', Store(), lineno=61, col_offset=8)], Attribute(Name('sys', Load(), lineno=61, col_offset=18), 'stdout', Load(), lineno=61, col_offset=18), lineno=61, col_offset=8)], lineno=58, col_offset=4), Assign([Name('text', Store(), lineno=62, col_offset=4)], Call(Attribute(Name('infile', Load(), lineno=62, col_offset=11), 'read', Load(), lineno=62, col_offset=11), [], [], None, None, lineno=62, col_offset=11), lineno=62, col_offset=4), Assign([Name('defs', Store(), lineno=63, col_offset=4)], Call(Name('parse', Load(), lineno=63, col_offset=11), [Name('text', Load(), lineno=63, col_offset=17)], [], None, None, lineno=63, col_offset=11), lineno=63, col_offset=4), Expr(Call(Name('writefile', Load(), lineno=64, col_offset=4), [Name('outfile', Load(), lineno=64, col_offset=14), Name('defs', Load(), lineno=64, col_offset=22)], [], None, None, lineno=64, col_offset=4), lineno=64, col_offset=4)], [], lineno=53, col_offset=0)])
