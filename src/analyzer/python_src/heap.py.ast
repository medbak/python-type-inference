Module([Import([alias('bisect', None)], lineno=9, col_offset=0), Import([alias('mmap', None)], lineno=10, col_offset=0), Import([alias('tempfile', None)], lineno=11, col_offset=0), Import([alias('os', None)], lineno=12, col_offset=0), Import([alias('sys', None)], lineno=13, col_offset=0), Import([alias('threading', None)], lineno=14, col_offset=0), Import([alias('itertools', None)], lineno=15, col_offset=0), Import([alias('_multiprocessing', None)], lineno=17, col_offset=0), ImportFrom('multiprocessing.util', [alias('Finalize', None), alias('info', None)], 0, lineno=18, col_offset=0), ImportFrom('multiprocessing.forking', [alias('assert_spawning', None)], 0, lineno=19, col_offset=0), Assign([Name('__all__', Store(), lineno=21, col_offset=0)], List([Str('BufferWrapper', lineno=21, col_offset=11)], Load(), lineno=21, col_offset=10), lineno=21, col_offset=0), If(Compare(Attribute(Name('sys', Load(), lineno=27, col_offset=3), 'platform', Load(), lineno=27, col_offset=3), [Eq()], [Str('win32', lineno=27, col_offset=19)], lineno=27, col_offset=3), [ImportFrom('_multiprocessing', [alias('win32', None)], 0, lineno=29, col_offset=4), ClassDef('Arena', [Name('object', Load(), lineno=31, col_offset=16)], [Assign([Name('_counter', Store(), lineno=33, col_offset=8)], Call(Attribute(Name('itertools', Load(), lineno=33, col_offset=19), 'count', Load(), lineno=33, col_offset=19), [], [], None, None, lineno=33, col_offset=19), lineno=33, col_offset=8), FunctionDef('__init__', arguments([Name('self', Param(), lineno=35, col_offset=21), Name('size', Param(), lineno=35, col_offset=27)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=36, col_offset=12), 'size', Store(), lineno=36, col_offset=12)], Name('size', Load(), lineno=36, col_offset=24), lineno=36, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=37, col_offset=12), 'name', Store(), lineno=37, col_offset=12)], BinOp(Str('pym-%d-%d', lineno=37, col_offset=24), Mod(), Tuple([Call(Attribute(Name('os', Load(), lineno=37, col_offset=39), 'getpid', Load(), lineno=37, col_offset=39), [], [], None, None, lineno=37, col_offset=39), Call(Attribute(Attribute(Name('Arena', Load(), lineno=37, col_offset=52), '_counter', Load(), lineno=37, col_offset=52), 'next', Load(), lineno=37, col_offset=52), [], [], None, None, lineno=37, col_offset=52)], Load(), lineno=37, col_offset=39), lineno=37, col_offset=24), lineno=37, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=38, col_offset=12), 'buffer', Store(), lineno=38, col_offset=12)], Call(Attribute(Name('mmap', Load(), lineno=38, col_offset=26), 'mmap', Load(), lineno=38, col_offset=26), [Num(-1, lineno=38, col_offset=37), Attribute(Name('self', Load(), lineno=38, col_offset=40), 'size', Load(), lineno=38, col_offset=40)], [keyword('tagname', Attribute(Name('self', Load(), lineno=38, col_offset=59), 'name', Load(), lineno=38, col_offset=59))], None, None, lineno=38, col_offset=26), lineno=38, col_offset=12), Assert(Compare(Call(Attribute(Name('win32', Load(), lineno=39, col_offset=19), 'GetLastError', Load(), lineno=39, col_offset=19), [], [], None, None, lineno=39, col_offset=19), [Eq()], [Num(0, lineno=39, col_offset=43)], lineno=39, col_offset=19), Str('tagname already in use', lineno=39, col_offset=46), lineno=39, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=40, col_offset=12), '_state', Store(), lineno=40, col_offset=12)], Tuple([Attribute(Name('self', Load(), lineno=40, col_offset=27), 'size', Load(), lineno=40, col_offset=27), Attribute(Name('self', Load(), lineno=40, col_offset=38), 'name', Load(), lineno=40, col_offset=38)], Load(), lineno=40, col_offset=27), lineno=40, col_offset=12)], [], lineno=35, col_offset=8), FunctionDef('__getstate__', arguments([Name('self', Param(), lineno=42, col_offset=25)], None, None, []), [Expr(Call(Name('assert_spawning', Load(), lineno=43, col_offset=12), [Name('self', Load(), lineno=43, col_offset=28)], [], None, None, lineno=43, col_offset=12), lineno=43, col_offset=12), Return(Attribute(Name('self', Load(), lineno=44, col_offset=19), '_state', Load(), lineno=44, col_offset=19), lineno=44, col_offset=12)], [], lineno=42, col_offset=8), FunctionDef('__setstate__', arguments([Name('self', Param(), lineno=46, col_offset=25), Name('state', Param(), lineno=46, col_offset=31)], None, None, []), [Assign([Tuple([Attribute(Name('self', Load(), lineno=47, col_offset=12), 'size', Store(), lineno=47, col_offset=12), Attribute(Name('self', Load(), lineno=47, col_offset=23), 'name', Store(), lineno=47, col_offset=23)], Store(), lineno=47, col_offset=12), Attribute(Name('self', Load(), lineno=47, col_offset=35), '_state', Store(), lineno=47, col_offset=35)], Name('state', Load(), lineno=47, col_offset=49), lineno=47, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=48, col_offset=12), 'buffer', Store(), lineno=48, col_offset=12)], Call(Attribute(Name('mmap', Load(), lineno=48, col_offset=26), 'mmap', Load(), lineno=48, col_offset=26), [Num(-1, lineno=48, col_offset=37), Attribute(Name('self', Load(), lineno=48, col_offset=40), 'size', Load(), lineno=48, col_offset=40)], [keyword('tagname', Attribute(Name('self', Load(), lineno=48, col_offset=59), 'name', Load(), lineno=48, col_offset=59))], None, None, lineno=48, col_offset=26), lineno=48, col_offset=12), Assert(Compare(Call(Attribute(Name('win32', Load(), lineno=49, col_offset=19), 'GetLastError', Load(), lineno=49, col_offset=19), [], [], None, None, lineno=49, col_offset=19), [Eq()], [Attribute(Name('win32', Load(), lineno=49, col_offset=43), 'ERROR_ALREADY_EXISTS', Load(), lineno=49, col_offset=43)], lineno=49, col_offset=19), None, lineno=49, col_offset=12)], [], lineno=46, col_offset=8)], [], lineno=31, col_offset=4)], [ClassDef('Arena', [Name('object', Load(), lineno=53, col_offset=16)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=55, col_offset=21), Name('size', Param(), lineno=55, col_offset=27)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=56, col_offset=12), 'buffer', Store(), lineno=56, col_offset=12)], Call(Attribute(Name('mmap', Load(), lineno=56, col_offset=26), 'mmap', Load(), lineno=56, col_offset=26), [Num(-1, lineno=56, col_offset=37), Name('size', Load(), lineno=56, col_offset=40)], [], None, None, lineno=56, col_offset=26), lineno=56, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=57, col_offset=12), 'size', Store(), lineno=57, col_offset=12)], Name('size', Load(), lineno=57, col_offset=24), lineno=57, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=58, col_offset=12), 'name', Store(), lineno=58, col_offset=12)], Name('None', Load(), lineno=58, col_offset=24), lineno=58, col_offset=12)], [], lineno=55, col_offset=8)], [], lineno=53, col_offset=4)], lineno=27, col_offset=0), ClassDef('Heap', [Name('object', Load(), lineno=64, col_offset=11)], [Assign([Name('_alignment', Store(), lineno=66, col_offset=4)], Num(8, lineno=66, col_offset=17), lineno=66, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=68, col_offset=17), Name('size', Param(), lineno=68, col_offset=23)], None, None, [Attribute(Name('mmap', Load(), lineno=68, col_offset=28), 'PAGESIZE', Load(), lineno=68, col_offset=28)]), [Assign([Attribute(Name('self', Load(), lineno=69, col_offset=8), '_lastpid', Store(), lineno=69, col_offset=8)], Call(Attribute(Name('os', Load(), lineno=69, col_offset=24), 'getpid', Load(), lineno=69, col_offset=24), [], [], None, None, lineno=69, col_offset=24), lineno=69, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=70, col_offset=8), '_lock', Store(), lineno=70, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=70, col_offset=21), 'Lock', Load(), lineno=70, col_offset=21), [], [], None, None, lineno=70, col_offset=21), lineno=70, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=71, col_offset=8), '_size', Store(), lineno=71, col_offset=8)], Name('size', Load(), lineno=71, col_offset=21), lineno=71, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=72, col_offset=8), '_lengths', Store(), lineno=72, col_offset=8)], List([], Load(), lineno=72, col_offset=24), lineno=72, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=73, col_offset=8), '_len_to_seq', Store(), lineno=73, col_offset=8)], Dict([], [], lineno=73, col_offset=27), lineno=73, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=74, col_offset=8), '_start_to_block', Store(), lineno=74, col_offset=8)], Dict([], [], lineno=74, col_offset=31), lineno=74, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=75, col_offset=8), '_stop_to_block', Store(), lineno=75, col_offset=8)], Dict([], [], lineno=75, col_offset=30), lineno=75, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=76, col_offset=8), '_allocated_blocks', Store(), lineno=76, col_offset=8)], Call(Name('set', Load(), lineno=76, col_offset=33), [], [], None, None, lineno=76, col_offset=33), lineno=76, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=77, col_offset=8), '_arenas', Store(), lineno=77, col_offset=8)], List([], Load(), lineno=77, col_offset=23), lineno=77, col_offset=8)], [], lineno=68, col_offset=4), FunctionDef('_roundup', arguments([Name('n', Param(), lineno=80, col_offset=17), Name('alignment', Param(), lineno=80, col_offset=20)], None, None, []), [Assign([Name('mask', Store(), lineno=82, col_offset=8)], BinOp(Name('alignment', Load(), lineno=82, col_offset=15), Sub(), Num(1, lineno=82, col_offset=27), lineno=82, col_offset=15), lineno=82, col_offset=8), Return(BinOp(BinOp(Name('n', Load(), lineno=83, col_offset=16), Add(), Name('mask', Load(), lineno=83, col_offset=20), lineno=83, col_offset=16), BitAnd(), UnaryOp(Invert(), Name('mask', Load(), lineno=83, col_offset=29), lineno=83, col_offset=28), lineno=83, col_offset=15), lineno=83, col_offset=8)], [Name('staticmethod', Load(), lineno=79, col_offset=5)], lineno=79, col_offset=4), FunctionDef('_malloc', arguments([Name('self', Param(), lineno=85, col_offset=16), Name('size', Param(), lineno=85, col_offset=22)], None, None, []), [Assign([Name('i', Store(), lineno=87, col_offset=8)], Call(Attribute(Name('bisect', Load(), lineno=87, col_offset=12), 'bisect_left', Load(), lineno=87, col_offset=12), [Attribute(Name('self', Load(), lineno=87, col_offset=31), '_lengths', Load(), lineno=87, col_offset=31), Name('size', Load(), lineno=87, col_offset=46)], [], None, None, lineno=87, col_offset=12), lineno=87, col_offset=8), If(Compare(Name('i', Load(), lineno=88, col_offset=11), [Eq()], [Call(Name('len', Load(), lineno=88, col_offset=16), [Attribute(Name('self', Load(), lineno=88, col_offset=20), '_lengths', Load(), lineno=88, col_offset=20)], [], None, None, lineno=88, col_offset=16)], lineno=88, col_offset=11), [Assign([Name('length', Store(), lineno=89, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=89, col_offset=21), '_roundup', Load(), lineno=89, col_offset=21), [Call(Name('max', Load(), lineno=89, col_offset=35), [Attribute(Name('self', Load(), lineno=89, col_offset=39), '_size', Load(), lineno=89, col_offset=39), Name('size', Load(), lineno=89, col_offset=51)], [], None, None, lineno=89, col_offset=35), Attribute(Name('mmap', Load(), lineno=89, col_offset=58), 'PAGESIZE', Load(), lineno=89, col_offset=58)], [], None, None, lineno=89, col_offset=21), lineno=89, col_offset=12), AugAssign(Attribute(Name('self', Load(), lineno=90, col_offset=12), '_size', Store(), lineno=90, col_offset=12), Mult(), Num(2, lineno=90, col_offset=26), lineno=90, col_offset=12), Expr(Call(Name('info', Load(), lineno=91, col_offset=12), [Str('allocating a new mmap of length %d', lineno=91, col_offset=17), Name('length', Load(), lineno=91, col_offset=55)], [], None, None, lineno=91, col_offset=12), lineno=91, col_offset=12), Assign([Name('arena', Store(), lineno=92, col_offset=12)], Call(Name('Arena', Load(), lineno=92, col_offset=20), [Name('length', Load(), lineno=92, col_offset=26)], [], None, None, lineno=92, col_offset=20), lineno=92, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=93, col_offset=12), '_arenas', Load(), lineno=93, col_offset=12), 'append', Load(), lineno=93, col_offset=12), [Name('arena', Load(), lineno=93, col_offset=32)], [], None, None, lineno=93, col_offset=12), lineno=93, col_offset=12), Return(Tuple([Name('arena', Load(), lineno=94, col_offset=20), Num(0, lineno=94, col_offset=27), Name('length', Load(), lineno=94, col_offset=30)], Load(), lineno=94, col_offset=20), lineno=94, col_offset=12)], [Assign([Name('length', Store(), lineno=96, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=96, col_offset=21), '_lengths', Load(), lineno=96, col_offset=21), Index(Name('i', Load(), lineno=96, col_offset=35)), Load(), lineno=96, col_offset=21), lineno=96, col_offset=12), Assign([Name('seq', Store(), lineno=97, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=97, col_offset=18), '_len_to_seq', Load(), lineno=97, col_offset=18), Index(Name('length', Load(), lineno=97, col_offset=35)), Load(), lineno=97, col_offset=18), lineno=97, col_offset=12), Assign([Name('block', Store(), lineno=98, col_offset=12)], Call(Attribute(Name('seq', Load(), lineno=98, col_offset=20), 'pop', Load(), lineno=98, col_offset=20), [], [], None, None, lineno=98, col_offset=20), lineno=98, col_offset=12), If(UnaryOp(Not(), Name('seq', Load(), lineno=99, col_offset=19), lineno=99, col_offset=15), [Delete([Subscript(Attribute(Name('self', Load(), lineno=100, col_offset=20), '_len_to_seq', Load(), lineno=100, col_offset=20), Index(Name('length', Load(), lineno=100, col_offset=37)), Del(), lineno=100, col_offset=20), Subscript(Attribute(Name('self', Load(), lineno=100, col_offset=46), '_lengths', Load(), lineno=100, col_offset=46), Index(Name('i', Load(), lineno=100, col_offset=60)), Del(), lineno=100, col_offset=46)], lineno=100, col_offset=16)], [], lineno=99, col_offset=12)], lineno=88, col_offset=8), Assign([Tuple([Name('arena', Store(), lineno=102, col_offset=9), Name('start', Store(), lineno=102, col_offset=16), Name('stop', Store(), lineno=102, col_offset=23)], Store(), lineno=102, col_offset=9)], Name('block', Load(), lineno=102, col_offset=31), lineno=102, col_offset=8), Delete([Subscript(Attribute(Name('self', Load(), lineno=103, col_offset=12), '_start_to_block', Load(), lineno=103, col_offset=12), Index(Tuple([Name('arena', Load(), lineno=103, col_offset=34), Name('start', Load(), lineno=103, col_offset=41)], Load(), lineno=103, col_offset=34)), Del(), lineno=103, col_offset=12)], lineno=103, col_offset=8), Delete([Subscript(Attribute(Name('self', Load(), lineno=104, col_offset=12), '_stop_to_block', Load(), lineno=104, col_offset=12), Index(Tuple([Name('arena', Load(), lineno=104, col_offset=33), Name('stop', Load(), lineno=104, col_offset=40)], Load(), lineno=104, col_offset=33)), Del(), lineno=104, col_offset=12)], lineno=104, col_offset=8), Return(Name('block', Load(), lineno=105, col_offset=15), lineno=105, col_offset=8)], [], lineno=85, col_offset=4), FunctionDef('_free', arguments([Name('self', Param(), lineno=107, col_offset=14), Name('block', Param(), lineno=107, col_offset=20)], None, None, []), [Assign([Tuple([Name('arena', Store(), lineno=109, col_offset=9), Name('start', Store(), lineno=109, col_offset=16), Name('stop', Store(), lineno=109, col_offset=23)], Store(), lineno=109, col_offset=9)], Name('block', Load(), lineno=109, col_offset=31), lineno=109, col_offset=8), TryExcept([Assign([Name('prev_block', Store(), lineno=112, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=112, col_offset=25), '_stop_to_block', Load(), lineno=112, col_offset=25), Index(Tuple([Name('arena', Load(), lineno=112, col_offset=46), Name('start', Load(), lineno=112, col_offset=53)], Load(), lineno=112, col_offset=46)), Load(), lineno=112, col_offset=25), lineno=112, col_offset=12)], [ExceptHandler(Name('KeyError', Load(), lineno=113, col_offset=15), None, [Pass( lineno=114, col_offset=12)], lineno=113, col_offset=8)], [Assign([Tuple([Name('start', Store(), lineno=116, col_offset=12), Name('_', Store(), lineno=116, col_offset=19)], Store(), lineno=116, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=116, col_offset=23), '_absorb', Load(), lineno=116, col_offset=23), [Name('prev_block', Load(), lineno=116, col_offset=36)], [], None, None, lineno=116, col_offset=23), lineno=116, col_offset=12)], lineno=111, col_offset=8), TryExcept([Assign([Name('next_block', Store(), lineno=119, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=119, col_offset=25), '_start_to_block', Load(), lineno=119, col_offset=25), Index(Tuple([Name('arena', Load(), lineno=119, col_offset=47), Name('stop', Load(), lineno=119, col_offset=54)], Load(), lineno=119, col_offset=47)), Load(), lineno=119, col_offset=25), lineno=119, col_offset=12)], [ExceptHandler(Name('KeyError', Load(), lineno=120, col_offset=15), None, [Pass( lineno=121, col_offset=12)], lineno=120, col_offset=8)], [Assign([Tuple([Name('_', Store(), lineno=123, col_offset=12), Name('stop', Store(), lineno=123, col_offset=15)], Store(), lineno=123, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=123, col_offset=22), '_absorb', Load(), lineno=123, col_offset=22), [Name('next_block', Load(), lineno=123, col_offset=35)], [], None, None, lineno=123, col_offset=22), lineno=123, col_offset=12)], lineno=118, col_offset=8), Assign([Name('block', Store(), lineno=125, col_offset=8)], Tuple([Name('arena', Load(), lineno=125, col_offset=17), Name('start', Load(), lineno=125, col_offset=24), Name('stop', Load(), lineno=125, col_offset=31)], Load(), lineno=125, col_offset=17), lineno=125, col_offset=8), Assign([Name('length', Store(), lineno=126, col_offset=8)], BinOp(Name('stop', Load(), lineno=126, col_offset=17), Sub(), Name('start', Load(), lineno=126, col_offset=24), lineno=126, col_offset=17), lineno=126, col_offset=8), TryExcept([Expr(Call(Attribute(Subscript(Attribute(Name('self', Load(), lineno=129, col_offset=12), '_len_to_seq', Load(), lineno=129, col_offset=12), Index(Name('length', Load(), lineno=129, col_offset=29)), Load(), lineno=129, col_offset=12), 'append', Load(), lineno=129, col_offset=12), [Name('block', Load(), lineno=129, col_offset=44)], [], None, None, lineno=129, col_offset=12), lineno=129, col_offset=12)], [ExceptHandler(Name('KeyError', Load(), lineno=130, col_offset=15), None, [Assign([Subscript(Attribute(Name('self', Load(), lineno=131, col_offset=12), '_len_to_seq', Load(), lineno=131, col_offset=12), Index(Name('length', Load(), lineno=131, col_offset=29)), Store(), lineno=131, col_offset=12)], List([Name('block', Load(), lineno=131, col_offset=40)], Load(), lineno=131, col_offset=39), lineno=131, col_offset=12), Expr(Call(Attribute(Name('bisect', Load(), lineno=132, col_offset=12), 'insort', Load(), lineno=132, col_offset=12), [Attribute(Name('self', Load(), lineno=132, col_offset=26), '_lengths', Load(), lineno=132, col_offset=26), Name('length', Load(), lineno=132, col_offset=41)], [], None, None, lineno=132, col_offset=12), lineno=132, col_offset=12)], lineno=130, col_offset=8)], [], lineno=128, col_offset=8), Assign([Subscript(Attribute(Name('self', Load(), lineno=134, col_offset=8), '_start_to_block', Load(), lineno=134, col_offset=8), Index(Tuple([Name('arena', Load(), lineno=134, col_offset=30), Name('start', Load(), lineno=134, col_offset=37)], Load(), lineno=134, col_offset=30)), Store(), lineno=134, col_offset=8)], Name('block', Load(), lineno=134, col_offset=47), lineno=134, col_offset=8), Assign([Subscript(Attribute(Name('self', Load(), lineno=135, col_offset=8), '_stop_to_block', Load(), lineno=135, col_offset=8), Index(Tuple([Name('arena', Load(), lineno=135, col_offset=29), Name('stop', Load(), lineno=135, col_offset=36)], Load(), lineno=135, col_offset=29)), Store(), lineno=135, col_offset=8)], Name('block', Load(), lineno=135, col_offset=45), lineno=135, col_offset=8)], [], lineno=107, col_offset=4), FunctionDef('_absorb', arguments([Name('self', Param(), lineno=137, col_offset=16), Name('block', Param(), lineno=137, col_offset=22)], None, None, []), [Assign([Tuple([Name('arena', Store(), lineno=139, col_offset=9), Name('start', Store(), lineno=139, col_offset=16), Name('stop', Store(), lineno=139, col_offset=23)], Store(), lineno=139, col_offset=9)], Name('block', Load(), lineno=139, col_offset=31), lineno=139, col_offset=8), Delete([Subscript(Attribute(Name('self', Load(), lineno=140, col_offset=12), '_start_to_block', Load(), lineno=140, col_offset=12), Index(Tuple([Name('arena', Load(), lineno=140, col_offset=34), Name('start', Load(), lineno=140, col_offset=41)], Load(), lineno=140, col_offset=34)), Del(), lineno=140, col_offset=12)], lineno=140, col_offset=8), Delete([Subscript(Attribute(Name('self', Load(), lineno=141, col_offset=12), '_stop_to_block', Load(), lineno=141, col_offset=12), Index(Tuple([Name('arena', Load(), lineno=141, col_offset=33), Name('stop', Load(), lineno=141, col_offset=40)], Load(), lineno=141, col_offset=33)), Del(), lineno=141, col_offset=12)], lineno=141, col_offset=8), Assign([Name('length', Store(), lineno=143, col_offset=8)], BinOp(Name('stop', Load(), lineno=143, col_offset=17), Sub(), Name('start', Load(), lineno=143, col_offset=24), lineno=143, col_offset=17), lineno=143, col_offset=8), Assign([Name('seq', Store(), lineno=144, col_offset=8)], Subscript(Attribute(Name('self', Load(), lineno=144, col_offset=14), '_len_to_seq', Load(), lineno=144, col_offset=14), Index(Name('length', Load(), lineno=144, col_offset=31)), Load(), lineno=144, col_offset=14), lineno=144, col_offset=8), Expr(Call(Attribute(Name('seq', Load(), lineno=145, col_offset=8), 'remove', Load(), lineno=145, col_offset=8), [Name('block', Load(), lineno=145, col_offset=19)], [], None, None, lineno=145, col_offset=8), lineno=145, col_offset=8), If(UnaryOp(Not(), Name('seq', Load(), lineno=146, col_offset=15), lineno=146, col_offset=11), [Delete([Subscript(Attribute(Name('self', Load(), lineno=147, col_offset=16), '_len_to_seq', Load(), lineno=147, col_offset=16), Index(Name('length', Load(), lineno=147, col_offset=33)), Del(), lineno=147, col_offset=16)], lineno=147, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=148, col_offset=12), '_lengths', Load(), lineno=148, col_offset=12), 'remove', Load(), lineno=148, col_offset=12), [Name('length', Load(), lineno=148, col_offset=33)], [], None, None, lineno=148, col_offset=12), lineno=148, col_offset=12)], [], lineno=146, col_offset=8), Return(Tuple([Name('start', Load(), lineno=150, col_offset=15), Name('stop', Load(), lineno=150, col_offset=22)], Load(), lineno=150, col_offset=15), lineno=150, col_offset=8)], [], lineno=137, col_offset=4), FunctionDef('free', arguments([Name('self', Param(), lineno=152, col_offset=13), Name('block', Param(), lineno=152, col_offset=19)], None, None, []), [Assert(Compare(Call(Attribute(Name('os', Load(), lineno=154, col_offset=15), 'getpid', Load(), lineno=154, col_offset=15), [], [], None, None, lineno=154, col_offset=15), [Eq()], [Attribute(Name('self', Load(), lineno=154, col_offset=30), '_lastpid', Load(), lineno=154, col_offset=30)], lineno=154, col_offset=15), None, lineno=154, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=155, col_offset=8), '_lock', Load(), lineno=155, col_offset=8), 'acquire', Load(), lineno=155, col_offset=8), [], [], None, None, lineno=155, col_offset=8), lineno=155, col_offset=8), TryFinally([Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=157, col_offset=12), '_allocated_blocks', Load(), lineno=157, col_offset=12), 'remove', Load(), lineno=157, col_offset=12), [Name('block', Load(), lineno=157, col_offset=42)], [], None, None, lineno=157, col_offset=12), lineno=157, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=158, col_offset=12), '_free', Load(), lineno=158, col_offset=12), [Name('block', Load(), lineno=158, col_offset=23)], [], None, None, lineno=158, col_offset=12), lineno=158, col_offset=12)], [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=160, col_offset=12), '_lock', Load(), lineno=160, col_offset=12), 'release', Load(), lineno=160, col_offset=12), [], [], None, None, lineno=160, col_offset=12), lineno=160, col_offset=12)], lineno=156, col_offset=8)], [], lineno=152, col_offset=4), FunctionDef('malloc', arguments([Name('self', Param(), lineno=162, col_offset=15), Name('size', Param(), lineno=162, col_offset=21)], None, None, []), [Assert(Compare(Num(0, lineno=164, col_offset=15), [LtE(), Lt()], [Name('size', Load(), lineno=164, col_offset=20), Attribute(Name('sys', Load(), lineno=164, col_offset=27), 'maxint', Load(), lineno=164, col_offset=27)], lineno=164, col_offset=15), None, lineno=164, col_offset=8), If(Compare(Call(Attribute(Name('os', Load(), lineno=165, col_offset=11), 'getpid', Load(), lineno=165, col_offset=11), [], [], None, None, lineno=165, col_offset=11), [NotEq()], [Attribute(Name('self', Load(), lineno=165, col_offset=26), '_lastpid', Load(), lineno=165, col_offset=26)], lineno=165, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=166, col_offset=12), '__init__', Load(), lineno=166, col_offset=12), [], [], None, None, lineno=166, col_offset=12), lineno=166, col_offset=12)], [], lineno=165, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=167, col_offset=8), '_lock', Load(), lineno=167, col_offset=8), 'acquire', Load(), lineno=167, col_offset=8), [], [], None, None, lineno=167, col_offset=8), lineno=167, col_offset=8), TryFinally([Assign([Name('size', Store(), lineno=169, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=169, col_offset=19), '_roundup', Load(), lineno=169, col_offset=19), [Call(Name('max', Load(), lineno=169, col_offset=33), [Name('size', Load(), lineno=169, col_offset=37), Num(1, lineno=169, col_offset=42)], [], None, None, lineno=169, col_offset=33), Attribute(Name('self', Load(), lineno=169, col_offset=46), '_alignment', Load(), lineno=169, col_offset=46)], [], None, None, lineno=169, col_offset=19), lineno=169, col_offset=12), Assign([Tuple([Name('arena', Store(), lineno=170, col_offset=13), Name('start', Store(), lineno=170, col_offset=20), Name('stop', Store(), lineno=170, col_offset=27)], Store(), lineno=170, col_offset=13)], Call(Attribute(Name('self', Load(), lineno=170, col_offset=35), '_malloc', Load(), lineno=170, col_offset=35), [Name('size', Load(), lineno=170, col_offset=48)], [], None, None, lineno=170, col_offset=35), lineno=170, col_offset=12), Assign([Name('new_stop', Store(), lineno=171, col_offset=12)], BinOp(Name('start', Load(), lineno=171, col_offset=23), Add(), Name('size', Load(), lineno=171, col_offset=31), lineno=171, col_offset=23), lineno=171, col_offset=12), If(Compare(Name('new_stop', Load(), lineno=172, col_offset=15), [Lt()], [Name('stop', Load(), lineno=172, col_offset=26)], lineno=172, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=173, col_offset=16), '_free', Load(), lineno=173, col_offset=16), [Tuple([Name('arena', Load(), lineno=173, col_offset=28), Name('new_stop', Load(), lineno=173, col_offset=35), Name('stop', Load(), lineno=173, col_offset=45)], Load(), lineno=173, col_offset=28)], [], None, None, lineno=173, col_offset=16), lineno=173, col_offset=16)], [], lineno=172, col_offset=12), Assign([Name('block', Store(), lineno=174, col_offset=12)], Tuple([Name('arena', Load(), lineno=174, col_offset=21), Name('start', Load(), lineno=174, col_offset=28), Name('new_stop', Load(), lineno=174, col_offset=35)], Load(), lineno=174, col_offset=21), lineno=174, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=175, col_offset=12), '_allocated_blocks', Load(), lineno=175, col_offset=12), 'add', Load(), lineno=175, col_offset=12), [Name('block', Load(), lineno=175, col_offset=39)], [], None, None, lineno=175, col_offset=12), lineno=175, col_offset=12), Return(Name('block', Load(), lineno=176, col_offset=19), lineno=176, col_offset=12)], [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=178, col_offset=12), '_lock', Load(), lineno=178, col_offset=12), 'release', Load(), lineno=178, col_offset=12), [], [], None, None, lineno=178, col_offset=12), lineno=178, col_offset=12)], lineno=168, col_offset=8)], [], lineno=162, col_offset=4)], [], lineno=64, col_offset=0), ClassDef('BufferWrapper', [Name('object', Load(), lineno=184, col_offset=20)], [Assign([Name('_heap', Store(), lineno=186, col_offset=4)], Call(Name('Heap', Load(), lineno=186, col_offset=12), [], [], None, None, lineno=186, col_offset=12), lineno=186, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=188, col_offset=17), Name('size', Param(), lineno=188, col_offset=23)], None, None, []), [Assert(Compare(Num(0, lineno=189, col_offset=15), [LtE(), Lt()], [Name('size', Load(), lineno=189, col_offset=20), Attribute(Name('sys', Load(), lineno=189, col_offset=27), 'maxint', Load(), lineno=189, col_offset=27)], lineno=189, col_offset=15), None, lineno=189, col_offset=8), Assign([Name('block', Store(), lineno=190, col_offset=8)], Call(Attribute(Attribute(Name('BufferWrapper', Load(), lineno=190, col_offset=16), '_heap', Load(), lineno=190, col_offset=16), 'malloc', Load(), lineno=190, col_offset=16), [Name('size', Load(), lineno=190, col_offset=43)], [], None, None, lineno=190, col_offset=16), lineno=190, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=191, col_offset=8), '_state', Store(), lineno=191, col_offset=8)], Tuple([Name('block', Load(), lineno=191, col_offset=23), Name('size', Load(), lineno=191, col_offset=30)], Load(), lineno=191, col_offset=23), lineno=191, col_offset=8), Expr(Call(Name('Finalize', Load(), lineno=192, col_offset=8), [Name('self', Load(), lineno=192, col_offset=17), Attribute(Attribute(Name('BufferWrapper', Load(), lineno=192, col_offset=23), '_heap', Load(), lineno=192, col_offset=23), 'free', Load(), lineno=192, col_offset=23)], [keyword('args', Tuple([Name('block', Load(), lineno=192, col_offset=55)], Load(), lineno=192, col_offset=55))], None, None, lineno=192, col_offset=8), lineno=192, col_offset=8)], [], lineno=188, col_offset=4), FunctionDef('get_address', arguments([Name('self', Param(), lineno=194, col_offset=20)], None, None, []), [Assign([Tuple([Tuple([Name('arena', Store(), lineno=195, col_offset=9), Name('start', Store(), lineno=195, col_offset=16), Name('stop', Store(), lineno=195, col_offset=23)], Store(), lineno=195, col_offset=9), Name('size', Store(), lineno=195, col_offset=30)], Store(), lineno=195, col_offset=8)], Attribute(Name('self', Load(), lineno=195, col_offset=37), '_state', Load(), lineno=195, col_offset=37), lineno=195, col_offset=8), Assign([Tuple([Name('address', Store(), lineno=196, col_offset=8), Name('length', Store(), lineno=196, col_offset=17)], Store(), lineno=196, col_offset=8)], Call(Attribute(Name('_multiprocessing', Load(), lineno=196, col_offset=26), 'address_of_buffer', Load(), lineno=196, col_offset=26), [Attribute(Name('arena', Load(), lineno=196, col_offset=61), 'buffer', Load(), lineno=196, col_offset=61)], [], None, None, lineno=196, col_offset=26), lineno=196, col_offset=8), Assert(Compare(Name('size', Load(), lineno=197, col_offset=15), [LtE()], [Name('length', Load(), lineno=197, col_offset=23)], lineno=197, col_offset=15), None, lineno=197, col_offset=8), Return(BinOp(Name('address', Load(), lineno=198, col_offset=15), Add(), Name('start', Load(), lineno=198, col_offset=25), lineno=198, col_offset=15), lineno=198, col_offset=8)], [], lineno=194, col_offset=4), FunctionDef('get_size', arguments([Name('self', Param(), lineno=200, col_offset=17)], None, None, []), [Return(Subscript(Attribute(Name('self', Load(), lineno=201, col_offset=15), '_state', Load(), lineno=201, col_offset=15), Index(Num(1, lineno=201, col_offset=27)), Load(), lineno=201, col_offset=15), lineno=201, col_offset=8)], [], lineno=200, col_offset=4)], [], lineno=184, col_offset=0)])
