Module([Assign([Name('__all__', Store(), lineno=9, col_offset=0)], List([Str('Client', lineno=9, col_offset=12), Str('Listener', lineno=9, col_offset=22), Str('Pipe', lineno=9, col_offset=34)], Load(), lineno=9, col_offset=10), lineno=9, col_offset=0), ImportFrom('Queue', [alias('Queue', None)], 0, lineno=11, col_offset=0), Assign([Name('families', Store(), lineno=14, col_offset=0)], List([Name('None', Load(), lineno=14, col_offset=12)], Load(), lineno=14, col_offset=11), lineno=14, col_offset=0), ClassDef('Listener', [Name('object', Load(), lineno=17, col_offset=15)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=19, col_offset=17), Name('address', Param(), lineno=19, col_offset=23), Name('family', Param(), lineno=19, col_offset=37), Name('backlog', Param(), lineno=19, col_offset=50)], None, None, [Name('None', Load(), lineno=19, col_offset=31), Name('None', Load(), lineno=19, col_offset=44), Num(1, lineno=19, col_offset=58)]), [Assign([Attribute(Name('self', Load(), lineno=20, col_offset=8), '_backlog_queue', Store(), lineno=20, col_offset=8)], Call(Name('Queue', Load(), lineno=20, col_offset=30), [Name('backlog', Load(), lineno=20, col_offset=36)], [], None, None, lineno=20, col_offset=30), lineno=20, col_offset=8)], [], lineno=19, col_offset=4), FunctionDef('accept', arguments([Name('self', Param(), lineno=22, col_offset=15)], None, None, []), [Return(Call(Name('Connection', Load(), lineno=23, col_offset=15), [], [], Call(Attribute(Attribute(Name('self', Load(), lineno=23, col_offset=27), '_backlog_queue', Load(), lineno=23, col_offset=27), 'get', Load(), lineno=23, col_offset=27), [], [], None, None, lineno=23, col_offset=27), None, lineno=23, col_offset=15), lineno=23, col_offset=8)], [], lineno=22, col_offset=4), FunctionDef('close', arguments([Name('self', Param(), lineno=25, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=26, col_offset=8), '_backlog_queue', Store(), lineno=26, col_offset=8)], Name('None', Load(), lineno=26, col_offset=30), lineno=26, col_offset=8)], [], lineno=25, col_offset=4), Assign([Name('address', Store(), lineno=28, col_offset=4)], Call(Name('property', Load(), lineno=28, col_offset=14), [Lambda(arguments([Name('self', Param(), lineno=28, col_offset=30)], None, None, []), Attribute(Name('self', Load(), lineno=28, col_offset=36), '_backlog_queue', Load(), lineno=28, col_offset=36), lineno=28, col_offset=23)], [], None, None, lineno=28, col_offset=14), lineno=28, col_offset=4)], [], lineno=17, col_offset=0), FunctionDef('Client', arguments([Name('address', Param(), lineno=31, col_offset=11)], None, None, []), [Assign([Tuple([Name('_in', Store(), lineno=32, col_offset=4), Name('_out', Store(), lineno=32, col_offset=9)], Store(), lineno=32, col_offset=4)], Tuple([Call(Name('Queue', Load(), lineno=32, col_offset=16), [], [], None, None, lineno=32, col_offset=16), Call(Name('Queue', Load(), lineno=32, col_offset=25), [], [], None, None, lineno=32, col_offset=25)], Load(), lineno=32, col_offset=16), lineno=32, col_offset=4), Expr(Call(Attribute(Name('address', Load(), lineno=33, col_offset=4), 'put', Load(), lineno=33, col_offset=4), [Tuple([Name('_out', Load(), lineno=33, col_offset=17), Name('_in', Load(), lineno=33, col_offset=23)], Load(), lineno=33, col_offset=17)], [], None, None, lineno=33, col_offset=4), lineno=33, col_offset=4), Return(Call(Name('Connection', Load(), lineno=34, col_offset=11), [Name('_in', Load(), lineno=34, col_offset=22), Name('_out', Load(), lineno=34, col_offset=27)], [], None, None, lineno=34, col_offset=11), lineno=34, col_offset=4)], [], lineno=31, col_offset=0), FunctionDef('Pipe', arguments([Name('duplex', Param(), lineno=37, col_offset=9)], None, None, [Name('True', Load(), lineno=37, col_offset=16)]), [Assign([Tuple([Name('a', Store(), lineno=38, col_offset=4), Name('b', Store(), lineno=38, col_offset=7)], Store(), lineno=38, col_offset=4)], Tuple([Call(Name('Queue', Load(), lineno=38, col_offset=11), [], [], None, None, lineno=38, col_offset=11), Call(Name('Queue', Load(), lineno=38, col_offset=20), [], [], None, None, lineno=38, col_offset=20)], Load(), lineno=38, col_offset=11), lineno=38, col_offset=4), Return(Tuple([Call(Name('Connection', Load(), lineno=39, col_offset=11), [Name('a', Load(), lineno=39, col_offset=22), Name('b', Load(), lineno=39, col_offset=25)], [], None, None, lineno=39, col_offset=11), Call(Name('Connection', Load(), lineno=39, col_offset=29), [Name('b', Load(), lineno=39, col_offset=40), Name('a', Load(), lineno=39, col_offset=43)], [], None, None, lineno=39, col_offset=29)], Load(), lineno=39, col_offset=11), lineno=39, col_offset=4)], [], lineno=37, col_offset=0), ClassDef('Connection', [Name('object', Load(), lineno=42, col_offset=17)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=44, col_offset=17), Name('_in', Param(), lineno=44, col_offset=23), Name('_out', Param(), lineno=44, col_offset=28)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=45, col_offset=8), '_out', Store(), lineno=45, col_offset=8)], Name('_out', Load(), lineno=45, col_offset=20), lineno=45, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=46, col_offset=8), '_in', Store(), lineno=46, col_offset=8)], Name('_in', Load(), lineno=46, col_offset=19), lineno=46, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=47, col_offset=8), 'send', Store(), lineno=47, col_offset=8), Attribute(Name('self', Load(), lineno=47, col_offset=20), 'send_bytes', Store(), lineno=47, col_offset=20)], Attribute(Name('_out', Load(), lineno=47, col_offset=38), 'put', Load(), lineno=47, col_offset=38), lineno=47, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=48, col_offset=8), 'recv', Store(), lineno=48, col_offset=8), Attribute(Name('self', Load(), lineno=48, col_offset=20), 'recv_bytes', Store(), lineno=48, col_offset=20)], Attribute(Name('_in', Load(), lineno=48, col_offset=38), 'get', Load(), lineno=48, col_offset=38), lineno=48, col_offset=8)], [], lineno=44, col_offset=4), FunctionDef('poll', arguments([Name('self', Param(), lineno=50, col_offset=13), Name('timeout', Param(), lineno=50, col_offset=19)], None, None, [Num(0.0, lineno=50, col_offset=27)]), [If(Compare(Call(Attribute(Attribute(Name('self', Load(), lineno=51, col_offset=11), '_in', Load(), lineno=51, col_offset=11), 'qsize', Load(), lineno=51, col_offset=11), [], [], None, None, lineno=51, col_offset=11), [Gt()], [Num(0, lineno=51, col_offset=30)], lineno=51, col_offset=11), [Return(Name('True', Load(), lineno=52, col_offset=19), lineno=52, col_offset=12)], [], lineno=51, col_offset=8), If(Compare(Name('timeout', Load(), lineno=53, col_offset=11), [LtE()], [Num(0.0, lineno=53, col_offset=22)], lineno=53, col_offset=11), [Return(Name('False', Load(), lineno=54, col_offset=19), lineno=54, col_offset=12)], [], lineno=53, col_offset=8), Expr(Call(Attribute(Attribute(Attribute(Name('self', Load(), lineno=55, col_offset=8), '_in', Load(), lineno=55, col_offset=8), 'not_empty', Load(), lineno=55, col_offset=8), 'acquire', Load(), lineno=55, col_offset=8), [], [], None, None, lineno=55, col_offset=8), lineno=55, col_offset=8), Expr(Call(Attribute(Attribute(Attribute(Name('self', Load(), lineno=56, col_offset=8), '_in', Load(), lineno=56, col_offset=8), 'not_empty', Load(), lineno=56, col_offset=8), 'wait', Load(), lineno=56, col_offset=8), [Name('timeout', Load(), lineno=56, col_offset=32)], [], None, None, lineno=56, col_offset=8), lineno=56, col_offset=8), Expr(Call(Attribute(Attribute(Attribute(Name('self', Load(), lineno=57, col_offset=8), '_in', Load(), lineno=57, col_offset=8), 'not_empty', Load(), lineno=57, col_offset=8), 'release', Load(), lineno=57, col_offset=8), [], [], None, None, lineno=57, col_offset=8), lineno=57, col_offset=8), Return(Compare(Call(Attribute(Attribute(Name('self', Load(), lineno=58, col_offset=15), '_in', Load(), lineno=58, col_offset=15), 'qsize', Load(), lineno=58, col_offset=15), [], [], None, None, lineno=58, col_offset=15), [Gt()], [Num(0, lineno=58, col_offset=34)], lineno=58, col_offset=15), lineno=58, col_offset=8)], [], lineno=50, col_offset=4), FunctionDef('close', arguments([Name('self', Param(), lineno=60, col_offset=14)], None, None, []), [Pass( lineno=61, col_offset=8)], [], lineno=60, col_offset=4)], [], lineno=42, col_offset=0)])
