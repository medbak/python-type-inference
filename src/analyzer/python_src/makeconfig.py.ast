Module([Import([alias('re', None)], lineno=1, col_offset=0), Import([alias('sys', None)], lineno=2, col_offset=0), Assign([Name('never', Store(), lineno=6, col_offset=0)], List([Str('marshal', lineno=6, col_offset=9), Str('__main__', lineno=6, col_offset=20), Str('__builtin__', lineno=6, col_offset=32), Str('sys', lineno=6, col_offset=47), Str('exceptions', lineno=6, col_offset=54), Str('_warnings', lineno=6, col_offset=68)], Load(), lineno=6, col_offset=8), lineno=6, col_offset=0), FunctionDef('makeconfig', arguments([Name('infp', Param(), lineno=8, col_offset=15), Name('outfp', Param(), lineno=8, col_offset=21), Name('modules', Param(), lineno=8, col_offset=28), Name('with_ifdef', Param(), lineno=8, col_offset=37)], None, None, [Num(0, lineno=8, col_offset=48)]), [Assign([Name('m1', Store(), lineno=9, col_offset=4)], Call(Attribute(Name('re', Load(), lineno=9, col_offset=9), 'compile', Load(), lineno=9, col_offset=9), [Str('-- ADDMODULE MARKER 1 --', lineno=9, col_offset=20)], [], None, None, lineno=9, col_offset=9), lineno=9, col_offset=4), Assign([Name('m2', Store(), lineno=10, col_offset=4)], Call(Attribute(Name('re', Load(), lineno=10, col_offset=9), 'compile', Load(), lineno=10, col_offset=9), [Str('-- ADDMODULE MARKER 2 --', lineno=10, col_offset=20)], [], None, None, lineno=10, col_offset=9), lineno=10, col_offset=4), While(Num(1, lineno=11, col_offset=10), [Assign([Name('line', Store(), lineno=12, col_offset=8)], Call(Attribute(Name('infp', Load(), lineno=12, col_offset=15), 'readline', Load(), lineno=12, col_offset=15), [], [], None, None, lineno=12, col_offset=15), lineno=12, col_offset=8), If(UnaryOp(Not(), Name('line', Load(), lineno=13, col_offset=15), lineno=13, col_offset=11), [Break( lineno=13, col_offset=21)], [], lineno=13, col_offset=8), Expr(Call(Attribute(Name('outfp', Load(), lineno=14, col_offset=8), 'write', Load(), lineno=14, col_offset=8), [Name('line', Load(), lineno=14, col_offset=20)], [], None, None, lineno=14, col_offset=8), lineno=14, col_offset=8), If(BoolOp(And(), [Name('m1', Load(), lineno=15, col_offset=11), Call(Attribute(Name('m1', Load(), lineno=15, col_offset=18), 'search', Load(), lineno=15, col_offset=18), [Name('line', Load(), lineno=15, col_offset=28)], [], None, None, lineno=15, col_offset=18)], lineno=15, col_offset=11), [Assign([Name('m1', Store(), lineno=16, col_offset=12)], Name('None', Load(), lineno=16, col_offset=17), lineno=16, col_offset=12), For(Name('mod', Store(), lineno=17, col_offset=16), Name('modules', Load(), lineno=17, col_offset=23), [If(Compare(Name('mod', Load(), lineno=18, col_offset=19), [In()], [Name('never', Load(), lineno=18, col_offset=26)], lineno=18, col_offset=19), [Continue( lineno=19, col_offset=20)], [], lineno=18, col_offset=16), If(Name('with_ifdef', Load(), lineno=20, col_offset=19), [Expr(Call(Attribute(Name('outfp', Load(), lineno=21, col_offset=20), 'write', Load(), lineno=21, col_offset=20), [BinOp(Str('#ifndef init%s\n', lineno=21, col_offset=32), Mod(), Name('mod', Load(), lineno=21, col_offset=51), lineno=21, col_offset=32)], [], None, None, lineno=21, col_offset=20), lineno=21, col_offset=20)], [], lineno=20, col_offset=16), Expr(Call(Attribute(Name('outfp', Load(), lineno=22, col_offset=16), 'write', Load(), lineno=22, col_offset=16), [BinOp(Str('extern void init%s(void);\n', lineno=22, col_offset=28), Mod(), Name('mod', Load(), lineno=22, col_offset=60), lineno=22, col_offset=28)], [], None, None, lineno=22, col_offset=16), lineno=22, col_offset=16), If(Name('with_ifdef', Load(), lineno=23, col_offset=19), [Expr(Call(Attribute(Name('outfp', Load(), lineno=24, col_offset=20), 'write', Load(), lineno=24, col_offset=20), [Str('#endif\n', lineno=24, col_offset=32)], [], None, None, lineno=24, col_offset=20), lineno=24, col_offset=20)], [], lineno=23, col_offset=16)], [], lineno=17, col_offset=12)], [If(BoolOp(And(), [Name('m2', Load(), lineno=25, col_offset=13), Call(Attribute(Name('m2', Load(), lineno=25, col_offset=20), 'search', Load(), lineno=25, col_offset=20), [Name('line', Load(), lineno=25, col_offset=30)], [], None, None, lineno=25, col_offset=20)], lineno=25, col_offset=13), [Assign([Name('m2', Store(), lineno=26, col_offset=12)], Name('None', Load(), lineno=26, col_offset=17), lineno=26, col_offset=12), For(Name('mod', Store(), lineno=27, col_offset=16), Name('modules', Load(), lineno=27, col_offset=23), [If(Compare(Name('mod', Load(), lineno=28, col_offset=19), [In()], [Name('never', Load(), lineno=28, col_offset=26)], lineno=28, col_offset=19), [Continue( lineno=29, col_offset=20)], [], lineno=28, col_offset=16), Expr(Call(Attribute(Name('outfp', Load(), lineno=30, col_offset=16), 'write', Load(), lineno=30, col_offset=16), [BinOp(Str('\t{"%s", init%s},\n', lineno=30, col_offset=28), Mod(), Tuple([Name('mod', Load(), lineno=31, col_offset=29), Name('mod', Load(), lineno=31, col_offset=34)], Load(), lineno=31, col_offset=29), lineno=30, col_offset=28)], [], None, None, lineno=30, col_offset=16), lineno=30, col_offset=16)], [], lineno=27, col_offset=12)], [], lineno=25, col_offset=13)], lineno=15, col_offset=8)], [], lineno=11, col_offset=4), If(Name('m1', Load(), lineno=32, col_offset=7), [Expr(Call(Attribute(Attribute(Name('sys', Load(), lineno=33, col_offset=8), 'stderr', Load(), lineno=33, col_offset=8), 'write', Load(), lineno=33, col_offset=8), [Str('MARKER 1 never found\n', lineno=33, col_offset=25)], [], None, None, lineno=33, col_offset=8), lineno=33, col_offset=8)], [If(Name('m2', Load(), lineno=34, col_offset=9), [Expr(Call(Attribute(Attribute(Name('sys', Load(), lineno=35, col_offset=8), 'stderr', Load(), lineno=35, col_offset=8), 'write', Load(), lineno=35, col_offset=8), [Str('MARKER 2 never found\n', lineno=35, col_offset=25)], [], None, None, lineno=35, col_offset=8), lineno=35, col_offset=8)], [], lineno=34, col_offset=9)], lineno=32, col_offset=4)], [], lineno=8, col_offset=0), FunctionDef('test', arguments([], None, None, []), [If(UnaryOp(Not(), Subscript(Attribute(Name('sys', Load(), lineno=41, col_offset=11), 'argv', Load(), lineno=41, col_offset=11), Slice(Num(3, lineno=41, col_offset=20), None, None), Load(), lineno=41, col_offset=11), lineno=41, col_offset=7), [Print(None, [Str('usage: python makeconfig.py config.c.in outputfile', lineno=42, col_offset=14)], False, lineno=42, col_offset=8), Print(None, [Str('modulename ...', lineno=43, col_offset=14)], True, lineno=43, col_offset=8), Expr(Call(Attribute(Name('sys', Load(), lineno=44, col_offset=8), 'exit', Load(), lineno=44, col_offset=8), [Num(2, lineno=44, col_offset=17)], [], None, None, lineno=44, col_offset=8), lineno=44, col_offset=8)], [], lineno=41, col_offset=4), If(Compare(Subscript(Attribute(Name('sys', Load(), lineno=45, col_offset=7), 'argv', Load(), lineno=45, col_offset=7), Index(Num(1, lineno=45, col_offset=16)), Load(), lineno=45, col_offset=7), [Eq()], [Str('-', lineno=45, col_offset=22)], lineno=45, col_offset=7), [Assign([Name('infp', Store(), lineno=46, col_offset=8)], Attribute(Name('sys', Load(), lineno=46, col_offset=15), 'stdin', Load(), lineno=46, col_offset=15), lineno=46, col_offset=8)], [Assign([Name('infp', Store(), lineno=48, col_offset=8)], Call(Name('open', Load(), lineno=48, col_offset=15), [Subscript(Attribute(Name('sys', Load(), lineno=48, col_offset=20), 'argv', Load(), lineno=48, col_offset=20), Index(Num(1, lineno=48, col_offset=29)), Load(), lineno=48, col_offset=20)], [], None, None, lineno=48, col_offset=15), lineno=48, col_offset=8)], lineno=45, col_offset=4), If(Compare(Subscript(Attribute(Name('sys', Load(), lineno=49, col_offset=7), 'argv', Load(), lineno=49, col_offset=7), Index(Num(2, lineno=49, col_offset=16)), Load(), lineno=49, col_offset=7), [Eq()], [Str('-', lineno=49, col_offset=22)], lineno=49, col_offset=7), [Assign([Name('outfp', Store(), lineno=50, col_offset=8)], Attribute(Name('sys', Load(), lineno=50, col_offset=16), 'stdout', Load(), lineno=50, col_offset=16), lineno=50, col_offset=8)], [Assign([Name('outfp', Store(), lineno=52, col_offset=8)], Call(Name('open', Load(), lineno=52, col_offset=16), [Subscript(Attribute(Name('sys', Load(), lineno=52, col_offset=21), 'argv', Load(), lineno=52, col_offset=21), Index(Num(2, lineno=52, col_offset=30)), Load(), lineno=52, col_offset=21), Str('w', lineno=52, col_offset=34)], [], None, None, lineno=52, col_offset=16), lineno=52, col_offset=8)], lineno=49, col_offset=4), Expr(Call(Name('makeconfig', Load(), lineno=53, col_offset=4), [Name('infp', Load(), lineno=53, col_offset=15), Name('outfp', Load(), lineno=53, col_offset=21), Subscript(Attribute(Name('sys', Load(), lineno=53, col_offset=28), 'argv', Load(), lineno=53, col_offset=28), Slice(Num(3, lineno=53, col_offset=37), None, None), Load(), lineno=53, col_offset=28)], [], None, None, lineno=53, col_offset=4), lineno=53, col_offset=4), If(Compare(Name('outfp', Load(), lineno=54, col_offset=7), [NotEq()], [Attribute(Name('sys', Load(), lineno=54, col_offset=16), 'stdout', Load(), lineno=54, col_offset=16)], lineno=54, col_offset=7), [Expr(Call(Attribute(Name('outfp', Load(), lineno=55, col_offset=8), 'close', Load(), lineno=55, col_offset=8), [], [], None, None, lineno=55, col_offset=8), lineno=55, col_offset=8)], [], lineno=54, col_offset=4), If(Compare(Name('infp', Load(), lineno=56, col_offset=7), [NotEq()], [Attribute(Name('sys', Load(), lineno=56, col_offset=15), 'stdin', Load(), lineno=56, col_offset=15)], lineno=56, col_offset=7), [Expr(Call(Attribute(Name('infp', Load(), lineno=57, col_offset=8), 'close', Load(), lineno=57, col_offset=8), [], [], None, None, lineno=57, col_offset=8), lineno=57, col_offset=8)], [], lineno=56, col_offset=4)], [], lineno=40, col_offset=0), If(Compare(Name('__name__', Load(), lineno=59, col_offset=3), [Eq()], [Str('__main__', lineno=59, col_offset=15)], lineno=59, col_offset=3), [Expr(Call(Name('test', Load(), lineno=60, col_offset=4), [], [], None, None, lineno=60, col_offset=4), lineno=60, col_offset=4)], [], lineno=59, col_offset=0)])
