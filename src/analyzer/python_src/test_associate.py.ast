Module([Expr(Str('\nTestCases for DB.associate.\n', lineno=3, col_offset=-1), lineno=3, col_offset=-1), Import([alias('sys', None), alias('os', None), alias('string', None)], lineno=5, col_offset=0), Import([alias('time', None)], lineno=6, col_offset=0), ImportFrom('pprint', [alias('pprint', None)], 0, lineno=7, col_offset=0), Import([alias('unittest', None)], lineno=9, col_offset=0), ImportFrom('test_all', [alias('db', None), alias('dbshelve', None), alias('test_support', None), alias('verbose', None), alias('have_threads', None), alias('get_new_environment_path', None)], 0, lineno=10, col_offset=0), Assign([Name('musicdata', Store(), lineno=17, col_offset=0)], Dict([Num(1, lineno=18, col_offset=0), Num(2, lineno=19, col_offset=0), Num(3, lineno=20, col_offset=0), Num(4, lineno=21, col_offset=0), Num(5, lineno=22, col_offset=0), Num(6, lineno=23, col_offset=0), Num(7, lineno=24, col_offset=0), Num(8, lineno=25, col_offset=0), Num(9, lineno=26, col_offset=0), Num(10, lineno=27, col_offset=0), Num(11, lineno=28, col_offset=0), Num(12, lineno=29, col_offset=0), Num(13, lineno=30, col_offset=0), Num(14, lineno=31, col_offset=0), Num(15, lineno=32, col_offset=0), Num(16, lineno=33, col_offset=0), Num(17, lineno=34, col_offset=0), Num(18, lineno=35, col_offset=0), Num(19, lineno=36, col_offset=0), Num(20, lineno=37, col_offset=0), Num(21, lineno=38, col_offset=0), Num(22, lineno=39, col_offset=0), Num(23, lineno=40, col_offset=0), Num(24, lineno=41, col_offset=0), Num(25, lineno=42, col_offset=0), Num(26, lineno=43, col_offset=0), Num(27, lineno=44, col_offset=0), Num(28, lineno=45, col_offset=0), Num(29, lineno=46, col_offset=0), Num(30, lineno=47, col_offset=0), Num(31, lineno=48, col_offset=0), Num(32, lineno=49, col_offset=0), Num(33, lineno=50, col_offset=0), Num(34, lineno=51, col_offset=0), Num(35, lineno=52, col_offset=0), Num(36, lineno=53, col_offset=0), Num(37, lineno=54, col_offset=0), Num(38, lineno=55, col_offset=0), Num(39, lineno=56, col_offset=0), Num(40, lineno=57, col_offset=0), Num(41, lineno=58, col_offset=0), Num(42, lineno=59, col_offset=0), Num(43, lineno=60, col_offset=0), Num(44, lineno=61, col_offset=0), Num(45, lineno=62, col_offset=0), Num(46, lineno=63, col_offset=0), Num(47, lineno=64, col_offset=0), Num(48, lineno=65, col_offset=0), Num(49, lineno=67, col_offset=0), Num(50, lineno=68, col_offset=0), Num(51, lineno=69, col_offset=0), Num(52, lineno=70, col_offset=0), Num(53, lineno=71, col_offset=0), Num(54, lineno=72, col_offset=0), Num(99, lineno=73, col_offset=0)], [Tuple([Str('Bad English', lineno=18, col_offset=5), Str('The Price Of Love', lineno=18, col_offset=20), Str('Rock', lineno=18, col_offset=41)], Load(), lineno=18, col_offset=5), Tuple([Str('DNA featuring Suzanne Vega', lineno=19, col_offset=5), Str("Tom's Diner", lineno=19, col_offset=35), Str('Rock', lineno=19, col_offset=50)], Load(), lineno=19, col_offset=5), Tuple([Str('George Michael', lineno=20, col_offset=5), Str('Praying For Time', lineno=20, col_offset=23), Str('Rock', lineno=20, col_offset=43)], Load(), lineno=20, col_offset=5), Tuple([Str('Gloria Estefan', lineno=21, col_offset=5), Str('Here We Are', lineno=21, col_offset=23), Str('Rock', lineno=21, col_offset=38)], Load(), lineno=21, col_offset=5), Tuple([Str('Linda Ronstadt', lineno=22, col_offset=5), Str("Don't Know Much", lineno=22, col_offset=23), Str('Rock', lineno=22, col_offset=42)], Load(), lineno=22, col_offset=5), Tuple([Str('Michael Bolton', lineno=23, col_offset=5), Str('How Am I Supposed To Live Without You', lineno=23, col_offset=23), Str('Blues', lineno=23, col_offset=64)], Load(), lineno=23, col_offset=5), Tuple([Str('Paul Young', lineno=24, col_offset=5), Str('Oh Girl', lineno=24, col_offset=19), Str('Rock', lineno=24, col_offset=30)], Load(), lineno=24, col_offset=5), Tuple([Str('Paula Abdul', lineno=25, col_offset=5), Str('Opposites Attract', lineno=25, col_offset=20), Str('Rock', lineno=25, col_offset=41)], Load(), lineno=25, col_offset=5), Tuple([Str('Richard Marx', lineno=26, col_offset=5), Str("Should've Known Better", lineno=26, col_offset=21), Str('Rock', lineno=26, col_offset=47)], Load(), lineno=26, col_offset=5), Tuple([Str('Rod Stewart', lineno=27, col_offset=5), Str('Forever Young', lineno=27, col_offset=20), Str('Rock', lineno=27, col_offset=37)], Load(), lineno=27, col_offset=5), Tuple([Str('Roxette', lineno=28, col_offset=5), Str('Dangerous', lineno=28, col_offset=16), Str('Rock', lineno=28, col_offset=29)], Load(), lineno=28, col_offset=5), Tuple([Str('Sheena Easton', lineno=29, col_offset=5), Str('The Lover In Me', lineno=29, col_offset=22), Str('Rock', lineno=29, col_offset=41)], Load(), lineno=29, col_offset=5), Tuple([Str("Sinead O'Connor", lineno=30, col_offset=5), Str('Nothing Compares 2 U', lineno=30, col_offset=24), Str('Rock', lineno=30, col_offset=48)], Load(), lineno=30, col_offset=5), Tuple([Str('Stevie B.', lineno=31, col_offset=5), Str('Because I Love You', lineno=31, col_offset=18), Str('Rock', lineno=31, col_offset=40)], Load(), lineno=31, col_offset=5), Tuple([Str('Taylor Dayne', lineno=32, col_offset=5), Str('Love Will Lead You Back', lineno=32, col_offset=21), Str('Rock', lineno=32, col_offset=48)], Load(), lineno=32, col_offset=5), Tuple([Str('The Bangles', lineno=33, col_offset=5), Str('Eternal Flame', lineno=33, col_offset=20), Str('Rock', lineno=33, col_offset=37)], Load(), lineno=33, col_offset=5), Tuple([Str('Wilson Phillips', lineno=34, col_offset=5), Str('Release Me', lineno=34, col_offset=24), Str('Rock', lineno=34, col_offset=38)], Load(), lineno=34, col_offset=5), Tuple([Str('Billy Joel', lineno=35, col_offset=5), Str('Blonde Over Blue', lineno=35, col_offset=19), Str('Rock', lineno=35, col_offset=39)], Load(), lineno=35, col_offset=5), Tuple([Str('Billy Joel', lineno=36, col_offset=5), Str('Famous Last Words', lineno=36, col_offset=19), Str('Rock', lineno=36, col_offset=40)], Load(), lineno=36, col_offset=5), Tuple([Str('Billy Joel', lineno=37, col_offset=5), Str('Lullabye (Goodnight, My Angel)', lineno=37, col_offset=19), Str('Rock', lineno=37, col_offset=53)], Load(), lineno=37, col_offset=5), Tuple([Str('Billy Joel', lineno=38, col_offset=5), Str('The River Of Dreams', lineno=38, col_offset=19), Str('Rock', lineno=38, col_offset=42)], Load(), lineno=38, col_offset=5), Tuple([Str('Billy Joel', lineno=39, col_offset=5), Str('Two Thousand Years', lineno=39, col_offset=19), Str('Rock', lineno=39, col_offset=41)], Load(), lineno=39, col_offset=5), Tuple([Str('Janet Jackson', lineno=40, col_offset=5), Str('Alright', lineno=40, col_offset=22), Str('Rock', lineno=40, col_offset=33)], Load(), lineno=40, col_offset=5), Tuple([Str('Janet Jackson', lineno=41, col_offset=5), Str('Black Cat', lineno=41, col_offset=22), Str('Rock', lineno=41, col_offset=35)], Load(), lineno=41, col_offset=5), Tuple([Str('Janet Jackson', lineno=42, col_offset=5), Str('Come Back To Me', lineno=42, col_offset=22), Str('Rock', lineno=42, col_offset=41)], Load(), lineno=42, col_offset=5), Tuple([Str('Janet Jackson', lineno=43, col_offset=5), Str('Escapade', lineno=43, col_offset=22), Str('Rock', lineno=43, col_offset=34)], Load(), lineno=43, col_offset=5), Tuple([Str('Janet Jackson', lineno=44, col_offset=5), Str('Love Will Never Do (Without You)', lineno=44, col_offset=22), Str('Rock', lineno=44, col_offset=58)], Load(), lineno=44, col_offset=5), Tuple([Str('Janet Jackson', lineno=45, col_offset=5), Str('Miss You Much', lineno=45, col_offset=22), Str('Rock', lineno=45, col_offset=39)], Load(), lineno=45, col_offset=5), Tuple([Str('Janet Jackson', lineno=46, col_offset=5), Str('Rhythm Nation', lineno=46, col_offset=22), Str('Rock', lineno=46, col_offset=39)], Load(), lineno=46, col_offset=5), Tuple([Str('Janet Jackson', lineno=47, col_offset=5), Str('State Of The World', lineno=47, col_offset=22), Str('Rock', lineno=47, col_offset=44)], Load(), lineno=47, col_offset=5), Tuple([Str('Janet Jackson', lineno=48, col_offset=5), Str('The Knowledge', lineno=48, col_offset=22), Str('Rock', lineno=48, col_offset=39)], Load(), lineno=48, col_offset=5), Tuple([Str('Spyro Gyra', lineno=49, col_offset=5), Str('End of Romanticism', lineno=49, col_offset=19), Str('Jazz', lineno=49, col_offset=41)], Load(), lineno=49, col_offset=5), Tuple([Str('Spyro Gyra', lineno=50, col_offset=5), Str('Heliopolis', lineno=50, col_offset=19), Str('Jazz', lineno=50, col_offset=33)], Load(), lineno=50, col_offset=5), Tuple([Str('Spyro Gyra', lineno=51, col_offset=5), Str('Jubilee', lineno=51, col_offset=19), Str('Jazz', lineno=51, col_offset=30)], Load(), lineno=51, col_offset=5), Tuple([Str('Spyro Gyra', lineno=52, col_offset=5), Str('Little Linda', lineno=52, col_offset=19), Str('Jazz', lineno=52, col_offset=35)], Load(), lineno=52, col_offset=5), Tuple([Str('Spyro Gyra', lineno=53, col_offset=5), Str('Morning Dance', lineno=53, col_offset=19), Str('Jazz', lineno=53, col_offset=36)], Load(), lineno=53, col_offset=5), Tuple([Str('Spyro Gyra', lineno=54, col_offset=5), Str('Song for Lorraine', lineno=54, col_offset=19), Str('Jazz', lineno=54, col_offset=40)], Load(), lineno=54, col_offset=5), Tuple([Str('Yes', lineno=55, col_offset=5), Str('Owner Of A Lonely Heart', lineno=55, col_offset=12), Str('Rock', lineno=55, col_offset=39)], Load(), lineno=55, col_offset=5), Tuple([Str('Yes', lineno=56, col_offset=5), Str('Rhythm Of Love', lineno=56, col_offset=12), Str('Rock', lineno=56, col_offset=30)], Load(), lineno=56, col_offset=5), Tuple([Str('Cusco', lineno=57, col_offset=5), Str('Dream Catcher', lineno=57, col_offset=14), Str('New Age', lineno=57, col_offset=31)], Load(), lineno=57, col_offset=5), Tuple([Str('Cusco', lineno=58, col_offset=5), Str('Geronimos Laughter', lineno=58, col_offset=14), Str('New Age', lineno=58, col_offset=36)], Load(), lineno=58, col_offset=5), Tuple([Str('Cusco', lineno=59, col_offset=5), Str('Ghost Dance', lineno=59, col_offset=14), Str('New Age', lineno=59, col_offset=29)], Load(), lineno=59, col_offset=5), Tuple([Str('Blue Man Group', lineno=60, col_offset=5), Str('Drumbone', lineno=60, col_offset=23), Str('New Age', lineno=60, col_offset=35)], Load(), lineno=60, col_offset=5), Tuple([Str('Blue Man Group', lineno=61, col_offset=5), Str('Endless Column', lineno=61, col_offset=23), Str('New Age', lineno=61, col_offset=41)], Load(), lineno=61, col_offset=5), Tuple([Str('Blue Man Group', lineno=62, col_offset=5), Str('Klein Mandelbrot', lineno=62, col_offset=23), Str('New Age', lineno=62, col_offset=43)], Load(), lineno=62, col_offset=5), Tuple([Str('Kenny G', lineno=63, col_offset=5), Str('Silhouette', lineno=63, col_offset=16), Str('Jazz', lineno=63, col_offset=30)], Load(), lineno=63, col_offset=5), Tuple([Str('Sade', lineno=64, col_offset=5), Str('Smooth Operator', lineno=64, col_offset=13), Str('Jazz', lineno=64, col_offset=32)], Load(), lineno=64, col_offset=5), Tuple([Str('David Arkenstone', lineno=65, col_offset=5), Str('Papillon (On The Wings Of The Butterfly)', lineno=65, col_offset=25), Str('New Age', lineno=66, col_offset=5)], Load(), lineno=65, col_offset=5), Tuple([Str('David Arkenstone', lineno=67, col_offset=5), Str('Stepping Stars', lineno=67, col_offset=25), Str('New Age', lineno=67, col_offset=43)], Load(), lineno=67, col_offset=5), Tuple([Str('David Arkenstone', lineno=68, col_offset=5), Str('Carnation Lily Lily Rose', lineno=68, col_offset=25), Str('New Age', lineno=68, col_offset=53)], Load(), lineno=68, col_offset=5), Tuple([Str('David Lanz', lineno=69, col_offset=5), Str('Behind The Waterfall', lineno=69, col_offset=19), Str('New Age', lineno=69, col_offset=43)], Load(), lineno=69, col_offset=5), Tuple([Str('David Lanz', lineno=70, col_offset=5), Str("Cristofori's Dream", lineno=70, col_offset=19), Str('New Age', lineno=70, col_offset=41)], Load(), lineno=70, col_offset=5), Tuple([Str('David Lanz', lineno=71, col_offset=5), Str('Heartsounds', lineno=71, col_offset=19), Str('New Age', lineno=71, col_offset=34)], Load(), lineno=71, col_offset=5), Tuple([Str('David Lanz', lineno=72, col_offset=5), Str('Leaves on the Seine', lineno=72, col_offset=19), Str('New Age', lineno=72, col_offset=42)], Load(), lineno=72, col_offset=5), Tuple([Str('unknown artist', lineno=73, col_offset=5), Str('Unnamed song', lineno=73, col_offset=23), Str('Unknown', lineno=73, col_offset=39)], Load(), lineno=73, col_offset=5)], lineno=17, col_offset=12), lineno=17, col_offset=0), ClassDef('AssociateErrorTestCase', [Attribute(Name('unittest', Load(), lineno=78, col_offset=29), 'TestCase', Load(), lineno=78, col_offset=29)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=79, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=80, col_offset=8), 'filename', Store(), lineno=80, col_offset=8)], BinOp(Attribute(Attribute(Name('self', Load(), lineno=80, col_offset=24), '__class__', Load(), lineno=80, col_offset=24), '__name__', Load(), lineno=80, col_offset=24), Add(), Str('.db', lineno=80, col_offset=50), lineno=80, col_offset=24), lineno=80, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=81, col_offset=8), 'homeDir', Store(), lineno=81, col_offset=8)], Call(Name('get_new_environment_path', Load(), lineno=81, col_offset=23), [], [], None, None, lineno=81, col_offset=23), lineno=81, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=82, col_offset=8), 'env', Store(), lineno=82, col_offset=8)], Call(Attribute(Name('db', Load(), lineno=82, col_offset=19), 'DBEnv', Load(), lineno=82, col_offset=19), [], [], None, None, lineno=82, col_offset=19), lineno=82, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=83, col_offset=8), 'env', Load(), lineno=83, col_offset=8), 'open', Load(), lineno=83, col_offset=8), [Attribute(Name('self', Load(), lineno=83, col_offset=22), 'homeDir', Load(), lineno=83, col_offset=22), BinOp(Attribute(Name('db', Load(), lineno=83, col_offset=36), 'DB_CREATE', Load(), lineno=83, col_offset=36), BitOr(), Attribute(Name('db', Load(), lineno=83, col_offset=51), 'DB_INIT_MPOOL', Load(), lineno=83, col_offset=51), lineno=83, col_offset=36)], [], None, None, lineno=83, col_offset=8), lineno=83, col_offset=8)], [], lineno=79, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=85, col_offset=17)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=86, col_offset=8), 'env', Load(), lineno=86, col_offset=8), 'close', Load(), lineno=86, col_offset=8), [], [], None, None, lineno=86, col_offset=8), lineno=86, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=87, col_offset=8), 'env', Store(), lineno=87, col_offset=8)], Name('None', Load(), lineno=87, col_offset=19), lineno=87, col_offset=8), Expr(Call(Attribute(Name('test_support', Load(), lineno=88, col_offset=8), 'rmtree', Load(), lineno=88, col_offset=8), [Attribute(Name('self', Load(), lineno=88, col_offset=28), 'homeDir', Load(), lineno=88, col_offset=28)], [], None, None, lineno=88, col_offset=8), lineno=88, col_offset=8)], [], lineno=85, col_offset=4), FunctionDef('test00_associateDBError', arguments([Name('self', Param(), lineno=90, col_offset=32)], None, None, []), [If(Name('verbose', Load(), lineno=91, col_offset=11), [Print(None, [Str('\n', lineno=92, col_offset=18), BinOp(Str('-=', lineno=92, col_offset=24), Mult(), Num(30, lineno=92, col_offset=31), lineno=92, col_offset=24)], True, lineno=92, col_offset=12), Print(None, [BinOp(Str('Running %s.test00_associateDBError...', lineno=93, col_offset=18), Mod(), Attribute(Attribute(Name('self', Load(), lineno=94, col_offset=18), '__class__', Load(), lineno=94, col_offset=18), '__name__', Load(), lineno=94, col_offset=18), lineno=93, col_offset=18)], True, lineno=93, col_offset=12)], [], lineno=91, col_offset=8), Assign([Name('dupDB', Store(), lineno=96, col_offset=8)], Call(Attribute(Name('db', Load(), lineno=96, col_offset=16), 'DB', Load(), lineno=96, col_offset=16), [Attribute(Name('self', Load(), lineno=96, col_offset=22), 'env', Load(), lineno=96, col_offset=22)], [], None, None, lineno=96, col_offset=16), lineno=96, col_offset=8), Expr(Call(Attribute(Name('dupDB', Load(), lineno=97, col_offset=8), 'set_flags', Load(), lineno=97, col_offset=8), [Attribute(Name('db', Load(), lineno=97, col_offset=24), 'DB_DUP', Load(), lineno=97, col_offset=24)], [], None, None, lineno=97, col_offset=8), lineno=97, col_offset=8), Expr(Call(Attribute(Name('dupDB', Load(), lineno=98, col_offset=8), 'open', Load(), lineno=98, col_offset=8), [Attribute(Name('self', Load(), lineno=98, col_offset=19), 'filename', Load(), lineno=98, col_offset=19), Str('primary', lineno=98, col_offset=34), Attribute(Name('db', Load(), lineno=98, col_offset=45), 'DB_BTREE', Load(), lineno=98, col_offset=45), Attribute(Name('db', Load(), lineno=98, col_offset=58), 'DB_CREATE', Load(), lineno=98, col_offset=58)], [], None, None, lineno=98, col_offset=8), lineno=98, col_offset=8), Assign([Name('secDB', Store(), lineno=100, col_offset=8)], Call(Attribute(Name('db', Load(), lineno=100, col_offset=16), 'DB', Load(), lineno=100, col_offset=16), [Attribute(Name('self', Load(), lineno=100, col_offset=22), 'env', Load(), lineno=100, col_offset=22)], [], None, None, lineno=100, col_offset=16), lineno=100, col_offset=8), Expr(Call(Attribute(Name('secDB', Load(), lineno=101, col_offset=8), 'open', Load(), lineno=101, col_offset=8), [Attribute(Name('self', Load(), lineno=101, col_offset=19), 'filename', Load(), lineno=101, col_offset=19), Str('secondary', lineno=101, col_offset=34), Attribute(Name('db', Load(), lineno=101, col_offset=47), 'DB_BTREE', Load(), lineno=101, col_offset=47), Attribute(Name('db', Load(), lineno=101, col_offset=60), 'DB_CREATE', Load(), lineno=101, col_offset=60)], [], None, None, lineno=101, col_offset=8), lineno=101, col_offset=8), TryExcept([FunctionDef('f', arguments([Name('a', Param(), lineno=106, col_offset=18), Name('b', Param(), lineno=106, col_offset=20)], None, None, []), [Return(BinOp(Name('a', Load(), lineno=106, col_offset=31), Add(), Name('b', Load(), lineno=106, col_offset=33), lineno=106, col_offset=31), lineno=106, col_offset=24)], [], lineno=106, col_offset=12), Expr(Call(Attribute(Name('dupDB', Load(), lineno=107, col_offset=12), 'associate', Load(), lineno=107, col_offset=12), [Name('secDB', Load(), lineno=107, col_offset=28), Name('f', Load(), lineno=107, col_offset=35)], [], None, None, lineno=107, col_offset=12), lineno=107, col_offset=12)], [ExceptHandler(Attribute(Name('db', Load(), lineno=108, col_offset=15), 'DBError', Load(), lineno=108, col_offset=15), None, [Expr(Call(Attribute(Name('secDB', Load(), lineno=110, col_offset=12), 'close', Load(), lineno=110, col_offset=12), [], [], None, None, lineno=110, col_offset=12), lineno=110, col_offset=12), Expr(Call(Attribute(Name('dupDB', Load(), lineno=111, col_offset=12), 'close', Load(), lineno=111, col_offset=12), [], [], None, None, lineno=111, col_offset=12), lineno=111, col_offset=12)], lineno=108, col_offset=8)], [Expr(Call(Attribute(Name('secDB', Load(), lineno=113, col_offset=12), 'close', Load(), lineno=113, col_offset=12), [], [], None, None, lineno=113, col_offset=12), lineno=113, col_offset=12), Expr(Call(Attribute(Name('dupDB', Load(), lineno=114, col_offset=12), 'close', Load(), lineno=114, col_offset=12), [], [], None, None, lineno=114, col_offset=12), lineno=114, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=115, col_offset=12), 'fail', Load(), lineno=115, col_offset=12), [Str('DBError exception was expected', lineno=115, col_offset=22)], [], None, None, lineno=115, col_offset=12), lineno=115, col_offset=12)], lineno=105, col_offset=8)], [], lineno=90, col_offset=4)], [], lineno=78, col_offset=0), ClassDef('AssociateTestCase', [Attribute(Name('unittest', Load(), lineno=122, col_offset=24), 'TestCase', Load(), lineno=122, col_offset=24)], [Assign([Name('keytype', Store(), lineno=123, col_offset=4)], Str('', lineno=123, col_offset=14), lineno=123, col_offset=4), Assign([Name('envFlags', Store(), lineno=124, col_offset=4)], Num(0, lineno=124, col_offset=15), lineno=124, col_offset=4), Assign([Name('dbFlags', Store(), lineno=125, col_offset=4)], Num(0, lineno=125, col_offset=14), lineno=125, col_offset=4), FunctionDef('setUp', arguments([Name('self', Param(), lineno=127, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=128, col_offset=8), 'filename', Store(), lineno=128, col_offset=8)], BinOp(Attribute(Attribute(Name('self', Load(), lineno=128, col_offset=24), '__class__', Load(), lineno=128, col_offset=24), '__name__', Load(), lineno=128, col_offset=24), Add(), Str('.db', lineno=128, col_offset=50), lineno=128, col_offset=24), lineno=128, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=129, col_offset=8), 'homeDir', Store(), lineno=129, col_offset=8)], Call(Name('get_new_environment_path', Load(), lineno=129, col_offset=23), [], [], None, None, lineno=129, col_offset=23), lineno=129, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=130, col_offset=8), 'env', Store(), lineno=130, col_offset=8)], Call(Attribute(Name('db', Load(), lineno=130, col_offset=19), 'DBEnv', Load(), lineno=130, col_offset=19), [], [], None, None, lineno=130, col_offset=19), lineno=130, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=131, col_offset=8), 'env', Load(), lineno=131, col_offset=8), 'open', Load(), lineno=131, col_offset=8), [Attribute(Name('self', Load(), lineno=131, col_offset=22), 'homeDir', Load(), lineno=131, col_offset=22), BinOp(BinOp(BinOp(BinOp(Attribute(Name('db', Load(), lineno=131, col_offset=36), 'DB_CREATE', Load(), lineno=131, col_offset=36), BitOr(), Attribute(Name('db', Load(), lineno=131, col_offset=51), 'DB_INIT_MPOOL', Load(), lineno=131, col_offset=51), lineno=131, col_offset=36), BitOr(), Attribute(Name('db', Load(), lineno=132, col_offset=31), 'DB_INIT_LOCK', Load(), lineno=132, col_offset=31), lineno=131, col_offset=68), BitOr(), Attribute(Name('db', Load(), lineno=132, col_offset=49), 'DB_THREAD', Load(), lineno=132, col_offset=49), lineno=132, col_offset=47), BitOr(), Attribute(Name('self', Load(), lineno=132, col_offset=64), 'envFlags', Load(), lineno=132, col_offset=64), lineno=132, col_offset=62)], [], None, None, lineno=131, col_offset=8), lineno=131, col_offset=8)], [], lineno=127, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=134, col_offset=17)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=135, col_offset=8), 'closeDB', Load(), lineno=135, col_offset=8), [], [], None, None, lineno=135, col_offset=8), lineno=135, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=136, col_offset=8), 'env', Load(), lineno=136, col_offset=8), 'close', Load(), lineno=136, col_offset=8), [], [], None, None, lineno=136, col_offset=8), lineno=136, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=137, col_offset=8), 'env', Store(), lineno=137, col_offset=8)], Name('None', Load(), lineno=137, col_offset=19), lineno=137, col_offset=8), Expr(Call(Attribute(Name('test_support', Load(), lineno=138, col_offset=8), 'rmtree', Load(), lineno=138, col_offset=8), [Attribute(Name('self', Load(), lineno=138, col_offset=28), 'homeDir', Load(), lineno=138, col_offset=28)], [], None, None, lineno=138, col_offset=8), lineno=138, col_offset=8)], [], lineno=134, col_offset=4), FunctionDef('addDataToDB', arguments([Name('self', Param(), lineno=140, col_offset=20), Name('d', Param(), lineno=140, col_offset=26), Name('txn', Param(), lineno=140, col_offset=29)], None, None, [Name('None', Load(), lineno=140, col_offset=33)]), [For(Tuple([Name('key', Store(), lineno=141, col_offset=12), Name('value', Store(), lineno=141, col_offset=17)], Store(), lineno=141, col_offset=12), Call(Attribute(Name('musicdata', Load(), lineno=141, col_offset=26), 'items', Load(), lineno=141, col_offset=26), [], [], None, None, lineno=141, col_offset=26), [If(Compare(Call(Name('type', Load(), lineno=142, col_offset=15), [Attribute(Name('self', Load(), lineno=142, col_offset=20), 'keytype', Load(), lineno=142, col_offset=20)], [], None, None, lineno=142, col_offset=15), [Eq()], [Call(Name('type', Load(), lineno=142, col_offset=37), [Str('', lineno=142, col_offset=42)], [], None, None, lineno=142, col_offset=37)], lineno=142, col_offset=15), [Assign([Name('key', Store(), lineno=143, col_offset=16)], BinOp(Str('%02d', lineno=143, col_offset=22), Mod(), Name('key', Load(), lineno=143, col_offset=31), lineno=143, col_offset=22), lineno=143, col_offset=16)], [], lineno=142, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=144, col_offset=12), 'put', Load(), lineno=144, col_offset=12), [Name('key', Load(), lineno=144, col_offset=18), Call(Attribute(Str('|', lineno=144, col_offset=23), 'join', Load(), lineno=144, col_offset=23), [Name('value', Load(), lineno=144, col_offset=32)], [], None, None, lineno=144, col_offset=23)], [keyword('txn', Name('txn', Load(), lineno=144, col_offset=44))], None, None, lineno=144, col_offset=12), lineno=144, col_offset=12)], [], lineno=141, col_offset=8)], [], lineno=140, col_offset=4), FunctionDef('createDB', arguments([Name('self', Param(), lineno=146, col_offset=17), Name('txn', Param(), lineno=146, col_offset=23)], None, None, [Name('None', Load(), lineno=146, col_offset=27)]), [Assign([Attribute(Name('self', Load(), lineno=147, col_offset=8), 'cur', Store(), lineno=147, col_offset=8)], Name('None', Load(), lineno=147, col_offset=19), lineno=147, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=148, col_offset=8), 'secDB', Store(), lineno=148, col_offset=8)], Name('None', Load(), lineno=148, col_offset=21), lineno=148, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=149, col_offset=8), 'primary', Store(), lineno=149, col_offset=8)], Call(Attribute(Name('db', Load(), lineno=149, col_offset=23), 'DB', Load(), lineno=149, col_offset=23), [Attribute(Name('self', Load(), lineno=149, col_offset=29), 'env', Load(), lineno=149, col_offset=29)], [], None, None, lineno=149, col_offset=23), lineno=149, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=150, col_offset=8), 'primary', Load(), lineno=150, col_offset=8), 'set_get_returns_none', Load(), lineno=150, col_offset=8), [Num(2, lineno=150, col_offset=42)], [], None, None, lineno=150, col_offset=8), lineno=150, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=151, col_offset=8), 'primary', Load(), lineno=151, col_offset=8), 'open', Load(), lineno=151, col_offset=8), [Attribute(Name('self', Load(), lineno=151, col_offset=26), 'filename', Load(), lineno=151, col_offset=26), Str('primary', lineno=151, col_offset=41), Attribute(Name('self', Load(), lineno=151, col_offset=52), 'dbtype', Load(), lineno=151, col_offset=52), BinOp(BinOp(Attribute(Name('db', Load(), lineno=152, col_offset=22), 'DB_CREATE', Load(), lineno=152, col_offset=22), BitOr(), Attribute(Name('db', Load(), lineno=152, col_offset=37), 'DB_THREAD', Load(), lineno=152, col_offset=37), lineno=152, col_offset=22), BitOr(), Attribute(Name('self', Load(), lineno=152, col_offset=52), 'dbFlags', Load(), lineno=152, col_offset=52), lineno=152, col_offset=50)], [keyword('txn', Name('txn', Load(), lineno=152, col_offset=70))], None, None, lineno=151, col_offset=8), lineno=151, col_offset=8)], [], lineno=146, col_offset=4), FunctionDef('closeDB', arguments([Name('self', Param(), lineno=154, col_offset=16)], None, None, []), [If(Attribute(Name('self', Load(), lineno=155, col_offset=11), 'cur', Load(), lineno=155, col_offset=11), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=156, col_offset=12), 'cur', Load(), lineno=156, col_offset=12), 'close', Load(), lineno=156, col_offset=12), [], [], None, None, lineno=156, col_offset=12), lineno=156, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=157, col_offset=12), 'cur', Store(), lineno=157, col_offset=12)], Name('None', Load(), lineno=157, col_offset=23), lineno=157, col_offset=12)], [], lineno=155, col_offset=8), If(Attribute(Name('self', Load(), lineno=158, col_offset=11), 'secDB', Load(), lineno=158, col_offset=11), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=159, col_offset=12), 'secDB', Load(), lineno=159, col_offset=12), 'close', Load(), lineno=159, col_offset=12), [], [], None, None, lineno=159, col_offset=12), lineno=159, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=160, col_offset=12), 'secDB', Store(), lineno=160, col_offset=12)], Name('None', Load(), lineno=160, col_offset=25), lineno=160, col_offset=12)], [], lineno=158, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=161, col_offset=8), 'primary', Load(), lineno=161, col_offset=8), 'close', Load(), lineno=161, col_offset=8), [], [], None, None, lineno=161, col_offset=8), lineno=161, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=162, col_offset=8), 'primary', Store(), lineno=162, col_offset=8)], Name('None', Load(), lineno=162, col_offset=23), lineno=162, col_offset=8)], [], lineno=154, col_offset=4), FunctionDef('getDB', arguments([Name('self', Param(), lineno=164, col_offset=14)], None, None, []), [Return(Attribute(Name('self', Load(), lineno=165, col_offset=15), 'primary', Load(), lineno=165, col_offset=15), lineno=165, col_offset=8)], [], lineno=164, col_offset=4), FunctionDef('_associateWithDB', arguments([Name('self', Param(), lineno=168, col_offset=25), Name('getGenre', Param(), lineno=168, col_offset=31)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=169, col_offset=8), 'createDB', Load(), lineno=169, col_offset=8), [], [], None, None, lineno=169, col_offset=8), lineno=169, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=171, col_offset=8), 'secDB', Store(), lineno=171, col_offset=8)], Call(Attribute(Name('db', Load(), lineno=171, col_offset=21), 'DB', Load(), lineno=171, col_offset=21), [Attribute(Name('self', Load(), lineno=171, col_offset=27), 'env', Load(), lineno=171, col_offset=27)], [], None, None, lineno=171, col_offset=21), lineno=171, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=172, col_offset=8), 'secDB', Load(), lineno=172, col_offset=8), 'set_flags', Load(), lineno=172, col_offset=8), [Attribute(Name('db', Load(), lineno=172, col_offset=29), 'DB_DUP', Load(), lineno=172, col_offset=29)], [], None, None, lineno=172, col_offset=8), lineno=172, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=173, col_offset=8), 'secDB', Load(), lineno=173, col_offset=8), 'set_get_returns_none', Load(), lineno=173, col_offset=8), [Num(2, lineno=173, col_offset=40)], [], None, None, lineno=173, col_offset=8), lineno=173, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=174, col_offset=8), 'secDB', Load(), lineno=174, col_offset=8), 'open', Load(), lineno=174, col_offset=8), [Attribute(Name('self', Load(), lineno=174, col_offset=24), 'filename', Load(), lineno=174, col_offset=24), Str('secondary', lineno=174, col_offset=39), Attribute(Name('db', Load(), lineno=174, col_offset=52), 'DB_BTREE', Load(), lineno=174, col_offset=52), BinOp(BinOp(Attribute(Name('db', Load(), lineno=175, col_offset=19), 'DB_CREATE', Load(), lineno=175, col_offset=19), BitOr(), Attribute(Name('db', Load(), lineno=175, col_offset=34), 'DB_THREAD', Load(), lineno=175, col_offset=34), lineno=175, col_offset=19), BitOr(), Attribute(Name('self', Load(), lineno=175, col_offset=49), 'dbFlags', Load(), lineno=175, col_offset=49), lineno=175, col_offset=47)], [], None, None, lineno=174, col_offset=8), lineno=174, col_offset=8), Expr(Call(Attribute(Call(Attribute(Name('self', Load(), lineno=176, col_offset=8), 'getDB', Load(), lineno=176, col_offset=8), [], [], None, None, lineno=176, col_offset=8), 'associate', Load(), lineno=176, col_offset=8), [Attribute(Name('self', Load(), lineno=176, col_offset=31), 'secDB', Load(), lineno=176, col_offset=31), Name('getGenre', Load(), lineno=176, col_offset=43)], [], None, None, lineno=176, col_offset=8), lineno=176, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=178, col_offset=8), 'addDataToDB', Load(), lineno=178, col_offset=8), [Call(Attribute(Name('self', Load(), lineno=178, col_offset=25), 'getDB', Load(), lineno=178, col_offset=25), [], [], None, None, lineno=178, col_offset=25)], [], None, None, lineno=178, col_offset=8), lineno=178, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=180, col_offset=8), 'finish_test', Load(), lineno=180, col_offset=8), [Attribute(Name('self', Load(), lineno=180, col_offset=25), 'secDB', Load(), lineno=180, col_offset=25)], [], None, None, lineno=180, col_offset=8), lineno=180, col_offset=8)], [], lineno=168, col_offset=4), FunctionDef('test01_associateWithDB', arguments([Name('self', Param(), lineno=182, col_offset=31)], None, None, []), [If(Name('verbose', Load(), lineno=183, col_offset=11), [Print(None, [Str('\n', lineno=184, col_offset=18), BinOp(Str('-=', lineno=184, col_offset=24), Mult(), Num(30, lineno=184, col_offset=31), lineno=184, col_offset=24)], True, lineno=184, col_offset=12), Print(None, [BinOp(Str('Running %s.test01_associateWithDB...', lineno=185, col_offset=18), Mod(), Attribute(Attribute(Name('self', Load(), lineno=186, col_offset=18), '__class__', Load(), lineno=186, col_offset=18), '__name__', Load(), lineno=186, col_offset=18), lineno=185, col_offset=18)], True, lineno=185, col_offset=12)], [], lineno=183, col_offset=8), Return(Call(Attribute(Name('self', Load(), lineno=188, col_offset=15), '_associateWithDB', Load(), lineno=188, col_offset=15), [Attribute(Name('self', Load(), lineno=188, col_offset=37), 'getGenre', Load(), lineno=188, col_offset=37)], [], None, None, lineno=188, col_offset=15), lineno=188, col_offset=8)], [], lineno=182, col_offset=4), FunctionDef('_associateAfterDB', arguments([Name('self', Param(), lineno=190, col_offset=26), Name('getGenre', Param(), lineno=190, col_offset=32)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=191, col_offset=8), 'createDB', Load(), lineno=191, col_offset=8), [], [], None, None, lineno=191, col_offset=8), lineno=191, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=192, col_offset=8), 'addDataToDB', Load(), lineno=192, col_offset=8), [Call(Attribute(Name('self', Load(), lineno=192, col_offset=25), 'getDB', Load(), lineno=192, col_offset=25), [], [], None, None, lineno=192, col_offset=25)], [], None, None, lineno=192, col_offset=8), lineno=192, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=194, col_offset=8), 'secDB', Store(), lineno=194, col_offset=8)], Call(Attribute(Name('db', Load(), lineno=194, col_offset=21), 'DB', Load(), lineno=194, col_offset=21), [Attribute(Name('self', Load(), lineno=194, col_offset=27), 'env', Load(), lineno=194, col_offset=27)], [], None, None, lineno=194, col_offset=21), lineno=194, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=195, col_offset=8), 'secDB', Load(), lineno=195, col_offset=8), 'set_flags', Load(), lineno=195, col_offset=8), [Attribute(Name('db', Load(), lineno=195, col_offset=29), 'DB_DUP', Load(), lineno=195, col_offset=29)], [], None, None, lineno=195, col_offset=8), lineno=195, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=196, col_offset=8), 'secDB', Load(), lineno=196, col_offset=8), 'open', Load(), lineno=196, col_offset=8), [Attribute(Name('self', Load(), lineno=196, col_offset=24), 'filename', Load(), lineno=196, col_offset=24), Str('secondary', lineno=196, col_offset=39), Attribute(Name('db', Load(), lineno=196, col_offset=52), 'DB_BTREE', Load(), lineno=196, col_offset=52), BinOp(BinOp(Attribute(Name('db', Load(), lineno=197, col_offset=19), 'DB_CREATE', Load(), lineno=197, col_offset=19), BitOr(), Attribute(Name('db', Load(), lineno=197, col_offset=34), 'DB_THREAD', Load(), lineno=197, col_offset=34), lineno=197, col_offset=19), BitOr(), Attribute(Name('self', Load(), lineno=197, col_offset=49), 'dbFlags', Load(), lineno=197, col_offset=49), lineno=197, col_offset=47)], [], None, None, lineno=196, col_offset=8), lineno=196, col_offset=8), Expr(Call(Attribute(Call(Attribute(Name('self', Load(), lineno=200, col_offset=8), 'getDB', Load(), lineno=200, col_offset=8), [], [], None, None, lineno=200, col_offset=8), 'associate', Load(), lineno=200, col_offset=8), [Attribute(Name('self', Load(), lineno=200, col_offset=31), 'secDB', Load(), lineno=200, col_offset=31), Name('getGenre', Load(), lineno=200, col_offset=43), Attribute(Name('db', Load(), lineno=200, col_offset=53), 'DB_CREATE', Load(), lineno=200, col_offset=53)], [], None, None, lineno=200, col_offset=8), lineno=200, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=202, col_offset=8), 'finish_test', Load(), lineno=202, col_offset=8), [Attribute(Name('self', Load(), lineno=202, col_offset=25), 'secDB', Load(), lineno=202, col_offset=25)], [], None, None, lineno=202, col_offset=8), lineno=202, col_offset=8)], [], lineno=190, col_offset=4), FunctionDef('test02_associateAfterDB', arguments([Name('self', Param(), lineno=204, col_offset=32)], None, None, []), [If(Name('verbose', Load(), lineno=205, col_offset=11), [Print(None, [Str('\n', lineno=206, col_offset=18), BinOp(Str('-=', lineno=206, col_offset=24), Mult(), Num(30, lineno=206, col_offset=31), lineno=206, col_offset=24)], True, lineno=206, col_offset=12), Print(None, [BinOp(Str('Running %s.test02_associateAfterDB...', lineno=207, col_offset=18), Mod(), Attribute(Attribute(Name('self', Load(), lineno=208, col_offset=18), '__class__', Load(), lineno=208, col_offset=18), '__name__', Load(), lineno=208, col_offset=18), lineno=207, col_offset=18)], True, lineno=207, col_offset=12)], [], lineno=205, col_offset=8), Return(Call(Attribute(Name('self', Load(), lineno=210, col_offset=15), '_associateAfterDB', Load(), lineno=210, col_offset=15), [Attribute(Name('self', Load(), lineno=210, col_offset=38), 'getGenre', Load(), lineno=210, col_offset=38)], [], None, None, lineno=210, col_offset=15), lineno=210, col_offset=8)], [], lineno=204, col_offset=4), If(Compare(Call(Attribute(Name('db', Load(), lineno=212, col_offset=7), 'version', Load(), lineno=212, col_offset=7), [], [], None, None, lineno=212, col_offset=7), [GtE()], [Tuple([Num(4, lineno=212, col_offset=24), Num(6, lineno=212, col_offset=27)], Load(), lineno=212, col_offset=24)], lineno=212, col_offset=7), [FunctionDef('test03_associateWithDB', arguments([Name('self', Param(), lineno=213, col_offset=35)], None, None, []), [If(Name('verbose', Load(), lineno=214, col_offset=15), [Print(None, [Str('\n', lineno=215, col_offset=22), BinOp(Str('-=', lineno=215, col_offset=28), Mult(), Num(30, lineno=215, col_offset=35), lineno=215, col_offset=28)], True, lineno=215, col_offset=16), Print(None, [BinOp(Str('Running %s.test03_associateWithDB...', lineno=216, col_offset=22), Mod(), Attribute(Attribute(Name('self', Load(), lineno=217, col_offset=22), '__class__', Load(), lineno=217, col_offset=22), '__name__', Load(), lineno=217, col_offset=22), lineno=216, col_offset=22)], True, lineno=216, col_offset=16)], [], lineno=214, col_offset=12), Return(Call(Attribute(Name('self', Load(), lineno=219, col_offset=19), '_associateWithDB', Load(), lineno=219, col_offset=19), [Attribute(Name('self', Load(), lineno=219, col_offset=41), 'getGenreList', Load(), lineno=219, col_offset=41)], [], None, None, lineno=219, col_offset=19), lineno=219, col_offset=12)], [], lineno=213, col_offset=8), FunctionDef('test04_associateAfterDB', arguments([Name('self', Param(), lineno=221, col_offset=36)], None, None, []), [If(Name('verbose', Load(), lineno=222, col_offset=15), [Print(None, [Str('\n', lineno=223, col_offset=22), BinOp(Str('-=', lineno=223, col_offset=28), Mult(), Num(30, lineno=223, col_offset=35), lineno=223, col_offset=28)], True, lineno=223, col_offset=16), Print(None, [BinOp(Str('Running %s.test04_associateAfterDB...', lineno=224, col_offset=22), Mod(), Attribute(Attribute(Name('self', Load(), lineno=225, col_offset=22), '__class__', Load(), lineno=225, col_offset=22), '__name__', Load(), lineno=225, col_offset=22), lineno=224, col_offset=22)], True, lineno=224, col_offset=16)], [], lineno=222, col_offset=12), Return(Call(Attribute(Name('self', Load(), lineno=227, col_offset=19), '_associateAfterDB', Load(), lineno=227, col_offset=19), [Attribute(Name('self', Load(), lineno=227, col_offset=42), 'getGenreList', Load(), lineno=227, col_offset=42)], [], None, None, lineno=227, col_offset=19), lineno=227, col_offset=12)], [], lineno=221, col_offset=8)], [], lineno=212, col_offset=4), FunctionDef('finish_test', arguments([Name('self', Param(), lineno=230, col_offset=20), Name('secDB', Param(), lineno=230, col_offset=26), Name('txn', Param(), lineno=230, col_offset=33)], None, None, [Name('None', Load(), lineno=230, col_offset=37)]), [Assign([Name('vals', Store(), lineno=232, col_offset=8)], Call(Attribute(Name('secDB', Load(), lineno=232, col_offset=15), 'pget', Load(), lineno=232, col_offset=15), [Str('Blues', lineno=232, col_offset=26)], [keyword('txn', Name('txn', Load(), lineno=232, col_offset=39))], None, None, lineno=232, col_offset=15), lineno=232, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=233, col_offset=8), 'assertEqual', Load(), lineno=233, col_offset=8), [Name('vals', Load(), lineno=233, col_offset=25), Name('None', Load(), lineno=233, col_offset=31), Name('vals', Load(), lineno=233, col_offset=37)], [], None, None, lineno=233, col_offset=8), lineno=233, col_offset=8), Assign([Name('vals', Store(), lineno=235, col_offset=8)], Call(Attribute(Name('secDB', Load(), lineno=235, col_offset=15), 'pget', Load(), lineno=235, col_offset=15), [Str('Unknown', lineno=235, col_offset=26)], [keyword('txn', Name('txn', Load(), lineno=235, col_offset=41))], None, None, lineno=235, col_offset=15), lineno=235, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=236, col_offset=8), 'assertTrue', Load(), lineno=236, col_offset=8), [BoolOp(Or(), [Compare(Subscript(Name('vals', Load(), lineno=236, col_offset=24), Index(Num(0, lineno=236, col_offset=29)), Load(), lineno=236, col_offset=24), [Eq()], [Num(99, lineno=236, col_offset=35)], lineno=236, col_offset=24), Compare(Subscript(Name('vals', Load(), lineno=236, col_offset=41), Index(Num(0, lineno=236, col_offset=46)), Load(), lineno=236, col_offset=41), [Eq()], [Str('99', lineno=236, col_offset=52)], lineno=236, col_offset=41)], lineno=236, col_offset=24), Name('vals', Load(), lineno=236, col_offset=58)], [], None, None, lineno=236, col_offset=8), lineno=236, col_offset=8), Expr(Call(Attribute(Subscript(Name('vals', Load(), lineno=237, col_offset=8), Index(Num(1, lineno=237, col_offset=13)), Load(), lineno=237, col_offset=8), 'index', Load(), lineno=237, col_offset=8), [Str('Unknown', lineno=237, col_offset=22)], [], None, None, lineno=237, col_offset=8), lineno=237, col_offset=8), Expr(Call(Attribute(Subscript(Name('vals', Load(), lineno=238, col_offset=8), Index(Num(1, lineno=238, col_offset=13)), Load(), lineno=238, col_offset=8), 'index', Load(), lineno=238, col_offset=8), [Str('Unnamed', lineno=238, col_offset=22)], [], None, None, lineno=238, col_offset=8), lineno=238, col_offset=8), Expr(Call(Attribute(Subscript(Name('vals', Load(), lineno=239, col_offset=8), Index(Num(1, lineno=239, col_offset=13)), Load(), lineno=239, col_offset=8), 'index', Load(), lineno=239, col_offset=8), [Str('unknown', lineno=239, col_offset=22)], [], None, None, lineno=239, col_offset=8), lineno=239, col_offset=8), If(Name('verbose', Load(), lineno=241, col_offset=11), [Print(None, [Str('Primary key traversal:', lineno=242, col_offset=18)], True, lineno=242, col_offset=12)], [], lineno=241, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=243, col_offset=8), 'cur', Store(), lineno=243, col_offset=8)], Call(Attribute(Call(Attribute(Name('self', Load(), lineno=243, col_offset=19), 'getDB', Load(), lineno=243, col_offset=19), [], [], None, None, lineno=243, col_offset=19), 'cursor', Load(), lineno=243, col_offset=19), [Name('txn', Load(), lineno=243, col_offset=39)], [], None, None, lineno=243, col_offset=19), lineno=243, col_offset=8), Assign([Name('count', Store(), lineno=244, col_offset=8)], Num(0, lineno=244, col_offset=16), lineno=244, col_offset=8), Assign([Name('rec', Store(), lineno=245, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=245, col_offset=14), 'cur', Load(), lineno=245, col_offset=14), 'first', Load(), lineno=245, col_offset=14), [], [], None, None, lineno=245, col_offset=14), lineno=245, col_offset=8), While(Compare(Name('rec', Load(), lineno=246, col_offset=14), [IsNot()], [Name('None', Load(), lineno=246, col_offset=25)], lineno=246, col_offset=14), [If(Compare(Call(Name('type', Load(), lineno=247, col_offset=15), [Attribute(Name('self', Load(), lineno=247, col_offset=20), 'keytype', Load(), lineno=247, col_offset=20)], [], None, None, lineno=247, col_offset=15), [Eq()], [Call(Name('type', Load(), lineno=247, col_offset=37), [Str('', lineno=247, col_offset=42)], [], None, None, lineno=247, col_offset=37)], lineno=247, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=248, col_offset=16), 'assertTrue', Load(), lineno=248, col_offset=16), [Call(Name('int', Load(), lineno=248, col_offset=32), [Subscript(Name('rec', Load(), lineno=248, col_offset=36), Index(Num(0, lineno=248, col_offset=40)), Load(), lineno=248, col_offset=36)], [], None, None, lineno=248, col_offset=32)], [], None, None, lineno=248, col_offset=16), lineno=248, col_offset=16)], [Expr(Call(Attribute(Name('self', Load(), lineno=250, col_offset=16), 'assertTrue', Load(), lineno=250, col_offset=16), [BoolOp(And(), [Subscript(Name('rec', Load(), lineno=250, col_offset=32), Index(Num(0, lineno=250, col_offset=36)), Load(), lineno=250, col_offset=32), Compare(Call(Name('type', Load(), lineno=250, col_offset=43), [Subscript(Name('rec', Load(), lineno=250, col_offset=48), Index(Num(0, lineno=250, col_offset=52)), Load(), lineno=250, col_offset=48)], [], None, None, lineno=250, col_offset=43), [Eq()], [Call(Name('type', Load(), lineno=250, col_offset=59), [Num(0, lineno=250, col_offset=64)], [], None, None, lineno=250, col_offset=59)], lineno=250, col_offset=43)], lineno=250, col_offset=32)], [], None, None, lineno=250, col_offset=16), lineno=250, col_offset=16)], lineno=247, col_offset=12), Assign([Name('count', Store(), lineno=251, col_offset=12)], BinOp(Name('count', Load(), lineno=251, col_offset=20), Add(), Num(1, lineno=251, col_offset=28), lineno=251, col_offset=20), lineno=251, col_offset=12), If(Name('verbose', Load(), lineno=252, col_offset=15), [Print(None, [Name('rec', Load(), lineno=253, col_offset=22)], True, lineno=253, col_offset=16)], [], lineno=252, col_offset=12), Assign([Name('rec', Store(), lineno=254, col_offset=12)], Call(Call(Name('getattr', Load(), lineno=254, col_offset=18), [Attribute(Name('self', Load(), lineno=254, col_offset=26), 'cur', Load(), lineno=254, col_offset=26), Str('next', lineno=254, col_offset=36)], [], None, None, lineno=254, col_offset=18), [], [], None, None, lineno=254, col_offset=18), lineno=254, col_offset=12)], [], lineno=246, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=255, col_offset=8), 'assertEqual', Load(), lineno=255, col_offset=8), [Name('count', Load(), lineno=255, col_offset=25), Call(Name('len', Load(), lineno=255, col_offset=32), [Name('musicdata', Load(), lineno=255, col_offset=36)], [], None, None, lineno=255, col_offset=32)], [], None, None, lineno=255, col_offset=8), lineno=255, col_offset=8), If(Name('verbose', Load(), lineno=258, col_offset=11), [Print(None, [Str('Secondary key traversal:', lineno=259, col_offset=18)], True, lineno=259, col_offset=12)], [], lineno=258, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=260, col_offset=8), 'cur', Store(), lineno=260, col_offset=8)], Call(Attribute(Name('secDB', Load(), lineno=260, col_offset=19), 'cursor', Load(), lineno=260, col_offset=19), [Name('txn', Load(), lineno=260, col_offset=32)], [], None, None, lineno=260, col_offset=19), lineno=260, col_offset=8), Assign([Name('count', Store(), lineno=261, col_offset=8)], Num(0, lineno=261, col_offset=16), lineno=261, col_offset=8), Assign([Name('vals', Store(), lineno=264, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=264, col_offset=15), 'cur', Load(), lineno=264, col_offset=15), 'pget', Load(), lineno=264, col_offset=15), [Str('Unknown', lineno=264, col_offset=29)], [keyword('flags', Attribute(Name('db', Load(), lineno=264, col_offset=46), 'DB_LAST', Load(), lineno=264, col_offset=46))], None, None, lineno=264, col_offset=15), lineno=264, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=265, col_offset=8), 'assertTrue', Load(), lineno=265, col_offset=8), [BoolOp(Or(), [Compare(Subscript(Name('vals', Load(), lineno=265, col_offset=24), Index(Num(1, lineno=265, col_offset=29)), Load(), lineno=265, col_offset=24), [Eq()], [Num(99, lineno=265, col_offset=35)], lineno=265, col_offset=24), Compare(Subscript(Name('vals', Load(), lineno=265, col_offset=41), Index(Num(1, lineno=265, col_offset=46)), Load(), lineno=265, col_offset=41), [Eq()], [Str('99', lineno=265, col_offset=52)], lineno=265, col_offset=41)], lineno=265, col_offset=24), Name('vals', Load(), lineno=265, col_offset=58)], [], None, None, lineno=265, col_offset=8), lineno=265, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=266, col_offset=8), 'assertEqual', Load(), lineno=266, col_offset=8), [Subscript(Name('vals', Load(), lineno=266, col_offset=25), Index(Num(0, lineno=266, col_offset=30)), Load(), lineno=266, col_offset=25), Str('Unknown', lineno=266, col_offset=34)], [], None, None, lineno=266, col_offset=8), lineno=266, col_offset=8), Expr(Call(Attribute(Subscript(Name('vals', Load(), lineno=267, col_offset=8), Index(Num(2, lineno=267, col_offset=13)), Load(), lineno=267, col_offset=8), 'index', Load(), lineno=267, col_offset=8), [Str('Unknown', lineno=267, col_offset=22)], [], None, None, lineno=267, col_offset=8), lineno=267, col_offset=8), Expr(Call(Attribute(Subscript(Name('vals', Load(), lineno=268, col_offset=8), Index(Num(2, lineno=268, col_offset=13)), Load(), lineno=268, col_offset=8), 'index', Load(), lineno=268, col_offset=8), [Str('Unnamed', lineno=268, col_offset=22)], [], None, None, lineno=268, col_offset=8), lineno=268, col_offset=8), Expr(Call(Attribute(Subscript(Name('vals', Load(), lineno=269, col_offset=8), Index(Num(2, lineno=269, col_offset=13)), Load(), lineno=269, col_offset=8), 'index', Load(), lineno=269, col_offset=8), [Str('unknown', lineno=269, col_offset=22)], [], None, None, lineno=269, col_offset=8), lineno=269, col_offset=8), Assign([Name('vals', Store(), lineno=271, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=271, col_offset=15), 'cur', Load(), lineno=271, col_offset=15), 'pget', Load(), lineno=271, col_offset=15), [Str('Unknown', lineno=271, col_offset=29)], [keyword('data', Str('wrong value', lineno=271, col_offset=45)), keyword('flags', Attribute(Name('db', Load(), lineno=271, col_offset=66), 'DB_GET_BOTH', Load(), lineno=271, col_offset=66))], None, None, lineno=271, col_offset=15), lineno=271, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=272, col_offset=8), 'assertEqual', Load(), lineno=272, col_offset=8), [Name('vals', Load(), lineno=272, col_offset=25), Name('None', Load(), lineno=272, col_offset=31), Name('vals', Load(), lineno=272, col_offset=37)], [], None, None, lineno=272, col_offset=8), lineno=272, col_offset=8), Assign([Name('rec', Store(), lineno=274, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=274, col_offset=14), 'cur', Load(), lineno=274, col_offset=14), 'first', Load(), lineno=274, col_offset=14), [], [], None, None, lineno=274, col_offset=14), lineno=274, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=275, col_offset=8), 'assertEqual', Load(), lineno=275, col_offset=8), [Subscript(Name('rec', Load(), lineno=275, col_offset=25), Index(Num(0, lineno=275, col_offset=29)), Load(), lineno=275, col_offset=25), Str('Jazz', lineno=275, col_offset=33)], [], None, None, lineno=275, col_offset=8), lineno=275, col_offset=8), While(Compare(Name('rec', Load(), lineno=276, col_offset=14), [IsNot()], [Name('None', Load(), lineno=276, col_offset=25)], lineno=276, col_offset=14), [Assign([Name('count', Store(), lineno=277, col_offset=12)], BinOp(Name('count', Load(), lineno=277, col_offset=20), Add(), Num(1, lineno=277, col_offset=28), lineno=277, col_offset=20), lineno=277, col_offset=12), If(Name('verbose', Load(), lineno=278, col_offset=15), [Print(None, [Name('rec', Load(), lineno=279, col_offset=22)], True, lineno=279, col_offset=16)], [], lineno=278, col_offset=12), Assign([Name('rec', Store(), lineno=280, col_offset=12)], Call(Call(Name('getattr', Load(), lineno=280, col_offset=18), [Attribute(Name('self', Load(), lineno=280, col_offset=26), 'cur', Load(), lineno=280, col_offset=26), Str('next', lineno=280, col_offset=36)], [], None, None, lineno=280, col_offset=18), [], [], None, None, lineno=280, col_offset=18), lineno=280, col_offset=12)], [], lineno=276, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=282, col_offset=8), 'assertEqual', Load(), lineno=282, col_offset=8), [Name('count', Load(), lineno=282, col_offset=25), BinOp(Call(Name('len', Load(), lineno=282, col_offset=32), [Name('musicdata', Load(), lineno=282, col_offset=36)], [], None, None, lineno=282, col_offset=32), Sub(), Num(1, lineno=282, col_offset=47), lineno=282, col_offset=32)], [], None, None, lineno=282, col_offset=8), lineno=282, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=284, col_offset=8), 'cur', Store(), lineno=284, col_offset=8)], Name('None', Load(), lineno=284, col_offset=19), lineno=284, col_offset=8)], [], lineno=230, col_offset=4), FunctionDef('getGenre', arguments([Name('self', Param(), lineno=286, col_offset=17), Name('priKey', Param(), lineno=286, col_offset=23), Name('priData', Param(), lineno=286, col_offset=31)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=287, col_offset=8), 'assertEqual', Load(), lineno=287, col_offset=8), [Call(Name('type', Load(), lineno=287, col_offset=25), [Name('priData', Load(), lineno=287, col_offset=30)], [], None, None, lineno=287, col_offset=25), Call(Name('type', Load(), lineno=287, col_offset=40), [Str('', lineno=287, col_offset=45)], [], None, None, lineno=287, col_offset=40)], [], None, None, lineno=287, col_offset=8), lineno=287, col_offset=8), Assign([Name('genre', Store(), lineno=288, col_offset=8)], Subscript(Call(Attribute(Name('priData', Load(), lineno=288, col_offset=16), 'split', Load(), lineno=288, col_offset=16), [Str('|', lineno=288, col_offset=30)], [], None, None, lineno=288, col_offset=16), Index(Num(2, lineno=288, col_offset=35)), Load(), lineno=288, col_offset=16), lineno=288, col_offset=8), If(Name('verbose', Load(), lineno=290, col_offset=11), [Print(None, [BinOp(Str('getGenre key: %r data: %r', lineno=291, col_offset=18), Mod(), Tuple([Name('priKey', Load(), lineno=291, col_offset=49), Name('priData', Load(), lineno=291, col_offset=57)], Load(), lineno=291, col_offset=49), lineno=291, col_offset=18)], True, lineno=291, col_offset=12)], [], lineno=290, col_offset=8), If(Compare(Name('genre', Load(), lineno=293, col_offset=11), [Eq()], [Str('Blues', lineno=293, col_offset=20)], lineno=293, col_offset=11), [Return(Attribute(Name('db', Load(), lineno=294, col_offset=19), 'DB_DONOTINDEX', Load(), lineno=294, col_offset=19), lineno=294, col_offset=12)], [Return(Name('genre', Load(), lineno=296, col_offset=19), lineno=296, col_offset=12)], lineno=293, col_offset=8)], [], lineno=286, col_offset=4), FunctionDef('getGenreList', arguments([Name('self', Param(), lineno=298, col_offset=21), Name('priKey', Param(), lineno=298, col_offset=27), Name('PriData', Param(), lineno=298, col_offset=35)], None, None, []), [Assign([Name('v', Store(), lineno=299, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=299, col_offset=12), 'getGenre', Load(), lineno=299, col_offset=12), [Name('priKey', Load(), lineno=299, col_offset=26), Name('PriData', Load(), lineno=299, col_offset=34)], [], None, None, lineno=299, col_offset=12), lineno=299, col_offset=8), If(Compare(Call(Name('type', Load(), lineno=300, col_offset=11), [Name('v', Load(), lineno=300, col_offset=16)], [], None, None, lineno=300, col_offset=11), [Eq()], [Call(Name('type', Load(), lineno=300, col_offset=22), [Str('', lineno=300, col_offset=27)], [], None, None, lineno=300, col_offset=22)], lineno=300, col_offset=11), [Assign([Name('v', Store(), lineno=301, col_offset=12)], List([Name('v', Load(), lineno=301, col_offset=17)], Load(), lineno=301, col_offset=16), lineno=301, col_offset=12)], [], lineno=300, col_offset=8), Return(Name('v', Load(), lineno=302, col_offset=15), lineno=302, col_offset=8)], [], lineno=298, col_offset=4)], [], lineno=122, col_offset=0), ClassDef('AssociateHashTestCase', [Name('AssociateTestCase', Load(), lineno=308, col_offset=28)], [Assign([Name('dbtype', Store(), lineno=309, col_offset=4)], Attribute(Name('db', Load(), lineno=309, col_offset=13), 'DB_HASH', Load(), lineno=309, col_offset=13), lineno=309, col_offset=4)], [], lineno=308, col_offset=0), ClassDef('AssociateBTreeTestCase', [Name('AssociateTestCase', Load(), lineno=311, col_offset=29)], [Assign([Name('dbtype', Store(), lineno=312, col_offset=4)], Attribute(Name('db', Load(), lineno=312, col_offset=13), 'DB_BTREE', Load(), lineno=312, col_offset=13), lineno=312, col_offset=4)], [], lineno=311, col_offset=0), ClassDef('AssociateRecnoTestCase', [Name('AssociateTestCase', Load(), lineno=314, col_offset=29)], [Assign([Name('dbtype', Store(), lineno=315, col_offset=4)], Attribute(Name('db', Load(), lineno=315, col_offset=13), 'DB_RECNO', Load(), lineno=315, col_offset=13), lineno=315, col_offset=4), Assign([Name('keytype', Store(), lineno=316, col_offset=4)], Num(0, lineno=316, col_offset=14), lineno=316, col_offset=4)], [], lineno=314, col_offset=0), ClassDef('AssociateBTreeTxnTestCase', [Name('AssociateBTreeTestCase', Load(), lineno=320, col_offset=32)], [Assign([Name('envFlags', Store(), lineno=321, col_offset=4)], Attribute(Name('db', Load(), lineno=321, col_offset=15), 'DB_INIT_TXN', Load(), lineno=321, col_offset=15), lineno=321, col_offset=4), Assign([Name('dbFlags', Store(), lineno=322, col_offset=4)], Num(0, lineno=322, col_offset=14), lineno=322, col_offset=4), FunctionDef('txn_finish_test', arguments([Name('self', Param(), lineno=324, col_offset=24), Name('sDB', Param(), lineno=324, col_offset=30), Name('txn', Param(), lineno=324, col_offset=35)], None, None, []), [TryFinally([Expr(Call(Attribute(Name('self', Load(), lineno=326, col_offset=12), 'finish_test', Load(), lineno=326, col_offset=12), [Name('sDB', Load(), lineno=326, col_offset=29)], [keyword('txn', Name('txn', Load(), lineno=326, col_offset=38))], None, None, lineno=326, col_offset=12), lineno=326, col_offset=12)], [If(Attribute(Name('self', Load(), lineno=328, col_offset=15), 'cur', Load(), lineno=328, col_offset=15), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=329, col_offset=16), 'cur', Load(), lineno=329, col_offset=16), 'close', Load(), lineno=329, col_offset=16), [], [], None, None, lineno=329, col_offset=16), lineno=329, col_offset=16), Assign([Attribute(Name('self', Load(), lineno=330, col_offset=16), 'cur', Store(), lineno=330, col_offset=16)], Name('None', Load(), lineno=330, col_offset=27), lineno=330, col_offset=16)], [], lineno=328, col_offset=12), If(Name('txn', Load(), lineno=331, col_offset=15), [Expr(Call(Attribute(Name('txn', Load(), lineno=332, col_offset=16), 'commit', Load(), lineno=332, col_offset=16), [], [], None, None, lineno=332, col_offset=16), lineno=332, col_offset=16)], [], lineno=331, col_offset=12)], lineno=325, col_offset=8)], [], lineno=324, col_offset=4), FunctionDef('test13_associate_in_transaction', arguments([Name('self', Param(), lineno=334, col_offset=40)], None, None, []), [If(Name('verbose', Load(), lineno=335, col_offset=11), [Print(None, [Str('\n', lineno=336, col_offset=18), BinOp(Str('-=', lineno=336, col_offset=24), Mult(), Num(30, lineno=336, col_offset=31), lineno=336, col_offset=24)], True, lineno=336, col_offset=12), Print(None, [BinOp(Str('Running %s.test13_associateAutoCommit...', lineno=337, col_offset=18), Mod(), Attribute(Attribute(Name('self', Load(), lineno=338, col_offset=18), '__class__', Load(), lineno=338, col_offset=18), '__name__', Load(), lineno=338, col_offset=18), lineno=337, col_offset=18)], True, lineno=337, col_offset=12)], [], lineno=335, col_offset=8), Assign([Name('txn', Store(), lineno=340, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=340, col_offset=14), 'env', Load(), lineno=340, col_offset=14), 'txn_begin', Load(), lineno=340, col_offset=14), [], [], None, None, lineno=340, col_offset=14), lineno=340, col_offset=8), TryExcept([Expr(Call(Attribute(Name('self', Load(), lineno=342, col_offset=12), 'createDB', Load(), lineno=342, col_offset=12), [], [keyword('txn', Name('txn', Load(), lineno=342, col_offset=30))], None, None, lineno=342, col_offset=12), lineno=342, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=344, col_offset=12), 'secDB', Store(), lineno=344, col_offset=12)], Call(Attribute(Name('db', Load(), lineno=344, col_offset=25), 'DB', Load(), lineno=344, col_offset=25), [Attribute(Name('self', Load(), lineno=344, col_offset=31), 'env', Load(), lineno=344, col_offset=31)], [], None, None, lineno=344, col_offset=25), lineno=344, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=345, col_offset=12), 'secDB', Load(), lineno=345, col_offset=12), 'set_flags', Load(), lineno=345, col_offset=12), [Attribute(Name('db', Load(), lineno=345, col_offset=33), 'DB_DUP', Load(), lineno=345, col_offset=33)], [], None, None, lineno=345, col_offset=12), lineno=345, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=346, col_offset=12), 'secDB', Load(), lineno=346, col_offset=12), 'set_get_returns_none', Load(), lineno=346, col_offset=12), [Num(2, lineno=346, col_offset=44)], [], None, None, lineno=346, col_offset=12), lineno=346, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=347, col_offset=12), 'secDB', Load(), lineno=347, col_offset=12), 'open', Load(), lineno=347, col_offset=12), [Attribute(Name('self', Load(), lineno=347, col_offset=28), 'filename', Load(), lineno=347, col_offset=28), Str('secondary', lineno=347, col_offset=43), Attribute(Name('db', Load(), lineno=347, col_offset=56), 'DB_BTREE', Load(), lineno=347, col_offset=56), BinOp(Attribute(Name('db', Load(), lineno=348, col_offset=23), 'DB_CREATE', Load(), lineno=348, col_offset=23), BitOr(), Attribute(Name('db', Load(), lineno=348, col_offset=38), 'DB_THREAD', Load(), lineno=348, col_offset=38), lineno=348, col_offset=23)], [keyword('txn', Name('txn', Load(), lineno=348, col_offset=56))], None, None, lineno=347, col_offset=12), lineno=347, col_offset=12), Expr(Call(Attribute(Call(Attribute(Name('self', Load(), lineno=349, col_offset=12), 'getDB', Load(), lineno=349, col_offset=12), [], [], None, None, lineno=349, col_offset=12), 'associate', Load(), lineno=349, col_offset=12), [Attribute(Name('self', Load(), lineno=349, col_offset=35), 'secDB', Load(), lineno=349, col_offset=35), Attribute(Name('self', Load(), lineno=349, col_offset=47), 'getGenre', Load(), lineno=349, col_offset=47)], [keyword('txn', Name('txn', Load(), lineno=349, col_offset=66))], None, None, lineno=349, col_offset=12), lineno=349, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=351, col_offset=12), 'addDataToDB', Load(), lineno=351, col_offset=12), [Call(Attribute(Name('self', Load(), lineno=351, col_offset=29), 'getDB', Load(), lineno=351, col_offset=29), [], [], None, None, lineno=351, col_offset=29)], [keyword('txn', Name('txn', Load(), lineno=351, col_offset=47))], None, None, lineno=351, col_offset=12), lineno=351, col_offset=12)], [ExceptHandler(None, None, [Expr(Call(Attribute(Name('txn', Load(), lineno=353, col_offset=12), 'abort', Load(), lineno=353, col_offset=12), [], [], None, None, lineno=353, col_offset=12), lineno=353, col_offset=12), Raise(None, None, None, lineno=354, col_offset=12)], lineno=352, col_offset=8)], [], lineno=341, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=356, col_offset=8), 'txn_finish_test', Load(), lineno=356, col_offset=8), [Attribute(Name('self', Load(), lineno=356, col_offset=29), 'secDB', Load(), lineno=356, col_offset=29)], [keyword('txn', Name('txn', Load(), lineno=356, col_offset=45))], None, None, lineno=356, col_offset=8), lineno=356, col_offset=8)], [], lineno=334, col_offset=4)], [], lineno=320, col_offset=0), ClassDef('ShelveAssociateTestCase', [Name('AssociateTestCase', Load(), lineno=361, col_offset=30)], [FunctionDef('createDB', arguments([Name('self', Param(), lineno=363, col_offset=17)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=364, col_offset=8), 'primary', Store(), lineno=364, col_offset=8)], Call(Attribute(Name('dbshelve', Load(), lineno=364, col_offset=23), 'open', Load(), lineno=364, col_offset=23), [Attribute(Name('self', Load(), lineno=364, col_offset=37), 'filename', Load(), lineno=364, col_offset=37)], [keyword('dbname', Str('primary', lineno=365, col_offset=44)), keyword('dbenv', Attribute(Name('self', Load(), lineno=366, col_offset=43), 'env', Load(), lineno=366, col_offset=43)), keyword('filetype', Attribute(Name('self', Load(), lineno=367, col_offset=46), 'dbtype', Load(), lineno=367, col_offset=46))], None, None, lineno=364, col_offset=23), lineno=364, col_offset=8)], [], lineno=363, col_offset=4), FunctionDef('addDataToDB', arguments([Name('self', Param(), lineno=369, col_offset=20), Name('d', Param(), lineno=369, col_offset=26)], None, None, []), [For(Tuple([Name('key', Store(), lineno=370, col_offset=12), Name('value', Store(), lineno=370, col_offset=17)], Store(), lineno=370, col_offset=12), Call(Attribute(Name('musicdata', Load(), lineno=370, col_offset=26), 'items', Load(), lineno=370, col_offset=26), [], [], None, None, lineno=370, col_offset=26), [If(Compare(Call(Name('type', Load(), lineno=371, col_offset=15), [Attribute(Name('self', Load(), lineno=371, col_offset=20), 'keytype', Load(), lineno=371, col_offset=20)], [], None, None, lineno=371, col_offset=15), [Eq()], [Call(Name('type', Load(), lineno=371, col_offset=37), [Str('', lineno=371, col_offset=42)], [], None, None, lineno=371, col_offset=37)], lineno=371, col_offset=15), [Assign([Name('key', Store(), lineno=372, col_offset=16)], BinOp(Str('%02d', lineno=372, col_offset=22), Mod(), Name('key', Load(), lineno=372, col_offset=31), lineno=372, col_offset=22), lineno=372, col_offset=16)], [], lineno=371, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=373, col_offset=12), 'put', Load(), lineno=373, col_offset=12), [Name('key', Load(), lineno=373, col_offset=18), Name('value', Load(), lineno=373, col_offset=23)], [], None, None, lineno=373, col_offset=12), lineno=373, col_offset=12)], [], lineno=370, col_offset=8)], [], lineno=369, col_offset=4), FunctionDef('getGenre', arguments([Name('self', Param(), lineno=376, col_offset=17), Name('priKey', Param(), lineno=376, col_offset=23), Name('priData', Param(), lineno=376, col_offset=31)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=377, col_offset=8), 'assertEqual', Load(), lineno=377, col_offset=8), [Call(Name('type', Load(), lineno=377, col_offset=25), [Name('priData', Load(), lineno=377, col_offset=30)], [], None, None, lineno=377, col_offset=25), Call(Name('type', Load(), lineno=377, col_offset=40), [Tuple([], Load(), lineno=377, col_offset=45)], [], None, None, lineno=377, col_offset=40)], [], None, None, lineno=377, col_offset=8), lineno=377, col_offset=8), If(Name('verbose', Load(), lineno=378, col_offset=11), [Print(None, [BinOp(Str('getGenre key: %r data: %r', lineno=379, col_offset=18), Mod(), Tuple([Name('priKey', Load(), lineno=379, col_offset=49), Name('priData', Load(), lineno=379, col_offset=57)], Load(), lineno=379, col_offset=49), lineno=379, col_offset=18)], True, lineno=379, col_offset=12)], [], lineno=378, col_offset=8), Assign([Name('genre', Store(), lineno=380, col_offset=8)], Subscript(Name('priData', Load(), lineno=380, col_offset=16), Index(Num(2, lineno=380, col_offset=24)), Load(), lineno=380, col_offset=16), lineno=380, col_offset=8), If(Compare(Name('genre', Load(), lineno=381, col_offset=11), [Eq()], [Str('Blues', lineno=381, col_offset=20)], lineno=381, col_offset=11), [Return(Attribute(Name('db', Load(), lineno=382, col_offset=19), 'DB_DONOTINDEX', Load(), lineno=382, col_offset=19), lineno=382, col_offset=12)], [Return(Name('genre', Load(), lineno=384, col_offset=19), lineno=384, col_offset=12)], lineno=381, col_offset=8)], [], lineno=376, col_offset=4)], [], lineno=361, col_offset=0), ClassDef('ShelveAssociateHashTestCase', [Name('ShelveAssociateTestCase', Load(), lineno=387, col_offset=34)], [Assign([Name('dbtype', Store(), lineno=388, col_offset=4)], Attribute(Name('db', Load(), lineno=388, col_offset=13), 'DB_HASH', Load(), lineno=388, col_offset=13), lineno=388, col_offset=4)], [], lineno=387, col_offset=0), ClassDef('ShelveAssociateBTreeTestCase', [Name('ShelveAssociateTestCase', Load(), lineno=390, col_offset=35)], [Assign([Name('dbtype', Store(), lineno=391, col_offset=4)], Attribute(Name('db', Load(), lineno=391, col_offset=13), 'DB_BTREE', Load(), lineno=391, col_offset=13), lineno=391, col_offset=4)], [], lineno=390, col_offset=0), ClassDef('ShelveAssociateRecnoTestCase', [Name('ShelveAssociateTestCase', Load(), lineno=393, col_offset=35)], [Assign([Name('dbtype', Store(), lineno=394, col_offset=4)], Attribute(Name('db', Load(), lineno=394, col_offset=13), 'DB_RECNO', Load(), lineno=394, col_offset=13), lineno=394, col_offset=4), Assign([Name('keytype', Store(), lineno=395, col_offset=4)], Num(0, lineno=395, col_offset=14), lineno=395, col_offset=4)], [], lineno=393, col_offset=0), ClassDef('ThreadedAssociateTestCase', [Name('AssociateTestCase', Load(), lineno=400, col_offset=32)], [FunctionDef('addDataToDB', arguments([Name('self', Param(), lineno=402, col_offset=20), Name('d', Param(), lineno=402, col_offset=26)], None, None, []), [Assign([Name('t1', Store(), lineno=403, col_offset=8)], Call(Name('Thread', Load(), lineno=403, col_offset=13), [], [keyword('target', Attribute(Name('self', Load(), lineno=403, col_offset=29), 'writer1', Load(), lineno=403, col_offset=29)), keyword('args', Tuple([Name('d', Load(), lineno=404, col_offset=28)], Load(), lineno=404, col_offset=28))], None, None, lineno=403, col_offset=13), lineno=403, col_offset=8), Assign([Name('t2', Store(), lineno=405, col_offset=8)], Call(Name('Thread', Load(), lineno=405, col_offset=13), [], [keyword('target', Attribute(Name('self', Load(), lineno=405, col_offset=29), 'writer2', Load(), lineno=405, col_offset=29)), keyword('args', Tuple([Name('d', Load(), lineno=406, col_offset=28)], Load(), lineno=406, col_offset=28))], None, None, lineno=405, col_offset=13), lineno=405, col_offset=8), Expr(Call(Attribute(Name('t1', Load(), lineno=408, col_offset=8), 'setDaemon', Load(), lineno=408, col_offset=8), [Name('True', Load(), lineno=408, col_offset=21)], [], None, None, lineno=408, col_offset=8), lineno=408, col_offset=8), Expr(Call(Attribute(Name('t2', Load(), lineno=409, col_offset=8), 'setDaemon', Load(), lineno=409, col_offset=8), [Name('True', Load(), lineno=409, col_offset=21)], [], None, None, lineno=409, col_offset=8), lineno=409, col_offset=8), Expr(Call(Attribute(Name('t1', Load(), lineno=410, col_offset=8), 'start', Load(), lineno=410, col_offset=8), [], [], None, None, lineno=410, col_offset=8), lineno=410, col_offset=8), Expr(Call(Attribute(Name('t2', Load(), lineno=411, col_offset=8), 'start', Load(), lineno=411, col_offset=8), [], [], None, None, lineno=411, col_offset=8), lineno=411, col_offset=8), Expr(Call(Attribute(Name('t1', Load(), lineno=412, col_offset=8), 'join', Load(), lineno=412, col_offset=8), [], [], None, None, lineno=412, col_offset=8), lineno=412, col_offset=8), Expr(Call(Attribute(Name('t2', Load(), lineno=413, col_offset=8), 'join', Load(), lineno=413, col_offset=8), [], [], None, None, lineno=413, col_offset=8), lineno=413, col_offset=8)], [], lineno=402, col_offset=4), FunctionDef('writer1', arguments([Name('self', Param(), lineno=415, col_offset=16), Name('d', Param(), lineno=415, col_offset=22)], None, None, []), [For(Tuple([Name('key', Store(), lineno=416, col_offset=12), Name('value', Store(), lineno=416, col_offset=17)], Store(), lineno=416, col_offset=12), Call(Attribute(Name('musicdata', Load(), lineno=416, col_offset=26), 'items', Load(), lineno=416, col_offset=26), [], [], None, None, lineno=416, col_offset=26), [If(Compare(Call(Name('type', Load(), lineno=417, col_offset=15), [Attribute(Name('self', Load(), lineno=417, col_offset=20), 'keytype', Load(), lineno=417, col_offset=20)], [], None, None, lineno=417, col_offset=15), [Eq()], [Call(Name('type', Load(), lineno=417, col_offset=37), [Str('', lineno=417, col_offset=42)], [], None, None, lineno=417, col_offset=37)], lineno=417, col_offset=15), [Assign([Name('key', Store(), lineno=418, col_offset=16)], BinOp(Str('%02d', lineno=418, col_offset=22), Mod(), Name('key', Load(), lineno=418, col_offset=31), lineno=418, col_offset=22), lineno=418, col_offset=16)], [], lineno=417, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=419, col_offset=12), 'put', Load(), lineno=419, col_offset=12), [Name('key', Load(), lineno=419, col_offset=18), Call(Attribute(Str('|', lineno=419, col_offset=23), 'join', Load(), lineno=419, col_offset=23), [Name('value', Load(), lineno=419, col_offset=32)], [], None, None, lineno=419, col_offset=23)], [], None, None, lineno=419, col_offset=12), lineno=419, col_offset=12)], [], lineno=416, col_offset=8)], [], lineno=415, col_offset=4), FunctionDef('writer2', arguments([Name('self', Param(), lineno=421, col_offset=16), Name('d', Param(), lineno=421, col_offset=22)], None, None, []), [For(Name('x', Store(), lineno=422, col_offset=12), Call(Name('range', Load(), lineno=422, col_offset=17), [Num(100, lineno=422, col_offset=23), Num(600, lineno=422, col_offset=28)], [], None, None, lineno=422, col_offset=17), [Assign([Name('key', Store(), lineno=423, col_offset=12)], BinOp(Str('z%2d', lineno=423, col_offset=18), Mod(), Name('x', Load(), lineno=423, col_offset=27), lineno=423, col_offset=18), lineno=423, col_offset=12), Assign([Name('value', Store(), lineno=424, col_offset=12)], BinOp(List([Name('key', Load(), lineno=424, col_offset=21)], Load(), lineno=424, col_offset=20), Mult(), Num(4, lineno=424, col_offset=28), lineno=424, col_offset=20), lineno=424, col_offset=12), Expr(Call(Attribute(Name('d', Load(), lineno=425, col_offset=12), 'put', Load(), lineno=425, col_offset=12), [Name('key', Load(), lineno=425, col_offset=18), Call(Attribute(Str('|', lineno=425, col_offset=23), 'join', Load(), lineno=425, col_offset=23), [Name('value', Load(), lineno=425, col_offset=32)], [], None, None, lineno=425, col_offset=23)], [], None, None, lineno=425, col_offset=12), lineno=425, col_offset=12)], [], lineno=422, col_offset=8)], [], lineno=421, col_offset=4)], [], lineno=400, col_offset=0), ClassDef('ThreadedAssociateHashTestCase', [Name('ShelveAssociateTestCase', Load(), lineno=428, col_offset=36)], [Assign([Name('dbtype', Store(), lineno=429, col_offset=4)], Attribute(Name('db', Load(), lineno=429, col_offset=13), 'DB_HASH', Load(), lineno=429, col_offset=13), lineno=429, col_offset=4)], [], lineno=428, col_offset=0), ClassDef('ThreadedAssociateBTreeTestCase', [Name('ShelveAssociateTestCase', Load(), lineno=431, col_offset=37)], [Assign([Name('dbtype', Store(), lineno=432, col_offset=4)], Attribute(Name('db', Load(), lineno=432, col_offset=13), 'DB_BTREE', Load(), lineno=432, col_offset=13), lineno=432, col_offset=4)], [], lineno=431, col_offset=0), ClassDef('ThreadedAssociateRecnoTestCase', [Name('ShelveAssociateTestCase', Load(), lineno=434, col_offset=37)], [Assign([Name('dbtype', Store(), lineno=435, col_offset=4)], Attribute(Name('db', Load(), lineno=435, col_offset=13), 'DB_RECNO', Load(), lineno=435, col_offset=13), lineno=435, col_offset=4), Assign([Name('keytype', Store(), lineno=436, col_offset=4)], Num(0, lineno=436, col_offset=14), lineno=436, col_offset=4)], [], lineno=434, col_offset=0), FunctionDef('test_suite', arguments([], None, None, []), [Assign([Name('suite', Store(), lineno=442, col_offset=4)], Call(Attribute(Name('unittest', Load(), lineno=442, col_offset=12), 'TestSuite', Load(), lineno=442, col_offset=12), [], [], None, None, lineno=442, col_offset=12), lineno=442, col_offset=4), Expr(Call(Attribute(Name('suite', Load(), lineno=444, col_offset=4), 'addTest', Load(), lineno=444, col_offset=4), [Call(Attribute(Name('unittest', Load(), lineno=444, col_offset=18), 'makeSuite', Load(), lineno=444, col_offset=18), [Name('AssociateErrorTestCase', Load(), lineno=444, col_offset=37)], [], None, None, lineno=444, col_offset=18)], [], None, None, lineno=444, col_offset=4), lineno=444, col_offset=4), Expr(Call(Attribute(Name('suite', Load(), lineno=446, col_offset=4), 'addTest', Load(), lineno=446, col_offset=4), [Call(Attribute(Name('unittest', Load(), lineno=446, col_offset=18), 'makeSuite', Load(), lineno=446, col_offset=18), [Name('AssociateHashTestCase', Load(), lineno=446, col_offset=37)], [], None, None, lineno=446, col_offset=18)], [], None, None, lineno=446, col_offset=4), lineno=446, col_offset=4), Expr(Call(Attribute(Name('suite', Load(), lineno=447, col_offset=4), 'addTest', Load(), lineno=447, col_offset=4), [Call(Attribute(Name('unittest', Load(), lineno=447, col_offset=18), 'makeSuite', Load(), lineno=447, col_offset=18), [Name('AssociateBTreeTestCase', Load(), lineno=447, col_offset=37)], [], None, None, lineno=447, col_offset=18)], [], None, None, lineno=447, col_offset=4), lineno=447, col_offset=4), Expr(Call(Attribute(Name('suite', Load(), lineno=448, col_offset=4), 'addTest', Load(), lineno=448, col_offset=4), [Call(Attribute(Name('unittest', Load(), lineno=448, col_offset=18), 'makeSuite', Load(), lineno=448, col_offset=18), [Name('AssociateRecnoTestCase', Load(), lineno=448, col_offset=37)], [], None, None, lineno=448, col_offset=18)], [], None, None, lineno=448, col_offset=4), lineno=448, col_offset=4), Expr(Call(Attribute(Name('suite', Load(), lineno=450, col_offset=4), 'addTest', Load(), lineno=450, col_offset=4), [Call(Attribute(Name('unittest', Load(), lineno=450, col_offset=18), 'makeSuite', Load(), lineno=450, col_offset=18), [Name('AssociateBTreeTxnTestCase', Load(), lineno=450, col_offset=37)], [], None, None, lineno=450, col_offset=18)], [], None, None, lineno=450, col_offset=4), lineno=450, col_offset=4), Expr(Call(Attribute(Name('suite', Load(), lineno=452, col_offset=4), 'addTest', Load(), lineno=452, col_offset=4), [Call(Attribute(Name('unittest', Load(), lineno=452, col_offset=18), 'makeSuite', Load(), lineno=452, col_offset=18), [Name('ShelveAssociateHashTestCase', Load(), lineno=452, col_offset=37)], [], None, None, lineno=452, col_offset=18)], [], None, None, lineno=452, col_offset=4), lineno=452, col_offset=4), Expr(Call(Attribute(Name('suite', Load(), lineno=453, col_offset=4), 'addTest', Load(), lineno=453, col_offset=4), [Call(Attribute(Name('unittest', Load(), lineno=453, col_offset=18), 'makeSuite', Load(), lineno=453, col_offset=18), [Name('ShelveAssociateBTreeTestCase', Load(), lineno=453, col_offset=37)], [], None, None, lineno=453, col_offset=18)], [], None, None, lineno=453, col_offset=4), lineno=453, col_offset=4), Expr(Call(Attribute(Name('suite', Load(), lineno=454, col_offset=4), 'addTest', Load(), lineno=454, col_offset=4), [Call(Attribute(Name('unittest', Load(), lineno=454, col_offset=18), 'makeSuite', Load(), lineno=454, col_offset=18), [Name('ShelveAssociateRecnoTestCase', Load(), lineno=454, col_offset=37)], [], None, None, lineno=454, col_offset=18)], [], None, None, lineno=454, col_offset=4), lineno=454, col_offset=4), If(Name('have_threads', Load(), lineno=456, col_offset=7), [Expr(Call(Attribute(Name('suite', Load(), lineno=457, col_offset=8), 'addTest', Load(), lineno=457, col_offset=8), [Call(Attribute(Name('unittest', Load(), lineno=457, col_offset=22), 'makeSuite', Load(), lineno=457, col_offset=22), [Name('ThreadedAssociateHashTestCase', Load(), lineno=457, col_offset=41)], [], None, None, lineno=457, col_offset=22)], [], None, None, lineno=457, col_offset=8), lineno=457, col_offset=8), Expr(Call(Attribute(Name('suite', Load(), lineno=458, col_offset=8), 'addTest', Load(), lineno=458, col_offset=8), [Call(Attribute(Name('unittest', Load(), lineno=458, col_offset=22), 'makeSuite', Load(), lineno=458, col_offset=22), [Name('ThreadedAssociateBTreeTestCase', Load(), lineno=458, col_offset=41)], [], None, None, lineno=458, col_offset=22)], [], None, None, lineno=458, col_offset=8), lineno=458, col_offset=8), Expr(Call(Attribute(Name('suite', Load(), lineno=459, col_offset=8), 'addTest', Load(), lineno=459, col_offset=8), [Call(Attribute(Name('unittest', Load(), lineno=459, col_offset=22), 'makeSuite', Load(), lineno=459, col_offset=22), [Name('ThreadedAssociateRecnoTestCase', Load(), lineno=459, col_offset=41)], [], None, None, lineno=459, col_offset=22)], [], None, None, lineno=459, col_offset=8), lineno=459, col_offset=8)], [], lineno=456, col_offset=4), Return(Name('suite', Load(), lineno=461, col_offset=11), lineno=461, col_offset=4)], [], lineno=441, col_offset=0), If(Compare(Name('__name__', Load(), lineno=464, col_offset=3), [Eq()], [Str('__main__', lineno=464, col_offset=15)], lineno=464, col_offset=3), [Expr(Call(Attribute(Name('unittest', Load(), lineno=465, col_offset=4), 'main', Load(), lineno=465, col_offset=4), [], [keyword('defaultTest', Str('test_suite', lineno=465, col_offset=30))], None, None, lineno=465, col_offset=4), lineno=465, col_offset=4)], [], lineno=464, col_offset=0)])
