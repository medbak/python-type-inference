Module([Expr(Str('Web tree checker.\n\nThis utility is handy to check a subweb of the world-wide web for\nerrors.  A subweb is specified by giving one or more ``root URLs\'\'; a\npage belongs to the subweb if one of the root URLs is an initial\nprefix of it.\n\nFile URL extension:\n\nIn order to easy the checking of subwebs via the local file system,\nthe interpretation of ``file:\'\' URLs is extended to mimic the behavior\nof your average HTTP daemon: if a directory pathname is given, the\nfile index.html in that directory is returned if it exists, otherwise\na directory listing is returned.  Now, you can point webchecker to the\ndocument tree in the local file system of your HTTP daemon, and have\nmost of it checked.  In fact the default works this way if your local\nweb tree is located at /usr/local/etc/httpd/htdpcs (the default for\nthe NCSA HTTP daemon and probably others).\n\nReport printed:\n\nWhen done, it reports pages with bad links within the subweb.  When\ninterrupted, it reports for the pages that it has checked already.\n\nIn verbose mode, additional messages are printed during the\ninformation gathering phase.  By default, it prints a summary of its\nwork status every 50 URLs (adjustable with the -r option), and it\nreports errors as they are encountered.  Use the -q option to disable\nthis output.\n\nCheckpoint feature:\n\nWhether interrupted or not, it dumps its state (a Python pickle) to a\ncheckpoint file and the -R option allows it to restart from the\ncheckpoint (assuming that the pages on the subweb that were already\nprocessed haven\'t changed).  Even when it has run till completion, -R\ncan still be useful -- it will print the reports again, and -Rq prints\nthe errors only.  In this case, the checkpoint file is not written\nagain.  The checkpoint file can be set with the -d option.\n\nThe checkpoint file is written as a Python pickle.  Remember that\nPython\'s pickle module is currently quite slow.  Give it the time it\nneeds to load and save the checkpoint file.  When interrupted while\nwriting the checkpoint file, the old checkpoint file is not\noverwritten, but all work done in the current run is lost.\n\nMiscellaneous:\n\n- You may find the (Tk-based) GUI version easier to use.  See wcgui.py.\n\n- Webchecker honors the "robots.txt" convention.  Thanks to Skip\nMontanaro for his robotparser.py module (included in this directory)!\nThe agent name is hardwired to "webchecker".  URLs that are disallowed\nby the robots.txt file are reported as external URLs.\n\n- Because the SGML parser is a bit slow, very large SGML files are\nskipped.  The size limit can be set with the -m option.\n\n- When the server or protocol does not tell us a file\'s type, we guess\nit based on the URL\'s suffix.  The mimetypes.py module (also in this\ndirectory) has a built-in table mapping most currently known suffixes,\nand in addition attempts to read the mime.types configuration files in\nthe default locations of Netscape and the NCSA HTTP daemon.\n\n- We follow links indicated by <A>, <FRAME> and <IMG> tags.  We also\nhonor the <BASE> tag.\n\n- We now check internal NAME anchor links, as well as toplevel links.\n\n- Checking external links is now done by default; use -x to *disable*\nthis feature.  External links are now checked during normal\nprocessing.  (XXX The status of a checked link could be categorized\nbetter.  Later...)\n\n- If external links are not checked, you can use the -t flag to\nprovide specific overrides to -x.\n\nUsage: webchecker.py [option] ... [rooturl] ...\n\nOptions:\n\n-R        -- restart from checkpoint file\n-d file   -- checkpoint filename (default %(DUMPFILE)s)\n-m bytes  -- skip HTML pages larger than this size (default %(MAXPAGE)d)\n-n        -- reports only, no checking (use with -R)\n-q        -- quiet operation (also suppresses external links report)\n-r number -- number of links processed per round (default %(ROUNDSIZE)d)\n-t root   -- specify root dir which should be treated as internal (can repeat)\n-v        -- verbose operation; repeating -v will increase verbosity\n-x        -- don\'t check external links (these are often slow to check)\n-a        -- don\'t check name anchors\n\nArguments:\n\nrooturl   -- URL to start checking\n             (default %(DEFROOT)s)\n\n', lineno=103, col_offset=-1), lineno=103, col_offset=-1), Assign([Name('__version__', Store(), lineno=106, col_offset=0)], Str('$Revision: 50851 $', lineno=106, col_offset=14), lineno=106, col_offset=0), Import([alias('sys', None)], lineno=109, col_offset=0), Import([alias('os', None)], lineno=110, col_offset=0), ImportFrom('types', [alias('*', None)], 0, lineno=111, col_offset=0), Import([alias('StringIO', None)], lineno=112, col_offset=0), Import([alias('getopt', None)], lineno=113, col_offset=0), Import([alias('pickle', None)], lineno=114, col_offset=0), Import([alias('urllib', None)], lineno=116, col_offset=0), Import([alias('urlparse', None)], lineno=117, col_offset=0), Import([alias('sgmllib', None)], lineno=118, col_offset=0), Import([alias('cgi', None)], lineno=119, col_offset=0), Import([alias('mimetypes', None)], lineno=121, col_offset=0), Import([alias('robotparser', None)], lineno=122, col_offset=0), If(Compare(Subscript(Name('__version__', Load(), lineno=125, col_offset=3), Index(Num(0, lineno=125, col_offset=15)), Load(), lineno=125, col_offset=3), [Eq()], [Str('$', lineno=125, col_offset=21)], lineno=125, col_offset=3), [Assign([Name('_v', Store(), lineno=126, col_offset=4)], Call(Attribute(Name('__version__', Load(), lineno=126, col_offset=9), 'split', Load(), lineno=126, col_offset=9), [], [], None, None, lineno=126, col_offset=9), lineno=126, col_offset=4), If(Compare(Call(Name('len', Load(), lineno=127, col_offset=7), [Name('_v', Load(), lineno=127, col_offset=11)], [], None, None, lineno=127, col_offset=7), [Eq()], [Num(3, lineno=127, col_offset=18)], lineno=127, col_offset=7), [Assign([Name('__version__', Store(), lineno=128, col_offset=8)], Subscript(Name('_v', Load(), lineno=128, col_offset=22), Index(Num(1, lineno=128, col_offset=25)), Load(), lineno=128, col_offset=22), lineno=128, col_offset=8)], [], lineno=127, col_offset=4)], [], lineno=125, col_offset=0), Assign([Name('DEFROOT', Store(), lineno=132, col_offset=0)], Str('file:/usr/local/etc/httpd/htdocs/', lineno=132, col_offset=10), lineno=132, col_offset=0), Assign([Name('CHECKEXT', Store(), lineno=133, col_offset=0)], Num(1, lineno=133, col_offset=11), lineno=133, col_offset=0), Assign([Name('VERBOSE', Store(), lineno=134, col_offset=0)], Num(1, lineno=134, col_offset=10), lineno=134, col_offset=0), Assign([Name('MAXPAGE', Store(), lineno=135, col_offset=0)], Num(150000, lineno=135, col_offset=10), lineno=135, col_offset=0), Assign([Name('ROUNDSIZE', Store(), lineno=136, col_offset=0)], Num(50, lineno=136, col_offset=12), lineno=136, col_offset=0), Assign([Name('DUMPFILE', Store(), lineno=137, col_offset=0)], Str('@webchecker.pickle', lineno=137, col_offset=11), lineno=137, col_offset=0), Assign([Name('AGENTNAME', Store(), lineno=138, col_offset=0)], Str('webchecker', lineno=138, col_offset=12), lineno=138, col_offset=0), Assign([Name('NONAMES', Store(), lineno=139, col_offset=0)], Num(0, lineno=139, col_offset=10), lineno=139, col_offset=0), FunctionDef('main', arguments([], None, None, []), [Assign([Name('checkext', Store(), lineno=146, col_offset=4)], Name('CHECKEXT', Load(), lineno=146, col_offset=15), lineno=146, col_offset=4), Assign([Name('verbose', Store(), lineno=147, col_offset=4)], Name('VERBOSE', Load(), lineno=147, col_offset=14), lineno=147, col_offset=4), Assign([Name('maxpage', Store(), lineno=148, col_offset=4)], Name('MAXPAGE', Load(), lineno=148, col_offset=14), lineno=148, col_offset=4), Assign([Name('roundsize', Store(), lineno=149, col_offset=4)], Name('ROUNDSIZE', Load(), lineno=149, col_offset=16), lineno=149, col_offset=4), Assign([Name('dumpfile', Store(), lineno=150, col_offset=4)], Name('DUMPFILE', Load(), lineno=150, col_offset=15), lineno=150, col_offset=4), Assign([Name('restart', Store(), lineno=151, col_offset=4)], Num(0, lineno=151, col_offset=14), lineno=151, col_offset=4), Assign([Name('norun', Store(), lineno=152, col_offset=4)], Num(0, lineno=152, col_offset=12), lineno=152, col_offset=4), TryExcept([Assign([Tuple([Name('opts', Store(), lineno=155, col_offset=8), Name('args', Store(), lineno=155, col_offset=14)], Store(), lineno=155, col_offset=8)], Call(Attribute(Name('getopt', Load(), lineno=155, col_offset=21), 'getopt', Load(), lineno=155, col_offset=21), [Subscript(Attribute(Name('sys', Load(), lineno=155, col_offset=35), 'argv', Load(), lineno=155, col_offset=35), Slice(Num(1, lineno=155, col_offset=44), None, None), Load(), lineno=155, col_offset=35), Str('Rd:m:nqr:t:vxa', lineno=155, col_offset=49)], [], None, None, lineno=155, col_offset=21), lineno=155, col_offset=8)], [ExceptHandler(Attribute(Name('getopt', Load(), lineno=156, col_offset=11), 'error', Load(), lineno=156, col_offset=11), Name('msg', Store(), lineno=156, col_offset=25), [Assign([Attribute(Name('sys', Load(), lineno=157, col_offset=8), 'stdout', Store(), lineno=157, col_offset=8)], Attribute(Name('sys', Load(), lineno=157, col_offset=21), 'stderr', Load(), lineno=157, col_offset=21), lineno=157, col_offset=8), Print(None, [Name('msg', Load(), lineno=158, col_offset=14)], True, lineno=158, col_offset=8), Print(None, [BinOp(Name('__doc__', Load(), lineno=159, col_offset=14), Mod(), Call(Name('globals', Load(), lineno=159, col_offset=22), [], [], None, None, lineno=159, col_offset=22), lineno=159, col_offset=14)], True, lineno=159, col_offset=8), Expr(Call(Attribute(Name('sys', Load(), lineno=160, col_offset=8), 'exit', Load(), lineno=160, col_offset=8), [Num(2, lineno=160, col_offset=17)], [], None, None, lineno=160, col_offset=8), lineno=160, col_offset=8)], lineno=156, col_offset=4)], [], lineno=154, col_offset=4), Assign([Name('extra_roots', Store(), lineno=163, col_offset=4)], List([], Load(), lineno=163, col_offset=18), lineno=163, col_offset=4), Assign([Name('nonames', Store(), lineno=164, col_offset=4)], Name('NONAMES', Load(), lineno=164, col_offset=14), lineno=164, col_offset=4), For(Tuple([Name('o', Store(), lineno=166, col_offset=8), Name('a', Store(), lineno=166, col_offset=11)], Store(), lineno=166, col_offset=8), Name('opts', Load(), lineno=166, col_offset=16), [If(Compare(Name('o', Load(), lineno=167, col_offset=11), [Eq()], [Str('-R', lineno=167, col_offset=16)], lineno=167, col_offset=11), [Assign([Name('restart', Store(), lineno=168, col_offset=12)], Num(1, lineno=168, col_offset=22), lineno=168, col_offset=12)], [], lineno=167, col_offset=8), If(Compare(Name('o', Load(), lineno=169, col_offset=11), [Eq()], [Str('-d', lineno=169, col_offset=16)], lineno=169, col_offset=11), [Assign([Name('dumpfile', Store(), lineno=170, col_offset=12)], Name('a', Load(), lineno=170, col_offset=23), lineno=170, col_offset=12)], [], lineno=169, col_offset=8), If(Compare(Name('o', Load(), lineno=171, col_offset=11), [Eq()], [Str('-m', lineno=171, col_offset=16)], lineno=171, col_offset=11), [Assign([Name('maxpage', Store(), lineno=172, col_offset=12)], Call(Name('int', Load(), lineno=172, col_offset=22), [Name('a', Load(), lineno=172, col_offset=26)], [], None, None, lineno=172, col_offset=22), lineno=172, col_offset=12)], [], lineno=171, col_offset=8), If(Compare(Name('o', Load(), lineno=173, col_offset=11), [Eq()], [Str('-n', lineno=173, col_offset=16)], lineno=173, col_offset=11), [Assign([Name('norun', Store(), lineno=174, col_offset=12)], Num(1, lineno=174, col_offset=20), lineno=174, col_offset=12)], [], lineno=173, col_offset=8), If(Compare(Name('o', Load(), lineno=175, col_offset=11), [Eq()], [Str('-q', lineno=175, col_offset=16)], lineno=175, col_offset=11), [Assign([Name('verbose', Store(), lineno=176, col_offset=12)], Num(0, lineno=176, col_offset=22), lineno=176, col_offset=12)], [], lineno=175, col_offset=8), If(Compare(Name('o', Load(), lineno=177, col_offset=11), [Eq()], [Str('-r', lineno=177, col_offset=16)], lineno=177, col_offset=11), [Assign([Name('roundsize', Store(), lineno=178, col_offset=12)], Call(Name('int', Load(), lineno=178, col_offset=24), [Name('a', Load(), lineno=178, col_offset=28)], [], None, None, lineno=178, col_offset=24), lineno=178, col_offset=12)], [], lineno=177, col_offset=8), If(Compare(Name('o', Load(), lineno=179, col_offset=11), [Eq()], [Str('-t', lineno=179, col_offset=16)], lineno=179, col_offset=11), [Expr(Call(Attribute(Name('extra_roots', Load(), lineno=180, col_offset=12), 'append', Load(), lineno=180, col_offset=12), [Name('a', Load(), lineno=180, col_offset=31)], [], None, None, lineno=180, col_offset=12), lineno=180, col_offset=12)], [], lineno=179, col_offset=8), If(Compare(Name('o', Load(), lineno=181, col_offset=11), [Eq()], [Str('-a', lineno=181, col_offset=16)], lineno=181, col_offset=11), [Assign([Name('nonames', Store(), lineno=182, col_offset=12)], UnaryOp(Not(), Name('nonames', Load(), lineno=182, col_offset=26), lineno=182, col_offset=22), lineno=182, col_offset=12)], [], lineno=181, col_offset=8), If(Compare(Name('o', Load(), lineno=183, col_offset=11), [Eq()], [Str('-v', lineno=183, col_offset=16)], lineno=183, col_offset=11), [Assign([Name('verbose', Store(), lineno=184, col_offset=12)], BinOp(Name('verbose', Load(), lineno=184, col_offset=22), Add(), Num(1, lineno=184, col_offset=32), lineno=184, col_offset=22), lineno=184, col_offset=12)], [], lineno=183, col_offset=8), If(Compare(Name('o', Load(), lineno=185, col_offset=11), [Eq()], [Str('-x', lineno=185, col_offset=16)], lineno=185, col_offset=11), [Assign([Name('checkext', Store(), lineno=186, col_offset=12)], UnaryOp(Not(), Name('checkext', Load(), lineno=186, col_offset=27), lineno=186, col_offset=23), lineno=186, col_offset=12)], [], lineno=185, col_offset=8)], [], lineno=166, col_offset=4), If(Compare(Name('verbose', Load(), lineno=188, col_offset=7), [Gt()], [Num(0, lineno=188, col_offset=17)], lineno=188, col_offset=7), [Print(None, [Name('AGENTNAME', Load(), lineno=189, col_offset=14), Str('version', lineno=189, col_offset=25), Name('__version__', Load(), lineno=189, col_offset=36)], True, lineno=189, col_offset=8)], [], lineno=188, col_offset=4), If(Name('restart', Load(), lineno=191, col_offset=7), [Assign([Name('c', Store(), lineno=192, col_offset=8)], Call(Name('load_pickle', Load(), lineno=192, col_offset=12), [], [keyword('dumpfile', Name('dumpfile', Load(), lineno=192, col_offset=33)), keyword('verbose', Name('verbose', Load(), lineno=192, col_offset=51))], None, None, lineno=192, col_offset=12), lineno=192, col_offset=8)], [Assign([Name('c', Store(), lineno=194, col_offset=8)], Call(Name('Checker', Load(), lineno=194, col_offset=12), [], [], None, None, lineno=194, col_offset=12), lineno=194, col_offset=8)], lineno=191, col_offset=4), Expr(Call(Attribute(Name('c', Load(), lineno=196, col_offset=4), 'setflags', Load(), lineno=196, col_offset=4), [], [keyword('checkext', Name('checkext', Load(), lineno=196, col_offset=24)), keyword('verbose', Name('verbose', Load(), lineno=196, col_offset=42)), keyword('maxpage', Name('maxpage', Load(), lineno=197, col_offset=23)), keyword('roundsize', Name('roundsize', Load(), lineno=197, col_offset=42)), keyword('nonames', Name('nonames', Load(), lineno=198, col_offset=23))], None, None, lineno=196, col_offset=4), lineno=196, col_offset=4), If(BoolOp(And(), [UnaryOp(Not(), Name('restart', Load(), lineno=201, col_offset=11), lineno=201, col_offset=7), UnaryOp(Not(), Name('args', Load(), lineno=201, col_offset=27), lineno=201, col_offset=23)], lineno=201, col_offset=7), [Expr(Call(Attribute(Name('args', Load(), lineno=202, col_offset=8), 'append', Load(), lineno=202, col_offset=8), [Name('DEFROOT', Load(), lineno=202, col_offset=20)], [], None, None, lineno=202, col_offset=8), lineno=202, col_offset=8)], [], lineno=201, col_offset=4), For(Name('arg', Store(), lineno=204, col_offset=8), Name('args', Load(), lineno=204, col_offset=15), [Expr(Call(Attribute(Name('c', Load(), lineno=205, col_offset=8), 'addroot', Load(), lineno=205, col_offset=8), [Name('arg', Load(), lineno=205, col_offset=18)], [], None, None, lineno=205, col_offset=8), lineno=205, col_offset=8)], [], lineno=204, col_offset=4), If(UnaryOp(Not(), Name('checkext', Load(), lineno=209, col_offset=11), lineno=209, col_offset=7), [For(Name('root', Store(), lineno=210, col_offset=12), Name('extra_roots', Load(), lineno=210, col_offset=20), [If(Compare(Subscript(Name('root', Load(), lineno=214, col_offset=15), Index(Num(-1, lineno=214, col_offset=21)), Load(), lineno=214, col_offset=15), [NotEq()], [Str('/', lineno=214, col_offset=27)], lineno=214, col_offset=15), [Assign([Name('root', Store(), lineno=215, col_offset=16)], BinOp(Name('root', Load(), lineno=215, col_offset=23), Add(), Str('/', lineno=215, col_offset=30), lineno=215, col_offset=23), lineno=215, col_offset=16)], [], lineno=214, col_offset=12), Expr(Call(Attribute(Name('c', Load(), lineno=216, col_offset=12), 'addroot', Load(), lineno=216, col_offset=12), [Name('root', Load(), lineno=216, col_offset=22)], [keyword('add_to_do', Num(0, lineno=216, col_offset=40))], None, None, lineno=216, col_offset=12), lineno=216, col_offset=12)], [], lineno=210, col_offset=8)], [], lineno=209, col_offset=4), TryFinally([If(UnaryOp(Not(), Name('norun', Load(), lineno=220, col_offset=15), lineno=220, col_offset=11), [TryExcept([Expr(Call(Attribute(Name('c', Load(), lineno=222, col_offset=16), 'run', Load(), lineno=222, col_offset=16), [], [], None, None, lineno=222, col_offset=16), lineno=222, col_offset=16)], [ExceptHandler(Name('KeyboardInterrupt', Load(), lineno=223, col_offset=19), None, [If(Compare(Name('verbose', Load(), lineno=224, col_offset=19), [Gt()], [Num(0, lineno=224, col_offset=29)], lineno=224, col_offset=19), [Print(None, [Str('[run interrupted]', lineno=225, col_offset=26)], True, lineno=225, col_offset=20)], [], lineno=224, col_offset=16)], lineno=223, col_offset=12)], [], lineno=221, col_offset=12)], [], lineno=220, col_offset=8), TryExcept([Expr(Call(Attribute(Name('c', Load(), lineno=228, col_offset=12), 'report', Load(), lineno=228, col_offset=12), [], [], None, None, lineno=228, col_offset=12), lineno=228, col_offset=12)], [ExceptHandler(Name('KeyboardInterrupt', Load(), lineno=229, col_offset=15), None, [If(Compare(Name('verbose', Load(), lineno=230, col_offset=15), [Gt()], [Num(0, lineno=230, col_offset=25)], lineno=230, col_offset=15), [Print(None, [Str('[report interrupted]', lineno=231, col_offset=22)], True, lineno=231, col_offset=16)], [], lineno=230, col_offset=12)], lineno=229, col_offset=8)], [], lineno=227, col_offset=8)], [If(Call(Attribute(Name('c', Load(), lineno=234, col_offset=11), 'save_pickle', Load(), lineno=234, col_offset=11), [Name('dumpfile', Load(), lineno=234, col_offset=25)], [], None, None, lineno=234, col_offset=11), [If(Compare(Name('dumpfile', Load(), lineno=235, col_offset=15), [Eq()], [Name('DUMPFILE', Load(), lineno=235, col_offset=27)], lineno=235, col_offset=15), [Print(None, [BinOp(Str("Use ``%s -R'' to restart.", lineno=236, col_offset=22), Mod(), Subscript(Attribute(Name('sys', Load(), lineno=236, col_offset=52), 'argv', Load(), lineno=236, col_offset=52), Index(Num(0, lineno=236, col_offset=61)), Load(), lineno=236, col_offset=52), lineno=236, col_offset=22)], True, lineno=236, col_offset=16)], [Print(None, [BinOp(Str("Use ``%s -R -d %s'' to restart.", lineno=238, col_offset=22), Mod(), Tuple([Subscript(Attribute(Name('sys', Load(), lineno=238, col_offset=59), 'argv', Load(), lineno=238, col_offset=59), Index(Num(0, lineno=238, col_offset=68)), Load(), lineno=238, col_offset=59), Name('dumpfile', Load(), lineno=239, col_offset=59)], Load(), lineno=238, col_offset=59), lineno=238, col_offset=22)], True, lineno=238, col_offset=16)], lineno=235, col_offset=12)], [], lineno=234, col_offset=8)], lineno=218, col_offset=4)], [], lineno=145, col_offset=0), FunctionDef('load_pickle', arguments([Name('dumpfile', Param(), lineno=242, col_offset=16), Name('verbose', Param(), lineno=242, col_offset=35)], None, None, [Name('DUMPFILE', Load(), lineno=242, col_offset=25), Name('VERBOSE', Load(), lineno=242, col_offset=43)]), [If(Compare(Name('verbose', Load(), lineno=243, col_offset=7), [Gt()], [Num(0, lineno=243, col_offset=17)], lineno=243, col_offset=7), [Print(None, [BinOp(Str('Loading checkpoint from %s ...', lineno=244, col_offset=14), Mod(), Name('dumpfile', Load(), lineno=244, col_offset=49), lineno=244, col_offset=14)], True, lineno=244, col_offset=8)], [], lineno=243, col_offset=4), Assign([Name('f', Store(), lineno=245, col_offset=4)], Call(Name('open', Load(), lineno=245, col_offset=8), [Name('dumpfile', Load(), lineno=245, col_offset=13), Str('rb', lineno=245, col_offset=23)], [], None, None, lineno=245, col_offset=8), lineno=245, col_offset=4), Assign([Name('c', Store(), lineno=246, col_offset=4)], Call(Attribute(Name('pickle', Load(), lineno=246, col_offset=8), 'load', Load(), lineno=246, col_offset=8), [Name('f', Load(), lineno=246, col_offset=20)], [], None, None, lineno=246, col_offset=8), lineno=246, col_offset=4), Expr(Call(Attribute(Name('f', Load(), lineno=247, col_offset=4), 'close', Load(), lineno=247, col_offset=4), [], [], None, None, lineno=247, col_offset=4), lineno=247, col_offset=4), If(Compare(Name('verbose', Load(), lineno=248, col_offset=7), [Gt()], [Num(0, lineno=248, col_offset=17)], lineno=248, col_offset=7), [Print(None, [Str('Done.', lineno=249, col_offset=14)], True, lineno=249, col_offset=8), Print(None, [Str('Root:', lineno=250, col_offset=14), Call(Attribute(Str('\n      ', lineno=250, col_offset=23), 'join', Load(), lineno=250, col_offset=23), [Attribute(Name('c', Load(), lineno=250, col_offset=39), 'roots', Load(), lineno=250, col_offset=39)], [], None, None, lineno=250, col_offset=23)], True, lineno=250, col_offset=8)], [], lineno=248, col_offset=4), Return(Name('c', Load(), lineno=251, col_offset=11), lineno=251, col_offset=4)], [], lineno=242, col_offset=0), ClassDef('Checker', [], [Assign([Name('checkext', Store(), lineno=256, col_offset=4)], Name('CHECKEXT', Load(), lineno=256, col_offset=15), lineno=256, col_offset=4), Assign([Name('verbose', Store(), lineno=257, col_offset=4)], Name('VERBOSE', Load(), lineno=257, col_offset=14), lineno=257, col_offset=4), Assign([Name('maxpage', Store(), lineno=258, col_offset=4)], Name('MAXPAGE', Load(), lineno=258, col_offset=14), lineno=258, col_offset=4), Assign([Name('roundsize', Store(), lineno=259, col_offset=4)], Name('ROUNDSIZE', Load(), lineno=259, col_offset=16), lineno=259, col_offset=4), Assign([Name('nonames', Store(), lineno=260, col_offset=4)], Name('NONAMES', Load(), lineno=260, col_offset=14), lineno=260, col_offset=4), Assign([Name('validflags', Store(), lineno=262, col_offset=4)], Call(Name('tuple', Load(), lineno=262, col_offset=17), [Call(Name('dir', Load(), lineno=262, col_offset=23), [], [], None, None, lineno=262, col_offset=23)], [], None, None, lineno=262, col_offset=17), lineno=262, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=264, col_offset=17)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=265, col_offset=8), 'reset', Load(), lineno=265, col_offset=8), [], [], None, None, lineno=265, col_offset=8), lineno=265, col_offset=8)], [], lineno=264, col_offset=4), FunctionDef('setflags', arguments([Name('self', Param(), lineno=267, col_offset=17)], None, 'kw', []), [For(Name('key', Store(), lineno=268, col_offset=12), Call(Attribute(Name('kw', Load(), lineno=268, col_offset=19), 'keys', Load(), lineno=268, col_offset=19), [], [], None, None, lineno=268, col_offset=19), [If(Compare(Name('key', Load(), lineno=269, col_offset=15), [NotIn()], [Attribute(Name('self', Load(), lineno=269, col_offset=26), 'validflags', Load(), lineno=269, col_offset=26)], lineno=269, col_offset=15), [Raise(Name('NameError', Load(), lineno=270, col_offset=22), BinOp(Str('invalid keyword argument: %s', lineno=270, col_offset=33), Mod(), Call(Name('str', Load(), lineno=270, col_offset=66), [Name('key', Load(), lineno=270, col_offset=70)], [], None, None, lineno=270, col_offset=66), lineno=270, col_offset=33), None, lineno=270, col_offset=16)], [], lineno=269, col_offset=12)], [], lineno=268, col_offset=8), For(Tuple([Name('key', Store(), lineno=271, col_offset=12), Name('value', Store(), lineno=271, col_offset=17)], Store(), lineno=271, col_offset=12), Call(Attribute(Name('kw', Load(), lineno=271, col_offset=26), 'items', Load(), lineno=271, col_offset=26), [], [], None, None, lineno=271, col_offset=26), [Expr(Call(Name('setattr', Load(), lineno=272, col_offset=12), [Name('self', Load(), lineno=272, col_offset=20), Name('key', Load(), lineno=272, col_offset=26), Name('value', Load(), lineno=272, col_offset=31)], [], None, None, lineno=272, col_offset=12), lineno=272, col_offset=12)], [], lineno=271, col_offset=8)], [], lineno=267, col_offset=4), FunctionDef('reset', arguments([Name('self', Param(), lineno=274, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=275, col_offset=8), 'roots', Store(), lineno=275, col_offset=8)], List([], Load(), lineno=275, col_offset=21), lineno=275, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=276, col_offset=8), 'todo', Store(), lineno=276, col_offset=8)], Dict([], [], lineno=276, col_offset=20), lineno=276, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=277, col_offset=8), 'done', Store(), lineno=277, col_offset=8)], Dict([], [], lineno=277, col_offset=20), lineno=277, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=278, col_offset=8), 'bad', Store(), lineno=278, col_offset=8)], Dict([], [], lineno=278, col_offset=19), lineno=278, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=282, col_offset=8), 'name_table', Store(), lineno=282, col_offset=8)], Dict([], [], lineno=282, col_offset=26), lineno=282, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=284, col_offset=8), 'round', Store(), lineno=284, col_offset=8)], Num(0, lineno=284, col_offset=21), lineno=284, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=286, col_offset=8), 'robots', Store(), lineno=286, col_offset=8)], Dict([], [], lineno=286, col_offset=22), lineno=286, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=287, col_offset=8), 'errors', Store(), lineno=287, col_offset=8)], Dict([], [], lineno=287, col_offset=22), lineno=287, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=288, col_offset=8), 'urlopener', Store(), lineno=288, col_offset=8)], Call(Name('MyURLopener', Load(), lineno=288, col_offset=25), [], [], None, None, lineno=288, col_offset=25), lineno=288, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=289, col_offset=8), 'changed', Store(), lineno=289, col_offset=8)], Num(0, lineno=289, col_offset=23), lineno=289, col_offset=8)], [], lineno=274, col_offset=4), FunctionDef('note', arguments([Name('self', Param(), lineno=291, col_offset=13), Name('level', Param(), lineno=291, col_offset=19), Name('format', Param(), lineno=291, col_offset=26)], 'args', None, []), [If(Compare(Attribute(Name('self', Load(), lineno=292, col_offset=11), 'verbose', Load(), lineno=292, col_offset=11), [Gt()], [Name('level', Load(), lineno=292, col_offset=26)], lineno=292, col_offset=11), [If(Name('args', Load(), lineno=293, col_offset=15), [Assign([Name('format', Store(), lineno=294, col_offset=16)], BinOp(Name('format', Load(), lineno=294, col_offset=25), Mod(), Name('args', Load(), lineno=294, col_offset=32), lineno=294, col_offset=25), lineno=294, col_offset=16)], [], lineno=293, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=295, col_offset=12), 'message', Load(), lineno=295, col_offset=12), [Name('format', Load(), lineno=295, col_offset=25)], [], None, None, lineno=295, col_offset=12), lineno=295, col_offset=12)], [], lineno=292, col_offset=8)], [], lineno=291, col_offset=4), FunctionDef('message', arguments([Name('self', Param(), lineno=297, col_offset=16), Name('format', Param(), lineno=297, col_offset=22)], 'args', None, []), [If(Name('args', Load(), lineno=298, col_offset=11), [Assign([Name('format', Store(), lineno=299, col_offset=12)], BinOp(Name('format', Load(), lineno=299, col_offset=21), Mod(), Name('args', Load(), lineno=299, col_offset=28), lineno=299, col_offset=21), lineno=299, col_offset=12)], [], lineno=298, col_offset=8), Print(None, [Name('format', Load(), lineno=300, col_offset=14)], True, lineno=300, col_offset=8)], [], lineno=297, col_offset=4), FunctionDef('__getstate__', arguments([Name('self', Param(), lineno=302, col_offset=21)], None, None, []), [Return(Tuple([Attribute(Name('self', Load(), lineno=303, col_offset=16), 'roots', Load(), lineno=303, col_offset=16), Attribute(Name('self', Load(), lineno=303, col_offset=28), 'todo', Load(), lineno=303, col_offset=28), Attribute(Name('self', Load(), lineno=303, col_offset=39), 'done', Load(), lineno=303, col_offset=39), Attribute(Name('self', Load(), lineno=303, col_offset=50), 'bad', Load(), lineno=303, col_offset=50), Attribute(Name('self', Load(), lineno=303, col_offset=60), 'round', Load(), lineno=303, col_offset=60)], Load(), lineno=303, col_offset=16), lineno=303, col_offset=8)], [], lineno=302, col_offset=4), FunctionDef('__setstate__', arguments([Name('self', Param(), lineno=305, col_offset=21), Name('state', Param(), lineno=305, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=306, col_offset=8), 'reset', Load(), lineno=306, col_offset=8), [], [], None, None, lineno=306, col_offset=8), lineno=306, col_offset=8), Assign([Tuple([Attribute(Name('self', Load(), lineno=307, col_offset=9), 'roots', Store(), lineno=307, col_offset=9), Attribute(Name('self', Load(), lineno=307, col_offset=21), 'todo', Store(), lineno=307, col_offset=21), Attribute(Name('self', Load(), lineno=307, col_offset=32), 'done', Store(), lineno=307, col_offset=32), Attribute(Name('self', Load(), lineno=307, col_offset=43), 'bad', Store(), lineno=307, col_offset=43), Attribute(Name('self', Load(), lineno=307, col_offset=53), 'round', Store(), lineno=307, col_offset=53)], Store(), lineno=307, col_offset=9)], Name('state', Load(), lineno=307, col_offset=67), lineno=307, col_offset=8), For(Name('root', Store(), lineno=308, col_offset=12), Attribute(Name('self', Load(), lineno=308, col_offset=20), 'roots', Load(), lineno=308, col_offset=20), [Expr(Call(Attribute(Name('self', Load(), lineno=309, col_offset=12), 'addrobot', Load(), lineno=309, col_offset=12), [Name('root', Load(), lineno=309, col_offset=26)], [], None, None, lineno=309, col_offset=12), lineno=309, col_offset=12)], [], lineno=308, col_offset=8), For(Name('url', Store(), lineno=310, col_offset=12), Call(Attribute(Attribute(Name('self', Load(), lineno=310, col_offset=19), 'bad', Load(), lineno=310, col_offset=19), 'keys', Load(), lineno=310, col_offset=19), [], [], None, None, lineno=310, col_offset=19), [Expr(Call(Attribute(Name('self', Load(), lineno=311, col_offset=12), 'markerror', Load(), lineno=311, col_offset=12), [Name('url', Load(), lineno=311, col_offset=27)], [], None, None, lineno=311, col_offset=12), lineno=311, col_offset=12)], [], lineno=310, col_offset=8)], [], lineno=305, col_offset=4), FunctionDef('addroot', arguments([Name('self', Param(), lineno=313, col_offset=16), Name('root', Param(), lineno=313, col_offset=22), Name('add_to_do', Param(), lineno=313, col_offset=28)], None, None, [Num(1, lineno=313, col_offset=40)]), [If(Compare(Name('root', Load(), lineno=314, col_offset=11), [NotIn()], [Attribute(Name('self', Load(), lineno=314, col_offset=23), 'roots', Load(), lineno=314, col_offset=23)], lineno=314, col_offset=11), [Assign([Name('troot', Store(), lineno=315, col_offset=12)], Name('root', Load(), lineno=315, col_offset=20), lineno=315, col_offset=12), Assign([Tuple([Name('scheme', Store(), lineno=316, col_offset=12), Name('netloc', Store(), lineno=316, col_offset=20), Name('path', Store(), lineno=316, col_offset=28), Name('params', Store(), lineno=316, col_offset=34), Name('query', Store(), lineno=316, col_offset=42), Name('fragment', Store(), lineno=316, col_offset=49)], Store(), lineno=316, col_offset=12)], Call(Attribute(Name('urlparse', Load(), lineno=317, col_offset=20), 'urlparse', Load(), lineno=317, col_offset=20), [Name('root', Load(), lineno=317, col_offset=38)], [], None, None, lineno=317, col_offset=20), lineno=316, col_offset=12), Assign([Name('i', Store(), lineno=318, col_offset=12)], BinOp(Call(Attribute(Name('path', Load(), lineno=318, col_offset=16), 'rfind', Load(), lineno=318, col_offset=16), [Str('/', lineno=318, col_offset=27)], [], None, None, lineno=318, col_offset=16), Add(), Num(1, lineno=318, col_offset=34), lineno=318, col_offset=16), lineno=318, col_offset=12), If(Compare(Num(0, lineno=319, col_offset=15), [Lt(), Lt()], [Name('i', Load(), lineno=319, col_offset=19), Call(Name('len', Load(), lineno=319, col_offset=23), [Name('path', Load(), lineno=319, col_offset=27)], [], None, None, lineno=319, col_offset=23)], lineno=319, col_offset=15), [Assign([Name('path', Store(), lineno=320, col_offset=16)], Subscript(Name('path', Load(), lineno=320, col_offset=23), Slice(None, Name('i', Load(), lineno=320, col_offset=29), None), Load(), lineno=320, col_offset=23), lineno=320, col_offset=16), Assign([Name('troot', Store(), lineno=321, col_offset=16)], Call(Attribute(Name('urlparse', Load(), lineno=321, col_offset=24), 'urlunparse', Load(), lineno=321, col_offset=24), [Tuple([Name('scheme', Load(), lineno=321, col_offset=45), Name('netloc', Load(), lineno=321, col_offset=53), Name('path', Load(), lineno=321, col_offset=61), Name('params', Load(), lineno=322, col_offset=45), Name('query', Load(), lineno=322, col_offset=53), Name('fragment', Load(), lineno=322, col_offset=60)], Load(), lineno=321, col_offset=45)], [], None, None, lineno=321, col_offset=24), lineno=321, col_offset=16)], [], lineno=319, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=323, col_offset=12), 'roots', Load(), lineno=323, col_offset=12), 'append', Load(), lineno=323, col_offset=12), [Name('troot', Load(), lineno=323, col_offset=30)], [], None, None, lineno=323, col_offset=12), lineno=323, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=324, col_offset=12), 'addrobot', Load(), lineno=324, col_offset=12), [Name('root', Load(), lineno=324, col_offset=26)], [], None, None, lineno=324, col_offset=12), lineno=324, col_offset=12), If(Name('add_to_do', Load(), lineno=325, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=326, col_offset=16), 'newlink', Load(), lineno=326, col_offset=16), [Tuple([Name('root', Load(), lineno=326, col_offset=30), Str('', lineno=326, col_offset=36)], Load(), lineno=326, col_offset=30), Tuple([Str('<root>', lineno=326, col_offset=42), Name('root', Load(), lineno=326, col_offset=52)], Load(), lineno=326, col_offset=42)], [], None, None, lineno=326, col_offset=16), lineno=326, col_offset=16)], [], lineno=325, col_offset=12)], [], lineno=314, col_offset=8)], [], lineno=313, col_offset=4), FunctionDef('addrobot', arguments([Name('self', Param(), lineno=328, col_offset=17), Name('root', Param(), lineno=328, col_offset=23)], None, None, []), [Assign([Name('root', Store(), lineno=329, col_offset=8)], Call(Attribute(Name('urlparse', Load(), lineno=329, col_offset=15), 'urljoin', Load(), lineno=329, col_offset=15), [Name('root', Load(), lineno=329, col_offset=32), Str('/', lineno=329, col_offset=38)], [], None, None, lineno=329, col_offset=15), lineno=329, col_offset=8), If(Call(Attribute(Attribute(Name('self', Load(), lineno=330, col_offset=11), 'robots', Load(), lineno=330, col_offset=11), 'has_key', Load(), lineno=330, col_offset=11), [Name('root', Load(), lineno=330, col_offset=31)], [], None, None, lineno=330, col_offset=11), [Return(None, lineno=330, col_offset=38)], [], lineno=330, col_offset=8), Assign([Name('url', Store(), lineno=331, col_offset=8)], Call(Attribute(Name('urlparse', Load(), lineno=331, col_offset=14), 'urljoin', Load(), lineno=331, col_offset=14), [Name('root', Load(), lineno=331, col_offset=31), Str('/robots.txt', lineno=331, col_offset=37)], [], None, None, lineno=331, col_offset=14), lineno=331, col_offset=8), Assign([Subscript(Attribute(Name('self', Load(), lineno=332, col_offset=8), 'robots', Load(), lineno=332, col_offset=8), Index(Name('root', Load(), lineno=332, col_offset=20)), Store(), lineno=332, col_offset=8), Name('rp', Store(), lineno=332, col_offset=28)], Call(Attribute(Name('robotparser', Load(), lineno=332, col_offset=33), 'RobotFileParser', Load(), lineno=332, col_offset=33), [], [], None, None, lineno=332, col_offset=33), lineno=332, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=333, col_offset=8), 'note', Load(), lineno=333, col_offset=8), [Num(2, lineno=333, col_offset=18), Str('Parsing %s', lineno=333, col_offset=21), Name('url', Load(), lineno=333, col_offset=35)], [], None, None, lineno=333, col_offset=8), lineno=333, col_offset=8), Assign([Attribute(Name('rp', Load(), lineno=334, col_offset=8), 'debug', Store(), lineno=334, col_offset=8)], Compare(Attribute(Name('self', Load(), lineno=334, col_offset=19), 'verbose', Load(), lineno=334, col_offset=19), [Gt()], [Num(3, lineno=334, col_offset=34)], lineno=334, col_offset=19), lineno=334, col_offset=8), Expr(Call(Attribute(Name('rp', Load(), lineno=335, col_offset=8), 'set_url', Load(), lineno=335, col_offset=8), [Name('url', Load(), lineno=335, col_offset=19)], [], None, None, lineno=335, col_offset=8), lineno=335, col_offset=8), TryExcept([Expr(Call(Attribute(Name('rp', Load(), lineno=337, col_offset=12), 'read', Load(), lineno=337, col_offset=12), [], [], None, None, lineno=337, col_offset=12), lineno=337, col_offset=12)], [ExceptHandler(Tuple([Name('OSError', Load(), lineno=338, col_offset=16), Name('IOError', Load(), lineno=338, col_offset=25)], Load(), lineno=338, col_offset=16), Name('msg', Store(), lineno=338, col_offset=35), [Expr(Call(Attribute(Name('self', Load(), lineno=339, col_offset=12), 'note', Load(), lineno=339, col_offset=12), [Num(1, lineno=339, col_offset=22), Str('I/O error parsing %s: %s', lineno=339, col_offset=25), Name('url', Load(), lineno=339, col_offset=53), Name('msg', Load(), lineno=339, col_offset=58)], [], None, None, lineno=339, col_offset=12), lineno=339, col_offset=12)], lineno=338, col_offset=8)], [], lineno=336, col_offset=8)], [], lineno=328, col_offset=4), FunctionDef('run', arguments([Name('self', Param(), lineno=341, col_offset=12)], None, None, []), [While(Attribute(Name('self', Load(), lineno=342, col_offset=14), 'todo', Load(), lineno=342, col_offset=14), [Assign([Attribute(Name('self', Load(), lineno=343, col_offset=12), 'round', Store(), lineno=343, col_offset=12)], BinOp(Attribute(Name('self', Load(), lineno=343, col_offset=25), 'round', Load(), lineno=343, col_offset=25), Add(), Num(1, lineno=343, col_offset=38), lineno=343, col_offset=25), lineno=343, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=344, col_offset=12), 'note', Load(), lineno=344, col_offset=12), [Num(0, lineno=344, col_offset=22), Str('\nRound %d (%s)\n', lineno=344, col_offset=25), Attribute(Name('self', Load(), lineno=344, col_offset=46), 'round', Load(), lineno=344, col_offset=46), Call(Attribute(Name('self', Load(), lineno=344, col_offset=58), 'status', Load(), lineno=344, col_offset=58), [], [], None, None, lineno=344, col_offset=58)], [], None, None, lineno=344, col_offset=12), lineno=344, col_offset=12), Assign([Name('urls', Store(), lineno=345, col_offset=12)], Call(Attribute(Attribute(Name('self', Load(), lineno=345, col_offset=19), 'todo', Load(), lineno=345, col_offset=19), 'keys', Load(), lineno=345, col_offset=19), [], [], None, None, lineno=345, col_offset=19), lineno=345, col_offset=12), Expr(Call(Attribute(Name('urls', Load(), lineno=346, col_offset=12), 'sort', Load(), lineno=346, col_offset=12), [], [], None, None, lineno=346, col_offset=12), lineno=346, col_offset=12), Delete([Subscript(Name('urls', Load(), lineno=347, col_offset=16), Slice(Attribute(Name('self', Load(), lineno=347, col_offset=21), 'roundsize', Load(), lineno=347, col_offset=21), None, None), Del(), lineno=347, col_offset=16)], lineno=347, col_offset=12), For(Name('url', Store(), lineno=348, col_offset=16), Name('urls', Load(), lineno=348, col_offset=23), [Expr(Call(Attribute(Name('self', Load(), lineno=349, col_offset=16), 'dopage', Load(), lineno=349, col_offset=16), [Name('url', Load(), lineno=349, col_offset=28)], [], None, None, lineno=349, col_offset=16), lineno=349, col_offset=16)], [], lineno=348, col_offset=12)], [], lineno=342, col_offset=8)], [], lineno=341, col_offset=4), FunctionDef('status', arguments([Name('self', Param(), lineno=351, col_offset=15)], None, None, []), [Return(BinOp(Str('%d total, %d to do, %d done, %d bad', lineno=352, col_offset=15), Mod(), Tuple([BinOp(Call(Name('len', Load(), lineno=353, col_offset=12), [Attribute(Name('self', Load(), lineno=353, col_offset=16), 'todo', Load(), lineno=353, col_offset=16)], [], None, None, lineno=353, col_offset=12), Add(), Call(Name('len', Load(), lineno=353, col_offset=27), [Attribute(Name('self', Load(), lineno=353, col_offset=31), 'done', Load(), lineno=353, col_offset=31)], [], None, None, lineno=353, col_offset=27), lineno=353, col_offset=12), Call(Name('len', Load(), lineno=354, col_offset=12), [Attribute(Name('self', Load(), lineno=354, col_offset=16), 'todo', Load(), lineno=354, col_offset=16)], [], None, None, lineno=354, col_offset=12), Call(Name('len', Load(), lineno=354, col_offset=28), [Attribute(Name('self', Load(), lineno=354, col_offset=32), 'done', Load(), lineno=354, col_offset=32)], [], None, None, lineno=354, col_offset=28), Call(Name('len', Load(), lineno=355, col_offset=12), [Attribute(Name('self', Load(), lineno=355, col_offset=16), 'bad', Load(), lineno=355, col_offset=16)], [], None, None, lineno=355, col_offset=12)], Load(), lineno=353, col_offset=12), lineno=352, col_offset=15), lineno=352, col_offset=8)], [], lineno=351, col_offset=4), FunctionDef('report', arguments([Name('self', Param(), lineno=357, col_offset=15)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=358, col_offset=8), 'message', Load(), lineno=358, col_offset=8), [Str('', lineno=358, col_offset=21)], [], None, None, lineno=358, col_offset=8), lineno=358, col_offset=8), If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=359, col_offset=15), 'todo', Load(), lineno=359, col_offset=15), lineno=359, col_offset=11), [Assign([Name('s', Store(), lineno=359, col_offset=26)], Str('Final', lineno=359, col_offset=30), lineno=359, col_offset=26)], [Assign([Name('s', Store(), lineno=360, col_offset=14)], Str('Interim', lineno=360, col_offset=18), lineno=360, col_offset=14)], lineno=359, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=361, col_offset=8), 'message', Load(), lineno=361, col_offset=8), [Str('%s Report (%s)', lineno=361, col_offset=21), Name('s', Load(), lineno=361, col_offset=39), Call(Attribute(Name('self', Load(), lineno=361, col_offset=42), 'status', Load(), lineno=361, col_offset=42), [], [], None, None, lineno=361, col_offset=42)], [], None, None, lineno=361, col_offset=8), lineno=361, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=362, col_offset=8), 'report_errors', Load(), lineno=362, col_offset=8), [], [], None, None, lineno=362, col_offset=8), lineno=362, col_offset=8)], [], lineno=357, col_offset=4), FunctionDef('report_errors', arguments([Name('self', Param(), lineno=364, col_offset=22)], None, None, []), [If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=365, col_offset=15), 'bad', Load(), lineno=365, col_offset=15), lineno=365, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=366, col_offset=12), 'message', Load(), lineno=366, col_offset=12), [Str('\nNo errors', lineno=366, col_offset=25)], [], None, None, lineno=366, col_offset=12), lineno=366, col_offset=12), Return(None, lineno=367, col_offset=12)], [], lineno=365, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=368, col_offset=8), 'message', Load(), lineno=368, col_offset=8), [Str('\nError Report:', lineno=368, col_offset=21)], [], None, None, lineno=368, col_offset=8), lineno=368, col_offset=8), Assign([Name('sources', Store(), lineno=369, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=369, col_offset=18), 'errors', Load(), lineno=369, col_offset=18), 'keys', Load(), lineno=369, col_offset=18), [], [], None, None, lineno=369, col_offset=18), lineno=369, col_offset=8), Expr(Call(Attribute(Name('sources', Load(), lineno=370, col_offset=8), 'sort', Load(), lineno=370, col_offset=8), [], [], None, None, lineno=370, col_offset=8), lineno=370, col_offset=8), For(Name('source', Store(), lineno=371, col_offset=12), Name('sources', Load(), lineno=371, col_offset=22), [Assign([Name('triples', Store(), lineno=372, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=372, col_offset=22), 'errors', Load(), lineno=372, col_offset=22), Index(Name('source', Load(), lineno=372, col_offset=34)), Load(), lineno=372, col_offset=22), lineno=372, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=373, col_offset=12), 'message', Load(), lineno=373, col_offset=12), [Str('', lineno=373, col_offset=25)], [], None, None, lineno=373, col_offset=12), lineno=373, col_offset=12), If(Compare(Call(Name('len', Load(), lineno=374, col_offset=15), [Name('triples', Load(), lineno=374, col_offset=19)], [], None, None, lineno=374, col_offset=15), [Gt()], [Num(1, lineno=374, col_offset=30)], lineno=374, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=375, col_offset=16), 'message', Load(), lineno=375, col_offset=16), [Str('%d Errors in %s', lineno=375, col_offset=29), Call(Name('len', Load(), lineno=375, col_offset=48), [Name('triples', Load(), lineno=375, col_offset=52)], [], None, None, lineno=375, col_offset=48), Name('source', Load(), lineno=375, col_offset=62)], [], None, None, lineno=375, col_offset=16), lineno=375, col_offset=16)], [Expr(Call(Attribute(Name('self', Load(), lineno=377, col_offset=16), 'message', Load(), lineno=377, col_offset=16), [Str('Error in %s', lineno=377, col_offset=29), Name('source', Load(), lineno=377, col_offset=44)], [], None, None, lineno=377, col_offset=16), lineno=377, col_offset=16)], lineno=374, col_offset=12), For(Tuple([Name('url', Store(), lineno=383, col_offset=16), Name('rawlink', Store(), lineno=383, col_offset=21), Name('msg', Store(), lineno=383, col_offset=30)], Store(), lineno=383, col_offset=16), Name('triples', Load(), lineno=383, col_offset=37), [If(Compare(Name('rawlink', Load(), lineno=384, col_offset=19), [NotEq()], [Call(Attribute(Name('self', Load(), lineno=384, col_offset=30), 'format_url', Load(), lineno=384, col_offset=30), [Name('url', Load(), lineno=384, col_offset=46)], [], None, None, lineno=384, col_offset=30)], lineno=384, col_offset=19), [Assign([Name('s', Store(), lineno=384, col_offset=52)], BinOp(Str(' (%s)', lineno=384, col_offset=56), Mod(), Name('rawlink', Load(), lineno=384, col_offset=66), lineno=384, col_offset=56), lineno=384, col_offset=52)], [Assign([Name('s', Store(), lineno=385, col_offset=22)], Str('', lineno=385, col_offset=26), lineno=385, col_offset=22)], lineno=384, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=386, col_offset=16), 'message', Load(), lineno=386, col_offset=16), [Str('  HREF %s%s\n    msg %s', lineno=386, col_offset=29), Call(Attribute(Name('self', Load(), lineno=387, col_offset=29), 'format_url', Load(), lineno=387, col_offset=29), [Name('url', Load(), lineno=387, col_offset=45)], [], None, None, lineno=387, col_offset=29), Name('s', Load(), lineno=387, col_offset=51), Name('msg', Load(), lineno=387, col_offset=54)], [], None, None, lineno=386, col_offset=16), lineno=386, col_offset=16)], [], lineno=383, col_offset=12)], [], lineno=371, col_offset=8)], [], lineno=364, col_offset=4), FunctionDef('dopage', arguments([Name('self', Param(), lineno=389, col_offset=15), Name('url_pair', Param(), lineno=389, col_offset=21)], None, None, []), [If(Compare(Attribute(Name('self', Load(), lineno=393, col_offset=11), 'verbose', Load(), lineno=393, col_offset=11), [Gt()], [Num(1, lineno=393, col_offset=26)], lineno=393, col_offset=11), [If(Compare(Attribute(Name('self', Load(), lineno=394, col_offset=15), 'verbose', Load(), lineno=394, col_offset=15), [Gt()], [Num(2, lineno=394, col_offset=30)], lineno=394, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=395, col_offset=16), 'show', Load(), lineno=395, col_offset=16), [Str('Check ', lineno=395, col_offset=26), Call(Attribute(Name('self', Load(), lineno=395, col_offset=36), 'format_url', Load(), lineno=395, col_offset=36), [Name('url_pair', Load(), lineno=395, col_offset=52)], [], None, None, lineno=395, col_offset=36), Str('  from', lineno=396, col_offset=26), Subscript(Attribute(Name('self', Load(), lineno=396, col_offset=36), 'todo', Load(), lineno=396, col_offset=36), Index(Name('url_pair', Load(), lineno=396, col_offset=46)), Load(), lineno=396, col_offset=36)], [], None, None, lineno=395, col_offset=16), lineno=395, col_offset=16)], [Expr(Call(Attribute(Name('self', Load(), lineno=398, col_offset=16), 'message', Load(), lineno=398, col_offset=16), [Str('Check %s', lineno=398, col_offset=29), Call(Attribute(Name('self', Load(), lineno=398, col_offset=41), 'format_url', Load(), lineno=398, col_offset=41), [Name('url_pair', Load(), lineno=398, col_offset=57)], [], None, None, lineno=398, col_offset=41)], [], None, None, lineno=398, col_offset=16), lineno=398, col_offset=16)], lineno=394, col_offset=12)], [], lineno=393, col_offset=8), Assign([Tuple([Name('url', Store(), lineno=399, col_offset=8), Name('local_fragment', Store(), lineno=399, col_offset=13)], Store(), lineno=399, col_offset=8)], Name('url_pair', Load(), lineno=399, col_offset=30), lineno=399, col_offset=8), If(BoolOp(And(), [Name('local_fragment', Load(), lineno=400, col_offset=11), Attribute(Name('self', Load(), lineno=400, col_offset=30), 'nonames', Load(), lineno=400, col_offset=30)], lineno=400, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=401, col_offset=12), 'markdone', Load(), lineno=401, col_offset=12), [Name('url_pair', Load(), lineno=401, col_offset=26)], [], None, None, lineno=401, col_offset=12), lineno=401, col_offset=12), Return(None, lineno=402, col_offset=12)], [], lineno=400, col_offset=8), TryExcept([Assign([Name('page', Store(), lineno=404, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=404, col_offset=19), 'getpage', Load(), lineno=404, col_offset=19), [Name('url_pair', Load(), lineno=404, col_offset=32)], [], None, None, lineno=404, col_offset=19), lineno=404, col_offset=12)], [ExceptHandler(Attribute(Name('sgmllib', Load(), lineno=405, col_offset=15), 'SGMLParseError', Load(), lineno=405, col_offset=15), Name('msg', Store(), lineno=405, col_offset=39), [Assign([Name('msg', Store(), lineno=406, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=406, col_offset=18), 'sanitize', Load(), lineno=406, col_offset=18), [Name('msg', Load(), lineno=406, col_offset=32)], [], None, None, lineno=406, col_offset=18), lineno=406, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=407, col_offset=12), 'note', Load(), lineno=407, col_offset=12), [Num(0, lineno=407, col_offset=22), Str('Error parsing %s: %s', lineno=407, col_offset=25), Call(Attribute(Name('self', Load(), lineno=408, col_offset=26), 'format_url', Load(), lineno=408, col_offset=26), [Name('url_pair', Load(), lineno=408, col_offset=42)], [], None, None, lineno=408, col_offset=26), Name('msg', Load(), lineno=408, col_offset=53)], [], None, None, lineno=407, col_offset=12), lineno=407, col_offset=12), Assign([Name('page', Store(), lineno=411, col_offset=12)], Name('None', Load(), lineno=411, col_offset=19), lineno=411, col_offset=12)], lineno=405, col_offset=8)], [], lineno=403, col_offset=8), If(Name('page', Load(), lineno=412, col_offset=11), [Assign([Subscript(Attribute(Name('self', Load(), lineno=414, col_offset=12), 'name_table', Load(), lineno=414, col_offset=12), Index(Name('url', Load(), lineno=414, col_offset=28)), Store(), lineno=414, col_offset=12)], Name('page', Load(), lineno=414, col_offset=35), lineno=414, col_offset=12), If(BoolOp(And(), [Name('local_fragment', Load(), lineno=418, col_offset=15), Compare(Name('local_fragment', Load(), lineno=418, col_offset=34), [NotIn()], [Call(Attribute(Name('page', Load(), lineno=418, col_offset=56), 'getnames', Load(), lineno=418, col_offset=56), [], [], None, None, lineno=418, col_offset=56)], lineno=418, col_offset=34)], lineno=418, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=419, col_offset=16), 'setbad', Load(), lineno=419, col_offset=16), [Name('url_pair', Load(), lineno=419, col_offset=28), BinOp(Str("Missing name anchor `%s'", lineno=419, col_offset=39), Mod(), Name('local_fragment', Load(), lineno=419, col_offset=68), lineno=419, col_offset=39)], [], None, None, lineno=419, col_offset=16), lineno=419, col_offset=16)], [], lineno=418, col_offset=12), For(Name('info', Store(), lineno=420, col_offset=16), Call(Attribute(Name('page', Load(), lineno=420, col_offset=24), 'getlinkinfos', Load(), lineno=420, col_offset=24), [], [], None, None, lineno=420, col_offset=24), [Assign([Tuple([Name('link', Store(), lineno=423, col_offset=16), Name('rawlink', Store(), lineno=423, col_offset=22), Name('fragment', Store(), lineno=423, col_offset=31)], Store(), lineno=423, col_offset=16)], Name('info', Load(), lineno=423, col_offset=42), lineno=423, col_offset=16), Assign([Name('origin', Store(), lineno=426, col_offset=16)], Tuple([Name('url', Load(), lineno=426, col_offset=25), Name('rawlink', Load(), lineno=426, col_offset=30)], Load(), lineno=426, col_offset=25), lineno=426, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=427, col_offset=16), 'newlink', Load(), lineno=427, col_offset=16), [Tuple([Name('link', Load(), lineno=427, col_offset=30), Name('fragment', Load(), lineno=427, col_offset=36)], Load(), lineno=427, col_offset=30), Name('origin', Load(), lineno=427, col_offset=47)], [], None, None, lineno=427, col_offset=16), lineno=427, col_offset=16)], [], lineno=420, col_offset=12)], [Assign([Subscript(Attribute(Name('self', Load(), lineno=431, col_offset=12), 'name_table', Load(), lineno=431, col_offset=12), Index(Subscript(Name('url_pair', Load(), lineno=431, col_offset=28), Index(Num(0, lineno=431, col_offset=37)), Load(), lineno=431, col_offset=28)), Store(), lineno=431, col_offset=12)], Name('None', Load(), lineno=431, col_offset=43), lineno=431, col_offset=12)], lineno=412, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=432, col_offset=8), 'markdone', Load(), lineno=432, col_offset=8), [Name('url_pair', Load(), lineno=432, col_offset=22)], [], None, None, lineno=432, col_offset=8), lineno=432, col_offset=8)], [], lineno=389, col_offset=4), FunctionDef('newlink', arguments([Name('self', Param(), lineno=434, col_offset=16), Name('url', Param(), lineno=434, col_offset=22), Name('origin', Param(), lineno=434, col_offset=27)], None, None, []), [If(Call(Attribute(Attribute(Name('self', Load(), lineno=435, col_offset=11), 'done', Load(), lineno=435, col_offset=11), 'has_key', Load(), lineno=435, col_offset=11), [Name('url', Load(), lineno=435, col_offset=29)], [], None, None, lineno=435, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=436, col_offset=12), 'newdonelink', Load(), lineno=436, col_offset=12), [Name('url', Load(), lineno=436, col_offset=29), Name('origin', Load(), lineno=436, col_offset=34)], [], None, None, lineno=436, col_offset=12), lineno=436, col_offset=12)], [Expr(Call(Attribute(Name('self', Load(), lineno=438, col_offset=12), 'newtodolink', Load(), lineno=438, col_offset=12), [Name('url', Load(), lineno=438, col_offset=29), Name('origin', Load(), lineno=438, col_offset=34)], [], None, None, lineno=438, col_offset=12), lineno=438, col_offset=12)], lineno=435, col_offset=8)], [], lineno=434, col_offset=4), FunctionDef('newdonelink', arguments([Name('self', Param(), lineno=440, col_offset=20), Name('url', Param(), lineno=440, col_offset=26), Name('origin', Param(), lineno=440, col_offset=31)], None, None, []), [If(Compare(Name('origin', Load(), lineno=441, col_offset=11), [NotIn()], [Subscript(Attribute(Name('self', Load(), lineno=441, col_offset=25), 'done', Load(), lineno=441, col_offset=25), Index(Name('url', Load(), lineno=441, col_offset=35)), Load(), lineno=441, col_offset=25)], lineno=441, col_offset=11), [Expr(Call(Attribute(Subscript(Attribute(Name('self', Load(), lineno=442, col_offset=12), 'done', Load(), lineno=442, col_offset=12), Index(Name('url', Load(), lineno=442, col_offset=22)), Load(), lineno=442, col_offset=12), 'append', Load(), lineno=442, col_offset=12), [Name('origin', Load(), lineno=442, col_offset=34)], [], None, None, lineno=442, col_offset=12), lineno=442, col_offset=12)], [], lineno=441, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=446, col_offset=8), 'note', Load(), lineno=446, col_offset=8), [Num(3, lineno=446, col_offset=18), Str('  Done link %s', lineno=446, col_offset=21), Call(Attribute(Name('self', Load(), lineno=446, col_offset=39), 'format_url', Load(), lineno=446, col_offset=39), [Name('url', Load(), lineno=446, col_offset=55)], [], None, None, lineno=446, col_offset=39)], [], None, None, lineno=446, col_offset=8), lineno=446, col_offset=8), If(Call(Attribute(Attribute(Name('self', Load(), lineno=449, col_offset=11), 'bad', Load(), lineno=449, col_offset=11), 'has_key', Load(), lineno=449, col_offset=11), [Name('url', Load(), lineno=449, col_offset=28)], [], None, None, lineno=449, col_offset=11), [Assign([Tuple([Name('source', Store(), lineno=450, col_offset=12), Name('rawlink', Store(), lineno=450, col_offset=20)], Store(), lineno=450, col_offset=12)], Name('origin', Load(), lineno=450, col_offset=30), lineno=450, col_offset=12), Assign([Name('triple', Store(), lineno=451, col_offset=12)], Tuple([Name('url', Load(), lineno=451, col_offset=21), Name('rawlink', Load(), lineno=451, col_offset=26), Subscript(Attribute(Name('self', Load(), lineno=451, col_offset=35), 'bad', Load(), lineno=451, col_offset=35), Index(Name('url', Load(), lineno=451, col_offset=44)), Load(), lineno=451, col_offset=35)], Load(), lineno=451, col_offset=21), lineno=451, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=452, col_offset=12), 'seterror', Load(), lineno=452, col_offset=12), [Name('source', Load(), lineno=452, col_offset=26), Name('triple', Load(), lineno=452, col_offset=34)], [], None, None, lineno=452, col_offset=12), lineno=452, col_offset=12)], [], lineno=449, col_offset=8)], [], lineno=440, col_offset=4), FunctionDef('newtodolink', arguments([Name('self', Param(), lineno=454, col_offset=20), Name('url', Param(), lineno=454, col_offset=26), Name('origin', Param(), lineno=454, col_offset=31)], None, None, []), [If(Call(Attribute(Attribute(Name('self', Load(), lineno=457, col_offset=11), 'todo', Load(), lineno=457, col_offset=11), 'has_key', Load(), lineno=457, col_offset=11), [Name('url', Load(), lineno=457, col_offset=29)], [], None, None, lineno=457, col_offset=11), [If(Compare(Name('origin', Load(), lineno=458, col_offset=15), [NotIn()], [Subscript(Attribute(Name('self', Load(), lineno=458, col_offset=29), 'todo', Load(), lineno=458, col_offset=29), Index(Name('url', Load(), lineno=458, col_offset=39)), Load(), lineno=458, col_offset=29)], lineno=458, col_offset=15), [Expr(Call(Attribute(Subscript(Attribute(Name('self', Load(), lineno=459, col_offset=16), 'todo', Load(), lineno=459, col_offset=16), Index(Name('url', Load(), lineno=459, col_offset=26)), Load(), lineno=459, col_offset=16), 'append', Load(), lineno=459, col_offset=16), [Name('origin', Load(), lineno=459, col_offset=38)], [], None, None, lineno=459, col_offset=16), lineno=459, col_offset=16)], [], lineno=458, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=460, col_offset=12), 'note', Load(), lineno=460, col_offset=12), [Num(3, lineno=460, col_offset=22), Str('  Seen todo link %s', lineno=460, col_offset=25), Call(Attribute(Name('self', Load(), lineno=460, col_offset=48), 'format_url', Load(), lineno=460, col_offset=48), [Name('url', Load(), lineno=460, col_offset=64)], [], None, None, lineno=460, col_offset=48)], [], None, None, lineno=460, col_offset=12), lineno=460, col_offset=12)], [Assign([Subscript(Attribute(Name('self', Load(), lineno=462, col_offset=12), 'todo', Load(), lineno=462, col_offset=12), Index(Name('url', Load(), lineno=462, col_offset=22)), Store(), lineno=462, col_offset=12)], List([Name('origin', Load(), lineno=462, col_offset=30)], Load(), lineno=462, col_offset=29), lineno=462, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=463, col_offset=12), 'note', Load(), lineno=463, col_offset=12), [Num(3, lineno=463, col_offset=22), Str('  New todo link %s', lineno=463, col_offset=25), Call(Attribute(Name('self', Load(), lineno=463, col_offset=47), 'format_url', Load(), lineno=463, col_offset=47), [Name('url', Load(), lineno=463, col_offset=63)], [], None, None, lineno=463, col_offset=47)], [], None, None, lineno=463, col_offset=12), lineno=463, col_offset=12)], lineno=457, col_offset=8)], [], lineno=454, col_offset=4), FunctionDef('format_url', arguments([Name('self', Param(), lineno=465, col_offset=19), Name('url', Param(), lineno=465, col_offset=25)], None, None, []), [Assign([Tuple([Name('link', Store(), lineno=466, col_offset=8), Name('fragment', Store(), lineno=466, col_offset=14)], Store(), lineno=466, col_offset=8)], Name('url', Load(), lineno=466, col_offset=25), lineno=466, col_offset=8), If(Name('fragment', Load(), lineno=467, col_offset=11), [Return(BinOp(BinOp(Name('link', Load(), lineno=467, col_offset=28), Add(), Str('#', lineno=467, col_offset=35), lineno=467, col_offset=28), Add(), Name('fragment', Load(), lineno=467, col_offset=41), lineno=467, col_offset=39), lineno=467, col_offset=21)], [Return(Name('link', Load(), lineno=468, col_offset=21), lineno=468, col_offset=14)], lineno=467, col_offset=8)], [], lineno=465, col_offset=4), FunctionDef('markdone', arguments([Name('self', Param(), lineno=470, col_offset=17), Name('url', Param(), lineno=470, col_offset=23)], None, None, []), [Assign([Subscript(Attribute(Name('self', Load(), lineno=471, col_offset=8), 'done', Load(), lineno=471, col_offset=8), Index(Name('url', Load(), lineno=471, col_offset=18)), Store(), lineno=471, col_offset=8)], Subscript(Attribute(Name('self', Load(), lineno=471, col_offset=25), 'todo', Load(), lineno=471, col_offset=25), Index(Name('url', Load(), lineno=471, col_offset=35)), Load(), lineno=471, col_offset=25), lineno=471, col_offset=8), Delete([Subscript(Attribute(Name('self', Load(), lineno=472, col_offset=12), 'todo', Load(), lineno=472, col_offset=12), Index(Name('url', Load(), lineno=472, col_offset=22)), Del(), lineno=472, col_offset=12)], lineno=472, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=473, col_offset=8), 'changed', Store(), lineno=473, col_offset=8)], Num(1, lineno=473, col_offset=23), lineno=473, col_offset=8)], [], lineno=470, col_offset=4), FunctionDef('inroots', arguments([Name('self', Param(), lineno=475, col_offset=16), Name('url', Param(), lineno=475, col_offset=22)], None, None, []), [For(Name('root', Store(), lineno=476, col_offset=12), Attribute(Name('self', Load(), lineno=476, col_offset=20), 'roots', Load(), lineno=476, col_offset=20), [If(Compare(Subscript(Name('url', Load(), lineno=477, col_offset=15), Slice(None, Call(Name('len', Load(), lineno=477, col_offset=20), [Name('root', Load(), lineno=477, col_offset=24)], [], None, None, lineno=477, col_offset=20), None), Load(), lineno=477, col_offset=15), [Eq()], [Name('root', Load(), lineno=477, col_offset=34)], lineno=477, col_offset=15), [Return(Call(Attribute(Name('self', Load(), lineno=478, col_offset=23), 'isallowed', Load(), lineno=478, col_offset=23), [Name('root', Load(), lineno=478, col_offset=38), Name('url', Load(), lineno=478, col_offset=44)], [], None, None, lineno=478, col_offset=23), lineno=478, col_offset=16)], [], lineno=477, col_offset=12)], [], lineno=476, col_offset=8), Return(Num(0, lineno=479, col_offset=15), lineno=479, col_offset=8)], [], lineno=475, col_offset=4), FunctionDef('isallowed', arguments([Name('self', Param(), lineno=481, col_offset=18), Name('root', Param(), lineno=481, col_offset=24), Name('url', Param(), lineno=481, col_offset=30)], None, None, []), [Assign([Name('root', Store(), lineno=482, col_offset=8)], Call(Attribute(Name('urlparse', Load(), lineno=482, col_offset=15), 'urljoin', Load(), lineno=482, col_offset=15), [Name('root', Load(), lineno=482, col_offset=32), Str('/', lineno=482, col_offset=38)], [], None, None, lineno=482, col_offset=15), lineno=482, col_offset=8), Return(Call(Attribute(Subscript(Attribute(Name('self', Load(), lineno=483, col_offset=15), 'robots', Load(), lineno=483, col_offset=15), Index(Name('root', Load(), lineno=483, col_offset=27)), Load(), lineno=483, col_offset=15), 'can_fetch', Load(), lineno=483, col_offset=15), [Name('AGENTNAME', Load(), lineno=483, col_offset=43), Name('url', Load(), lineno=483, col_offset=54)], [], None, None, lineno=483, col_offset=15), lineno=483, col_offset=8)], [], lineno=481, col_offset=4), FunctionDef('getpage', arguments([Name('self', Param(), lineno=485, col_offset=16), Name('url_pair', Param(), lineno=485, col_offset=22)], None, None, []), [Assign([Tuple([Name('url', Store(), lineno=488, col_offset=8), Name('fragment', Store(), lineno=488, col_offset=13)], Store(), lineno=488, col_offset=8)], Name('url_pair', Load(), lineno=488, col_offset=24), lineno=488, col_offset=8), If(Call(Attribute(Attribute(Name('self', Load(), lineno=489, col_offset=11), 'name_table', Load(), lineno=489, col_offset=11), 'has_key', Load(), lineno=489, col_offset=11), [Name('url', Load(), lineno=489, col_offset=35)], [], None, None, lineno=489, col_offset=11), [Return(Subscript(Attribute(Name('self', Load(), lineno=490, col_offset=19), 'name_table', Load(), lineno=490, col_offset=19), Index(Name('url', Load(), lineno=490, col_offset=35)), Load(), lineno=490, col_offset=19), lineno=490, col_offset=12)], [], lineno=489, col_offset=8), Assign([Tuple([Name('scheme', Store(), lineno=492, col_offset=8), Name('path', Store(), lineno=492, col_offset=16)], Store(), lineno=492, col_offset=8)], Call(Attribute(Name('urllib', Load(), lineno=492, col_offset=23), 'splittype', Load(), lineno=492, col_offset=23), [Name('url', Load(), lineno=492, col_offset=40)], [], None, None, lineno=492, col_offset=23), lineno=492, col_offset=8), If(Compare(Name('scheme', Load(), lineno=493, col_offset=11), [In()], [Tuple([Str('mailto', lineno=493, col_offset=22), Str('news', lineno=493, col_offset=32), Str('javascript', lineno=493, col_offset=40), Str('telnet', lineno=493, col_offset=54)], Load(), lineno=493, col_offset=22)], lineno=493, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=494, col_offset=12), 'note', Load(), lineno=494, col_offset=12), [Num(1, lineno=494, col_offset=22), BinOp(Str(' Not checking %s URL', lineno=494, col_offset=25), Mod(), Name('scheme', Load(), lineno=494, col_offset=50), lineno=494, col_offset=25)], [], None, None, lineno=494, col_offset=12), lineno=494, col_offset=12), Return(Name('None', Load(), lineno=495, col_offset=19), lineno=495, col_offset=12)], [], lineno=493, col_offset=8), Assign([Name('isint', Store(), lineno=496, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=496, col_offset=16), 'inroots', Load(), lineno=496, col_offset=16), [Name('url', Load(), lineno=496, col_offset=29)], [], None, None, lineno=496, col_offset=16), lineno=496, col_offset=8), If(UnaryOp(Not(), Name('isint', Load(), lineno=501, col_offset=15), lineno=501, col_offset=11), [If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=502, col_offset=19), 'checkext', Load(), lineno=502, col_offset=19), lineno=502, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=503, col_offset=16), 'note', Load(), lineno=503, col_offset=16), [Num(1, lineno=503, col_offset=26), Str(' Not checking ext link', lineno=503, col_offset=29)], [], None, None, lineno=503, col_offset=16), lineno=503, col_offset=16), Return(Name('None', Load(), lineno=504, col_offset=23), lineno=504, col_offset=16)], [], lineno=502, col_offset=12), Assign([Name('f', Store(), lineno=505, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=505, col_offset=16), 'openpage', Load(), lineno=505, col_offset=16), [Name('url_pair', Load(), lineno=505, col_offset=30)], [], None, None, lineno=505, col_offset=16), lineno=505, col_offset=12), If(Name('f', Load(), lineno=506, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=507, col_offset=16), 'safeclose', Load(), lineno=507, col_offset=16), [Name('f', Load(), lineno=507, col_offset=31)], [], None, None, lineno=507, col_offset=16), lineno=507, col_offset=16)], [], lineno=506, col_offset=12), Return(Name('None', Load(), lineno=508, col_offset=19), lineno=508, col_offset=12)], [], lineno=501, col_offset=8), Assign([Tuple([Name('text', Store(), lineno=509, col_offset=8), Name('nurl', Store(), lineno=509, col_offset=14)], Store(), lineno=509, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=509, col_offset=21), 'readhtml', Load(), lineno=509, col_offset=21), [Name('url_pair', Load(), lineno=509, col_offset=35)], [], None, None, lineno=509, col_offset=21), lineno=509, col_offset=8), If(Compare(Name('nurl', Load(), lineno=511, col_offset=11), [NotEq()], [Name('url', Load(), lineno=511, col_offset=19)], lineno=511, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=512, col_offset=12), 'note', Load(), lineno=512, col_offset=12), [Num(1, lineno=512, col_offset=22), Str(' Redirected to %s', lineno=512, col_offset=25), Name('nurl', Load(), lineno=512, col_offset=46)], [], None, None, lineno=512, col_offset=12), lineno=512, col_offset=12), Assign([Name('url', Store(), lineno=513, col_offset=12)], Name('nurl', Load(), lineno=513, col_offset=18), lineno=513, col_offset=12)], [], lineno=511, col_offset=8), If(Name('text', Load(), lineno=514, col_offset=11), [Return(Call(Name('Page', Load(), lineno=515, col_offset=19), [Name('text', Load(), lineno=515, col_offset=24), Name('url', Load(), lineno=515, col_offset=30)], [keyword('maxpage', Attribute(Name('self', Load(), lineno=515, col_offset=43), 'maxpage', Load(), lineno=515, col_offset=43)), keyword('checker', Name('self', Load(), lineno=515, col_offset=65))], None, None, lineno=515, col_offset=19), lineno=515, col_offset=12)], [], lineno=514, col_offset=8)], [], lineno=485, col_offset=4), FunctionDef('readhtml', arguments([Name('self', Param(), lineno=520, col_offset=17), Name('url_pair', Param(), lineno=520, col_offset=23)], None, None, []), [Assign([Tuple([Name('url', Store(), lineno=521, col_offset=8), Name('fragment', Store(), lineno=521, col_offset=13)], Store(), lineno=521, col_offset=8)], Name('url_pair', Load(), lineno=521, col_offset=24), lineno=521, col_offset=8), Assign([Name('text', Store(), lineno=522, col_offset=8)], Name('None', Load(), lineno=522, col_offset=15), lineno=522, col_offset=8), Assign([Tuple([Name('f', Store(), lineno=523, col_offset=8), Name('url', Store(), lineno=523, col_offset=11)], Store(), lineno=523, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=523, col_offset=17), 'openhtml', Load(), lineno=523, col_offset=17), [Name('url_pair', Load(), lineno=523, col_offset=31)], [], None, None, lineno=523, col_offset=17), lineno=523, col_offset=8), If(Name('f', Load(), lineno=524, col_offset=11), [Assign([Name('text', Store(), lineno=525, col_offset=12)], Call(Attribute(Name('f', Load(), lineno=525, col_offset=19), 'read', Load(), lineno=525, col_offset=19), [], [], None, None, lineno=525, col_offset=19), lineno=525, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=526, col_offset=12), 'close', Load(), lineno=526, col_offset=12), [], [], None, None, lineno=526, col_offset=12), lineno=526, col_offset=12)], [], lineno=524, col_offset=8), Return(Tuple([Name('text', Load(), lineno=527, col_offset=15), Name('url', Load(), lineno=527, col_offset=21)], Load(), lineno=527, col_offset=15), lineno=527, col_offset=8)], [], lineno=520, col_offset=4), FunctionDef('openhtml', arguments([Name('self', Param(), lineno=529, col_offset=17), Name('url_pair', Param(), lineno=529, col_offset=23)], None, None, []), [Assign([Tuple([Name('url', Store(), lineno=530, col_offset=8), Name('fragment', Store(), lineno=530, col_offset=13)], Store(), lineno=530, col_offset=8)], Name('url_pair', Load(), lineno=530, col_offset=24), lineno=530, col_offset=8), Assign([Name('f', Store(), lineno=531, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=531, col_offset=12), 'openpage', Load(), lineno=531, col_offset=12), [Name('url_pair', Load(), lineno=531, col_offset=26)], [], None, None, lineno=531, col_offset=12), lineno=531, col_offset=8), If(Name('f', Load(), lineno=532, col_offset=11), [Assign([Name('url', Store(), lineno=533, col_offset=12)], Call(Attribute(Name('f', Load(), lineno=533, col_offset=18), 'geturl', Load(), lineno=533, col_offset=18), [], [], None, None, lineno=533, col_offset=18), lineno=533, col_offset=12), Assign([Name('info', Store(), lineno=534, col_offset=12)], Call(Attribute(Name('f', Load(), lineno=534, col_offset=19), 'info', Load(), lineno=534, col_offset=19), [], [], None, None, lineno=534, col_offset=19), lineno=534, col_offset=12), If(UnaryOp(Not(), Call(Attribute(Name('self', Load(), lineno=535, col_offset=19), 'checkforhtml', Load(), lineno=535, col_offset=19), [Name('info', Load(), lineno=535, col_offset=37), Name('url', Load(), lineno=535, col_offset=43)], [], None, None, lineno=535, col_offset=19), lineno=535, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=536, col_offset=16), 'safeclose', Load(), lineno=536, col_offset=16), [Name('f', Load(), lineno=536, col_offset=31)], [], None, None, lineno=536, col_offset=16), lineno=536, col_offset=16), Assign([Name('f', Store(), lineno=537, col_offset=16)], Name('None', Load(), lineno=537, col_offset=20), lineno=537, col_offset=16)], [], lineno=535, col_offset=12)], [], lineno=532, col_offset=8), Return(Tuple([Name('f', Load(), lineno=538, col_offset=15), Name('url', Load(), lineno=538, col_offset=18)], Load(), lineno=538, col_offset=15), lineno=538, col_offset=8)], [], lineno=529, col_offset=4), FunctionDef('openpage', arguments([Name('self', Param(), lineno=540, col_offset=17), Name('url_pair', Param(), lineno=540, col_offset=23)], None, None, []), [Assign([Tuple([Name('url', Store(), lineno=541, col_offset=8), Name('fragment', Store(), lineno=541, col_offset=13)], Store(), lineno=541, col_offset=8)], Name('url_pair', Load(), lineno=541, col_offset=24), lineno=541, col_offset=8), TryExcept([Return(Call(Attribute(Attribute(Name('self', Load(), lineno=543, col_offset=19), 'urlopener', Load(), lineno=543, col_offset=19), 'open', Load(), lineno=543, col_offset=19), [Name('url', Load(), lineno=543, col_offset=39)], [], None, None, lineno=543, col_offset=19), lineno=543, col_offset=12)], [ExceptHandler(Tuple([Name('OSError', Load(), lineno=544, col_offset=16), Name('IOError', Load(), lineno=544, col_offset=25)], Load(), lineno=544, col_offset=16), Name('msg', Store(), lineno=544, col_offset=35), [Assign([Name('msg', Store(), lineno=545, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=545, col_offset=18), 'sanitize', Load(), lineno=545, col_offset=18), [Name('msg', Load(), lineno=545, col_offset=32)], [], None, None, lineno=545, col_offset=18), lineno=545, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=546, col_offset=12), 'note', Load(), lineno=546, col_offset=12), [Num(0, lineno=546, col_offset=22), Str('Error %s', lineno=546, col_offset=25), Name('msg', Load(), lineno=546, col_offset=37)], [], None, None, lineno=546, col_offset=12), lineno=546, col_offset=12), If(Compare(Attribute(Name('self', Load(), lineno=547, col_offset=15), 'verbose', Load(), lineno=547, col_offset=15), [Gt()], [Num(0, lineno=547, col_offset=30)], lineno=547, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=548, col_offset=16), 'show', Load(), lineno=548, col_offset=16), [Str(' HREF ', lineno=548, col_offset=26), Name('url', Load(), lineno=548, col_offset=36), Str('  from', lineno=548, col_offset=41), Subscript(Attribute(Name('self', Load(), lineno=548, col_offset=51), 'todo', Load(), lineno=548, col_offset=51), Index(Name('url_pair', Load(), lineno=548, col_offset=61)), Load(), lineno=548, col_offset=51)], [], None, None, lineno=548, col_offset=16), lineno=548, col_offset=16)], [], lineno=547, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=549, col_offset=12), 'setbad', Load(), lineno=549, col_offset=12), [Name('url_pair', Load(), lineno=549, col_offset=24), Name('msg', Load(), lineno=549, col_offset=34)], [], None, None, lineno=549, col_offset=12), lineno=549, col_offset=12), Return(Name('None', Load(), lineno=550, col_offset=19), lineno=550, col_offset=12)], lineno=544, col_offset=8)], [], lineno=542, col_offset=8)], [], lineno=540, col_offset=4), FunctionDef('checkforhtml', arguments([Name('self', Param(), lineno=552, col_offset=21), Name('info', Param(), lineno=552, col_offset=27), Name('url', Param(), lineno=552, col_offset=33)], None, None, []), [If(Call(Attribute(Name('info', Load(), lineno=553, col_offset=11), 'has_key', Load(), lineno=553, col_offset=11), [Str('content-type', lineno=553, col_offset=24)], [], None, None, lineno=553, col_offset=11), [Assign([Name('ctype', Store(), lineno=554, col_offset=12)], Call(Attribute(Subscript(Call(Attribute(Name('cgi', Load(), lineno=554, col_offset=20), 'parse_header', Load(), lineno=554, col_offset=20), [Subscript(Name('info', Load(), lineno=554, col_offset=37), Index(Str('content-type', lineno=554, col_offset=42)), Load(), lineno=554, col_offset=37)], [], None, None, lineno=554, col_offset=20), Index(Num(0, lineno=554, col_offset=59)), Load(), lineno=554, col_offset=20), 'lower', Load(), lineno=554, col_offset=20), [], [], None, None, lineno=554, col_offset=20), lineno=554, col_offset=12), If(Compare(Str(';', lineno=555, col_offset=15), [In()], [Name('ctype', Load(), lineno=555, col_offset=22)], lineno=555, col_offset=15), [Assign([Name('ctype', Store(), lineno=557, col_offset=16)], Call(Attribute(Subscript(Call(Attribute(Name('ctype', Load(), lineno=557, col_offset=24), 'split', Load(), lineno=557, col_offset=24), [Str(';', lineno=557, col_offset=36), Num(1, lineno=557, col_offset=41)], [], None, None, lineno=557, col_offset=24), Index(Num(0, lineno=557, col_offset=44)), Load(), lineno=557, col_offset=24), 'strip', Load(), lineno=557, col_offset=24), [], [], None, None, lineno=557, col_offset=24), lineno=557, col_offset=16)], [], lineno=555, col_offset=12)], [If(Compare(Subscript(Name('url', Load(), lineno=559, col_offset=15), Slice(Num(-1, lineno=559, col_offset=20), None, None), Load(), lineno=559, col_offset=15), [Eq()], [Str('/', lineno=559, col_offset=27)], lineno=559, col_offset=15), [Return(Num(1, lineno=560, col_offset=23), lineno=560, col_offset=16)], [], lineno=559, col_offset=12), Assign([Tuple([Name('ctype', Store(), lineno=561, col_offset=12), Name('encoding', Store(), lineno=561, col_offset=19)], Store(), lineno=561, col_offset=12)], Call(Attribute(Name('mimetypes', Load(), lineno=561, col_offset=30), 'guess_type', Load(), lineno=561, col_offset=30), [Name('url', Load(), lineno=561, col_offset=51)], [], None, None, lineno=561, col_offset=30), lineno=561, col_offset=12)], lineno=553, col_offset=8), If(Compare(Name('ctype', Load(), lineno=562, col_offset=11), [Eq()], [Str('text/html', lineno=562, col_offset=20)], lineno=562, col_offset=11), [Return(Num(1, lineno=563, col_offset=19), lineno=563, col_offset=12)], [Expr(Call(Attribute(Name('self', Load(), lineno=565, col_offset=12), 'note', Load(), lineno=565, col_offset=12), [Num(1, lineno=565, col_offset=22), Str(' Not HTML, mime type %s', lineno=565, col_offset=25), Name('ctype', Load(), lineno=565, col_offset=52)], [], None, None, lineno=565, col_offset=12), lineno=565, col_offset=12), Return(Num(0, lineno=566, col_offset=19), lineno=566, col_offset=12)], lineno=562, col_offset=8)], [], lineno=552, col_offset=4), FunctionDef('setgood', arguments([Name('self', Param(), lineno=568, col_offset=16), Name('url', Param(), lineno=568, col_offset=22)], None, None, []), [If(Call(Attribute(Attribute(Name('self', Load(), lineno=569, col_offset=11), 'bad', Load(), lineno=569, col_offset=11), 'has_key', Load(), lineno=569, col_offset=11), [Name('url', Load(), lineno=569, col_offset=28)], [], None, None, lineno=569, col_offset=11), [Delete([Subscript(Attribute(Name('self', Load(), lineno=570, col_offset=16), 'bad', Load(), lineno=570, col_offset=16), Index(Name('url', Load(), lineno=570, col_offset=25)), Del(), lineno=570, col_offset=16)], lineno=570, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=571, col_offset=12), 'changed', Store(), lineno=571, col_offset=12)], Num(1, lineno=571, col_offset=27), lineno=571, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=572, col_offset=12), 'note', Load(), lineno=572, col_offset=12), [Num(0, lineno=572, col_offset=22), Str('(Clear previously seen error)', lineno=572, col_offset=25)], [], None, None, lineno=572, col_offset=12), lineno=572, col_offset=12)], [], lineno=569, col_offset=8)], [], lineno=568, col_offset=4), FunctionDef('setbad', arguments([Name('self', Param(), lineno=574, col_offset=15), Name('url', Param(), lineno=574, col_offset=21), Name('msg', Param(), lineno=574, col_offset=26)], None, None, []), [If(BoolOp(And(), [Call(Attribute(Attribute(Name('self', Load(), lineno=575, col_offset=11), 'bad', Load(), lineno=575, col_offset=11), 'has_key', Load(), lineno=575, col_offset=11), [Name('url', Load(), lineno=575, col_offset=28)], [], None, None, lineno=575, col_offset=11), Compare(Subscript(Attribute(Name('self', Load(), lineno=575, col_offset=37), 'bad', Load(), lineno=575, col_offset=37), Index(Name('url', Load(), lineno=575, col_offset=46)), Load(), lineno=575, col_offset=37), [Eq()], [Name('msg', Load(), lineno=575, col_offset=54)], lineno=575, col_offset=37)], lineno=575, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=576, col_offset=12), 'note', Load(), lineno=576, col_offset=12), [Num(0, lineno=576, col_offset=22), Str('(Seen this error before)', lineno=576, col_offset=25)], [], None, None, lineno=576, col_offset=12), lineno=576, col_offset=12), Return(None, lineno=577, col_offset=12)], [], lineno=575, col_offset=8), Assign([Subscript(Attribute(Name('self', Load(), lineno=578, col_offset=8), 'bad', Load(), lineno=578, col_offset=8), Index(Name('url', Load(), lineno=578, col_offset=17)), Store(), lineno=578, col_offset=8)], Name('msg', Load(), lineno=578, col_offset=24), lineno=578, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=579, col_offset=8), 'changed', Store(), lineno=579, col_offset=8)], Num(1, lineno=579, col_offset=23), lineno=579, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=580, col_offset=8), 'markerror', Load(), lineno=580, col_offset=8), [Name('url', Load(), lineno=580, col_offset=23)], [], None, None, lineno=580, col_offset=8), lineno=580, col_offset=8)], [], lineno=574, col_offset=4), FunctionDef('markerror', arguments([Name('self', Param(), lineno=582, col_offset=18), Name('url', Param(), lineno=582, col_offset=24)], None, None, []), [TryExcept([Assign([Name('origins', Store(), lineno=584, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=584, col_offset=22), 'todo', Load(), lineno=584, col_offset=22), Index(Name('url', Load(), lineno=584, col_offset=32)), Load(), lineno=584, col_offset=22), lineno=584, col_offset=12)], [ExceptHandler(Name('KeyError', Load(), lineno=585, col_offset=15), None, [Assign([Name('origins', Store(), lineno=586, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=586, col_offset=22), 'done', Load(), lineno=586, col_offset=22), Index(Name('url', Load(), lineno=586, col_offset=32)), Load(), lineno=586, col_offset=22), lineno=586, col_offset=12)], lineno=585, col_offset=8)], [], lineno=583, col_offset=8), For(Tuple([Name('source', Store(), lineno=587, col_offset=12), Name('rawlink', Store(), lineno=587, col_offset=20)], Store(), lineno=587, col_offset=12), Name('origins', Load(), lineno=587, col_offset=31), [Assign([Name('triple', Store(), lineno=588, col_offset=12)], Tuple([Name('url', Load(), lineno=588, col_offset=21), Name('rawlink', Load(), lineno=588, col_offset=26), Subscript(Attribute(Name('self', Load(), lineno=588, col_offset=35), 'bad', Load(), lineno=588, col_offset=35), Index(Name('url', Load(), lineno=588, col_offset=44)), Load(), lineno=588, col_offset=35)], Load(), lineno=588, col_offset=21), lineno=588, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=589, col_offset=12), 'seterror', Load(), lineno=589, col_offset=12), [Name('source', Load(), lineno=589, col_offset=26), Name('triple', Load(), lineno=589, col_offset=34)], [], None, None, lineno=589, col_offset=12), lineno=589, col_offset=12)], [], lineno=587, col_offset=8)], [], lineno=582, col_offset=4), FunctionDef('seterror', arguments([Name('self', Param(), lineno=591, col_offset=17), Name('url', Param(), lineno=591, col_offset=23), Name('triple', Param(), lineno=591, col_offset=28)], None, None, []), [TryExcept([If(Compare(Name('triple', Load(), lineno=598, col_offset=15), [NotIn()], [Subscript(Attribute(Name('self', Load(), lineno=598, col_offset=29), 'errors', Load(), lineno=598, col_offset=29), Index(Name('url', Load(), lineno=598, col_offset=41)), Load(), lineno=598, col_offset=29)], lineno=598, col_offset=15), [Expr(Call(Attribute(Subscript(Attribute(Name('self', Load(), lineno=599, col_offset=16), 'errors', Load(), lineno=599, col_offset=16), Index(Name('url', Load(), lineno=599, col_offset=28)), Load(), lineno=599, col_offset=16), 'append', Load(), lineno=599, col_offset=16), [Name('triple', Load(), lineno=599, col_offset=40)], [], None, None, lineno=599, col_offset=16), lineno=599, col_offset=16)], [], lineno=598, col_offset=12)], [ExceptHandler(Name('KeyError', Load(), lineno=600, col_offset=15), None, [Assign([Subscript(Attribute(Name('self', Load(), lineno=601, col_offset=12), 'errors', Load(), lineno=601, col_offset=12), Index(Name('url', Load(), lineno=601, col_offset=24)), Store(), lineno=601, col_offset=12)], List([Name('triple', Load(), lineno=601, col_offset=32)], Load(), lineno=601, col_offset=31), lineno=601, col_offset=12)], lineno=600, col_offset=8)], [], lineno=592, col_offset=8)], [], lineno=591, col_offset=4), FunctionDef('show', arguments([Name('self', Param(), lineno=606, col_offset=13), Name('p1', Param(), lineno=606, col_offset=19), Name('link', Param(), lineno=606, col_offset=23), Name('p2', Param(), lineno=606, col_offset=29), Name('origins', Param(), lineno=606, col_offset=33)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=607, col_offset=8), 'message', Load(), lineno=607, col_offset=8), [Str('%s %s', lineno=607, col_offset=21), Name('p1', Load(), lineno=607, col_offset=30), Name('link', Load(), lineno=607, col_offset=34)], [], None, None, lineno=607, col_offset=8), lineno=607, col_offset=8), Assign([Name('i', Store(), lineno=608, col_offset=8)], Num(0, lineno=608, col_offset=12), lineno=608, col_offset=8), For(Tuple([Name('source', Store(), lineno=609, col_offset=12), Name('rawlink', Store(), lineno=609, col_offset=20)], Store(), lineno=609, col_offset=12), Name('origins', Load(), lineno=609, col_offset=31), [Assign([Name('i', Store(), lineno=610, col_offset=12)], BinOp(Name('i', Load(), lineno=610, col_offset=16), Add(), Num(1, lineno=610, col_offset=18), lineno=610, col_offset=16), lineno=610, col_offset=12), If(Compare(Name('i', Load(), lineno=611, col_offset=15), [Eq()], [Num(2, lineno=611, col_offset=20)], lineno=611, col_offset=15), [Assign([Name('p2', Store(), lineno=612, col_offset=16)], BinOp(Str(' ', lineno=612, col_offset=21), Mult(), Call(Name('len', Load(), lineno=612, col_offset=25), [Name('p2', Load(), lineno=612, col_offset=29)], [], None, None, lineno=612, col_offset=25), lineno=612, col_offset=21), lineno=612, col_offset=16)], [], lineno=611, col_offset=12), If(Compare(Name('rawlink', Load(), lineno=613, col_offset=15), [NotEq()], [Name('link', Load(), lineno=613, col_offset=26)], lineno=613, col_offset=15), [Assign([Name('s', Store(), lineno=613, col_offset=32)], BinOp(Str(' (%s)', lineno=613, col_offset=36), Mod(), Name('rawlink', Load(), lineno=613, col_offset=46), lineno=613, col_offset=36), lineno=613, col_offset=32)], [Assign([Name('s', Store(), lineno=614, col_offset=18)], Str('', lineno=614, col_offset=22), lineno=614, col_offset=18)], lineno=613, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=615, col_offset=12), 'message', Load(), lineno=615, col_offset=12), [Str('%s %s%s', lineno=615, col_offset=25), Name('p2', Load(), lineno=615, col_offset=36), Name('source', Load(), lineno=615, col_offset=40), Name('s', Load(), lineno=615, col_offset=48)], [], None, None, lineno=615, col_offset=12), lineno=615, col_offset=12)], [], lineno=609, col_offset=8)], [], lineno=606, col_offset=4), FunctionDef('sanitize', arguments([Name('self', Param(), lineno=617, col_offset=17), Name('msg', Param(), lineno=617, col_offset=23)], None, None, []), [If(BoolOp(And(), [Call(Name('isinstance', Load(), lineno=618, col_offset=11), [Name('IOError', Load(), lineno=618, col_offset=22), Name('ClassType', Load(), lineno=618, col_offset=31)], [], None, None, lineno=618, col_offset=11), Call(Name('isinstance', Load(), lineno=618, col_offset=46), [Name('msg', Load(), lineno=618, col_offset=57), Name('IOError', Load(), lineno=618, col_offset=62)], [], None, None, lineno=618, col_offset=46)], lineno=618, col_offset=11), [Assign([Attribute(Name('msg', Load(), lineno=620, col_offset=12), 'args', Store(), lineno=620, col_offset=12)], Call(Attribute(Name('self', Load(), lineno=620, col_offset=23), 'sanitize', Load(), lineno=620, col_offset=23), [Attribute(Name('msg', Load(), lineno=620, col_offset=37), 'args', Load(), lineno=620, col_offset=37)], [], None, None, lineno=620, col_offset=23), lineno=620, col_offset=12)], [If(Call(Name('isinstance', Load(), lineno=621, col_offset=13), [Name('msg', Load(), lineno=621, col_offset=24), Name('TupleType', Load(), lineno=621, col_offset=29)], [], None, None, lineno=621, col_offset=13), [If(BoolOp(And(), [Compare(Call(Name('len', Load(), lineno=622, col_offset=15), [Name('msg', Load(), lineno=622, col_offset=19)], [], None, None, lineno=622, col_offset=15), [GtE()], [Num(4, lineno=622, col_offset=27)], lineno=622, col_offset=15), Compare(Subscript(Name('msg', Load(), lineno=622, col_offset=33), Index(Num(0, lineno=622, col_offset=37)), Load(), lineno=622, col_offset=33), [Eq()], [Str('http error', lineno=622, col_offset=43)], lineno=622, col_offset=33), Call(Name('isinstance', Load(), lineno=623, col_offset=15), [Subscript(Name('msg', Load(), lineno=623, col_offset=26), Index(Num(3, lineno=623, col_offset=30)), Load(), lineno=623, col_offset=26), Name('InstanceType', Load(), lineno=623, col_offset=34)], [], None, None, lineno=623, col_offset=15)], lineno=622, col_offset=15), [Assign([Name('msg', Store(), lineno=626, col_offset=16)], BinOp(Subscript(Name('msg', Load(), lineno=626, col_offset=22), Slice(None, Num(3, lineno=626, col_offset=27), None), Load(), lineno=626, col_offset=22), Add(), Subscript(Name('msg', Load(), lineno=626, col_offset=32), Slice(Num(4, lineno=626, col_offset=36), None, None), Load(), lineno=626, col_offset=32), lineno=626, col_offset=22), lineno=626, col_offset=16)], [], lineno=622, col_offset=12)], [], lineno=621, col_offset=13)], lineno=618, col_offset=8), Return(Name('msg', Load(), lineno=627, col_offset=15), lineno=627, col_offset=8)], [], lineno=617, col_offset=4), FunctionDef('safeclose', arguments([Name('self', Param(), lineno=629, col_offset=18), Name('f', Param(), lineno=629, col_offset=24)], None, None, []), [TryExcept([Assign([Name('url', Store(), lineno=631, col_offset=12)], Call(Attribute(Name('f', Load(), lineno=631, col_offset=18), 'geturl', Load(), lineno=631, col_offset=18), [], [], None, None, lineno=631, col_offset=18), lineno=631, col_offset=12)], [ExceptHandler(Name('AttributeError', Load(), lineno=632, col_offset=15), None, [Pass( lineno=633, col_offset=12)], lineno=632, col_offset=8)], [If(BoolOp(Or(), [Compare(Subscript(Name('url', Load(), lineno=635, col_offset=15), Slice(None, Num(4, lineno=635, col_offset=20), None), Load(), lineno=635, col_offset=15), [Eq()], [Str('ftp:', lineno=635, col_offset=26)], lineno=635, col_offset=15), Compare(Subscript(Name('url', Load(), lineno=635, col_offset=36), Slice(None, Num(7, lineno=635, col_offset=41), None), Load(), lineno=635, col_offset=36), [Eq()], [Str('file://', lineno=635, col_offset=47)], lineno=635, col_offset=36)], lineno=635, col_offset=15), [Assign([Name('text', Store(), lineno=638, col_offset=16)], Call(Attribute(Name('f', Load(), lineno=638, col_offset=23), 'read', Load(), lineno=638, col_offset=23), [], [], None, None, lineno=638, col_offset=23), lineno=638, col_offset=16)], [], lineno=635, col_offset=12)], lineno=630, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=639, col_offset=8), 'close', Load(), lineno=639, col_offset=8), [], [], None, None, lineno=639, col_offset=8), lineno=639, col_offset=8)], [], lineno=629, col_offset=4), FunctionDef('save_pickle', arguments([Name('self', Param(), lineno=641, col_offset=20), Name('dumpfile', Param(), lineno=641, col_offset=26)], None, None, [Name('DUMPFILE', Load(), lineno=641, col_offset=35)]), [If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=642, col_offset=15), 'changed', Load(), lineno=642, col_offset=15), lineno=642, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=643, col_offset=12), 'note', Load(), lineno=643, col_offset=12), [Num(0, lineno=643, col_offset=22), Str('\nNo need to save checkpoint', lineno=643, col_offset=25)], [], None, None, lineno=643, col_offset=12), lineno=643, col_offset=12)], [If(UnaryOp(Not(), Name('dumpfile', Load(), lineno=644, col_offset=17), lineno=644, col_offset=13), [Expr(Call(Attribute(Name('self', Load(), lineno=645, col_offset=12), 'note', Load(), lineno=645, col_offset=12), [Num(0, lineno=645, col_offset=22), Str("No dumpfile, won't save checkpoint", lineno=645, col_offset=25)], [], None, None, lineno=645, col_offset=12), lineno=645, col_offset=12)], [Expr(Call(Attribute(Name('self', Load(), lineno=647, col_offset=12), 'note', Load(), lineno=647, col_offset=12), [Num(0, lineno=647, col_offset=22), Str('\nSaving checkpoint to %s ...', lineno=647, col_offset=25), Name('dumpfile', Load(), lineno=647, col_offset=58)], [], None, None, lineno=647, col_offset=12), lineno=647, col_offset=12), Assign([Name('newfile', Store(), lineno=648, col_offset=12)], BinOp(Name('dumpfile', Load(), lineno=648, col_offset=22), Add(), Str('.new', lineno=648, col_offset=33), lineno=648, col_offset=22), lineno=648, col_offset=12), Assign([Name('f', Store(), lineno=649, col_offset=12)], Call(Name('open', Load(), lineno=649, col_offset=16), [Name('newfile', Load(), lineno=649, col_offset=21), Str('wb', lineno=649, col_offset=30)], [], None, None, lineno=649, col_offset=16), lineno=649, col_offset=12), Expr(Call(Attribute(Name('pickle', Load(), lineno=650, col_offset=12), 'dump', Load(), lineno=650, col_offset=12), [Name('self', Load(), lineno=650, col_offset=24), Name('f', Load(), lineno=650, col_offset=30)], [], None, None, lineno=650, col_offset=12), lineno=650, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=651, col_offset=12), 'close', Load(), lineno=651, col_offset=12), [], [], None, None, lineno=651, col_offset=12), lineno=651, col_offset=12), TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=653, col_offset=16), 'unlink', Load(), lineno=653, col_offset=16), [Name('dumpfile', Load(), lineno=653, col_offset=26)], [], None, None, lineno=653, col_offset=16), lineno=653, col_offset=16)], [ExceptHandler(Attribute(Name('os', Load(), lineno=654, col_offset=19), 'error', Load(), lineno=654, col_offset=19), None, [Pass( lineno=655, col_offset=16)], lineno=654, col_offset=12)], [], lineno=652, col_offset=12), Expr(Call(Attribute(Name('os', Load(), lineno=656, col_offset=12), 'rename', Load(), lineno=656, col_offset=12), [Name('newfile', Load(), lineno=656, col_offset=22), Name('dumpfile', Load(), lineno=656, col_offset=31)], [], None, None, lineno=656, col_offset=12), lineno=656, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=657, col_offset=12), 'note', Load(), lineno=657, col_offset=12), [Num(0, lineno=657, col_offset=22), Str('Done.', lineno=657, col_offset=25)], [], None, None, lineno=657, col_offset=12), lineno=657, col_offset=12), Return(Num(1, lineno=658, col_offset=19), lineno=658, col_offset=12)], lineno=644, col_offset=13)], lineno=642, col_offset=8)], [], lineno=641, col_offset=4)], [], lineno=254, col_offset=0), ClassDef('Page', [], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=663, col_offset=17), Name('text', Param(), lineno=663, col_offset=23), Name('url', Param(), lineno=663, col_offset=29), Name('verbose', Param(), lineno=663, col_offset=34), Name('maxpage', Param(), lineno=663, col_offset=51), Name('checker', Param(), lineno=663, col_offset=68)], None, None, [Name('VERBOSE', Load(), lineno=663, col_offset=42), Name('MAXPAGE', Load(), lineno=663, col_offset=59), Name('None', Load(), lineno=663, col_offset=76)]), [Assign([Attribute(Name('self', Load(), lineno=664, col_offset=8), 'text', Store(), lineno=664, col_offset=8)], Name('text', Load(), lineno=664, col_offset=20), lineno=664, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=665, col_offset=8), 'url', Store(), lineno=665, col_offset=8)], Name('url', Load(), lineno=665, col_offset=19), lineno=665, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=666, col_offset=8), 'verbose', Store(), lineno=666, col_offset=8)], Name('verbose', Load(), lineno=666, col_offset=23), lineno=666, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=667, col_offset=8), 'maxpage', Store(), lineno=667, col_offset=8)], Name('maxpage', Load(), lineno=667, col_offset=23), lineno=667, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=668, col_offset=8), 'checker', Store(), lineno=668, col_offset=8)], Name('checker', Load(), lineno=668, col_offset=23), lineno=668, col_offset=8), Assign([Name('size', Store(), lineno=674, col_offset=8)], Call(Name('len', Load(), lineno=674, col_offset=15), [Attribute(Name('self', Load(), lineno=674, col_offset=19), 'text', Load(), lineno=674, col_offset=19)], [], None, None, lineno=674, col_offset=15), lineno=674, col_offset=8), If(Compare(Name('size', Load(), lineno=675, col_offset=11), [Gt()], [Attribute(Name('self', Load(), lineno=675, col_offset=18), 'maxpage', Load(), lineno=675, col_offset=18)], lineno=675, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=676, col_offset=12), 'note', Load(), lineno=676, col_offset=12), [Num(0, lineno=676, col_offset=22), Str('Skip huge file %s (%.0f Kbytes)', lineno=676, col_offset=25), Attribute(Name('self', Load(), lineno=676, col_offset=60), 'url', Load(), lineno=676, col_offset=60), BinOp(Name('size', Load(), lineno=676, col_offset=71), Mult(), Num(0.001, lineno=676, col_offset=76), lineno=676, col_offset=71)], [], None, None, lineno=676, col_offset=12), lineno=676, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=677, col_offset=12), 'parser', Store(), lineno=677, col_offset=12)], Name('None', Load(), lineno=677, col_offset=26), lineno=677, col_offset=12), Return(None, lineno=678, col_offset=12)], [], lineno=675, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=679, col_offset=8), 'checker', Load(), lineno=679, col_offset=8), 'note', Load(), lineno=679, col_offset=8), [Num(2, lineno=679, col_offset=26), Str('  Parsing %s (%d bytes)', lineno=679, col_offset=29), Attribute(Name('self', Load(), lineno=679, col_offset=56), 'url', Load(), lineno=679, col_offset=56), Name('size', Load(), lineno=679, col_offset=66)], [], None, None, lineno=679, col_offset=8), lineno=679, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=680, col_offset=8), 'parser', Store(), lineno=680, col_offset=8)], Call(Name('MyHTMLParser', Load(), lineno=680, col_offset=22), [Name('url', Load(), lineno=680, col_offset=35)], [keyword('verbose', Attribute(Name('self', Load(), lineno=680, col_offset=48), 'verbose', Load(), lineno=680, col_offset=48)), keyword('checker', Attribute(Name('self', Load(), lineno=681, col_offset=43), 'checker', Load(), lineno=681, col_offset=43))], None, None, lineno=680, col_offset=22), lineno=680, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=682, col_offset=8), 'parser', Load(), lineno=682, col_offset=8), 'feed', Load(), lineno=682, col_offset=8), [Attribute(Name('self', Load(), lineno=682, col_offset=25), 'text', Load(), lineno=682, col_offset=25)], [], None, None, lineno=682, col_offset=8), lineno=682, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=683, col_offset=8), 'parser', Load(), lineno=683, col_offset=8), 'close', Load(), lineno=683, col_offset=8), [], [], None, None, lineno=683, col_offset=8), lineno=683, col_offset=8)], [], lineno=663, col_offset=4), FunctionDef('note', arguments([Name('self', Param(), lineno=685, col_offset=13), Name('level', Param(), lineno=685, col_offset=19), Name('msg', Param(), lineno=685, col_offset=26)], 'args', None, []), [If(Attribute(Name('self', Load(), lineno=686, col_offset=11), 'checker', Load(), lineno=686, col_offset=11), [Expr(Call(Name('apply', Load(), lineno=687, col_offset=12), [Attribute(Attribute(Name('self', Load(), lineno=687, col_offset=18), 'checker', Load(), lineno=687, col_offset=18), 'note', Load(), lineno=687, col_offset=18), BinOp(Tuple([Name('level', Load(), lineno=687, col_offset=38), Name('msg', Load(), lineno=687, col_offset=45)], Load(), lineno=687, col_offset=38), Add(), Name('args', Load(), lineno=687, col_offset=52), lineno=687, col_offset=37)], [], None, None, lineno=687, col_offset=12), lineno=687, col_offset=12)], [If(Compare(Attribute(Name('self', Load(), lineno=689, col_offset=15), 'verbose', Load(), lineno=689, col_offset=15), [GtE()], [Name('level', Load(), lineno=689, col_offset=31)], lineno=689, col_offset=15), [If(Name('args', Load(), lineno=690, col_offset=19), [Assign([Name('msg', Store(), lineno=691, col_offset=20)], BinOp(Name('msg', Load(), lineno=691, col_offset=26), Mod(), Name('args', Load(), lineno=691, col_offset=30), lineno=691, col_offset=26), lineno=691, col_offset=20)], [], lineno=690, col_offset=16), Print(None, [Name('msg', Load(), lineno=692, col_offset=22)], True, lineno=692, col_offset=16)], [], lineno=689, col_offset=12)], lineno=686, col_offset=8)], [], lineno=685, col_offset=4), FunctionDef('getnames', arguments([Name('self', Param(), lineno=695, col_offset=17)], None, None, []), [If(Attribute(Name('self', Load(), lineno=696, col_offset=11), 'parser', Load(), lineno=696, col_offset=11), [Return(Attribute(Attribute(Name('self', Load(), lineno=697, col_offset=19), 'parser', Load(), lineno=697, col_offset=19), 'names', Load(), lineno=697, col_offset=19), lineno=697, col_offset=12)], [Return(List([], Load(), lineno=699, col_offset=19), lineno=699, col_offset=12)], lineno=696, col_offset=8)], [], lineno=695, col_offset=4), FunctionDef('getlinkinfos', arguments([Name('self', Param(), lineno=701, col_offset=21)], None, None, []), [If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=706, col_offset=15), 'parser', Load(), lineno=706, col_offset=15), lineno=706, col_offset=11), [Return(List([], Load(), lineno=706, col_offset=35), lineno=706, col_offset=28)], [], lineno=706, col_offset=8), Assign([Name('rawlinks', Store(), lineno=708, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=708, col_offset=19), 'parser', Load(), lineno=708, col_offset=19), 'getlinks', Load(), lineno=708, col_offset=19), [], [], None, None, lineno=708, col_offset=19), lineno=708, col_offset=8), Assign([Name('base', Store(), lineno=709, col_offset=8)], Call(Attribute(Name('urlparse', Load(), lineno=709, col_offset=15), 'urljoin', Load(), lineno=709, col_offset=15), [Attribute(Name('self', Load(), lineno=709, col_offset=32), 'url', Load(), lineno=709, col_offset=32), BoolOp(Or(), [Call(Attribute(Attribute(Name('self', Load(), lineno=709, col_offset=42), 'parser', Load(), lineno=709, col_offset=42), 'getbase', Load(), lineno=709, col_offset=42), [], [], None, None, lineno=709, col_offset=42), Str('', lineno=709, col_offset=67)], lineno=709, col_offset=42)], [], None, None, lineno=709, col_offset=15), lineno=709, col_offset=8), Assign([Name('infos', Store(), lineno=710, col_offset=8)], List([], Load(), lineno=710, col_offset=16), lineno=710, col_offset=8), For(Name('rawlink', Store(), lineno=711, col_offset=12), Name('rawlinks', Load(), lineno=711, col_offset=23), [Assign([Name('t', Store(), lineno=712, col_offset=12)], Call(Attribute(Name('urlparse', Load(), lineno=712, col_offset=16), 'urlparse', Load(), lineno=712, col_offset=16), [Name('rawlink', Load(), lineno=712, col_offset=34)], [], None, None, lineno=712, col_offset=16), lineno=712, col_offset=12), Assign([Name('fragment', Store(), lineno=715, col_offset=12)], Subscript(Name('t', Load(), lineno=715, col_offset=23), Index(Num(-1, lineno=715, col_offset=26)), Load(), lineno=715, col_offset=23), lineno=715, col_offset=12), Assign([Name('t', Store(), lineno=716, col_offset=12)], BinOp(Subscript(Name('t', Load(), lineno=716, col_offset=16), Slice(None, Num(-1, lineno=716, col_offset=20), None), Load(), lineno=716, col_offset=16), Add(), Tuple([Str('', lineno=716, col_offset=26)], Load(), lineno=716, col_offset=26), lineno=716, col_offset=16), lineno=716, col_offset=12), Assign([Name('rawlink', Store(), lineno=717, col_offset=12)], Call(Attribute(Name('urlparse', Load(), lineno=717, col_offset=22), 'urlunparse', Load(), lineno=717, col_offset=22), [Name('t', Load(), lineno=717, col_offset=42)], [], None, None, lineno=717, col_offset=22), lineno=717, col_offset=12), Assign([Name('link', Store(), lineno=718, col_offset=12)], Call(Attribute(Name('urlparse', Load(), lineno=718, col_offset=19), 'urljoin', Load(), lineno=718, col_offset=19), [Name('base', Load(), lineno=718, col_offset=36), Name('rawlink', Load(), lineno=718, col_offset=42)], [], None, None, lineno=718, col_offset=19), lineno=718, col_offset=12), Expr(Call(Attribute(Name('infos', Load(), lineno=719, col_offset=12), 'append', Load(), lineno=719, col_offset=12), [Tuple([Name('link', Load(), lineno=719, col_offset=26), Name('rawlink', Load(), lineno=719, col_offset=32), Name('fragment', Load(), lineno=719, col_offset=41)], Load(), lineno=719, col_offset=26)], [], None, None, lineno=719, col_offset=12), lineno=719, col_offset=12)], [], lineno=711, col_offset=8), Return(Name('infos', Load(), lineno=721, col_offset=15), lineno=721, col_offset=8)], [], lineno=701, col_offset=4)], [], lineno=661, col_offset=0), ClassDef('MyStringIO', [Attribute(Name('StringIO', Load(), lineno=724, col_offset=17), 'StringIO', Load(), lineno=724, col_offset=17)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=726, col_offset=17), Name('url', Param(), lineno=726, col_offset=23), Name('info', Param(), lineno=726, col_offset=28)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=727, col_offset=8), '__url', Store(), lineno=727, col_offset=8)], Name('url', Load(), lineno=727, col_offset=21), lineno=727, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=728, col_offset=8), '__info', Store(), lineno=728, col_offset=8)], Name('info', Load(), lineno=728, col_offset=22), lineno=728, col_offset=8), Expr(Call(Attribute(Attribute(Name('StringIO', Load(), lineno=729, col_offset=8), 'StringIO', Load(), lineno=729, col_offset=8), '__init__', Load(), lineno=729, col_offset=8), [Name('self', Load(), lineno=729, col_offset=35)], [], None, None, lineno=729, col_offset=8), lineno=729, col_offset=8)], [], lineno=726, col_offset=4), FunctionDef('info', arguments([Name('self', Param(), lineno=731, col_offset=13)], None, None, []), [Return(Attribute(Name('self', Load(), lineno=732, col_offset=15), '__info', Load(), lineno=732, col_offset=15), lineno=732, col_offset=8)], [], lineno=731, col_offset=4), FunctionDef('geturl', arguments([Name('self', Param(), lineno=734, col_offset=15)], None, None, []), [Return(Attribute(Name('self', Load(), lineno=735, col_offset=15), '__url', Load(), lineno=735, col_offset=15), lineno=735, col_offset=8)], [], lineno=734, col_offset=4)], [], lineno=724, col_offset=0), ClassDef('MyURLopener', [Attribute(Name('urllib', Load(), lineno=738, col_offset=18), 'FancyURLopener', Load(), lineno=738, col_offset=18)], [Assign([Name('http_error_default', Store(), lineno=740, col_offset=4)], Attribute(Attribute(Name('urllib', Load(), lineno=740, col_offset=25), 'URLopener', Load(), lineno=740, col_offset=25), 'http_error_default', Load(), lineno=740, col_offset=25), lineno=740, col_offset=4), FunctionDef('__init__', arguments([], 'args', None, []), [Assign([Name('self', Store(), lineno=743, col_offset=8)], Subscript(Name('args', Load(), lineno=743, col_offset=15), Index(Num(0, lineno=743, col_offset=20)), Load(), lineno=743, col_offset=15), lineno=743, col_offset=8), Expr(Call(Name('apply', Load(), lineno=744, col_offset=8), [Attribute(Attribute(Name('urllib', Load(), lineno=744, col_offset=14), 'FancyURLopener', Load(), lineno=744, col_offset=14), '__init__', Load(), lineno=744, col_offset=14), Name('args', Load(), lineno=744, col_offset=46)], [], None, None, lineno=744, col_offset=8), lineno=744, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=745, col_offset=8), 'addheaders', Store(), lineno=745, col_offset=8)], List([Tuple([Str('User-agent', lineno=746, col_offset=13), BinOp(Str('Python-webchecker/%s', lineno=746, col_offset=27), Mod(), Name('__version__', Load(), lineno=746, col_offset=52), lineno=746, col_offset=27)], Load(), lineno=746, col_offset=13)], Load(), lineno=745, col_offset=26), lineno=745, col_offset=8)], [], lineno=742, col_offset=4), FunctionDef('http_error_401', arguments([Name('self', Param(), lineno=749, col_offset=23), Name('url', Param(), lineno=749, col_offset=29), Name('fp', Param(), lineno=749, col_offset=34), Name('errcode', Param(), lineno=749, col_offset=38), Name('errmsg', Param(), lineno=749, col_offset=47), Name('headers', Param(), lineno=749, col_offset=55)], None, None, []), [Return(Name('None', Load(), lineno=750, col_offset=15), lineno=750, col_offset=8)], [], lineno=749, col_offset=4), FunctionDef('open_file', arguments([Name('self', Param(), lineno=752, col_offset=18), Name('url', Param(), lineno=752, col_offset=24)], None, None, []), [Assign([Name('path', Store(), lineno=753, col_offset=8)], Call(Attribute(Name('urllib', Load(), lineno=753, col_offset=15), 'url2pathname', Load(), lineno=753, col_offset=15), [Call(Attribute(Name('urllib', Load(), lineno=753, col_offset=35), 'unquote', Load(), lineno=753, col_offset=35), [Name('url', Load(), lineno=753, col_offset=50)], [], None, None, lineno=753, col_offset=35)], [], None, None, lineno=753, col_offset=15), lineno=753, col_offset=8), If(Call(Attribute(Attribute(Name('os', Load(), lineno=754, col_offset=11), 'path', Load(), lineno=754, col_offset=11), 'isdir', Load(), lineno=754, col_offset=11), [Name('path', Load(), lineno=754, col_offset=25)], [], None, None, lineno=754, col_offset=11), [If(Compare(Subscript(Name('path', Load(), lineno=755, col_offset=15), Index(Num(-1, lineno=755, col_offset=21)), Load(), lineno=755, col_offset=15), [NotEq()], [Attribute(Name('os', Load(), lineno=755, col_offset=27), 'sep', Load(), lineno=755, col_offset=27)], lineno=755, col_offset=15), [Assign([Name('url', Store(), lineno=756, col_offset=16)], BinOp(Name('url', Load(), lineno=756, col_offset=22), Add(), Str('/', lineno=756, col_offset=28), lineno=756, col_offset=22), lineno=756, col_offset=16)], [], lineno=755, col_offset=12), Assign([Name('indexpath', Store(), lineno=757, col_offset=12)], Call(Attribute(Attribute(Name('os', Load(), lineno=757, col_offset=24), 'path', Load(), lineno=757, col_offset=24), 'join', Load(), lineno=757, col_offset=24), [Name('path', Load(), lineno=757, col_offset=37), Str('index.html', lineno=757, col_offset=43)], [], None, None, lineno=757, col_offset=24), lineno=757, col_offset=12), If(Call(Attribute(Attribute(Name('os', Load(), lineno=758, col_offset=15), 'path', Load(), lineno=758, col_offset=15), 'exists', Load(), lineno=758, col_offset=15), [Name('indexpath', Load(), lineno=758, col_offset=30)], [], None, None, lineno=758, col_offset=15), [Return(Call(Attribute(Name('self', Load(), lineno=759, col_offset=23), 'open_file', Load(), lineno=759, col_offset=23), [BinOp(Name('url', Load(), lineno=759, col_offset=38), Add(), Str('index.html', lineno=759, col_offset=44), lineno=759, col_offset=38)], [], None, None, lineno=759, col_offset=23), lineno=759, col_offset=16)], [], lineno=758, col_offset=12), TryExcept([Assign([Name('names', Store(), lineno=761, col_offset=16)], Call(Attribute(Name('os', Load(), lineno=761, col_offset=24), 'listdir', Load(), lineno=761, col_offset=24), [Name('path', Load(), lineno=761, col_offset=35)], [], None, None, lineno=761, col_offset=24), lineno=761, col_offset=16)], [ExceptHandler(Attribute(Name('os', Load(), lineno=762, col_offset=19), 'error', Load(), lineno=762, col_offset=19), Name('msg', Store(), lineno=762, col_offset=29), [Assign([Tuple([Name('exc_type', Store(), lineno=763, col_offset=16), Name('exc_value', Store(), lineno=763, col_offset=26), Name('exc_tb', Store(), lineno=763, col_offset=37)], Store(), lineno=763, col_offset=16)], Call(Attribute(Name('sys', Load(), lineno=763, col_offset=46), 'exc_info', Load(), lineno=763, col_offset=46), [], [], None, None, lineno=763, col_offset=46), lineno=763, col_offset=16), Raise(Name('IOError', Load(), lineno=764, col_offset=22), Name('msg', Load(), lineno=764, col_offset=31), Name('exc_tb', Load(), lineno=764, col_offset=36), lineno=764, col_offset=16)], lineno=762, col_offset=12)], [], lineno=760, col_offset=12), Expr(Call(Attribute(Name('names', Load(), lineno=765, col_offset=12), 'sort', Load(), lineno=765, col_offset=12), [], [], None, None, lineno=765, col_offset=12), lineno=765, col_offset=12), Assign([Name('s', Store(), lineno=766, col_offset=12)], Call(Name('MyStringIO', Load(), lineno=766, col_offset=16), [BinOp(Str('file:', lineno=766, col_offset=27), Add(), Name('url', Load(), lineno=766, col_offset=35), lineno=766, col_offset=27), Dict([Str('content-type', lineno=766, col_offset=41)], [Str('text/html', lineno=766, col_offset=57)], lineno=766, col_offset=40)], [], None, None, lineno=766, col_offset=16), lineno=766, col_offset=12), Expr(Call(Attribute(Name('s', Load(), lineno=767, col_offset=12), 'write', Load(), lineno=767, col_offset=12), [BinOp(Str('<BASE HREF="file:%s">\n', lineno=767, col_offset=20), Mod(), Call(Attribute(Name('urllib', Load(), lineno=768, col_offset=20), 'quote', Load(), lineno=768, col_offset=20), [Call(Attribute(Attribute(Name('os', Load(), lineno=768, col_offset=33), 'path', Load(), lineno=768, col_offset=33), 'join', Load(), lineno=768, col_offset=33), [Name('path', Load(), lineno=768, col_offset=46), Str('', lineno=768, col_offset=52)], [], None, None, lineno=768, col_offset=33)], [], None, None, lineno=768, col_offset=20), lineno=767, col_offset=20)], [], None, None, lineno=767, col_offset=12), lineno=767, col_offset=12), For(Name('name', Store(), lineno=769, col_offset=16), Name('names', Load(), lineno=769, col_offset=24), [Assign([Name('q', Store(), lineno=770, col_offset=16)], Call(Attribute(Name('urllib', Load(), lineno=770, col_offset=20), 'quote', Load(), lineno=770, col_offset=20), [Name('name', Load(), lineno=770, col_offset=33)], [], None, None, lineno=770, col_offset=20), lineno=770, col_offset=16), Expr(Call(Attribute(Name('s', Load(), lineno=771, col_offset=16), 'write', Load(), lineno=771, col_offset=16), [BinOp(Str('<A HREF="%s">%s</A>\n', lineno=771, col_offset=24), Mod(), Tuple([Name('q', Load(), lineno=771, col_offset=51), Name('q', Load(), lineno=771, col_offset=54)], Load(), lineno=771, col_offset=51), lineno=771, col_offset=24)], [], None, None, lineno=771, col_offset=16), lineno=771, col_offset=16)], [], lineno=769, col_offset=12), Expr(Call(Attribute(Name('s', Load(), lineno=772, col_offset=12), 'seek', Load(), lineno=772, col_offset=12), [Num(0, lineno=772, col_offset=19)], [], None, None, lineno=772, col_offset=12), lineno=772, col_offset=12), Return(Name('s', Load(), lineno=773, col_offset=19), lineno=773, col_offset=12)], [], lineno=754, col_offset=8), Return(Call(Attribute(Attribute(Name('urllib', Load(), lineno=774, col_offset=15), 'FancyURLopener', Load(), lineno=774, col_offset=15), 'open_file', Load(), lineno=774, col_offset=15), [Name('self', Load(), lineno=774, col_offset=47), Name('url', Load(), lineno=774, col_offset=53)], [], None, None, lineno=774, col_offset=15), lineno=774, col_offset=8)], [], lineno=752, col_offset=4)], [], lineno=738, col_offset=0), ClassDef('MyHTMLParser', [Attribute(Name('sgmllib', Load(), lineno=777, col_offset=19), 'SGMLParser', Load(), lineno=777, col_offset=19)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=779, col_offset=17), Name('url', Param(), lineno=779, col_offset=23), Name('verbose', Param(), lineno=779, col_offset=28), Name('checker', Param(), lineno=779, col_offset=45)], None, None, [Name('VERBOSE', Load(), lineno=779, col_offset=36), Name('None', Load(), lineno=779, col_offset=53)]), [Assign([Attribute(Name('self', Load(), lineno=780, col_offset=8), 'myverbose', Store(), lineno=780, col_offset=8)], Name('verbose', Load(), lineno=780, col_offset=25), lineno=780, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=781, col_offset=8), 'checker', Store(), lineno=781, col_offset=8)], Name('checker', Load(), lineno=781, col_offset=23), lineno=781, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=782, col_offset=8), 'base', Store(), lineno=782, col_offset=8)], Name('None', Load(), lineno=782, col_offset=20), lineno=782, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=783, col_offset=8), 'links', Store(), lineno=783, col_offset=8)], Dict([], [], lineno=783, col_offset=21), lineno=783, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=784, col_offset=8), 'names', Store(), lineno=784, col_offset=8)], List([], Load(), lineno=784, col_offset=21), lineno=784, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=785, col_offset=8), 'url', Store(), lineno=785, col_offset=8)], Name('url', Load(), lineno=785, col_offset=19), lineno=785, col_offset=8), Expr(Call(Attribute(Attribute(Name('sgmllib', Load(), lineno=786, col_offset=8), 'SGMLParser', Load(), lineno=786, col_offset=8), '__init__', Load(), lineno=786, col_offset=8), [Name('self', Load(), lineno=786, col_offset=36)], [], None, None, lineno=786, col_offset=8), lineno=786, col_offset=8)], [], lineno=779, col_offset=4), FunctionDef('check_name_id', arguments([Name('self', Param(), lineno=788, col_offset=22), Name('attributes', Param(), lineno=788, col_offset=28)], None, None, []), [Expr(Str(' Check the name or id attributes on an element.\n        ', lineno=790, col_offset=-1), lineno=790, col_offset=-1), For(Tuple([Name('name', Store(), lineno=795, col_offset=12), Name('value', Store(), lineno=795, col_offset=18)], Store(), lineno=795, col_offset=12), Name('attributes', Load(), lineno=795, col_offset=27), [If(BoolOp(Or(), [Compare(Name('name', Load(), lineno=796, col_offset=15), [Eq()], [Str('name', lineno=796, col_offset=23)], lineno=796, col_offset=15), Compare(Name('name', Load(), lineno=796, col_offset=33), [Eq()], [Str('id', lineno=796, col_offset=41)], lineno=796, col_offset=33)], lineno=796, col_offset=15), [If(Compare(Name('value', Load(), lineno=797, col_offset=19), [In()], [Attribute(Name('self', Load(), lineno=797, col_offset=28), 'names', Load(), lineno=797, col_offset=28)], lineno=797, col_offset=19), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=798, col_offset=20), 'checker', Load(), lineno=798, col_offset=20), 'message', Load(), lineno=798, col_offset=20), [Str('WARNING: duplicate ID name %s in %s', lineno=798, col_offset=41), Name('value', Load(), lineno=799, col_offset=41), Attribute(Name('self', Load(), lineno=799, col_offset=48), 'url', Load(), lineno=799, col_offset=48)], [], None, None, lineno=798, col_offset=20), lineno=798, col_offset=20)], [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=800, col_offset=22), 'names', Load(), lineno=800, col_offset=22), 'append', Load(), lineno=800, col_offset=22), [Name('value', Load(), lineno=800, col_offset=40)], [], None, None, lineno=800, col_offset=22), lineno=800, col_offset=22)], lineno=797, col_offset=16), Break( lineno=801, col_offset=16)], [], lineno=796, col_offset=12)], [], lineno=795, col_offset=8)], [], lineno=788, col_offset=4), FunctionDef('unknown_starttag', arguments([Name('self', Param(), lineno=803, col_offset=25), Name('tag', Param(), lineno=803, col_offset=31), Name('attributes', Param(), lineno=803, col_offset=36)], None, None, []), [Expr(Str(' In XHTML, you can have id attributes on any element.\n        ', lineno=805, col_offset=-1), lineno=805, col_offset=-1), Expr(Call(Attribute(Name('self', Load(), lineno=806, col_offset=8), 'check_name_id', Load(), lineno=806, col_offset=8), [Name('attributes', Load(), lineno=806, col_offset=27)], [], None, None, lineno=806, col_offset=8), lineno=806, col_offset=8)], [], lineno=803, col_offset=4), FunctionDef('start_a', arguments([Name('self', Param(), lineno=808, col_offset=16), Name('attributes', Param(), lineno=808, col_offset=22)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=809, col_offset=8), 'link_attr', Load(), lineno=809, col_offset=8), [Name('attributes', Load(), lineno=809, col_offset=23), Str('href', lineno=809, col_offset=35)], [], None, None, lineno=809, col_offset=8), lineno=809, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=810, col_offset=8), 'check_name_id', Load(), lineno=810, col_offset=8), [Name('attributes', Load(), lineno=810, col_offset=27)], [], None, None, lineno=810, col_offset=8), lineno=810, col_offset=8)], [], lineno=808, col_offset=4), FunctionDef('end_a', arguments([Name('self', Param(), lineno=812, col_offset=14)], None, None, []), [Pass( lineno=812, col_offset=21)], [], lineno=812, col_offset=4), FunctionDef('do_area', arguments([Name('self', Param(), lineno=814, col_offset=16), Name('attributes', Param(), lineno=814, col_offset=22)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=815, col_offset=8), 'link_attr', Load(), lineno=815, col_offset=8), [Name('attributes', Load(), lineno=815, col_offset=23), Str('href', lineno=815, col_offset=35)], [], None, None, lineno=815, col_offset=8), lineno=815, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=816, col_offset=8), 'check_name_id', Load(), lineno=816, col_offset=8), [Name('attributes', Load(), lineno=816, col_offset=27)], [], None, None, lineno=816, col_offset=8), lineno=816, col_offset=8)], [], lineno=814, col_offset=4), FunctionDef('do_body', arguments([Name('self', Param(), lineno=818, col_offset=16), Name('attributes', Param(), lineno=818, col_offset=22)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=819, col_offset=8), 'link_attr', Load(), lineno=819, col_offset=8), [Name('attributes', Load(), lineno=819, col_offset=23), Str('background', lineno=819, col_offset=35), Str('bgsound', lineno=819, col_offset=49)], [], None, None, lineno=819, col_offset=8), lineno=819, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=820, col_offset=8), 'check_name_id', Load(), lineno=820, col_offset=8), [Name('attributes', Load(), lineno=820, col_offset=27)], [], None, None, lineno=820, col_offset=8), lineno=820, col_offset=8)], [], lineno=818, col_offset=4), FunctionDef('do_img', arguments([Name('self', Param(), lineno=822, col_offset=15), Name('attributes', Param(), lineno=822, col_offset=21)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=823, col_offset=8), 'link_attr', Load(), lineno=823, col_offset=8), [Name('attributes', Load(), lineno=823, col_offset=23), Str('src', lineno=823, col_offset=35), Str('lowsrc', lineno=823, col_offset=42)], [], None, None, lineno=823, col_offset=8), lineno=823, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=824, col_offset=8), 'check_name_id', Load(), lineno=824, col_offset=8), [Name('attributes', Load(), lineno=824, col_offset=27)], [], None, None, lineno=824, col_offset=8), lineno=824, col_offset=8)], [], lineno=822, col_offset=4), FunctionDef('do_frame', arguments([Name('self', Param(), lineno=826, col_offset=17), Name('attributes', Param(), lineno=826, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=827, col_offset=8), 'link_attr', Load(), lineno=827, col_offset=8), [Name('attributes', Load(), lineno=827, col_offset=23), Str('src', lineno=827, col_offset=35), Str('longdesc', lineno=827, col_offset=42)], [], None, None, lineno=827, col_offset=8), lineno=827, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=828, col_offset=8), 'check_name_id', Load(), lineno=828, col_offset=8), [Name('attributes', Load(), lineno=828, col_offset=27)], [], None, None, lineno=828, col_offset=8), lineno=828, col_offset=8)], [], lineno=826, col_offset=4), FunctionDef('do_iframe', arguments([Name('self', Param(), lineno=830, col_offset=18), Name('attributes', Param(), lineno=830, col_offset=24)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=831, col_offset=8), 'link_attr', Load(), lineno=831, col_offset=8), [Name('attributes', Load(), lineno=831, col_offset=23), Str('src', lineno=831, col_offset=35), Str('longdesc', lineno=831, col_offset=42)], [], None, None, lineno=831, col_offset=8), lineno=831, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=832, col_offset=8), 'check_name_id', Load(), lineno=832, col_offset=8), [Name('attributes', Load(), lineno=832, col_offset=27)], [], None, None, lineno=832, col_offset=8), lineno=832, col_offset=8)], [], lineno=830, col_offset=4), FunctionDef('do_link', arguments([Name('self', Param(), lineno=834, col_offset=16), Name('attributes', Param(), lineno=834, col_offset=22)], None, None, []), [For(Tuple([Name('name', Store(), lineno=835, col_offset=12), Name('value', Store(), lineno=835, col_offset=18)], Store(), lineno=835, col_offset=12), Name('attributes', Load(), lineno=835, col_offset=27), [If(Compare(Name('name', Load(), lineno=836, col_offset=15), [Eq()], [Str('rel', lineno=836, col_offset=23)], lineno=836, col_offset=15), [Assign([Name('parts', Store(), lineno=837, col_offset=16)], Call(Attribute(Call(Attribute(Name('value', Load(), lineno=837, col_offset=24), 'lower', Load(), lineno=837, col_offset=24), [], [], None, None, lineno=837, col_offset=24), 'split', Load(), lineno=837, col_offset=24), [], [], None, None, lineno=837, col_offset=24), lineno=837, col_offset=16), If(BoolOp(Or(), [Compare(Name('parts', Load(), lineno=838, col_offset=22), [Eq()], [List([Str('stylesheet', lineno=838, col_offset=32)], Load(), lineno=838, col_offset=31)], lineno=838, col_offset=22), Compare(Name('parts', Load(), lineno=839, col_offset=25), [Eq()], [List([Str('alternate', lineno=839, col_offset=35), Str('stylesheet', lineno=839, col_offset=48)], Load(), lineno=839, col_offset=34)], lineno=839, col_offset=25)], lineno=838, col_offset=22), [Expr(Call(Attribute(Name('self', Load(), lineno=840, col_offset=20), 'link_attr', Load(), lineno=840, col_offset=20), [Name('attributes', Load(), lineno=840, col_offset=35), Str('href', lineno=840, col_offset=47)], [], None, None, lineno=840, col_offset=20), lineno=840, col_offset=20), Break( lineno=841, col_offset=20)], [], lineno=838, col_offset=16)], [], lineno=836, col_offset=12)], [], lineno=835, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=842, col_offset=8), 'check_name_id', Load(), lineno=842, col_offset=8), [Name('attributes', Load(), lineno=842, col_offset=27)], [], None, None, lineno=842, col_offset=8), lineno=842, col_offset=8)], [], lineno=834, col_offset=4), FunctionDef('do_object', arguments([Name('self', Param(), lineno=844, col_offset=18), Name('attributes', Param(), lineno=844, col_offset=24)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=845, col_offset=8), 'link_attr', Load(), lineno=845, col_offset=8), [Name('attributes', Load(), lineno=845, col_offset=23), Str('data', lineno=845, col_offset=35), Str('usemap', lineno=845, col_offset=43)], [], None, None, lineno=845, col_offset=8), lineno=845, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=846, col_offset=8), 'check_name_id', Load(), lineno=846, col_offset=8), [Name('attributes', Load(), lineno=846, col_offset=27)], [], None, None, lineno=846, col_offset=8), lineno=846, col_offset=8)], [], lineno=844, col_offset=4), FunctionDef('do_script', arguments([Name('self', Param(), lineno=848, col_offset=18), Name('attributes', Param(), lineno=848, col_offset=24)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=849, col_offset=8), 'link_attr', Load(), lineno=849, col_offset=8), [Name('attributes', Load(), lineno=849, col_offset=23), Str('src', lineno=849, col_offset=35)], [], None, None, lineno=849, col_offset=8), lineno=849, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=850, col_offset=8), 'check_name_id', Load(), lineno=850, col_offset=8), [Name('attributes', Load(), lineno=850, col_offset=27)], [], None, None, lineno=850, col_offset=8), lineno=850, col_offset=8)], [], lineno=848, col_offset=4), FunctionDef('do_table', arguments([Name('self', Param(), lineno=852, col_offset=17), Name('attributes', Param(), lineno=852, col_offset=23)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=853, col_offset=8), 'link_attr', Load(), lineno=853, col_offset=8), [Name('attributes', Load(), lineno=853, col_offset=23), Str('background', lineno=853, col_offset=35)], [], None, None, lineno=853, col_offset=8), lineno=853, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=854, col_offset=8), 'check_name_id', Load(), lineno=854, col_offset=8), [Name('attributes', Load(), lineno=854, col_offset=27)], [], None, None, lineno=854, col_offset=8), lineno=854, col_offset=8)], [], lineno=852, col_offset=4), FunctionDef('do_td', arguments([Name('self', Param(), lineno=856, col_offset=14), Name('attributes', Param(), lineno=856, col_offset=20)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=857, col_offset=8), 'link_attr', Load(), lineno=857, col_offset=8), [Name('attributes', Load(), lineno=857, col_offset=23), Str('background', lineno=857, col_offset=35)], [], None, None, lineno=857, col_offset=8), lineno=857, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=858, col_offset=8), 'check_name_id', Load(), lineno=858, col_offset=8), [Name('attributes', Load(), lineno=858, col_offset=27)], [], None, None, lineno=858, col_offset=8), lineno=858, col_offset=8)], [], lineno=856, col_offset=4), FunctionDef('do_th', arguments([Name('self', Param(), lineno=860, col_offset=14), Name('attributes', Param(), lineno=860, col_offset=20)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=861, col_offset=8), 'link_attr', Load(), lineno=861, col_offset=8), [Name('attributes', Load(), lineno=861, col_offset=23), Str('background', lineno=861, col_offset=35)], [], None, None, lineno=861, col_offset=8), lineno=861, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=862, col_offset=8), 'check_name_id', Load(), lineno=862, col_offset=8), [Name('attributes', Load(), lineno=862, col_offset=27)], [], None, None, lineno=862, col_offset=8), lineno=862, col_offset=8)], [], lineno=860, col_offset=4), FunctionDef('do_tr', arguments([Name('self', Param(), lineno=864, col_offset=14), Name('attributes', Param(), lineno=864, col_offset=20)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=865, col_offset=8), 'link_attr', Load(), lineno=865, col_offset=8), [Name('attributes', Load(), lineno=865, col_offset=23), Str('background', lineno=865, col_offset=35)], [], None, None, lineno=865, col_offset=8), lineno=865, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=866, col_offset=8), 'check_name_id', Load(), lineno=866, col_offset=8), [Name('attributes', Load(), lineno=866, col_offset=27)], [], None, None, lineno=866, col_offset=8), lineno=866, col_offset=8)], [], lineno=864, col_offset=4), FunctionDef('link_attr', arguments([Name('self', Param(), lineno=868, col_offset=18), Name('attributes', Param(), lineno=868, col_offset=24)], 'args', None, []), [For(Tuple([Name('name', Store(), lineno=869, col_offset=12), Name('value', Store(), lineno=869, col_offset=18)], Store(), lineno=869, col_offset=12), Name('attributes', Load(), lineno=869, col_offset=27), [If(Compare(Name('name', Load(), lineno=870, col_offset=15), [In()], [Name('args', Load(), lineno=870, col_offset=23)], lineno=870, col_offset=15), [If(Name('value', Load(), lineno=871, col_offset=19), [Assign([Name('value', Store(), lineno=871, col_offset=26)], Call(Attribute(Name('value', Load(), lineno=871, col_offset=34), 'strip', Load(), lineno=871, col_offset=34), [], [], None, None, lineno=871, col_offset=34), lineno=871, col_offset=26)], [], lineno=871, col_offset=16), If(Name('value', Load(), lineno=872, col_offset=19), [Assign([Subscript(Attribute(Name('self', Load(), lineno=872, col_offset=26), 'links', Load(), lineno=872, col_offset=26), Index(Name('value', Load(), lineno=872, col_offset=37)), Store(), lineno=872, col_offset=26)], Name('None', Load(), lineno=872, col_offset=46), lineno=872, col_offset=26)], [], lineno=872, col_offset=16)], [], lineno=870, col_offset=12)], [], lineno=869, col_offset=8)], [], lineno=868, col_offset=4), FunctionDef('do_base', arguments([Name('self', Param(), lineno=874, col_offset=16), Name('attributes', Param(), lineno=874, col_offset=22)], None, None, []), [For(Tuple([Name('name', Store(), lineno=875, col_offset=12), Name('value', Store(), lineno=875, col_offset=18)], Store(), lineno=875, col_offset=12), Name('attributes', Load(), lineno=875, col_offset=27), [If(Compare(Name('name', Load(), lineno=876, col_offset=15), [Eq()], [Str('href', lineno=876, col_offset=23)], lineno=876, col_offset=15), [If(Name('value', Load(), lineno=877, col_offset=19), [Assign([Name('value', Store(), lineno=877, col_offset=26)], Call(Attribute(Name('value', Load(), lineno=877, col_offset=34), 'strip', Load(), lineno=877, col_offset=34), [], [], None, None, lineno=877, col_offset=34), lineno=877, col_offset=26)], [], lineno=877, col_offset=16), If(Name('value', Load(), lineno=878, col_offset=19), [If(Attribute(Name('self', Load(), lineno=879, col_offset=23), 'checker', Load(), lineno=879, col_offset=23), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=880, col_offset=24), 'checker', Load(), lineno=880, col_offset=24), 'note', Load(), lineno=880, col_offset=24), [Num(1, lineno=880, col_offset=42), Str('  Base %s', lineno=880, col_offset=45), Name('value', Load(), lineno=880, col_offset=58)], [], None, None, lineno=880, col_offset=24), lineno=880, col_offset=24)], [], lineno=879, col_offset=20), Assign([Attribute(Name('self', Load(), lineno=881, col_offset=20), 'base', Store(), lineno=881, col_offset=20)], Name('value', Load(), lineno=881, col_offset=32), lineno=881, col_offset=20)], [], lineno=878, col_offset=16)], [], lineno=876, col_offset=12)], [], lineno=875, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=882, col_offset=8), 'check_name_id', Load(), lineno=882, col_offset=8), [Name('attributes', Load(), lineno=882, col_offset=27)], [], None, None, lineno=882, col_offset=8), lineno=882, col_offset=8)], [], lineno=874, col_offset=4), FunctionDef('getlinks', arguments([Name('self', Param(), lineno=884, col_offset=17)], None, None, []), [Return(Call(Attribute(Attribute(Name('self', Load(), lineno=885, col_offset=15), 'links', Load(), lineno=885, col_offset=15), 'keys', Load(), lineno=885, col_offset=15), [], [], None, None, lineno=885, col_offset=15), lineno=885, col_offset=8)], [], lineno=884, col_offset=4), FunctionDef('getbase', arguments([Name('self', Param(), lineno=887, col_offset=16)], None, None, []), [Return(Attribute(Name('self', Load(), lineno=888, col_offset=15), 'base', Load(), lineno=888, col_offset=15), lineno=888, col_offset=8)], [], lineno=887, col_offset=4)], [], lineno=777, col_offset=0), If(Compare(Name('__name__', Load(), lineno=891, col_offset=3), [Eq()], [Str('__main__', lineno=891, col_offset=15)], lineno=891, col_offset=3), [Expr(Call(Name('main', Load(), lineno=892, col_offset=4), [], [], None, None, lineno=892, col_offset=4), lineno=892, col_offset=4)], [], lineno=891, col_offset=0)])
