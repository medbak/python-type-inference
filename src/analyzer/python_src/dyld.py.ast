Module([Expr(Str('\ndyld emulation\n', lineno=6, col_offset=-1), lineno=6, col_offset=-1), Import([alias('os', None)], lineno=8, col_offset=0), ImportFrom('framework', [alias('framework_info', None)], 0, lineno=9, col_offset=0), ImportFrom('dylib', [alias('dylib_info', None)], 0, lineno=10, col_offset=0), ImportFrom('itertools', [alias('*', None)], 0, lineno=11, col_offset=0), Assign([Name('__all__', Store(), lineno=13, col_offset=0)], List([Str('dyld_find', lineno=14, col_offset=4), Str('framework_find', lineno=14, col_offset=17), Str('framework_info', lineno=15, col_offset=4), Str('dylib_info', lineno=15, col_offset=22)], Load(), lineno=13, col_offset=10), lineno=13, col_offset=0), Assign([Name('DEFAULT_FRAMEWORK_FALLBACK', Store(), lineno=20, col_offset=0)], List([Call(Attribute(Attribute(Name('os', Load(), lineno=21, col_offset=4), 'path', Load(), lineno=21, col_offset=4), 'expanduser', Load(), lineno=21, col_offset=4), [Str('~/Library/Frameworks', lineno=21, col_offset=23)], [], None, None, lineno=21, col_offset=4), Str('/Library/Frameworks', lineno=22, col_offset=4), Str('/Network/Library/Frameworks', lineno=23, col_offset=4), Str('/System/Library/Frameworks', lineno=24, col_offset=4)], Load(), lineno=20, col_offset=29), lineno=20, col_offset=0), Assign([Name('DEFAULT_LIBRARY_FALLBACK', Store(), lineno=27, col_offset=0)], List([Call(Attribute(Attribute(Name('os', Load(), lineno=28, col_offset=4), 'path', Load(), lineno=28, col_offset=4), 'expanduser', Load(), lineno=28, col_offset=4), [Str('~/lib', lineno=28, col_offset=23)], [], None, None, lineno=28, col_offset=4), Str('/usr/local/lib', lineno=29, col_offset=4), Str('/lib', lineno=30, col_offset=4), Str('/usr/lib', lineno=31, col_offset=4)], Load(), lineno=27, col_offset=27), lineno=27, col_offset=0), FunctionDef('ensure_utf8', arguments([Name('s', Param(), lineno=34, col_offset=16)], None, None, []), [Expr(Str('Not all of PyObjC and Python understand unicode paths very well yet', lineno=35, col_offset=4), lineno=35, col_offset=4), If(Call(Name('isinstance', Load(), lineno=36, col_offset=7), [Name('s', Load(), lineno=36, col_offset=18), Name('unicode', Load(), lineno=36, col_offset=21)], [], None, None, lineno=36, col_offset=7), [Return(Call(Attribute(Name('s', Load(), lineno=37, col_offset=15), 'encode', Load(), lineno=37, col_offset=15), [Str('utf8', lineno=37, col_offset=24)], [], None, None, lineno=37, col_offset=15), lineno=37, col_offset=8)], [], lineno=36, col_offset=4), Return(Name('s', Load(), lineno=38, col_offset=11), lineno=38, col_offset=4)], [], lineno=34, col_offset=0), FunctionDef('dyld_env', arguments([Name('env', Param(), lineno=40, col_offset=13), Name('var', Param(), lineno=40, col_offset=18)], None, None, []), [If(Compare(Name('env', Load(), lineno=41, col_offset=7), [Is()], [Name('None', Load(), lineno=41, col_offset=14)], lineno=41, col_offset=7), [Assign([Name('env', Store(), lineno=42, col_offset=8)], Attribute(Name('os', Load(), lineno=42, col_offset=14), 'environ', Load(), lineno=42, col_offset=14), lineno=42, col_offset=8)], [], lineno=41, col_offset=4), Assign([Name('rval', Store(), lineno=43, col_offset=4)], Call(Attribute(Name('env', Load(), lineno=43, col_offset=11), 'get', Load(), lineno=43, col_offset=11), [Name('var', Load(), lineno=43, col_offset=19)], [], None, None, lineno=43, col_offset=11), lineno=43, col_offset=4), If(Compare(Name('rval', Load(), lineno=44, col_offset=7), [Is()], [Name('None', Load(), lineno=44, col_offset=15)], lineno=44, col_offset=7), [Return(List([], Load(), lineno=45, col_offset=15), lineno=45, col_offset=8)], [], lineno=44, col_offset=4), Return(Call(Attribute(Name('rval', Load(), lineno=46, col_offset=11), 'split', Load(), lineno=46, col_offset=11), [Str(':', lineno=46, col_offset=22)], [], None, None, lineno=46, col_offset=11), lineno=46, col_offset=4)], [], lineno=40, col_offset=0), FunctionDef('dyld_image_suffix', arguments([Name('env', Param(), lineno=48, col_offset=22)], None, None, [Name('None', Load(), lineno=48, col_offset=26)]), [If(Compare(Name('env', Load(), lineno=49, col_offset=7), [Is()], [Name('None', Load(), lineno=49, col_offset=14)], lineno=49, col_offset=7), [Assign([Name('env', Store(), lineno=50, col_offset=8)], Attribute(Name('os', Load(), lineno=50, col_offset=14), 'environ', Load(), lineno=50, col_offset=14), lineno=50, col_offset=8)], [], lineno=49, col_offset=4), Return(Call(Attribute(Name('env', Load(), lineno=51, col_offset=11), 'get', Load(), lineno=51, col_offset=11), [Str('DYLD_IMAGE_SUFFIX', lineno=51, col_offset=19)], [], None, None, lineno=51, col_offset=11), lineno=51, col_offset=4)], [], lineno=48, col_offset=0), FunctionDef('dyld_framework_path', arguments([Name('env', Param(), lineno=53, col_offset=24)], None, None, [Name('None', Load(), lineno=53, col_offset=28)]), [Return(Call(Name('dyld_env', Load(), lineno=54, col_offset=11), [Name('env', Load(), lineno=54, col_offset=20), Str('DYLD_FRAMEWORK_PATH', lineno=54, col_offset=25)], [], None, None, lineno=54, col_offset=11), lineno=54, col_offset=4)], [], lineno=53, col_offset=0), FunctionDef('dyld_library_path', arguments([Name('env', Param(), lineno=56, col_offset=22)], None, None, [Name('None', Load(), lineno=56, col_offset=26)]), [Return(Call(Name('dyld_env', Load(), lineno=57, col_offset=11), [Name('env', Load(), lineno=57, col_offset=20), Str('DYLD_LIBRARY_PATH', lineno=57, col_offset=25)], [], None, None, lineno=57, col_offset=11), lineno=57, col_offset=4)], [], lineno=56, col_offset=0), FunctionDef('dyld_fallback_framework_path', arguments([Name('env', Param(), lineno=59, col_offset=33)], None, None, [Name('None', Load(), lineno=59, col_offset=37)]), [Return(Call(Name('dyld_env', Load(), lineno=60, col_offset=11), [Name('env', Load(), lineno=60, col_offset=20), Str('DYLD_FALLBACK_FRAMEWORK_PATH', lineno=60, col_offset=25)], [], None, None, lineno=60, col_offset=11), lineno=60, col_offset=4)], [], lineno=59, col_offset=0), FunctionDef('dyld_fallback_library_path', arguments([Name('env', Param(), lineno=62, col_offset=31)], None, None, [Name('None', Load(), lineno=62, col_offset=35)]), [Return(Call(Name('dyld_env', Load(), lineno=63, col_offset=11), [Name('env', Load(), lineno=63, col_offset=20), Str('DYLD_FALLBACK_LIBRARY_PATH', lineno=63, col_offset=25)], [], None, None, lineno=63, col_offset=11), lineno=63, col_offset=4)], [], lineno=62, col_offset=0), FunctionDef('dyld_image_suffix_search', arguments([Name('iterator', Param(), lineno=65, col_offset=29), Name('env', Param(), lineno=65, col_offset=39)], None, None, [Name('None', Load(), lineno=65, col_offset=43)]), [Expr(Str('For a potential path iterator, add DYLD_IMAGE_SUFFIX semantics', lineno=66, col_offset=4), lineno=66, col_offset=4), Assign([Name('suffix', Store(), lineno=67, col_offset=4)], Call(Name('dyld_image_suffix', Load(), lineno=67, col_offset=13), [Name('env', Load(), lineno=67, col_offset=31)], [], None, None, lineno=67, col_offset=13), lineno=67, col_offset=4), If(Compare(Name('suffix', Load(), lineno=68, col_offset=7), [Is()], [Name('None', Load(), lineno=68, col_offset=17)], lineno=68, col_offset=7), [Return(Name('iterator', Load(), lineno=69, col_offset=15), lineno=69, col_offset=8)], [], lineno=68, col_offset=4), FunctionDef('_inject', arguments([Name('iterator', Param(), lineno=70, col_offset=16), Name('suffix', Param(), lineno=70, col_offset=35)], None, None, [Name('iterator', Load(), lineno=70, col_offset=25), Name('suffix', Load(), lineno=70, col_offset=42)]), [For(Name('path', Store(), lineno=71, col_offset=12), Name('iterator', Load(), lineno=71, col_offset=20), [If(Call(Attribute(Name('path', Load(), lineno=72, col_offset=15), 'endswith', Load(), lineno=72, col_offset=15), [Str('.dylib', lineno=72, col_offset=29)], [], None, None, lineno=72, col_offset=15), [Expr(Yield(BinOp(BinOp(Subscript(Name('path', Load(), lineno=73, col_offset=22), Slice(None, UnaryOp(USub(), Call(Name('len', Load(), lineno=73, col_offset=29), [Str('.dylib', lineno=73, col_offset=33)], [], None, None, lineno=73, col_offset=29), lineno=73, col_offset=28), None), Load(), lineno=73, col_offset=22), Add(), Name('suffix', Load(), lineno=73, col_offset=46), lineno=73, col_offset=22), Add(), Str('.dylib', lineno=73, col_offset=55), lineno=73, col_offset=53), lineno=73, col_offset=16), lineno=73, col_offset=16)], [Expr(Yield(BinOp(Name('path', Load(), lineno=75, col_offset=22), Add(), Name('suffix', Load(), lineno=75, col_offset=29), lineno=75, col_offset=22), lineno=75, col_offset=16), lineno=75, col_offset=16)], lineno=72, col_offset=12), Expr(Yield(Name('path', Load(), lineno=76, col_offset=18), lineno=76, col_offset=12), lineno=76, col_offset=12)], [], lineno=71, col_offset=8)], [], lineno=70, col_offset=4), Return(Call(Name('_inject', Load(), lineno=77, col_offset=11), [], [], None, None, lineno=77, col_offset=11), lineno=77, col_offset=4)], [], lineno=65, col_offset=0), FunctionDef('dyld_override_search', arguments([Name('name', Param(), lineno=79, col_offset=25), Name('env', Param(), lineno=79, col_offset=31)], None, None, [Name('None', Load(), lineno=79, col_offset=35)]), [Assign([Name('framework', Store(), lineno=85, col_offset=4)], Call(Name('framework_info', Load(), lineno=85, col_offset=16), [Name('name', Load(), lineno=85, col_offset=31)], [], None, None, lineno=85, col_offset=16), lineno=85, col_offset=4), If(Compare(Name('framework', Load(), lineno=87, col_offset=7), [IsNot()], [Name('None', Load(), lineno=87, col_offset=24)], lineno=87, col_offset=7), [For(Name('path', Store(), lineno=88, col_offset=12), Call(Name('dyld_framework_path', Load(), lineno=88, col_offset=20), [Name('env', Load(), lineno=88, col_offset=40)], [], None, None, lineno=88, col_offset=20), [Expr(Yield(Call(Attribute(Attribute(Name('os', Load(), lineno=89, col_offset=18), 'path', Load(), lineno=89, col_offset=18), 'join', Load(), lineno=89, col_offset=18), [Name('path', Load(), lineno=89, col_offset=31), Subscript(Name('framework', Load(), lineno=89, col_offset=37), Index(Str('name', lineno=89, col_offset=47)), Load(), lineno=89, col_offset=37)], [], None, None, lineno=89, col_offset=18), lineno=89, col_offset=12), lineno=89, col_offset=12)], [], lineno=88, col_offset=8)], [], lineno=87, col_offset=4), For(Name('path', Store(), lineno=93, col_offset=8), Call(Name('dyld_library_path', Load(), lineno=93, col_offset=16), [Name('env', Load(), lineno=93, col_offset=34)], [], None, None, lineno=93, col_offset=16), [Expr(Yield(Call(Attribute(Attribute(Name('os', Load(), lineno=94, col_offset=14), 'path', Load(), lineno=94, col_offset=14), 'join', Load(), lineno=94, col_offset=14), [Name('path', Load(), lineno=94, col_offset=27), Call(Attribute(Attribute(Name('os', Load(), lineno=94, col_offset=33), 'path', Load(), lineno=94, col_offset=33), 'basename', Load(), lineno=94, col_offset=33), [Name('name', Load(), lineno=94, col_offset=50)], [], None, None, lineno=94, col_offset=33)], [], None, None, lineno=94, col_offset=14), lineno=94, col_offset=8), lineno=94, col_offset=8)], [], lineno=93, col_offset=4)], [], lineno=79, col_offset=0), FunctionDef('dyld_executable_path_search', arguments([Name('name', Param(), lineno=96, col_offset=32), Name('executable_path', Param(), lineno=96, col_offset=38)], None, None, [Name('None', Load(), lineno=96, col_offset=54)]), [If(BoolOp(And(), [Call(Attribute(Name('name', Load(), lineno=100, col_offset=7), 'startswith', Load(), lineno=100, col_offset=7), [Str('@executable_path/', lineno=100, col_offset=23)], [], None, None, lineno=100, col_offset=7), Compare(Name('executable_path', Load(), lineno=100, col_offset=48), [IsNot()], [Name('None', Load(), lineno=100, col_offset=71)], lineno=100, col_offset=48)], lineno=100, col_offset=7), [Expr(Yield(Call(Attribute(Attribute(Name('os', Load(), lineno=101, col_offset=14), 'path', Load(), lineno=101, col_offset=14), 'join', Load(), lineno=101, col_offset=14), [Name('executable_path', Load(), lineno=101, col_offset=27), Subscript(Name('name', Load(), lineno=101, col_offset=44), Slice(Call(Name('len', Load(), lineno=101, col_offset=49), [Str('@executable_path/', lineno=101, col_offset=53)], [], None, None, lineno=101, col_offset=49), None, None), Load(), lineno=101, col_offset=44)], [], None, None, lineno=101, col_offset=14), lineno=101, col_offset=8), lineno=101, col_offset=8)], [], lineno=100, col_offset=4)], [], lineno=96, col_offset=0), FunctionDef('dyld_default_search', arguments([Name('name', Param(), lineno=103, col_offset=24), Name('env', Param(), lineno=103, col_offset=30)], None, None, [Name('None', Load(), lineno=103, col_offset=34)]), [Expr(Yield(Name('name', Load(), lineno=104, col_offset=10), lineno=104, col_offset=4), lineno=104, col_offset=4), Assign([Name('framework', Store(), lineno=106, col_offset=4)], Call(Name('framework_info', Load(), lineno=106, col_offset=16), [Name('name', Load(), lineno=106, col_offset=31)], [], None, None, lineno=106, col_offset=16), lineno=106, col_offset=4), If(Compare(Name('framework', Load(), lineno=108, col_offset=7), [IsNot()], [Name('None', Load(), lineno=108, col_offset=24)], lineno=108, col_offset=7), [Assign([Name('fallback_framework_path', Store(), lineno=109, col_offset=8)], Call(Name('dyld_fallback_framework_path', Load(), lineno=109, col_offset=34), [Name('env', Load(), lineno=109, col_offset=63)], [], None, None, lineno=109, col_offset=34), lineno=109, col_offset=8), For(Name('path', Store(), lineno=110, col_offset=12), Name('fallback_framework_path', Load(), lineno=110, col_offset=20), [Expr(Yield(Call(Attribute(Attribute(Name('os', Load(), lineno=111, col_offset=18), 'path', Load(), lineno=111, col_offset=18), 'join', Load(), lineno=111, col_offset=18), [Name('path', Load(), lineno=111, col_offset=31), Subscript(Name('framework', Load(), lineno=111, col_offset=37), Index(Str('name', lineno=111, col_offset=47)), Load(), lineno=111, col_offset=37)], [], None, None, lineno=111, col_offset=18), lineno=111, col_offset=12), lineno=111, col_offset=12)], [], lineno=110, col_offset=8)], [], lineno=108, col_offset=4), Assign([Name('fallback_library_path', Store(), lineno=113, col_offset=4)], Call(Name('dyld_fallback_library_path', Load(), lineno=113, col_offset=28), [Name('env', Load(), lineno=113, col_offset=55)], [], None, None, lineno=113, col_offset=28), lineno=113, col_offset=4), For(Name('path', Store(), lineno=114, col_offset=8), Name('fallback_library_path', Load(), lineno=114, col_offset=16), [Expr(Yield(Call(Attribute(Attribute(Name('os', Load(), lineno=115, col_offset=14), 'path', Load(), lineno=115, col_offset=14), 'join', Load(), lineno=115, col_offset=14), [Name('path', Load(), lineno=115, col_offset=27), Call(Attribute(Attribute(Name('os', Load(), lineno=115, col_offset=33), 'path', Load(), lineno=115, col_offset=33), 'basename', Load(), lineno=115, col_offset=33), [Name('name', Load(), lineno=115, col_offset=50)], [], None, None, lineno=115, col_offset=33)], [], None, None, lineno=115, col_offset=14), lineno=115, col_offset=8), lineno=115, col_offset=8)], [], lineno=114, col_offset=4), If(BoolOp(And(), [Compare(Name('framework', Load(), lineno=117, col_offset=7), [IsNot()], [Name('None', Load(), lineno=117, col_offset=24)], lineno=117, col_offset=7), UnaryOp(Not(), Name('fallback_framework_path', Load(), lineno=117, col_offset=37), lineno=117, col_offset=33)], lineno=117, col_offset=7), [For(Name('path', Store(), lineno=118, col_offset=12), Name('DEFAULT_FRAMEWORK_FALLBACK', Load(), lineno=118, col_offset=20), [Expr(Yield(Call(Attribute(Attribute(Name('os', Load(), lineno=119, col_offset=18), 'path', Load(), lineno=119, col_offset=18), 'join', Load(), lineno=119, col_offset=18), [Name('path', Load(), lineno=119, col_offset=31), Subscript(Name('framework', Load(), lineno=119, col_offset=37), Index(Str('name', lineno=119, col_offset=47)), Load(), lineno=119, col_offset=37)], [], None, None, lineno=119, col_offset=18), lineno=119, col_offset=12), lineno=119, col_offset=12)], [], lineno=118, col_offset=8)], [], lineno=117, col_offset=4), If(UnaryOp(Not(), Name('fallback_library_path', Load(), lineno=121, col_offset=11), lineno=121, col_offset=7), [For(Name('path', Store(), lineno=122, col_offset=12), Name('DEFAULT_LIBRARY_FALLBACK', Load(), lineno=122, col_offset=20), [Expr(Yield(Call(Attribute(Attribute(Name('os', Load(), lineno=123, col_offset=18), 'path', Load(), lineno=123, col_offset=18), 'join', Load(), lineno=123, col_offset=18), [Name('path', Load(), lineno=123, col_offset=31), Call(Attribute(Attribute(Name('os', Load(), lineno=123, col_offset=37), 'path', Load(), lineno=123, col_offset=37), 'basename', Load(), lineno=123, col_offset=37), [Name('name', Load(), lineno=123, col_offset=54)], [], None, None, lineno=123, col_offset=37)], [], None, None, lineno=123, col_offset=18), lineno=123, col_offset=12), lineno=123, col_offset=12)], [], lineno=122, col_offset=8)], [], lineno=121, col_offset=4)], [], lineno=103, col_offset=0), FunctionDef('dyld_find', arguments([Name('name', Param(), lineno=125, col_offset=14), Name('executable_path', Param(), lineno=125, col_offset=20), Name('env', Param(), lineno=125, col_offset=42)], None, None, [Name('None', Load(), lineno=125, col_offset=36), Name('None', Load(), lineno=125, col_offset=46)]), [Expr(Str('\n    Find a library or framework using dyld semantics\n    ', lineno=128, col_offset=-1), lineno=128, col_offset=-1), Assign([Name('name', Store(), lineno=129, col_offset=4)], Call(Name('ensure_utf8', Load(), lineno=129, col_offset=11), [Name('name', Load(), lineno=129, col_offset=23)], [], None, None, lineno=129, col_offset=11), lineno=129, col_offset=4), Assign([Name('executable_path', Store(), lineno=130, col_offset=4)], Call(Name('ensure_utf8', Load(), lineno=130, col_offset=22), [Name('executable_path', Load(), lineno=130, col_offset=34)], [], None, None, lineno=130, col_offset=22), lineno=130, col_offset=4), For(Name('path', Store(), lineno=131, col_offset=8), Call(Name('dyld_image_suffix_search', Load(), lineno=131, col_offset=16), [Call(Name('chain', Load(), lineno=131, col_offset=41), [Call(Name('dyld_override_search', Load(), lineno=132, col_offset=16), [Name('name', Load(), lineno=132, col_offset=37), Name('env', Load(), lineno=132, col_offset=43)], [], None, None, lineno=132, col_offset=16), Call(Name('dyld_executable_path_search', Load(), lineno=133, col_offset=16), [Name('name', Load(), lineno=133, col_offset=44), Name('executable_path', Load(), lineno=133, col_offset=50)], [], None, None, lineno=133, col_offset=16), Call(Name('dyld_default_search', Load(), lineno=134, col_offset=16), [Name('name', Load(), lineno=134, col_offset=36), Name('env', Load(), lineno=134, col_offset=42)], [], None, None, lineno=134, col_offset=16)], [], None, None, lineno=131, col_offset=41), Name('env', Load(), lineno=135, col_offset=15)], [], None, None, lineno=131, col_offset=16), [If(Call(Attribute(Attribute(Name('os', Load(), lineno=136, col_offset=11), 'path', Load(), lineno=136, col_offset=11), 'isfile', Load(), lineno=136, col_offset=11), [Name('path', Load(), lineno=136, col_offset=26)], [], None, None, lineno=136, col_offset=11), [Return(Name('path', Load(), lineno=137, col_offset=19), lineno=137, col_offset=12)], [], lineno=136, col_offset=8)], [], lineno=131, col_offset=4), Raise(Call(Name('ValueError', Load(), lineno=138, col_offset=10), [BinOp(Str('dylib %s could not be found', lineno=138, col_offset=21), Mod(), Tuple([Name('name', Load(), lineno=138, col_offset=54)], Load(), lineno=138, col_offset=54), lineno=138, col_offset=21)], [], None, None, lineno=138, col_offset=10), None, None, lineno=138, col_offset=4)], [], lineno=125, col_offset=0), FunctionDef('framework_find', arguments([Name('fn', Param(), lineno=140, col_offset=19), Name('executable_path', Param(), lineno=140, col_offset=23), Name('env', Param(), lineno=140, col_offset=45)], None, None, [Name('None', Load(), lineno=140, col_offset=39), Name('None', Load(), lineno=140, col_offset=49)]), [Expr(Str('\n    Find a framework using dyld semantics in a very loose manner.\n\n    Will take input such as:\n        Python\n        Python.framework\n        Python.framework/Versions/Current\n    ', lineno=148, col_offset=-1), lineno=148, col_offset=-1), TryExcept([Return(Call(Name('dyld_find', Load(), lineno=150, col_offset=15), [Name('fn', Load(), lineno=150, col_offset=25)], [keyword('executable_path', Name('executable_path', Load(), lineno=150, col_offset=45)), keyword('env', Name('env', Load(), lineno=150, col_offset=66))], None, None, lineno=150, col_offset=15), lineno=150, col_offset=8)], [ExceptHandler(Name('ValueError', Load(), lineno=151, col_offset=11), Name('e', Store(), lineno=151, col_offset=23), [Pass( lineno=152, col_offset=8)], lineno=151, col_offset=4)], [], lineno=149, col_offset=4), Assign([Name('fmwk_index', Store(), lineno=153, col_offset=4)], Call(Attribute(Name('fn', Load(), lineno=153, col_offset=17), 'rfind', Load(), lineno=153, col_offset=17), [Str('.framework', lineno=153, col_offset=26)], [], None, None, lineno=153, col_offset=17), lineno=153, col_offset=4), If(Compare(Name('fmwk_index', Load(), lineno=154, col_offset=7), [Eq()], [Num(-1, lineno=154, col_offset=22)], lineno=154, col_offset=7), [Assign([Name('fmwk_index', Store(), lineno=155, col_offset=8)], Call(Name('len', Load(), lineno=155, col_offset=21), [Name('fn', Load(), lineno=155, col_offset=25)], [], None, None, lineno=155, col_offset=21), lineno=155, col_offset=8), AugAssign(Name('fn', Store(), lineno=156, col_offset=8), Add(), Str('.framework', lineno=156, col_offset=14), lineno=156, col_offset=8)], [], lineno=154, col_offset=4), Assign([Name('fn', Store(), lineno=157, col_offset=4)], Call(Attribute(Attribute(Name('os', Load(), lineno=157, col_offset=9), 'path', Load(), lineno=157, col_offset=9), 'join', Load(), lineno=157, col_offset=9), [Name('fn', Load(), lineno=157, col_offset=22), Call(Attribute(Attribute(Name('os', Load(), lineno=157, col_offset=26), 'path', Load(), lineno=157, col_offset=26), 'basename', Load(), lineno=157, col_offset=26), [Subscript(Name('fn', Load(), lineno=157, col_offset=43), Slice(None, Name('fmwk_index', Load(), lineno=157, col_offset=47), None), Load(), lineno=157, col_offset=43)], [], None, None, lineno=157, col_offset=26)], [], None, None, lineno=157, col_offset=9), lineno=157, col_offset=4), TryExcept([Return(Call(Name('dyld_find', Load(), lineno=159, col_offset=15), [Name('fn', Load(), lineno=159, col_offset=25)], [keyword('executable_path', Name('executable_path', Load(), lineno=159, col_offset=45)), keyword('env', Name('env', Load(), lineno=159, col_offset=66))], None, None, lineno=159, col_offset=15), lineno=159, col_offset=8)], [ExceptHandler(Name('ValueError', Load(), lineno=160, col_offset=11), None, [Raise(Name('e', Load(), lineno=161, col_offset=14), None, None, lineno=161, col_offset=8)], lineno=160, col_offset=4)], [], lineno=158, col_offset=4)], [], lineno=140, col_offset=0), FunctionDef('test_dyld_find', arguments([], None, None, []), [Assign([Name('env', Store(), lineno=164, col_offset=4)], Dict([], [], lineno=164, col_offset=10), lineno=164, col_offset=4), Assert(Compare(Call(Name('dyld_find', Load(), lineno=165, col_offset=11), [Str('libSystem.dylib', lineno=165, col_offset=21)], [], None, None, lineno=165, col_offset=11), [Eq()], [Str('/usr/lib/libSystem.dylib', lineno=165, col_offset=43)], lineno=165, col_offset=11), None, lineno=165, col_offset=4), Assert(Compare(Call(Name('dyld_find', Load(), lineno=166, col_offset=11), [Str('System.framework/System', lineno=166, col_offset=21)], [], None, None, lineno=166, col_offset=11), [Eq()], [Str('/System/Library/Frameworks/System.framework/System', lineno=166, col_offset=51)], lineno=166, col_offset=11), None, lineno=166, col_offset=4)], [], lineno=163, col_offset=0), If(Compare(Name('__name__', Load(), lineno=168, col_offset=3), [Eq()], [Str('__main__', lineno=168, col_offset=15)], lineno=168, col_offset=3), [Expr(Call(Name('test_dyld_find', Load(), lineno=169, col_offset=4), [], [], None, None, lineno=169, col_offset=4), lineno=169, col_offset=4)], [], lineno=168, col_offset=0)])
