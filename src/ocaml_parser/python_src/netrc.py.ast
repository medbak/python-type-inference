Module([Expr(Str('An object-oriented interface to .netrc files.', lineno=1, col_offset=0), lineno=1, col_offset=0), Import([alias('os', None), alias('shlex', None)], lineno=5, col_offset=0), Assign([Name('__all__', Store(), lineno=7, col_offset=0)], List([Str('netrc', lineno=7, col_offset=11), Str('NetrcParseError', lineno=7, col_offset=20)], Load(), lineno=7, col_offset=10), lineno=7, col_offset=0), ClassDef('NetrcParseError', [Name('Exception', Load(), lineno=10, col_offset=22)], [Expr(Str('Exception raised on syntax errors in the .netrc file.', lineno=11, col_offset=4), lineno=11, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=12, col_offset=17), Name('msg', Param(), lineno=12, col_offset=23), Name('filename', Param(), lineno=12, col_offset=28), Name('lineno', Param(), lineno=12, col_offset=43)], None, None, [Name('None', Load(), lineno=12, col_offset=37), Name('None', Load(), lineno=12, col_offset=50)]), [Assign([Attribute(Name('self', Load(), lineno=13, col_offset=8), 'filename', Store(), lineno=13, col_offset=8)], Name('filename', Load(), lineno=13, col_offset=24), lineno=13, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=14, col_offset=8), 'lineno', Store(), lineno=14, col_offset=8)], Name('lineno', Load(), lineno=14, col_offset=22), lineno=14, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=15, col_offset=8), 'msg', Store(), lineno=15, col_offset=8)], Name('msg', Load(), lineno=15, col_offset=19), lineno=15, col_offset=8), Expr(Call(Attribute(Name('Exception', Load(), lineno=16, col_offset=8), '__init__', Load(), lineno=16, col_offset=8), [Name('self', Load(), lineno=16, col_offset=27), Name('msg', Load(), lineno=16, col_offset=33)], [], None, None, lineno=16, col_offset=8), lineno=16, col_offset=8)], [], lineno=12, col_offset=4), FunctionDef('__str__', arguments([Name('self', Param(), lineno=18, col_offset=16)], None, None, []), [Return(BinOp(Str('%s (%s, line %s)', lineno=19, col_offset=15), Mod(), Tuple([Attribute(Name('self', Load(), lineno=19, col_offset=37), 'msg', Load(), lineno=19, col_offset=37), Attribute(Name('self', Load(), lineno=19, col_offset=47), 'filename', Load(), lineno=19, col_offset=47), Attribute(Name('self', Load(), lineno=19, col_offset=62), 'lineno', Load(), lineno=19, col_offset=62)], Load(), lineno=19, col_offset=37), lineno=19, col_offset=15), lineno=19, col_offset=8)], [], lineno=18, col_offset=4)], [], lineno=10, col_offset=0), ClassDef('netrc', [], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=23, col_offset=17), Name('file', Param(), lineno=23, col_offset=23)], None, None, [Name('None', Load(), lineno=23, col_offset=28)]), [If(Compare(Name('file', Load(), lineno=24, col_offset=11), [Is()], [Name('None', Load(), lineno=24, col_offset=19)], lineno=24, col_offset=11), [TryExcept([Assign([Name('file', Store(), lineno=26, col_offset=16)], Call(Attribute(Attribute(Name('os', Load(), lineno=26, col_offset=23), 'path', Load(), lineno=26, col_offset=23), 'join', Load(), lineno=26, col_offset=23), [Subscript(Attribute(Name('os', Load(), lineno=26, col_offset=36), 'environ', Load(), lineno=26, col_offset=36), Index(Str('HOME', lineno=26, col_offset=47)), Load(), lineno=26, col_offset=36), Str('.netrc', lineno=26, col_offset=56)], [], None, None, lineno=26, col_offset=23), lineno=26, col_offset=16)], [ExceptHandler(Name('KeyError', Load(), lineno=27, col_offset=19), None, [Raise(Call(Name('IOError', Load(), lineno=28, col_offset=22), [Str('Could not find .netrc: $HOME is not set', lineno=28, col_offset=30)], [], None, None, lineno=28, col_offset=22), None, None, lineno=28, col_offset=16)], lineno=27, col_offset=12)], [], lineno=25, col_offset=12)], [], lineno=24, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=29, col_offset=8), 'hosts', Store(), lineno=29, col_offset=8)], Dict([], [], lineno=29, col_offset=21), lineno=29, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=30, col_offset=8), 'macros', Store(), lineno=30, col_offset=8)], Dict([], [], lineno=30, col_offset=22), lineno=30, col_offset=8), With(Call(Name('open', Load(), lineno=31, col_offset=13), [Name('file', Load(), lineno=31, col_offset=18)], [], None, None, lineno=31, col_offset=13), Name('fp', Store(), lineno=31, col_offset=27), [Expr(Call(Attribute(Name('self', Load(), lineno=32, col_offset=12), '_parse', Load(), lineno=32, col_offset=12), [Name('file', Load(), lineno=32, col_offset=24), Name('fp', Load(), lineno=32, col_offset=30)], [], None, None, lineno=32, col_offset=12), lineno=32, col_offset=12)], lineno=31, col_offset=13)], [], lineno=23, col_offset=4), FunctionDef('_parse', arguments([Name('self', Param(), lineno=34, col_offset=15), Name('file', Param(), lineno=34, col_offset=21), Name('fp', Param(), lineno=34, col_offset=27)], None, None, []), [Assign([Name('lexer', Store(), lineno=35, col_offset=8)], Call(Attribute(Name('shlex', Load(), lineno=35, col_offset=16), 'shlex', Load(), lineno=35, col_offset=16), [Name('fp', Load(), lineno=35, col_offset=28)], [], None, None, lineno=35, col_offset=16), lineno=35, col_offset=8), AugAssign(Attribute(Name('lexer', Load(), lineno=36, col_offset=8), 'wordchars', Store(), lineno=36, col_offset=8), Add(), Str('!"#$%&\'()*+,-./:;<=>?@[\\]^_`{|}~', lineno=36, col_offset=27), lineno=36, col_offset=8), While(Num(1, lineno=37, col_offset=14), [Assign([Name('toplevel', Store(), lineno=39, col_offset=12), Name('tt', Store(), lineno=39, col_offset=23)], Call(Attribute(Name('lexer', Load(), lineno=39, col_offset=28), 'get_token', Load(), lineno=39, col_offset=28), [], [], None, None, lineno=39, col_offset=28), lineno=39, col_offset=12), If(UnaryOp(Not(), Name('tt', Load(), lineno=40, col_offset=19), lineno=40, col_offset=15), [Break( lineno=41, col_offset=16)], [If(Compare(Name('tt', Load(), lineno=42, col_offset=17), [Eq()], [Str('machine', lineno=42, col_offset=23)], lineno=42, col_offset=17), [Assign([Name('entryname', Store(), lineno=43, col_offset=16)], Call(Attribute(Name('lexer', Load(), lineno=43, col_offset=28), 'get_token', Load(), lineno=43, col_offset=28), [], [], None, None, lineno=43, col_offset=28), lineno=43, col_offset=16)], [If(Compare(Name('tt', Load(), lineno=44, col_offset=17), [Eq()], [Str('default', lineno=44, col_offset=23)], lineno=44, col_offset=17), [Assign([Name('entryname', Store(), lineno=45, col_offset=16)], Str('default', lineno=45, col_offset=28), lineno=45, col_offset=16)], [If(Compare(Name('tt', Load(), lineno=46, col_offset=17), [Eq()], [Str('macdef', lineno=46, col_offset=23)], lineno=46, col_offset=17), [Assign([Name('entryname', Store(), lineno=47, col_offset=16)], Call(Attribute(Name('lexer', Load(), lineno=47, col_offset=28), 'get_token', Load(), lineno=47, col_offset=28), [], [], None, None, lineno=47, col_offset=28), lineno=47, col_offset=16), Assign([Subscript(Attribute(Name('self', Load(), lineno=48, col_offset=16), 'macros', Load(), lineno=48, col_offset=16), Index(Name('entryname', Load(), lineno=48, col_offset=28)), Store(), lineno=48, col_offset=16)], List([], Load(), lineno=48, col_offset=41), lineno=48, col_offset=16), Assign([Attribute(Name('lexer', Load(), lineno=49, col_offset=16), 'whitespace', Store(), lineno=49, col_offset=16)], Str(' \t', lineno=49, col_offset=35), lineno=49, col_offset=16), While(Num(1, lineno=50, col_offset=22), [Assign([Name('line', Store(), lineno=51, col_offset=20)], Call(Attribute(Attribute(Name('lexer', Load(), lineno=51, col_offset=27), 'instream', Load(), lineno=51, col_offset=27), 'readline', Load(), lineno=51, col_offset=27), [], [], None, None, lineno=51, col_offset=27), lineno=51, col_offset=20), If(BoolOp(Or(), [UnaryOp(Not(), Name('line', Load(), lineno=52, col_offset=27), lineno=52, col_offset=23), Compare(Name('line', Load(), lineno=52, col_offset=35), [Eq()], [Str('\n', lineno=52, col_offset=43)], lineno=52, col_offset=35)], lineno=52, col_offset=23), [Assign([Attribute(Name('lexer', Load(), lineno=53, col_offset=24), 'whitespace', Store(), lineno=53, col_offset=24)], Str(' \t\r\n', lineno=53, col_offset=43), lineno=53, col_offset=24), Break( lineno=54, col_offset=24)], [], lineno=52, col_offset=20), Expr(Call(Attribute(Subscript(Attribute(Name('self', Load(), lineno=55, col_offset=20), 'macros', Load(), lineno=55, col_offset=20), Index(Name('entryname', Load(), lineno=55, col_offset=32)), Load(), lineno=55, col_offset=20), 'append', Load(), lineno=55, col_offset=20), [Name('line', Load(), lineno=55, col_offset=50)], [], None, None, lineno=55, col_offset=20), lineno=55, col_offset=20)], [], lineno=50, col_offset=16), Continue( lineno=56, col_offset=16)], [Raise(Call(Name('NetrcParseError', Load(), lineno=58, col_offset=22), [BinOp(Str('bad toplevel token %r', lineno=59, col_offset=20), Mod(), Name('tt', Load(), lineno=59, col_offset=46), lineno=59, col_offset=20), Name('file', Load(), lineno=59, col_offset=50), Attribute(Name('lexer', Load(), lineno=59, col_offset=56), 'lineno', Load(), lineno=59, col_offset=56)], [], None, None, lineno=58, col_offset=22), None, None, lineno=58, col_offset=16)], lineno=46, col_offset=17)], lineno=44, col_offset=17)], lineno=42, col_offset=17)], lineno=40, col_offset=12), Assign([Name('login', Store(), lineno=62, col_offset=12)], Str('', lineno=62, col_offset=20), lineno=62, col_offset=12), Assign([Name('account', Store(), lineno=63, col_offset=12), Name('password', Store(), lineno=63, col_offset=22)], Name('None', Load(), lineno=63, col_offset=33), lineno=63, col_offset=12), Assign([Subscript(Attribute(Name('self', Load(), lineno=64, col_offset=12), 'hosts', Load(), lineno=64, col_offset=12), Index(Name('entryname', Load(), lineno=64, col_offset=23)), Store(), lineno=64, col_offset=12)], Dict([], [], lineno=64, col_offset=36), lineno=64, col_offset=12), While(Num(1, lineno=65, col_offset=18), [Assign([Name('tt', Store(), lineno=66, col_offset=16)], Call(Attribute(Name('lexer', Load(), lineno=66, col_offset=21), 'get_token', Load(), lineno=66, col_offset=21), [], [], None, None, lineno=66, col_offset=21), lineno=66, col_offset=16), If(BoolOp(Or(), [Compare(Name('tt', Load(), lineno=67, col_offset=20), [Eq()], [Str('', lineno=67, col_offset=24)], lineno=67, col_offset=20), Compare(Name('tt', Load(), lineno=67, col_offset=30), [Eq()], [Str('machine', lineno=67, col_offset=36)], lineno=67, col_offset=30), Compare(Name('tt', Load(), lineno=68, col_offset=20), [Eq()], [Str('default', lineno=68, col_offset=26)], lineno=68, col_offset=20), Compare(Name('tt', Load(), lineno=68, col_offset=39), [Eq()], [Str('macdef', lineno=68, col_offset=44)], lineno=68, col_offset=39)], lineno=67, col_offset=20), [If(Name('password', Load(), lineno=69, col_offset=23), [Assign([Subscript(Attribute(Name('self', Load(), lineno=70, col_offset=24), 'hosts', Load(), lineno=70, col_offset=24), Index(Name('entryname', Load(), lineno=70, col_offset=35)), Store(), lineno=70, col_offset=24)], Tuple([Name('login', Load(), lineno=70, col_offset=49), Name('account', Load(), lineno=70, col_offset=56), Name('password', Load(), lineno=70, col_offset=65)], Load(), lineno=70, col_offset=49), lineno=70, col_offset=24), Expr(Call(Attribute(Name('lexer', Load(), lineno=71, col_offset=24), 'push_token', Load(), lineno=71, col_offset=24), [Name('tt', Load(), lineno=71, col_offset=41)], [], None, None, lineno=71, col_offset=24), lineno=71, col_offset=24), Break( lineno=72, col_offset=24)], [Raise(Call(Name('NetrcParseError', Load(), lineno=74, col_offset=30), [BinOp(Str('malformed %s entry %s terminated by %s', lineno=75, col_offset=28), Mod(), Tuple([Name('toplevel', Load(), lineno=76, col_offset=31), Name('entryname', Load(), lineno=76, col_offset=41), Call(Name('repr', Load(), lineno=76, col_offset=52), [Name('tt', Load(), lineno=76, col_offset=57)], [], None, None, lineno=76, col_offset=52)], Load(), lineno=76, col_offset=31), lineno=75, col_offset=28), Name('file', Load(), lineno=77, col_offset=28), Attribute(Name('lexer', Load(), lineno=77, col_offset=34), 'lineno', Load(), lineno=77, col_offset=34)], [], None, None, lineno=74, col_offset=30), None, None, lineno=74, col_offset=24)], lineno=69, col_offset=20)], [If(BoolOp(Or(), [Compare(Name('tt', Load(), lineno=78, col_offset=21), [Eq()], [Str('login', lineno=78, col_offset=27)], lineno=78, col_offset=21), Compare(Name('tt', Load(), lineno=78, col_offset=38), [Eq()], [Str('user', lineno=78, col_offset=44)], lineno=78, col_offset=38)], lineno=78, col_offset=21), [Assign([Name('login', Store(), lineno=79, col_offset=20)], Call(Attribute(Name('lexer', Load(), lineno=79, col_offset=28), 'get_token', Load(), lineno=79, col_offset=28), [], [], None, None, lineno=79, col_offset=28), lineno=79, col_offset=20)], [If(Compare(Name('tt', Load(), lineno=80, col_offset=21), [Eq()], [Str('account', lineno=80, col_offset=27)], lineno=80, col_offset=21), [Assign([Name('account', Store(), lineno=81, col_offset=20)], Call(Attribute(Name('lexer', Load(), lineno=81, col_offset=30), 'get_token', Load(), lineno=81, col_offset=30), [], [], None, None, lineno=81, col_offset=30), lineno=81, col_offset=20)], [If(Compare(Name('tt', Load(), lineno=82, col_offset=21), [Eq()], [Str('password', lineno=82, col_offset=27)], lineno=82, col_offset=21), [Assign([Name('password', Store(), lineno=83, col_offset=20)], Call(Attribute(Name('lexer', Load(), lineno=83, col_offset=31), 'get_token', Load(), lineno=83, col_offset=31), [], [], None, None, lineno=83, col_offset=31), lineno=83, col_offset=20)], [Raise(Call(Name('NetrcParseError', Load(), lineno=85, col_offset=26), [BinOp(Str('bad follower token %r', lineno=85, col_offset=42), Mod(), Name('tt', Load(), lineno=85, col_offset=68), lineno=85, col_offset=42), Name('file', Load(), lineno=86, col_offset=42), Attribute(Name('lexer', Load(), lineno=86, col_offset=48), 'lineno', Load(), lineno=86, col_offset=48)], [], None, None, lineno=85, col_offset=26), None, None, lineno=85, col_offset=20)], lineno=82, col_offset=21)], lineno=80, col_offset=21)], lineno=78, col_offset=21)], lineno=67, col_offset=16)], [], lineno=65, col_offset=12)], [], lineno=37, col_offset=8)], [], lineno=34, col_offset=4), FunctionDef('authenticators', arguments([Name('self', Param(), lineno=88, col_offset=23), Name('host', Param(), lineno=88, col_offset=29)], None, None, []), [Expr(Str('Return a (user, account, password) tuple for given host.', lineno=89, col_offset=8), lineno=89, col_offset=8), If(Compare(Name('host', Load(), lineno=90, col_offset=11), [In()], [Attribute(Name('self', Load(), lineno=90, col_offset=19), 'hosts', Load(), lineno=90, col_offset=19)], lineno=90, col_offset=11), [Return(Subscript(Attribute(Name('self', Load(), lineno=91, col_offset=19), 'hosts', Load(), lineno=91, col_offset=19), Index(Name('host', Load(), lineno=91, col_offset=30)), Load(), lineno=91, col_offset=19), lineno=91, col_offset=12)], [If(Compare(Str('default', lineno=92, col_offset=13), [In()], [Attribute(Name('self', Load(), lineno=92, col_offset=26), 'hosts', Load(), lineno=92, col_offset=26)], lineno=92, col_offset=13), [Return(Subscript(Attribute(Name('self', Load(), lineno=93, col_offset=19), 'hosts', Load(), lineno=93, col_offset=19), Index(Str('default', lineno=93, col_offset=30)), Load(), lineno=93, col_offset=19), lineno=93, col_offset=12)], [Return(Name('None', Load(), lineno=95, col_offset=19), lineno=95, col_offset=12)], lineno=92, col_offset=13)], lineno=90, col_offset=8)], [], lineno=88, col_offset=4), FunctionDef('__repr__', arguments([Name('self', Param(), lineno=97, col_offset=17)], None, None, []), [Expr(Str('Dump the class data in the format of a .netrc file.', lineno=98, col_offset=8), lineno=98, col_offset=8), Assign([Name('rep', Store(), lineno=99, col_offset=8)], Str('', lineno=99, col_offset=14), lineno=99, col_offset=8), For(Name('host', Store(), lineno=100, col_offset=12), Call(Attribute(Attribute(Name('self', Load(), lineno=100, col_offset=20), 'hosts', Load(), lineno=100, col_offset=20), 'keys', Load(), lineno=100, col_offset=20), [], [], None, None, lineno=100, col_offset=20), [Assign([Name('attrs', Store(), lineno=101, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=101, col_offset=20), 'hosts', Load(), lineno=101, col_offset=20), Index(Name('host', Load(), lineno=101, col_offset=31)), Load(), lineno=101, col_offset=20), lineno=101, col_offset=12), Assign([Name('rep', Store(), lineno=102, col_offset=12)], BinOp(BinOp(BinOp(BinOp(BinOp(Name('rep', Load(), lineno=102, col_offset=18), Add(), Str('machine ', lineno=102, col_offset=24), lineno=102, col_offset=18), Add(), Name('host', Load(), lineno=102, col_offset=36), lineno=102, col_offset=34), Add(), Str('\n\tlogin ', lineno=102, col_offset=43), lineno=102, col_offset=41), Add(), Call(Name('repr', Load(), lineno=102, col_offset=58), [Subscript(Name('attrs', Load(), lineno=102, col_offset=63), Index(Num(0, lineno=102, col_offset=69)), Load(), lineno=102, col_offset=63)], [], None, None, lineno=102, col_offset=58), lineno=102, col_offset=56), Add(), Str('\n', lineno=102, col_offset=75), lineno=102, col_offset=73), lineno=102, col_offset=12), If(Subscript(Name('attrs', Load(), lineno=103, col_offset=15), Index(Num(1, lineno=103, col_offset=21)), Load(), lineno=103, col_offset=15), [Assign([Name('rep', Store(), lineno=104, col_offset=16)], BinOp(BinOp(Name('rep', Load(), lineno=104, col_offset=22), Add(), Str('account ', lineno=104, col_offset=28), lineno=104, col_offset=22), Add(), Call(Name('repr', Load(), lineno=104, col_offset=41), [Subscript(Name('attrs', Load(), lineno=104, col_offset=46), Index(Num(1, lineno=104, col_offset=52)), Load(), lineno=104, col_offset=46)], [], None, None, lineno=104, col_offset=41), lineno=104, col_offset=39), lineno=104, col_offset=16)], [], lineno=103, col_offset=12), Assign([Name('rep', Store(), lineno=105, col_offset=12)], BinOp(BinOp(BinOp(Name('rep', Load(), lineno=105, col_offset=18), Add(), Str('\tpassword ', lineno=105, col_offset=24), lineno=105, col_offset=18), Add(), Call(Name('repr', Load(), lineno=105, col_offset=40), [Subscript(Name('attrs', Load(), lineno=105, col_offset=45), Index(Num(2, lineno=105, col_offset=51)), Load(), lineno=105, col_offset=45)], [], None, None, lineno=105, col_offset=40), lineno=105, col_offset=38), Add(), Str('\n', lineno=105, col_offset=57), lineno=105, col_offset=55), lineno=105, col_offset=12)], [], lineno=100, col_offset=8), For(Name('macro', Store(), lineno=106, col_offset=12), Call(Attribute(Attribute(Name('self', Load(), lineno=106, col_offset=21), 'macros', Load(), lineno=106, col_offset=21), 'keys', Load(), lineno=106, col_offset=21), [], [], None, None, lineno=106, col_offset=21), [Assign([Name('rep', Store(), lineno=107, col_offset=12)], BinOp(BinOp(BinOp(Name('rep', Load(), lineno=107, col_offset=18), Add(), Str('macdef ', lineno=107, col_offset=24), lineno=107, col_offset=18), Add(), Name('macro', Load(), lineno=107, col_offset=36), lineno=107, col_offset=34), Add(), Str('\n', lineno=107, col_offset=44), lineno=107, col_offset=42), lineno=107, col_offset=12), For(Name('line', Store(), lineno=108, col_offset=16), Subscript(Attribute(Name('self', Load(), lineno=108, col_offset=24), 'macros', Load(), lineno=108, col_offset=24), Index(Name('macro', Load(), lineno=108, col_offset=36)), Load(), lineno=108, col_offset=24), [Assign([Name('rep', Store(), lineno=109, col_offset=16)], BinOp(Name('rep', Load(), lineno=109, col_offset=22), Add(), Name('line', Load(), lineno=109, col_offset=28), lineno=109, col_offset=22), lineno=109, col_offset=16)], [], lineno=108, col_offset=12), Assign([Name('rep', Store(), lineno=110, col_offset=12)], BinOp(Name('rep', Load(), lineno=110, col_offset=18), Add(), Str('\n', lineno=110, col_offset=24), lineno=110, col_offset=18), lineno=110, col_offset=12)], [], lineno=106, col_offset=8), Return(Name('rep', Load(), lineno=111, col_offset=15), lineno=111, col_offset=8)], [], lineno=97, col_offset=4)], [], lineno=22, col_offset=0), If(Compare(Name('__name__', Load(), lineno=113, col_offset=3), [Eq()], [Str('__main__', lineno=113, col_offset=15)], lineno=113, col_offset=3), [Print(None, [Call(Name('netrc', Load(), lineno=114, col_offset=10), [], [], None, None, lineno=114, col_offset=10)], True, lineno=114, col_offset=4)], [], lineno=113, col_offset=0)])
