Module([Expr(Str('Test script for the grp module.', lineno=1, col_offset=0), lineno=1, col_offset=0), Import([alias('unittest', None)], lineno=3, col_offset=0), ImportFrom('test', [alias('test_support', None)], 0, lineno=4, col_offset=0), Assign([Name('grp', Store(), lineno=6, col_offset=0)], Call(Attribute(Name('test_support', Load(), lineno=6, col_offset=6), 'import_module', Load(), lineno=6, col_offset=6), [Str('grp', lineno=6, col_offset=33)], [], None, None, lineno=6, col_offset=6), lineno=6, col_offset=0), ClassDef('GroupDatabaseTestCase', [Attribute(Name('unittest', Load(), lineno=8, col_offset=28), 'TestCase', Load(), lineno=8, col_offset=28)], [FunctionDef('check_value', arguments([Name('self', Param(), lineno=10, col_offset=20), Name('value', Param(), lineno=10, col_offset=26)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=13, col_offset=8), 'assertEqual', Load(), lineno=13, col_offset=8), [Call(Name('len', Load(), lineno=13, col_offset=25), [Name('value', Load(), lineno=13, col_offset=29)], [], None, None, lineno=13, col_offset=25), Num(4, lineno=13, col_offset=37)], [], None, None, lineno=13, col_offset=8), lineno=13, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=14, col_offset=8), 'assertEqual', Load(), lineno=14, col_offset=8), [Subscript(Name('value', Load(), lineno=14, col_offset=25), Index(Num(0, lineno=14, col_offset=31)), Load(), lineno=14, col_offset=25), Attribute(Name('value', Load(), lineno=14, col_offset=35), 'gr_name', Load(), lineno=14, col_offset=35)], [], None, None, lineno=14, col_offset=8), lineno=14, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=15, col_offset=8), 'assertIsInstance', Load(), lineno=15, col_offset=8), [Attribute(Name('value', Load(), lineno=15, col_offset=30), 'gr_name', Load(), lineno=15, col_offset=30), Name('basestring', Load(), lineno=15, col_offset=45)], [], None, None, lineno=15, col_offset=8), lineno=15, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=16, col_offset=8), 'assertEqual', Load(), lineno=16, col_offset=8), [Subscript(Name('value', Load(), lineno=16, col_offset=25), Index(Num(1, lineno=16, col_offset=31)), Load(), lineno=16, col_offset=25), Attribute(Name('value', Load(), lineno=16, col_offset=35), 'gr_passwd', Load(), lineno=16, col_offset=35)], [], None, None, lineno=16, col_offset=8), lineno=16, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=17, col_offset=8), 'assertIsInstance', Load(), lineno=17, col_offset=8), [Attribute(Name('value', Load(), lineno=17, col_offset=30), 'gr_passwd', Load(), lineno=17, col_offset=30), Name('basestring', Load(), lineno=17, col_offset=47)], [], None, None, lineno=17, col_offset=8), lineno=17, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=18, col_offset=8), 'assertEqual', Load(), lineno=18, col_offset=8), [Subscript(Name('value', Load(), lineno=18, col_offset=25), Index(Num(2, lineno=18, col_offset=31)), Load(), lineno=18, col_offset=25), Attribute(Name('value', Load(), lineno=18, col_offset=35), 'gr_gid', Load(), lineno=18, col_offset=35)], [], None, None, lineno=18, col_offset=8), lineno=18, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=19, col_offset=8), 'assertIsInstance', Load(), lineno=19, col_offset=8), [Attribute(Name('value', Load(), lineno=19, col_offset=30), 'gr_gid', Load(), lineno=19, col_offset=30), Name('int', Load(), lineno=19, col_offset=44)], [], None, None, lineno=19, col_offset=8), lineno=19, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=20, col_offset=8), 'assertEqual', Load(), lineno=20, col_offset=8), [Subscript(Name('value', Load(), lineno=20, col_offset=25), Index(Num(3, lineno=20, col_offset=31)), Load(), lineno=20, col_offset=25), Attribute(Name('value', Load(), lineno=20, col_offset=35), 'gr_mem', Load(), lineno=20, col_offset=35)], [], None, None, lineno=20, col_offset=8), lineno=20, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=21, col_offset=8), 'assertIsInstance', Load(), lineno=21, col_offset=8), [Attribute(Name('value', Load(), lineno=21, col_offset=30), 'gr_mem', Load(), lineno=21, col_offset=30), Name('list', Load(), lineno=21, col_offset=44)], [], None, None, lineno=21, col_offset=8), lineno=21, col_offset=8)], [], lineno=10, col_offset=4), FunctionDef('test_values', arguments([Name('self', Param(), lineno=23, col_offset=20)], None, None, []), [Assign([Name('entries', Store(), lineno=24, col_offset=8)], Call(Attribute(Name('grp', Load(), lineno=24, col_offset=18), 'getgrall', Load(), lineno=24, col_offset=18), [], [], None, None, lineno=24, col_offset=18), lineno=24, col_offset=8), For(Name('e', Store(), lineno=26, col_offset=12), Name('entries', Load(), lineno=26, col_offset=17), [Expr(Call(Attribute(Name('self', Load(), lineno=27, col_offset=12), 'check_value', Load(), lineno=27, col_offset=12), [Name('e', Load(), lineno=27, col_offset=29)], [], None, None, lineno=27, col_offset=12), lineno=27, col_offset=12)], [], lineno=26, col_offset=8), If(Compare(Call(Name('len', Load(), lineno=29, col_offset=11), [Name('entries', Load(), lineno=29, col_offset=15)], [], None, None, lineno=29, col_offset=11), [Gt()], [Num(1000, lineno=29, col_offset=26)], lineno=29, col_offset=11), [Return(None, lineno=30, col_offset=12)], [], lineno=29, col_offset=8), For(Name('e', Store(), lineno=32, col_offset=12), Name('entries', Load(), lineno=32, col_offset=17), [Assign([Name('e2', Store(), lineno=33, col_offset=12)], Call(Attribute(Name('grp', Load(), lineno=33, col_offset=17), 'getgrgid', Load(), lineno=33, col_offset=17), [Attribute(Name('e', Load(), lineno=33, col_offset=30), 'gr_gid', Load(), lineno=33, col_offset=30)], [], None, None, lineno=33, col_offset=17), lineno=33, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=34, col_offset=12), 'check_value', Load(), lineno=34, col_offset=12), [Name('e2', Load(), lineno=34, col_offset=29)], [], None, None, lineno=34, col_offset=12), lineno=34, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=35, col_offset=12), 'assertEqual', Load(), lineno=35, col_offset=12), [Attribute(Name('e2', Load(), lineno=35, col_offset=29), 'gr_gid', Load(), lineno=35, col_offset=29), Attribute(Name('e', Load(), lineno=35, col_offset=40), 'gr_gid', Load(), lineno=35, col_offset=40)], [], None, None, lineno=35, col_offset=12), lineno=35, col_offset=12), Assign([Name('e2', Store(), lineno=36, col_offset=12)], Call(Attribute(Name('grp', Load(), lineno=36, col_offset=17), 'getgrnam', Load(), lineno=36, col_offset=17), [Attribute(Name('e', Load(), lineno=36, col_offset=30), 'gr_name', Load(), lineno=36, col_offset=30)], [], None, None, lineno=36, col_offset=17), lineno=36, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=37, col_offset=12), 'check_value', Load(), lineno=37, col_offset=12), [Name('e2', Load(), lineno=37, col_offset=29)], [], None, None, lineno=37, col_offset=12), lineno=37, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=41, col_offset=12), 'assertEqual', Load(), lineno=41, col_offset=12), [Call(Attribute(Attribute(Name('e2', Load(), lineno=41, col_offset=29), 'gr_name', Load(), lineno=41, col_offset=29), 'lower', Load(), lineno=41, col_offset=29), [], [], None, None, lineno=41, col_offset=29), Call(Attribute(Attribute(Name('e', Load(), lineno=41, col_offset=49), 'gr_name', Load(), lineno=41, col_offset=49), 'lower', Load(), lineno=41, col_offset=49), [], [], None, None, lineno=41, col_offset=49)], [], None, None, lineno=41, col_offset=12), lineno=41, col_offset=12)], [], lineno=32, col_offset=8)], [], lineno=23, col_offset=4), FunctionDef('test_errors', arguments([Name('self', Param(), lineno=43, col_offset=20)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=44, col_offset=8), 'assertRaises', Load(), lineno=44, col_offset=8), [Name('TypeError', Load(), lineno=44, col_offset=26), Attribute(Name('grp', Load(), lineno=44, col_offset=37), 'getgrgid', Load(), lineno=44, col_offset=37)], [], None, None, lineno=44, col_offset=8), lineno=44, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=45, col_offset=8), 'assertRaises', Load(), lineno=45, col_offset=8), [Name('TypeError', Load(), lineno=45, col_offset=26), Attribute(Name('grp', Load(), lineno=45, col_offset=37), 'getgrnam', Load(), lineno=45, col_offset=37)], [], None, None, lineno=45, col_offset=8), lineno=45, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=46, col_offset=8), 'assertRaises', Load(), lineno=46, col_offset=8), [Name('TypeError', Load(), lineno=46, col_offset=26), Attribute(Name('grp', Load(), lineno=46, col_offset=37), 'getgrall', Load(), lineno=46, col_offset=37), Num(42, lineno=46, col_offset=51)], [], None, None, lineno=46, col_offset=8), lineno=46, col_offset=8), Assign([Name('bynames', Store(), lineno=49, col_offset=8)], Dict([], [], lineno=49, col_offset=18), lineno=49, col_offset=8), Assign([Name('bygids', Store(), lineno=50, col_offset=8)], Dict([], [], lineno=50, col_offset=17), lineno=50, col_offset=8), For(Tuple([Name('n', Store(), lineno=51, col_offset=13), Name('p', Store(), lineno=51, col_offset=16), Name('g', Store(), lineno=51, col_offset=19), Name('mem', Store(), lineno=51, col_offset=22)], Store(), lineno=51, col_offset=13), Call(Attribute(Name('grp', Load(), lineno=51, col_offset=30), 'getgrall', Load(), lineno=51, col_offset=30), [], [], None, None, lineno=51, col_offset=30), [If(BoolOp(Or(), [UnaryOp(Not(), Name('n', Load(), lineno=52, col_offset=19), lineno=52, col_offset=15), Compare(Name('n', Load(), lineno=52, col_offset=24), [Eq()], [Str('+', lineno=52, col_offset=29)], lineno=52, col_offset=24)], lineno=52, col_offset=15), [Continue( lineno=53, col_offset=16)], [], lineno=52, col_offset=12), Assign([Subscript(Name('bynames', Load(), lineno=54, col_offset=12), Index(Name('n', Load(), lineno=54, col_offset=20)), Store(), lineno=54, col_offset=12)], Name('g', Load(), lineno=54, col_offset=25), lineno=54, col_offset=12), Assign([Subscript(Name('bygids', Load(), lineno=55, col_offset=12), Index(Name('g', Load(), lineno=55, col_offset=19)), Store(), lineno=55, col_offset=12)], Name('n', Load(), lineno=55, col_offset=24), lineno=55, col_offset=12)], [], lineno=51, col_offset=8), Assign([Name('allnames', Store(), lineno=57, col_offset=8)], Call(Attribute(Name('bynames', Load(), lineno=57, col_offset=19), 'keys', Load(), lineno=57, col_offset=19), [], [], None, None, lineno=57, col_offset=19), lineno=57, col_offset=8), Assign([Name('namei', Store(), lineno=58, col_offset=8)], Num(0, lineno=58, col_offset=16), lineno=58, col_offset=8), Assign([Name('fakename', Store(), lineno=59, col_offset=8)], Subscript(Name('allnames', Load(), lineno=59, col_offset=19), Index(Name('namei', Load(), lineno=59, col_offset=28)), Load(), lineno=59, col_offset=19), lineno=59, col_offset=8), While(Compare(Name('fakename', Load(), lineno=60, col_offset=14), [In()], [Name('bynames', Load(), lineno=60, col_offset=26)], lineno=60, col_offset=14), [Assign([Name('chars', Store(), lineno=61, col_offset=12)], Call(Name('list', Load(), lineno=61, col_offset=20), [Name('fakename', Load(), lineno=61, col_offset=25)], [], None, None, lineno=61, col_offset=20), lineno=61, col_offset=12), For(Name('i', Store(), lineno=62, col_offset=16), Call(Name('xrange', Load(), lineno=62, col_offset=21), [Call(Name('len', Load(), lineno=62, col_offset=28), [Name('chars', Load(), lineno=62, col_offset=32)], [], None, None, lineno=62, col_offset=28)], [], None, None, lineno=62, col_offset=21), [If(Compare(Subscript(Name('chars', Load(), lineno=63, col_offset=19), Index(Name('i', Load(), lineno=63, col_offset=25)), Load(), lineno=63, col_offset=19), [Eq()], [Str('z', lineno=63, col_offset=31)], lineno=63, col_offset=19), [Assign([Subscript(Name('chars', Load(), lineno=64, col_offset=20), Index(Name('i', Load(), lineno=64, col_offset=26)), Store(), lineno=64, col_offset=20)], Str('A', lineno=64, col_offset=31), lineno=64, col_offset=20), Break( lineno=65, col_offset=20)], [If(Compare(Subscript(Name('chars', Load(), lineno=66, col_offset=21), Index(Name('i', Load(), lineno=66, col_offset=27)), Load(), lineno=66, col_offset=21), [Eq()], [Str('Z', lineno=66, col_offset=33)], lineno=66, col_offset=21), [Continue( lineno=67, col_offset=20)], [Assign([Subscript(Name('chars', Load(), lineno=69, col_offset=20), Index(Name('i', Load(), lineno=69, col_offset=26)), Store(), lineno=69, col_offset=20)], Call(Name('chr', Load(), lineno=69, col_offset=31), [BinOp(Call(Name('ord', Load(), lineno=69, col_offset=35), [Subscript(Name('chars', Load(), lineno=69, col_offset=39), Index(Name('i', Load(), lineno=69, col_offset=45)), Load(), lineno=69, col_offset=39)], [], None, None, lineno=69, col_offset=35), Add(), Num(1, lineno=69, col_offset=51), lineno=69, col_offset=35)], [], None, None, lineno=69, col_offset=31), lineno=69, col_offset=20), Break( lineno=70, col_offset=20)], lineno=66, col_offset=21)], lineno=63, col_offset=16)], [Assign([Name('namei', Store(), lineno=72, col_offset=16)], BinOp(Name('namei', Load(), lineno=72, col_offset=24), Add(), Num(1, lineno=72, col_offset=32), lineno=72, col_offset=24), lineno=72, col_offset=16), TryExcept([Assign([Name('fakename', Store(), lineno=74, col_offset=20)], Subscript(Name('allnames', Load(), lineno=74, col_offset=31), Index(Name('namei', Load(), lineno=74, col_offset=40)), Load(), lineno=74, col_offset=31), lineno=74, col_offset=20)], [ExceptHandler(Name('IndexError', Load(), lineno=75, col_offset=23), None, [Break( lineno=77, col_offset=20)], lineno=75, col_offset=16)], [], lineno=73, col_offset=16)], lineno=62, col_offset=12), Assign([Name('fakename', Store(), lineno=78, col_offset=12)], Call(Attribute(Str('', lineno=78, col_offset=23), 'join', Load(), lineno=78, col_offset=23), [Name('chars', Load(), lineno=78, col_offset=31)], [], None, None, lineno=78, col_offset=23), lineno=78, col_offset=12)], [], lineno=60, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=80, col_offset=8), 'assertRaises', Load(), lineno=80, col_offset=8), [Name('KeyError', Load(), lineno=80, col_offset=26), Attribute(Name('grp', Load(), lineno=80, col_offset=36), 'getgrnam', Load(), lineno=80, col_offset=36), Name('fakename', Load(), lineno=80, col_offset=50)], [], None, None, lineno=80, col_offset=8), lineno=80, col_offset=8), Assign([Name('fakegid', Store(), lineno=83, col_offset=8)], Num(4127, lineno=83, col_offset=18), lineno=83, col_offset=8), While(Compare(Name('fakegid', Load(), lineno=84, col_offset=14), [In()], [Name('bygids', Load(), lineno=84, col_offset=25)], lineno=84, col_offset=14), [Assign([Name('fakegid', Store(), lineno=85, col_offset=12)], BinOp(BinOp(Name('fakegid', Load(), lineno=85, col_offset=23), Mult(), Num(3, lineno=85, col_offset=33), lineno=85, col_offset=23), Mod(), Num(65536, lineno=85, col_offset=38), lineno=85, col_offset=22), lineno=85, col_offset=12)], [], lineno=84, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=87, col_offset=8), 'assertRaises', Load(), lineno=87, col_offset=8), [Name('KeyError', Load(), lineno=87, col_offset=26), Attribute(Name('grp', Load(), lineno=87, col_offset=36), 'getgrgid', Load(), lineno=87, col_offset=36), Name('fakegid', Load(), lineno=87, col_offset=50)], [], None, None, lineno=87, col_offset=8), lineno=87, col_offset=8)], [], lineno=43, col_offset=4)], [], lineno=8, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Attribute(Name('test_support', Load(), lineno=90, col_offset=4), 'run_unittest', Load(), lineno=90, col_offset=4), [Name('GroupDatabaseTestCase', Load(), lineno=90, col_offset=30)], [], None, None, lineno=90, col_offset=4), lineno=90, col_offset=4)], [], lineno=89, col_offset=0), If(Compare(Name('__name__', Load(), lineno=92, col_offset=3), [Eq()], [Str('__main__', lineno=92, col_offset=15)], lineno=92, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=93, col_offset=4), [], [], None, None, lineno=93, col_offset=4), lineno=93, col_offset=4)], [], lineno=92, col_offset=0)])
