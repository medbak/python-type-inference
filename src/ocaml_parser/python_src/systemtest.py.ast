Module([Import([alias('os', None)], lineno=19, col_offset=0), Import([alias('sys', None)], lineno=20, col_offset=0), ImportFrom('stat', [alias('*', None)], 0, lineno=21, col_offset=0), FunctionDef('main', arguments([], None, None, []), [TryExcept([Assign([Name('dummy', Store(), lineno=26, col_offset=8)], Attribute(Name('os', Load(), lineno=26, col_offset=16), 'readlink', Load(), lineno=26, col_offset=16), lineno=26, col_offset=8)], [ExceptHandler(Name('AttributeError', Load(), lineno=27, col_offset=11), None, [Print(None, [Str("This system doesn't have symbolic links", lineno=28, col_offset=14)], True, lineno=28, col_offset=8), Expr(Call(Attribute(Name('sys', Load(), lineno=29, col_offset=8), 'exit', Load(), lineno=29, col_offset=8), [Num(0, lineno=29, col_offset=17)], [], None, None, lineno=29, col_offset=8), lineno=29, col_offset=8)], lineno=27, col_offset=4)], [], lineno=24, col_offset=4), If(Subscript(Attribute(Name('sys', Load(), lineno=30, col_offset=7), 'argv', Load(), lineno=30, col_offset=7), Slice(Num(1, lineno=30, col_offset=16), None, None), Load(), lineno=30, col_offset=7), [Assign([Name('prefix', Store(), lineno=31, col_offset=8)], Subscript(Attribute(Name('sys', Load(), lineno=31, col_offset=17), 'argv', Load(), lineno=31, col_offset=17), Index(Num(1, lineno=31, col_offset=26)), Load(), lineno=31, col_offset=17), lineno=31, col_offset=8)], [Assign([Name('prefix', Store(), lineno=33, col_offset=8)], Str('', lineno=33, col_offset=17), lineno=33, col_offset=8)], lineno=30, col_offset=4), If(Name('prefix', Load(), lineno=34, col_offset=7), [Expr(Call(Attribute(Name('os', Load(), lineno=35, col_offset=8), 'chdir', Load(), lineno=35, col_offset=8), [Name('prefix', Load(), lineno=35, col_offset=17)], [], None, None, lineno=35, col_offset=8), lineno=35, col_offset=8), If(Compare(Subscript(Name('prefix', Load(), lineno=36, col_offset=11), Slice(Num(-1, lineno=36, col_offset=19), None, None), Load(), lineno=36, col_offset=11), [NotEq()], [Str('/', lineno=36, col_offset=26)], lineno=36, col_offset=11), [Assign([Name('prefix', Store(), lineno=36, col_offset=31)], BinOp(Name('prefix', Load(), lineno=36, col_offset=40), Add(), Str('/', lineno=36, col_offset=49), lineno=36, col_offset=40), lineno=36, col_offset=31)], [], lineno=36, col_offset=8), Expr(Call(Name('reportboguslinks', Load(), lineno=37, col_offset=8), [Name('prefix', Load(), lineno=37, col_offset=25)], [], None, None, lineno=37, col_offset=8), lineno=37, col_offset=8)], [Expr(Call(Name('reportboguslinks', Load(), lineno=39, col_offset=8), [Str('', lineno=39, col_offset=25)], [], None, None, lineno=39, col_offset=8), lineno=39, col_offset=8)], lineno=34, col_offset=4)], [], lineno=23, col_offset=0), FunctionDef('reportboguslinks', arguments([Name('prefix', Param(), lineno=41, col_offset=21)], None, None, []), [TryExcept([Assign([Name('names', Store(), lineno=43, col_offset=8)], Call(Attribute(Name('os', Load(), lineno=43, col_offset=16), 'listdir', Load(), lineno=43, col_offset=16), [Str('.', lineno=43, col_offset=27)], [], None, None, lineno=43, col_offset=16), lineno=43, col_offset=8)], [ExceptHandler(Attribute(Name('os', Load(), lineno=44, col_offset=11), 'error', Load(), lineno=44, col_offset=11), Name('msg', Store(), lineno=44, col_offset=21), [Print(None, [BinOp(Str("%s%s: can't list: %s", lineno=45, col_offset=14), Mod(), Tuple([Name('prefix', Load(), lineno=45, col_offset=40), Str('.', lineno=45, col_offset=48), Name('msg', Load(), lineno=45, col_offset=53)], Load(), lineno=45, col_offset=40), lineno=45, col_offset=14)], True, lineno=45, col_offset=8), Return(None, lineno=46, col_offset=8)], lineno=44, col_offset=4)], [], lineno=42, col_offset=4), Expr(Call(Attribute(Name('names', Load(), lineno=47, col_offset=4), 'sort', Load(), lineno=47, col_offset=4), [], [], None, None, lineno=47, col_offset=4), lineno=47, col_offset=4), For(Name('name', Store(), lineno=48, col_offset=8), Name('names', Load(), lineno=48, col_offset=16), [If(BoolOp(Or(), [Compare(Name('name', Load(), lineno=49, col_offset=11), [Eq()], [Attribute(Name('os', Load(), lineno=49, col_offset=19), 'curdir', Load(), lineno=49, col_offset=19)], lineno=49, col_offset=11), Compare(Name('name', Load(), lineno=49, col_offset=32), [Eq()], [Attribute(Name('os', Load(), lineno=49, col_offset=40), 'pardir', Load(), lineno=49, col_offset=40)], lineno=49, col_offset=32)], lineno=49, col_offset=11), [Continue( lineno=50, col_offset=12)], [], lineno=49, col_offset=8), TryExcept([Assign([Name('mode', Store(), lineno=52, col_offset=12)], Subscript(Call(Attribute(Name('os', Load(), lineno=52, col_offset=19), 'lstat', Load(), lineno=52, col_offset=19), [Name('name', Load(), lineno=52, col_offset=28)], [], None, None, lineno=52, col_offset=19), Index(Name('ST_MODE', Load(), lineno=52, col_offset=34)), Load(), lineno=52, col_offset=19), lineno=52, col_offset=12)], [ExceptHandler(Attribute(Name('os', Load(), lineno=53, col_offset=15), 'error', Load(), lineno=53, col_offset=15), None, [Print(None, [BinOp(Str("%s%s: can't stat: %s", lineno=54, col_offset=18), Mod(), Tuple([Name('prefix', Load(), lineno=54, col_offset=44), Name('name', Load(), lineno=54, col_offset=52), Name('msg', Load(), lineno=54, col_offset=58)], Load(), lineno=54, col_offset=44), lineno=54, col_offset=18)], True, lineno=54, col_offset=12), Continue( lineno=55, col_offset=12)], lineno=53, col_offset=8)], [], lineno=51, col_offset=8), If(Call(Name('S_ISLNK', Load(), lineno=56, col_offset=11), [Name('mode', Load(), lineno=56, col_offset=19)], [], None, None, lineno=56, col_offset=11), [TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=58, col_offset=16), 'stat', Load(), lineno=58, col_offset=16), [Name('name', Load(), lineno=58, col_offset=24)], [], None, None, lineno=58, col_offset=16), lineno=58, col_offset=16)], [ExceptHandler(Attribute(Name('os', Load(), lineno=59, col_offset=19), 'error', Load(), lineno=59, col_offset=19), None, [Print(None, [BinOp(Str('%s%s -> %s', lineno=60, col_offset=22), Mod(), Tuple([Name('prefix', Load(), lineno=61, col_offset=23), Name('name', Load(), lineno=61, col_offset=31), Call(Attribute(Name('os', Load(), lineno=61, col_offset=37), 'readlink', Load(), lineno=61, col_offset=37), [Name('name', Load(), lineno=61, col_offset=49)], [], None, None, lineno=61, col_offset=37)], Load(), lineno=61, col_offset=23), lineno=60, col_offset=22)], True, lineno=60, col_offset=16)], lineno=59, col_offset=12)], [], lineno=57, col_offset=12)], [If(Call(Name('S_ISDIR', Load(), lineno=62, col_offset=13), [Name('mode', Load(), lineno=62, col_offset=21)], [], None, None, lineno=62, col_offset=13), [TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=64, col_offset=16), 'chdir', Load(), lineno=64, col_offset=16), [Name('name', Load(), lineno=64, col_offset=25)], [], None, None, lineno=64, col_offset=16), lineno=64, col_offset=16)], [ExceptHandler(Attribute(Name('os', Load(), lineno=65, col_offset=19), 'error', Load(), lineno=65, col_offset=19), Name('msg', Store(), lineno=65, col_offset=29), [Print(None, [BinOp(Str("%s%s: can't chdir: %s", lineno=66, col_offset=22), Mod(), Tuple([Name('prefix', Load(), lineno=67, col_offset=23), Name('name', Load(), lineno=67, col_offset=31), Name('msg', Load(), lineno=67, col_offset=37)], Load(), lineno=67, col_offset=23), lineno=66, col_offset=22)], True, lineno=66, col_offset=16), Continue( lineno=68, col_offset=16)], lineno=65, col_offset=12)], [], lineno=63, col_offset=12), TryFinally([Expr(Call(Name('reportboguslinks', Load(), lineno=70, col_offset=16), [BinOp(BinOp(Name('prefix', Load(), lineno=70, col_offset=33), Add(), Name('name', Load(), lineno=70, col_offset=42), lineno=70, col_offset=33), Add(), Str('/', lineno=70, col_offset=49), lineno=70, col_offset=47)], [], None, None, lineno=70, col_offset=16), lineno=70, col_offset=16)], [Expr(Call(Attribute(Name('os', Load(), lineno=72, col_offset=16), 'chdir', Load(), lineno=72, col_offset=16), [Str('..', lineno=72, col_offset=25)], [], None, None, lineno=72, col_offset=16), lineno=72, col_offset=16)], lineno=69, col_offset=12)], [], lineno=62, col_offset=13)], lineno=56, col_offset=8)], [], lineno=48, col_offset=4)], [], lineno=41, col_offset=0), Expr(Call(Name('main', Load(), lineno=74, col_offset=0), [], [], None, None, lineno=74, col_offset=0), lineno=74, col_offset=0)])
