Module([Import([alias('unittest', None)], lineno=1, col_offset=0), ImportFrom('ctypes', [alias('*', None)], 0, lineno=2, col_offset=0), Import([alias('_ctypes_test', None)], lineno=4, col_offset=0), Assign([Name('lib', Store(), lineno=6, col_offset=0)], Call(Name('CDLL', Load(), lineno=6, col_offset=6), [Attribute(Name('_ctypes_test', Load(), lineno=6, col_offset=11), '__file__', Load(), lineno=6, col_offset=11)], [], None, None, lineno=6, col_offset=6), lineno=6, col_offset=0), ClassDef('StringPtrTestCase', [Attribute(Name('unittest', Load(), lineno=8, col_offset=24), 'TestCase', Load(), lineno=8, col_offset=24)], [FunctionDef('test__POINTER_c_char', arguments([Name('self', Param(), lineno=10, col_offset=29)], None, None, []), [ClassDef('X', [Name('Structure', Load(), lineno=11, col_offset=16)], [Assign([Name('_fields_', Store(), lineno=12, col_offset=12)], List([Tuple([Str('str', lineno=12, col_offset=25), Call(Name('POINTER', Load(), lineno=12, col_offset=32), [Name('c_char', Load(), lineno=12, col_offset=40)], [], None, None, lineno=12, col_offset=32)], Load(), lineno=12, col_offset=25)], Load(), lineno=12, col_offset=23), lineno=12, col_offset=12)], [], lineno=11, col_offset=8), Assign([Name('x', Store(), lineno=13, col_offset=8)], Call(Name('X', Load(), lineno=13, col_offset=12), [], [], None, None, lineno=13, col_offset=12), lineno=13, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=16, col_offset=8), 'assertRaises', Load(), lineno=16, col_offset=8), [Name('ValueError', Load(), lineno=16, col_offset=26), Name('getattr', Load(), lineno=16, col_offset=38), Attribute(Name('x', Load(), lineno=16, col_offset=47), 'str', Load(), lineno=16, col_offset=47), Str('contents', lineno=16, col_offset=54)], [], None, None, lineno=16, col_offset=8), lineno=16, col_offset=8), Assign([Name('b', Store(), lineno=17, col_offset=8)], Call(Name('c_buffer', Load(), lineno=17, col_offset=12), [Str('Hello, World', lineno=17, col_offset=21)], [], None, None, lineno=17, col_offset=12), lineno=17, col_offset=8), ImportFrom('sys', [alias('getrefcount', 'grc')], 0, lineno=18, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=19, col_offset=8), 'assertEqual', Load(), lineno=19, col_offset=8), [Call(Name('grc', Load(), lineno=19, col_offset=25), [Name('b', Load(), lineno=19, col_offset=29)], [], None, None, lineno=19, col_offset=25), Num(2, lineno=19, col_offset=33)], [], None, None, lineno=19, col_offset=8), lineno=19, col_offset=8), Assign([Attribute(Name('x', Load(), lineno=20, col_offset=8), 'str', Store(), lineno=20, col_offset=8)], Name('b', Load(), lineno=20, col_offset=16), lineno=20, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=21, col_offset=8), 'assertEqual', Load(), lineno=21, col_offset=8), [Call(Name('grc', Load(), lineno=21, col_offset=25), [Name('b', Load(), lineno=21, col_offset=29)], [], None, None, lineno=21, col_offset=25), Num(3, lineno=21, col_offset=33)], [], None, None, lineno=21, col_offset=8), lineno=21, col_offset=8), For(Name('i', Store(), lineno=25, col_offset=12), Call(Name('range', Load(), lineno=25, col_offset=17), [Call(Name('len', Load(), lineno=25, col_offset=23), [Name('b', Load(), lineno=25, col_offset=27)], [], None, None, lineno=25, col_offset=23)], [], None, None, lineno=25, col_offset=17), [Expr(Call(Attribute(Name('self', Load(), lineno=26, col_offset=12), 'assertEqual', Load(), lineno=26, col_offset=12), [Subscript(Name('b', Load(), lineno=26, col_offset=29), Index(Name('i', Load(), lineno=26, col_offset=31)), Load(), lineno=26, col_offset=29), Subscript(Attribute(Name('x', Load(), lineno=26, col_offset=35), 'str', Load(), lineno=26, col_offset=35), Index(Name('i', Load(), lineno=26, col_offset=41)), Load(), lineno=26, col_offset=35)], [], None, None, lineno=26, col_offset=12), lineno=26, col_offset=12)], [], lineno=25, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=28, col_offset=8), 'assertRaises', Load(), lineno=28, col_offset=8), [Name('TypeError', Load(), lineno=28, col_offset=26), Name('setattr', Load(), lineno=28, col_offset=37), Name('x', Load(), lineno=28, col_offset=46), Str('str', lineno=28, col_offset=49), Str('Hello, World', lineno=28, col_offset=56)], [], None, None, lineno=28, col_offset=8), lineno=28, col_offset=8)], [], lineno=10, col_offset=4), FunctionDef('test__c_char_p', arguments([Name('self', Param(), lineno=30, col_offset=23)], None, None, []), [ClassDef('X', [Name('Structure', Load(), lineno=31, col_offset=16)], [Assign([Name('_fields_', Store(), lineno=32, col_offset=12)], List([Tuple([Str('str', lineno=32, col_offset=25), Name('c_char_p', Load(), lineno=32, col_offset=32)], Load(), lineno=32, col_offset=25)], Load(), lineno=32, col_offset=23), lineno=32, col_offset=12)], [], lineno=31, col_offset=8), Assign([Name('x', Store(), lineno=33, col_offset=8)], Call(Name('X', Load(), lineno=33, col_offset=12), [], [], None, None, lineno=33, col_offset=12), lineno=33, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=37, col_offset=8), 'assertEqual', Load(), lineno=37, col_offset=8), [Attribute(Name('x', Load(), lineno=37, col_offset=25), 'str', Load(), lineno=37, col_offset=25), Name('None', Load(), lineno=37, col_offset=32)], [], None, None, lineno=37, col_offset=8), lineno=37, col_offset=8), Assign([Attribute(Name('x', Load(), lineno=38, col_offset=8), 'str', Store(), lineno=38, col_offset=8)], Str('Hello, World', lineno=38, col_offset=16), lineno=38, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=39, col_offset=8), 'assertEqual', Load(), lineno=39, col_offset=8), [Attribute(Name('x', Load(), lineno=39, col_offset=25), 'str', Load(), lineno=39, col_offset=25), Str('Hello, World', lineno=39, col_offset=32)], [], None, None, lineno=39, col_offset=8), lineno=39, col_offset=8), Assign([Name('b', Store(), lineno=40, col_offset=8)], Call(Name('c_buffer', Load(), lineno=40, col_offset=12), [Str('Hello, World', lineno=40, col_offset=21)], [], None, None, lineno=40, col_offset=12), lineno=40, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=41, col_offset=8), 'assertRaises', Load(), lineno=41, col_offset=8), [Name('TypeError', Load(), lineno=41, col_offset=26), Name('setattr', Load(), lineno=41, col_offset=37), Name('x', Load(), lineno=41, col_offset=46), Str('str', lineno=41, col_offset=49), Name('b', Load(), lineno=41, col_offset=56)], [], None, None, lineno=41, col_offset=8), lineno=41, col_offset=8)], [], lineno=30, col_offset=4), FunctionDef('test_functions', arguments([Name('self', Param(), lineno=44, col_offset=23)], None, None, []), [Assign([Name('strchr', Store(), lineno=45, col_offset=8)], Attribute(Name('lib', Load(), lineno=45, col_offset=17), 'my_strchr', Load(), lineno=45, col_offset=17), lineno=45, col_offset=8), Assign([Attribute(Name('strchr', Load(), lineno=46, col_offset=8), 'restype', Store(), lineno=46, col_offset=8)], Name('c_char_p', Load(), lineno=46, col_offset=25), lineno=46, col_offset=8), Assign([Attribute(Name('strchr', Load(), lineno=50, col_offset=8), 'argtypes', Store(), lineno=50, col_offset=8)], Tuple([Name('c_char_p', Load(), lineno=50, col_offset=26), Name('c_char', Load(), lineno=50, col_offset=36)], Load(), lineno=50, col_offset=26), lineno=50, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=51, col_offset=8), 'assertEqual', Load(), lineno=51, col_offset=8), [Call(Name('strchr', Load(), lineno=51, col_offset=25), [Str('abcdef', lineno=51, col_offset=32), Str('c', lineno=51, col_offset=42)], [], None, None, lineno=51, col_offset=25), Str('cdef', lineno=51, col_offset=48)], [], None, None, lineno=51, col_offset=8), lineno=51, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=52, col_offset=8), 'assertEqual', Load(), lineno=52, col_offset=8), [Call(Name('strchr', Load(), lineno=52, col_offset=25), [Call(Name('c_buffer', Load(), lineno=52, col_offset=32), [Str('abcdef', lineno=52, col_offset=41)], [], None, None, lineno=52, col_offset=32), Str('c', lineno=52, col_offset=52)], [], None, None, lineno=52, col_offset=25), Str('cdef', lineno=52, col_offset=58)], [], None, None, lineno=52, col_offset=8), lineno=52, col_offset=8), Assign([Attribute(Name('strchr', Load(), lineno=56, col_offset=8), 'argtypes', Store(), lineno=56, col_offset=8)], Tuple([Call(Name('POINTER', Load(), lineno=56, col_offset=26), [Name('c_char', Load(), lineno=56, col_offset=34)], [], None, None, lineno=56, col_offset=26), Name('c_char', Load(), lineno=56, col_offset=43)], Load(), lineno=56, col_offset=26), lineno=56, col_offset=8), Assign([Name('buf', Store(), lineno=57, col_offset=8)], Call(Name('c_buffer', Load(), lineno=57, col_offset=14), [Str('abcdef', lineno=57, col_offset=23)], [], None, None, lineno=57, col_offset=14), lineno=57, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=58, col_offset=8), 'assertEqual', Load(), lineno=58, col_offset=8), [Call(Name('strchr', Load(), lineno=58, col_offset=25), [Name('buf', Load(), lineno=58, col_offset=32), Str('c', lineno=58, col_offset=37)], [], None, None, lineno=58, col_offset=25), Str('cdef', lineno=58, col_offset=43)], [], None, None, lineno=58, col_offset=8), lineno=58, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=59, col_offset=8), 'assertEqual', Load(), lineno=59, col_offset=8), [Call(Name('strchr', Load(), lineno=59, col_offset=25), [Str('abcdef', lineno=59, col_offset=32), Str('c', lineno=59, col_offset=42)], [], None, None, lineno=59, col_offset=25), Str('cdef', lineno=59, col_offset=48)], [], None, None, lineno=59, col_offset=8), lineno=59, col_offset=8), Assign([Attribute(Name('strchr', Load(), lineno=65, col_offset=8), 'restype', Store(), lineno=65, col_offset=8)], Call(Name('POINTER', Load(), lineno=65, col_offset=25), [Name('c_char', Load(), lineno=65, col_offset=33)], [], None, None, lineno=65, col_offset=25), lineno=65, col_offset=8), Assign([Name('buf', Store(), lineno=66, col_offset=8)], Call(Name('c_buffer', Load(), lineno=66, col_offset=14), [Str('abcdef', lineno=66, col_offset=23)], [], None, None, lineno=66, col_offset=14), lineno=66, col_offset=8), Assign([Name('r', Store(), lineno=67, col_offset=8)], Call(Name('strchr', Load(), lineno=67, col_offset=12), [Name('buf', Load(), lineno=67, col_offset=19), Str('c', lineno=67, col_offset=24)], [], None, None, lineno=67, col_offset=12), lineno=67, col_offset=8), Assign([Name('x', Store(), lineno=68, col_offset=8)], Tuple([Subscript(Name('r', Load(), lineno=68, col_offset=12), Index(Num(0, lineno=68, col_offset=14)), Load(), lineno=68, col_offset=12), Subscript(Name('r', Load(), lineno=68, col_offset=18), Index(Num(1, lineno=68, col_offset=20)), Load(), lineno=68, col_offset=18), Subscript(Name('r', Load(), lineno=68, col_offset=24), Index(Num(2, lineno=68, col_offset=26)), Load(), lineno=68, col_offset=24), Subscript(Name('r', Load(), lineno=68, col_offset=30), Index(Num(3, lineno=68, col_offset=32)), Load(), lineno=68, col_offset=30), Subscript(Name('r', Load(), lineno=68, col_offset=36), Index(Num(4, lineno=68, col_offset=38)), Load(), lineno=68, col_offset=36)], Load(), lineno=68, col_offset=12), lineno=68, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=69, col_offset=8), 'assertEqual', Load(), lineno=69, col_offset=8), [Name('x', Load(), lineno=69, col_offset=25), Tuple([Str('c', lineno=69, col_offset=29), Str('d', lineno=69, col_offset=34), Str('e', lineno=69, col_offset=39), Str('f', lineno=69, col_offset=44), Str('\x00', lineno=69, col_offset=49)], Load(), lineno=69, col_offset=29)], [], None, None, lineno=69, col_offset=8), lineno=69, col_offset=8), Delete([Name('buf', Del(), lineno=70, col_offset=12)], lineno=70, col_offset=8), Assign([Name('x1', Store(), lineno=72, col_offset=8)], Tuple([Subscript(Name('r', Load(), lineno=72, col_offset=13), Index(Num(0, lineno=72, col_offset=15)), Load(), lineno=72, col_offset=13), Subscript(Name('r', Load(), lineno=72, col_offset=19), Index(Num(1, lineno=72, col_offset=21)), Load(), lineno=72, col_offset=19), Subscript(Name('r', Load(), lineno=72, col_offset=25), Index(Num(2, lineno=72, col_offset=27)), Load(), lineno=72, col_offset=25), Subscript(Name('r', Load(), lineno=72, col_offset=31), Index(Num(3, lineno=72, col_offset=33)), Load(), lineno=72, col_offset=31), Subscript(Name('r', Load(), lineno=72, col_offset=37), Index(Num(4, lineno=72, col_offset=39)), Load(), lineno=72, col_offset=37)], Load(), lineno=72, col_offset=13), lineno=72, col_offset=8)], [], lineno=44, col_offset=4)], [], lineno=8, col_offset=0), If(Compare(Name('__name__', Load(), lineno=74, col_offset=3), [Eq()], [Str('__main__', lineno=74, col_offset=15)], lineno=74, col_offset=3), [Expr(Call(Attribute(Name('unittest', Load(), lineno=75, col_offset=4), 'main', Load(), lineno=75, col_offset=4), [], [], None, None, lineno=75, col_offset=4), lineno=75, col_offset=4)], [], lineno=74, col_offset=0)])
