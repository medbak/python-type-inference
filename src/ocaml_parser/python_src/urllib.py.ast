Module([Expr(Str('Open an arbitrary URL.\n\nSee the following document for more info on URLs:\n"Names and Addresses, URIs, URLs, URNs, URCs", at\nhttp://www.w3.org/pub/WWW/Addressing/Overview.html\n\nSee also the HTTP spec (from which the error codes are derived):\n"HTTP - Hypertext Transfer Protocol", at\nhttp://www.w3.org/pub/WWW/Protocols/\n\nRelated standards and specs:\n- RFC1808: the "relative URL" spec. (authoritative status)\n- RFC1738 - the "URL standard". (authoritative status)\n- RFC1630 - the "URI spec". (informational status)\n\nThe object returned by URLopener().open(file) will differ per\nprotocol.  All you know is that is has methods read(), readline(),\nreadlines(), fileno(), close() and info().  The read*(), fileno()\nand close() methods work like those of open files.\nThe info() method returns a mimetools.Message object which can be\nused to query various info about the object, if available.\n(mimetools.Message objects are queried with the getheader() method.)\n', lineno=23, col_offset=-1), lineno=23, col_offset=-1), Import([alias('string', None)], lineno=25, col_offset=0), Import([alias('socket', None)], lineno=26, col_offset=0), Import([alias('os', None)], lineno=27, col_offset=0), Import([alias('time', None)], lineno=28, col_offset=0), Import([alias('sys', None)], lineno=29, col_offset=0), ImportFrom('urlparse', [alias('urljoin', 'basejoin')], 0, lineno=30, col_offset=0), Assign([Name('__all__', Store(), lineno=32, col_offset=0)], List([Str('urlopen', lineno=32, col_offset=11), Str('URLopener', lineno=32, col_offset=22), Str('FancyURLopener', lineno=32, col_offset=35), Str('urlretrieve', lineno=32, col_offset=53), Str('urlcleanup', lineno=33, col_offset=11), Str('quote', lineno=33, col_offset=25), Str('quote_plus', lineno=33, col_offset=34), Str('unquote', lineno=33, col_offset=48), Str('unquote_plus', lineno=33, col_offset=59), Str('urlencode', lineno=34, col_offset=11), Str('url2pathname', lineno=34, col_offset=24), Str('pathname2url', lineno=34, col_offset=40), Str('splittag', lineno=34, col_offset=56), Str('localhost', lineno=35, col_offset=11), Str('thishost', lineno=35, col_offset=24), Str('ftperrors', lineno=35, col_offset=36), Str('basejoin', lineno=35, col_offset=49), Str('unwrap', lineno=35, col_offset=61), Str('splittype', lineno=36, col_offset=11), Str('splithost', lineno=36, col_offset=24), Str('splituser', lineno=36, col_offset=37), Str('splitpasswd', lineno=36, col_offset=50), Str('splitport', lineno=36, col_offset=65), Str('splitnport', lineno=37, col_offset=11), Str('splitquery', lineno=37, col_offset=25), Str('splitattr', lineno=37, col_offset=39), Str('splitvalue', lineno=37, col_offset=52), Str('getproxies', lineno=38, col_offset=11)], Load(), lineno=32, col_offset=10), lineno=32, col_offset=0), Assign([Name('__version__', Store(), lineno=40, col_offset=0)], Str('1.17', lineno=40, col_offset=14), lineno=40, col_offset=0), Assign([Name('MAXFTPCACHE', Store(), lineno=42, col_offset=0)], Num(10, lineno=42, col_offset=14), lineno=42, col_offset=0), If(Compare(Attribute(Name('os', Load(), lineno=45, col_offset=3), 'name', Load(), lineno=45, col_offset=3), [Eq()], [Str('nt', lineno=45, col_offset=14)], lineno=45, col_offset=3), [ImportFrom('nturl2path', [alias('url2pathname', None), alias('pathname2url', None)], 0, lineno=46, col_offset=4)], [If(Compare(Attribute(Name('os', Load(), lineno=47, col_offset=5), 'name', Load(), lineno=47, col_offset=5), [Eq()], [Str('riscos', lineno=47, col_offset=16)], lineno=47, col_offset=5), [ImportFrom('rourl2path', [alias('url2pathname', None), alias('pathname2url', None)], 0, lineno=48, col_offset=4)], [FunctionDef('url2pathname', arguments([Name('pathname', Param(), lineno=50, col_offset=21)], None, None, []), [Expr(Str("OS-specific conversion from a relative URL of the 'file' scheme\n        to a file system path; not recommended for general use.", lineno=52, col_offset=-1), lineno=52, col_offset=-1), Return(Call(Name('unquote', Load(), lineno=53, col_offset=15), [Name('pathname', Load(), lineno=53, col_offset=23)], [], None, None, lineno=53, col_offset=15), lineno=53, col_offset=8)], [], lineno=50, col_offset=4), FunctionDef('pathname2url', arguments([Name('pathname', Param(), lineno=55, col_offset=21)], None, None, []), [Expr(Str("OS-specific conversion from a file system path to a relative URL\n        of the 'file' scheme; not recommended for general use.", lineno=57, col_offset=-1), lineno=57, col_offset=-1), Return(Call(Name('quote', Load(), lineno=58, col_offset=15), [Name('pathname', Load(), lineno=58, col_offset=21)], [], None, None, lineno=58, col_offset=15), lineno=58, col_offset=8)], [], lineno=55, col_offset=4)], lineno=47, col_offset=5)], lineno=45, col_offset=0), Assign([Name('_urlopener', Store(), lineno=68, col_offset=0)], Name('None', Load(), lineno=68, col_offset=13), lineno=68, col_offset=0), FunctionDef('urlopen', arguments([Name('url', Param(), lineno=69, col_offset=12), Name('data', Param(), lineno=69, col_offset=17), Name('proxies', Param(), lineno=69, col_offset=28)], None, None, [Name('None', Load(), lineno=69, col_offset=22), Name('None', Load(), lineno=69, col_offset=36)]), [Expr(Str('Create a file-like object for the specified URL to read from.', lineno=70, col_offset=4), lineno=70, col_offset=4), ImportFrom('warnings', [alias('warnpy3k', None)], 0, lineno=71, col_offset=4), Expr(Call(Name('warnpy3k', Load(), lineno=72, col_offset=4), [Str('urllib.urlopen() has been removed in Python 3.0 in favor of urllib2.urlopen()', lineno=72, col_offset=13)], [keyword('stacklevel', Num(2, lineno=73, col_offset=54))], None, None, lineno=72, col_offset=4), lineno=72, col_offset=4), Global(['_urlopener'], lineno=75, col_offset=4), If(Compare(Name('proxies', Load(), lineno=76, col_offset=7), [IsNot()], [Name('None', Load(), lineno=76, col_offset=22)], lineno=76, col_offset=7), [Assign([Name('opener', Store(), lineno=77, col_offset=8)], Call(Name('FancyURLopener', Load(), lineno=77, col_offset=17), [], [keyword('proxies', Name('proxies', Load(), lineno=77, col_offset=40))], None, None, lineno=77, col_offset=17), lineno=77, col_offset=8)], [If(UnaryOp(Not(), Name('_urlopener', Load(), lineno=78, col_offset=13), lineno=78, col_offset=9), [Assign([Name('opener', Store(), lineno=79, col_offset=8)], Call(Name('FancyURLopener', Load(), lineno=79, col_offset=17), [], [], None, None, lineno=79, col_offset=17), lineno=79, col_offset=8), Assign([Name('_urlopener', Store(), lineno=80, col_offset=8)], Name('opener', Load(), lineno=80, col_offset=21), lineno=80, col_offset=8)], [Assign([Name('opener', Store(), lineno=82, col_offset=8)], Name('_urlopener', Load(), lineno=82, col_offset=17), lineno=82, col_offset=8)], lineno=78, col_offset=9)], lineno=76, col_offset=4), If(Compare(Name('data', Load(), lineno=83, col_offset=7), [Is()], [Name('None', Load(), lineno=83, col_offset=15)], lineno=83, col_offset=7), [Return(Call(Attribute(Name('opener', Load(), lineno=84, col_offset=15), 'open', Load(), lineno=84, col_offset=15), [Name('url', Load(), lineno=84, col_offset=27)], [], None, None, lineno=84, col_offset=15), lineno=84, col_offset=8)], [Return(Call(Attribute(Name('opener', Load(), lineno=86, col_offset=15), 'open', Load(), lineno=86, col_offset=15), [Name('url', Load(), lineno=86, col_offset=27), Name('data', Load(), lineno=86, col_offset=32)], [], None, None, lineno=86, col_offset=15), lineno=86, col_offset=8)], lineno=83, col_offset=4)], [], lineno=69, col_offset=0), FunctionDef('urlretrieve', arguments([Name('url', Param(), lineno=87, col_offset=16), Name('filename', Param(), lineno=87, col_offset=21), Name('reporthook', Param(), lineno=87, col_offset=36), Name('data', Param(), lineno=87, col_offset=53)], None, None, [Name('None', Load(), lineno=87, col_offset=30), Name('None', Load(), lineno=87, col_offset=47), Name('None', Load(), lineno=87, col_offset=58)]), [Global(['_urlopener'], lineno=88, col_offset=4), If(UnaryOp(Not(), Name('_urlopener', Load(), lineno=89, col_offset=11), lineno=89, col_offset=7), [Assign([Name('_urlopener', Store(), lineno=90, col_offset=8)], Call(Name('FancyURLopener', Load(), lineno=90, col_offset=21), [], [], None, None, lineno=90, col_offset=21), lineno=90, col_offset=8)], [], lineno=89, col_offset=4), Return(Call(Attribute(Name('_urlopener', Load(), lineno=91, col_offset=11), 'retrieve', Load(), lineno=91, col_offset=11), [Name('url', Load(), lineno=91, col_offset=31), Name('filename', Load(), lineno=91, col_offset=36), Name('reporthook', Load(), lineno=91, col_offset=46), Name('data', Load(), lineno=91, col_offset=58)], [], None, None, lineno=91, col_offset=11), lineno=91, col_offset=4)], [], lineno=87, col_offset=0), FunctionDef('urlcleanup', arguments([], None, None, []), [If(Name('_urlopener', Load(), lineno=93, col_offset=7), [Expr(Call(Attribute(Name('_urlopener', Load(), lineno=94, col_offset=8), 'cleanup', Load(), lineno=94, col_offset=8), [], [], None, None, lineno=94, col_offset=8), lineno=94, col_offset=8)], [], lineno=93, col_offset=4), Expr(Call(Attribute(Name('_safe_quoters', Load(), lineno=95, col_offset=4), 'clear', Load(), lineno=95, col_offset=4), [], [], None, None, lineno=95, col_offset=4), lineno=95, col_offset=4), Expr(Call(Attribute(Name('ftpcache', Load(), lineno=96, col_offset=4), 'clear', Load(), lineno=96, col_offset=4), [], [], None, None, lineno=96, col_offset=4), lineno=96, col_offset=4)], [], lineno=92, col_offset=0), TryExcept([Import([alias('ssl', None)], lineno=100, col_offset=4)], [ExceptHandler(None, None, [Assign([Name('_have_ssl', Store(), lineno=102, col_offset=4)], Name('False', Load(), lineno=102, col_offset=16), lineno=102, col_offset=4)], lineno=101, col_offset=0)], [Assign([Name('_have_ssl', Store(), lineno=104, col_offset=4)], Name('True', Load(), lineno=104, col_offset=16), lineno=104, col_offset=4)], lineno=99, col_offset=0), ClassDef('ContentTooShortError', [Name('IOError', Load(), lineno=107, col_offset=27)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=108, col_offset=17), Name('message', Param(), lineno=108, col_offset=23), Name('content', Param(), lineno=108, col_offset=32)], None, None, []), [Expr(Call(Attribute(Name('IOError', Load(), lineno=109, col_offset=8), '__init__', Load(), lineno=109, col_offset=8), [Name('self', Load(), lineno=109, col_offset=25), Name('message', Load(), lineno=109, col_offset=31)], [], None, None, lineno=109, col_offset=8), lineno=109, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=110, col_offset=8), 'content', Store(), lineno=110, col_offset=8)], Name('content', Load(), lineno=110, col_offset=23), lineno=110, col_offset=8)], [], lineno=108, col_offset=4)], [], lineno=107, col_offset=0), Assign([Name('ftpcache', Store(), lineno=112, col_offset=0)], Dict([], [], lineno=112, col_offset=11), lineno=112, col_offset=0), ClassDef('URLopener', [], [Expr(Str("Class to open URLs.\n    This is a class rather than just a subroutine because we may need\n    more than one set of global protocol-specific options.\n    Note -- this is a base class for those who don't want the\n    automatic handling of errors type 302 (relocated) and 401\n    (authorization needed).", lineno=119, col_offset=-1), lineno=119, col_offset=-1), Assign([Name('__tempfiles', Store(), lineno=121, col_offset=4)], Name('None', Load(), lineno=121, col_offset=18), lineno=121, col_offset=4), Assign([Name('version', Store(), lineno=123, col_offset=4)], BinOp(Str('Python-urllib/%s', lineno=123, col_offset=14), Mod(), Name('__version__', Load(), lineno=123, col_offset=35), lineno=123, col_offset=14), lineno=123, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=126, col_offset=17), Name('proxies', Param(), lineno=126, col_offset=23)], None, 'x509', [Name('None', Load(), lineno=126, col_offset=31)]), [If(Compare(Name('proxies', Load(), lineno=127, col_offset=11), [Is()], [Name('None', Load(), lineno=127, col_offset=22)], lineno=127, col_offset=11), [Assign([Name('proxies', Store(), lineno=128, col_offset=12)], Call(Name('getproxies', Load(), lineno=128, col_offset=22), [], [], None, None, lineno=128, col_offset=22), lineno=128, col_offset=12)], [], lineno=127, col_offset=8), Assert(Call(Name('hasattr', Load(), lineno=129, col_offset=15), [Name('proxies', Load(), lineno=129, col_offset=23), Str('has_key', lineno=129, col_offset=32)], [], None, None, lineno=129, col_offset=15), Str('proxies must be a mapping', lineno=129, col_offset=44), lineno=129, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=130, col_offset=8), 'proxies', Store(), lineno=130, col_offset=8)], Name('proxies', Load(), lineno=130, col_offset=23), lineno=130, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=131, col_offset=8), 'key_file', Store(), lineno=131, col_offset=8)], Call(Attribute(Name('x509', Load(), lineno=131, col_offset=24), 'get', Load(), lineno=131, col_offset=24), [Str('key_file', lineno=131, col_offset=33)], [], None, None, lineno=131, col_offset=24), lineno=131, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=132, col_offset=8), 'cert_file', Store(), lineno=132, col_offset=8)], Call(Attribute(Name('x509', Load(), lineno=132, col_offset=25), 'get', Load(), lineno=132, col_offset=25), [Str('cert_file', lineno=132, col_offset=34)], [], None, None, lineno=132, col_offset=25), lineno=132, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=133, col_offset=8), 'addheaders', Store(), lineno=133, col_offset=8)], List([Tuple([Str('User-Agent', lineno=133, col_offset=28), Attribute(Name('self', Load(), lineno=133, col_offset=42), 'version', Load(), lineno=133, col_offset=42)], Load(), lineno=133, col_offset=28)], Load(), lineno=133, col_offset=26), lineno=133, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=134, col_offset=8), '__tempfiles', Store(), lineno=134, col_offset=8)], List([], Load(), lineno=134, col_offset=27), lineno=134, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=135, col_offset=8), '__unlink', Store(), lineno=135, col_offset=8)], Attribute(Name('os', Load(), lineno=135, col_offset=24), 'unlink', Load(), lineno=135, col_offset=24), lineno=135, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=136, col_offset=8), 'tempcache', Store(), lineno=136, col_offset=8)], Name('None', Load(), lineno=136, col_offset=25), lineno=136, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=143, col_offset=8), 'ftpcache', Store(), lineno=143, col_offset=8)], Name('ftpcache', Load(), lineno=143, col_offset=24), lineno=143, col_offset=8)], [], lineno=126, col_offset=4), FunctionDef('__del__', arguments([Name('self', Param(), lineno=149, col_offset=16)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=150, col_offset=8), 'close', Load(), lineno=150, col_offset=8), [], [], None, None, lineno=150, col_offset=8), lineno=150, col_offset=8)], [], lineno=149, col_offset=4), FunctionDef('close', arguments([Name('self', Param(), lineno=152, col_offset=14)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=153, col_offset=8), 'cleanup', Load(), lineno=153, col_offset=8), [], [], None, None, lineno=153, col_offset=8), lineno=153, col_offset=8)], [], lineno=152, col_offset=4), FunctionDef('cleanup', arguments([Name('self', Param(), lineno=155, col_offset=16)], None, None, []), [If(Attribute(Name('self', Load(), lineno=159, col_offset=11), '__tempfiles', Load(), lineno=159, col_offset=11), [For(Name('file', Store(), lineno=160, col_offset=16), Attribute(Name('self', Load(), lineno=160, col_offset=24), '__tempfiles', Load(), lineno=160, col_offset=24), [TryExcept([Expr(Call(Attribute(Name('self', Load(), lineno=162, col_offset=20), '__unlink', Load(), lineno=162, col_offset=20), [Name('file', Load(), lineno=162, col_offset=34)], [], None, None, lineno=162, col_offset=20), lineno=162, col_offset=20)], [ExceptHandler(Name('OSError', Load(), lineno=163, col_offset=23), None, [Pass( lineno=164, col_offset=20)], lineno=163, col_offset=16)], [], lineno=161, col_offset=16)], [], lineno=160, col_offset=12), Delete([Subscript(Attribute(Name('self', Load(), lineno=165, col_offset=16), '__tempfiles', Load(), lineno=165, col_offset=16), Slice(None, None, None), Del(), lineno=165, col_offset=16)], lineno=165, col_offset=12)], [], lineno=159, col_offset=8), If(Attribute(Name('self', Load(), lineno=166, col_offset=11), 'tempcache', Load(), lineno=166, col_offset=11), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=167, col_offset=12), 'tempcache', Load(), lineno=167, col_offset=12), 'clear', Load(), lineno=167, col_offset=12), [], [], None, None, lineno=167, col_offset=12), lineno=167, col_offset=12)], [], lineno=166, col_offset=8)], [], lineno=155, col_offset=4), FunctionDef('addheader', arguments([Name('self', Param(), lineno=169, col_offset=18)], 'args', None, []), [Expr(Str("Add a header to be used by the HTTP interface only\n        e.g. u.addheader('Accept', 'sound/basic')", lineno=171, col_offset=-1), lineno=171, col_offset=-1), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=172, col_offset=8), 'addheaders', Load(), lineno=172, col_offset=8), 'append', Load(), lineno=172, col_offset=8), [Name('args', Load(), lineno=172, col_offset=31)], [], None, None, lineno=172, col_offset=8), lineno=172, col_offset=8)], [], lineno=169, col_offset=4), FunctionDef('open', arguments([Name('self', Param(), lineno=175, col_offset=13), Name('fullurl', Param(), lineno=175, col_offset=19), Name('data', Param(), lineno=175, col_offset=28)], None, None, [Name('None', Load(), lineno=175, col_offset=33)]), [Expr(Str("Use URLopener().open(file) instead of open(file, 'r').", lineno=176, col_offset=8), lineno=176, col_offset=8), Assign([Name('fullurl', Store(), lineno=177, col_offset=8)], Call(Name('unwrap', Load(), lineno=177, col_offset=18), [Call(Name('toBytes', Load(), lineno=177, col_offset=25), [Name('fullurl', Load(), lineno=177, col_offset=33)], [], None, None, lineno=177, col_offset=25)], [], None, None, lineno=177, col_offset=18), lineno=177, col_offset=8), Assign([Name('fullurl', Store(), lineno=180, col_offset=8)], Call(Name('quote', Load(), lineno=180, col_offset=18), [Name('fullurl', Load(), lineno=180, col_offset=24)], [keyword('safe', Str("%/:=&?~#+!$,;'@()*[]|", lineno=180, col_offset=38))], None, None, lineno=180, col_offset=18), lineno=180, col_offset=8), If(BoolOp(And(), [Attribute(Name('self', Load(), lineno=181, col_offset=11), 'tempcache', Load(), lineno=181, col_offset=11), Compare(Name('fullurl', Load(), lineno=181, col_offset=30), [In()], [Attribute(Name('self', Load(), lineno=181, col_offset=41), 'tempcache', Load(), lineno=181, col_offset=41)], lineno=181, col_offset=30)], lineno=181, col_offset=11), [Assign([Tuple([Name('filename', Store(), lineno=182, col_offset=12), Name('headers', Store(), lineno=182, col_offset=22)], Store(), lineno=182, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=182, col_offset=32), 'tempcache', Load(), lineno=182, col_offset=32), Index(Name('fullurl', Load(), lineno=182, col_offset=47)), Load(), lineno=182, col_offset=32), lineno=182, col_offset=12), Assign([Name('fp', Store(), lineno=183, col_offset=12)], Call(Name('open', Load(), lineno=183, col_offset=17), [Name('filename', Load(), lineno=183, col_offset=22), Str('rb', lineno=183, col_offset=32)], [], None, None, lineno=183, col_offset=17), lineno=183, col_offset=12), Return(Call(Name('addinfourl', Load(), lineno=184, col_offset=19), [Name('fp', Load(), lineno=184, col_offset=30), Name('headers', Load(), lineno=184, col_offset=34), Name('fullurl', Load(), lineno=184, col_offset=43)], [], None, None, lineno=184, col_offset=19), lineno=184, col_offset=12)], [], lineno=181, col_offset=8), Assign([Tuple([Name('urltype', Store(), lineno=185, col_offset=8), Name('url', Store(), lineno=185, col_offset=17)], Store(), lineno=185, col_offset=8)], Call(Name('splittype', Load(), lineno=185, col_offset=23), [Name('fullurl', Load(), lineno=185, col_offset=33)], [], None, None, lineno=185, col_offset=23), lineno=185, col_offset=8), If(UnaryOp(Not(), Name('urltype', Load(), lineno=186, col_offset=15), lineno=186, col_offset=11), [Assign([Name('urltype', Store(), lineno=187, col_offset=12)], Str('file', lineno=187, col_offset=22), lineno=187, col_offset=12)], [], lineno=186, col_offset=8), If(Compare(Name('urltype', Load(), lineno=188, col_offset=11), [In()], [Attribute(Name('self', Load(), lineno=188, col_offset=22), 'proxies', Load(), lineno=188, col_offset=22)], lineno=188, col_offset=11), [Assign([Name('proxy', Store(), lineno=189, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=189, col_offset=20), 'proxies', Load(), lineno=189, col_offset=20), Index(Name('urltype', Load(), lineno=189, col_offset=33)), Load(), lineno=189, col_offset=20), lineno=189, col_offset=12), Assign([Tuple([Name('urltype', Store(), lineno=190, col_offset=12), Name('proxyhost', Store(), lineno=190, col_offset=21)], Store(), lineno=190, col_offset=12)], Call(Name('splittype', Load(), lineno=190, col_offset=33), [Name('proxy', Load(), lineno=190, col_offset=43)], [], None, None, lineno=190, col_offset=33), lineno=190, col_offset=12), Assign([Tuple([Name('host', Store(), lineno=191, col_offset=12), Name('selector', Store(), lineno=191, col_offset=18)], Store(), lineno=191, col_offset=12)], Call(Name('splithost', Load(), lineno=191, col_offset=29), [Name('proxyhost', Load(), lineno=191, col_offset=39)], [], None, None, lineno=191, col_offset=29), lineno=191, col_offset=12), Assign([Name('url', Store(), lineno=192, col_offset=12)], Tuple([Name('host', Load(), lineno=192, col_offset=19), Name('fullurl', Load(), lineno=192, col_offset=25)], Load(), lineno=192, col_offset=19), lineno=192, col_offset=12)], [Assign([Name('proxy', Store(), lineno=194, col_offset=12)], Name('None', Load(), lineno=194, col_offset=20), lineno=194, col_offset=12)], lineno=188, col_offset=8), Assign([Name('name', Store(), lineno=195, col_offset=8)], BinOp(Str('open_', lineno=195, col_offset=15), Add(), Name('urltype', Load(), lineno=195, col_offset=25), lineno=195, col_offset=15), lineno=195, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=196, col_offset=8), 'type', Store(), lineno=196, col_offset=8)], Name('urltype', Load(), lineno=196, col_offset=20), lineno=196, col_offset=8), Assign([Name('name', Store(), lineno=197, col_offset=8)], Call(Attribute(Name('name', Load(), lineno=197, col_offset=15), 'replace', Load(), lineno=197, col_offset=15), [Str('-', lineno=197, col_offset=28), Str('_', lineno=197, col_offset=33)], [], None, None, lineno=197, col_offset=15), lineno=197, col_offset=8), If(UnaryOp(Not(), Call(Name('hasattr', Load(), lineno=198, col_offset=15), [Name('self', Load(), lineno=198, col_offset=23), Name('name', Load(), lineno=198, col_offset=29)], [], None, None, lineno=198, col_offset=15), lineno=198, col_offset=11), [If(Name('proxy', Load(), lineno=199, col_offset=15), [Return(Call(Attribute(Name('self', Load(), lineno=200, col_offset=23), 'open_unknown_proxy', Load(), lineno=200, col_offset=23), [Name('proxy', Load(), lineno=200, col_offset=47), Name('fullurl', Load(), lineno=200, col_offset=54), Name('data', Load(), lineno=200, col_offset=63)], [], None, None, lineno=200, col_offset=23), lineno=200, col_offset=16)], [Return(Call(Attribute(Name('self', Load(), lineno=202, col_offset=23), 'open_unknown', Load(), lineno=202, col_offset=23), [Name('fullurl', Load(), lineno=202, col_offset=41), Name('data', Load(), lineno=202, col_offset=50)], [], None, None, lineno=202, col_offset=23), lineno=202, col_offset=16)], lineno=199, col_offset=12)], [], lineno=198, col_offset=8), TryExcept([If(Compare(Name('data', Load(), lineno=204, col_offset=15), [Is()], [Name('None', Load(), lineno=204, col_offset=23)], lineno=204, col_offset=15), [Return(Call(Call(Name('getattr', Load(), lineno=205, col_offset=23), [Name('self', Load(), lineno=205, col_offset=31), Name('name', Load(), lineno=205, col_offset=37)], [], None, None, lineno=205, col_offset=23), [Name('url', Load(), lineno=205, col_offset=43)], [], None, None, lineno=205, col_offset=23), lineno=205, col_offset=16)], [Return(Call(Call(Name('getattr', Load(), lineno=207, col_offset=23), [Name('self', Load(), lineno=207, col_offset=31), Name('name', Load(), lineno=207, col_offset=37)], [], None, None, lineno=207, col_offset=23), [Name('url', Load(), lineno=207, col_offset=43), Name('data', Load(), lineno=207, col_offset=48)], [], None, None, lineno=207, col_offset=23), lineno=207, col_offset=16)], lineno=204, col_offset=12)], [ExceptHandler(Attribute(Name('socket', Load(), lineno=208, col_offset=15), 'error', Load(), lineno=208, col_offset=15), Name('msg', Store(), lineno=208, col_offset=29), [Raise(Name('IOError', Load(), lineno=209, col_offset=18), Tuple([Str('socket error', lineno=209, col_offset=28), Name('msg', Load(), lineno=209, col_offset=44)], Load(), lineno=209, col_offset=28), Subscript(Call(Attribute(Name('sys', Load(), lineno=209, col_offset=50), 'exc_info', Load(), lineno=209, col_offset=50), [], [], None, None, lineno=209, col_offset=50), Index(Num(2, lineno=209, col_offset=65)), Load(), lineno=209, col_offset=50), lineno=209, col_offset=12)], lineno=208, col_offset=8)], [], lineno=203, col_offset=8)], [], lineno=175, col_offset=4), FunctionDef('open_unknown', arguments([Name('self', Param(), lineno=211, col_offset=21), Name('fullurl', Param(), lineno=211, col_offset=27), Name('data', Param(), lineno=211, col_offset=36)], None, None, [Name('None', Load(), lineno=211, col_offset=41)]), [Expr(Str('Overridable interface to open unknown URL type.', lineno=212, col_offset=8), lineno=212, col_offset=8), Assign([Tuple([Name('type', Store(), lineno=213, col_offset=8), Name('url', Store(), lineno=213, col_offset=14)], Store(), lineno=213, col_offset=8)], Call(Name('splittype', Load(), lineno=213, col_offset=20), [Name('fullurl', Load(), lineno=213, col_offset=30)], [], None, None, lineno=213, col_offset=20), lineno=213, col_offset=8), Raise(Name('IOError', Load(), lineno=214, col_offset=14), Tuple([Str('url error', lineno=214, col_offset=24), Str('unknown url type', lineno=214, col_offset=37), Name('type', Load(), lineno=214, col_offset=57)], Load(), lineno=214, col_offset=24), None, lineno=214, col_offset=8)], [], lineno=211, col_offset=4), FunctionDef('open_unknown_proxy', arguments([Name('self', Param(), lineno=216, col_offset=27), Name('proxy', Param(), lineno=216, col_offset=33), Name('fullurl', Param(), lineno=216, col_offset=40), Name('data', Param(), lineno=216, col_offset=49)], None, None, [Name('None', Load(), lineno=216, col_offset=54)]), [Expr(Str('Overridable interface to open unknown URL type.', lineno=217, col_offset=8), lineno=217, col_offset=8), Assign([Tuple([Name('type', Store(), lineno=218, col_offset=8), Name('url', Store(), lineno=218, col_offset=14)], Store(), lineno=218, col_offset=8)], Call(Name('splittype', Load(), lineno=218, col_offset=20), [Name('fullurl', Load(), lineno=218, col_offset=30)], [], None, None, lineno=218, col_offset=20), lineno=218, col_offset=8), Raise(Name('IOError', Load(), lineno=219, col_offset=14), Tuple([Str('url error', lineno=219, col_offset=24), BinOp(Str('invalid proxy for %s', lineno=219, col_offset=37), Mod(), Name('type', Load(), lineno=219, col_offset=62), lineno=219, col_offset=37), Name('proxy', Load(), lineno=219, col_offset=68)], Load(), lineno=219, col_offset=24), None, lineno=219, col_offset=8)], [], lineno=216, col_offset=4), FunctionDef('retrieve', arguments([Name('self', Param(), lineno=222, col_offset=17), Name('url', Param(), lineno=222, col_offset=23), Name('filename', Param(), lineno=222, col_offset=28), Name('reporthook', Param(), lineno=222, col_offset=43), Name('data', Param(), lineno=222, col_offset=60)], None, None, [Name('None', Load(), lineno=222, col_offset=37), Name('None', Load(), lineno=222, col_offset=54), Name('None', Load(), lineno=222, col_offset=65)]), [Expr(Str('retrieve(url) returns (filename, headers) for a local object\n        or (tempfilename, headers) for a remote object.', lineno=224, col_offset=-1), lineno=224, col_offset=-1), Assign([Name('url', Store(), lineno=225, col_offset=8)], Call(Name('unwrap', Load(), lineno=225, col_offset=14), [Call(Name('toBytes', Load(), lineno=225, col_offset=21), [Name('url', Load(), lineno=225, col_offset=29)], [], None, None, lineno=225, col_offset=21)], [], None, None, lineno=225, col_offset=14), lineno=225, col_offset=8), If(BoolOp(And(), [Attribute(Name('self', Load(), lineno=226, col_offset=11), 'tempcache', Load(), lineno=226, col_offset=11), Compare(Name('url', Load(), lineno=226, col_offset=30), [In()], [Attribute(Name('self', Load(), lineno=226, col_offset=37), 'tempcache', Load(), lineno=226, col_offset=37)], lineno=226, col_offset=30)], lineno=226, col_offset=11), [Return(Subscript(Attribute(Name('self', Load(), lineno=227, col_offset=19), 'tempcache', Load(), lineno=227, col_offset=19), Index(Name('url', Load(), lineno=227, col_offset=34)), Load(), lineno=227, col_offset=19), lineno=227, col_offset=12)], [], lineno=226, col_offset=8), Assign([Tuple([Name('type', Store(), lineno=228, col_offset=8), Name('url1', Store(), lineno=228, col_offset=14)], Store(), lineno=228, col_offset=8)], Call(Name('splittype', Load(), lineno=228, col_offset=21), [Name('url', Load(), lineno=228, col_offset=31)], [], None, None, lineno=228, col_offset=21), lineno=228, col_offset=8), If(BoolOp(And(), [Compare(Name('filename', Load(), lineno=229, col_offset=11), [Is()], [Name('None', Load(), lineno=229, col_offset=23)], lineno=229, col_offset=11), BoolOp(Or(), [UnaryOp(Not(), Name('type', Load(), lineno=229, col_offset=37), lineno=229, col_offset=33), Compare(Name('type', Load(), lineno=229, col_offset=45), [Eq()], [Str('file', lineno=229, col_offset=53)], lineno=229, col_offset=45)], lineno=229, col_offset=33)], lineno=229, col_offset=11), [TryExcept([Assign([Name('fp', Store(), lineno=231, col_offset=16)], Call(Attribute(Name('self', Load(), lineno=231, col_offset=21), 'open_local_file', Load(), lineno=231, col_offset=21), [Name('url1', Load(), lineno=231, col_offset=42)], [], None, None, lineno=231, col_offset=21), lineno=231, col_offset=16), Assign([Name('hdrs', Store(), lineno=232, col_offset=16)], Call(Attribute(Name('fp', Load(), lineno=232, col_offset=23), 'info', Load(), lineno=232, col_offset=23), [], [], None, None, lineno=232, col_offset=23), lineno=232, col_offset=16), Expr(Call(Attribute(Name('fp', Load(), lineno=233, col_offset=16), 'close', Load(), lineno=233, col_offset=16), [], [], None, None, lineno=233, col_offset=16), lineno=233, col_offset=16), Return(Tuple([Call(Name('url2pathname', Load(), lineno=234, col_offset=23), [Subscript(Call(Name('splithost', Load(), lineno=234, col_offset=36), [Name('url1', Load(), lineno=234, col_offset=46)], [], None, None, lineno=234, col_offset=36), Index(Num(1, lineno=234, col_offset=52)), Load(), lineno=234, col_offset=36)], [], None, None, lineno=234, col_offset=23), Name('hdrs', Load(), lineno=234, col_offset=57)], Load(), lineno=234, col_offset=23), lineno=234, col_offset=16)], [ExceptHandler(Name('IOError', Load(), lineno=235, col_offset=19), None, [Pass( lineno=236, col_offset=16)], lineno=235, col_offset=12)], [], lineno=230, col_offset=12)], [], lineno=229, col_offset=8), Assign([Name('fp', Store(), lineno=237, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=237, col_offset=13), 'open', Load(), lineno=237, col_offset=13), [Name('url', Load(), lineno=237, col_offset=23), Name('data', Load(), lineno=237, col_offset=28)], [], None, None, lineno=237, col_offset=13), lineno=237, col_offset=8), TryFinally([Assign([Name('headers', Store(), lineno=239, col_offset=12)], Call(Attribute(Name('fp', Load(), lineno=239, col_offset=22), 'info', Load(), lineno=239, col_offset=22), [], [], None, None, lineno=239, col_offset=22), lineno=239, col_offset=12), If(Name('filename', Load(), lineno=240, col_offset=15), [Assign([Name('tfp', Store(), lineno=241, col_offset=16)], Call(Name('open', Load(), lineno=241, col_offset=22), [Name('filename', Load(), lineno=241, col_offset=27), Str('wb', lineno=241, col_offset=37)], [], None, None, lineno=241, col_offset=22), lineno=241, col_offset=16)], [Import([alias('tempfile', None)], lineno=243, col_offset=16), Assign([Tuple([Name('garbage', Store(), lineno=244, col_offset=16), Name('path', Store(), lineno=244, col_offset=25)], Store(), lineno=244, col_offset=16)], Call(Name('splittype', Load(), lineno=244, col_offset=32), [Name('url', Load(), lineno=244, col_offset=42)], [], None, None, lineno=244, col_offset=32), lineno=244, col_offset=16), Assign([Tuple([Name('garbage', Store(), lineno=245, col_offset=16), Name('path', Store(), lineno=245, col_offset=25)], Store(), lineno=245, col_offset=16)], Call(Name('splithost', Load(), lineno=245, col_offset=32), [BoolOp(Or(), [Name('path', Load(), lineno=245, col_offset=42), Str('', lineno=245, col_offset=50)], lineno=245, col_offset=42)], [], None, None, lineno=245, col_offset=32), lineno=245, col_offset=16), Assign([Tuple([Name('path', Store(), lineno=246, col_offset=16), Name('garbage', Store(), lineno=246, col_offset=22)], Store(), lineno=246, col_offset=16)], Call(Name('splitquery', Load(), lineno=246, col_offset=32), [BoolOp(Or(), [Name('path', Load(), lineno=246, col_offset=43), Str('', lineno=246, col_offset=51)], lineno=246, col_offset=43)], [], None, None, lineno=246, col_offset=32), lineno=246, col_offset=16), Assign([Tuple([Name('path', Store(), lineno=247, col_offset=16), Name('garbage', Store(), lineno=247, col_offset=22)], Store(), lineno=247, col_offset=16)], Call(Name('splitattr', Load(), lineno=247, col_offset=32), [BoolOp(Or(), [Name('path', Load(), lineno=247, col_offset=42), Str('', lineno=247, col_offset=50)], lineno=247, col_offset=42)], [], None, None, lineno=247, col_offset=32), lineno=247, col_offset=16), Assign([Name('suffix', Store(), lineno=248, col_offset=16)], Subscript(Call(Attribute(Attribute(Name('os', Load(), lineno=248, col_offset=25), 'path', Load(), lineno=248, col_offset=25), 'splitext', Load(), lineno=248, col_offset=25), [Name('path', Load(), lineno=248, col_offset=42)], [], None, None, lineno=248, col_offset=25), Index(Num(1, lineno=248, col_offset=48)), Load(), lineno=248, col_offset=25), lineno=248, col_offset=16), Assign([Tuple([Name('fd', Store(), lineno=249, col_offset=17), Name('filename', Store(), lineno=249, col_offset=21)], Store(), lineno=249, col_offset=17)], Call(Attribute(Name('tempfile', Load(), lineno=249, col_offset=33), 'mkstemp', Load(), lineno=249, col_offset=33), [Name('suffix', Load(), lineno=249, col_offset=50)], [], None, None, lineno=249, col_offset=33), lineno=249, col_offset=16), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=250, col_offset=16), '__tempfiles', Load(), lineno=250, col_offset=16), 'append', Load(), lineno=250, col_offset=16), [Name('filename', Load(), lineno=250, col_offset=40)], [], None, None, lineno=250, col_offset=16), lineno=250, col_offset=16), Assign([Name('tfp', Store(), lineno=251, col_offset=16)], Call(Attribute(Name('os', Load(), lineno=251, col_offset=22), 'fdopen', Load(), lineno=251, col_offset=22), [Name('fd', Load(), lineno=251, col_offset=32), Str('wb', lineno=251, col_offset=36)], [], None, None, lineno=251, col_offset=22), lineno=251, col_offset=16)], lineno=240, col_offset=12), TryFinally([Assign([Name('result', Store(), lineno=253, col_offset=16)], Tuple([Name('filename', Load(), lineno=253, col_offset=25), Name('headers', Load(), lineno=253, col_offset=35)], Load(), lineno=253, col_offset=25), lineno=253, col_offset=16), If(Compare(Attribute(Name('self', Load(), lineno=254, col_offset=19), 'tempcache', Load(), lineno=254, col_offset=19), [IsNot()], [Name('None', Load(), lineno=254, col_offset=41)], lineno=254, col_offset=19), [Assign([Subscript(Attribute(Name('self', Load(), lineno=255, col_offset=20), 'tempcache', Load(), lineno=255, col_offset=20), Index(Name('url', Load(), lineno=255, col_offset=35)), Store(), lineno=255, col_offset=20)], Name('result', Load(), lineno=255, col_offset=42), lineno=255, col_offset=20)], [], lineno=254, col_offset=16), Assign([Name('bs', Store(), lineno=256, col_offset=16)], BinOp(Num(1024, lineno=256, col_offset=21), Mult(), Num(8, lineno=256, col_offset=26), lineno=256, col_offset=21), lineno=256, col_offset=16), Assign([Name('size', Store(), lineno=257, col_offset=16)], Num(-1, lineno=257, col_offset=24), lineno=257, col_offset=16), Assign([Name('read', Store(), lineno=258, col_offset=16)], Num(0, lineno=258, col_offset=23), lineno=258, col_offset=16), Assign([Name('blocknum', Store(), lineno=259, col_offset=16)], Num(0, lineno=259, col_offset=27), lineno=259, col_offset=16), If(Name('reporthook', Load(), lineno=260, col_offset=19), [If(Compare(Str('content-length', lineno=261, col_offset=23), [In()], [Name('headers', Load(), lineno=261, col_offset=43)], lineno=261, col_offset=23), [Assign([Name('size', Store(), lineno=262, col_offset=24)], Call(Name('int', Load(), lineno=262, col_offset=31), [Subscript(Name('headers', Load(), lineno=262, col_offset=35), Index(Str('Content-Length', lineno=262, col_offset=43)), Load(), lineno=262, col_offset=35)], [], None, None, lineno=262, col_offset=31), lineno=262, col_offset=24)], [], lineno=261, col_offset=20), Expr(Call(Name('reporthook', Load(), lineno=263, col_offset=20), [Name('blocknum', Load(), lineno=263, col_offset=31), Name('bs', Load(), lineno=263, col_offset=41), Name('size', Load(), lineno=263, col_offset=45)], [], None, None, lineno=263, col_offset=20), lineno=263, col_offset=20)], [], lineno=260, col_offset=16), While(Num(1, lineno=264, col_offset=22), [Assign([Name('block', Store(), lineno=265, col_offset=20)], Call(Attribute(Name('fp', Load(), lineno=265, col_offset=28), 'read', Load(), lineno=265, col_offset=28), [Name('bs', Load(), lineno=265, col_offset=36)], [], None, None, lineno=265, col_offset=28), lineno=265, col_offset=20), If(Compare(Name('block', Load(), lineno=266, col_offset=23), [Eq()], [Str('', lineno=266, col_offset=32)], lineno=266, col_offset=23), [Break( lineno=267, col_offset=24)], [], lineno=266, col_offset=20), AugAssign(Name('read', Store(), lineno=268, col_offset=20), Add(), Call(Name('len', Load(), lineno=268, col_offset=28), [Name('block', Load(), lineno=268, col_offset=32)], [], None, None, lineno=268, col_offset=28), lineno=268, col_offset=20), Expr(Call(Attribute(Name('tfp', Load(), lineno=269, col_offset=20), 'write', Load(), lineno=269, col_offset=20), [Name('block', Load(), lineno=269, col_offset=30)], [], None, None, lineno=269, col_offset=20), lineno=269, col_offset=20), AugAssign(Name('blocknum', Store(), lineno=270, col_offset=20), Add(), Num(1, lineno=270, col_offset=32), lineno=270, col_offset=20), If(Name('reporthook', Load(), lineno=271, col_offset=23), [Expr(Call(Name('reporthook', Load(), lineno=272, col_offset=24), [Name('blocknum', Load(), lineno=272, col_offset=35), Name('bs', Load(), lineno=272, col_offset=45), Name('size', Load(), lineno=272, col_offset=49)], [], None, None, lineno=272, col_offset=24), lineno=272, col_offset=24)], [], lineno=271, col_offset=20)], [], lineno=264, col_offset=16)], [Expr(Call(Attribute(Name('tfp', Load(), lineno=274, col_offset=16), 'close', Load(), lineno=274, col_offset=16), [], [], None, None, lineno=274, col_offset=16), lineno=274, col_offset=16)], lineno=252, col_offset=12)], [Expr(Call(Attribute(Name('fp', Load(), lineno=276, col_offset=12), 'close', Load(), lineno=276, col_offset=12), [], [], None, None, lineno=276, col_offset=12), lineno=276, col_offset=12)], lineno=238, col_offset=8), If(BoolOp(And(), [Compare(Name('size', Load(), lineno=279, col_offset=11), [GtE()], [Num(0, lineno=279, col_offset=19)], lineno=279, col_offset=11), Compare(Name('read', Load(), lineno=279, col_offset=25), [Lt()], [Name('size', Load(), lineno=279, col_offset=32)], lineno=279, col_offset=25)], lineno=279, col_offset=11), [Raise(Call(Name('ContentTooShortError', Load(), lineno=280, col_offset=18), [BinOp(Str('retrieval incomplete: got only %i out of %i bytes', lineno=280, col_offset=39), Mod(), Tuple([Name('read', Load(), lineno=281, col_offset=56), Name('size', Load(), lineno=281, col_offset=62)], Load(), lineno=281, col_offset=56), lineno=280, col_offset=39), Name('result', Load(), lineno=281, col_offset=69)], [], None, None, lineno=280, col_offset=18), None, None, lineno=280, col_offset=12)], [], lineno=279, col_offset=8), Return(Name('result', Load(), lineno=283, col_offset=15), lineno=283, col_offset=8)], [], lineno=222, col_offset=4), FunctionDef('open_http', arguments([Name('self', Param(), lineno=287, col_offset=18), Name('url', Param(), lineno=287, col_offset=24), Name('data', Param(), lineno=287, col_offset=29)], None, None, [Name('None', Load(), lineno=287, col_offset=34)]), [Expr(Str('Use HTTP protocol.', lineno=288, col_offset=8), lineno=288, col_offset=8), Import([alias('httplib', None)], lineno=289, col_offset=8), Assign([Name('user_passwd', Store(), lineno=290, col_offset=8)], Name('None', Load(), lineno=290, col_offset=22), lineno=290, col_offset=8), Assign([Name('proxy_passwd', Store(), lineno=291, col_offset=8)], Name('None', Load(), lineno=291, col_offset=22), lineno=291, col_offset=8), If(Call(Name('isinstance', Load(), lineno=292, col_offset=11), [Name('url', Load(), lineno=292, col_offset=22), Name('str', Load(), lineno=292, col_offset=27)], [], None, None, lineno=292, col_offset=11), [Assign([Tuple([Name('host', Store(), lineno=293, col_offset=12), Name('selector', Store(), lineno=293, col_offset=18)], Store(), lineno=293, col_offset=12)], Call(Name('splithost', Load(), lineno=293, col_offset=29), [Name('url', Load(), lineno=293, col_offset=39)], [], None, None, lineno=293, col_offset=29), lineno=293, col_offset=12), If(Name('host', Load(), lineno=294, col_offset=15), [Assign([Tuple([Name('user_passwd', Store(), lineno=295, col_offset=16), Name('host', Store(), lineno=295, col_offset=29)], Store(), lineno=295, col_offset=16)], Call(Name('splituser', Load(), lineno=295, col_offset=36), [Name('host', Load(), lineno=295, col_offset=46)], [], None, None, lineno=295, col_offset=36), lineno=295, col_offset=16), Assign([Name('host', Store(), lineno=296, col_offset=16)], Call(Name('unquote', Load(), lineno=296, col_offset=23), [Name('host', Load(), lineno=296, col_offset=31)], [], None, None, lineno=296, col_offset=23), lineno=296, col_offset=16)], [], lineno=294, col_offset=12), Assign([Name('realhost', Store(), lineno=297, col_offset=12)], Name('host', Load(), lineno=297, col_offset=23), lineno=297, col_offset=12)], [Assign([Tuple([Name('host', Store(), lineno=299, col_offset=12), Name('selector', Store(), lineno=299, col_offset=18)], Store(), lineno=299, col_offset=12)], Name('url', Load(), lineno=299, col_offset=29), lineno=299, col_offset=12), Assign([Tuple([Name('proxy_passwd', Store(), lineno=301, col_offset=12), Name('host', Store(), lineno=301, col_offset=26)], Store(), lineno=301, col_offset=12)], Call(Name('splituser', Load(), lineno=301, col_offset=33), [Name('host', Load(), lineno=301, col_offset=43)], [], None, None, lineno=301, col_offset=33), lineno=301, col_offset=12), Assign([Tuple([Name('urltype', Store(), lineno=303, col_offset=12), Name('rest', Store(), lineno=303, col_offset=21)], Store(), lineno=303, col_offset=12)], Call(Name('splittype', Load(), lineno=303, col_offset=28), [Name('selector', Load(), lineno=303, col_offset=38)], [], None, None, lineno=303, col_offset=28), lineno=303, col_offset=12), Assign([Name('url', Store(), lineno=304, col_offset=12)], Name('rest', Load(), lineno=304, col_offset=18), lineno=304, col_offset=12), Assign([Name('user_passwd', Store(), lineno=305, col_offset=12)], Name('None', Load(), lineno=305, col_offset=26), lineno=305, col_offset=12), If(Compare(Call(Attribute(Name('urltype', Load(), lineno=306, col_offset=15), 'lower', Load(), lineno=306, col_offset=15), [], [], None, None, lineno=306, col_offset=15), [NotEq()], [Str('http', lineno=306, col_offset=34)], lineno=306, col_offset=15), [Assign([Name('realhost', Store(), lineno=307, col_offset=16)], Name('None', Load(), lineno=307, col_offset=27), lineno=307, col_offset=16)], [Assign([Tuple([Name('realhost', Store(), lineno=309, col_offset=16), Name('rest', Store(), lineno=309, col_offset=26)], Store(), lineno=309, col_offset=16)], Call(Name('splithost', Load(), lineno=309, col_offset=33), [Name('rest', Load(), lineno=309, col_offset=43)], [], None, None, lineno=309, col_offset=33), lineno=309, col_offset=16), If(Name('realhost', Load(), lineno=310, col_offset=19), [Assign([Tuple([Name('user_passwd', Store(), lineno=311, col_offset=20), Name('realhost', Store(), lineno=311, col_offset=33)], Store(), lineno=311, col_offset=20)], Call(Name('splituser', Load(), lineno=311, col_offset=44), [Name('realhost', Load(), lineno=311, col_offset=54)], [], None, None, lineno=311, col_offset=44), lineno=311, col_offset=20)], [], lineno=310, col_offset=16), If(Name('user_passwd', Load(), lineno=312, col_offset=19), [Assign([Name('selector', Store(), lineno=313, col_offset=20)], BinOp(Str('%s://%s%s', lineno=313, col_offset=31), Mod(), Tuple([Name('urltype', Load(), lineno=313, col_offset=46), Name('realhost', Load(), lineno=313, col_offset=55), Name('rest', Load(), lineno=313, col_offset=65)], Load(), lineno=313, col_offset=46), lineno=313, col_offset=31), lineno=313, col_offset=20)], [], lineno=312, col_offset=16), If(Call(Name('proxy_bypass', Load(), lineno=314, col_offset=19), [Name('realhost', Load(), lineno=314, col_offset=32)], [], None, None, lineno=314, col_offset=19), [Assign([Name('host', Store(), lineno=315, col_offset=20)], Name('realhost', Load(), lineno=315, col_offset=27), lineno=315, col_offset=20)], [], lineno=314, col_offset=16)], lineno=306, col_offset=12)], lineno=292, col_offset=8), If(UnaryOp(Not(), Name('host', Load(), lineno=318, col_offset=15), lineno=318, col_offset=11), [Raise(Name('IOError', Load(), lineno=318, col_offset=27), Tuple([Str('http error', lineno=318, col_offset=37), Str('no host given', lineno=318, col_offset=51)], Load(), lineno=318, col_offset=37), None, lineno=318, col_offset=21)], [], lineno=318, col_offset=8), If(Name('proxy_passwd', Load(), lineno=320, col_offset=11), [Import([alias('base64', None)], lineno=321, col_offset=12), Assign([Name('proxy_auth', Store(), lineno=322, col_offset=12)], Call(Attribute(Call(Attribute(Name('base64', Load(), lineno=322, col_offset=25), 'b64encode', Load(), lineno=322, col_offset=25), [Name('proxy_passwd', Load(), lineno=322, col_offset=42)], [], None, None, lineno=322, col_offset=25), 'strip', Load(), lineno=322, col_offset=25), [], [], None, None, lineno=322, col_offset=25), lineno=322, col_offset=12)], [Assign([Name('proxy_auth', Store(), lineno=324, col_offset=12)], Name('None', Load(), lineno=324, col_offset=25), lineno=324, col_offset=12)], lineno=320, col_offset=8), If(Name('user_passwd', Load(), lineno=326, col_offset=11), [Import([alias('base64', None)], lineno=327, col_offset=12), Assign([Name('auth', Store(), lineno=328, col_offset=12)], Call(Attribute(Call(Attribute(Name('base64', Load(), lineno=328, col_offset=19), 'b64encode', Load(), lineno=328, col_offset=19), [Name('user_passwd', Load(), lineno=328, col_offset=36)], [], None, None, lineno=328, col_offset=19), 'strip', Load(), lineno=328, col_offset=19), [], [], None, None, lineno=328, col_offset=19), lineno=328, col_offset=12)], [Assign([Name('auth', Store(), lineno=330, col_offset=12)], Name('None', Load(), lineno=330, col_offset=19), lineno=330, col_offset=12)], lineno=326, col_offset=8), Assign([Name('h', Store(), lineno=331, col_offset=8)], Call(Attribute(Name('httplib', Load(), lineno=331, col_offset=12), 'HTTP', Load(), lineno=331, col_offset=12), [Name('host', Load(), lineno=331, col_offset=25)], [], None, None, lineno=331, col_offset=12), lineno=331, col_offset=8), If(Compare(Name('data', Load(), lineno=332, col_offset=11), [IsNot()], [Name('None', Load(), lineno=332, col_offset=23)], lineno=332, col_offset=11), [Expr(Call(Attribute(Name('h', Load(), lineno=333, col_offset=12), 'putrequest', Load(), lineno=333, col_offset=12), [Str('POST', lineno=333, col_offset=25), Name('selector', Load(), lineno=333, col_offset=33)], [], None, None, lineno=333, col_offset=12), lineno=333, col_offset=12), Expr(Call(Attribute(Name('h', Load(), lineno=334, col_offset=12), 'putheader', Load(), lineno=334, col_offset=12), [Str('Content-Type', lineno=334, col_offset=24), Str('application/x-www-form-urlencoded', lineno=334, col_offset=40)], [], None, None, lineno=334, col_offset=12), lineno=334, col_offset=12), Expr(Call(Attribute(Name('h', Load(), lineno=335, col_offset=12), 'putheader', Load(), lineno=335, col_offset=12), [Str('Content-Length', lineno=335, col_offset=24), BinOp(Str('%d', lineno=335, col_offset=42), Mod(), Call(Name('len', Load(), lineno=335, col_offset=49), [Name('data', Load(), lineno=335, col_offset=53)], [], None, None, lineno=335, col_offset=49), lineno=335, col_offset=42)], [], None, None, lineno=335, col_offset=12), lineno=335, col_offset=12)], [Expr(Call(Attribute(Name('h', Load(), lineno=337, col_offset=12), 'putrequest', Load(), lineno=337, col_offset=12), [Str('GET', lineno=337, col_offset=25), Name('selector', Load(), lineno=337, col_offset=32)], [], None, None, lineno=337, col_offset=12), lineno=337, col_offset=12)], lineno=332, col_offset=8), If(Name('proxy_auth', Load(), lineno=338, col_offset=11), [Expr(Call(Attribute(Name('h', Load(), lineno=338, col_offset=23), 'putheader', Load(), lineno=338, col_offset=23), [Str('Proxy-Authorization', lineno=338, col_offset=35), BinOp(Str('Basic %s', lineno=338, col_offset=58), Mod(), Name('proxy_auth', Load(), lineno=338, col_offset=71), lineno=338, col_offset=58)], [], None, None, lineno=338, col_offset=23), lineno=338, col_offset=23)], [], lineno=338, col_offset=8), If(Name('auth', Load(), lineno=339, col_offset=11), [Expr(Call(Attribute(Name('h', Load(), lineno=339, col_offset=17), 'putheader', Load(), lineno=339, col_offset=17), [Str('Authorization', lineno=339, col_offset=29), BinOp(Str('Basic %s', lineno=339, col_offset=46), Mod(), Name('auth', Load(), lineno=339, col_offset=59), lineno=339, col_offset=46)], [], None, None, lineno=339, col_offset=17), lineno=339, col_offset=17)], [], lineno=339, col_offset=8), If(Name('realhost', Load(), lineno=340, col_offset=11), [Expr(Call(Attribute(Name('h', Load(), lineno=340, col_offset=21), 'putheader', Load(), lineno=340, col_offset=21), [Str('Host', lineno=340, col_offset=33), Name('realhost', Load(), lineno=340, col_offset=41)], [], None, None, lineno=340, col_offset=21), lineno=340, col_offset=21)], [], lineno=340, col_offset=8), For(Name('args', Store(), lineno=341, col_offset=12), Attribute(Name('self', Load(), lineno=341, col_offset=20), 'addheaders', Load(), lineno=341, col_offset=20), [Expr(Call(Attribute(Name('h', Load(), lineno=341, col_offset=37), 'putheader', Load(), lineno=341, col_offset=37), [], [], Name('args', Load(), lineno=341, col_offset=50), None, lineno=341, col_offset=37), lineno=341, col_offset=37)], [], lineno=341, col_offset=8), Expr(Call(Attribute(Name('h', Load(), lineno=342, col_offset=8), 'endheaders', Load(), lineno=342, col_offset=8), [Name('data', Load(), lineno=342, col_offset=21)], [], None, None, lineno=342, col_offset=8), lineno=342, col_offset=8), Assign([Tuple([Name('errcode', Store(), lineno=343, col_offset=8), Name('errmsg', Store(), lineno=343, col_offset=17), Name('headers', Store(), lineno=343, col_offset=25)], Store(), lineno=343, col_offset=8)], Call(Attribute(Name('h', Load(), lineno=343, col_offset=35), 'getreply', Load(), lineno=343, col_offset=35), [], [], None, None, lineno=343, col_offset=35), lineno=343, col_offset=8), Assign([Name('fp', Store(), lineno=344, col_offset=8)], Call(Attribute(Name('h', Load(), lineno=344, col_offset=13), 'getfile', Load(), lineno=344, col_offset=13), [], [], None, None, lineno=344, col_offset=13), lineno=344, col_offset=8), If(Compare(Name('errcode', Load(), lineno=345, col_offset=11), [Eq()], [Num(-1, lineno=345, col_offset=23)], lineno=345, col_offset=11), [If(Name('fp', Load(), lineno=346, col_offset=15), [Expr(Call(Attribute(Name('fp', Load(), lineno=346, col_offset=19), 'close', Load(), lineno=346, col_offset=19), [], [], None, None, lineno=346, col_offset=19), lineno=346, col_offset=19)], [], lineno=346, col_offset=12), Raise(Name('IOError', Load(), lineno=348, col_offset=18), Tuple([Str('http protocol error', lineno=348, col_offset=28), Num(0, lineno=348, col_offset=51), Str('got a bad status line', lineno=349, col_offset=28), Name('None', Load(), lineno=349, col_offset=53)], Load(), lineno=348, col_offset=28), None, lineno=348, col_offset=12)], [], lineno=345, col_offset=8), If(Compare(Num(200, lineno=352, col_offset=12), [LtE(), Lt()], [Name('errcode', Load(), lineno=352, col_offset=19), Num(300, lineno=352, col_offset=29)], lineno=352, col_offset=12), [Return(Call(Name('addinfourl', Load(), lineno=353, col_offset=19), [Name('fp', Load(), lineno=353, col_offset=30), Name('headers', Load(), lineno=353, col_offset=34), BinOp(Str('http:', lineno=353, col_offset=43), Add(), Name('url', Load(), lineno=353, col_offset=53), lineno=353, col_offset=43), Name('errcode', Load(), lineno=353, col_offset=58)], [], None, None, lineno=353, col_offset=19), lineno=353, col_offset=12)], [If(Compare(Name('data', Load(), lineno=355, col_offset=15), [Is()], [Name('None', Load(), lineno=355, col_offset=23)], lineno=355, col_offset=15), [Return(Call(Attribute(Name('self', Load(), lineno=356, col_offset=23), 'http_error', Load(), lineno=356, col_offset=23), [Name('url', Load(), lineno=356, col_offset=39), Name('fp', Load(), lineno=356, col_offset=44), Name('errcode', Load(), lineno=356, col_offset=48), Name('errmsg', Load(), lineno=356, col_offset=57), Name('headers', Load(), lineno=356, col_offset=65)], [], None, None, lineno=356, col_offset=23), lineno=356, col_offset=16)], [Return(Call(Attribute(Name('self', Load(), lineno=358, col_offset=23), 'http_error', Load(), lineno=358, col_offset=23), [Name('url', Load(), lineno=358, col_offset=39), Name('fp', Load(), lineno=358, col_offset=44), Name('errcode', Load(), lineno=358, col_offset=48), Name('errmsg', Load(), lineno=358, col_offset=57), Name('headers', Load(), lineno=358, col_offset=65), Name('data', Load(), lineno=358, col_offset=74)], [], None, None, lineno=358, col_offset=23), lineno=358, col_offset=16)], lineno=355, col_offset=12)], lineno=352, col_offset=8)], [], lineno=287, col_offset=4), FunctionDef('http_error', arguments([Name('self', Param(), lineno=360, col_offset=19), Name('url', Param(), lineno=360, col_offset=25), Name('fp', Param(), lineno=360, col_offset=30), Name('errcode', Param(), lineno=360, col_offset=34), Name('errmsg', Param(), lineno=360, col_offset=43), Name('headers', Param(), lineno=360, col_offset=51), Name('data', Param(), lineno=360, col_offset=60)], None, None, [Name('None', Load(), lineno=360, col_offset=65)]), [Expr(Str('Handle http errors.\n        Derived class can override this, or provide specific handlers\n        named http_error_DDD where DDD is the 3-digit error code.', lineno=363, col_offset=-1), lineno=363, col_offset=-1), Assign([Name('name', Store(), lineno=365, col_offset=8)], BinOp(Str('http_error_%d', lineno=365, col_offset=15), Mod(), Name('errcode', Load(), lineno=365, col_offset=33), lineno=365, col_offset=15), lineno=365, col_offset=8), If(Call(Name('hasattr', Load(), lineno=366, col_offset=11), [Name('self', Load(), lineno=366, col_offset=19), Name('name', Load(), lineno=366, col_offset=25)], [], None, None, lineno=366, col_offset=11), [Assign([Name('method', Store(), lineno=367, col_offset=12)], Call(Name('getattr', Load(), lineno=367, col_offset=21), [Name('self', Load(), lineno=367, col_offset=29), Name('name', Load(), lineno=367, col_offset=35)], [], None, None, lineno=367, col_offset=21), lineno=367, col_offset=12), If(Compare(Name('data', Load(), lineno=368, col_offset=15), [Is()], [Name('None', Load(), lineno=368, col_offset=23)], lineno=368, col_offset=15), [Assign([Name('result', Store(), lineno=369, col_offset=16)], Call(Name('method', Load(), lineno=369, col_offset=25), [Name('url', Load(), lineno=369, col_offset=32), Name('fp', Load(), lineno=369, col_offset=37), Name('errcode', Load(), lineno=369, col_offset=41), Name('errmsg', Load(), lineno=369, col_offset=50), Name('headers', Load(), lineno=369, col_offset=58)], [], None, None, lineno=369, col_offset=25), lineno=369, col_offset=16)], [Assign([Name('result', Store(), lineno=371, col_offset=16)], Call(Name('method', Load(), lineno=371, col_offset=25), [Name('url', Load(), lineno=371, col_offset=32), Name('fp', Load(), lineno=371, col_offset=37), Name('errcode', Load(), lineno=371, col_offset=41), Name('errmsg', Load(), lineno=371, col_offset=50), Name('headers', Load(), lineno=371, col_offset=58), Name('data', Load(), lineno=371, col_offset=67)], [], None, None, lineno=371, col_offset=25), lineno=371, col_offset=16)], lineno=368, col_offset=12), If(Name('result', Load(), lineno=372, col_offset=15), [Return(Name('result', Load(), lineno=372, col_offset=30), lineno=372, col_offset=23)], [], lineno=372, col_offset=12)], [], lineno=366, col_offset=8), Return(Call(Attribute(Name('self', Load(), lineno=373, col_offset=15), 'http_error_default', Load(), lineno=373, col_offset=15), [Name('url', Load(), lineno=373, col_offset=39), Name('fp', Load(), lineno=373, col_offset=44), Name('errcode', Load(), lineno=373, col_offset=48), Name('errmsg', Load(), lineno=373, col_offset=57), Name('headers', Load(), lineno=373, col_offset=65)], [], None, None, lineno=373, col_offset=15), lineno=373, col_offset=8)], [], lineno=360, col_offset=4), FunctionDef('http_error_default', arguments([Name('self', Param(), lineno=375, col_offset=27), Name('url', Param(), lineno=375, col_offset=33), Name('fp', Param(), lineno=375, col_offset=38), Name('errcode', Param(), lineno=375, col_offset=42), Name('errmsg', Param(), lineno=375, col_offset=51), Name('headers', Param(), lineno=375, col_offset=59)], None, None, []), [Expr(Str('Default error handler: close the connection and raise IOError.', lineno=376, col_offset=8), lineno=376, col_offset=8), Assign([Name('void', Store(), lineno=377, col_offset=8)], Call(Attribute(Name('fp', Load(), lineno=377, col_offset=15), 'read', Load(), lineno=377, col_offset=15), [], [], None, None, lineno=377, col_offset=15), lineno=377, col_offset=8), Expr(Call(Attribute(Name('fp', Load(), lineno=378, col_offset=8), 'close', Load(), lineno=378, col_offset=8), [], [], None, None, lineno=378, col_offset=8), lineno=378, col_offset=8), Raise(Name('IOError', Load(), lineno=379, col_offset=14), Tuple([Str('http error', lineno=379, col_offset=24), Name('errcode', Load(), lineno=379, col_offset=38), Name('errmsg', Load(), lineno=379, col_offset=47), Name('headers', Load(), lineno=379, col_offset=55)], Load(), lineno=379, col_offset=24), None, lineno=379, col_offset=8)], [], lineno=375, col_offset=4), If(Name('_have_ssl', Load(), lineno=381, col_offset=7), [FunctionDef('open_https', arguments([Name('self', Param(), lineno=382, col_offset=23), Name('url', Param(), lineno=382, col_offset=29), Name('data', Param(), lineno=382, col_offset=34)], None, None, [Name('None', Load(), lineno=382, col_offset=39)]), [Expr(Str('Use HTTPS protocol.', lineno=383, col_offset=12), lineno=383, col_offset=12), Import([alias('httplib', None)], lineno=385, col_offset=12), Assign([Name('user_passwd', Store(), lineno=386, col_offset=12)], Name('None', Load(), lineno=386, col_offset=26), lineno=386, col_offset=12), Assign([Name('proxy_passwd', Store(), lineno=387, col_offset=12)], Name('None', Load(), lineno=387, col_offset=27), lineno=387, col_offset=12), If(Call(Name('isinstance', Load(), lineno=388, col_offset=15), [Name('url', Load(), lineno=388, col_offset=26), Name('str', Load(), lineno=388, col_offset=31)], [], None, None, lineno=388, col_offset=15), [Assign([Tuple([Name('host', Store(), lineno=389, col_offset=16), Name('selector', Store(), lineno=389, col_offset=22)], Store(), lineno=389, col_offset=16)], Call(Name('splithost', Load(), lineno=389, col_offset=33), [Name('url', Load(), lineno=389, col_offset=43)], [], None, None, lineno=389, col_offset=33), lineno=389, col_offset=16), If(Name('host', Load(), lineno=390, col_offset=19), [Assign([Tuple([Name('user_passwd', Store(), lineno=391, col_offset=20), Name('host', Store(), lineno=391, col_offset=33)], Store(), lineno=391, col_offset=20)], Call(Name('splituser', Load(), lineno=391, col_offset=40), [Name('host', Load(), lineno=391, col_offset=50)], [], None, None, lineno=391, col_offset=40), lineno=391, col_offset=20), Assign([Name('host', Store(), lineno=392, col_offset=20)], Call(Name('unquote', Load(), lineno=392, col_offset=27), [Name('host', Load(), lineno=392, col_offset=35)], [], None, None, lineno=392, col_offset=27), lineno=392, col_offset=20)], [], lineno=390, col_offset=16), Assign([Name('realhost', Store(), lineno=393, col_offset=16)], Name('host', Load(), lineno=393, col_offset=27), lineno=393, col_offset=16)], [Assign([Tuple([Name('host', Store(), lineno=395, col_offset=16), Name('selector', Store(), lineno=395, col_offset=22)], Store(), lineno=395, col_offset=16)], Name('url', Load(), lineno=395, col_offset=33), lineno=395, col_offset=16), Assign([Tuple([Name('proxy_passwd', Store(), lineno=397, col_offset=16), Name('host', Store(), lineno=397, col_offset=30)], Store(), lineno=397, col_offset=16)], Call(Name('splituser', Load(), lineno=397, col_offset=37), [Name('host', Load(), lineno=397, col_offset=47)], [], None, None, lineno=397, col_offset=37), lineno=397, col_offset=16), Assign([Tuple([Name('urltype', Store(), lineno=398, col_offset=16), Name('rest', Store(), lineno=398, col_offset=25)], Store(), lineno=398, col_offset=16)], Call(Name('splittype', Load(), lineno=398, col_offset=32), [Name('selector', Load(), lineno=398, col_offset=42)], [], None, None, lineno=398, col_offset=32), lineno=398, col_offset=16), Assign([Name('url', Store(), lineno=399, col_offset=16)], Name('rest', Load(), lineno=399, col_offset=22), lineno=399, col_offset=16), Assign([Name('user_passwd', Store(), lineno=400, col_offset=16)], Name('None', Load(), lineno=400, col_offset=30), lineno=400, col_offset=16), If(Compare(Call(Attribute(Name('urltype', Load(), lineno=401, col_offset=19), 'lower', Load(), lineno=401, col_offset=19), [], [], None, None, lineno=401, col_offset=19), [NotEq()], [Str('https', lineno=401, col_offset=38)], lineno=401, col_offset=19), [Assign([Name('realhost', Store(), lineno=402, col_offset=20)], Name('None', Load(), lineno=402, col_offset=31), lineno=402, col_offset=20)], [Assign([Tuple([Name('realhost', Store(), lineno=404, col_offset=20), Name('rest', Store(), lineno=404, col_offset=30)], Store(), lineno=404, col_offset=20)], Call(Name('splithost', Load(), lineno=404, col_offset=37), [Name('rest', Load(), lineno=404, col_offset=47)], [], None, None, lineno=404, col_offset=37), lineno=404, col_offset=20), If(Name('realhost', Load(), lineno=405, col_offset=23), [Assign([Tuple([Name('user_passwd', Store(), lineno=406, col_offset=24), Name('realhost', Store(), lineno=406, col_offset=37)], Store(), lineno=406, col_offset=24)], Call(Name('splituser', Load(), lineno=406, col_offset=48), [Name('realhost', Load(), lineno=406, col_offset=58)], [], None, None, lineno=406, col_offset=48), lineno=406, col_offset=24)], [], lineno=405, col_offset=20), If(Name('user_passwd', Load(), lineno=407, col_offset=23), [Assign([Name('selector', Store(), lineno=408, col_offset=24)], BinOp(Str('%s://%s%s', lineno=408, col_offset=35), Mod(), Tuple([Name('urltype', Load(), lineno=408, col_offset=50), Name('realhost', Load(), lineno=408, col_offset=59), Name('rest', Load(), lineno=408, col_offset=69)], Load(), lineno=408, col_offset=50), lineno=408, col_offset=35), lineno=408, col_offset=24)], [], lineno=407, col_offset=20)], lineno=401, col_offset=16)], lineno=388, col_offset=12), If(UnaryOp(Not(), Name('host', Load(), lineno=410, col_offset=19), lineno=410, col_offset=15), [Raise(Name('IOError', Load(), lineno=410, col_offset=31), Tuple([Str('https error', lineno=410, col_offset=41), Str('no host given', lineno=410, col_offset=56)], Load(), lineno=410, col_offset=41), None, lineno=410, col_offset=25)], [], lineno=410, col_offset=12), If(Name('proxy_passwd', Load(), lineno=411, col_offset=15), [Import([alias('base64', None)], lineno=412, col_offset=16), Assign([Name('proxy_auth', Store(), lineno=413, col_offset=16)], Call(Attribute(Call(Attribute(Name('base64', Load(), lineno=413, col_offset=29), 'b64encode', Load(), lineno=413, col_offset=29), [Name('proxy_passwd', Load(), lineno=413, col_offset=46)], [], None, None, lineno=413, col_offset=29), 'strip', Load(), lineno=413, col_offset=29), [], [], None, None, lineno=413, col_offset=29), lineno=413, col_offset=16)], [Assign([Name('proxy_auth', Store(), lineno=415, col_offset=16)], Name('None', Load(), lineno=415, col_offset=29), lineno=415, col_offset=16)], lineno=411, col_offset=12), If(Name('user_passwd', Load(), lineno=416, col_offset=15), [Import([alias('base64', None)], lineno=417, col_offset=16), Assign([Name('auth', Store(), lineno=418, col_offset=16)], Call(Attribute(Call(Attribute(Name('base64', Load(), lineno=418, col_offset=23), 'b64encode', Load(), lineno=418, col_offset=23), [Name('user_passwd', Load(), lineno=418, col_offset=40)], [], None, None, lineno=418, col_offset=23), 'strip', Load(), lineno=418, col_offset=23), [], [], None, None, lineno=418, col_offset=23), lineno=418, col_offset=16)], [Assign([Name('auth', Store(), lineno=420, col_offset=16)], Name('None', Load(), lineno=420, col_offset=23), lineno=420, col_offset=16)], lineno=416, col_offset=12), Assign([Name('h', Store(), lineno=421, col_offset=12)], Call(Attribute(Name('httplib', Load(), lineno=421, col_offset=16), 'HTTPS', Load(), lineno=421, col_offset=16), [Name('host', Load(), lineno=421, col_offset=30), Num(0, lineno=421, col_offset=36)], [keyword('key_file', Attribute(Name('self', Load(), lineno=422, col_offset=39), 'key_file', Load(), lineno=422, col_offset=39)), keyword('cert_file', Attribute(Name('self', Load(), lineno=423, col_offset=40), 'cert_file', Load(), lineno=423, col_offset=40))], None, None, lineno=421, col_offset=16), lineno=421, col_offset=12), If(Compare(Name('data', Load(), lineno=424, col_offset=15), [IsNot()], [Name('None', Load(), lineno=424, col_offset=27)], lineno=424, col_offset=15), [Expr(Call(Attribute(Name('h', Load(), lineno=425, col_offset=16), 'putrequest', Load(), lineno=425, col_offset=16), [Str('POST', lineno=425, col_offset=29), Name('selector', Load(), lineno=425, col_offset=37)], [], None, None, lineno=425, col_offset=16), lineno=425, col_offset=16), Expr(Call(Attribute(Name('h', Load(), lineno=426, col_offset=16), 'putheader', Load(), lineno=426, col_offset=16), [Str('Content-Type', lineno=426, col_offset=28), Str('application/x-www-form-urlencoded', lineno=427, col_offset=28)], [], None, None, lineno=426, col_offset=16), lineno=426, col_offset=16), Expr(Call(Attribute(Name('h', Load(), lineno=428, col_offset=16), 'putheader', Load(), lineno=428, col_offset=16), [Str('Content-Length', lineno=428, col_offset=28), BinOp(Str('%d', lineno=428, col_offset=46), Mod(), Call(Name('len', Load(), lineno=428, col_offset=53), [Name('data', Load(), lineno=428, col_offset=57)], [], None, None, lineno=428, col_offset=53), lineno=428, col_offset=46)], [], None, None, lineno=428, col_offset=16), lineno=428, col_offset=16)], [Expr(Call(Attribute(Name('h', Load(), lineno=430, col_offset=16), 'putrequest', Load(), lineno=430, col_offset=16), [Str('GET', lineno=430, col_offset=29), Name('selector', Load(), lineno=430, col_offset=36)], [], None, None, lineno=430, col_offset=16), lineno=430, col_offset=16)], lineno=424, col_offset=12), If(Name('proxy_auth', Load(), lineno=431, col_offset=15), [Expr(Call(Attribute(Name('h', Load(), lineno=431, col_offset=27), 'putheader', Load(), lineno=431, col_offset=27), [Str('Proxy-Authorization', lineno=431, col_offset=39), BinOp(Str('Basic %s', lineno=431, col_offset=62), Mod(), Name('proxy_auth', Load(), lineno=431, col_offset=75), lineno=431, col_offset=62)], [], None, None, lineno=431, col_offset=27), lineno=431, col_offset=27)], [], lineno=431, col_offset=12), If(Name('auth', Load(), lineno=432, col_offset=15), [Expr(Call(Attribute(Name('h', Load(), lineno=432, col_offset=21), 'putheader', Load(), lineno=432, col_offset=21), [Str('Authorization', lineno=432, col_offset=33), BinOp(Str('Basic %s', lineno=432, col_offset=50), Mod(), Name('auth', Load(), lineno=432, col_offset=63), lineno=432, col_offset=50)], [], None, None, lineno=432, col_offset=21), lineno=432, col_offset=21)], [], lineno=432, col_offset=12), If(Name('realhost', Load(), lineno=433, col_offset=15), [Expr(Call(Attribute(Name('h', Load(), lineno=433, col_offset=25), 'putheader', Load(), lineno=433, col_offset=25), [Str('Host', lineno=433, col_offset=37), Name('realhost', Load(), lineno=433, col_offset=45)], [], None, None, lineno=433, col_offset=25), lineno=433, col_offset=25)], [], lineno=433, col_offset=12), For(Name('args', Store(), lineno=434, col_offset=16), Attribute(Name('self', Load(), lineno=434, col_offset=24), 'addheaders', Load(), lineno=434, col_offset=24), [Expr(Call(Attribute(Name('h', Load(), lineno=434, col_offset=41), 'putheader', Load(), lineno=434, col_offset=41), [], [], Name('args', Load(), lineno=434, col_offset=54), None, lineno=434, col_offset=41), lineno=434, col_offset=41)], [], lineno=434, col_offset=12), Expr(Call(Attribute(Name('h', Load(), lineno=435, col_offset=12), 'endheaders', Load(), lineno=435, col_offset=12), [Name('data', Load(), lineno=435, col_offset=25)], [], None, None, lineno=435, col_offset=12), lineno=435, col_offset=12), Assign([Tuple([Name('errcode', Store(), lineno=436, col_offset=12), Name('errmsg', Store(), lineno=436, col_offset=21), Name('headers', Store(), lineno=436, col_offset=29)], Store(), lineno=436, col_offset=12)], Call(Attribute(Name('h', Load(), lineno=436, col_offset=39), 'getreply', Load(), lineno=436, col_offset=39), [], [], None, None, lineno=436, col_offset=39), lineno=436, col_offset=12), Assign([Name('fp', Store(), lineno=437, col_offset=12)], Call(Attribute(Name('h', Load(), lineno=437, col_offset=17), 'getfile', Load(), lineno=437, col_offset=17), [], [], None, None, lineno=437, col_offset=17), lineno=437, col_offset=12), If(Compare(Name('errcode', Load(), lineno=438, col_offset=15), [Eq()], [Num(-1, lineno=438, col_offset=27)], lineno=438, col_offset=15), [If(Name('fp', Load(), lineno=439, col_offset=19), [Expr(Call(Attribute(Name('fp', Load(), lineno=439, col_offset=23), 'close', Load(), lineno=439, col_offset=23), [], [], None, None, lineno=439, col_offset=23), lineno=439, col_offset=23)], [], lineno=439, col_offset=16), Raise(Name('IOError', Load(), lineno=441, col_offset=22), Tuple([Str('http protocol error', lineno=441, col_offset=32), Num(0, lineno=441, col_offset=55), Str('got a bad status line', lineno=442, col_offset=32), Name('None', Load(), lineno=442, col_offset=57)], Load(), lineno=441, col_offset=32), None, lineno=441, col_offset=16)], [], lineno=438, col_offset=12), If(Compare(Num(200, lineno=445, col_offset=16), [LtE(), Lt()], [Name('errcode', Load(), lineno=445, col_offset=23), Num(300, lineno=445, col_offset=33)], lineno=445, col_offset=16), [Return(Call(Name('addinfourl', Load(), lineno=446, col_offset=23), [Name('fp', Load(), lineno=446, col_offset=34), Name('headers', Load(), lineno=446, col_offset=38), BinOp(Str('https:', lineno=446, col_offset=47), Add(), Name('url', Load(), lineno=446, col_offset=58), lineno=446, col_offset=47), Name('errcode', Load(), lineno=446, col_offset=63)], [], None, None, lineno=446, col_offset=23), lineno=446, col_offset=16)], [If(Compare(Name('data', Load(), lineno=448, col_offset=19), [Is()], [Name('None', Load(), lineno=448, col_offset=27)], lineno=448, col_offset=19), [Return(Call(Attribute(Name('self', Load(), lineno=449, col_offset=27), 'http_error', Load(), lineno=449, col_offset=27), [Name('url', Load(), lineno=449, col_offset=43), Name('fp', Load(), lineno=449, col_offset=48), Name('errcode', Load(), lineno=449, col_offset=52), Name('errmsg', Load(), lineno=449, col_offset=61), Name('headers', Load(), lineno=449, col_offset=69)], [], None, None, lineno=449, col_offset=27), lineno=449, col_offset=20)], [Return(Call(Attribute(Name('self', Load(), lineno=451, col_offset=27), 'http_error', Load(), lineno=451, col_offset=27), [Name('url', Load(), lineno=451, col_offset=43), Name('fp', Load(), lineno=451, col_offset=48), Name('errcode', Load(), lineno=451, col_offset=52), Name('errmsg', Load(), lineno=451, col_offset=61), Name('headers', Load(), lineno=451, col_offset=69), Name('data', Load(), lineno=452, col_offset=43)], [], None, None, lineno=451, col_offset=27), lineno=451, col_offset=20)], lineno=448, col_offset=16)], lineno=445, col_offset=12)], [], lineno=382, col_offset=8)], [], lineno=381, col_offset=4), FunctionDef('open_file', arguments([Name('self', Param(), lineno=454, col_offset=18), Name('url', Param(), lineno=454, col_offset=24)], None, None, []), [Expr(Str('Use local file or FTP depending on form of URL.', lineno=455, col_offset=8), lineno=455, col_offset=8), If(UnaryOp(Not(), Call(Name('isinstance', Load(), lineno=456, col_offset=15), [Name('url', Load(), lineno=456, col_offset=26), Name('str', Load(), lineno=456, col_offset=31)], [], None, None, lineno=456, col_offset=15), lineno=456, col_offset=11), [Raise(Name('IOError', Load(), lineno=457, col_offset=18), Tuple([Str('file error', lineno=457, col_offset=28), Str('proxy support for file protocol currently not implemented', lineno=457, col_offset=42)], Load(), lineno=457, col_offset=28), None, lineno=457, col_offset=12)], [], lineno=456, col_offset=8), If(BoolOp(And(), [Compare(Subscript(Name('url', Load(), lineno=458, col_offset=11), Slice(None, Num(2, lineno=458, col_offset=16), None), Load(), lineno=458, col_offset=11), [Eq()], [Str('//', lineno=458, col_offset=22)], lineno=458, col_offset=11), Compare(Subscript(Name('url', Load(), lineno=458, col_offset=31), Slice(Num(2, lineno=458, col_offset=35), Num(3, lineno=458, col_offset=37), None), Load(), lineno=458, col_offset=31), [NotEq()], [Str('/', lineno=458, col_offset=43)], lineno=458, col_offset=31), Compare(Call(Attribute(Subscript(Name('url', Load(), lineno=458, col_offset=51), Slice(Num(2, lineno=458, col_offset=55), Num(12, lineno=458, col_offset=57), None), Load(), lineno=458, col_offset=51), 'lower', Load(), lineno=458, col_offset=51), [], [], None, None, lineno=458, col_offset=51), [NotEq()], [Str('localhost/', lineno=458, col_offset=72)], lineno=458, col_offset=51)], lineno=458, col_offset=11), [Return(Call(Attribute(Name('self', Load(), lineno=459, col_offset=19), 'open_ftp', Load(), lineno=459, col_offset=19), [Name('url', Load(), lineno=459, col_offset=33)], [], None, None, lineno=459, col_offset=19), lineno=459, col_offset=12)], [Return(Call(Attribute(Name('self', Load(), lineno=461, col_offset=19), 'open_local_file', Load(), lineno=461, col_offset=19), [Name('url', Load(), lineno=461, col_offset=40)], [], None, None, lineno=461, col_offset=19), lineno=461, col_offset=12)], lineno=458, col_offset=8)], [], lineno=454, col_offset=4), FunctionDef('open_local_file', arguments([Name('self', Param(), lineno=463, col_offset=24), Name('url', Param(), lineno=463, col_offset=30)], None, None, []), [Expr(Str('Use local file.', lineno=464, col_offset=8), lineno=464, col_offset=8), Import([alias('mimetypes', None), alias('mimetools', None), alias('email.utils', None)], lineno=465, col_offset=8), TryExcept([ImportFrom('cStringIO', [alias('StringIO', None)], 0, lineno=467, col_offset=12)], [ExceptHandler(Name('ImportError', Load(), lineno=468, col_offset=15), None, [ImportFrom('StringIO', [alias('StringIO', None)], 0, lineno=469, col_offset=12)], lineno=468, col_offset=8)], [], lineno=466, col_offset=8), Assign([Tuple([Name('host', Store(), lineno=470, col_offset=8), Name('file', Store(), lineno=470, col_offset=14)], Store(), lineno=470, col_offset=8)], Call(Name('splithost', Load(), lineno=470, col_offset=21), [Name('url', Load(), lineno=470, col_offset=31)], [], None, None, lineno=470, col_offset=21), lineno=470, col_offset=8), Assign([Name('localname', Store(), lineno=471, col_offset=8)], Call(Name('url2pathname', Load(), lineno=471, col_offset=20), [Name('file', Load(), lineno=471, col_offset=33)], [], None, None, lineno=471, col_offset=20), lineno=471, col_offset=8), TryExcept([Assign([Name('stats', Store(), lineno=473, col_offset=12)], Call(Attribute(Name('os', Load(), lineno=473, col_offset=20), 'stat', Load(), lineno=473, col_offset=20), [Name('localname', Load(), lineno=473, col_offset=28)], [], None, None, lineno=473, col_offset=20), lineno=473, col_offset=12)], [ExceptHandler(Name('OSError', Load(), lineno=474, col_offset=15), Name('e', Store(), lineno=474, col_offset=24), [Raise(Call(Name('IOError', Load(), lineno=475, col_offset=18), [Attribute(Name('e', Load(), lineno=475, col_offset=26), 'errno', Load(), lineno=475, col_offset=26), Attribute(Name('e', Load(), lineno=475, col_offset=35), 'strerror', Load(), lineno=475, col_offset=35), Attribute(Name('e', Load(), lineno=475, col_offset=47), 'filename', Load(), lineno=475, col_offset=47)], [], None, None, lineno=475, col_offset=18), None, None, lineno=475, col_offset=12)], lineno=474, col_offset=8)], [], lineno=472, col_offset=8), Assign([Name('size', Store(), lineno=476, col_offset=8)], Attribute(Name('stats', Load(), lineno=476, col_offset=15), 'st_size', Load(), lineno=476, col_offset=15), lineno=476, col_offset=8), Assign([Name('modified', Store(), lineno=477, col_offset=8)], Call(Attribute(Attribute(Name('email', Load(), lineno=477, col_offset=19), 'utils', Load(), lineno=477, col_offset=19), 'formatdate', Load(), lineno=477, col_offset=19), [Attribute(Name('stats', Load(), lineno=477, col_offset=42), 'st_mtime', Load(), lineno=477, col_offset=42)], [keyword('usegmt', Name('True', Load(), lineno=477, col_offset=65))], None, None, lineno=477, col_offset=19), lineno=477, col_offset=8), Assign([Name('mtype', Store(), lineno=478, col_offset=8)], Subscript(Call(Attribute(Name('mimetypes', Load(), lineno=478, col_offset=16), 'guess_type', Load(), lineno=478, col_offset=16), [Name('url', Load(), lineno=478, col_offset=37)], [], None, None, lineno=478, col_offset=16), Index(Num(0, lineno=478, col_offset=42)), Load(), lineno=478, col_offset=16), lineno=478, col_offset=8), Assign([Name('headers', Store(), lineno=479, col_offset=8)], Call(Attribute(Name('mimetools', Load(), lineno=479, col_offset=18), 'Message', Load(), lineno=479, col_offset=18), [Call(Name('StringIO', Load(), lineno=479, col_offset=36), [BinOp(Str('Content-Type: %s\nContent-Length: %d\nLast-modified: %s\n', lineno=480, col_offset=12), Mod(), Tuple([BoolOp(Or(), [Name('mtype', Load(), lineno=481, col_offset=13), Str('text/plain', lineno=481, col_offset=22)], lineno=481, col_offset=13), Name('size', Load(), lineno=481, col_offset=36), Name('modified', Load(), lineno=481, col_offset=42)], Load(), lineno=481, col_offset=13), lineno=480, col_offset=12)], [], None, None, lineno=479, col_offset=36)], [], None, None, lineno=479, col_offset=18), lineno=479, col_offset=8), If(UnaryOp(Not(), Name('host', Load(), lineno=482, col_offset=15), lineno=482, col_offset=11), [Assign([Name('urlfile', Store(), lineno=483, col_offset=12)], Name('file', Load(), lineno=483, col_offset=22), lineno=483, col_offset=12), If(Compare(Subscript(Name('file', Load(), lineno=484, col_offset=15), Slice(None, Num(1, lineno=484, col_offset=21), None), Load(), lineno=484, col_offset=15), [Eq()], [Str('/', lineno=484, col_offset=27)], lineno=484, col_offset=15), [Assign([Name('urlfile', Store(), lineno=485, col_offset=16)], BinOp(Str('file://', lineno=485, col_offset=26), Add(), Name('file', Load(), lineno=485, col_offset=38), lineno=485, col_offset=26), lineno=485, col_offset=16)], [], lineno=484, col_offset=12), Return(Call(Name('addinfourl', Load(), lineno=486, col_offset=19), [Call(Name('open', Load(), lineno=486, col_offset=30), [Name('localname', Load(), lineno=486, col_offset=35), Str('rb', lineno=486, col_offset=46)], [], None, None, lineno=486, col_offset=30), Name('headers', Load(), lineno=487, col_offset=30), Name('urlfile', Load(), lineno=487, col_offset=39)], [], None, None, lineno=486, col_offset=19), lineno=486, col_offset=12)], [], lineno=482, col_offset=8), Assign([Tuple([Name('host', Store(), lineno=488, col_offset=8), Name('port', Store(), lineno=488, col_offset=14)], Store(), lineno=488, col_offset=8)], Call(Name('splitport', Load(), lineno=488, col_offset=21), [Name('host', Load(), lineno=488, col_offset=31)], [], None, None, lineno=488, col_offset=21), lineno=488, col_offset=8), If(BoolOp(And(), [UnaryOp(Not(), Name('port', Load(), lineno=489, col_offset=15), lineno=489, col_offset=11), Compare(Call(Attribute(Name('socket', Load(), lineno=490, col_offset=15), 'gethostbyname', Load(), lineno=490, col_offset=15), [Name('host', Load(), lineno=490, col_offset=36)], [], None, None, lineno=490, col_offset=15), [In()], [Tuple([Call(Name('localhost', Load(), lineno=490, col_offset=46), [], [], None, None, lineno=490, col_offset=46), Call(Name('thishost', Load(), lineno=490, col_offset=59), [], [], None, None, lineno=490, col_offset=59)], Load(), lineno=490, col_offset=46)], lineno=490, col_offset=15)], lineno=489, col_offset=11), [Assign([Name('urlfile', Store(), lineno=491, col_offset=12)], Name('file', Load(), lineno=491, col_offset=22), lineno=491, col_offset=12), If(Compare(Subscript(Name('file', Load(), lineno=492, col_offset=15), Slice(None, Num(1, lineno=492, col_offset=21), None), Load(), lineno=492, col_offset=15), [Eq()], [Str('/', lineno=492, col_offset=27)], lineno=492, col_offset=15), [Assign([Name('urlfile', Store(), lineno=493, col_offset=16)], BinOp(Str('file://', lineno=493, col_offset=26), Add(), Name('file', Load(), lineno=493, col_offset=38), lineno=493, col_offset=26), lineno=493, col_offset=16)], [], lineno=492, col_offset=12), Return(Call(Name('addinfourl', Load(), lineno=494, col_offset=19), [Call(Name('open', Load(), lineno=494, col_offset=30), [Name('localname', Load(), lineno=494, col_offset=35), Str('rb', lineno=494, col_offset=46)], [], None, None, lineno=494, col_offset=30), Name('headers', Load(), lineno=495, col_offset=30), Name('urlfile', Load(), lineno=495, col_offset=39)], [], None, None, lineno=494, col_offset=19), lineno=494, col_offset=12)], [], lineno=489, col_offset=8), Raise(Name('IOError', Load(), lineno=496, col_offset=14), Tuple([Str('local file error', lineno=496, col_offset=24), Str('not on local host', lineno=496, col_offset=44)], Load(), lineno=496, col_offset=24), None, lineno=496, col_offset=8)], [], lineno=463, col_offset=4), FunctionDef('open_ftp', arguments([Name('self', Param(), lineno=498, col_offset=17), Name('url', Param(), lineno=498, col_offset=23)], None, None, []), [Expr(Str('Use FTP protocol.', lineno=499, col_offset=8), lineno=499, col_offset=8), If(UnaryOp(Not(), Call(Name('isinstance', Load(), lineno=500, col_offset=15), [Name('url', Load(), lineno=500, col_offset=26), Name('str', Load(), lineno=500, col_offset=31)], [], None, None, lineno=500, col_offset=15), lineno=500, col_offset=11), [Raise(Name('IOError', Load(), lineno=501, col_offset=18), Tuple([Str('ftp error', lineno=501, col_offset=28), Str('proxy support for ftp protocol currently not implemented', lineno=501, col_offset=41)], Load(), lineno=501, col_offset=28), None, lineno=501, col_offset=12)], [], lineno=500, col_offset=8), Import([alias('mimetypes', None), alias('mimetools', None)], lineno=502, col_offset=8), TryExcept([ImportFrom('cStringIO', [alias('StringIO', None)], 0, lineno=504, col_offset=12)], [ExceptHandler(Name('ImportError', Load(), lineno=505, col_offset=15), None, [ImportFrom('StringIO', [alias('StringIO', None)], 0, lineno=506, col_offset=12)], lineno=505, col_offset=8)], [], lineno=503, col_offset=8), Assign([Tuple([Name('host', Store(), lineno=507, col_offset=8), Name('path', Store(), lineno=507, col_offset=14)], Store(), lineno=507, col_offset=8)], Call(Name('splithost', Load(), lineno=507, col_offset=21), [Name('url', Load(), lineno=507, col_offset=31)], [], None, None, lineno=507, col_offset=21), lineno=507, col_offset=8), If(UnaryOp(Not(), Name('host', Load(), lineno=508, col_offset=15), lineno=508, col_offset=11), [Raise(Name('IOError', Load(), lineno=508, col_offset=27), Tuple([Str('ftp error', lineno=508, col_offset=37), Str('no host given', lineno=508, col_offset=50)], Load(), lineno=508, col_offset=37), None, lineno=508, col_offset=21)], [], lineno=508, col_offset=8), Assign([Tuple([Name('host', Store(), lineno=509, col_offset=8), Name('port', Store(), lineno=509, col_offset=14)], Store(), lineno=509, col_offset=8)], Call(Name('splitport', Load(), lineno=509, col_offset=21), [Name('host', Load(), lineno=509, col_offset=31)], [], None, None, lineno=509, col_offset=21), lineno=509, col_offset=8), Assign([Tuple([Name('user', Store(), lineno=510, col_offset=8), Name('host', Store(), lineno=510, col_offset=14)], Store(), lineno=510, col_offset=8)], Call(Name('splituser', Load(), lineno=510, col_offset=21), [Name('host', Load(), lineno=510, col_offset=31)], [], None, None, lineno=510, col_offset=21), lineno=510, col_offset=8), If(Name('user', Load(), lineno=511, col_offset=11), [Assign([Tuple([Name('user', Store(), lineno=511, col_offset=17), Name('passwd', Store(), lineno=511, col_offset=23)], Store(), lineno=511, col_offset=17)], Call(Name('splitpasswd', Load(), lineno=511, col_offset=32), [Name('user', Load(), lineno=511, col_offset=44)], [], None, None, lineno=511, col_offset=32), lineno=511, col_offset=17)], [Assign([Name('passwd', Store(), lineno=512, col_offset=14)], Name('None', Load(), lineno=512, col_offset=23), lineno=512, col_offset=14)], lineno=511, col_offset=8), Assign([Name('host', Store(), lineno=513, col_offset=8)], Call(Name('unquote', Load(), lineno=513, col_offset=15), [Name('host', Load(), lineno=513, col_offset=23)], [], None, None, lineno=513, col_offset=15), lineno=513, col_offset=8), Assign([Name('user', Store(), lineno=514, col_offset=8)], BoolOp(Or(), [Name('user', Load(), lineno=514, col_offset=15), Str('', lineno=514, col_offset=23)], lineno=514, col_offset=15), lineno=514, col_offset=8), Assign([Name('passwd', Store(), lineno=515, col_offset=8)], BoolOp(Or(), [Name('passwd', Load(), lineno=515, col_offset=17), Str('', lineno=515, col_offset=27)], lineno=515, col_offset=17), lineno=515, col_offset=8), Assign([Name('host', Store(), lineno=516, col_offset=8)], Call(Attribute(Name('socket', Load(), lineno=516, col_offset=15), 'gethostbyname', Load(), lineno=516, col_offset=15), [Name('host', Load(), lineno=516, col_offset=36)], [], None, None, lineno=516, col_offset=15), lineno=516, col_offset=8), If(UnaryOp(Not(), Name('port', Load(), lineno=517, col_offset=15), lineno=517, col_offset=11), [Import([alias('ftplib', None)], lineno=518, col_offset=12), Assign([Name('port', Store(), lineno=519, col_offset=12)], Attribute(Name('ftplib', Load(), lineno=519, col_offset=19), 'FTP_PORT', Load(), lineno=519, col_offset=19), lineno=519, col_offset=12)], [Assign([Name('port', Store(), lineno=521, col_offset=12)], Call(Name('int', Load(), lineno=521, col_offset=19), [Name('port', Load(), lineno=521, col_offset=23)], [], None, None, lineno=521, col_offset=19), lineno=521, col_offset=12)], lineno=517, col_offset=8), Assign([Tuple([Name('path', Store(), lineno=522, col_offset=8), Name('attrs', Store(), lineno=522, col_offset=14)], Store(), lineno=522, col_offset=8)], Call(Name('splitattr', Load(), lineno=522, col_offset=22), [Name('path', Load(), lineno=522, col_offset=32)], [], None, None, lineno=522, col_offset=22), lineno=522, col_offset=8), Assign([Name('path', Store(), lineno=523, col_offset=8)], Call(Name('unquote', Load(), lineno=523, col_offset=15), [Name('path', Load(), lineno=523, col_offset=23)], [], None, None, lineno=523, col_offset=15), lineno=523, col_offset=8), Assign([Name('dirs', Store(), lineno=524, col_offset=8)], Call(Attribute(Name('path', Load(), lineno=524, col_offset=15), 'split', Load(), lineno=524, col_offset=15), [Str('/', lineno=524, col_offset=26)], [], None, None, lineno=524, col_offset=15), lineno=524, col_offset=8), Assign([Tuple([Name('dirs', Store(), lineno=525, col_offset=8), Name('file', Store(), lineno=525, col_offset=14)], Store(), lineno=525, col_offset=8)], Tuple([Subscript(Name('dirs', Load(), lineno=525, col_offset=21), Slice(None, Num(-1, lineno=525, col_offset=28), None), Load(), lineno=525, col_offset=21), Subscript(Name('dirs', Load(), lineno=525, col_offset=32), Index(Num(-1, lineno=525, col_offset=38)), Load(), lineno=525, col_offset=32)], Load(), lineno=525, col_offset=21), lineno=525, col_offset=8), If(BoolOp(And(), [Name('dirs', Load(), lineno=526, col_offset=11), UnaryOp(Not(), Subscript(Name('dirs', Load(), lineno=526, col_offset=24), Index(Num(0, lineno=526, col_offset=29)), Load(), lineno=526, col_offset=24), lineno=526, col_offset=20)], lineno=526, col_offset=11), [Assign([Name('dirs', Store(), lineno=526, col_offset=33)], Subscript(Name('dirs', Load(), lineno=526, col_offset=40), Slice(Num(1, lineno=526, col_offset=45), None, None), Load(), lineno=526, col_offset=40), lineno=526, col_offset=33)], [], lineno=526, col_offset=8), If(BoolOp(And(), [Name('dirs', Load(), lineno=527, col_offset=11), UnaryOp(Not(), Subscript(Name('dirs', Load(), lineno=527, col_offset=24), Index(Num(0, lineno=527, col_offset=29)), Load(), lineno=527, col_offset=24), lineno=527, col_offset=20)], lineno=527, col_offset=11), [Assign([Subscript(Name('dirs', Load(), lineno=527, col_offset=33), Index(Num(0, lineno=527, col_offset=38)), Store(), lineno=527, col_offset=33)], Str('/', lineno=527, col_offset=43), lineno=527, col_offset=33)], [], lineno=527, col_offset=8), Assign([Name('key', Store(), lineno=528, col_offset=8)], Tuple([Name('user', Load(), lineno=528, col_offset=14), Name('host', Load(), lineno=528, col_offset=20), Name('port', Load(), lineno=528, col_offset=26), Call(Attribute(Str('/', lineno=528, col_offset=32), 'join', Load(), lineno=528, col_offset=32), [Name('dirs', Load(), lineno=528, col_offset=41)], [], None, None, lineno=528, col_offset=32)], Load(), lineno=528, col_offset=14), lineno=528, col_offset=8), If(Compare(Call(Name('len', Load(), lineno=530, col_offset=11), [Attribute(Name('self', Load(), lineno=530, col_offset=15), 'ftpcache', Load(), lineno=530, col_offset=15)], [], None, None, lineno=530, col_offset=11), [Gt()], [Name('MAXFTPCACHE', Load(), lineno=530, col_offset=32)], lineno=530, col_offset=11), [For(Name('k', Store(), lineno=532, col_offset=16), Call(Attribute(Attribute(Name('self', Load(), lineno=532, col_offset=21), 'ftpcache', Load(), lineno=532, col_offset=21), 'keys', Load(), lineno=532, col_offset=21), [], [], None, None, lineno=532, col_offset=21), [If(Compare(Name('k', Load(), lineno=533, col_offset=19), [NotEq()], [Name('key', Load(), lineno=533, col_offset=24)], lineno=533, col_offset=19), [Assign([Name('v', Store(), lineno=534, col_offset=20)], Subscript(Attribute(Name('self', Load(), lineno=534, col_offset=24), 'ftpcache', Load(), lineno=534, col_offset=24), Index(Name('k', Load(), lineno=534, col_offset=38)), Load(), lineno=534, col_offset=24), lineno=534, col_offset=20), Delete([Subscript(Attribute(Name('self', Load(), lineno=535, col_offset=24), 'ftpcache', Load(), lineno=535, col_offset=24), Index(Name('k', Load(), lineno=535, col_offset=38)), Del(), lineno=535, col_offset=24)], lineno=535, col_offset=20), Expr(Call(Attribute(Name('v', Load(), lineno=536, col_offset=20), 'close', Load(), lineno=536, col_offset=20), [], [], None, None, lineno=536, col_offset=20), lineno=536, col_offset=20)], [], lineno=533, col_offset=16)], [], lineno=532, col_offset=12)], [], lineno=530, col_offset=8), TryExcept([If(UnaryOp(Not(), Compare(Name('key', Load(), lineno=538, col_offset=19), [In()], [Attribute(Name('self', Load(), lineno=538, col_offset=26), 'ftpcache', Load(), lineno=538, col_offset=26)], lineno=538, col_offset=19), lineno=538, col_offset=15), [Assign([Subscript(Attribute(Name('self', Load(), lineno=539, col_offset=16), 'ftpcache', Load(), lineno=539, col_offset=16), Index(Name('key', Load(), lineno=539, col_offset=30)), Store(), lineno=539, col_offset=16)], Call(Name('ftpwrapper', Load(), lineno=540, col_offset=20), [Name('user', Load(), lineno=540, col_offset=31), Name('passwd', Load(), lineno=540, col_offset=37), Name('host', Load(), lineno=540, col_offset=45), Name('port', Load(), lineno=540, col_offset=51), Name('dirs', Load(), lineno=540, col_offset=57)], [], None, None, lineno=540, col_offset=20), lineno=539, col_offset=16)], [], lineno=538, col_offset=12), If(UnaryOp(Not(), Name('file', Load(), lineno=541, col_offset=19), lineno=541, col_offset=15), [Assign([Name('type', Store(), lineno=541, col_offset=25)], Str('D', lineno=541, col_offset=32), lineno=541, col_offset=25)], [Assign([Name('type', Store(), lineno=542, col_offset=18)], Str('I', lineno=542, col_offset=25), lineno=542, col_offset=18)], lineno=541, col_offset=12), For(Name('attr', Store(), lineno=543, col_offset=16), Name('attrs', Load(), lineno=543, col_offset=24), [Assign([Tuple([Name('attr', Store(), lineno=544, col_offset=16), Name('value', Store(), lineno=544, col_offset=22)], Store(), lineno=544, col_offset=16)], Call(Name('splitvalue', Load(), lineno=544, col_offset=30), [Name('attr', Load(), lineno=544, col_offset=41)], [], None, None, lineno=544, col_offset=30), lineno=544, col_offset=16), If(BoolOp(And(), [Compare(Call(Attribute(Name('attr', Load(), lineno=545, col_offset=19), 'lower', Load(), lineno=545, col_offset=19), [], [], None, None, lineno=545, col_offset=19), [Eq()], [Str('type', lineno=545, col_offset=35)], lineno=545, col_offset=19), Compare(Name('value', Load(), lineno=546, col_offset=19), [In()], [Tuple([Str('a', lineno=546, col_offset=29), Str('A', lineno=546, col_offset=34), Str('i', lineno=546, col_offset=39), Str('I', lineno=546, col_offset=44), Str('d', lineno=546, col_offset=49), Str('D', lineno=546, col_offset=54)], Load(), lineno=546, col_offset=29)], lineno=546, col_offset=19)], lineno=545, col_offset=19), [Assign([Name('type', Store(), lineno=547, col_offset=20)], Call(Attribute(Name('value', Load(), lineno=547, col_offset=27), 'upper', Load(), lineno=547, col_offset=27), [], [], None, None, lineno=547, col_offset=27), lineno=547, col_offset=20)], [], lineno=545, col_offset=16)], [], lineno=543, col_offset=12), Assign([Tuple([Name('fp', Store(), lineno=548, col_offset=13), Name('retrlen', Store(), lineno=548, col_offset=17)], Store(), lineno=548, col_offset=13)], Call(Attribute(Subscript(Attribute(Name('self', Load(), lineno=548, col_offset=28), 'ftpcache', Load(), lineno=548, col_offset=28), Index(Name('key', Load(), lineno=548, col_offset=42)), Load(), lineno=548, col_offset=28), 'retrfile', Load(), lineno=548, col_offset=28), [Name('file', Load(), lineno=548, col_offset=56), Name('type', Load(), lineno=548, col_offset=62)], [], None, None, lineno=548, col_offset=28), lineno=548, col_offset=12), Assign([Name('mtype', Store(), lineno=549, col_offset=12)], Subscript(Call(Attribute(Name('mimetypes', Load(), lineno=549, col_offset=20), 'guess_type', Load(), lineno=549, col_offset=20), [BinOp(Str('ftp:', lineno=549, col_offset=41), Add(), Name('url', Load(), lineno=549, col_offset=50), lineno=549, col_offset=41)], [], None, None, lineno=549, col_offset=20), Index(Num(0, lineno=549, col_offset=55)), Load(), lineno=549, col_offset=20), lineno=549, col_offset=12), Assign([Name('headers', Store(), lineno=550, col_offset=12)], Str('', lineno=550, col_offset=22), lineno=550, col_offset=12), If(Name('mtype', Load(), lineno=551, col_offset=15), [AugAssign(Name('headers', Store(), lineno=552, col_offset=16), Add(), BinOp(Str('Content-Type: %s\n', lineno=552, col_offset=27), Mod(), Name('mtype', Load(), lineno=552, col_offset=50), lineno=552, col_offset=27), lineno=552, col_offset=16)], [], lineno=551, col_offset=12), If(BoolOp(And(), [Compare(Name('retrlen', Load(), lineno=553, col_offset=15), [IsNot()], [Name('None', Load(), lineno=553, col_offset=30)], lineno=553, col_offset=15), Compare(Name('retrlen', Load(), lineno=553, col_offset=39), [GtE()], [Num(0, lineno=553, col_offset=50)], lineno=553, col_offset=39)], lineno=553, col_offset=15), [AugAssign(Name('headers', Store(), lineno=554, col_offset=16), Add(), BinOp(Str('Content-Length: %d\n', lineno=554, col_offset=27), Mod(), Name('retrlen', Load(), lineno=554, col_offset=52), lineno=554, col_offset=27), lineno=554, col_offset=16)], [], lineno=553, col_offset=12), Assign([Name('headers', Store(), lineno=555, col_offset=12)], Call(Attribute(Name('mimetools', Load(), lineno=555, col_offset=22), 'Message', Load(), lineno=555, col_offset=22), [Call(Name('StringIO', Load(), lineno=555, col_offset=40), [Name('headers', Load(), lineno=555, col_offset=49)], [], None, None, lineno=555, col_offset=40)], [], None, None, lineno=555, col_offset=22), lineno=555, col_offset=12), Return(Call(Name('addinfourl', Load(), lineno=556, col_offset=19), [Name('fp', Load(), lineno=556, col_offset=30), Name('headers', Load(), lineno=556, col_offset=34), BinOp(Str('ftp:', lineno=556, col_offset=43), Add(), Name('url', Load(), lineno=556, col_offset=52), lineno=556, col_offset=43)], [], None, None, lineno=556, col_offset=19), lineno=556, col_offset=12)], [ExceptHandler(Call(Name('ftperrors', Load(), lineno=557, col_offset=15), [], [], None, None, lineno=557, col_offset=15), Name('msg', Store(), lineno=557, col_offset=28), [Raise(Name('IOError', Load(), lineno=558, col_offset=18), Tuple([Str('ftp error', lineno=558, col_offset=28), Name('msg', Load(), lineno=558, col_offset=41)], Load(), lineno=558, col_offset=28), Subscript(Call(Attribute(Name('sys', Load(), lineno=558, col_offset=47), 'exc_info', Load(), lineno=558, col_offset=47), [], [], None, None, lineno=558, col_offset=47), Index(Num(2, lineno=558, col_offset=62)), Load(), lineno=558, col_offset=47), lineno=558, col_offset=12)], lineno=557, col_offset=8)], [], lineno=537, col_offset=8)], [], lineno=498, col_offset=4), FunctionDef('open_data', arguments([Name('self', Param(), lineno=560, col_offset=18), Name('url', Param(), lineno=560, col_offset=24), Name('data', Param(), lineno=560, col_offset=29)], None, None, [Name('None', Load(), lineno=560, col_offset=34)]), [Expr(Str('Use "data" URL.', lineno=561, col_offset=8), lineno=561, col_offset=8), If(UnaryOp(Not(), Call(Name('isinstance', Load(), lineno=562, col_offset=15), [Name('url', Load(), lineno=562, col_offset=26), Name('str', Load(), lineno=562, col_offset=31)], [], None, None, lineno=562, col_offset=15), lineno=562, col_offset=11), [Raise(Name('IOError', Load(), lineno=563, col_offset=18), Tuple([Str('data error', lineno=563, col_offset=28), Str('proxy support for data protocol currently not implemented', lineno=563, col_offset=42)], Load(), lineno=563, col_offset=28), None, lineno=563, col_offset=12)], [], lineno=562, col_offset=8), Import([alias('mimetools', None)], lineno=571, col_offset=8), TryExcept([ImportFrom('cStringIO', [alias('StringIO', None)], 0, lineno=573, col_offset=12)], [ExceptHandler(Name('ImportError', Load(), lineno=574, col_offset=15), None, [ImportFrom('StringIO', [alias('StringIO', None)], 0, lineno=575, col_offset=12)], lineno=574, col_offset=8)], [], lineno=572, col_offset=8), TryExcept([Assign([List([Name('type', Store(), lineno=577, col_offset=13), Name('data', Store(), lineno=577, col_offset=19)], Store(), lineno=577, col_offset=12)], Call(Attribute(Name('url', Load(), lineno=577, col_offset=27), 'split', Load(), lineno=577, col_offset=27), [Str(',', lineno=577, col_offset=37), Num(1, lineno=577, col_offset=42)], [], None, None, lineno=577, col_offset=27), lineno=577, col_offset=12)], [ExceptHandler(Name('ValueError', Load(), lineno=578, col_offset=15), None, [Raise(Name('IOError', Load(), lineno=579, col_offset=18), Tuple([Str('data error', lineno=579, col_offset=28), Str('bad data URL', lineno=579, col_offset=42)], Load(), lineno=579, col_offset=28), None, lineno=579, col_offset=12)], lineno=578, col_offset=8)], [], lineno=576, col_offset=8), If(UnaryOp(Not(), Name('type', Load(), lineno=580, col_offset=15), lineno=580, col_offset=11), [Assign([Name('type', Store(), lineno=581, col_offset=12)], Str('text/plain;charset=US-ASCII', lineno=581, col_offset=19), lineno=581, col_offset=12)], [], lineno=580, col_offset=8), Assign([Name('semi', Store(), lineno=582, col_offset=8)], Call(Attribute(Name('type', Load(), lineno=582, col_offset=15), 'rfind', Load(), lineno=582, col_offset=15), [Str(';', lineno=582, col_offset=26)], [], None, None, lineno=582, col_offset=15), lineno=582, col_offset=8), If(BoolOp(And(), [Compare(Name('semi', Load(), lineno=583, col_offset=11), [GtE()], [Num(0, lineno=583, col_offset=19)], lineno=583, col_offset=11), Compare(Str('=', lineno=583, col_offset=25), [NotIn()], [Subscript(Name('type', Load(), lineno=583, col_offset=36), Slice(Name('semi', Load(), lineno=583, col_offset=41), None, None), Load(), lineno=583, col_offset=36)], lineno=583, col_offset=25)], lineno=583, col_offset=11), [Assign([Name('encoding', Store(), lineno=584, col_offset=12)], Subscript(Name('type', Load(), lineno=584, col_offset=23), Slice(BinOp(Name('semi', Load(), lineno=584, col_offset=28), Add(), Num(1, lineno=584, col_offset=33), lineno=584, col_offset=28), None, None), Load(), lineno=584, col_offset=23), lineno=584, col_offset=12), Assign([Name('type', Store(), lineno=585, col_offset=12)], Subscript(Name('type', Load(), lineno=585, col_offset=19), Slice(None, Name('semi', Load(), lineno=585, col_offset=25), None), Load(), lineno=585, col_offset=19), lineno=585, col_offset=12)], [Assign([Name('encoding', Store(), lineno=587, col_offset=12)], Str('', lineno=587, col_offset=23), lineno=587, col_offset=12)], lineno=583, col_offset=8), Assign([Name('msg', Store(), lineno=588, col_offset=8)], List([], Load(), lineno=588, col_offset=14), lineno=588, col_offset=8), Expr(Call(Attribute(Name('msg', Load(), lineno=589, col_offset=8), 'append', Load(), lineno=589, col_offset=8), [BinOp(Str('Date: %s', lineno=589, col_offset=19), Mod(), Call(Attribute(Name('time', Load(), lineno=589, col_offset=30), 'strftime', Load(), lineno=589, col_offset=30), [Str('%a, %d %b %Y %H:%M:%S GMT', lineno=589, col_offset=44), Call(Attribute(Name('time', Load(), lineno=590, col_offset=44), 'gmtime', Load(), lineno=590, col_offset=44), [Call(Attribute(Name('time', Load(), lineno=590, col_offset=56), 'time', Load(), lineno=590, col_offset=56), [], [], None, None, lineno=590, col_offset=56)], [], None, None, lineno=590, col_offset=44)], [], None, None, lineno=589, col_offset=30), lineno=589, col_offset=19)], [], None, None, lineno=589, col_offset=8), lineno=589, col_offset=8), Expr(Call(Attribute(Name('msg', Load(), lineno=591, col_offset=8), 'append', Load(), lineno=591, col_offset=8), [BinOp(Str('Content-type: %s', lineno=591, col_offset=19), Mod(), Name('type', Load(), lineno=591, col_offset=40), lineno=591, col_offset=19)], [], None, None, lineno=591, col_offset=8), lineno=591, col_offset=8), If(Compare(Name('encoding', Load(), lineno=592, col_offset=11), [Eq()], [Str('base64', lineno=592, col_offset=23)], lineno=592, col_offset=11), [Import([alias('base64', None)], lineno=593, col_offset=12), Assign([Name('data', Store(), lineno=594, col_offset=12)], Call(Attribute(Name('base64', Load(), lineno=594, col_offset=19), 'decodestring', Load(), lineno=594, col_offset=19), [Name('data', Load(), lineno=594, col_offset=39)], [], None, None, lineno=594, col_offset=19), lineno=594, col_offset=12)], [Assign([Name('data', Store(), lineno=596, col_offset=12)], Call(Name('unquote', Load(), lineno=596, col_offset=19), [Name('data', Load(), lineno=596, col_offset=27)], [], None, None, lineno=596, col_offset=19), lineno=596, col_offset=12)], lineno=592, col_offset=8), Expr(Call(Attribute(Name('msg', Load(), lineno=597, col_offset=8), 'append', Load(), lineno=597, col_offset=8), [BinOp(Str('Content-Length: %d', lineno=597, col_offset=19), Mod(), Call(Name('len', Load(), lineno=597, col_offset=42), [Name('data', Load(), lineno=597, col_offset=46)], [], None, None, lineno=597, col_offset=42), lineno=597, col_offset=19)], [], None, None, lineno=597, col_offset=8), lineno=597, col_offset=8), Expr(Call(Attribute(Name('msg', Load(), lineno=598, col_offset=8), 'append', Load(), lineno=598, col_offset=8), [Str('', lineno=598, col_offset=19)], [], None, None, lineno=598, col_offset=8), lineno=598, col_offset=8), Expr(Call(Attribute(Name('msg', Load(), lineno=599, col_offset=8), 'append', Load(), lineno=599, col_offset=8), [Name('data', Load(), lineno=599, col_offset=19)], [], None, None, lineno=599, col_offset=8), lineno=599, col_offset=8), Assign([Name('msg', Store(), lineno=600, col_offset=8)], Call(Attribute(Str('\n', lineno=600, col_offset=14), 'join', Load(), lineno=600, col_offset=14), [Name('msg', Load(), lineno=600, col_offset=24)], [], None, None, lineno=600, col_offset=14), lineno=600, col_offset=8), Assign([Name('f', Store(), lineno=601, col_offset=8)], Call(Name('StringIO', Load(), lineno=601, col_offset=12), [Name('msg', Load(), lineno=601, col_offset=21)], [], None, None, lineno=601, col_offset=12), lineno=601, col_offset=8), Assign([Name('headers', Store(), lineno=602, col_offset=8)], Call(Attribute(Name('mimetools', Load(), lineno=602, col_offset=18), 'Message', Load(), lineno=602, col_offset=18), [Name('f', Load(), lineno=602, col_offset=36), Num(0, lineno=602, col_offset=39)], [], None, None, lineno=602, col_offset=18), lineno=602, col_offset=8), Return(Call(Name('addinfourl', Load(), lineno=604, col_offset=15), [Name('f', Load(), lineno=604, col_offset=26), Name('headers', Load(), lineno=604, col_offset=29), Name('url', Load(), lineno=604, col_offset=38)], [], None, None, lineno=604, col_offset=15), lineno=604, col_offset=8)], [], lineno=560, col_offset=4)], [], lineno=113, col_offset=0), ClassDef('FancyURLopener', [Name('URLopener', Load(), lineno=607, col_offset=21)], [Expr(Str('Derived class with handlers for errors we can handle (perhaps).', lineno=608, col_offset=4), lineno=608, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=610, col_offset=17)], 'args', 'kwargs', []), [Expr(Call(Attribute(Name('URLopener', Load(), lineno=611, col_offset=8), '__init__', Load(), lineno=611, col_offset=8), [Name('self', Load(), lineno=611, col_offset=27)], [], Name('args', Load(), lineno=611, col_offset=34), Name('kwargs', Load(), lineno=611, col_offset=42), lineno=611, col_offset=8), lineno=611, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=612, col_offset=8), 'auth_cache', Store(), lineno=612, col_offset=8)], Dict([], [], lineno=612, col_offset=26), lineno=612, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=613, col_offset=8), 'tries', Store(), lineno=613, col_offset=8)], Num(0, lineno=613, col_offset=21), lineno=613, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=614, col_offset=8), 'maxtries', Store(), lineno=614, col_offset=8)], Num(10, lineno=614, col_offset=24), lineno=614, col_offset=8)], [], lineno=610, col_offset=4), FunctionDef('http_error_default', arguments([Name('self', Param(), lineno=616, col_offset=27), Name('url', Param(), lineno=616, col_offset=33), Name('fp', Param(), lineno=616, col_offset=38), Name('errcode', Param(), lineno=616, col_offset=42), Name('errmsg', Param(), lineno=616, col_offset=51), Name('headers', Param(), lineno=616, col_offset=59)], None, None, []), [Expr(Str("Default error handling -- don't raise an exception.", lineno=617, col_offset=8), lineno=617, col_offset=8), Return(Call(Name('addinfourl', Load(), lineno=618, col_offset=15), [Name('fp', Load(), lineno=618, col_offset=26), Name('headers', Load(), lineno=618, col_offset=30), BinOp(Str('http:', lineno=618, col_offset=39), Add(), Name('url', Load(), lineno=618, col_offset=49), lineno=618, col_offset=39), Name('errcode', Load(), lineno=618, col_offset=54)], [], None, None, lineno=618, col_offset=15), lineno=618, col_offset=8)], [], lineno=616, col_offset=4), FunctionDef('http_error_302', arguments([Name('self', Param(), lineno=620, col_offset=23), Name('url', Param(), lineno=620, col_offset=29), Name('fp', Param(), lineno=620, col_offset=34), Name('errcode', Param(), lineno=620, col_offset=38), Name('errmsg', Param(), lineno=620, col_offset=47), Name('headers', Param(), lineno=620, col_offset=55), Name('data', Param(), lineno=620, col_offset=64)], None, None, [Name('None', Load(), lineno=620, col_offset=69)]), [Expr(Str('Error 302 -- relocated (temporarily).', lineno=621, col_offset=8), lineno=621, col_offset=8), AugAssign(Attribute(Name('self', Load(), lineno=622, col_offset=8), 'tries', Store(), lineno=622, col_offset=8), Add(), Num(1, lineno=622, col_offset=22), lineno=622, col_offset=8), If(BoolOp(And(), [Attribute(Name('self', Load(), lineno=623, col_offset=11), 'maxtries', Load(), lineno=623, col_offset=11), Compare(Attribute(Name('self', Load(), lineno=623, col_offset=29), 'tries', Load(), lineno=623, col_offset=29), [GtE()], [Attribute(Name('self', Load(), lineno=623, col_offset=43), 'maxtries', Load(), lineno=623, col_offset=43)], lineno=623, col_offset=29)], lineno=623, col_offset=11), [If(Call(Name('hasattr', Load(), lineno=624, col_offset=15), [Name('self', Load(), lineno=624, col_offset=23), Str('http_error_500', lineno=624, col_offset=29)], [], None, None, lineno=624, col_offset=15), [Assign([Name('meth', Store(), lineno=625, col_offset=16)], Attribute(Name('self', Load(), lineno=625, col_offset=23), 'http_error_500', Load(), lineno=625, col_offset=23), lineno=625, col_offset=16)], [Assign([Name('meth', Store(), lineno=627, col_offset=16)], Attribute(Name('self', Load(), lineno=627, col_offset=23), 'http_error_default', Load(), lineno=627, col_offset=23), lineno=627, col_offset=16)], lineno=624, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=628, col_offset=12), 'tries', Store(), lineno=628, col_offset=12)], Num(0, lineno=628, col_offset=25), lineno=628, col_offset=12), Return(Call(Name('meth', Load(), lineno=629, col_offset=19), [Name('url', Load(), lineno=629, col_offset=24), Name('fp', Load(), lineno=629, col_offset=29), Num(500, lineno=629, col_offset=33), Str('Internal Server Error: Redirect Recursion', lineno=630, col_offset=24), Name('headers', Load(), lineno=630, col_offset=69)], [], None, None, lineno=629, col_offset=19), lineno=629, col_offset=12)], [], lineno=623, col_offset=8), Assign([Name('result', Store(), lineno=631, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=631, col_offset=17), 'redirect_internal', Load(), lineno=631, col_offset=17), [Name('url', Load(), lineno=631, col_offset=40), Name('fp', Load(), lineno=631, col_offset=45), Name('errcode', Load(), lineno=631, col_offset=49), Name('errmsg', Load(), lineno=631, col_offset=58), Name('headers', Load(), lineno=631, col_offset=66), Name('data', Load(), lineno=632, col_offset=40)], [], None, None, lineno=631, col_offset=17), lineno=631, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=633, col_offset=8), 'tries', Store(), lineno=633, col_offset=8)], Num(0, lineno=633, col_offset=21), lineno=633, col_offset=8), Return(Name('result', Load(), lineno=634, col_offset=15), lineno=634, col_offset=8)], [], lineno=620, col_offset=4), FunctionDef('redirect_internal', arguments([Name('self', Param(), lineno=636, col_offset=26), Name('url', Param(), lineno=636, col_offset=32), Name('fp', Param(), lineno=636, col_offset=37), Name('errcode', Param(), lineno=636, col_offset=41), Name('errmsg', Param(), lineno=636, col_offset=50), Name('headers', Param(), lineno=636, col_offset=58), Name('data', Param(), lineno=636, col_offset=67)], None, None, []), [If(Compare(Str('location', lineno=637, col_offset=11), [In()], [Name('headers', Load(), lineno=637, col_offset=25)], lineno=637, col_offset=11), [Assign([Name('newurl', Store(), lineno=638, col_offset=12)], Subscript(Name('headers', Load(), lineno=638, col_offset=21), Index(Str('location', lineno=638, col_offset=29)), Load(), lineno=638, col_offset=21), lineno=638, col_offset=12)], [If(Compare(Str('uri', lineno=639, col_offset=13), [In()], [Name('headers', Load(), lineno=639, col_offset=22)], lineno=639, col_offset=13), [Assign([Name('newurl', Store(), lineno=640, col_offset=12)], Subscript(Name('headers', Load(), lineno=640, col_offset=21), Index(Str('uri', lineno=640, col_offset=29)), Load(), lineno=640, col_offset=21), lineno=640, col_offset=12)], [Return(None, lineno=642, col_offset=12)], lineno=639, col_offset=13)], lineno=637, col_offset=8), Assign([Name('void', Store(), lineno=643, col_offset=8)], Call(Attribute(Name('fp', Load(), lineno=643, col_offset=15), 'read', Load(), lineno=643, col_offset=15), [], [], None, None, lineno=643, col_offset=15), lineno=643, col_offset=8), Expr(Call(Attribute(Name('fp', Load(), lineno=644, col_offset=8), 'close', Load(), lineno=644, col_offset=8), [], [], None, None, lineno=644, col_offset=8), lineno=644, col_offset=8), Assign([Name('newurl', Store(), lineno=646, col_offset=8)], Call(Name('basejoin', Load(), lineno=646, col_offset=17), [BinOp(BinOp(Attribute(Name('self', Load(), lineno=646, col_offset=26), 'type', Load(), lineno=646, col_offset=26), Add(), Str(':', lineno=646, col_offset=38), lineno=646, col_offset=26), Add(), Name('url', Load(), lineno=646, col_offset=44), lineno=646, col_offset=42), Name('newurl', Load(), lineno=646, col_offset=49)], [], None, None, lineno=646, col_offset=17), lineno=646, col_offset=8), Return(Call(Attribute(Name('self', Load(), lineno=647, col_offset=15), 'open', Load(), lineno=647, col_offset=15), [Name('newurl', Load(), lineno=647, col_offset=25)], [], None, None, lineno=647, col_offset=15), lineno=647, col_offset=8)], [], lineno=636, col_offset=4), FunctionDef('http_error_301', arguments([Name('self', Param(), lineno=649, col_offset=23), Name('url', Param(), lineno=649, col_offset=29), Name('fp', Param(), lineno=649, col_offset=34), Name('errcode', Param(), lineno=649, col_offset=38), Name('errmsg', Param(), lineno=649, col_offset=47), Name('headers', Param(), lineno=649, col_offset=55), Name('data', Param(), lineno=649, col_offset=64)], None, None, [Name('None', Load(), lineno=649, col_offset=69)]), [Expr(Str('Error 301 -- also relocated (permanently).', lineno=650, col_offset=8), lineno=650, col_offset=8), Return(Call(Attribute(Name('self', Load(), lineno=651, col_offset=15), 'http_error_302', Load(), lineno=651, col_offset=15), [Name('url', Load(), lineno=651, col_offset=35), Name('fp', Load(), lineno=651, col_offset=40), Name('errcode', Load(), lineno=651, col_offset=44), Name('errmsg', Load(), lineno=651, col_offset=53), Name('headers', Load(), lineno=651, col_offset=61), Name('data', Load(), lineno=651, col_offset=70)], [], None, None, lineno=651, col_offset=15), lineno=651, col_offset=8)], [], lineno=649, col_offset=4), FunctionDef('http_error_303', arguments([Name('self', Param(), lineno=653, col_offset=23), Name('url', Param(), lineno=653, col_offset=29), Name('fp', Param(), lineno=653, col_offset=34), Name('errcode', Param(), lineno=653, col_offset=38), Name('errmsg', Param(), lineno=653, col_offset=47), Name('headers', Param(), lineno=653, col_offset=55), Name('data', Param(), lineno=653, col_offset=64)], None, None, [Name('None', Load(), lineno=653, col_offset=69)]), [Expr(Str('Error 303 -- also relocated (essentially identical to 302).', lineno=654, col_offset=8), lineno=654, col_offset=8), Return(Call(Attribute(Name('self', Load(), lineno=655, col_offset=15), 'http_error_302', Load(), lineno=655, col_offset=15), [Name('url', Load(), lineno=655, col_offset=35), Name('fp', Load(), lineno=655, col_offset=40), Name('errcode', Load(), lineno=655, col_offset=44), Name('errmsg', Load(), lineno=655, col_offset=53), Name('headers', Load(), lineno=655, col_offset=61), Name('data', Load(), lineno=655, col_offset=70)], [], None, None, lineno=655, col_offset=15), lineno=655, col_offset=8)], [], lineno=653, col_offset=4), FunctionDef('http_error_307', arguments([Name('self', Param(), lineno=657, col_offset=23), Name('url', Param(), lineno=657, col_offset=29), Name('fp', Param(), lineno=657, col_offset=34), Name('errcode', Param(), lineno=657, col_offset=38), Name('errmsg', Param(), lineno=657, col_offset=47), Name('headers', Param(), lineno=657, col_offset=55), Name('data', Param(), lineno=657, col_offset=64)], None, None, [Name('None', Load(), lineno=657, col_offset=69)]), [Expr(Str('Error 307 -- relocated, but turn POST into error.', lineno=658, col_offset=8), lineno=658, col_offset=8), If(Compare(Name('data', Load(), lineno=659, col_offset=11), [Is()], [Name('None', Load(), lineno=659, col_offset=19)], lineno=659, col_offset=11), [Return(Call(Attribute(Name('self', Load(), lineno=660, col_offset=19), 'http_error_302', Load(), lineno=660, col_offset=19), [Name('url', Load(), lineno=660, col_offset=39), Name('fp', Load(), lineno=660, col_offset=44), Name('errcode', Load(), lineno=660, col_offset=48), Name('errmsg', Load(), lineno=660, col_offset=57), Name('headers', Load(), lineno=660, col_offset=65), Name('data', Load(), lineno=660, col_offset=74)], [], None, None, lineno=660, col_offset=19), lineno=660, col_offset=12)], [Return(Call(Attribute(Name('self', Load(), lineno=662, col_offset=19), 'http_error_default', Load(), lineno=662, col_offset=19), [Name('url', Load(), lineno=662, col_offset=43), Name('fp', Load(), lineno=662, col_offset=48), Name('errcode', Load(), lineno=662, col_offset=52), Name('errmsg', Load(), lineno=662, col_offset=61), Name('headers', Load(), lineno=662, col_offset=69)], [], None, None, lineno=662, col_offset=19), lineno=662, col_offset=12)], lineno=659, col_offset=8)], [], lineno=657, col_offset=4), FunctionDef('http_error_401', arguments([Name('self', Param(), lineno=664, col_offset=23), Name('url', Param(), lineno=664, col_offset=29), Name('fp', Param(), lineno=664, col_offset=34), Name('errcode', Param(), lineno=664, col_offset=38), Name('errmsg', Param(), lineno=664, col_offset=47), Name('headers', Param(), lineno=664, col_offset=55), Name('data', Param(), lineno=664, col_offset=64)], None, None, [Name('None', Load(), lineno=664, col_offset=69)]), [Expr(Str('Error 401 -- authentication required.\n        This function supports Basic authentication only.', lineno=666, col_offset=-1), lineno=666, col_offset=-1), If(UnaryOp(Not(), Compare(Str('www-authenticate', lineno=667, col_offset=15), [In()], [Name('headers', Load(), lineno=667, col_offset=37)], lineno=667, col_offset=15), lineno=667, col_offset=11), [Expr(Call(Attribute(Name('URLopener', Load(), lineno=668, col_offset=12), 'http_error_default', Load(), lineno=668, col_offset=12), [Name('self', Load(), lineno=668, col_offset=41), Name('url', Load(), lineno=668, col_offset=47), Name('fp', Load(), lineno=668, col_offset=52), Name('errcode', Load(), lineno=669, col_offset=41), Name('errmsg', Load(), lineno=669, col_offset=50), Name('headers', Load(), lineno=669, col_offset=58)], [], None, None, lineno=668, col_offset=12), lineno=668, col_offset=12)], [], lineno=667, col_offset=8), Assign([Name('stuff', Store(), lineno=670, col_offset=8)], Subscript(Name('headers', Load(), lineno=670, col_offset=16), Index(Str('www-authenticate', lineno=670, col_offset=24)), Load(), lineno=670, col_offset=16), lineno=670, col_offset=8), Import([alias('re', None)], lineno=671, col_offset=8), Assign([Name('match', Store(), lineno=672, col_offset=8)], Call(Attribute(Name('re', Load(), lineno=672, col_offset=16), 'match', Load(), lineno=672, col_offset=16), [Str('[ \t]*([^ \t]+)[ \t]+realm="([^"]*)"', lineno=672, col_offset=25), Name('stuff', Load(), lineno=672, col_offset=65)], [], None, None, lineno=672, col_offset=16), lineno=672, col_offset=8), If(UnaryOp(Not(), Name('match', Load(), lineno=673, col_offset=15), lineno=673, col_offset=11), [Expr(Call(Attribute(Name('URLopener', Load(), lineno=674, col_offset=12), 'http_error_default', Load(), lineno=674, col_offset=12), [Name('self', Load(), lineno=674, col_offset=41), Name('url', Load(), lineno=674, col_offset=47), Name('fp', Load(), lineno=674, col_offset=52), Name('errcode', Load(), lineno=675, col_offset=41), Name('errmsg', Load(), lineno=675, col_offset=50), Name('headers', Load(), lineno=675, col_offset=58)], [], None, None, lineno=674, col_offset=12), lineno=674, col_offset=12)], [], lineno=673, col_offset=8), Assign([Tuple([Name('scheme', Store(), lineno=676, col_offset=8), Name('realm', Store(), lineno=676, col_offset=16)], Store(), lineno=676, col_offset=8)], Call(Attribute(Name('match', Load(), lineno=676, col_offset=24), 'groups', Load(), lineno=676, col_offset=24), [], [], None, None, lineno=676, col_offset=24), lineno=676, col_offset=8), If(Compare(Call(Attribute(Name('scheme', Load(), lineno=677, col_offset=11), 'lower', Load(), lineno=677, col_offset=11), [], [], None, None, lineno=677, col_offset=11), [NotEq()], [Str('basic', lineno=677, col_offset=29)], lineno=677, col_offset=11), [Expr(Call(Attribute(Name('URLopener', Load(), lineno=678, col_offset=12), 'http_error_default', Load(), lineno=678, col_offset=12), [Name('self', Load(), lineno=678, col_offset=41), Name('url', Load(), lineno=678, col_offset=47), Name('fp', Load(), lineno=678, col_offset=52), Name('errcode', Load(), lineno=679, col_offset=41), Name('errmsg', Load(), lineno=679, col_offset=50), Name('headers', Load(), lineno=679, col_offset=58)], [], None, None, lineno=678, col_offset=12), lineno=678, col_offset=12)], [], lineno=677, col_offset=8), Assign([Name('name', Store(), lineno=680, col_offset=8)], BinOp(BinOp(Str('retry_', lineno=680, col_offset=15), Add(), Attribute(Name('self', Load(), lineno=680, col_offset=26), 'type', Load(), lineno=680, col_offset=26), lineno=680, col_offset=15), Add(), Str('_basic_auth', lineno=680, col_offset=38), lineno=680, col_offset=36), lineno=680, col_offset=8), If(Compare(Name('data', Load(), lineno=681, col_offset=11), [Is()], [Name('None', Load(), lineno=681, col_offset=19)], lineno=681, col_offset=11), [Return(Call(Call(Name('getattr', Load(), lineno=682, col_offset=19), [Name('self', Load(), lineno=682, col_offset=27), Name('name', Load(), lineno=682, col_offset=32)], [], None, None, lineno=682, col_offset=19), [Name('url', Load(), lineno=682, col_offset=38), Name('realm', Load(), lineno=682, col_offset=43)], [], None, None, lineno=682, col_offset=19), lineno=682, col_offset=12)], [Return(Call(Call(Name('getattr', Load(), lineno=684, col_offset=19), [Name('self', Load(), lineno=684, col_offset=27), Name('name', Load(), lineno=684, col_offset=32)], [], None, None, lineno=684, col_offset=19), [Name('url', Load(), lineno=684, col_offset=38), Name('realm', Load(), lineno=684, col_offset=43), Name('data', Load(), lineno=684, col_offset=50)], [], None, None, lineno=684, col_offset=19), lineno=684, col_offset=12)], lineno=681, col_offset=8)], [], lineno=664, col_offset=4), FunctionDef('http_error_407', arguments([Name('self', Param(), lineno=686, col_offset=23), Name('url', Param(), lineno=686, col_offset=29), Name('fp', Param(), lineno=686, col_offset=34), Name('errcode', Param(), lineno=686, col_offset=38), Name('errmsg', Param(), lineno=686, col_offset=47), Name('headers', Param(), lineno=686, col_offset=55), Name('data', Param(), lineno=686, col_offset=64)], None, None, [Name('None', Load(), lineno=686, col_offset=69)]), [Expr(Str('Error 407 -- proxy authentication required.\n        This function supports Basic authentication only.', lineno=688, col_offset=-1), lineno=688, col_offset=-1), If(UnaryOp(Not(), Compare(Str('proxy-authenticate', lineno=689, col_offset=15), [In()], [Name('headers', Load(), lineno=689, col_offset=39)], lineno=689, col_offset=15), lineno=689, col_offset=11), [Expr(Call(Attribute(Name('URLopener', Load(), lineno=690, col_offset=12), 'http_error_default', Load(), lineno=690, col_offset=12), [Name('self', Load(), lineno=690, col_offset=41), Name('url', Load(), lineno=690, col_offset=47), Name('fp', Load(), lineno=690, col_offset=52), Name('errcode', Load(), lineno=691, col_offset=41), Name('errmsg', Load(), lineno=691, col_offset=50), Name('headers', Load(), lineno=691, col_offset=58)], [], None, None, lineno=690, col_offset=12), lineno=690, col_offset=12)], [], lineno=689, col_offset=8), Assign([Name('stuff', Store(), lineno=692, col_offset=8)], Subscript(Name('headers', Load(), lineno=692, col_offset=16), Index(Str('proxy-authenticate', lineno=692, col_offset=24)), Load(), lineno=692, col_offset=16), lineno=692, col_offset=8), Import([alias('re', None)], lineno=693, col_offset=8), Assign([Name('match', Store(), lineno=694, col_offset=8)], Call(Attribute(Name('re', Load(), lineno=694, col_offset=16), 'match', Load(), lineno=694, col_offset=16), [Str('[ \t]*([^ \t]+)[ \t]+realm="([^"]*)"', lineno=694, col_offset=25), Name('stuff', Load(), lineno=694, col_offset=65)], [], None, None, lineno=694, col_offset=16), lineno=694, col_offset=8), If(UnaryOp(Not(), Name('match', Load(), lineno=695, col_offset=15), lineno=695, col_offset=11), [Expr(Call(Attribute(Name('URLopener', Load(), lineno=696, col_offset=12), 'http_error_default', Load(), lineno=696, col_offset=12), [Name('self', Load(), lineno=696, col_offset=41), Name('url', Load(), lineno=696, col_offset=47), Name('fp', Load(), lineno=696, col_offset=52), Name('errcode', Load(), lineno=697, col_offset=41), Name('errmsg', Load(), lineno=697, col_offset=50), Name('headers', Load(), lineno=697, col_offset=58)], [], None, None, lineno=696, col_offset=12), lineno=696, col_offset=12)], [], lineno=695, col_offset=8), Assign([Tuple([Name('scheme', Store(), lineno=698, col_offset=8), Name('realm', Store(), lineno=698, col_offset=16)], Store(), lineno=698, col_offset=8)], Call(Attribute(Name('match', Load(), lineno=698, col_offset=24), 'groups', Load(), lineno=698, col_offset=24), [], [], None, None, lineno=698, col_offset=24), lineno=698, col_offset=8), If(Compare(Call(Attribute(Name('scheme', Load(), lineno=699, col_offset=11), 'lower', Load(), lineno=699, col_offset=11), [], [], None, None, lineno=699, col_offset=11), [NotEq()], [Str('basic', lineno=699, col_offset=29)], lineno=699, col_offset=11), [Expr(Call(Attribute(Name('URLopener', Load(), lineno=700, col_offset=12), 'http_error_default', Load(), lineno=700, col_offset=12), [Name('self', Load(), lineno=700, col_offset=41), Name('url', Load(), lineno=700, col_offset=47), Name('fp', Load(), lineno=700, col_offset=52), Name('errcode', Load(), lineno=701, col_offset=41), Name('errmsg', Load(), lineno=701, col_offset=50), Name('headers', Load(), lineno=701, col_offset=58)], [], None, None, lineno=700, col_offset=12), lineno=700, col_offset=12)], [], lineno=699, col_offset=8), Assign([Name('name', Store(), lineno=702, col_offset=8)], BinOp(BinOp(Str('retry_proxy_', lineno=702, col_offset=15), Add(), Attribute(Name('self', Load(), lineno=702, col_offset=32), 'type', Load(), lineno=702, col_offset=32), lineno=702, col_offset=15), Add(), Str('_basic_auth', lineno=702, col_offset=44), lineno=702, col_offset=42), lineno=702, col_offset=8), If(Compare(Name('data', Load(), lineno=703, col_offset=11), [Is()], [Name('None', Load(), lineno=703, col_offset=19)], lineno=703, col_offset=11), [Return(Call(Call(Name('getattr', Load(), lineno=704, col_offset=19), [Name('self', Load(), lineno=704, col_offset=27), Name('name', Load(), lineno=704, col_offset=32)], [], None, None, lineno=704, col_offset=19), [Name('url', Load(), lineno=704, col_offset=38), Name('realm', Load(), lineno=704, col_offset=43)], [], None, None, lineno=704, col_offset=19), lineno=704, col_offset=12)], [Return(Call(Call(Name('getattr', Load(), lineno=706, col_offset=19), [Name('self', Load(), lineno=706, col_offset=27), Name('name', Load(), lineno=706, col_offset=32)], [], None, None, lineno=706, col_offset=19), [Name('url', Load(), lineno=706, col_offset=38), Name('realm', Load(), lineno=706, col_offset=43), Name('data', Load(), lineno=706, col_offset=50)], [], None, None, lineno=706, col_offset=19), lineno=706, col_offset=12)], lineno=703, col_offset=8)], [], lineno=686, col_offset=4), FunctionDef('retry_proxy_http_basic_auth', arguments([Name('self', Param(), lineno=708, col_offset=36), Name('url', Param(), lineno=708, col_offset=42), Name('realm', Param(), lineno=708, col_offset=47), Name('data', Param(), lineno=708, col_offset=54)], None, None, [Name('None', Load(), lineno=708, col_offset=59)]), [Assign([Tuple([Name('host', Store(), lineno=709, col_offset=8), Name('selector', Store(), lineno=709, col_offset=14)], Store(), lineno=709, col_offset=8)], Call(Name('splithost', Load(), lineno=709, col_offset=25), [Name('url', Load(), lineno=709, col_offset=35)], [], None, None, lineno=709, col_offset=25), lineno=709, col_offset=8), Assign([Name('newurl', Store(), lineno=710, col_offset=8)], BinOp(BinOp(Str('http://', lineno=710, col_offset=17), Add(), Name('host', Load(), lineno=710, col_offset=29), lineno=710, col_offset=17), Add(), Name('selector', Load(), lineno=710, col_offset=36), lineno=710, col_offset=34), lineno=710, col_offset=8), Assign([Name('proxy', Store(), lineno=711, col_offset=8)], Subscript(Attribute(Name('self', Load(), lineno=711, col_offset=16), 'proxies', Load(), lineno=711, col_offset=16), Index(Str('http', lineno=711, col_offset=29)), Load(), lineno=711, col_offset=16), lineno=711, col_offset=8), Assign([Tuple([Name('urltype', Store(), lineno=712, col_offset=8), Name('proxyhost', Store(), lineno=712, col_offset=17)], Store(), lineno=712, col_offset=8)], Call(Name('splittype', Load(), lineno=712, col_offset=29), [Name('proxy', Load(), lineno=712, col_offset=39)], [], None, None, lineno=712, col_offset=29), lineno=712, col_offset=8), Assign([Tuple([Name('proxyhost', Store(), lineno=713, col_offset=8), Name('proxyselector', Store(), lineno=713, col_offset=19)], Store(), lineno=713, col_offset=8)], Call(Name('splithost', Load(), lineno=713, col_offset=35), [Name('proxyhost', Load(), lineno=713, col_offset=45)], [], None, None, lineno=713, col_offset=35), lineno=713, col_offset=8), Assign([Name('i', Store(), lineno=714, col_offset=8)], BinOp(Call(Attribute(Name('proxyhost', Load(), lineno=714, col_offset=12), 'find', Load(), lineno=714, col_offset=12), [Str('@', lineno=714, col_offset=27)], [], None, None, lineno=714, col_offset=12), Add(), Num(1, lineno=714, col_offset=34), lineno=714, col_offset=12), lineno=714, col_offset=8), Assign([Name('proxyhost', Store(), lineno=715, col_offset=8)], Subscript(Name('proxyhost', Load(), lineno=715, col_offset=20), Slice(Name('i', Load(), lineno=715, col_offset=30), None, None), Load(), lineno=715, col_offset=20), lineno=715, col_offset=8), Assign([Tuple([Name('user', Store(), lineno=716, col_offset=8), Name('passwd', Store(), lineno=716, col_offset=14)], Store(), lineno=716, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=716, col_offset=23), 'get_user_passwd', Load(), lineno=716, col_offset=23), [Name('proxyhost', Load(), lineno=716, col_offset=44), Name('realm', Load(), lineno=716, col_offset=55), Name('i', Load(), lineno=716, col_offset=62)], [], None, None, lineno=716, col_offset=23), lineno=716, col_offset=8), If(UnaryOp(Not(), BoolOp(Or(), [Name('user', Load(), lineno=717, col_offset=16), Name('passwd', Load(), lineno=717, col_offset=24)], lineno=717, col_offset=16), lineno=717, col_offset=11), [Return(Name('None', Load(), lineno=717, col_offset=40), lineno=717, col_offset=33)], [], lineno=717, col_offset=8), Assign([Name('proxyhost', Store(), lineno=718, col_offset=8)], BinOp(BinOp(BinOp(BinOp(Call(Name('quote', Load(), lineno=718, col_offset=20), [Name('user', Load(), lineno=718, col_offset=26)], [keyword('safe', Str('', lineno=718, col_offset=37))], None, None, lineno=718, col_offset=20), Add(), Str(':', lineno=718, col_offset=43), lineno=718, col_offset=20), Add(), Call(Name('quote', Load(), lineno=718, col_offset=49), [Name('passwd', Load(), lineno=718, col_offset=55)], [keyword('safe', Str('', lineno=718, col_offset=68))], None, None, lineno=718, col_offset=49), lineno=718, col_offset=47), Add(), Str('@', lineno=718, col_offset=74), lineno=718, col_offset=72), Add(), Name('proxyhost', Load(), lineno=718, col_offset=80), lineno=718, col_offset=78), lineno=718, col_offset=8), Assign([Subscript(Attribute(Name('self', Load(), lineno=719, col_offset=8), 'proxies', Load(), lineno=719, col_offset=8), Index(Str('http', lineno=719, col_offset=21)), Store(), lineno=719, col_offset=8)], BinOp(BinOp(Str('http://', lineno=719, col_offset=31), Add(), Name('proxyhost', Load(), lineno=719, col_offset=43), lineno=719, col_offset=31), Add(), Name('proxyselector', Load(), lineno=719, col_offset=55), lineno=719, col_offset=53), lineno=719, col_offset=8), If(Compare(Name('data', Load(), lineno=720, col_offset=11), [Is()], [Name('None', Load(), lineno=720, col_offset=19)], lineno=720, col_offset=11), [Return(Call(Attribute(Name('self', Load(), lineno=721, col_offset=19), 'open', Load(), lineno=721, col_offset=19), [Name('newurl', Load(), lineno=721, col_offset=29)], [], None, None, lineno=721, col_offset=19), lineno=721, col_offset=12)], [Return(Call(Attribute(Name('self', Load(), lineno=723, col_offset=19), 'open', Load(), lineno=723, col_offset=19), [Name('newurl', Load(), lineno=723, col_offset=29), Name('data', Load(), lineno=723, col_offset=37)], [], None, None, lineno=723, col_offset=19), lineno=723, col_offset=12)], lineno=720, col_offset=8)], [], lineno=708, col_offset=4), FunctionDef('retry_proxy_https_basic_auth', arguments([Name('self', Param(), lineno=725, col_offset=37), Name('url', Param(), lineno=725, col_offset=43), Name('realm', Param(), lineno=725, col_offset=48), Name('data', Param(), lineno=725, col_offset=55)], None, None, [Name('None', Load(), lineno=725, col_offset=60)]), [Assign([Tuple([Name('host', Store(), lineno=726, col_offset=8), Name('selector', Store(), lineno=726, col_offset=14)], Store(), lineno=726, col_offset=8)], Call(Name('splithost', Load(), lineno=726, col_offset=25), [Name('url', Load(), lineno=726, col_offset=35)], [], None, None, lineno=726, col_offset=25), lineno=726, col_offset=8), Assign([Name('newurl', Store(), lineno=727, col_offset=8)], BinOp(BinOp(Str('https://', lineno=727, col_offset=17), Add(), Name('host', Load(), lineno=727, col_offset=30), lineno=727, col_offset=17), Add(), Name('selector', Load(), lineno=727, col_offset=37), lineno=727, col_offset=35), lineno=727, col_offset=8), Assign([Name('proxy', Store(), lineno=728, col_offset=8)], Subscript(Attribute(Name('self', Load(), lineno=728, col_offset=16), 'proxies', Load(), lineno=728, col_offset=16), Index(Str('https', lineno=728, col_offset=29)), Load(), lineno=728, col_offset=16), lineno=728, col_offset=8), Assign([Tuple([Name('urltype', Store(), lineno=729, col_offset=8), Name('proxyhost', Store(), lineno=729, col_offset=17)], Store(), lineno=729, col_offset=8)], Call(Name('splittype', Load(), lineno=729, col_offset=29), [Name('proxy', Load(), lineno=729, col_offset=39)], [], None, None, lineno=729, col_offset=29), lineno=729, col_offset=8), Assign([Tuple([Name('proxyhost', Store(), lineno=730, col_offset=8), Name('proxyselector', Store(), lineno=730, col_offset=19)], Store(), lineno=730, col_offset=8)], Call(Name('splithost', Load(), lineno=730, col_offset=35), [Name('proxyhost', Load(), lineno=730, col_offset=45)], [], None, None, lineno=730, col_offset=35), lineno=730, col_offset=8), Assign([Name('i', Store(), lineno=731, col_offset=8)], BinOp(Call(Attribute(Name('proxyhost', Load(), lineno=731, col_offset=12), 'find', Load(), lineno=731, col_offset=12), [Str('@', lineno=731, col_offset=27)], [], None, None, lineno=731, col_offset=12), Add(), Num(1, lineno=731, col_offset=34), lineno=731, col_offset=12), lineno=731, col_offset=8), Assign([Name('proxyhost', Store(), lineno=732, col_offset=8)], Subscript(Name('proxyhost', Load(), lineno=732, col_offset=20), Slice(Name('i', Load(), lineno=732, col_offset=30), None, None), Load(), lineno=732, col_offset=20), lineno=732, col_offset=8), Assign([Tuple([Name('user', Store(), lineno=733, col_offset=8), Name('passwd', Store(), lineno=733, col_offset=14)], Store(), lineno=733, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=733, col_offset=23), 'get_user_passwd', Load(), lineno=733, col_offset=23), [Name('proxyhost', Load(), lineno=733, col_offset=44), Name('realm', Load(), lineno=733, col_offset=55), Name('i', Load(), lineno=733, col_offset=62)], [], None, None, lineno=733, col_offset=23), lineno=733, col_offset=8), If(UnaryOp(Not(), BoolOp(Or(), [Name('user', Load(), lineno=734, col_offset=16), Name('passwd', Load(), lineno=734, col_offset=24)], lineno=734, col_offset=16), lineno=734, col_offset=11), [Return(Name('None', Load(), lineno=734, col_offset=40), lineno=734, col_offset=33)], [], lineno=734, col_offset=8), Assign([Name('proxyhost', Store(), lineno=735, col_offset=8)], BinOp(BinOp(BinOp(BinOp(Call(Name('quote', Load(), lineno=735, col_offset=20), [Name('user', Load(), lineno=735, col_offset=26)], [keyword('safe', Str('', lineno=735, col_offset=37))], None, None, lineno=735, col_offset=20), Add(), Str(':', lineno=735, col_offset=43), lineno=735, col_offset=20), Add(), Call(Name('quote', Load(), lineno=735, col_offset=49), [Name('passwd', Load(), lineno=735, col_offset=55)], [keyword('safe', Str('', lineno=735, col_offset=68))], None, None, lineno=735, col_offset=49), lineno=735, col_offset=47), Add(), Str('@', lineno=735, col_offset=74), lineno=735, col_offset=72), Add(), Name('proxyhost', Load(), lineno=735, col_offset=80), lineno=735, col_offset=78), lineno=735, col_offset=8), Assign([Subscript(Attribute(Name('self', Load(), lineno=736, col_offset=8), 'proxies', Load(), lineno=736, col_offset=8), Index(Str('https', lineno=736, col_offset=21)), Store(), lineno=736, col_offset=8)], BinOp(BinOp(Str('https://', lineno=736, col_offset=32), Add(), Name('proxyhost', Load(), lineno=736, col_offset=45), lineno=736, col_offset=32), Add(), Name('proxyselector', Load(), lineno=736, col_offset=57), lineno=736, col_offset=55), lineno=736, col_offset=8), If(Compare(Name('data', Load(), lineno=737, col_offset=11), [Is()], [Name('None', Load(), lineno=737, col_offset=19)], lineno=737, col_offset=11), [Return(Call(Attribute(Name('self', Load(), lineno=738, col_offset=19), 'open', Load(), lineno=738, col_offset=19), [Name('newurl', Load(), lineno=738, col_offset=29)], [], None, None, lineno=738, col_offset=19), lineno=738, col_offset=12)], [Return(Call(Attribute(Name('self', Load(), lineno=740, col_offset=19), 'open', Load(), lineno=740, col_offset=19), [Name('newurl', Load(), lineno=740, col_offset=29), Name('data', Load(), lineno=740, col_offset=37)], [], None, None, lineno=740, col_offset=19), lineno=740, col_offset=12)], lineno=737, col_offset=8)], [], lineno=725, col_offset=4), FunctionDef('retry_http_basic_auth', arguments([Name('self', Param(), lineno=742, col_offset=30), Name('url', Param(), lineno=742, col_offset=36), Name('realm', Param(), lineno=742, col_offset=41), Name('data', Param(), lineno=742, col_offset=48)], None, None, [Name('None', Load(), lineno=742, col_offset=53)]), [Assign([Tuple([Name('host', Store(), lineno=743, col_offset=8), Name('selector', Store(), lineno=743, col_offset=14)], Store(), lineno=743, col_offset=8)], Call(Name('splithost', Load(), lineno=743, col_offset=25), [Name('url', Load(), lineno=743, col_offset=35)], [], None, None, lineno=743, col_offset=25), lineno=743, col_offset=8), Assign([Name('i', Store(), lineno=744, col_offset=8)], BinOp(Call(Attribute(Name('host', Load(), lineno=744, col_offset=12), 'find', Load(), lineno=744, col_offset=12), [Str('@', lineno=744, col_offset=22)], [], None, None, lineno=744, col_offset=12), Add(), Num(1, lineno=744, col_offset=29), lineno=744, col_offset=12), lineno=744, col_offset=8), Assign([Name('host', Store(), lineno=745, col_offset=8)], Subscript(Name('host', Load(), lineno=745, col_offset=15), Slice(Name('i', Load(), lineno=745, col_offset=20), None, None), Load(), lineno=745, col_offset=15), lineno=745, col_offset=8), Assign([Tuple([Name('user', Store(), lineno=746, col_offset=8), Name('passwd', Store(), lineno=746, col_offset=14)], Store(), lineno=746, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=746, col_offset=23), 'get_user_passwd', Load(), lineno=746, col_offset=23), [Name('host', Load(), lineno=746, col_offset=44), Name('realm', Load(), lineno=746, col_offset=50), Name('i', Load(), lineno=746, col_offset=57)], [], None, None, lineno=746, col_offset=23), lineno=746, col_offset=8), If(UnaryOp(Not(), BoolOp(Or(), [Name('user', Load(), lineno=747, col_offset=16), Name('passwd', Load(), lineno=747, col_offset=24)], lineno=747, col_offset=16), lineno=747, col_offset=11), [Return(Name('None', Load(), lineno=747, col_offset=40), lineno=747, col_offset=33)], [], lineno=747, col_offset=8), Assign([Name('host', Store(), lineno=748, col_offset=8)], BinOp(BinOp(BinOp(BinOp(Call(Name('quote', Load(), lineno=748, col_offset=15), [Name('user', Load(), lineno=748, col_offset=21)], [keyword('safe', Str('', lineno=748, col_offset=32))], None, None, lineno=748, col_offset=15), Add(), Str(':', lineno=748, col_offset=38), lineno=748, col_offset=15), Add(), Call(Name('quote', Load(), lineno=748, col_offset=44), [Name('passwd', Load(), lineno=748, col_offset=50)], [keyword('safe', Str('', lineno=748, col_offset=63))], None, None, lineno=748, col_offset=44), lineno=748, col_offset=42), Add(), Str('@', lineno=748, col_offset=69), lineno=748, col_offset=67), Add(), Name('host', Load(), lineno=748, col_offset=75), lineno=748, col_offset=73), lineno=748, col_offset=8), Assign([Name('newurl', Store(), lineno=749, col_offset=8)], BinOp(BinOp(Str('http://', lineno=749, col_offset=17), Add(), Name('host', Load(), lineno=749, col_offset=29), lineno=749, col_offset=17), Add(), Name('selector', Load(), lineno=749, col_offset=36), lineno=749, col_offset=34), lineno=749, col_offset=8), If(Compare(Name('data', Load(), lineno=750, col_offset=11), [Is()], [Name('None', Load(), lineno=750, col_offset=19)], lineno=750, col_offset=11), [Return(Call(Attribute(Name('self', Load(), lineno=751, col_offset=19), 'open', Load(), lineno=751, col_offset=19), [Name('newurl', Load(), lineno=751, col_offset=29)], [], None, None, lineno=751, col_offset=19), lineno=751, col_offset=12)], [Return(Call(Attribute(Name('self', Load(), lineno=753, col_offset=19), 'open', Load(), lineno=753, col_offset=19), [Name('newurl', Load(), lineno=753, col_offset=29), Name('data', Load(), lineno=753, col_offset=37)], [], None, None, lineno=753, col_offset=19), lineno=753, col_offset=12)], lineno=750, col_offset=8)], [], lineno=742, col_offset=4), FunctionDef('retry_https_basic_auth', arguments([Name('self', Param(), lineno=755, col_offset=31), Name('url', Param(), lineno=755, col_offset=37), Name('realm', Param(), lineno=755, col_offset=42), Name('data', Param(), lineno=755, col_offset=49)], None, None, [Name('None', Load(), lineno=755, col_offset=54)]), [Assign([Tuple([Name('host', Store(), lineno=756, col_offset=8), Name('selector', Store(), lineno=756, col_offset=14)], Store(), lineno=756, col_offset=8)], Call(Name('splithost', Load(), lineno=756, col_offset=25), [Name('url', Load(), lineno=756, col_offset=35)], [], None, None, lineno=756, col_offset=25), lineno=756, col_offset=8), Assign([Name('i', Store(), lineno=757, col_offset=8)], BinOp(Call(Attribute(Name('host', Load(), lineno=757, col_offset=12), 'find', Load(), lineno=757, col_offset=12), [Str('@', lineno=757, col_offset=22)], [], None, None, lineno=757, col_offset=12), Add(), Num(1, lineno=757, col_offset=29), lineno=757, col_offset=12), lineno=757, col_offset=8), Assign([Name('host', Store(), lineno=758, col_offset=8)], Subscript(Name('host', Load(), lineno=758, col_offset=15), Slice(Name('i', Load(), lineno=758, col_offset=20), None, None), Load(), lineno=758, col_offset=15), lineno=758, col_offset=8), Assign([Tuple([Name('user', Store(), lineno=759, col_offset=8), Name('passwd', Store(), lineno=759, col_offset=14)], Store(), lineno=759, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=759, col_offset=23), 'get_user_passwd', Load(), lineno=759, col_offset=23), [Name('host', Load(), lineno=759, col_offset=44), Name('realm', Load(), lineno=759, col_offset=50), Name('i', Load(), lineno=759, col_offset=57)], [], None, None, lineno=759, col_offset=23), lineno=759, col_offset=8), If(UnaryOp(Not(), BoolOp(Or(), [Name('user', Load(), lineno=760, col_offset=16), Name('passwd', Load(), lineno=760, col_offset=24)], lineno=760, col_offset=16), lineno=760, col_offset=11), [Return(Name('None', Load(), lineno=760, col_offset=40), lineno=760, col_offset=33)], [], lineno=760, col_offset=8), Assign([Name('host', Store(), lineno=761, col_offset=8)], BinOp(BinOp(BinOp(BinOp(Call(Name('quote', Load(), lineno=761, col_offset=15), [Name('user', Load(), lineno=761, col_offset=21)], [keyword('safe', Str('', lineno=761, col_offset=32))], None, None, lineno=761, col_offset=15), Add(), Str(':', lineno=761, col_offset=38), lineno=761, col_offset=15), Add(), Call(Name('quote', Load(), lineno=761, col_offset=44), [Name('passwd', Load(), lineno=761, col_offset=50)], [keyword('safe', Str('', lineno=761, col_offset=63))], None, None, lineno=761, col_offset=44), lineno=761, col_offset=42), Add(), Str('@', lineno=761, col_offset=69), lineno=761, col_offset=67), Add(), Name('host', Load(), lineno=761, col_offset=75), lineno=761, col_offset=73), lineno=761, col_offset=8), Assign([Name('newurl', Store(), lineno=762, col_offset=8)], BinOp(BinOp(Str('https://', lineno=762, col_offset=17), Add(), Name('host', Load(), lineno=762, col_offset=30), lineno=762, col_offset=17), Add(), Name('selector', Load(), lineno=762, col_offset=37), lineno=762, col_offset=35), lineno=762, col_offset=8), If(Compare(Name('data', Load(), lineno=763, col_offset=11), [Is()], [Name('None', Load(), lineno=763, col_offset=19)], lineno=763, col_offset=11), [Return(Call(Attribute(Name('self', Load(), lineno=764, col_offset=19), 'open', Load(), lineno=764, col_offset=19), [Name('newurl', Load(), lineno=764, col_offset=29)], [], None, None, lineno=764, col_offset=19), lineno=764, col_offset=12)], [Return(Call(Attribute(Name('self', Load(), lineno=766, col_offset=19), 'open', Load(), lineno=766, col_offset=19), [Name('newurl', Load(), lineno=766, col_offset=29), Name('data', Load(), lineno=766, col_offset=37)], [], None, None, lineno=766, col_offset=19), lineno=766, col_offset=12)], lineno=763, col_offset=8)], [], lineno=755, col_offset=4), FunctionDef('get_user_passwd', arguments([Name('self', Param(), lineno=768, col_offset=24), Name('host', Param(), lineno=768, col_offset=30), Name('realm', Param(), lineno=768, col_offset=36), Name('clear_cache', Param(), lineno=768, col_offset=43)], None, None, [Num(0, lineno=768, col_offset=55)]), [Assign([Name('key', Store(), lineno=769, col_offset=8)], BinOp(BinOp(Name('realm', Load(), lineno=769, col_offset=14), Add(), Str('@', lineno=769, col_offset=22), lineno=769, col_offset=14), Add(), Call(Attribute(Name('host', Load(), lineno=769, col_offset=28), 'lower', Load(), lineno=769, col_offset=28), [], [], None, None, lineno=769, col_offset=28), lineno=769, col_offset=26), lineno=769, col_offset=8), If(Compare(Name('key', Load(), lineno=770, col_offset=11), [In()], [Attribute(Name('self', Load(), lineno=770, col_offset=18), 'auth_cache', Load(), lineno=770, col_offset=18)], lineno=770, col_offset=11), [If(Name('clear_cache', Load(), lineno=771, col_offset=15), [Delete([Subscript(Attribute(Name('self', Load(), lineno=772, col_offset=20), 'auth_cache', Load(), lineno=772, col_offset=20), Index(Name('key', Load(), lineno=772, col_offset=36)), Del(), lineno=772, col_offset=20)], lineno=772, col_offset=16)], [Return(Subscript(Attribute(Name('self', Load(), lineno=774, col_offset=23), 'auth_cache', Load(), lineno=774, col_offset=23), Index(Name('key', Load(), lineno=774, col_offset=39)), Load(), lineno=774, col_offset=23), lineno=774, col_offset=16)], lineno=771, col_offset=12)], [], lineno=770, col_offset=8), Assign([Tuple([Name('user', Store(), lineno=775, col_offset=8), Name('passwd', Store(), lineno=775, col_offset=14)], Store(), lineno=775, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=775, col_offset=23), 'prompt_user_passwd', Load(), lineno=775, col_offset=23), [Name('host', Load(), lineno=775, col_offset=47), Name('realm', Load(), lineno=775, col_offset=53)], [], None, None, lineno=775, col_offset=23), lineno=775, col_offset=8), If(BoolOp(Or(), [Name('user', Load(), lineno=776, col_offset=11), Name('passwd', Load(), lineno=776, col_offset=19)], lineno=776, col_offset=11), [Assign([Subscript(Attribute(Name('self', Load(), lineno=776, col_offset=27), 'auth_cache', Load(), lineno=776, col_offset=27), Index(Name('key', Load(), lineno=776, col_offset=43)), Store(), lineno=776, col_offset=27)], Tuple([Name('user', Load(), lineno=776, col_offset=51), Name('passwd', Load(), lineno=776, col_offset=57)], Load(), lineno=776, col_offset=51), lineno=776, col_offset=27)], [], lineno=776, col_offset=8), Return(Tuple([Name('user', Load(), lineno=777, col_offset=15), Name('passwd', Load(), lineno=777, col_offset=21)], Load(), lineno=777, col_offset=15), lineno=777, col_offset=8)], [], lineno=768, col_offset=4), FunctionDef('prompt_user_passwd', arguments([Name('self', Param(), lineno=779, col_offset=27), Name('host', Param(), lineno=779, col_offset=33), Name('realm', Param(), lineno=779, col_offset=39)], None, None, []), [Expr(Str('Override this in a GUI environment!', lineno=780, col_offset=8), lineno=780, col_offset=8), Import([alias('getpass', None)], lineno=781, col_offset=8), TryExcept([Assign([Name('user', Store(), lineno=783, col_offset=12)], Call(Name('raw_input', Load(), lineno=783, col_offset=19), [BinOp(Str('Enter username for %s at %s: ', lineno=783, col_offset=29), Mod(), Tuple([Name('realm', Load(), lineno=783, col_offset=64), Name('host', Load(), lineno=784, col_offset=64)], Load(), lineno=783, col_offset=64), lineno=783, col_offset=29)], [], None, None, lineno=783, col_offset=19), lineno=783, col_offset=12), Assign([Name('passwd', Store(), lineno=785, col_offset=12)], Call(Attribute(Name('getpass', Load(), lineno=785, col_offset=21), 'getpass', Load(), lineno=785, col_offset=21), [BinOp(Str('Enter password for %s in %s at %s: ', lineno=785, col_offset=37), Mod(), Tuple([Name('user', Load(), lineno=786, col_offset=17), Name('realm', Load(), lineno=786, col_offset=23), Name('host', Load(), lineno=786, col_offset=30)], Load(), lineno=786, col_offset=17), lineno=785, col_offset=37)], [], None, None, lineno=785, col_offset=21), lineno=785, col_offset=12), Return(Tuple([Name('user', Load(), lineno=787, col_offset=19), Name('passwd', Load(), lineno=787, col_offset=25)], Load(), lineno=787, col_offset=19), lineno=787, col_offset=12)], [ExceptHandler(Name('KeyboardInterrupt', Load(), lineno=788, col_offset=15), None, [Print(None, [], True, lineno=789, col_offset=12), Return(Tuple([Name('None', Load(), lineno=790, col_offset=19), Name('None', Load(), lineno=790, col_offset=25)], Load(), lineno=790, col_offset=19), lineno=790, col_offset=12)], lineno=788, col_offset=8)], [], lineno=782, col_offset=8)], [], lineno=779, col_offset=4)], [], lineno=607, col_offset=0), Assign([Name('_localhost', Store(), lineno=795, col_offset=0)], Name('None', Load(), lineno=795, col_offset=13), lineno=795, col_offset=0), FunctionDef('localhost', arguments([], None, None, []), [Expr(Str("Return the IP address of the magic hostname 'localhost'.", lineno=797, col_offset=4), lineno=797, col_offset=4), Global(['_localhost'], lineno=798, col_offset=4), If(Compare(Name('_localhost', Load(), lineno=799, col_offset=7), [Is()], [Name('None', Load(), lineno=799, col_offset=21)], lineno=799, col_offset=7), [Assign([Name('_localhost', Store(), lineno=800, col_offset=8)], Call(Attribute(Name('socket', Load(), lineno=800, col_offset=21), 'gethostbyname', Load(), lineno=800, col_offset=21), [Str('localhost', lineno=800, col_offset=42)], [], None, None, lineno=800, col_offset=21), lineno=800, col_offset=8)], [], lineno=799, col_offset=4), Return(Name('_localhost', Load(), lineno=801, col_offset=11), lineno=801, col_offset=4)], [], lineno=796, col_offset=0), Assign([Name('_thishost', Store(), lineno=803, col_offset=0)], Name('None', Load(), lineno=803, col_offset=12), lineno=803, col_offset=0), FunctionDef('thishost', arguments([], None, None, []), [Expr(Str('Return the IP address of the current host.', lineno=805, col_offset=4), lineno=805, col_offset=4), Global(['_thishost'], lineno=806, col_offset=4), If(Compare(Name('_thishost', Load(), lineno=807, col_offset=7), [Is()], [Name('None', Load(), lineno=807, col_offset=20)], lineno=807, col_offset=7), [Assign([Name('_thishost', Store(), lineno=808, col_offset=8)], Call(Attribute(Name('socket', Load(), lineno=808, col_offset=20), 'gethostbyname', Load(), lineno=808, col_offset=20), [Call(Attribute(Name('socket', Load(), lineno=808, col_offset=41), 'gethostname', Load(), lineno=808, col_offset=41), [], [], None, None, lineno=808, col_offset=41)], [], None, None, lineno=808, col_offset=20), lineno=808, col_offset=8)], [], lineno=807, col_offset=4), Return(Name('_thishost', Load(), lineno=809, col_offset=11), lineno=809, col_offset=4)], [], lineno=804, col_offset=0), Assign([Name('_ftperrors', Store(), lineno=811, col_offset=0)], Name('None', Load(), lineno=811, col_offset=13), lineno=811, col_offset=0), FunctionDef('ftperrors', arguments([], None, None, []), [Expr(Str('Return the set of errors raised by the FTP class.', lineno=813, col_offset=4), lineno=813, col_offset=4), Global(['_ftperrors'], lineno=814, col_offset=4), If(Compare(Name('_ftperrors', Load(), lineno=815, col_offset=7), [Is()], [Name('None', Load(), lineno=815, col_offset=21)], lineno=815, col_offset=7), [Import([alias('ftplib', None)], lineno=816, col_offset=8), Assign([Name('_ftperrors', Store(), lineno=817, col_offset=8)], Attribute(Name('ftplib', Load(), lineno=817, col_offset=21), 'all_errors', Load(), lineno=817, col_offset=21), lineno=817, col_offset=8)], [], lineno=815, col_offset=4), Return(Name('_ftperrors', Load(), lineno=818, col_offset=11), lineno=818, col_offset=4)], [], lineno=812, col_offset=0), Assign([Name('_noheaders', Store(), lineno=820, col_offset=0)], Name('None', Load(), lineno=820, col_offset=13), lineno=820, col_offset=0), FunctionDef('noheaders', arguments([], None, None, []), [Expr(Str('Return an empty mimetools.Message object.', lineno=822, col_offset=4), lineno=822, col_offset=4), Global(['_noheaders'], lineno=823, col_offset=4), If(Compare(Name('_noheaders', Load(), lineno=824, col_offset=7), [Is()], [Name('None', Load(), lineno=824, col_offset=21)], lineno=824, col_offset=7), [Import([alias('mimetools', None)], lineno=825, col_offset=8), TryExcept([ImportFrom('cStringIO', [alias('StringIO', None)], 0, lineno=827, col_offset=12)], [ExceptHandler(Name('ImportError', Load(), lineno=828, col_offset=15), None, [ImportFrom('StringIO', [alias('StringIO', None)], 0, lineno=829, col_offset=12)], lineno=828, col_offset=8)], [], lineno=826, col_offset=8), Assign([Name('_noheaders', Store(), lineno=830, col_offset=8)], Call(Attribute(Name('mimetools', Load(), lineno=830, col_offset=21), 'Message', Load(), lineno=830, col_offset=21), [Call(Name('StringIO', Load(), lineno=830, col_offset=39), [], [], None, None, lineno=830, col_offset=39), Num(0, lineno=830, col_offset=51)], [], None, None, lineno=830, col_offset=21), lineno=830, col_offset=8), Expr(Call(Attribute(Attribute(Name('_noheaders', Load(), lineno=831, col_offset=8), 'fp', Load(), lineno=831, col_offset=8), 'close', Load(), lineno=831, col_offset=8), [], [], None, None, lineno=831, col_offset=8), lineno=831, col_offset=8)], [], lineno=824, col_offset=4), Return(Name('_noheaders', Load(), lineno=832, col_offset=11), lineno=832, col_offset=4)], [], lineno=821, col_offset=0), ClassDef('ftpwrapper', [], [Expr(Str('Class used by open_ftp() for cache of open FTP connections.', lineno=838, col_offset=4), lineno=838, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=840, col_offset=17), Name('user', Param(), lineno=840, col_offset=23), Name('passwd', Param(), lineno=840, col_offset=29), Name('host', Param(), lineno=840, col_offset=37), Name('port', Param(), lineno=840, col_offset=43), Name('dirs', Param(), lineno=840, col_offset=49), Name('timeout', Param(), lineno=841, col_offset=17)], None, None, [Attribute(Name('socket', Load(), lineno=841, col_offset=25), '_GLOBAL_DEFAULT_TIMEOUT', Load(), lineno=841, col_offset=25)]), [Assign([Attribute(Name('self', Load(), lineno=842, col_offset=8), 'user', Store(), lineno=842, col_offset=8)], Name('user', Load(), lineno=842, col_offset=20), lineno=842, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=843, col_offset=8), 'passwd', Store(), lineno=843, col_offset=8)], Name('passwd', Load(), lineno=843, col_offset=22), lineno=843, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=844, col_offset=8), 'host', Store(), lineno=844, col_offset=8)], Name('host', Load(), lineno=844, col_offset=20), lineno=844, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=845, col_offset=8), 'port', Store(), lineno=845, col_offset=8)], Name('port', Load(), lineno=845, col_offset=20), lineno=845, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=846, col_offset=8), 'dirs', Store(), lineno=846, col_offset=8)], Name('dirs', Load(), lineno=846, col_offset=20), lineno=846, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=847, col_offset=8), 'timeout', Store(), lineno=847, col_offset=8)], Name('timeout', Load(), lineno=847, col_offset=23), lineno=847, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=848, col_offset=8), 'init', Load(), lineno=848, col_offset=8), [], [], None, None, lineno=848, col_offset=8), lineno=848, col_offset=8)], [], lineno=840, col_offset=4), FunctionDef('init', arguments([Name('self', Param(), lineno=850, col_offset=13)], None, None, []), [Import([alias('ftplib', None)], lineno=851, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=852, col_offset=8), 'busy', Store(), lineno=852, col_offset=8)], Num(0, lineno=852, col_offset=20), lineno=852, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=853, col_offset=8), 'ftp', Store(), lineno=853, col_offset=8)], Call(Attribute(Name('ftplib', Load(), lineno=853, col_offset=19), 'FTP', Load(), lineno=853, col_offset=19), [], [], None, None, lineno=853, col_offset=19), lineno=853, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=854, col_offset=8), 'ftp', Load(), lineno=854, col_offset=8), 'connect', Load(), lineno=854, col_offset=8), [Attribute(Name('self', Load(), lineno=854, col_offset=25), 'host', Load(), lineno=854, col_offset=25), Attribute(Name('self', Load(), lineno=854, col_offset=36), 'port', Load(), lineno=854, col_offset=36), Attribute(Name('self', Load(), lineno=854, col_offset=47), 'timeout', Load(), lineno=854, col_offset=47)], [], None, None, lineno=854, col_offset=8), lineno=854, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=855, col_offset=8), 'ftp', Load(), lineno=855, col_offset=8), 'login', Load(), lineno=855, col_offset=8), [Attribute(Name('self', Load(), lineno=855, col_offset=23), 'user', Load(), lineno=855, col_offset=23), Attribute(Name('self', Load(), lineno=855, col_offset=34), 'passwd', Load(), lineno=855, col_offset=34)], [], None, None, lineno=855, col_offset=8), lineno=855, col_offset=8), For(Name('dir', Store(), lineno=856, col_offset=12), Attribute(Name('self', Load(), lineno=856, col_offset=19), 'dirs', Load(), lineno=856, col_offset=19), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=857, col_offset=12), 'ftp', Load(), lineno=857, col_offset=12), 'cwd', Load(), lineno=857, col_offset=12), [Name('dir', Load(), lineno=857, col_offset=25)], [], None, None, lineno=857, col_offset=12), lineno=857, col_offset=12)], [], lineno=856, col_offset=8)], [], lineno=850, col_offset=4), FunctionDef('retrfile', arguments([Name('self', Param(), lineno=859, col_offset=17), Name('file', Param(), lineno=859, col_offset=23), Name('type', Param(), lineno=859, col_offset=29)], None, None, []), [Import([alias('ftplib', None)], lineno=860, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=861, col_offset=8), 'endtransfer', Load(), lineno=861, col_offset=8), [], [], None, None, lineno=861, col_offset=8), lineno=861, col_offset=8), If(Compare(Name('type', Load(), lineno=862, col_offset=11), [In()], [Tuple([Str('d', lineno=862, col_offset=20), Str('D', lineno=862, col_offset=25)], Load(), lineno=862, col_offset=20)], lineno=862, col_offset=11), [Assign([Name('cmd', Store(), lineno=862, col_offset=31)], Str('TYPE A', lineno=862, col_offset=37), lineno=862, col_offset=31), Assign([Name('isdir', Store(), lineno=862, col_offset=47)], Num(1, lineno=862, col_offset=55), lineno=862, col_offset=47)], [Assign([Name('cmd', Store(), lineno=863, col_offset=14)], BinOp(Str('TYPE ', lineno=863, col_offset=20), Add(), Name('type', Load(), lineno=863, col_offset=30), lineno=863, col_offset=20), lineno=863, col_offset=14), Assign([Name('isdir', Store(), lineno=863, col_offset=36)], Num(0, lineno=863, col_offset=44), lineno=863, col_offset=36)], lineno=862, col_offset=8), TryExcept([Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=865, col_offset=12), 'ftp', Load(), lineno=865, col_offset=12), 'voidcmd', Load(), lineno=865, col_offset=12), [Name('cmd', Load(), lineno=865, col_offset=29)], [], None, None, lineno=865, col_offset=12), lineno=865, col_offset=12)], [ExceptHandler(Attribute(Name('ftplib', Load(), lineno=866, col_offset=15), 'all_errors', Load(), lineno=866, col_offset=15), None, [Expr(Call(Attribute(Name('self', Load(), lineno=867, col_offset=12), 'init', Load(), lineno=867, col_offset=12), [], [], None, None, lineno=867, col_offset=12), lineno=867, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=868, col_offset=12), 'ftp', Load(), lineno=868, col_offset=12), 'voidcmd', Load(), lineno=868, col_offset=12), [Name('cmd', Load(), lineno=868, col_offset=29)], [], None, None, lineno=868, col_offset=12), lineno=868, col_offset=12)], lineno=866, col_offset=8)], [], lineno=864, col_offset=8), Assign([Name('conn', Store(), lineno=869, col_offset=8)], Name('None', Load(), lineno=869, col_offset=15), lineno=869, col_offset=8), If(BoolOp(And(), [Name('file', Load(), lineno=870, col_offset=11), UnaryOp(Not(), Name('isdir', Load(), lineno=870, col_offset=24), lineno=870, col_offset=20)], lineno=870, col_offset=11), [TryExcept([Assign([Name('cmd', Store(), lineno=873, col_offset=16)], BinOp(Str('RETR ', lineno=873, col_offset=22), Add(), Name('file', Load(), lineno=873, col_offset=32), lineno=873, col_offset=22), lineno=873, col_offset=16), Assign([Name('conn', Store(), lineno=874, col_offset=16)], Call(Attribute(Attribute(Name('self', Load(), lineno=874, col_offset=23), 'ftp', Load(), lineno=874, col_offset=23), 'ntransfercmd', Load(), lineno=874, col_offset=23), [Name('cmd', Load(), lineno=874, col_offset=45)], [], None, None, lineno=874, col_offset=23), lineno=874, col_offset=16)], [ExceptHandler(Attribute(Name('ftplib', Load(), lineno=875, col_offset=19), 'error_perm', Load(), lineno=875, col_offset=19), Name('reason', Store(), lineno=875, col_offset=38), [If(Compare(Subscript(Call(Name('str', Load(), lineno=876, col_offset=19), [Name('reason', Load(), lineno=876, col_offset=23)], [], None, None, lineno=876, col_offset=19), Slice(None, Num(3, lineno=876, col_offset=32), None), Load(), lineno=876, col_offset=19), [NotEq()], [Str('550', lineno=876, col_offset=38)], lineno=876, col_offset=19), [Raise(Name('IOError', Load(), lineno=877, col_offset=26), Tuple([Str('ftp error', lineno=877, col_offset=36), Name('reason', Load(), lineno=877, col_offset=49)], Load(), lineno=877, col_offset=36), Subscript(Call(Attribute(Name('sys', Load(), lineno=877, col_offset=58), 'exc_info', Load(), lineno=877, col_offset=58), [], [], None, None, lineno=877, col_offset=58), Index(Num(2, lineno=877, col_offset=73)), Load(), lineno=877, col_offset=58), lineno=877, col_offset=20)], [], lineno=876, col_offset=16)], lineno=875, col_offset=12)], [], lineno=872, col_offset=12)], [], lineno=870, col_offset=8), If(UnaryOp(Not(), Name('conn', Load(), lineno=878, col_offset=15), lineno=878, col_offset=11), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=880, col_offset=12), 'ftp', Load(), lineno=880, col_offset=12), 'voidcmd', Load(), lineno=880, col_offset=12), [Str('TYPE A', lineno=880, col_offset=29)], [], None, None, lineno=880, col_offset=12), lineno=880, col_offset=12), If(Name('file', Load(), lineno=882, col_offset=15), [Assign([Name('pwd', Store(), lineno=883, col_offset=16)], Call(Attribute(Attribute(Name('self', Load(), lineno=883, col_offset=22), 'ftp', Load(), lineno=883, col_offset=22), 'pwd', Load(), lineno=883, col_offset=22), [], [], None, None, lineno=883, col_offset=22), lineno=883, col_offset=16), TryFinally([TryExcept([Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=886, col_offset=24), 'ftp', Load(), lineno=886, col_offset=24), 'cwd', Load(), lineno=886, col_offset=24), [Name('file', Load(), lineno=886, col_offset=37)], [], None, None, lineno=886, col_offset=24), lineno=886, col_offset=24)], [ExceptHandler(Attribute(Name('ftplib', Load(), lineno=887, col_offset=27), 'error_perm', Load(), lineno=887, col_offset=27), Name('reason', Store(), lineno=887, col_offset=46), [Raise(Name('IOError', Load(), lineno=888, col_offset=30), Tuple([Str('ftp error', lineno=888, col_offset=40), Name('reason', Load(), lineno=888, col_offset=53)], Load(), lineno=888, col_offset=40), Subscript(Call(Attribute(Name('sys', Load(), lineno=888, col_offset=62), 'exc_info', Load(), lineno=888, col_offset=62), [], [], None, None, lineno=888, col_offset=62), Index(Num(2, lineno=888, col_offset=77)), Load(), lineno=888, col_offset=62), lineno=888, col_offset=24)], lineno=887, col_offset=20)], [], lineno=885, col_offset=20)], [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=890, col_offset=20), 'ftp', Load(), lineno=890, col_offset=20), 'cwd', Load(), lineno=890, col_offset=20), [Name('pwd', Load(), lineno=890, col_offset=33)], [], None, None, lineno=890, col_offset=20), lineno=890, col_offset=20)], lineno=884, col_offset=16), Assign([Name('cmd', Store(), lineno=891, col_offset=16)], BinOp(Str('LIST ', lineno=891, col_offset=22), Add(), Name('file', Load(), lineno=891, col_offset=32), lineno=891, col_offset=22), lineno=891, col_offset=16)], [Assign([Name('cmd', Store(), lineno=893, col_offset=16)], Str('LIST', lineno=893, col_offset=22), lineno=893, col_offset=16)], lineno=882, col_offset=12), Assign([Name('conn', Store(), lineno=894, col_offset=12)], Call(Attribute(Attribute(Name('self', Load(), lineno=894, col_offset=19), 'ftp', Load(), lineno=894, col_offset=19), 'ntransfercmd', Load(), lineno=894, col_offset=19), [Name('cmd', Load(), lineno=894, col_offset=41)], [], None, None, lineno=894, col_offset=19), lineno=894, col_offset=12)], [], lineno=878, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=895, col_offset=8), 'busy', Store(), lineno=895, col_offset=8)], Num(1, lineno=895, col_offset=20), lineno=895, col_offset=8), Return(Tuple([Call(Name('addclosehook', Load(), lineno=897, col_offset=16), [Call(Attribute(Subscript(Name('conn', Load(), lineno=897, col_offset=29), Index(Num(0, lineno=897, col_offset=34)), Load(), lineno=897, col_offset=29), 'makefile', Load(), lineno=897, col_offset=29), [Str('rb', lineno=897, col_offset=46)], [], None, None, lineno=897, col_offset=29), Attribute(Name('self', Load(), lineno=898, col_offset=29), 'endtransfer', Load(), lineno=898, col_offset=29)], [], None, None, lineno=897, col_offset=16), Subscript(Name('conn', Load(), lineno=898, col_offset=48), Index(Num(1, lineno=898, col_offset=53)), Load(), lineno=898, col_offset=48)], Load(), lineno=897, col_offset=16), lineno=897, col_offset=8)], [], lineno=859, col_offset=4), FunctionDef('endtransfer', arguments([Name('self', Param(), lineno=899, col_offset=20)], None, None, []), [If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=900, col_offset=15), 'busy', Load(), lineno=900, col_offset=15), lineno=900, col_offset=11), [Return(None, lineno=901, col_offset=12)], [], lineno=900, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=902, col_offset=8), 'busy', Store(), lineno=902, col_offset=8)], Num(0, lineno=902, col_offset=20), lineno=902, col_offset=8), TryExcept([Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=904, col_offset=12), 'ftp', Load(), lineno=904, col_offset=12), 'voidresp', Load(), lineno=904, col_offset=12), [], [], None, None, lineno=904, col_offset=12), lineno=904, col_offset=12)], [ExceptHandler(Call(Name('ftperrors', Load(), lineno=905, col_offset=15), [], [], None, None, lineno=905, col_offset=15), None, [Pass( lineno=906, col_offset=12)], lineno=905, col_offset=8)], [], lineno=903, col_offset=8)], [], lineno=899, col_offset=4), FunctionDef('close', arguments([Name('self', Param(), lineno=908, col_offset=14)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=909, col_offset=8), 'endtransfer', Load(), lineno=909, col_offset=8), [], [], None, None, lineno=909, col_offset=8), lineno=909, col_offset=8), TryExcept([Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=911, col_offset=12), 'ftp', Load(), lineno=911, col_offset=12), 'close', Load(), lineno=911, col_offset=12), [], [], None, None, lineno=911, col_offset=12), lineno=911, col_offset=12)], [ExceptHandler(Call(Name('ftperrors', Load(), lineno=912, col_offset=15), [], [], None, None, lineno=912, col_offset=15), None, [Pass( lineno=913, col_offset=12)], lineno=912, col_offset=8)], [], lineno=910, col_offset=8)], [], lineno=908, col_offset=4)], [], lineno=837, col_offset=0), ClassDef('addbase', [], [Expr(Str('Base class for addinfo and addclosehook.', lineno=916, col_offset=4), lineno=916, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=918, col_offset=17), Name('fp', Param(), lineno=918, col_offset=23)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=919, col_offset=8), 'fp', Store(), lineno=919, col_offset=8)], Name('fp', Load(), lineno=919, col_offset=18), lineno=919, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=920, col_offset=8), 'read', Store(), lineno=920, col_offset=8)], Attribute(Attribute(Name('self', Load(), lineno=920, col_offset=20), 'fp', Load(), lineno=920, col_offset=20), 'read', Load(), lineno=920, col_offset=20), lineno=920, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=921, col_offset=8), 'readline', Store(), lineno=921, col_offset=8)], Attribute(Attribute(Name('self', Load(), lineno=921, col_offset=24), 'fp', Load(), lineno=921, col_offset=24), 'readline', Load(), lineno=921, col_offset=24), lineno=921, col_offset=8), If(Call(Name('hasattr', Load(), lineno=922, col_offset=11), [Attribute(Name('self', Load(), lineno=922, col_offset=19), 'fp', Load(), lineno=922, col_offset=19), Str('readlines', lineno=922, col_offset=28)], [], None, None, lineno=922, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=922, col_offset=42), 'readlines', Store(), lineno=922, col_offset=42)], Attribute(Attribute(Name('self', Load(), lineno=922, col_offset=59), 'fp', Load(), lineno=922, col_offset=59), 'readlines', Load(), lineno=922, col_offset=59), lineno=922, col_offset=42)], [], lineno=922, col_offset=8), If(Call(Name('hasattr', Load(), lineno=923, col_offset=11), [Attribute(Name('self', Load(), lineno=923, col_offset=19), 'fp', Load(), lineno=923, col_offset=19), Str('fileno', lineno=923, col_offset=28)], [], None, None, lineno=923, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=924, col_offset=12), 'fileno', Store(), lineno=924, col_offset=12)], Attribute(Attribute(Name('self', Load(), lineno=924, col_offset=26), 'fp', Load(), lineno=924, col_offset=26), 'fileno', Load(), lineno=924, col_offset=26), lineno=924, col_offset=12)], [Assign([Attribute(Name('self', Load(), lineno=926, col_offset=12), 'fileno', Store(), lineno=926, col_offset=12)], Lambda(arguments([], None, None, []), Name('None', Load(), lineno=926, col_offset=34), lineno=926, col_offset=26), lineno=926, col_offset=12)], lineno=923, col_offset=8), If(Call(Name('hasattr', Load(), lineno=927, col_offset=11), [Attribute(Name('self', Load(), lineno=927, col_offset=19), 'fp', Load(), lineno=927, col_offset=19), Str('__iter__', lineno=927, col_offset=28)], [], None, None, lineno=927, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=928, col_offset=12), '__iter__', Store(), lineno=928, col_offset=12)], Attribute(Attribute(Name('self', Load(), lineno=928, col_offset=28), 'fp', Load(), lineno=928, col_offset=28), '__iter__', Load(), lineno=928, col_offset=28), lineno=928, col_offset=12), If(Call(Name('hasattr', Load(), lineno=929, col_offset=15), [Attribute(Name('self', Load(), lineno=929, col_offset=23), 'fp', Load(), lineno=929, col_offset=23), Str('next', lineno=929, col_offset=32)], [], None, None, lineno=929, col_offset=15), [Assign([Attribute(Name('self', Load(), lineno=930, col_offset=16), 'next', Store(), lineno=930, col_offset=16)], Attribute(Attribute(Name('self', Load(), lineno=930, col_offset=28), 'fp', Load(), lineno=930, col_offset=28), 'next', Load(), lineno=930, col_offset=28), lineno=930, col_offset=16)], [], lineno=929, col_offset=12)], [], lineno=927, col_offset=8)], [], lineno=918, col_offset=4), FunctionDef('__repr__', arguments([Name('self', Param(), lineno=932, col_offset=17)], None, None, []), [Return(BinOp(Str('<%s at %r whose fp = %r>', lineno=933, col_offset=15), Mod(), Tuple([Attribute(Attribute(Name('self', Load(), lineno=933, col_offset=45), '__class__', Load(), lineno=933, col_offset=45), '__name__', Load(), lineno=933, col_offset=45), Call(Name('id', Load(), lineno=934, col_offset=45), [Name('self', Load(), lineno=934, col_offset=48)], [], None, None, lineno=934, col_offset=45), Attribute(Name('self', Load(), lineno=934, col_offset=55), 'fp', Load(), lineno=934, col_offset=55)], Load(), lineno=933, col_offset=45), lineno=933, col_offset=15), lineno=933, col_offset=8)], [], lineno=932, col_offset=4), FunctionDef('close', arguments([Name('self', Param(), lineno=936, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=937, col_offset=8), 'read', Store(), lineno=937, col_offset=8)], Name('None', Load(), lineno=937, col_offset=20), lineno=937, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=938, col_offset=8), 'readline', Store(), lineno=938, col_offset=8)], Name('None', Load(), lineno=938, col_offset=24), lineno=938, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=939, col_offset=8), 'readlines', Store(), lineno=939, col_offset=8)], Name('None', Load(), lineno=939, col_offset=25), lineno=939, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=940, col_offset=8), 'fileno', Store(), lineno=940, col_offset=8)], Name('None', Load(), lineno=940, col_offset=22), lineno=940, col_offset=8), If(Attribute(Name('self', Load(), lineno=941, col_offset=11), 'fp', Load(), lineno=941, col_offset=11), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=941, col_offset=20), 'fp', Load(), lineno=941, col_offset=20), 'close', Load(), lineno=941, col_offset=20), [], [], None, None, lineno=941, col_offset=20), lineno=941, col_offset=20)], [], lineno=941, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=942, col_offset=8), 'fp', Store(), lineno=942, col_offset=8)], Name('None', Load(), lineno=942, col_offset=18), lineno=942, col_offset=8)], [], lineno=936, col_offset=4)], [], lineno=915, col_offset=0), ClassDef('addclosehook', [Name('addbase', Load(), lineno=944, col_offset=19)], [Expr(Str('Class to add a close hook to an open file.', lineno=945, col_offset=4), lineno=945, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=947, col_offset=17), Name('fp', Param(), lineno=947, col_offset=23), Name('closehook', Param(), lineno=947, col_offset=27)], 'hookargs', None, []), [Expr(Call(Attribute(Name('addbase', Load(), lineno=948, col_offset=8), '__init__', Load(), lineno=948, col_offset=8), [Name('self', Load(), lineno=948, col_offset=25), Name('fp', Load(), lineno=948, col_offset=31)], [], None, None, lineno=948, col_offset=8), lineno=948, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=949, col_offset=8), 'closehook', Store(), lineno=949, col_offset=8)], Name('closehook', Load(), lineno=949, col_offset=25), lineno=949, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=950, col_offset=8), 'hookargs', Store(), lineno=950, col_offset=8)], Name('hookargs', Load(), lineno=950, col_offset=24), lineno=950, col_offset=8)], [], lineno=947, col_offset=4), FunctionDef('close', arguments([Name('self', Param(), lineno=952, col_offset=14)], None, None, []), [Expr(Call(Attribute(Name('addbase', Load(), lineno=953, col_offset=8), 'close', Load(), lineno=953, col_offset=8), [Name('self', Load(), lineno=953, col_offset=22)], [], None, None, lineno=953, col_offset=8), lineno=953, col_offset=8), If(Attribute(Name('self', Load(), lineno=954, col_offset=11), 'closehook', Load(), lineno=954, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=955, col_offset=12), 'closehook', Load(), lineno=955, col_offset=12), [], [], Attribute(Name('self', Load(), lineno=955, col_offset=28), 'hookargs', Load(), lineno=955, col_offset=28), None, lineno=955, col_offset=12), lineno=955, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=956, col_offset=12), 'closehook', Store(), lineno=956, col_offset=12)], Name('None', Load(), lineno=956, col_offset=29), lineno=956, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=957, col_offset=12), 'hookargs', Store(), lineno=957, col_offset=12)], Name('None', Load(), lineno=957, col_offset=28), lineno=957, col_offset=12)], [], lineno=954, col_offset=8)], [], lineno=952, col_offset=4)], [], lineno=944, col_offset=0), ClassDef('addinfo', [Name('addbase', Load(), lineno=959, col_offset=14)], [Expr(Str('class to add an info() method to an open file.', lineno=960, col_offset=4), lineno=960, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=962, col_offset=17), Name('fp', Param(), lineno=962, col_offset=23), Name('headers', Param(), lineno=962, col_offset=27)], None, None, []), [Expr(Call(Attribute(Name('addbase', Load(), lineno=963, col_offset=8), '__init__', Load(), lineno=963, col_offset=8), [Name('self', Load(), lineno=963, col_offset=25), Name('fp', Load(), lineno=963, col_offset=31)], [], None, None, lineno=963, col_offset=8), lineno=963, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=964, col_offset=8), 'headers', Store(), lineno=964, col_offset=8)], Name('headers', Load(), lineno=964, col_offset=23), lineno=964, col_offset=8)], [], lineno=962, col_offset=4), FunctionDef('info', arguments([Name('self', Param(), lineno=966, col_offset=13)], None, None, []), [Return(Attribute(Name('self', Load(), lineno=967, col_offset=15), 'headers', Load(), lineno=967, col_offset=15), lineno=967, col_offset=8)], [], lineno=966, col_offset=4)], [], lineno=959, col_offset=0), ClassDef('addinfourl', [Name('addbase', Load(), lineno=969, col_offset=17)], [Expr(Str('class to add info() and geturl() methods to an open file.', lineno=970, col_offset=4), lineno=970, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=972, col_offset=17), Name('fp', Param(), lineno=972, col_offset=23), Name('headers', Param(), lineno=972, col_offset=27), Name('url', Param(), lineno=972, col_offset=36), Name('code', Param(), lineno=972, col_offset=41)], None, None, [Name('None', Load(), lineno=972, col_offset=46)]), [Expr(Call(Attribute(Name('addbase', Load(), lineno=973, col_offset=8), '__init__', Load(), lineno=973, col_offset=8), [Name('self', Load(), lineno=973, col_offset=25), Name('fp', Load(), lineno=973, col_offset=31)], [], None, None, lineno=973, col_offset=8), lineno=973, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=974, col_offset=8), 'headers', Store(), lineno=974, col_offset=8)], Name('headers', Load(), lineno=974, col_offset=23), lineno=974, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=975, col_offset=8), 'url', Store(), lineno=975, col_offset=8)], Name('url', Load(), lineno=975, col_offset=19), lineno=975, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=976, col_offset=8), 'code', Store(), lineno=976, col_offset=8)], Name('code', Load(), lineno=976, col_offset=20), lineno=976, col_offset=8)], [], lineno=972, col_offset=4), FunctionDef('info', arguments([Name('self', Param(), lineno=978, col_offset=13)], None, None, []), [Return(Attribute(Name('self', Load(), lineno=979, col_offset=15), 'headers', Load(), lineno=979, col_offset=15), lineno=979, col_offset=8)], [], lineno=978, col_offset=4), FunctionDef('getcode', arguments([Name('self', Param(), lineno=981, col_offset=16)], None, None, []), [Return(Attribute(Name('self', Load(), lineno=982, col_offset=15), 'code', Load(), lineno=982, col_offset=15), lineno=982, col_offset=8)], [], lineno=981, col_offset=4), FunctionDef('geturl', arguments([Name('self', Param(), lineno=984, col_offset=15)], None, None, []), [Return(Attribute(Name('self', Load(), lineno=985, col_offset=15), 'url', Load(), lineno=985, col_offset=15), lineno=985, col_offset=8)], [], lineno=984, col_offset=4)], [], lineno=969, col_offset=0), TryExcept([Expr(Name('unicode', Load(), lineno=1004, col_offset=4), lineno=1004, col_offset=4)], [ExceptHandler(Name('NameError', Load(), lineno=1005, col_offset=7), None, [FunctionDef('_is_unicode', arguments([Name('x', Param(), lineno=1006, col_offset=20)], None, None, []), [Return(Num(0, lineno=1007, col_offset=15), lineno=1007, col_offset=8)], [], lineno=1006, col_offset=4)], lineno=1005, col_offset=0)], [FunctionDef('_is_unicode', arguments([Name('x', Param(), lineno=1009, col_offset=20)], None, None, []), [Return(Call(Name('isinstance', Load(), lineno=1010, col_offset=15), [Name('x', Load(), lineno=1010, col_offset=26), Name('unicode', Load(), lineno=1010, col_offset=29)], [], None, None, lineno=1010, col_offset=15), lineno=1010, col_offset=8)], [], lineno=1009, col_offset=4)], lineno=1003, col_offset=0), FunctionDef('toBytes', arguments([Name('url', Param(), lineno=1012, col_offset=12)], None, None, []), [Expr(Str('toBytes(u"URL") --> \'URL\'.', lineno=1013, col_offset=4), lineno=1013, col_offset=4), If(Call(Name('_is_unicode', Load(), lineno=1016, col_offset=7), [Name('url', Load(), lineno=1016, col_offset=19)], [], None, None, lineno=1016, col_offset=7), [TryExcept([Assign([Name('url', Store(), lineno=1018, col_offset=12)], Call(Attribute(Name('url', Load(), lineno=1018, col_offset=18), 'encode', Load(), lineno=1018, col_offset=18), [Str('ASCII', lineno=1018, col_offset=29)], [], None, None, lineno=1018, col_offset=18), lineno=1018, col_offset=12)], [ExceptHandler(Name('UnicodeError', Load(), lineno=1019, col_offset=15), None, [Raise(Call(Name('UnicodeError', Load(), lineno=1020, col_offset=18), [BinOp(BinOp(Str('URL ', lineno=1020, col_offset=31), Add(), Call(Name('repr', Load(), lineno=1020, col_offset=40), [Name('url', Load(), lineno=1020, col_offset=45)], [], None, None, lineno=1020, col_offset=40), lineno=1020, col_offset=31), Add(), Str(' contains non-ASCII characters', lineno=1021, col_offset=31), lineno=1020, col_offset=50)], [], None, None, lineno=1020, col_offset=18), None, None, lineno=1020, col_offset=12)], lineno=1019, col_offset=8)], [], lineno=1017, col_offset=8)], [], lineno=1016, col_offset=4), Return(Name('url', Load(), lineno=1022, col_offset=11), lineno=1022, col_offset=4)], [], lineno=1012, col_offset=0), FunctionDef('unwrap', arguments([Name('url', Param(), lineno=1024, col_offset=11)], None, None, []), [Expr(Str("unwrap('<URL:type://host/path>') --> 'type://host/path'.", lineno=1025, col_offset=4), lineno=1025, col_offset=4), Assign([Name('url', Store(), lineno=1026, col_offset=4)], Call(Attribute(Name('url', Load(), lineno=1026, col_offset=10), 'strip', Load(), lineno=1026, col_offset=10), [], [], None, None, lineno=1026, col_offset=10), lineno=1026, col_offset=4), If(BoolOp(And(), [Compare(Subscript(Name('url', Load(), lineno=1027, col_offset=7), Slice(None, Num(1, lineno=1027, col_offset=12), None), Load(), lineno=1027, col_offset=7), [Eq()], [Str('<', lineno=1027, col_offset=18)], lineno=1027, col_offset=7), Compare(Subscript(Name('url', Load(), lineno=1027, col_offset=26), Slice(Num(-1, lineno=1027, col_offset=31), None, None), Load(), lineno=1027, col_offset=26), [Eq()], [Str('>', lineno=1027, col_offset=38)], lineno=1027, col_offset=26)], lineno=1027, col_offset=7), [Assign([Name('url', Store(), lineno=1028, col_offset=8)], Call(Attribute(Subscript(Name('url', Load(), lineno=1028, col_offset=14), Slice(Num(1, lineno=1028, col_offset=18), Num(-1, lineno=1028, col_offset=21), None), Load(), lineno=1028, col_offset=14), 'strip', Load(), lineno=1028, col_offset=14), [], [], None, None, lineno=1028, col_offset=14), lineno=1028, col_offset=8)], [], lineno=1027, col_offset=4), If(Compare(Subscript(Name('url', Load(), lineno=1029, col_offset=7), Slice(None, Num(4, lineno=1029, col_offset=12), None), Load(), lineno=1029, col_offset=7), [Eq()], [Str('URL:', lineno=1029, col_offset=18)], lineno=1029, col_offset=7), [Assign([Name('url', Store(), lineno=1029, col_offset=26)], Call(Attribute(Subscript(Name('url', Load(), lineno=1029, col_offset=32), Slice(Num(4, lineno=1029, col_offset=36), None, None), Load(), lineno=1029, col_offset=32), 'strip', Load(), lineno=1029, col_offset=32), [], [], None, None, lineno=1029, col_offset=32), lineno=1029, col_offset=26)], [], lineno=1029, col_offset=4), Return(Name('url', Load(), lineno=1030, col_offset=11), lineno=1030, col_offset=4)], [], lineno=1024, col_offset=0), Assign([Name('_typeprog', Store(), lineno=1032, col_offset=0)], Name('None', Load(), lineno=1032, col_offset=12), lineno=1032, col_offset=0), FunctionDef('splittype', arguments([Name('url', Param(), lineno=1033, col_offset=14)], None, None, []), [Expr(Str("splittype('type:opaquestring') --> 'type', 'opaquestring'.", lineno=1034, col_offset=4), lineno=1034, col_offset=4), Global(['_typeprog'], lineno=1035, col_offset=4), If(Compare(Name('_typeprog', Load(), lineno=1036, col_offset=7), [Is()], [Name('None', Load(), lineno=1036, col_offset=20)], lineno=1036, col_offset=7), [Import([alias('re', None)], lineno=1037, col_offset=8), Assign([Name('_typeprog', Store(), lineno=1038, col_offset=8)], Call(Attribute(Name('re', Load(), lineno=1038, col_offset=20), 'compile', Load(), lineno=1038, col_offset=20), [Str('^([^/:]+):', lineno=1038, col_offset=31)], [], None, None, lineno=1038, col_offset=20), lineno=1038, col_offset=8)], [], lineno=1036, col_offset=4), Assign([Name('match', Store(), lineno=1040, col_offset=4)], Call(Attribute(Name('_typeprog', Load(), lineno=1040, col_offset=12), 'match', Load(), lineno=1040, col_offset=12), [Name('url', Load(), lineno=1040, col_offset=28)], [], None, None, lineno=1040, col_offset=12), lineno=1040, col_offset=4), If(Name('match', Load(), lineno=1041, col_offset=7), [Assign([Name('scheme', Store(), lineno=1042, col_offset=8)], Call(Attribute(Name('match', Load(), lineno=1042, col_offset=17), 'group', Load(), lineno=1042, col_offset=17), [Num(1, lineno=1042, col_offset=29)], [], None, None, lineno=1042, col_offset=17), lineno=1042, col_offset=8), Return(Tuple([Call(Attribute(Name('scheme', Load(), lineno=1043, col_offset=15), 'lower', Load(), lineno=1043, col_offset=15), [], [], None, None, lineno=1043, col_offset=15), Subscript(Name('url', Load(), lineno=1043, col_offset=31), Slice(BinOp(Call(Name('len', Load(), lineno=1043, col_offset=35), [Name('scheme', Load(), lineno=1043, col_offset=39)], [], None, None, lineno=1043, col_offset=35), Add(), Num(1, lineno=1043, col_offset=49), lineno=1043, col_offset=35), None, None), Load(), lineno=1043, col_offset=31)], Load(), lineno=1043, col_offset=15), lineno=1043, col_offset=8)], [], lineno=1041, col_offset=4), Return(Tuple([Name('None', Load(), lineno=1044, col_offset=11), Name('url', Load(), lineno=1044, col_offset=17)], Load(), lineno=1044, col_offset=11), lineno=1044, col_offset=4)], [], lineno=1033, col_offset=0), Assign([Name('_hostprog', Store(), lineno=1046, col_offset=0)], Name('None', Load(), lineno=1046, col_offset=12), lineno=1046, col_offset=0), FunctionDef('splithost', arguments([Name('url', Param(), lineno=1047, col_offset=14)], None, None, []), [Expr(Str("splithost('//host[:port]/path') --> 'host[:port]', '/path'.", lineno=1048, col_offset=4), lineno=1048, col_offset=4), Global(['_hostprog'], lineno=1049, col_offset=4), If(Compare(Name('_hostprog', Load(), lineno=1050, col_offset=7), [Is()], [Name('None', Load(), lineno=1050, col_offset=20)], lineno=1050, col_offset=7), [Import([alias('re', None)], lineno=1051, col_offset=8), Assign([Name('_hostprog', Store(), lineno=1052, col_offset=8)], Call(Attribute(Name('re', Load(), lineno=1052, col_offset=20), 'compile', Load(), lineno=1052, col_offset=20), [Str('^//([^/?]*)(.*)$', lineno=1052, col_offset=31)], [], None, None, lineno=1052, col_offset=20), lineno=1052, col_offset=8)], [], lineno=1050, col_offset=4), Assign([Name('match', Store(), lineno=1054, col_offset=4)], Call(Attribute(Name('_hostprog', Load(), lineno=1054, col_offset=12), 'match', Load(), lineno=1054, col_offset=12), [Name('url', Load(), lineno=1054, col_offset=28)], [], None, None, lineno=1054, col_offset=12), lineno=1054, col_offset=4), If(Name('match', Load(), lineno=1055, col_offset=7), [Assign([Name('host_port', Store(), lineno=1056, col_offset=8)], Call(Attribute(Name('match', Load(), lineno=1056, col_offset=20), 'group', Load(), lineno=1056, col_offset=20), [Num(1, lineno=1056, col_offset=32)], [], None, None, lineno=1056, col_offset=20), lineno=1056, col_offset=8), Assign([Name('path', Store(), lineno=1057, col_offset=8)], Call(Attribute(Name('match', Load(), lineno=1057, col_offset=15), 'group', Load(), lineno=1057, col_offset=15), [Num(2, lineno=1057, col_offset=27)], [], None, None, lineno=1057, col_offset=15), lineno=1057, col_offset=8), If(BoolOp(And(), [Name('path', Load(), lineno=1058, col_offset=11), UnaryOp(Not(), Call(Attribute(Name('path', Load(), lineno=1058, col_offset=24), 'startswith', Load(), lineno=1058, col_offset=24), [Str('/', lineno=1058, col_offset=40)], [], None, None, lineno=1058, col_offset=24), lineno=1058, col_offset=20)], lineno=1058, col_offset=11), [Assign([Name('path', Store(), lineno=1059, col_offset=12)], BinOp(Str('/', lineno=1059, col_offset=19), Add(), Name('path', Load(), lineno=1059, col_offset=25), lineno=1059, col_offset=19), lineno=1059, col_offset=12)], [], lineno=1058, col_offset=8), Return(Tuple([Name('host_port', Load(), lineno=1060, col_offset=15), Name('path', Load(), lineno=1060, col_offset=26)], Load(), lineno=1060, col_offset=15), lineno=1060, col_offset=8)], [], lineno=1055, col_offset=4), Return(Tuple([Name('None', Load(), lineno=1061, col_offset=11), Name('url', Load(), lineno=1061, col_offset=17)], Load(), lineno=1061, col_offset=11), lineno=1061, col_offset=4)], [], lineno=1047, col_offset=0), Assign([Name('_userprog', Store(), lineno=1063, col_offset=0)], Name('None', Load(), lineno=1063, col_offset=12), lineno=1063, col_offset=0), FunctionDef('splituser', arguments([Name('host', Param(), lineno=1064, col_offset=14)], None, None, []), [Expr(Str("splituser('user[:passwd]@host[:port]') --> 'user[:passwd]', 'host[:port]'.", lineno=1065, col_offset=4), lineno=1065, col_offset=4), Global(['_userprog'], lineno=1066, col_offset=4), If(Compare(Name('_userprog', Load(), lineno=1067, col_offset=7), [Is()], [Name('None', Load(), lineno=1067, col_offset=20)], lineno=1067, col_offset=7), [Import([alias('re', None)], lineno=1068, col_offset=8), Assign([Name('_userprog', Store(), lineno=1069, col_offset=8)], Call(Attribute(Name('re', Load(), lineno=1069, col_offset=20), 'compile', Load(), lineno=1069, col_offset=20), [Str('^(.*)@(.*)$', lineno=1069, col_offset=31)], [], None, None, lineno=1069, col_offset=20), lineno=1069, col_offset=8)], [], lineno=1067, col_offset=4), Assign([Name('match', Store(), lineno=1071, col_offset=4)], Call(Attribute(Name('_userprog', Load(), lineno=1071, col_offset=12), 'match', Load(), lineno=1071, col_offset=12), [Name('host', Load(), lineno=1071, col_offset=28)], [], None, None, lineno=1071, col_offset=12), lineno=1071, col_offset=4), If(Name('match', Load(), lineno=1072, col_offset=7), [Return(Call(Attribute(Name('match', Load(), lineno=1072, col_offset=21), 'group', Load(), lineno=1072, col_offset=21), [Num(1, lineno=1072, col_offset=33), Num(2, lineno=1072, col_offset=36)], [], None, None, lineno=1072, col_offset=21), lineno=1072, col_offset=14)], [], lineno=1072, col_offset=4), Return(Tuple([Name('None', Load(), lineno=1073, col_offset=11), Name('host', Load(), lineno=1073, col_offset=17)], Load(), lineno=1073, col_offset=11), lineno=1073, col_offset=4)], [], lineno=1064, col_offset=0), Assign([Name('_passwdprog', Store(), lineno=1075, col_offset=0)], Name('None', Load(), lineno=1075, col_offset=14), lineno=1075, col_offset=0), FunctionDef('splitpasswd', arguments([Name('user', Param(), lineno=1076, col_offset=16)], None, None, []), [Expr(Str("splitpasswd('user:passwd') -> 'user', 'passwd'.", lineno=1077, col_offset=4), lineno=1077, col_offset=4), Global(['_passwdprog'], lineno=1078, col_offset=4), If(Compare(Name('_passwdprog', Load(), lineno=1079, col_offset=7), [Is()], [Name('None', Load(), lineno=1079, col_offset=22)], lineno=1079, col_offset=7), [Import([alias('re', None)], lineno=1080, col_offset=8), Assign([Name('_passwdprog', Store(), lineno=1081, col_offset=8)], Call(Attribute(Name('re', Load(), lineno=1081, col_offset=22), 'compile', Load(), lineno=1081, col_offset=22), [Str('^([^:]*):(.*)$', lineno=1081, col_offset=33), Attribute(Name('re', Load(), lineno=1081, col_offset=50), 'S', Load(), lineno=1081, col_offset=50)], [], None, None, lineno=1081, col_offset=22), lineno=1081, col_offset=8)], [], lineno=1079, col_offset=4), Assign([Name('match', Store(), lineno=1083, col_offset=4)], Call(Attribute(Name('_passwdprog', Load(), lineno=1083, col_offset=12), 'match', Load(), lineno=1083, col_offset=12), [Name('user', Load(), lineno=1083, col_offset=30)], [], None, None, lineno=1083, col_offset=12), lineno=1083, col_offset=4), If(Name('match', Load(), lineno=1084, col_offset=7), [Return(Call(Attribute(Name('match', Load(), lineno=1084, col_offset=21), 'group', Load(), lineno=1084, col_offset=21), [Num(1, lineno=1084, col_offset=33), Num(2, lineno=1084, col_offset=36)], [], None, None, lineno=1084, col_offset=21), lineno=1084, col_offset=14)], [], lineno=1084, col_offset=4), Return(Tuple([Name('user', Load(), lineno=1085, col_offset=11), Name('None', Load(), lineno=1085, col_offset=17)], Load(), lineno=1085, col_offset=11), lineno=1085, col_offset=4)], [], lineno=1076, col_offset=0), Assign([Name('_portprog', Store(), lineno=1088, col_offset=0)], Name('None', Load(), lineno=1088, col_offset=12), lineno=1088, col_offset=0), FunctionDef('splitport', arguments([Name('host', Param(), lineno=1089, col_offset=14)], None, None, []), [Expr(Str("splitport('host:port') --> 'host', 'port'.", lineno=1090, col_offset=4), lineno=1090, col_offset=4), Global(['_portprog'], lineno=1091, col_offset=4), If(Compare(Name('_portprog', Load(), lineno=1092, col_offset=7), [Is()], [Name('None', Load(), lineno=1092, col_offset=20)], lineno=1092, col_offset=7), [Import([alias('re', None)], lineno=1093, col_offset=8), Assign([Name('_portprog', Store(), lineno=1094, col_offset=8)], Call(Attribute(Name('re', Load(), lineno=1094, col_offset=20), 'compile', Load(), lineno=1094, col_offset=20), [Str('^(.*):([0-9]+)$', lineno=1094, col_offset=31)], [], None, None, lineno=1094, col_offset=20), lineno=1094, col_offset=8)], [], lineno=1092, col_offset=4), Assign([Name('match', Store(), lineno=1096, col_offset=4)], Call(Attribute(Name('_portprog', Load(), lineno=1096, col_offset=12), 'match', Load(), lineno=1096, col_offset=12), [Name('host', Load(), lineno=1096, col_offset=28)], [], None, None, lineno=1096, col_offset=12), lineno=1096, col_offset=4), If(Name('match', Load(), lineno=1097, col_offset=7), [Return(Call(Attribute(Name('match', Load(), lineno=1097, col_offset=21), 'group', Load(), lineno=1097, col_offset=21), [Num(1, lineno=1097, col_offset=33), Num(2, lineno=1097, col_offset=36)], [], None, None, lineno=1097, col_offset=21), lineno=1097, col_offset=14)], [], lineno=1097, col_offset=4), Return(Tuple([Name('host', Load(), lineno=1098, col_offset=11), Name('None', Load(), lineno=1098, col_offset=17)], Load(), lineno=1098, col_offset=11), lineno=1098, col_offset=4)], [], lineno=1089, col_offset=0), Assign([Name('_nportprog', Store(), lineno=1100, col_offset=0)], Name('None', Load(), lineno=1100, col_offset=13), lineno=1100, col_offset=0), FunctionDef('splitnport', arguments([Name('host', Param(), lineno=1101, col_offset=15), Name('defport', Param(), lineno=1101, col_offset=21)], None, None, [Num(-1, lineno=1101, col_offset=30)]), [Expr(Str("Split host and port, returning numeric port.\n    Return given default port if no ':' found; defaults to -1.\n    Return numerical port if a valid number are found after ':'.\n    Return None if ':' but not a valid number.", lineno=1105, col_offset=-1), lineno=1105, col_offset=-1), Global(['_nportprog'], lineno=1106, col_offset=4), If(Compare(Name('_nportprog', Load(), lineno=1107, col_offset=7), [Is()], [Name('None', Load(), lineno=1107, col_offset=21)], lineno=1107, col_offset=7), [Import([alias('re', None)], lineno=1108, col_offset=8), Assign([Name('_nportprog', Store(), lineno=1109, col_offset=8)], Call(Attribute(Name('re', Load(), lineno=1109, col_offset=21), 'compile', Load(), lineno=1109, col_offset=21), [Str('^(.*):(.*)$', lineno=1109, col_offset=32)], [], None, None, lineno=1109, col_offset=21), lineno=1109, col_offset=8)], [], lineno=1107, col_offset=4), Assign([Name('match', Store(), lineno=1111, col_offset=4)], Call(Attribute(Name('_nportprog', Load(), lineno=1111, col_offset=12), 'match', Load(), lineno=1111, col_offset=12), [Name('host', Load(), lineno=1111, col_offset=29)], [], None, None, lineno=1111, col_offset=12), lineno=1111, col_offset=4), If(Name('match', Load(), lineno=1112, col_offset=7), [Assign([Tuple([Name('host', Store(), lineno=1113, col_offset=8), Name('port', Store(), lineno=1113, col_offset=14)], Store(), lineno=1113, col_offset=8)], Call(Attribute(Name('match', Load(), lineno=1113, col_offset=21), 'group', Load(), lineno=1113, col_offset=21), [Num(1, lineno=1113, col_offset=33), Num(2, lineno=1113, col_offset=36)], [], None, None, lineno=1113, col_offset=21), lineno=1113, col_offset=8), TryExcept([If(UnaryOp(Not(), Name('port', Load(), lineno=1115, col_offset=19), lineno=1115, col_offset=15), [Raise(Name('ValueError', Load(), lineno=1115, col_offset=31), Str('no digits', lineno=1115, col_offset=43), None, lineno=1115, col_offset=25)], [], lineno=1115, col_offset=12), Assign([Name('nport', Store(), lineno=1116, col_offset=12)], Call(Name('int', Load(), lineno=1116, col_offset=20), [Name('port', Load(), lineno=1116, col_offset=24)], [], None, None, lineno=1116, col_offset=20), lineno=1116, col_offset=12)], [ExceptHandler(Name('ValueError', Load(), lineno=1117, col_offset=15), None, [Assign([Name('nport', Store(), lineno=1118, col_offset=12)], Name('None', Load(), lineno=1118, col_offset=20), lineno=1118, col_offset=12)], lineno=1117, col_offset=8)], [], lineno=1114, col_offset=8), Return(Tuple([Name('host', Load(), lineno=1119, col_offset=15), Name('nport', Load(), lineno=1119, col_offset=21)], Load(), lineno=1119, col_offset=15), lineno=1119, col_offset=8)], [], lineno=1112, col_offset=4), Return(Tuple([Name('host', Load(), lineno=1120, col_offset=11), Name('defport', Load(), lineno=1120, col_offset=17)], Load(), lineno=1120, col_offset=11), lineno=1120, col_offset=4)], [], lineno=1101, col_offset=0), Assign([Name('_queryprog', Store(), lineno=1122, col_offset=0)], Name('None', Load(), lineno=1122, col_offset=13), lineno=1122, col_offset=0), FunctionDef('splitquery', arguments([Name('url', Param(), lineno=1123, col_offset=15)], None, None, []), [Expr(Str("splitquery('/path?query') --> '/path', 'query'.", lineno=1124, col_offset=4), lineno=1124, col_offset=4), Global(['_queryprog'], lineno=1125, col_offset=4), If(Compare(Name('_queryprog', Load(), lineno=1126, col_offset=7), [Is()], [Name('None', Load(), lineno=1126, col_offset=21)], lineno=1126, col_offset=7), [Import([alias('re', None)], lineno=1127, col_offset=8), Assign([Name('_queryprog', Store(), lineno=1128, col_offset=8)], Call(Attribute(Name('re', Load(), lineno=1128, col_offset=21), 'compile', Load(), lineno=1128, col_offset=21), [Str('^(.*)\\?([^?]*)$', lineno=1128, col_offset=32)], [], None, None, lineno=1128, col_offset=21), lineno=1128, col_offset=8)], [], lineno=1126, col_offset=4), Assign([Name('match', Store(), lineno=1130, col_offset=4)], Call(Attribute(Name('_queryprog', Load(), lineno=1130, col_offset=12), 'match', Load(), lineno=1130, col_offset=12), [Name('url', Load(), lineno=1130, col_offset=29)], [], None, None, lineno=1130, col_offset=12), lineno=1130, col_offset=4), If(Name('match', Load(), lineno=1131, col_offset=7), [Return(Call(Attribute(Name('match', Load(), lineno=1131, col_offset=21), 'group', Load(), lineno=1131, col_offset=21), [Num(1, lineno=1131, col_offset=33), Num(2, lineno=1131, col_offset=36)], [], None, None, lineno=1131, col_offset=21), lineno=1131, col_offset=14)], [], lineno=1131, col_offset=4), Return(Tuple([Name('url', Load(), lineno=1132, col_offset=11), Name('None', Load(), lineno=1132, col_offset=16)], Load(), lineno=1132, col_offset=11), lineno=1132, col_offset=4)], [], lineno=1123, col_offset=0), Assign([Name('_tagprog', Store(), lineno=1134, col_offset=0)], Name('None', Load(), lineno=1134, col_offset=11), lineno=1134, col_offset=0), FunctionDef('splittag', arguments([Name('url', Param(), lineno=1135, col_offset=13)], None, None, []), [Expr(Str("splittag('/path#tag') --> '/path', 'tag'.", lineno=1136, col_offset=4), lineno=1136, col_offset=4), Global(['_tagprog'], lineno=1137, col_offset=4), If(Compare(Name('_tagprog', Load(), lineno=1138, col_offset=7), [Is()], [Name('None', Load(), lineno=1138, col_offset=19)], lineno=1138, col_offset=7), [Import([alias('re', None)], lineno=1139, col_offset=8), Assign([Name('_tagprog', Store(), lineno=1140, col_offset=8)], Call(Attribute(Name('re', Load(), lineno=1140, col_offset=19), 'compile', Load(), lineno=1140, col_offset=19), [Str('^(.*)#([^#]*)$', lineno=1140, col_offset=30)], [], None, None, lineno=1140, col_offset=19), lineno=1140, col_offset=8)], [], lineno=1138, col_offset=4), Assign([Name('match', Store(), lineno=1142, col_offset=4)], Call(Attribute(Name('_tagprog', Load(), lineno=1142, col_offset=12), 'match', Load(), lineno=1142, col_offset=12), [Name('url', Load(), lineno=1142, col_offset=27)], [], None, None, lineno=1142, col_offset=12), lineno=1142, col_offset=4), If(Name('match', Load(), lineno=1143, col_offset=7), [Return(Call(Attribute(Name('match', Load(), lineno=1143, col_offset=21), 'group', Load(), lineno=1143, col_offset=21), [Num(1, lineno=1143, col_offset=33), Num(2, lineno=1143, col_offset=36)], [], None, None, lineno=1143, col_offset=21), lineno=1143, col_offset=14)], [], lineno=1143, col_offset=4), Return(Tuple([Name('url', Load(), lineno=1144, col_offset=11), Name('None', Load(), lineno=1144, col_offset=16)], Load(), lineno=1144, col_offset=11), lineno=1144, col_offset=4)], [], lineno=1135, col_offset=0), FunctionDef('splitattr', arguments([Name('url', Param(), lineno=1146, col_offset=14)], None, None, []), [Expr(Str("splitattr('/path;attr1=value1;attr2=value2;...') ->\n        '/path', ['attr1=value1', 'attr2=value2', ...].", lineno=1148, col_offset=-1), lineno=1148, col_offset=-1), Assign([Name('words', Store(), lineno=1149, col_offset=4)], Call(Attribute(Name('url', Load(), lineno=1149, col_offset=12), 'split', Load(), lineno=1149, col_offset=12), [Str(';', lineno=1149, col_offset=22)], [], None, None, lineno=1149, col_offset=12), lineno=1149, col_offset=4), Return(Tuple([Subscript(Name('words', Load(), lineno=1150, col_offset=11), Index(Num(0, lineno=1150, col_offset=17)), Load(), lineno=1150, col_offset=11), Subscript(Name('words', Load(), lineno=1150, col_offset=21), Slice(Num(1, lineno=1150, col_offset=27), None, None), Load(), lineno=1150, col_offset=21)], Load(), lineno=1150, col_offset=11), lineno=1150, col_offset=4)], [], lineno=1146, col_offset=0), Assign([Name('_valueprog', Store(), lineno=1152, col_offset=0)], Name('None', Load(), lineno=1152, col_offset=13), lineno=1152, col_offset=0), FunctionDef('splitvalue', arguments([Name('attr', Param(), lineno=1153, col_offset=15)], None, None, []), [Expr(Str("splitvalue('attr=value') --> 'attr', 'value'.", lineno=1154, col_offset=4), lineno=1154, col_offset=4), Global(['_valueprog'], lineno=1155, col_offset=4), If(Compare(Name('_valueprog', Load(), lineno=1156, col_offset=7), [Is()], [Name('None', Load(), lineno=1156, col_offset=21)], lineno=1156, col_offset=7), [Import([alias('re', None)], lineno=1157, col_offset=8), Assign([Name('_valueprog', Store(), lineno=1158, col_offset=8)], Call(Attribute(Name('re', Load(), lineno=1158, col_offset=21), 'compile', Load(), lineno=1158, col_offset=21), [Str('^([^=]*)=(.*)$', lineno=1158, col_offset=32)], [], None, None, lineno=1158, col_offset=21), lineno=1158, col_offset=8)], [], lineno=1156, col_offset=4), Assign([Name('match', Store(), lineno=1160, col_offset=4)], Call(Attribute(Name('_valueprog', Load(), lineno=1160, col_offset=12), 'match', Load(), lineno=1160, col_offset=12), [Name('attr', Load(), lineno=1160, col_offset=29)], [], None, None, lineno=1160, col_offset=12), lineno=1160, col_offset=4), If(Name('match', Load(), lineno=1161, col_offset=7), [Return(Call(Attribute(Name('match', Load(), lineno=1161, col_offset=21), 'group', Load(), lineno=1161, col_offset=21), [Num(1, lineno=1161, col_offset=33), Num(2, lineno=1161, col_offset=36)], [], None, None, lineno=1161, col_offset=21), lineno=1161, col_offset=14)], [], lineno=1161, col_offset=4), Return(Tuple([Name('attr', Load(), lineno=1162, col_offset=11), Name('None', Load(), lineno=1162, col_offset=17)], Load(), lineno=1162, col_offset=11), lineno=1162, col_offset=4)], [], lineno=1153, col_offset=0), Assign([Name('_hexdig', Store(), lineno=1168, col_offset=0)], Str('0123456789ABCDEFabcdef', lineno=1168, col_offset=10), lineno=1168, col_offset=0), Assign([Name('_hextochr', Store(), lineno=1169, col_offset=0)], Call(Name('dict', Load(), lineno=1169, col_offset=12), [GeneratorExp(Tuple([BinOp(Name('a', Load(), lineno=1169, col_offset=18), Add(), Name('b', Load(), lineno=1169, col_offset=22), lineno=1169, col_offset=18), Call(Name('chr', Load(), lineno=1169, col_offset=25), [Call(Name('int', Load(), lineno=1169, col_offset=29), [BinOp(Name('a', Load(), lineno=1169, col_offset=33), Add(), Name('b', Load(), lineno=1169, col_offset=37), lineno=1169, col_offset=33), Num(16, lineno=1169, col_offset=40)], [], None, None, lineno=1169, col_offset=29)], [], None, None, lineno=1169, col_offset=25)], Load(), lineno=1169, col_offset=18), [comprehension(Name('a', Store(), lineno=1170, col_offset=21), Name('_hexdig', Load(), lineno=1170, col_offset=26), []), comprehension(Name('b', Store(), lineno=1170, col_offset=38), Name('_hexdig', Load(), lineno=1170, col_offset=43), [])], lineno=1169, col_offset=17)], [], None, None, lineno=1169, col_offset=12), lineno=1169, col_offset=0), FunctionDef('unquote', arguments([Name('s', Param(), lineno=1172, col_offset=12)], None, None, []), [Expr(Str("unquote('abc%20def') -> 'abc def'.", lineno=1173, col_offset=4), lineno=1173, col_offset=4), Assign([Name('res', Store(), lineno=1174, col_offset=4)], Call(Attribute(Name('s', Load(), lineno=1174, col_offset=10), 'split', Load(), lineno=1174, col_offset=10), [Str('%', lineno=1174, col_offset=18)], [], None, None, lineno=1174, col_offset=10), lineno=1174, col_offset=4), If(Compare(Call(Name('len', Load(), lineno=1176, col_offset=7), [Name('res', Load(), lineno=1176, col_offset=11)], [], None, None, lineno=1176, col_offset=7), [Eq()], [Num(1, lineno=1176, col_offset=19)], lineno=1176, col_offset=7), [Return(Name('s', Load(), lineno=1177, col_offset=15), lineno=1177, col_offset=8)], [], lineno=1176, col_offset=4), Assign([Name('s', Store(), lineno=1178, col_offset=4)], Subscript(Name('res', Load(), lineno=1178, col_offset=8), Index(Num(0, lineno=1178, col_offset=12)), Load(), lineno=1178, col_offset=8), lineno=1178, col_offset=4), For(Name('item', Store(), lineno=1179, col_offset=8), Subscript(Name('res', Load(), lineno=1179, col_offset=16), Slice(Num(1, lineno=1179, col_offset=20), None, None), Load(), lineno=1179, col_offset=16), [TryExcept([AugAssign(Name('s', Store(), lineno=1181, col_offset=12), Add(), BinOp(Subscript(Name('_hextochr', Load(), lineno=1181, col_offset=17), Index(Subscript(Name('item', Load(), lineno=1181, col_offset=27), Slice(None, Num(2, lineno=1181, col_offset=33), None), Load(), lineno=1181, col_offset=27)), Load(), lineno=1181, col_offset=17), Add(), Subscript(Name('item', Load(), lineno=1181, col_offset=39), Slice(Num(2, lineno=1181, col_offset=44), None, None), Load(), lineno=1181, col_offset=39), lineno=1181, col_offset=17), lineno=1181, col_offset=12)], [ExceptHandler(Name('KeyError', Load(), lineno=1182, col_offset=15), None, [AugAssign(Name('s', Store(), lineno=1183, col_offset=12), Add(), BinOp(Str('%', lineno=1183, col_offset=17), Add(), Name('item', Load(), lineno=1183, col_offset=23), lineno=1183, col_offset=17), lineno=1183, col_offset=12)], lineno=1182, col_offset=8), ExceptHandler(Name('UnicodeDecodeError', Load(), lineno=1184, col_offset=15), None, [AugAssign(Name('s', Store(), lineno=1185, col_offset=12), Add(), BinOp(Call(Name('unichr', Load(), lineno=1185, col_offset=17), [Call(Name('int', Load(), lineno=1185, col_offset=24), [Subscript(Name('item', Load(), lineno=1185, col_offset=28), Slice(None, Num(2, lineno=1185, col_offset=34), None), Load(), lineno=1185, col_offset=28), Num(16, lineno=1185, col_offset=38)], [], None, None, lineno=1185, col_offset=24)], [], None, None, lineno=1185, col_offset=17), Add(), Subscript(Name('item', Load(), lineno=1185, col_offset=45), Slice(Num(2, lineno=1185, col_offset=50), None, None), Load(), lineno=1185, col_offset=45), lineno=1185, col_offset=17), lineno=1185, col_offset=12)], lineno=1184, col_offset=8)], [], lineno=1180, col_offset=8)], [], lineno=1179, col_offset=4), Return(Name('s', Load(), lineno=1186, col_offset=11), lineno=1186, col_offset=4)], [], lineno=1172, col_offset=0), FunctionDef('unquote_plus', arguments([Name('s', Param(), lineno=1188, col_offset=17)], None, None, []), [Expr(Str("unquote('%7e/abc+def') -> '~/abc def'", lineno=1189, col_offset=4), lineno=1189, col_offset=4), Assign([Name('s', Store(), lineno=1190, col_offset=4)], Call(Attribute(Name('s', Load(), lineno=1190, col_offset=8), 'replace', Load(), lineno=1190, col_offset=8), [Str('+', lineno=1190, col_offset=18), Str(' ', lineno=1190, col_offset=23)], [], None, None, lineno=1190, col_offset=8), lineno=1190, col_offset=4), Return(Call(Name('unquote', Load(), lineno=1191, col_offset=11), [Name('s', Load(), lineno=1191, col_offset=19)], [], None, None, lineno=1191, col_offset=11), lineno=1191, col_offset=4)], [], lineno=1188, col_offset=0), Assign([Name('always_safe', Store(), lineno=1193, col_offset=0)], Str('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_.-', lineno=1193, col_offset=15), lineno=1193, col_offset=0), Assign([Name('_safe_map', Store(), lineno=1196, col_offset=0)], Dict([], [], lineno=1196, col_offset=12), lineno=1196, col_offset=0), For(Tuple([Name('i', Store(), lineno=1197, col_offset=4), Name('c', Store(), lineno=1197, col_offset=7)], Store(), lineno=1197, col_offset=4), Call(Name('zip', Load(), lineno=1197, col_offset=12), [Call(Name('xrange', Load(), lineno=1197, col_offset=16), [Num(256, lineno=1197, col_offset=23)], [], None, None, lineno=1197, col_offset=16), Call(Name('str', Load(), lineno=1197, col_offset=29), [Call(Name('bytearray', Load(), lineno=1197, col_offset=33), [Call(Name('xrange', Load(), lineno=1197, col_offset=43), [Num(256, lineno=1197, col_offset=50)], [], None, None, lineno=1197, col_offset=43)], [], None, None, lineno=1197, col_offset=33)], [], None, None, lineno=1197, col_offset=29)], [], None, None, lineno=1197, col_offset=12), [Assign([Subscript(Name('_safe_map', Load(), lineno=1198, col_offset=4), Index(Name('c', Load(), lineno=1198, col_offset=14)), Store(), lineno=1198, col_offset=4)], IfExp(BoolOp(And(), [Compare(Name('i', Load(), lineno=1198, col_offset=25), [Lt()], [Num(128, lineno=1198, col_offset=29)], lineno=1198, col_offset=25), Compare(Name('c', Load(), lineno=1198, col_offset=37), [In()], [Name('always_safe', Load(), lineno=1198, col_offset=42)], lineno=1198, col_offset=37)], lineno=1198, col_offset=25), Name('c', Load(), lineno=1198, col_offset=19), Call(Attribute(Str('%{:02X}', lineno=1198, col_offset=60), 'format', Load(), lineno=1198, col_offset=60), [Name('i', Load(), lineno=1198, col_offset=77)], [], None, None, lineno=1198, col_offset=60), lineno=1198, col_offset=19), lineno=1198, col_offset=4)], [], lineno=1197, col_offset=0), Assign([Name('_safe_quoters', Store(), lineno=1199, col_offset=0)], Dict([], [], lineno=1199, col_offset=16), lineno=1199, col_offset=0), FunctionDef('quote', arguments([Name('s', Param(), lineno=1201, col_offset=10), Name('safe', Param(), lineno=1201, col_offset=13)], None, None, [Str('/', lineno=1201, col_offset=18)]), [Expr(Str('quote(\'abc def\') -> \'abc%20def\'\n\n    Each part of a URL, e.g. the path info, the query, etc., has a\n    different set of reserved characters that must be quoted.\n\n    RFC 2396 Uniform Resource Identifiers (URI): Generic Syntax lists\n    the following reserved characters.\n\n    reserved    = ";" | "/" | "?" | ":" | "@" | "&" | "=" | "+" |\n                  "$" | ","\n\n    Each of these characters is reserved in some component of a URL,\n    but not necessarily in all of them.\n\n    By default, the quote function is intended for quoting the path\n    section of a URL.  Thus, it will not encode \'/\'.  This character\n    is reserved, but in typical usage the quote function is being\n    called on a path where the existing slash characters are used as\n    reserved characters.\n    ', lineno=1221, col_offset=-1), lineno=1221, col_offset=-1), If(UnaryOp(Not(), Name('s', Load(), lineno=1223, col_offset=11), lineno=1223, col_offset=7), [If(Compare(Name('s', Load(), lineno=1224, col_offset=11), [Is()], [Name('None', Load(), lineno=1224, col_offset=16)], lineno=1224, col_offset=11), [Raise(Call(Name('TypeError', Load(), lineno=1225, col_offset=18), [Str('None object cannot be quoted', lineno=1225, col_offset=28)], [], None, None, lineno=1225, col_offset=18), None, None, lineno=1225, col_offset=12)], [], lineno=1224, col_offset=8), Return(Name('s', Load(), lineno=1226, col_offset=15), lineno=1226, col_offset=8)], [], lineno=1223, col_offset=4), Assign([Name('cachekey', Store(), lineno=1227, col_offset=4)], Tuple([Name('safe', Load(), lineno=1227, col_offset=16), Name('always_safe', Load(), lineno=1227, col_offset=22)], Load(), lineno=1227, col_offset=16), lineno=1227, col_offset=4), TryExcept([Assign([Tuple([Name('quoter', Store(), lineno=1229, col_offset=9), Name('safe', Store(), lineno=1229, col_offset=17)], Store(), lineno=1229, col_offset=9)], Subscript(Name('_safe_quoters', Load(), lineno=1229, col_offset=25), Index(Name('cachekey', Load(), lineno=1229, col_offset=39)), Load(), lineno=1229, col_offset=25), lineno=1229, col_offset=8)], [ExceptHandler(Name('KeyError', Load(), lineno=1230, col_offset=11), None, [Assign([Name('safe_map', Store(), lineno=1231, col_offset=8)], Call(Attribute(Name('_safe_map', Load(), lineno=1231, col_offset=19), 'copy', Load(), lineno=1231, col_offset=19), [], [], None, None, lineno=1231, col_offset=19), lineno=1231, col_offset=8), Expr(Call(Attribute(Name('safe_map', Load(), lineno=1232, col_offset=8), 'update', Load(), lineno=1232, col_offset=8), [ListComp(Tuple([Name('c', Load(), lineno=1232, col_offset=26), Name('c', Load(), lineno=1232, col_offset=29)], Load(), lineno=1232, col_offset=26), [comprehension(Name('c', Store(), lineno=1232, col_offset=36), Name('safe', Load(), lineno=1232, col_offset=41), [])], lineno=1232, col_offset=25)], [], None, None, lineno=1232, col_offset=8), lineno=1232, col_offset=8), Assign([Name('quoter', Store(), lineno=1233, col_offset=8)], Attribute(Name('safe_map', Load(), lineno=1233, col_offset=17), '__getitem__', Load(), lineno=1233, col_offset=17), lineno=1233, col_offset=8), Assign([Name('safe', Store(), lineno=1234, col_offset=8)], BinOp(Name('always_safe', Load(), lineno=1234, col_offset=15), Add(), Name('safe', Load(), lineno=1234, col_offset=29), lineno=1234, col_offset=15), lineno=1234, col_offset=8), Assign([Subscript(Name('_safe_quoters', Load(), lineno=1235, col_offset=8), Index(Name('cachekey', Load(), lineno=1235, col_offset=22)), Store(), lineno=1235, col_offset=8)], Tuple([Name('quoter', Load(), lineno=1235, col_offset=35), Name('safe', Load(), lineno=1235, col_offset=43)], Load(), lineno=1235, col_offset=35), lineno=1235, col_offset=8)], lineno=1230, col_offset=4)], [], lineno=1228, col_offset=4), If(UnaryOp(Not(), Call(Attribute(Name('s', Load(), lineno=1236, col_offset=11), 'rstrip', Load(), lineno=1236, col_offset=11), [Name('safe', Load(), lineno=1236, col_offset=20)], [], None, None, lineno=1236, col_offset=11), lineno=1236, col_offset=7), [Return(Name('s', Load(), lineno=1237, col_offset=15), lineno=1237, col_offset=8)], [], lineno=1236, col_offset=4), Return(Call(Attribute(Str('', lineno=1238, col_offset=11), 'join', Load(), lineno=1238, col_offset=11), [Call(Name('map', Load(), lineno=1238, col_offset=19), [Name('quoter', Load(), lineno=1238, col_offset=23), Name('s', Load(), lineno=1238, col_offset=31)], [], None, None, lineno=1238, col_offset=19)], [], None, None, lineno=1238, col_offset=11), lineno=1238, col_offset=4)], [], lineno=1201, col_offset=0), FunctionDef('quote_plus', arguments([Name('s', Param(), lineno=1240, col_offset=15), Name('safe', Param(), lineno=1240, col_offset=18)], None, None, [Str('', lineno=1240, col_offset=23)]), [Expr(Str("Quote the query fragment of a URL; replacing ' ' with '+'", lineno=1241, col_offset=4), lineno=1241, col_offset=4), If(Compare(Str(' ', lineno=1242, col_offset=7), [In()], [Name('s', Load(), lineno=1242, col_offset=14)], lineno=1242, col_offset=7), [Assign([Name('s', Store(), lineno=1243, col_offset=8)], Call(Name('quote', Load(), lineno=1243, col_offset=12), [Name('s', Load(), lineno=1243, col_offset=18), BinOp(Name('safe', Load(), lineno=1243, col_offset=21), Add(), Str(' ', lineno=1243, col_offset=28), lineno=1243, col_offset=21)], [], None, None, lineno=1243, col_offset=12), lineno=1243, col_offset=8), Return(Call(Attribute(Name('s', Load(), lineno=1244, col_offset=15), 'replace', Load(), lineno=1244, col_offset=15), [Str(' ', lineno=1244, col_offset=25), Str('+', lineno=1244, col_offset=30)], [], None, None, lineno=1244, col_offset=15), lineno=1244, col_offset=8)], [], lineno=1242, col_offset=4), Return(Call(Name('quote', Load(), lineno=1245, col_offset=11), [Name('s', Load(), lineno=1245, col_offset=17), Name('safe', Load(), lineno=1245, col_offset=20)], [], None, None, lineno=1245, col_offset=11), lineno=1245, col_offset=4)], [], lineno=1240, col_offset=0), FunctionDef('urlencode', arguments([Name('query', Param(), lineno=1247, col_offset=14), Name('doseq', Param(), lineno=1247, col_offset=21)], None, None, [Num(0, lineno=1247, col_offset=27)]), [Expr(Str('Encode a sequence of two-element tuples or dictionary into a URL query string.\n\n    If any values in the query arg are sequences and doseq is true, each\n    sequence element is converted to a separate parameter.\n\n    If the query arg is a sequence of two-element tuples, the order of the\n    parameters in the output will match the order of parameters in the\n    input.\n    ', lineno=1256, col_offset=-1), lineno=1256, col_offset=-1), If(Call(Name('hasattr', Load(), lineno=1258, col_offset=7), [Name('query', Load(), lineno=1258, col_offset=15), Str('items', lineno=1258, col_offset=21)], [], None, None, lineno=1258, col_offset=7), [Assign([Name('query', Store(), lineno=1260, col_offset=8)], Call(Attribute(Name('query', Load(), lineno=1260, col_offset=16), 'items', Load(), lineno=1260, col_offset=16), [], [], None, None, lineno=1260, col_offset=16), lineno=1260, col_offset=8)], [TryExcept([If(BoolOp(And(), [Call(Name('len', Load(), lineno=1267, col_offset=15), [Name('query', Load(), lineno=1267, col_offset=19)], [], None, None, lineno=1267, col_offset=15), UnaryOp(Not(), Call(Name('isinstance', Load(), lineno=1267, col_offset=34), [Subscript(Name('query', Load(), lineno=1267, col_offset=45), Index(Num(0, lineno=1267, col_offset=51)), Load(), lineno=1267, col_offset=45), Name('tuple', Load(), lineno=1267, col_offset=55)], [], None, None, lineno=1267, col_offset=34), lineno=1267, col_offset=30)], lineno=1267, col_offset=15), [Raise(Name('TypeError', Load(), lineno=1268, col_offset=22), None, None, lineno=1268, col_offset=16)], [], lineno=1267, col_offset=12)], [ExceptHandler(Name('TypeError', Load(), lineno=1273, col_offset=15), None, [Assign([Tuple([Name('ty', Store(), lineno=1274, col_offset=12), Name('va', Store(), lineno=1274, col_offset=15), Name('tb', Store(), lineno=1274, col_offset=18)], Store(), lineno=1274, col_offset=12)], Call(Attribute(Name('sys', Load(), lineno=1274, col_offset=23), 'exc_info', Load(), lineno=1274, col_offset=23), [], [], None, None, lineno=1274, col_offset=23), lineno=1274, col_offset=12), Raise(Name('TypeError', Load(), lineno=1275, col_offset=18), Str('not a valid non-string sequence or mapping object', lineno=1275, col_offset=29), Name('tb', Load(), lineno=1275, col_offset=82), lineno=1275, col_offset=12)], lineno=1273, col_offset=8)], [], lineno=1264, col_offset=8)], lineno=1258, col_offset=4), Assign([Name('l', Store(), lineno=1277, col_offset=4)], List([], Load(), lineno=1277, col_offset=8), lineno=1277, col_offset=4), If(UnaryOp(Not(), Name('doseq', Load(), lineno=1278, col_offset=11), lineno=1278, col_offset=7), [For(Tuple([Name('k', Store(), lineno=1280, col_offset=12), Name('v', Store(), lineno=1280, col_offset=15)], Store(), lineno=1280, col_offset=12), Name('query', Load(), lineno=1280, col_offset=20), [Assign([Name('k', Store(), lineno=1281, col_offset=12)], Call(Name('quote_plus', Load(), lineno=1281, col_offset=16), [Call(Name('str', Load(), lineno=1281, col_offset=27), [Name('k', Load(), lineno=1281, col_offset=31)], [], None, None, lineno=1281, col_offset=27)], [], None, None, lineno=1281, col_offset=16), lineno=1281, col_offset=12), Assign([Name('v', Store(), lineno=1282, col_offset=12)], Call(Name('quote_plus', Load(), lineno=1282, col_offset=16), [Call(Name('str', Load(), lineno=1282, col_offset=27), [Name('v', Load(), lineno=1282, col_offset=31)], [], None, None, lineno=1282, col_offset=27)], [], None, None, lineno=1282, col_offset=16), lineno=1282, col_offset=12), Expr(Call(Attribute(Name('l', Load(), lineno=1283, col_offset=12), 'append', Load(), lineno=1283, col_offset=12), [BinOp(BinOp(Name('k', Load(), lineno=1283, col_offset=21), Add(), Str('=', lineno=1283, col_offset=25), lineno=1283, col_offset=21), Add(), Name('v', Load(), lineno=1283, col_offset=31), lineno=1283, col_offset=29)], [], None, None, lineno=1283, col_offset=12), lineno=1283, col_offset=12)], [], lineno=1280, col_offset=8)], [For(Tuple([Name('k', Store(), lineno=1285, col_offset=12), Name('v', Store(), lineno=1285, col_offset=15)], Store(), lineno=1285, col_offset=12), Name('query', Load(), lineno=1285, col_offset=20), [Assign([Name('k', Store(), lineno=1286, col_offset=12)], Call(Name('quote_plus', Load(), lineno=1286, col_offset=16), [Call(Name('str', Load(), lineno=1286, col_offset=27), [Name('k', Load(), lineno=1286, col_offset=31)], [], None, None, lineno=1286, col_offset=27)], [], None, None, lineno=1286, col_offset=16), lineno=1286, col_offset=12), If(Call(Name('isinstance', Load(), lineno=1287, col_offset=15), [Name('v', Load(), lineno=1287, col_offset=26), Name('str', Load(), lineno=1287, col_offset=29)], [], None, None, lineno=1287, col_offset=15), [Assign([Name('v', Store(), lineno=1288, col_offset=16)], Call(Name('quote_plus', Load(), lineno=1288, col_offset=20), [Name('v', Load(), lineno=1288, col_offset=31)], [], None, None, lineno=1288, col_offset=20), lineno=1288, col_offset=16), Expr(Call(Attribute(Name('l', Load(), lineno=1289, col_offset=16), 'append', Load(), lineno=1289, col_offset=16), [BinOp(BinOp(Name('k', Load(), lineno=1289, col_offset=25), Add(), Str('=', lineno=1289, col_offset=29), lineno=1289, col_offset=25), Add(), Name('v', Load(), lineno=1289, col_offset=35), lineno=1289, col_offset=33)], [], None, None, lineno=1289, col_offset=16), lineno=1289, col_offset=16)], [If(Call(Name('_is_unicode', Load(), lineno=1290, col_offset=17), [Name('v', Load(), lineno=1290, col_offset=29)], [], None, None, lineno=1290, col_offset=17), [Assign([Name('v', Store(), lineno=1294, col_offset=16)], Call(Name('quote_plus', Load(), lineno=1294, col_offset=20), [Call(Attribute(Name('v', Load(), lineno=1294, col_offset=31), 'encode', Load(), lineno=1294, col_offset=31), [Str('ASCII', lineno=1294, col_offset=40), Str('replace', lineno=1294, col_offset=48)], [], None, None, lineno=1294, col_offset=31)], [], None, None, lineno=1294, col_offset=20), lineno=1294, col_offset=16), Expr(Call(Attribute(Name('l', Load(), lineno=1295, col_offset=16), 'append', Load(), lineno=1295, col_offset=16), [BinOp(BinOp(Name('k', Load(), lineno=1295, col_offset=25), Add(), Str('=', lineno=1295, col_offset=29), lineno=1295, col_offset=25), Add(), Name('v', Load(), lineno=1295, col_offset=35), lineno=1295, col_offset=33)], [], None, None, lineno=1295, col_offset=16), lineno=1295, col_offset=16)], [TryExcept([Expr(Call(Name('len', Load(), lineno=1299, col_offset=20), [Name('v', Load(), lineno=1299, col_offset=24)], [], None, None, lineno=1299, col_offset=20), lineno=1299, col_offset=20)], [ExceptHandler(Name('TypeError', Load(), lineno=1300, col_offset=23), None, [Assign([Name('v', Store(), lineno=1302, col_offset=20)], Call(Name('quote_plus', Load(), lineno=1302, col_offset=24), [Call(Name('str', Load(), lineno=1302, col_offset=35), [Name('v', Load(), lineno=1302, col_offset=39)], [], None, None, lineno=1302, col_offset=35)], [], None, None, lineno=1302, col_offset=24), lineno=1302, col_offset=20), Expr(Call(Attribute(Name('l', Load(), lineno=1303, col_offset=20), 'append', Load(), lineno=1303, col_offset=20), [BinOp(BinOp(Name('k', Load(), lineno=1303, col_offset=29), Add(), Str('=', lineno=1303, col_offset=33), lineno=1303, col_offset=29), Add(), Name('v', Load(), lineno=1303, col_offset=39), lineno=1303, col_offset=37)], [], None, None, lineno=1303, col_offset=20), lineno=1303, col_offset=20)], lineno=1300, col_offset=16)], [For(Name('elt', Store(), lineno=1306, col_offset=24), Name('v', Load(), lineno=1306, col_offset=31), [Expr(Call(Attribute(Name('l', Load(), lineno=1307, col_offset=24), 'append', Load(), lineno=1307, col_offset=24), [BinOp(BinOp(Name('k', Load(), lineno=1307, col_offset=33), Add(), Str('=', lineno=1307, col_offset=37), lineno=1307, col_offset=33), Add(), Call(Name('quote_plus', Load(), lineno=1307, col_offset=43), [Call(Name('str', Load(), lineno=1307, col_offset=54), [Name('elt', Load(), lineno=1307, col_offset=58)], [], None, None, lineno=1307, col_offset=54)], [], None, None, lineno=1307, col_offset=43), lineno=1307, col_offset=41)], [], None, None, lineno=1307, col_offset=24), lineno=1307, col_offset=24)], [], lineno=1306, col_offset=20)], lineno=1297, col_offset=16)], lineno=1290, col_offset=17)], lineno=1287, col_offset=12)], [], lineno=1285, col_offset=8)], lineno=1278, col_offset=4), Return(Call(Attribute(Str('&', lineno=1308, col_offset=11), 'join', Load(), lineno=1308, col_offset=11), [Name('l', Load(), lineno=1308, col_offset=20)], [], None, None, lineno=1308, col_offset=11), lineno=1308, col_offset=4)], [], lineno=1247, col_offset=0), FunctionDef('getproxies_environment', arguments([], None, None, []), [Expr(Str('Return a dictionary of scheme -> proxy server URL mappings.\n\n    Scan the environment for variables named <scheme>_proxy;\n    this seems to be the standard convention.  If you need a\n    different way, you can pass a proxies dictionary to the\n    [Fancy]URLopener constructor.\n\n    ', lineno=1319, col_offset=-1), lineno=1319, col_offset=-1), Assign([Name('proxies', Store(), lineno=1320, col_offset=4)], Dict([], [], lineno=1320, col_offset=14), lineno=1320, col_offset=4), For(Tuple([Name('name', Store(), lineno=1321, col_offset=8), Name('value', Store(), lineno=1321, col_offset=14)], Store(), lineno=1321, col_offset=8), Call(Attribute(Attribute(Name('os', Load(), lineno=1321, col_offset=23), 'environ', Load(), lineno=1321, col_offset=23), 'items', Load(), lineno=1321, col_offset=23), [], [], None, None, lineno=1321, col_offset=23), [Assign([Name('name', Store(), lineno=1322, col_offset=8)], Call(Attribute(Name('name', Load(), lineno=1322, col_offset=15), 'lower', Load(), lineno=1322, col_offset=15), [], [], None, None, lineno=1322, col_offset=15), lineno=1322, col_offset=8), If(BoolOp(And(), [Name('value', Load(), lineno=1323, col_offset=11), Compare(Subscript(Name('name', Load(), lineno=1323, col_offset=21), Slice(Num(-6, lineno=1323, col_offset=27), None, None), Load(), lineno=1323, col_offset=21), [Eq()], [Str('_proxy', lineno=1323, col_offset=34)], lineno=1323, col_offset=21)], lineno=1323, col_offset=11), [Assign([Subscript(Name('proxies', Load(), lineno=1324, col_offset=12), Index(Subscript(Name('name', Load(), lineno=1324, col_offset=20), Slice(None, Num(-6, lineno=1324, col_offset=27), None), Load(), lineno=1324, col_offset=20)), Store(), lineno=1324, col_offset=12)], Name('value', Load(), lineno=1324, col_offset=33), lineno=1324, col_offset=12)], [], lineno=1323, col_offset=8)], [], lineno=1321, col_offset=4), Return(Name('proxies', Load(), lineno=1325, col_offset=11), lineno=1325, col_offset=4)], [], lineno=1311, col_offset=0), FunctionDef('proxy_bypass_environment', arguments([Name('host', Param(), lineno=1327, col_offset=29)], None, None, []), [Expr(Str("Test if proxies should not be used for a particular host.\n\n    Checks the environment for a variable named no_proxy, which should\n    be a list of DNS suffixes separated by commas, or '*' for all hosts.\n    ", lineno=1332, col_offset=-1), lineno=1332, col_offset=-1), Assign([Name('no_proxy', Store(), lineno=1333, col_offset=4)], BoolOp(Or(), [Call(Attribute(Attribute(Name('os', Load(), lineno=1333, col_offset=15), 'environ', Load(), lineno=1333, col_offset=15), 'get', Load(), lineno=1333, col_offset=15), [Str('no_proxy', lineno=1333, col_offset=30), Str('', lineno=1333, col_offset=42)], [], None, None, lineno=1333, col_offset=15), Call(Attribute(Attribute(Name('os', Load(), lineno=1333, col_offset=49), 'environ', Load(), lineno=1333, col_offset=49), 'get', Load(), lineno=1333, col_offset=49), [Str('NO_PROXY', lineno=1333, col_offset=64), Str('', lineno=1333, col_offset=76)], [], None, None, lineno=1333, col_offset=49)], lineno=1333, col_offset=15), lineno=1333, col_offset=4), If(Compare(Name('no_proxy', Load(), lineno=1335, col_offset=7), [Eq()], [Str('*', lineno=1335, col_offset=19)], lineno=1335, col_offset=7), [Return(Num(1, lineno=1336, col_offset=15), lineno=1336, col_offset=8)], [], lineno=1335, col_offset=4), Assign([Tuple([Name('hostonly', Store(), lineno=1338, col_offset=4), Name('port', Store(), lineno=1338, col_offset=14)], Store(), lineno=1338, col_offset=4)], Call(Name('splitport', Load(), lineno=1338, col_offset=21), [Name('host', Load(), lineno=1338, col_offset=31)], [], None, None, lineno=1338, col_offset=21), lineno=1338, col_offset=4), For(Name('name', Store(), lineno=1340, col_offset=8), Call(Attribute(Name('no_proxy', Load(), lineno=1340, col_offset=16), 'split', Load(), lineno=1340, col_offset=16), [Str(',', lineno=1340, col_offset=31)], [], None, None, lineno=1340, col_offset=16), [If(BoolOp(And(), [Name('name', Load(), lineno=1341, col_offset=11), BoolOp(Or(), [Call(Attribute(Name('hostonly', Load(), lineno=1341, col_offset=21), 'endswith', Load(), lineno=1341, col_offset=21), [Name('name', Load(), lineno=1341, col_offset=39)], [], None, None, lineno=1341, col_offset=21), Call(Attribute(Name('host', Load(), lineno=1341, col_offset=48), 'endswith', Load(), lineno=1341, col_offset=48), [Name('name', Load(), lineno=1341, col_offset=62)], [], None, None, lineno=1341, col_offset=48)], lineno=1341, col_offset=21)], lineno=1341, col_offset=11), [Return(Num(1, lineno=1342, col_offset=19), lineno=1342, col_offset=12)], [], lineno=1341, col_offset=8)], [], lineno=1340, col_offset=4), Return(Num(0, lineno=1344, col_offset=11), lineno=1344, col_offset=4)], [], lineno=1327, col_offset=0), If(Compare(Attribute(Name('sys', Load(), lineno=1347, col_offset=3), 'platform', Load(), lineno=1347, col_offset=3), [Eq()], [Str('darwin', lineno=1347, col_offset=19)], lineno=1347, col_offset=3), [ImportFrom('_scproxy', [alias('_get_proxy_settings', None), alias('_get_proxies', None)], 0, lineno=1348, col_offset=4), FunctionDef('proxy_bypass_macosx_sysconf', arguments([Name('host', Param(), lineno=1350, col_offset=36)], None, None, []), [Expr(Str("\n        Return True iff this host shouldn't be accessed using a proxy\n\n        This function uses the MacOSX framework SystemConfiguration\n        to fetch the proxy information.\n        ", lineno=1356, col_offset=-1), lineno=1356, col_offset=-1), Import([alias('re', None)], lineno=1357, col_offset=8), Import([alias('socket', None)], lineno=1358, col_offset=8), ImportFrom('fnmatch', [alias('fnmatch', None)], 0, lineno=1359, col_offset=8), Assign([Tuple([Name('hostonly', Store(), lineno=1361, col_offset=8), Name('port', Store(), lineno=1361, col_offset=18)], Store(), lineno=1361, col_offset=8)], Call(Name('splitport', Load(), lineno=1361, col_offset=25), [Name('host', Load(), lineno=1361, col_offset=35)], [], None, None, lineno=1361, col_offset=25), lineno=1361, col_offset=8), FunctionDef('ip2num', arguments([Name('ipAddr', Param(), lineno=1363, col_offset=19)], None, None, []), [Assign([Name('parts', Store(), lineno=1364, col_offset=12)], Call(Attribute(Name('ipAddr', Load(), lineno=1364, col_offset=20), 'split', Load(), lineno=1364, col_offset=20), [Str('.', lineno=1364, col_offset=33)], [], None, None, lineno=1364, col_offset=20), lineno=1364, col_offset=12), Assign([Name('parts', Store(), lineno=1365, col_offset=12)], Call(Name('map', Load(), lineno=1365, col_offset=20), [Name('int', Load(), lineno=1365, col_offset=24), Name('parts', Load(), lineno=1365, col_offset=29)], [], None, None, lineno=1365, col_offset=20), lineno=1365, col_offset=12), If(Compare(Call(Name('len', Load(), lineno=1366, col_offset=15), [Name('parts', Load(), lineno=1366, col_offset=19)], [], None, None, lineno=1366, col_offset=15), [NotEq()], [Num(4, lineno=1366, col_offset=29)], lineno=1366, col_offset=15), [Assign([Name('parts', Store(), lineno=1367, col_offset=16)], Subscript(BinOp(Name('parts', Load(), lineno=1367, col_offset=25), Add(), List([Num(0, lineno=1367, col_offset=34), Num(0, lineno=1367, col_offset=37), Num(0, lineno=1367, col_offset=40), Num(0, lineno=1367, col_offset=43)], Load(), lineno=1367, col_offset=33), lineno=1367, col_offset=25), Slice(None, Num(4, lineno=1367, col_offset=48), None), Load(), lineno=1367, col_offset=25), lineno=1367, col_offset=16)], [], lineno=1366, col_offset=12), Return(BinOp(BinOp(BinOp(BinOp(Subscript(Name('parts', Load(), lineno=1368, col_offset=20), Index(Num(0, lineno=1368, col_offset=26)), Load(), lineno=1368, col_offset=20), LShift(), Num(24, lineno=1368, col_offset=32), lineno=1368, col_offset=20), BitOr(), BinOp(Subscript(Name('parts', Load(), lineno=1368, col_offset=39), Index(Num(1, lineno=1368, col_offset=45)), Load(), lineno=1368, col_offset=39), LShift(), Num(16, lineno=1368, col_offset=51), lineno=1368, col_offset=39), lineno=1368, col_offset=19), BitOr(), BinOp(Subscript(Name('parts', Load(), lineno=1368, col_offset=58), Index(Num(2, lineno=1368, col_offset=64)), Load(), lineno=1368, col_offset=58), LShift(), Num(8, lineno=1368, col_offset=70), lineno=1368, col_offset=58), lineno=1368, col_offset=55), BitOr(), Subscript(Name('parts', Load(), lineno=1368, col_offset=75), Index(Num(3, lineno=1368, col_offset=81)), Load(), lineno=1368, col_offset=75), lineno=1368, col_offset=73), lineno=1368, col_offset=12)], [], lineno=1363, col_offset=8), Assign([Name('proxy_settings', Store(), lineno=1370, col_offset=8)], Call(Name('_get_proxy_settings', Load(), lineno=1370, col_offset=25), [], [], None, None, lineno=1370, col_offset=25), lineno=1370, col_offset=8), If(Compare(Str('.', lineno=1373, col_offset=11), [NotIn()], [Name('host', Load(), lineno=1373, col_offset=22)], lineno=1373, col_offset=11), [If(Subscript(Name('proxy_settings', Load(), lineno=1374, col_offset=15), Index(Str('exclude_simple', lineno=1374, col_offset=30)), Load(), lineno=1374, col_offset=15), [Return(Name('True', Load(), lineno=1375, col_offset=23), lineno=1375, col_offset=16)], [], lineno=1374, col_offset=12)], [], lineno=1373, col_offset=8), Assign([Name('hostIP', Store(), lineno=1377, col_offset=8)], Name('None', Load(), lineno=1377, col_offset=17), lineno=1377, col_offset=8), For(Name('value', Store(), lineno=1379, col_offset=12), Call(Attribute(Name('proxy_settings', Load(), lineno=1379, col_offset=21), 'get', Load(), lineno=1379, col_offset=21), [Str('exceptions', lineno=1379, col_offset=40), Tuple([], Load(), lineno=1379, col_offset=54)], [], None, None, lineno=1379, col_offset=21), [If(UnaryOp(Not(), Name('value', Load(), lineno=1381, col_offset=19), lineno=1381, col_offset=15), [Continue( lineno=1381, col_offset=26)], [], lineno=1381, col_offset=12), Assign([Name('m', Store(), lineno=1383, col_offset=12)], Call(Attribute(Name('re', Load(), lineno=1383, col_offset=16), 'match', Load(), lineno=1383, col_offset=16), [Str('(\\d+(?:\\.\\d+)*)(/\\d+)?', lineno=1383, col_offset=25), Name('value', Load(), lineno=1383, col_offset=52)], [], None, None, lineno=1383, col_offset=16), lineno=1383, col_offset=12), If(Compare(Name('m', Load(), lineno=1384, col_offset=15), [IsNot()], [Name('None', Load(), lineno=1384, col_offset=24)], lineno=1384, col_offset=15), [If(Compare(Name('hostIP', Load(), lineno=1385, col_offset=19), [Is()], [Name('None', Load(), lineno=1385, col_offset=29)], lineno=1385, col_offset=19), [TryExcept([Assign([Name('hostIP', Store(), lineno=1387, col_offset=24)], Call(Attribute(Name('socket', Load(), lineno=1387, col_offset=33), 'gethostbyname', Load(), lineno=1387, col_offset=33), [Name('hostonly', Load(), lineno=1387, col_offset=54)], [], None, None, lineno=1387, col_offset=33), lineno=1387, col_offset=24), Assign([Name('hostIP', Store(), lineno=1388, col_offset=24)], Call(Name('ip2num', Load(), lineno=1388, col_offset=33), [Name('hostIP', Load(), lineno=1388, col_offset=40)], [], None, None, lineno=1388, col_offset=33), lineno=1388, col_offset=24)], [ExceptHandler(Attribute(Name('socket', Load(), lineno=1389, col_offset=27), 'error', Load(), lineno=1389, col_offset=27), None, [Continue( lineno=1390, col_offset=24)], lineno=1389, col_offset=20)], [], lineno=1386, col_offset=20)], [], lineno=1385, col_offset=16), Assign([Name('base', Store(), lineno=1392, col_offset=16)], Call(Name('ip2num', Load(), lineno=1392, col_offset=23), [Call(Attribute(Name('m', Load(), lineno=1392, col_offset=30), 'group', Load(), lineno=1392, col_offset=30), [Num(1, lineno=1392, col_offset=38)], [], None, None, lineno=1392, col_offset=30)], [], None, None, lineno=1392, col_offset=23), lineno=1392, col_offset=16), Assign([Name('mask', Store(), lineno=1393, col_offset=16)], Call(Attribute(Name('m', Load(), lineno=1393, col_offset=23), 'group', Load(), lineno=1393, col_offset=23), [Num(2, lineno=1393, col_offset=31)], [], None, None, lineno=1393, col_offset=23), lineno=1393, col_offset=16), If(Compare(Name('mask', Load(), lineno=1394, col_offset=19), [Is()], [Name('None', Load(), lineno=1394, col_offset=27)], lineno=1394, col_offset=19), [Assign([Name('mask', Store(), lineno=1395, col_offset=20)], BinOp(Num(8, lineno=1395, col_offset=27), Mult(), BinOp(Call(Attribute(Call(Attribute(Name('m', Load(), lineno=1395, col_offset=32), 'group', Load(), lineno=1395, col_offset=32), [Num(1, lineno=1395, col_offset=40)], [], None, None, lineno=1395, col_offset=32), 'count', Load(), lineno=1395, col_offset=32), [Str('.', lineno=1395, col_offset=49)], [], None, None, lineno=1395, col_offset=32), Add(), Num(1, lineno=1395, col_offset=56), lineno=1395, col_offset=32), lineno=1395, col_offset=27), lineno=1395, col_offset=20)], [Assign([Name('mask', Store(), lineno=1398, col_offset=20)], Call(Name('int', Load(), lineno=1398, col_offset=27), [Subscript(Name('mask', Load(), lineno=1398, col_offset=31), Slice(Num(1, lineno=1398, col_offset=36), None, None), Load(), lineno=1398, col_offset=31)], [], None, None, lineno=1398, col_offset=27), lineno=1398, col_offset=20), Assign([Name('mask', Store(), lineno=1399, col_offset=20)], BinOp(Num(32, lineno=1399, col_offset=27), Sub(), Name('mask', Load(), lineno=1399, col_offset=32), lineno=1399, col_offset=27), lineno=1399, col_offset=20)], lineno=1394, col_offset=16), If(Compare(BinOp(Name('hostIP', Load(), lineno=1401, col_offset=20), RShift(), Name('mask', Load(), lineno=1401, col_offset=30), lineno=1401, col_offset=20), [Eq()], [BinOp(Name('base', Load(), lineno=1401, col_offset=40), RShift(), Name('mask', Load(), lineno=1401, col_offset=48), lineno=1401, col_offset=40)], lineno=1401, col_offset=19), [Return(Name('True', Load(), lineno=1402, col_offset=27), lineno=1402, col_offset=20)], [], lineno=1401, col_offset=16)], [If(Call(Name('fnmatch', Load(), lineno=1404, col_offset=17), [Name('host', Load(), lineno=1404, col_offset=25), Name('value', Load(), lineno=1404, col_offset=31)], [], None, None, lineno=1404, col_offset=17), [Return(Name('True', Load(), lineno=1405, col_offset=23), lineno=1405, col_offset=16)], [], lineno=1404, col_offset=17)], lineno=1384, col_offset=12)], [], lineno=1379, col_offset=8), Return(Name('False', Load(), lineno=1407, col_offset=15), lineno=1407, col_offset=8)], [], lineno=1350, col_offset=4), FunctionDef('getproxies_macosx_sysconf', arguments([], None, None, []), [Expr(Str('Return a dictionary of scheme -> proxy server URL mappings.\n\n        This function uses the MacOSX framework SystemConfiguration\n        to fetch the proxy information.\n        ', lineno=1414, col_offset=-1), lineno=1414, col_offset=-1), Return(Call(Name('_get_proxies', Load(), lineno=1415, col_offset=15), [], [], None, None, lineno=1415, col_offset=15), lineno=1415, col_offset=8)], [], lineno=1409, col_offset=4), FunctionDef('proxy_bypass', arguments([Name('host', Param(), lineno=1417, col_offset=21)], None, None, []), [If(Call(Name('getproxies_environment', Load(), lineno=1418, col_offset=11), [], [], None, None, lineno=1418, col_offset=11), [Return(Call(Name('proxy_bypass_environment', Load(), lineno=1419, col_offset=19), [Name('host', Load(), lineno=1419, col_offset=44)], [], None, None, lineno=1419, col_offset=19), lineno=1419, col_offset=12)], [Return(Call(Name('proxy_bypass_macosx_sysconf', Load(), lineno=1421, col_offset=19), [Name('host', Load(), lineno=1421, col_offset=47)], [], None, None, lineno=1421, col_offset=19), lineno=1421, col_offset=12)], lineno=1418, col_offset=8)], [], lineno=1417, col_offset=4), FunctionDef('getproxies', arguments([], None, None, []), [Return(BoolOp(Or(), [Call(Name('getproxies_environment', Load(), lineno=1424, col_offset=15), [], [], None, None, lineno=1424, col_offset=15), Call(Name('getproxies_macosx_sysconf', Load(), lineno=1424, col_offset=43), [], [], None, None, lineno=1424, col_offset=43)], lineno=1424, col_offset=15), lineno=1424, col_offset=8)], [], lineno=1423, col_offset=4)], [If(Compare(Attribute(Name('os', Load(), lineno=1426, col_offset=5), 'name', Load(), lineno=1426, col_offset=5), [Eq()], [Str('nt', lineno=1426, col_offset=16)], lineno=1426, col_offset=5), [FunctionDef('getproxies_registry', arguments([], None, None, []), [Expr(Str('Return a dictionary of scheme -> proxy server URL mappings.\n\n        Win32 uses the registry to store proxies.\n\n        ', lineno=1432, col_offset=-1), lineno=1432, col_offset=-1), Assign([Name('proxies', Store(), lineno=1433, col_offset=8)], Dict([], [], lineno=1433, col_offset=18), lineno=1433, col_offset=8), TryExcept([Import([alias('_winreg', None)], lineno=1435, col_offset=12)], [ExceptHandler(Name('ImportError', Load(), lineno=1436, col_offset=15), None, [Return(Name('proxies', Load(), lineno=1438, col_offset=19), lineno=1438, col_offset=12)], lineno=1436, col_offset=8)], [], lineno=1434, col_offset=8), TryExcept([Assign([Name('internetSettings', Store(), lineno=1440, col_offset=12)], Call(Attribute(Name('_winreg', Load(), lineno=1440, col_offset=31), 'OpenKey', Load(), lineno=1440, col_offset=31), [Attribute(Name('_winreg', Load(), lineno=1440, col_offset=47), 'HKEY_CURRENT_USER', Load(), lineno=1440, col_offset=47), Str('Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings', lineno=1441, col_offset=16)], [], None, None, lineno=1440, col_offset=31), lineno=1440, col_offset=12), Assign([Name('proxyEnable', Store(), lineno=1442, col_offset=12)], Subscript(Call(Attribute(Name('_winreg', Load(), lineno=1442, col_offset=26), 'QueryValueEx', Load(), lineno=1442, col_offset=26), [Name('internetSettings', Load(), lineno=1442, col_offset=47), Str('ProxyEnable', lineno=1443, col_offset=47)], [], None, None, lineno=1442, col_offset=26), Index(Num(0, lineno=1443, col_offset=62)), Load(), lineno=1442, col_offset=26), lineno=1442, col_offset=12), If(Name('proxyEnable', Load(), lineno=1444, col_offset=15), [Assign([Name('proxyServer', Store(), lineno=1446, col_offset=16)], Call(Name('str', Load(), lineno=1446, col_offset=30), [Subscript(Call(Attribute(Name('_winreg', Load(), lineno=1446, col_offset=34), 'QueryValueEx', Load(), lineno=1446, col_offset=34), [Name('internetSettings', Load(), lineno=1446, col_offset=55), Str('ProxyServer', lineno=1447, col_offset=55)], [], None, None, lineno=1446, col_offset=34), Index(Num(0, lineno=1447, col_offset=70)), Load(), lineno=1446, col_offset=34)], [], None, None, lineno=1446, col_offset=30), lineno=1446, col_offset=16), If(Compare(Str('=', lineno=1448, col_offset=19), [In()], [Name('proxyServer', Load(), lineno=1448, col_offset=26)], lineno=1448, col_offset=19), [For(Name('p', Store(), lineno=1450, col_offset=24), Call(Attribute(Name('proxyServer', Load(), lineno=1450, col_offset=29), 'split', Load(), lineno=1450, col_offset=29), [Str(';', lineno=1450, col_offset=47)], [], None, None, lineno=1450, col_offset=29), [Assign([Tuple([Name('protocol', Store(), lineno=1451, col_offset=24), Name('address', Store(), lineno=1451, col_offset=34)], Store(), lineno=1451, col_offset=24)], Call(Attribute(Name('p', Load(), lineno=1451, col_offset=44), 'split', Load(), lineno=1451, col_offset=44), [Str('=', lineno=1451, col_offset=52), Num(1, lineno=1451, col_offset=57)], [], None, None, lineno=1451, col_offset=44), lineno=1451, col_offset=24), Import([alias('re', None)], lineno=1453, col_offset=24), If(UnaryOp(Not(), Call(Attribute(Name('re', Load(), lineno=1454, col_offset=31), 'match', Load(), lineno=1454, col_offset=31), [Str('^([^/:]+)://', lineno=1454, col_offset=40), Name('address', Load(), lineno=1454, col_offset=56)], [], None, None, lineno=1454, col_offset=31), lineno=1454, col_offset=27), [Assign([Name('address', Store(), lineno=1455, col_offset=28)], BinOp(Str('%s://%s', lineno=1455, col_offset=38), Mod(), Tuple([Name('protocol', Load(), lineno=1455, col_offset=51), Name('address', Load(), lineno=1455, col_offset=61)], Load(), lineno=1455, col_offset=51), lineno=1455, col_offset=38), lineno=1455, col_offset=28)], [], lineno=1454, col_offset=24), Assign([Subscript(Name('proxies', Load(), lineno=1456, col_offset=24), Index(Name('protocol', Load(), lineno=1456, col_offset=32)), Store(), lineno=1456, col_offset=24)], Name('address', Load(), lineno=1456, col_offset=44), lineno=1456, col_offset=24)], [], lineno=1450, col_offset=20)], [If(Compare(Subscript(Name('proxyServer', Load(), lineno=1459, col_offset=23), Slice(None, Num(5, lineno=1459, col_offset=36), None), Load(), lineno=1459, col_offset=23), [Eq()], [Str('http:', lineno=1459, col_offset=42)], lineno=1459, col_offset=23), [Assign([Subscript(Name('proxies', Load(), lineno=1460, col_offset=24), Index(Str('http', lineno=1460, col_offset=32)), Store(), lineno=1460, col_offset=24)], Name('proxyServer', Load(), lineno=1460, col_offset=42), lineno=1460, col_offset=24)], [Assign([Subscript(Name('proxies', Load(), lineno=1462, col_offset=24), Index(Str('http', lineno=1462, col_offset=32)), Store(), lineno=1462, col_offset=24)], BinOp(Str('http://%s', lineno=1462, col_offset=42), Mod(), Name('proxyServer', Load(), lineno=1462, col_offset=56), lineno=1462, col_offset=42), lineno=1462, col_offset=24), Assign([Subscript(Name('proxies', Load(), lineno=1463, col_offset=24), Index(Str('https', lineno=1463, col_offset=32)), Store(), lineno=1463, col_offset=24)], BinOp(Str('https://%s', lineno=1463, col_offset=43), Mod(), Name('proxyServer', Load(), lineno=1463, col_offset=58), lineno=1463, col_offset=43), lineno=1463, col_offset=24), Assign([Subscript(Name('proxies', Load(), lineno=1464, col_offset=24), Index(Str('ftp', lineno=1464, col_offset=32)), Store(), lineno=1464, col_offset=24)], BinOp(Str('ftp://%s', lineno=1464, col_offset=41), Mod(), Name('proxyServer', Load(), lineno=1464, col_offset=54), lineno=1464, col_offset=41), lineno=1464, col_offset=24)], lineno=1459, col_offset=20)], lineno=1448, col_offset=16)], [], lineno=1444, col_offset=12), Expr(Call(Attribute(Name('internetSettings', Load(), lineno=1465, col_offset=12), 'Close', Load(), lineno=1465, col_offset=12), [], [], None, None, lineno=1465, col_offset=12), lineno=1465, col_offset=12)], [ExceptHandler(Tuple([Name('WindowsError', Load(), lineno=1466, col_offset=16), Name('ValueError', Load(), lineno=1466, col_offset=30), Name('TypeError', Load(), lineno=1466, col_offset=42)], Load(), lineno=1466, col_offset=16), None, [Pass( lineno=1470, col_offset=12)], lineno=1466, col_offset=8)], [], lineno=1439, col_offset=8), Return(Name('proxies', Load(), lineno=1471, col_offset=15), lineno=1471, col_offset=8)], [], lineno=1427, col_offset=4), FunctionDef('getproxies', arguments([], None, None, []), [Expr(Str('Return a dictionary of scheme -> proxy server URL mappings.\n\n        Returns settings gathered from the environment, if specified,\n        or the registry.\n\n        ', lineno=1479, col_offset=-1), lineno=1479, col_offset=-1), Return(BoolOp(Or(), [Call(Name('getproxies_environment', Load(), lineno=1480, col_offset=15), [], [], None, None, lineno=1480, col_offset=15), Call(Name('getproxies_registry', Load(), lineno=1480, col_offset=43), [], [], None, None, lineno=1480, col_offset=43)], lineno=1480, col_offset=15), lineno=1480, col_offset=8)], [], lineno=1473, col_offset=4), FunctionDef('proxy_bypass_registry', arguments([Name('host', Param(), lineno=1482, col_offset=30)], None, None, []), [TryExcept([Import([alias('_winreg', None)], lineno=1484, col_offset=12), Import([alias('re', None)], lineno=1485, col_offset=12)], [ExceptHandler(Name('ImportError', Load(), lineno=1486, col_offset=15), None, [Return(Num(0, lineno=1488, col_offset=19), lineno=1488, col_offset=12)], lineno=1486, col_offset=8)], [], lineno=1483, col_offset=8), TryExcept([Assign([Name('internetSettings', Store(), lineno=1490, col_offset=12)], Call(Attribute(Name('_winreg', Load(), lineno=1490, col_offset=31), 'OpenKey', Load(), lineno=1490, col_offset=31), [Attribute(Name('_winreg', Load(), lineno=1490, col_offset=47), 'HKEY_CURRENT_USER', Load(), lineno=1490, col_offset=47), Str('Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings', lineno=1491, col_offset=16)], [], None, None, lineno=1490, col_offset=31), lineno=1490, col_offset=12), Assign([Name('proxyEnable', Store(), lineno=1492, col_offset=12)], Subscript(Call(Attribute(Name('_winreg', Load(), lineno=1492, col_offset=26), 'QueryValueEx', Load(), lineno=1492, col_offset=26), [Name('internetSettings', Load(), lineno=1492, col_offset=47), Str('ProxyEnable', lineno=1493, col_offset=47)], [], None, None, lineno=1492, col_offset=26), Index(Num(0, lineno=1493, col_offset=62)), Load(), lineno=1492, col_offset=26), lineno=1492, col_offset=12), Assign([Name('proxyOverride', Store(), lineno=1494, col_offset=12)], Call(Name('str', Load(), lineno=1494, col_offset=28), [Subscript(Call(Attribute(Name('_winreg', Load(), lineno=1494, col_offset=32), 'QueryValueEx', Load(), lineno=1494, col_offset=32), [Name('internetSettings', Load(), lineno=1494, col_offset=53), Str('ProxyOverride', lineno=1495, col_offset=53)], [], None, None, lineno=1494, col_offset=32), Index(Num(0, lineno=1495, col_offset=70)), Load(), lineno=1494, col_offset=32)], [], None, None, lineno=1494, col_offset=28), lineno=1494, col_offset=12)], [ExceptHandler(Name('WindowsError', Load(), lineno=1497, col_offset=15), None, [Return(Num(0, lineno=1498, col_offset=19), lineno=1498, col_offset=12)], lineno=1497, col_offset=8)], [], lineno=1489, col_offset=8), If(BoolOp(Or(), [UnaryOp(Not(), Name('proxyEnable', Load(), lineno=1499, col_offset=15), lineno=1499, col_offset=11), UnaryOp(Not(), Name('proxyOverride', Load(), lineno=1499, col_offset=34), lineno=1499, col_offset=30)], lineno=1499, col_offset=11), [Return(Num(0, lineno=1500, col_offset=19), lineno=1500, col_offset=12)], [], lineno=1499, col_offset=8), Assign([Tuple([Name('rawHost', Store(), lineno=1502, col_offset=8), Name('port', Store(), lineno=1502, col_offset=17)], Store(), lineno=1502, col_offset=8)], Call(Name('splitport', Load(), lineno=1502, col_offset=24), [Name('host', Load(), lineno=1502, col_offset=34)], [], None, None, lineno=1502, col_offset=24), lineno=1502, col_offset=8), Assign([Name('host', Store(), lineno=1503, col_offset=8)], List([Name('rawHost', Load(), lineno=1503, col_offset=16)], Load(), lineno=1503, col_offset=15), lineno=1503, col_offset=8), TryExcept([Assign([Name('addr', Store(), lineno=1505, col_offset=12)], Call(Attribute(Name('socket', Load(), lineno=1505, col_offset=19), 'gethostbyname', Load(), lineno=1505, col_offset=19), [Name('rawHost', Load(), lineno=1505, col_offset=40)], [], None, None, lineno=1505, col_offset=19), lineno=1505, col_offset=12), If(Compare(Name('addr', Load(), lineno=1506, col_offset=15), [NotEq()], [Name('rawHost', Load(), lineno=1506, col_offset=23)], lineno=1506, col_offset=15), [Expr(Call(Attribute(Name('host', Load(), lineno=1507, col_offset=16), 'append', Load(), lineno=1507, col_offset=16), [Name('addr', Load(), lineno=1507, col_offset=28)], [], None, None, lineno=1507, col_offset=16), lineno=1507, col_offset=16)], [], lineno=1506, col_offset=12)], [ExceptHandler(Attribute(Name('socket', Load(), lineno=1508, col_offset=15), 'error', Load(), lineno=1508, col_offset=15), None, [Pass( lineno=1509, col_offset=12)], lineno=1508, col_offset=8)], [], lineno=1504, col_offset=8), TryExcept([Assign([Name('fqdn', Store(), lineno=1511, col_offset=12)], Call(Attribute(Name('socket', Load(), lineno=1511, col_offset=19), 'getfqdn', Load(), lineno=1511, col_offset=19), [Name('rawHost', Load(), lineno=1511, col_offset=34)], [], None, None, lineno=1511, col_offset=19), lineno=1511, col_offset=12), If(Compare(Name('fqdn', Load(), lineno=1512, col_offset=15), [NotEq()], [Name('rawHost', Load(), lineno=1512, col_offset=23)], lineno=1512, col_offset=15), [Expr(Call(Attribute(Name('host', Load(), lineno=1513, col_offset=16), 'append', Load(), lineno=1513, col_offset=16), [Name('fqdn', Load(), lineno=1513, col_offset=28)], [], None, None, lineno=1513, col_offset=16), lineno=1513, col_offset=16)], [], lineno=1512, col_offset=12)], [ExceptHandler(Attribute(Name('socket', Load(), lineno=1514, col_offset=15), 'error', Load(), lineno=1514, col_offset=15), None, [Pass( lineno=1515, col_offset=12)], lineno=1514, col_offset=8)], [], lineno=1510, col_offset=8), Assign([Name('proxyOverride', Store(), lineno=1519, col_offset=8)], Call(Attribute(Name('proxyOverride', Load(), lineno=1519, col_offset=24), 'split', Load(), lineno=1519, col_offset=24), [Str(';', lineno=1519, col_offset=44)], [], None, None, lineno=1519, col_offset=24), lineno=1519, col_offset=8), For(Name('test', Store(), lineno=1521, col_offset=12), Name('proxyOverride', Load(), lineno=1521, col_offset=20), [If(Compare(Name('test', Load(), lineno=1522, col_offset=15), [Eq()], [Str('<local>', lineno=1522, col_offset=23)], lineno=1522, col_offset=15), [If(Compare(Str('.', lineno=1523, col_offset=19), [NotIn()], [Name('rawHost', Load(), lineno=1523, col_offset=30)], lineno=1523, col_offset=19), [Return(Num(1, lineno=1524, col_offset=27), lineno=1524, col_offset=20)], [], lineno=1523, col_offset=16)], [], lineno=1522, col_offset=12), Assign([Name('test', Store(), lineno=1525, col_offset=12)], Call(Attribute(Name('test', Load(), lineno=1525, col_offset=19), 'replace', Load(), lineno=1525, col_offset=19), [Str('.', lineno=1525, col_offset=32), Str('\\.', lineno=1525, col_offset=37)], [], None, None, lineno=1525, col_offset=19), lineno=1525, col_offset=12), Assign([Name('test', Store(), lineno=1526, col_offset=12)], Call(Attribute(Name('test', Load(), lineno=1526, col_offset=19), 'replace', Load(), lineno=1526, col_offset=19), [Str('*', lineno=1526, col_offset=32), Str('.*', lineno=1526, col_offset=37)], [], None, None, lineno=1526, col_offset=19), lineno=1526, col_offset=12), Assign([Name('test', Store(), lineno=1527, col_offset=12)], Call(Attribute(Name('test', Load(), lineno=1527, col_offset=19), 'replace', Load(), lineno=1527, col_offset=19), [Str('?', lineno=1527, col_offset=32), Str('.', lineno=1527, col_offset=37)], [], None, None, lineno=1527, col_offset=19), lineno=1527, col_offset=12), For(Name('val', Store(), lineno=1528, col_offset=16), Name('host', Load(), lineno=1528, col_offset=23), [If(Call(Attribute(Name('re', Load(), lineno=1530, col_offset=19), 'match', Load(), lineno=1530, col_offset=19), [Name('test', Load(), lineno=1530, col_offset=28), Name('val', Load(), lineno=1530, col_offset=34), Attribute(Name('re', Load(), lineno=1530, col_offset=39), 'I', Load(), lineno=1530, col_offset=39)], [], None, None, lineno=1530, col_offset=19), [Return(Num(1, lineno=1531, col_offset=27), lineno=1531, col_offset=20)], [], lineno=1530, col_offset=16)], [], lineno=1528, col_offset=12)], [], lineno=1521, col_offset=8), Return(Num(0, lineno=1532, col_offset=15), lineno=1532, col_offset=8)], [], lineno=1482, col_offset=4), FunctionDef('proxy_bypass', arguments([Name('host', Param(), lineno=1534, col_offset=21)], None, None, []), [Expr(Str('Return a dictionary of scheme -> proxy server URL mappings.\n\n        Returns settings gathered from the environment, if specified,\n        or the registry.\n\n        ', lineno=1540, col_offset=-1), lineno=1540, col_offset=-1), If(Call(Name('getproxies_environment', Load(), lineno=1541, col_offset=11), [], [], None, None, lineno=1541, col_offset=11), [Return(Call(Name('proxy_bypass_environment', Load(), lineno=1542, col_offset=19), [Name('host', Load(), lineno=1542, col_offset=44)], [], None, None, lineno=1542, col_offset=19), lineno=1542, col_offset=12)], [Return(Call(Name('proxy_bypass_registry', Load(), lineno=1544, col_offset=19), [Name('host', Load(), lineno=1544, col_offset=41)], [], None, None, lineno=1544, col_offset=19), lineno=1544, col_offset=12)], lineno=1541, col_offset=8)], [], lineno=1534, col_offset=4)], [Assign([Name('getproxies', Store(), lineno=1548, col_offset=4)], Name('getproxies_environment', Load(), lineno=1548, col_offset=17), lineno=1548, col_offset=4), Assign([Name('proxy_bypass', Store(), lineno=1549, col_offset=4)], Name('proxy_bypass_environment', Load(), lineno=1549, col_offset=19), lineno=1549, col_offset=4)], lineno=1426, col_offset=5)], lineno=1347, col_offset=0), FunctionDef('test1', arguments([], None, None, []), [Assign([Name('s', Store(), lineno=1553, col_offset=4)], Str('', lineno=1553, col_offset=8), lineno=1553, col_offset=4), For(Name('i', Store(), lineno=1554, col_offset=8), Call(Name('range', Load(), lineno=1554, col_offset=13), [Num(256, lineno=1554, col_offset=19)], [], None, None, lineno=1554, col_offset=13), [Assign([Name('s', Store(), lineno=1554, col_offset=25)], BinOp(Name('s', Load(), lineno=1554, col_offset=29), Add(), Call(Name('chr', Load(), lineno=1554, col_offset=33), [Name('i', Load(), lineno=1554, col_offset=37)], [], None, None, lineno=1554, col_offset=33), lineno=1554, col_offset=29), lineno=1554, col_offset=25)], [], lineno=1554, col_offset=4), Assign([Name('s', Store(), lineno=1555, col_offset=4)], BinOp(Name('s', Load(), lineno=1555, col_offset=8), Mult(), Num(4, lineno=1555, col_offset=10), lineno=1555, col_offset=8), lineno=1555, col_offset=4), Assign([Name('t0', Store(), lineno=1556, col_offset=4)], Call(Attribute(Name('time', Load(), lineno=1556, col_offset=9), 'time', Load(), lineno=1556, col_offset=9), [], [], None, None, lineno=1556, col_offset=9), lineno=1556, col_offset=4), Assign([Name('qs', Store(), lineno=1557, col_offset=4)], Call(Name('quote', Load(), lineno=1557, col_offset=9), [Name('s', Load(), lineno=1557, col_offset=15)], [], None, None, lineno=1557, col_offset=9), lineno=1557, col_offset=4), Assign([Name('uqs', Store(), lineno=1558, col_offset=4)], Call(Name('unquote', Load(), lineno=1558, col_offset=10), [Name('qs', Load(), lineno=1558, col_offset=18)], [], None, None, lineno=1558, col_offset=10), lineno=1558, col_offset=4), Assign([Name('t1', Store(), lineno=1559, col_offset=4)], Call(Attribute(Name('time', Load(), lineno=1559, col_offset=9), 'time', Load(), lineno=1559, col_offset=9), [], [], None, None, lineno=1559, col_offset=9), lineno=1559, col_offset=4), If(Compare(Name('uqs', Load(), lineno=1560, col_offset=7), [NotEq()], [Name('s', Load(), lineno=1560, col_offset=14)], lineno=1560, col_offset=7), [Print(None, [Str('Wrong!', lineno=1561, col_offset=14)], True, lineno=1561, col_offset=8)], [], lineno=1560, col_offset=4), Print(None, [Call(Name('repr', Load(), lineno=1562, col_offset=10), [Name('s', Load(), lineno=1562, col_offset=15)], [], None, None, lineno=1562, col_offset=10)], True, lineno=1562, col_offset=4), Print(None, [Call(Name('repr', Load(), lineno=1563, col_offset=10), [Name('qs', Load(), lineno=1563, col_offset=15)], [], None, None, lineno=1563, col_offset=10)], True, lineno=1563, col_offset=4), Print(None, [Call(Name('repr', Load(), lineno=1564, col_offset=10), [Name('uqs', Load(), lineno=1564, col_offset=15)], [], None, None, lineno=1564, col_offset=10)], True, lineno=1564, col_offset=4), Print(None, [Call(Name('round', Load(), lineno=1565, col_offset=10), [BinOp(Name('t1', Load(), lineno=1565, col_offset=16), Sub(), Name('t0', Load(), lineno=1565, col_offset=21), lineno=1565, col_offset=16), Num(3, lineno=1565, col_offset=25)], [], None, None, lineno=1565, col_offset=10), Str('sec', lineno=1565, col_offset=29)], True, lineno=1565, col_offset=4)], [], lineno=1552, col_offset=0), FunctionDef('reporthook', arguments([Name('blocknum', Param(), lineno=1568, col_offset=15), Name('blocksize', Param(), lineno=1568, col_offset=25), Name('totalsize', Param(), lineno=1568, col_offset=36)], None, None, []), [Print(None, [BinOp(Str('Block number: %d, Block size: %d, Total size: %d', lineno=1570, col_offset=10), Mod(), Tuple([Name('blocknum', Load(), lineno=1571, col_offset=8), Name('blocksize', Load(), lineno=1571, col_offset=18), Name('totalsize', Load(), lineno=1571, col_offset=29)], Load(), lineno=1571, col_offset=8), lineno=1570, col_offset=10)], True, lineno=1570, col_offset=4)], [], lineno=1568, col_offset=0), FunctionDef('test', arguments([Name('args', Param(), lineno=1574, col_offset=9)], None, None, [List([], Load(), lineno=1574, col_offset=14)]), [If(UnaryOp(Not(), Name('args', Load(), lineno=1575, col_offset=11), lineno=1575, col_offset=7), [Assign([Name('args', Store(), lineno=1576, col_offset=8)], List([Str('/etc/passwd', lineno=1577, col_offset=12), Str('file:/etc/passwd', lineno=1578, col_offset=12), Str('file://localhost/etc/passwd', lineno=1579, col_offset=12), Str('ftp://ftp.gnu.org/pub/README', lineno=1580, col_offset=12), Str('http://www.python.org/index.html', lineno=1581, col_offset=12)], Load(), lineno=1576, col_offset=15), lineno=1576, col_offset=8), If(Call(Name('hasattr', Load(), lineno=1583, col_offset=11), [Name('URLopener', Load(), lineno=1583, col_offset=19), Str('open_https', lineno=1583, col_offset=30)], [], None, None, lineno=1583, col_offset=11), [Expr(Call(Attribute(Name('args', Load(), lineno=1584, col_offset=12), 'append', Load(), lineno=1584, col_offset=12), [Str('https://synergy.as.cmu.edu/~geek/', lineno=1584, col_offset=24)], [], None, None, lineno=1584, col_offset=12), lineno=1584, col_offset=12)], [], lineno=1583, col_offset=8)], [], lineno=1575, col_offset=4), TryFinally([For(Name('url', Store(), lineno=1586, col_offset=12), Name('args', Load(), lineno=1586, col_offset=19), [Print(None, [BinOp(Str('-', lineno=1587, col_offset=18), Mult(), Num(10, lineno=1587, col_offset=22), lineno=1587, col_offset=18), Name('url', Load(), lineno=1587, col_offset=26), BinOp(Str('-', lineno=1587, col_offset=31), Mult(), Num(10, lineno=1587, col_offset=35), lineno=1587, col_offset=31)], True, lineno=1587, col_offset=12), Assign([Tuple([Name('fn', Store(), lineno=1588, col_offset=12), Name('h', Store(), lineno=1588, col_offset=16)], Store(), lineno=1588, col_offset=12)], Call(Name('urlretrieve', Load(), lineno=1588, col_offset=20), [Name('url', Load(), lineno=1588, col_offset=32), Name('None', Load(), lineno=1588, col_offset=37), Name('reporthook', Load(), lineno=1588, col_offset=43)], [], None, None, lineno=1588, col_offset=20), lineno=1588, col_offset=12), Print(None, [Name('fn', Load(), lineno=1589, col_offset=18)], True, lineno=1589, col_offset=12), If(Name('h', Load(), lineno=1590, col_offset=15), [Print(None, [Str('======', lineno=1591, col_offset=22)], True, lineno=1591, col_offset=16), For(Name('k', Store(), lineno=1592, col_offset=20), Call(Attribute(Name('h', Load(), lineno=1592, col_offset=25), 'keys', Load(), lineno=1592, col_offset=25), [], [], None, None, lineno=1592, col_offset=25), [Print(None, [BinOp(Name('k', Load(), lineno=1592, col_offset=41), Add(), Str(':', lineno=1592, col_offset=45), lineno=1592, col_offset=41), Subscript(Name('h', Load(), lineno=1592, col_offset=50), Index(Name('k', Load(), lineno=1592, col_offset=52)), Load(), lineno=1592, col_offset=50)], True, lineno=1592, col_offset=35)], [], lineno=1592, col_offset=16), Print(None, [Str('======', lineno=1593, col_offset=22)], True, lineno=1593, col_offset=16)], [], lineno=1590, col_offset=12), With(Call(Name('open', Load(), lineno=1594, col_offset=17), [Name('fn', Load(), lineno=1594, col_offset=22), Str('rb', lineno=1594, col_offset=26)], [], None, None, lineno=1594, col_offset=17), Name('fp', Store(), lineno=1594, col_offset=35), [Assign([Name('data', Store(), lineno=1595, col_offset=16)], Call(Attribute(Name('fp', Load(), lineno=1595, col_offset=23), 'read', Load(), lineno=1595, col_offset=23), [], [], None, None, lineno=1595, col_offset=23), lineno=1595, col_offset=16)], lineno=1594, col_offset=17), If(Compare(Str('\r', lineno=1596, col_offset=15), [In()], [Name('data', Load(), lineno=1596, col_offset=23)], lineno=1596, col_offset=15), [Assign([Name('table', Store(), lineno=1597, col_offset=16)], Call(Attribute(Name('string', Load(), lineno=1597, col_offset=24), 'maketrans', Load(), lineno=1597, col_offset=24), [Str('', lineno=1597, col_offset=41), Str('', lineno=1597, col_offset=45)], [], None, None, lineno=1597, col_offset=24), lineno=1597, col_offset=16), Assign([Name('data', Store(), lineno=1598, col_offset=16)], Call(Attribute(Name('data', Load(), lineno=1598, col_offset=23), 'translate', Load(), lineno=1598, col_offset=23), [Name('table', Load(), lineno=1598, col_offset=38), Str('\r', lineno=1598, col_offset=45)], [], None, None, lineno=1598, col_offset=23), lineno=1598, col_offset=16)], [], lineno=1596, col_offset=12), Print(None, [Name('data', Load(), lineno=1599, col_offset=18)], True, lineno=1599, col_offset=12), Assign([Tuple([Name('fn', Store(), lineno=1600, col_offset=12), Name('h', Store(), lineno=1600, col_offset=16)], Store(), lineno=1600, col_offset=12)], Tuple([Name('None', Load(), lineno=1600, col_offset=20), Name('None', Load(), lineno=1600, col_offset=26)], Load(), lineno=1600, col_offset=20), lineno=1600, col_offset=12)], [], lineno=1586, col_offset=8), Print(None, [BinOp(Str('-', lineno=1601, col_offset=14), Mult(), Num(40, lineno=1601, col_offset=18), lineno=1601, col_offset=14)], True, lineno=1601, col_offset=8)], [Expr(Call(Name('urlcleanup', Load(), lineno=1603, col_offset=8), [], [], None, None, lineno=1603, col_offset=8), lineno=1603, col_offset=8)], lineno=1585, col_offset=4)], [], lineno=1574, col_offset=0), FunctionDef('main', arguments([], None, None, []), [Import([alias('getopt', None), alias('sys', None)], lineno=1606, col_offset=4), TryExcept([Assign([Tuple([Name('opts', Store(), lineno=1608, col_offset=8), Name('args', Store(), lineno=1608, col_offset=14)], Store(), lineno=1608, col_offset=8)], Call(Attribute(Name('getopt', Load(), lineno=1608, col_offset=21), 'getopt', Load(), lineno=1608, col_offset=21), [Subscript(Attribute(Name('sys', Load(), lineno=1608, col_offset=35), 'argv', Load(), lineno=1608, col_offset=35), Slice(Num(1, lineno=1608, col_offset=44), None, None), Load(), lineno=1608, col_offset=35), Str('th', lineno=1608, col_offset=49)], [], None, None, lineno=1608, col_offset=21), lineno=1608, col_offset=8)], [ExceptHandler(Attribute(Name('getopt', Load(), lineno=1609, col_offset=11), 'error', Load(), lineno=1609, col_offset=11), Name('msg', Store(), lineno=1609, col_offset=25), [Print(None, [Name('msg', Load(), lineno=1610, col_offset=14)], True, lineno=1610, col_offset=8), Print(None, [Str('Use -h for help', lineno=1611, col_offset=14)], True, lineno=1611, col_offset=8), Return(None, lineno=1612, col_offset=8)], lineno=1609, col_offset=4)], [], lineno=1607, col_offset=4), Assign([Name('t', Store(), lineno=1613, col_offset=4)], Num(0, lineno=1613, col_offset=8), lineno=1613, col_offset=4), For(Tuple([Name('o', Store(), lineno=1614, col_offset=8), Name('a', Store(), lineno=1614, col_offset=11)], Store(), lineno=1614, col_offset=8), Name('opts', Load(), lineno=1614, col_offset=16), [If(Compare(Name('o', Load(), lineno=1615, col_offset=11), [Eq()], [Str('-t', lineno=1615, col_offset=16)], lineno=1615, col_offset=11), [Assign([Name('t', Store(), lineno=1616, col_offset=12)], BinOp(Name('t', Load(), lineno=1616, col_offset=16), Add(), Num(1, lineno=1616, col_offset=20), lineno=1616, col_offset=16), lineno=1616, col_offset=12)], [], lineno=1615, col_offset=8), If(Compare(Name('o', Load(), lineno=1617, col_offset=11), [Eq()], [Str('-h', lineno=1617, col_offset=16)], lineno=1617, col_offset=11), [Print(None, [Str('Usage: python urllib.py [-t] [url ...]', lineno=1618, col_offset=18)], True, lineno=1618, col_offset=12), Print(None, [Str('-t runs self-test;', lineno=1619, col_offset=18)], False, lineno=1619, col_offset=12), Print(None, [Str('otherwise, contents of urls are printed', lineno=1620, col_offset=18)], True, lineno=1620, col_offset=12), Return(None, lineno=1621, col_offset=12)], [], lineno=1617, col_offset=8)], [], lineno=1614, col_offset=4), If(Name('t', Load(), lineno=1622, col_offset=7), [If(Compare(Name('t', Load(), lineno=1623, col_offset=11), [Gt()], [Num(1, lineno=1623, col_offset=15)], lineno=1623, col_offset=11), [Expr(Call(Name('test1', Load(), lineno=1624, col_offset=12), [], [], None, None, lineno=1624, col_offset=12), lineno=1624, col_offset=12)], [], lineno=1623, col_offset=8), Expr(Call(Name('test', Load(), lineno=1625, col_offset=8), [Name('args', Load(), lineno=1625, col_offset=13)], [], None, None, lineno=1625, col_offset=8), lineno=1625, col_offset=8)], [If(UnaryOp(Not(), Name('args', Load(), lineno=1627, col_offset=15), lineno=1627, col_offset=11), [Print(None, [Str('Use -h for help', lineno=1628, col_offset=18)], True, lineno=1628, col_offset=12)], [], lineno=1627, col_offset=8), For(Name('url', Store(), lineno=1629, col_offset=12), Name('args', Load(), lineno=1629, col_offset=19), [Print(None, [Call(Attribute(Call(Name('urlopen', Load(), lineno=1630, col_offset=18), [Name('url', Load(), lineno=1630, col_offset=26)], [], None, None, lineno=1630, col_offset=18), 'read', Load(), lineno=1630, col_offset=18), [], [], None, None, lineno=1630, col_offset=18)], False, lineno=1630, col_offset=12)], [], lineno=1629, col_offset=8)], lineno=1622, col_offset=4)], [], lineno=1605, col_offset=0), If(Compare(Name('__name__', Load(), lineno=1633, col_offset=3), [Eq()], [Str('__main__', lineno=1633, col_offset=15)], lineno=1633, col_offset=3), [Expr(Call(Name('main', Load(), lineno=1634, col_offset=4), [], [], None, None, lineno=1634, col_offset=4), lineno=1634, col_offset=4)], [], lineno=1633, col_offset=0)])
