Module([Expr(Str("RPC Implemention, originally written for the Python Idle IDE\n\nFor security reasons, GvR requested that Idle's Python execution server process\nconnect to the Idle process, which listens for the connection.  Since Idle has\nhas only one client per server, this was not a limitation.\n\n   +---------------------------------+ +-------------+\n   | SocketServer.BaseRequestHandler | | SocketIO    |\n   +---------------------------------+ +-------------+\n                   ^                   | register()  |\n                   |                   | unregister()|\n                   |                   +-------------+\n                   |                      ^  ^\n                   |                      |  |\n                   | + -------------------+  |\n                   | |                       |\n   +-------------------------+        +-----------------+\n   | RPCHandler              |        | RPCClient       |\n   | [attribute of RPCServer]|        |                 |\n   +-------------------------+        +-----------------+\n\nThe RPCServer handler class is expected to provide register/unregister methods.\nRPCHandler inherits the mix-in class SocketIO, which provides these methods.\n\nSee the Idle run.main() docstring for further information on how this was\naccomplished in Idle.\n\n", lineno=28, col_offset=-1), lineno=28, col_offset=-1), Import([alias('sys', None)], lineno=30, col_offset=0), Import([alias('os', None)], lineno=31, col_offset=0), Import([alias('socket', None)], lineno=32, col_offset=0), Import([alias('select', None)], lineno=33, col_offset=0), Import([alias('SocketServer', None)], lineno=34, col_offset=0), Import([alias('struct', None)], lineno=35, col_offset=0), Import([alias('cPickle', 'pickle')], lineno=36, col_offset=0), Import([alias('threading', None)], lineno=37, col_offset=0), Import([alias('Queue', None)], lineno=38, col_offset=0), Import([alias('traceback', None)], lineno=39, col_offset=0), Import([alias('copy_reg', None)], lineno=40, col_offset=0), Import([alias('types', None)], lineno=41, col_offset=0), Import([alias('marshal', None)], lineno=42, col_offset=0), FunctionDef('unpickle_code', arguments([Name('ms', Param(), lineno=45, col_offset=18)], None, None, []), [Assign([Name('co', Store(), lineno=46, col_offset=4)], Call(Attribute(Name('marshal', Load(), lineno=46, col_offset=9), 'loads', Load(), lineno=46, col_offset=9), [Name('ms', Load(), lineno=46, col_offset=23)], [], None, None, lineno=46, col_offset=9), lineno=46, col_offset=4), Assert(Call(Name('isinstance', Load(), lineno=47, col_offset=11), [Name('co', Load(), lineno=47, col_offset=22), Attribute(Name('types', Load(), lineno=47, col_offset=26), 'CodeType', Load(), lineno=47, col_offset=26)], [], None, None, lineno=47, col_offset=11), None, lineno=47, col_offset=4), Return(Name('co', Load(), lineno=48, col_offset=11), lineno=48, col_offset=4)], [], lineno=45, col_offset=0), FunctionDef('pickle_code', arguments([Name('co', Param(), lineno=50, col_offset=16)], None, None, []), [Assert(Call(Name('isinstance', Load(), lineno=51, col_offset=11), [Name('co', Load(), lineno=51, col_offset=22), Attribute(Name('types', Load(), lineno=51, col_offset=26), 'CodeType', Load(), lineno=51, col_offset=26)], [], None, None, lineno=51, col_offset=11), None, lineno=51, col_offset=4), Assign([Name('ms', Store(), lineno=52, col_offset=4)], Call(Attribute(Name('marshal', Load(), lineno=52, col_offset=9), 'dumps', Load(), lineno=52, col_offset=9), [Name('co', Load(), lineno=52, col_offset=23)], [], None, None, lineno=52, col_offset=9), lineno=52, col_offset=4), Return(Tuple([Name('unpickle_code', Load(), lineno=53, col_offset=11), Tuple([Name('ms', Load(), lineno=53, col_offset=27)], Load(), lineno=53, col_offset=27)], Load(), lineno=53, col_offset=11), lineno=53, col_offset=4)], [], lineno=50, col_offset=0), Expr(Call(Attribute(Name('copy_reg', Load(), lineno=63, col_offset=0), 'pickle', Load(), lineno=63, col_offset=0), [Attribute(Name('types', Load(), lineno=63, col_offset=16), 'CodeType', Load(), lineno=63, col_offset=16), Name('pickle_code', Load(), lineno=63, col_offset=32), Name('unpickle_code', Load(), lineno=63, col_offset=45)], [], None, None, lineno=63, col_offset=0), lineno=63, col_offset=0), Assign([Name('BUFSIZE', Store(), lineno=66, col_offset=0)], BinOp(Num(8, lineno=66, col_offset=10), Mult(), Num(1024, lineno=66, col_offset=12), lineno=66, col_offset=10), lineno=66, col_offset=0), Assign([Name('LOCALHOST', Store(), lineno=67, col_offset=0)], Str('127.0.0.1', lineno=67, col_offset=12), lineno=67, col_offset=0), ClassDef('RPCServer', [Attribute(Name('SocketServer', Load(), lineno=69, col_offset=16), 'TCPServer', Load(), lineno=69, col_offset=16)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=71, col_offset=17), Name('addr', Param(), lineno=71, col_offset=23), Name('handlerclass', Param(), lineno=71, col_offset=29)], None, None, [Name('None', Load(), lineno=71, col_offset=42)]), [If(Compare(Name('handlerclass', Load(), lineno=72, col_offset=11), [Is()], [Name('None', Load(), lineno=72, col_offset=27)], lineno=72, col_offset=11), [Assign([Name('handlerclass', Store(), lineno=73, col_offset=12)], Name('RPCHandler', Load(), lineno=73, col_offset=27), lineno=73, col_offset=12)], [], lineno=72, col_offset=8), Expr(Call(Attribute(Attribute(Name('SocketServer', Load(), lineno=74, col_offset=8), 'TCPServer', Load(), lineno=74, col_offset=8), '__init__', Load(), lineno=74, col_offset=8), [Name('self', Load(), lineno=74, col_offset=40), Name('addr', Load(), lineno=74, col_offset=46), Name('handlerclass', Load(), lineno=74, col_offset=52)], [], None, None, lineno=74, col_offset=8), lineno=74, col_offset=8)], [], lineno=71, col_offset=4), FunctionDef('server_bind', arguments([Name('self', Param(), lineno=76, col_offset=20)], None, None, []), [Expr(Str('Override TCPServer method, no bind() phase for connecting entity', lineno=77, col_offset=8), lineno=77, col_offset=8), Pass( lineno=78, col_offset=8)], [], lineno=76, col_offset=4), FunctionDef('server_activate', arguments([Name('self', Param(), lineno=80, col_offset=24)], None, None, []), [Expr(Str('Override TCPServer method, connect() instead of listen()\n\n        Due to the reversed connection, self.server_address is actually the\n        address of the Idle Client to which we are connecting.\n\n        ', lineno=86, col_offset=-1), lineno=86, col_offset=-1), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=87, col_offset=8), 'socket', Load(), lineno=87, col_offset=8), 'connect', Load(), lineno=87, col_offset=8), [Attribute(Name('self', Load(), lineno=87, col_offset=28), 'server_address', Load(), lineno=87, col_offset=28)], [], None, None, lineno=87, col_offset=8), lineno=87, col_offset=8)], [], lineno=80, col_offset=4), FunctionDef('get_request', arguments([Name('self', Param(), lineno=89, col_offset=20)], None, None, []), [Expr(Str('Override TCPServer method, return already connected socket', lineno=90, col_offset=8), lineno=90, col_offset=8), Return(Tuple([Attribute(Name('self', Load(), lineno=91, col_offset=15), 'socket', Load(), lineno=91, col_offset=15), Attribute(Name('self', Load(), lineno=91, col_offset=28), 'server_address', Load(), lineno=91, col_offset=28)], Load(), lineno=91, col_offset=15), lineno=91, col_offset=8)], [], lineno=89, col_offset=4), FunctionDef('handle_error', arguments([Name('self', Param(), lineno=93, col_offset=21), Name('request', Param(), lineno=93, col_offset=27), Name('client_address', Param(), lineno=93, col_offset=36)], None, None, []), [Expr(Str('Override TCPServer method\n\n        Error message goes to __stderr__.  No error message if exiting\n        normally or socket raised EOF.  Other exceptions not handled in\n        server code will cause os._exit.\n\n        ', lineno=100, col_offset=-1), lineno=100, col_offset=-1), TryExcept([Raise(None, None, None, lineno=102, col_offset=12)], [ExceptHandler(Name('SystemExit', Load(), lineno=103, col_offset=15), None, [Raise(None, None, None, lineno=104, col_offset=12)], lineno=103, col_offset=8), ExceptHandler(None, None, [Assign([Name('erf', Store(), lineno=106, col_offset=12)], Attribute(Name('sys', Load(), lineno=106, col_offset=18), '__stderr__', Load(), lineno=106, col_offset=18), lineno=106, col_offset=12), Print(Name('erf', Load(), lineno=107, col_offset=19), [BinOp(Str('\n', lineno=107, col_offset=24), Add(), BinOp(Str('-', lineno=107, col_offset=31), Mult(), Num(40, lineno=107, col_offset=35), lineno=107, col_offset=31), lineno=107, col_offset=24)], True, lineno=107, col_offset=12), Print(Name('erf', Load(), lineno=108, col_offset=19), [Str('Unhandled server exception!', lineno=108, col_offset=24)], True, lineno=108, col_offset=12), Print(Name('erf', Load(), lineno=109, col_offset=19), [BinOp(Str('Thread: %s', lineno=109, col_offset=24), Mod(), Call(Attribute(Call(Attribute(Name('threading', Load(), lineno=109, col_offset=39), 'currentThread', Load(), lineno=109, col_offset=39), [], [], None, None, lineno=109, col_offset=39), 'getName', Load(), lineno=109, col_offset=39), [], [], None, None, lineno=109, col_offset=39), lineno=109, col_offset=24)], True, lineno=109, col_offset=12), Print(Name('erf', Load(), lineno=110, col_offset=19), [Str('Client Address: ', lineno=110, col_offset=24), Name('client_address', Load(), lineno=110, col_offset=44)], True, lineno=110, col_offset=12), Print(Name('erf', Load(), lineno=111, col_offset=19), [Str('Request: ', lineno=111, col_offset=24), Call(Name('repr', Load(), lineno=111, col_offset=37), [Name('request', Load(), lineno=111, col_offset=42)], [], None, None, lineno=111, col_offset=37)], True, lineno=111, col_offset=12), Expr(Call(Attribute(Name('traceback', Load(), lineno=112, col_offset=12), 'print_exc', Load(), lineno=112, col_offset=12), [], [keyword('file', Name('erf', Load(), lineno=112, col_offset=37))], None, None, lineno=112, col_offset=12), lineno=112, col_offset=12), Print(Name('erf', Load(), lineno=113, col_offset=19), [Str('\n*** Unrecoverable, server exiting!', lineno=113, col_offset=24)], True, lineno=113, col_offset=12), Print(Name('erf', Load(), lineno=114, col_offset=19), [BinOp(Str('-', lineno=114, col_offset=24), Mult(), Num(40, lineno=114, col_offset=28), lineno=114, col_offset=24)], True, lineno=114, col_offset=12), Expr(Call(Attribute(Name('os', Load(), lineno=115, col_offset=12), '_exit', Load(), lineno=115, col_offset=12), [Num(0, lineno=115, col_offset=21)], [], None, None, lineno=115, col_offset=12), lineno=115, col_offset=12)], lineno=105, col_offset=8)], [], lineno=101, col_offset=8)], [], lineno=93, col_offset=4)], [], lineno=69, col_offset=0), Assign([Name('objecttable', Store(), lineno=119, col_offset=0)], Dict([], [], lineno=119, col_offset=14), lineno=119, col_offset=0), Assign([Name('request_queue', Store(), lineno=120, col_offset=0)], Call(Attribute(Name('Queue', Load(), lineno=120, col_offset=16), 'Queue', Load(), lineno=120, col_offset=16), [Num(0, lineno=120, col_offset=28)], [], None, None, lineno=120, col_offset=16), lineno=120, col_offset=0), Assign([Name('response_queue', Store(), lineno=121, col_offset=0)], Call(Attribute(Name('Queue', Load(), lineno=121, col_offset=17), 'Queue', Load(), lineno=121, col_offset=17), [Num(0, lineno=121, col_offset=29)], [], None, None, lineno=121, col_offset=17), lineno=121, col_offset=0), ClassDef('SocketIO', [Name('object', Load(), lineno=124, col_offset=15)], [Assign([Name('nextseq', Store(), lineno=126, col_offset=4)], Num(0, lineno=126, col_offset=14), lineno=126, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=128, col_offset=17), Name('sock', Param(), lineno=128, col_offset=23), Name('objtable', Param(), lineno=128, col_offset=29), Name('debugging', Param(), lineno=128, col_offset=44)], None, None, [Name('None', Load(), lineno=128, col_offset=38), Name('None', Load(), lineno=128, col_offset=54)]), [Assign([Attribute(Name('self', Load(), lineno=129, col_offset=8), 'sockthread', Store(), lineno=129, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=129, col_offset=26), 'currentThread', Load(), lineno=129, col_offset=26), [], [], None, None, lineno=129, col_offset=26), lineno=129, col_offset=8), If(Compare(Name('debugging', Load(), lineno=130, col_offset=11), [IsNot()], [Name('None', Load(), lineno=130, col_offset=28)], lineno=130, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=131, col_offset=12), 'debugging', Store(), lineno=131, col_offset=12)], Name('debugging', Load(), lineno=131, col_offset=29), lineno=131, col_offset=12)], [], lineno=130, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=132, col_offset=8), 'sock', Store(), lineno=132, col_offset=8)], Name('sock', Load(), lineno=132, col_offset=20), lineno=132, col_offset=8), If(Compare(Name('objtable', Load(), lineno=133, col_offset=11), [Is()], [Name('None', Load(), lineno=133, col_offset=23)], lineno=133, col_offset=11), [Assign([Name('objtable', Store(), lineno=134, col_offset=12)], Name('objecttable', Load(), lineno=134, col_offset=23), lineno=134, col_offset=12)], [], lineno=133, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=135, col_offset=8), 'objtable', Store(), lineno=135, col_offset=8)], Name('objtable', Load(), lineno=135, col_offset=24), lineno=135, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=136, col_offset=8), 'responses', Store(), lineno=136, col_offset=8)], Dict([], [], lineno=136, col_offset=25), lineno=136, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=137, col_offset=8), 'cvars', Store(), lineno=137, col_offset=8)], Dict([], [], lineno=137, col_offset=21), lineno=137, col_offset=8)], [], lineno=128, col_offset=4), FunctionDef('close', arguments([Name('self', Param(), lineno=139, col_offset=14)], None, None, []), [Assign([Name('sock', Store(), lineno=140, col_offset=8)], Attribute(Name('self', Load(), lineno=140, col_offset=15), 'sock', Load(), lineno=140, col_offset=15), lineno=140, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=141, col_offset=8), 'sock', Store(), lineno=141, col_offset=8)], Name('None', Load(), lineno=141, col_offset=20), lineno=141, col_offset=8), If(Compare(Name('sock', Load(), lineno=142, col_offset=11), [IsNot()], [Name('None', Load(), lineno=142, col_offset=23)], lineno=142, col_offset=11), [Expr(Call(Attribute(Name('sock', Load(), lineno=143, col_offset=12), 'close', Load(), lineno=143, col_offset=12), [], [], None, None, lineno=143, col_offset=12), lineno=143, col_offset=12)], [], lineno=142, col_offset=8)], [], lineno=139, col_offset=4), FunctionDef('exithook', arguments([Name('self', Param(), lineno=145, col_offset=17)], None, None, []), [Expr(Str('override for specific exit action', lineno=146, col_offset=8), lineno=146, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=147, col_offset=8), '_exit', Load(), lineno=147, col_offset=8), [], [], None, None, lineno=147, col_offset=8), lineno=147, col_offset=8)], [], lineno=145, col_offset=4), FunctionDef('debug', arguments([Name('self', Param(), lineno=149, col_offset=14)], 'args', None, []), [If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=150, col_offset=15), 'debugging', Load(), lineno=150, col_offset=15), lineno=150, col_offset=11), [Return(None, lineno=151, col_offset=12)], [], lineno=150, col_offset=8), Assign([Name('s', Store(), lineno=152, col_offset=8)], BinOp(BinOp(Attribute(Name('self', Load(), lineno=152, col_offset=12), 'location', Load(), lineno=152, col_offset=12), Add(), Str(' ', lineno=152, col_offset=28), lineno=152, col_offset=12), Add(), Call(Name('str', Load(), lineno=152, col_offset=34), [Call(Attribute(Call(Attribute(Name('threading', Load(), lineno=152, col_offset=38), 'currentThread', Load(), lineno=152, col_offset=38), [], [], None, None, lineno=152, col_offset=38), 'getName', Load(), lineno=152, col_offset=38), [], [], None, None, lineno=152, col_offset=38)], [], None, None, lineno=152, col_offset=34), lineno=152, col_offset=32), lineno=152, col_offset=8), For(Name('a', Store(), lineno=153, col_offset=12), Name('args', Load(), lineno=153, col_offset=17), [Assign([Name('s', Store(), lineno=154, col_offset=12)], BinOp(BinOp(Name('s', Load(), lineno=154, col_offset=16), Add(), Str(' ', lineno=154, col_offset=20), lineno=154, col_offset=16), Add(), Call(Name('str', Load(), lineno=154, col_offset=26), [Name('a', Load(), lineno=154, col_offset=30)], [], None, None, lineno=154, col_offset=26), lineno=154, col_offset=24), lineno=154, col_offset=12)], [], lineno=153, col_offset=8), Print(Attribute(Name('sys', Load(), lineno=155, col_offset=15), '__stderr__', Load(), lineno=155, col_offset=15), [Name('s', Load(), lineno=155, col_offset=31)], True, lineno=155, col_offset=8)], [], lineno=149, col_offset=4), FunctionDef('register', arguments([Name('self', Param(), lineno=157, col_offset=17), Name('oid', Param(), lineno=157, col_offset=23), Name('object', Param(), lineno=157, col_offset=28)], None, None, []), [Assign([Subscript(Attribute(Name('self', Load(), lineno=158, col_offset=8), 'objtable', Load(), lineno=158, col_offset=8), Index(Name('oid', Load(), lineno=158, col_offset=22)), Store(), lineno=158, col_offset=8)], Name('object', Load(), lineno=158, col_offset=29), lineno=158, col_offset=8)], [], lineno=157, col_offset=4), FunctionDef('unregister', arguments([Name('self', Param(), lineno=160, col_offset=19), Name('oid', Param(), lineno=160, col_offset=25)], None, None, []), [TryExcept([Delete([Subscript(Attribute(Name('self', Load(), lineno=162, col_offset=16), 'objtable', Load(), lineno=162, col_offset=16), Index(Name('oid', Load(), lineno=162, col_offset=30)), Del(), lineno=162, col_offset=16)], lineno=162, col_offset=12)], [ExceptHandler(Name('KeyError', Load(), lineno=163, col_offset=15), None, [Pass( lineno=164, col_offset=12)], lineno=163, col_offset=8)], [], lineno=161, col_offset=8)], [], lineno=160, col_offset=4), FunctionDef('localcall', arguments([Name('self', Param(), lineno=166, col_offset=18), Name('seq', Param(), lineno=166, col_offset=24), Name('request', Param(), lineno=166, col_offset=29)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=167, col_offset=8), 'debug', Load(), lineno=167, col_offset=8), [Str('localcall:', lineno=167, col_offset=19), Name('request', Load(), lineno=167, col_offset=33)], [], None, None, lineno=167, col_offset=8), lineno=167, col_offset=8), TryExcept([Assign([Tuple([Name('how', Store(), lineno=169, col_offset=12), Tuple([Name('oid', Store(), lineno=169, col_offset=18), Name('methodname', Store(), lineno=169, col_offset=23), Name('args', Store(), lineno=169, col_offset=35), Name('kwargs', Store(), lineno=169, col_offset=41)], Store(), lineno=169, col_offset=18)], Store(), lineno=169, col_offset=12)], Name('request', Load(), lineno=169, col_offset=51), lineno=169, col_offset=12)], [ExceptHandler(Name('TypeError', Load(), lineno=170, col_offset=15), None, [Return(Tuple([Str('ERROR', lineno=171, col_offset=20), Str('Bad request format', lineno=171, col_offset=29)], Load(), lineno=171, col_offset=20), lineno=171, col_offset=12)], lineno=170, col_offset=8)], [], lineno=168, col_offset=8), If(Compare(Name('oid', Load(), lineno=172, col_offset=11), [NotIn()], [Attribute(Name('self', Load(), lineno=172, col_offset=22), 'objtable', Load(), lineno=172, col_offset=22)], lineno=172, col_offset=11), [Return(Tuple([Str('ERROR', lineno=173, col_offset=20), BinOp(Str('Unknown object id: %r', lineno=173, col_offset=29), Mod(), Tuple([Name('oid', Load(), lineno=173, col_offset=56)], Load(), lineno=173, col_offset=56), lineno=173, col_offset=29)], Load(), lineno=173, col_offset=20), lineno=173, col_offset=12)], [], lineno=172, col_offset=8), Assign([Name('obj', Store(), lineno=174, col_offset=8)], Subscript(Attribute(Name('self', Load(), lineno=174, col_offset=14), 'objtable', Load(), lineno=174, col_offset=14), Index(Name('oid', Load(), lineno=174, col_offset=28)), Load(), lineno=174, col_offset=14), lineno=174, col_offset=8), If(Compare(Name('methodname', Load(), lineno=175, col_offset=11), [Eq()], [Str('__methods__', lineno=175, col_offset=25)], lineno=175, col_offset=11), [Assign([Name('methods', Store(), lineno=176, col_offset=12)], Dict([], [], lineno=176, col_offset=22), lineno=176, col_offset=12), Expr(Call(Name('_getmethods', Load(), lineno=177, col_offset=12), [Name('obj', Load(), lineno=177, col_offset=24), Name('methods', Load(), lineno=177, col_offset=29)], [], None, None, lineno=177, col_offset=12), lineno=177, col_offset=12), Return(Tuple([Str('OK', lineno=178, col_offset=20), Name('methods', Load(), lineno=178, col_offset=26)], Load(), lineno=178, col_offset=20), lineno=178, col_offset=12)], [], lineno=175, col_offset=8), If(Compare(Name('methodname', Load(), lineno=179, col_offset=11), [Eq()], [Str('__attributes__', lineno=179, col_offset=25)], lineno=179, col_offset=11), [Assign([Name('attributes', Store(), lineno=180, col_offset=12)], Dict([], [], lineno=180, col_offset=25), lineno=180, col_offset=12), Expr(Call(Name('_getattributes', Load(), lineno=181, col_offset=12), [Name('obj', Load(), lineno=181, col_offset=27), Name('attributes', Load(), lineno=181, col_offset=32)], [], None, None, lineno=181, col_offset=12), lineno=181, col_offset=12), Return(Tuple([Str('OK', lineno=182, col_offset=20), Name('attributes', Load(), lineno=182, col_offset=26)], Load(), lineno=182, col_offset=20), lineno=182, col_offset=12)], [], lineno=179, col_offset=8), If(UnaryOp(Not(), Call(Name('hasattr', Load(), lineno=183, col_offset=15), [Name('obj', Load(), lineno=183, col_offset=23), Name('methodname', Load(), lineno=183, col_offset=28)], [], None, None, lineno=183, col_offset=15), lineno=183, col_offset=11), [Return(Tuple([Str('ERROR', lineno=184, col_offset=20), BinOp(Str('Unsupported method name: %r', lineno=184, col_offset=29), Mod(), Tuple([Name('methodname', Load(), lineno=184, col_offset=62)], Load(), lineno=184, col_offset=62), lineno=184, col_offset=29)], Load(), lineno=184, col_offset=20), lineno=184, col_offset=12)], [], lineno=183, col_offset=8), Assign([Name('method', Store(), lineno=185, col_offset=8)], Call(Name('getattr', Load(), lineno=185, col_offset=17), [Name('obj', Load(), lineno=185, col_offset=25), Name('methodname', Load(), lineno=185, col_offset=30)], [], None, None, lineno=185, col_offset=17), lineno=185, col_offset=8), TryExcept([If(Compare(Name('how', Load(), lineno=187, col_offset=15), [Eq()], [Str('CALL', lineno=187, col_offset=22)], lineno=187, col_offset=15), [Assign([Name('ret', Store(), lineno=188, col_offset=16)], Call(Name('method', Load(), lineno=188, col_offset=22), [], [], Name('args', Load(), lineno=188, col_offset=30), Name('kwargs', Load(), lineno=188, col_offset=38), lineno=188, col_offset=22), lineno=188, col_offset=16), If(Call(Name('isinstance', Load(), lineno=189, col_offset=19), [Name('ret', Load(), lineno=189, col_offset=30), Name('RemoteObject', Load(), lineno=189, col_offset=35)], [], None, None, lineno=189, col_offset=19), [Assign([Name('ret', Store(), lineno=190, col_offset=20)], Call(Name('remoteref', Load(), lineno=190, col_offset=26), [Name('ret', Load(), lineno=190, col_offset=36)], [], None, None, lineno=190, col_offset=26), lineno=190, col_offset=20)], [], lineno=189, col_offset=16), Return(Tuple([Str('OK', lineno=191, col_offset=24), Name('ret', Load(), lineno=191, col_offset=30)], Load(), lineno=191, col_offset=24), lineno=191, col_offset=16)], [If(Compare(Name('how', Load(), lineno=192, col_offset=17), [Eq()], [Str('QUEUE', lineno=192, col_offset=24)], lineno=192, col_offset=17), [Expr(Call(Attribute(Name('request_queue', Load(), lineno=193, col_offset=16), 'put', Load(), lineno=193, col_offset=16), [Tuple([Name('seq', Load(), lineno=193, col_offset=35), Tuple([Name('method', Load(), lineno=193, col_offset=41), Name('args', Load(), lineno=193, col_offset=49), Name('kwargs', Load(), lineno=193, col_offset=55)], Load(), lineno=193, col_offset=41)], Load(), lineno=193, col_offset=35)], [], None, None, lineno=193, col_offset=16), lineno=193, col_offset=16), Return(Tuple([Str('QUEUED', lineno=194, col_offset=23), Name('None', Load(), lineno=194, col_offset=33)], Load(), lineno=194, col_offset=23), lineno=194, col_offset=16)], [Return(Tuple([Str('ERROR', lineno=196, col_offset=24), BinOp(Str('Unsupported message type: %s', lineno=196, col_offset=33), Mod(), Name('how', Load(), lineno=196, col_offset=66), lineno=196, col_offset=33)], Load(), lineno=196, col_offset=24), lineno=196, col_offset=16)], lineno=192, col_offset=17)], lineno=187, col_offset=12)], [ExceptHandler(Name('SystemExit', Load(), lineno=197, col_offset=15), None, [Raise(None, None, None, lineno=198, col_offset=12)], lineno=197, col_offset=8), ExceptHandler(Attribute(Name('socket', Load(), lineno=199, col_offset=15), 'error', Load(), lineno=199, col_offset=15), None, [Raise(None, None, None, lineno=200, col_offset=12)], lineno=199, col_offset=8), ExceptHandler(None, None, [Assign([Name('msg', Store(), lineno=202, col_offset=12)], Str('*** Internal Error: rpc.py:SocketIO.localcall()\n\n Object: %s \n Method: %s \n Args: %s\n', lineno=202, col_offset=18), lineno=202, col_offset=12), Print(Attribute(Name('sys', Load(), lineno=204, col_offset=19), '__stderr__', Load(), lineno=204, col_offset=19), [BinOp(Name('msg', Load(), lineno=204, col_offset=35), Mod(), Tuple([Name('oid', Load(), lineno=204, col_offset=42), Name('method', Load(), lineno=204, col_offset=47), Name('args', Load(), lineno=204, col_offset=55)], Load(), lineno=204, col_offset=42), lineno=204, col_offset=35)], True, lineno=204, col_offset=12), Expr(Call(Attribute(Name('traceback', Load(), lineno=205, col_offset=12), 'print_exc', Load(), lineno=205, col_offset=12), [], [keyword('file', Attribute(Name('sys', Load(), lineno=205, col_offset=37), '__stderr__', Load(), lineno=205, col_offset=37))], None, None, lineno=205, col_offset=12), lineno=205, col_offset=12), Return(Tuple([Str('EXCEPTION', lineno=206, col_offset=20), Name('None', Load(), lineno=206, col_offset=33)], Load(), lineno=206, col_offset=20), lineno=206, col_offset=12)], lineno=201, col_offset=8)], [], lineno=186, col_offset=8)], [], lineno=166, col_offset=4), FunctionDef('remotecall', arguments([Name('self', Param(), lineno=208, col_offset=19), Name('oid', Param(), lineno=208, col_offset=25), Name('methodname', Param(), lineno=208, col_offset=30), Name('args', Param(), lineno=208, col_offset=42), Name('kwargs', Param(), lineno=208, col_offset=48)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=209, col_offset=8), 'debug', Load(), lineno=209, col_offset=8), [Str('remotecall:asynccall: ', lineno=209, col_offset=19), Name('oid', Load(), lineno=209, col_offset=45), Name('methodname', Load(), lineno=209, col_offset=50)], [], None, None, lineno=209, col_offset=8), lineno=209, col_offset=8), Assign([Name('seq', Store(), lineno=210, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=210, col_offset=14), 'asynccall', Load(), lineno=210, col_offset=14), [Name('oid', Load(), lineno=210, col_offset=29), Name('methodname', Load(), lineno=210, col_offset=34), Name('args', Load(), lineno=210, col_offset=46), Name('kwargs', Load(), lineno=210, col_offset=52)], [], None, None, lineno=210, col_offset=14), lineno=210, col_offset=8), Return(Call(Attribute(Name('self', Load(), lineno=211, col_offset=15), 'asyncreturn', Load(), lineno=211, col_offset=15), [Name('seq', Load(), lineno=211, col_offset=32)], [], None, None, lineno=211, col_offset=15), lineno=211, col_offset=8)], [], lineno=208, col_offset=4), FunctionDef('remotequeue', arguments([Name('self', Param(), lineno=213, col_offset=20), Name('oid', Param(), lineno=213, col_offset=26), Name('methodname', Param(), lineno=213, col_offset=31), Name('args', Param(), lineno=213, col_offset=43), Name('kwargs', Param(), lineno=213, col_offset=49)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=214, col_offset=8), 'debug', Load(), lineno=214, col_offset=8), [Str('remotequeue:asyncqueue: ', lineno=214, col_offset=19), Name('oid', Load(), lineno=214, col_offset=47), Name('methodname', Load(), lineno=214, col_offset=52)], [], None, None, lineno=214, col_offset=8), lineno=214, col_offset=8), Assign([Name('seq', Store(), lineno=215, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=215, col_offset=14), 'asyncqueue', Load(), lineno=215, col_offset=14), [Name('oid', Load(), lineno=215, col_offset=30), Name('methodname', Load(), lineno=215, col_offset=35), Name('args', Load(), lineno=215, col_offset=47), Name('kwargs', Load(), lineno=215, col_offset=53)], [], None, None, lineno=215, col_offset=14), lineno=215, col_offset=8), Return(Call(Attribute(Name('self', Load(), lineno=216, col_offset=15), 'asyncreturn', Load(), lineno=216, col_offset=15), [Name('seq', Load(), lineno=216, col_offset=32)], [], None, None, lineno=216, col_offset=15), lineno=216, col_offset=8)], [], lineno=213, col_offset=4), FunctionDef('asynccall', arguments([Name('self', Param(), lineno=218, col_offset=18), Name('oid', Param(), lineno=218, col_offset=24), Name('methodname', Param(), lineno=218, col_offset=29), Name('args', Param(), lineno=218, col_offset=41), Name('kwargs', Param(), lineno=218, col_offset=47)], None, None, []), [Assign([Name('request', Store(), lineno=219, col_offset=8)], Tuple([Str('CALL', lineno=219, col_offset=19), Tuple([Name('oid', Load(), lineno=219, col_offset=28), Name('methodname', Load(), lineno=219, col_offset=33), Name('args', Load(), lineno=219, col_offset=45), Name('kwargs', Load(), lineno=219, col_offset=51)], Load(), lineno=219, col_offset=28)], Load(), lineno=219, col_offset=19), lineno=219, col_offset=8), Assign([Name('seq', Store(), lineno=220, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=220, col_offset=14), 'newseq', Load(), lineno=220, col_offset=14), [], [], None, None, lineno=220, col_offset=14), lineno=220, col_offset=8), If(Compare(Call(Attribute(Name('threading', Load(), lineno=221, col_offset=11), 'currentThread', Load(), lineno=221, col_offset=11), [], [], None, None, lineno=221, col_offset=11), [NotEq()], [Attribute(Name('self', Load(), lineno=221, col_offset=40), 'sockthread', Load(), lineno=221, col_offset=40)], lineno=221, col_offset=11), [Assign([Name('cvar', Store(), lineno=222, col_offset=12)], Call(Attribute(Name('threading', Load(), lineno=222, col_offset=19), 'Condition', Load(), lineno=222, col_offset=19), [], [], None, None, lineno=222, col_offset=19), lineno=222, col_offset=12), Assign([Subscript(Attribute(Name('self', Load(), lineno=223, col_offset=12), 'cvars', Load(), lineno=223, col_offset=12), Index(Name('seq', Load(), lineno=223, col_offset=23)), Store(), lineno=223, col_offset=12)], Name('cvar', Load(), lineno=223, col_offset=30), lineno=223, col_offset=12)], [], lineno=221, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=224, col_offset=8), 'debug', Load(), lineno=224, col_offset=8), [BinOp(Str('asynccall:%d:', lineno=224, col_offset=20), Mod(), Name('seq', Load(), lineno=224, col_offset=38), lineno=224, col_offset=20), Name('oid', Load(), lineno=224, col_offset=44), Name('methodname', Load(), lineno=224, col_offset=49), Name('args', Load(), lineno=224, col_offset=61), Name('kwargs', Load(), lineno=224, col_offset=67)], [], None, None, lineno=224, col_offset=8), lineno=224, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=225, col_offset=8), 'putmessage', Load(), lineno=225, col_offset=8), [Tuple([Name('seq', Load(), lineno=225, col_offset=25), Name('request', Load(), lineno=225, col_offset=30)], Load(), lineno=225, col_offset=25)], [], None, None, lineno=225, col_offset=8), lineno=225, col_offset=8), Return(Name('seq', Load(), lineno=226, col_offset=15), lineno=226, col_offset=8)], [], lineno=218, col_offset=4), FunctionDef('asyncqueue', arguments([Name('self', Param(), lineno=228, col_offset=19), Name('oid', Param(), lineno=228, col_offset=25), Name('methodname', Param(), lineno=228, col_offset=30), Name('args', Param(), lineno=228, col_offset=42), Name('kwargs', Param(), lineno=228, col_offset=48)], None, None, []), [Assign([Name('request', Store(), lineno=229, col_offset=8)], Tuple([Str('QUEUE', lineno=229, col_offset=19), Tuple([Name('oid', Load(), lineno=229, col_offset=29), Name('methodname', Load(), lineno=229, col_offset=34), Name('args', Load(), lineno=229, col_offset=46), Name('kwargs', Load(), lineno=229, col_offset=52)], Load(), lineno=229, col_offset=29)], Load(), lineno=229, col_offset=19), lineno=229, col_offset=8), Assign([Name('seq', Store(), lineno=230, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=230, col_offset=14), 'newseq', Load(), lineno=230, col_offset=14), [], [], None, None, lineno=230, col_offset=14), lineno=230, col_offset=8), If(Compare(Call(Attribute(Name('threading', Load(), lineno=231, col_offset=11), 'currentThread', Load(), lineno=231, col_offset=11), [], [], None, None, lineno=231, col_offset=11), [NotEq()], [Attribute(Name('self', Load(), lineno=231, col_offset=40), 'sockthread', Load(), lineno=231, col_offset=40)], lineno=231, col_offset=11), [Assign([Name('cvar', Store(), lineno=232, col_offset=12)], Call(Attribute(Name('threading', Load(), lineno=232, col_offset=19), 'Condition', Load(), lineno=232, col_offset=19), [], [], None, None, lineno=232, col_offset=19), lineno=232, col_offset=12), Assign([Subscript(Attribute(Name('self', Load(), lineno=233, col_offset=12), 'cvars', Load(), lineno=233, col_offset=12), Index(Name('seq', Load(), lineno=233, col_offset=23)), Store(), lineno=233, col_offset=12)], Name('cvar', Load(), lineno=233, col_offset=30), lineno=233, col_offset=12)], [], lineno=231, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=234, col_offset=8), 'debug', Load(), lineno=234, col_offset=8), [BinOp(Str('asyncqueue:%d:', lineno=234, col_offset=20), Mod(), Name('seq', Load(), lineno=234, col_offset=39), lineno=234, col_offset=20), Name('oid', Load(), lineno=234, col_offset=45), Name('methodname', Load(), lineno=234, col_offset=50), Name('args', Load(), lineno=234, col_offset=62), Name('kwargs', Load(), lineno=234, col_offset=68)], [], None, None, lineno=234, col_offset=8), lineno=234, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=235, col_offset=8), 'putmessage', Load(), lineno=235, col_offset=8), [Tuple([Name('seq', Load(), lineno=235, col_offset=25), Name('request', Load(), lineno=235, col_offset=30)], Load(), lineno=235, col_offset=25)], [], None, None, lineno=235, col_offset=8), lineno=235, col_offset=8), Return(Name('seq', Load(), lineno=236, col_offset=15), lineno=236, col_offset=8)], [], lineno=228, col_offset=4), FunctionDef('asyncreturn', arguments([Name('self', Param(), lineno=238, col_offset=20), Name('seq', Param(), lineno=238, col_offset=26)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=239, col_offset=8), 'debug', Load(), lineno=239, col_offset=8), [BinOp(Str('asyncreturn:%d:call getresponse(): ', lineno=239, col_offset=19), Mod(), Name('seq', Load(), lineno=239, col_offset=59), lineno=239, col_offset=19)], [], None, None, lineno=239, col_offset=8), lineno=239, col_offset=8), Assign([Name('response', Store(), lineno=240, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=240, col_offset=19), 'getresponse', Load(), lineno=240, col_offset=19), [Name('seq', Load(), lineno=240, col_offset=36)], [keyword('wait', Num(0.05, lineno=240, col_offset=46))], None, None, lineno=240, col_offset=19), lineno=240, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=241, col_offset=8), 'debug', Load(), lineno=241, col_offset=8), [BinOp(Str('asyncreturn:%d:response: ', lineno=241, col_offset=20), Mod(), Name('seq', Load(), lineno=241, col_offset=50), lineno=241, col_offset=20), Name('response', Load(), lineno=241, col_offset=56)], [], None, None, lineno=241, col_offset=8), lineno=241, col_offset=8), Return(Call(Attribute(Name('self', Load(), lineno=242, col_offset=15), 'decoderesponse', Load(), lineno=242, col_offset=15), [Name('response', Load(), lineno=242, col_offset=35)], [], None, None, lineno=242, col_offset=15), lineno=242, col_offset=8)], [], lineno=238, col_offset=4), FunctionDef('decoderesponse', arguments([Name('self', Param(), lineno=244, col_offset=23), Name('response', Param(), lineno=244, col_offset=29)], None, None, []), [Assign([Tuple([Name('how', Store(), lineno=245, col_offset=8), Name('what', Store(), lineno=245, col_offset=13)], Store(), lineno=245, col_offset=8)], Name('response', Load(), lineno=245, col_offset=20), lineno=245, col_offset=8), If(Compare(Name('how', Load(), lineno=246, col_offset=11), [Eq()], [Str('OK', lineno=246, col_offset=18)], lineno=246, col_offset=11), [Return(Name('what', Load(), lineno=247, col_offset=19), lineno=247, col_offset=12)], [], lineno=246, col_offset=8), If(Compare(Name('how', Load(), lineno=248, col_offset=11), [Eq()], [Str('QUEUED', lineno=248, col_offset=18)], lineno=248, col_offset=11), [Return(Name('None', Load(), lineno=249, col_offset=19), lineno=249, col_offset=12)], [], lineno=248, col_offset=8), If(Compare(Name('how', Load(), lineno=250, col_offset=11), [Eq()], [Str('EXCEPTION', lineno=250, col_offset=18)], lineno=250, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=251, col_offset=12), 'debug', Load(), lineno=251, col_offset=12), [Str('decoderesponse: EXCEPTION', lineno=251, col_offset=23)], [], None, None, lineno=251, col_offset=12), lineno=251, col_offset=12), Return(Name('None', Load(), lineno=252, col_offset=19), lineno=252, col_offset=12)], [], lineno=250, col_offset=8), If(Compare(Name('how', Load(), lineno=253, col_offset=11), [Eq()], [Str('EOF', lineno=253, col_offset=18)], lineno=253, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=254, col_offset=12), 'debug', Load(), lineno=254, col_offset=12), [Str('decoderesponse: EOF', lineno=254, col_offset=23)], [], None, None, lineno=254, col_offset=12), lineno=254, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=255, col_offset=12), 'decode_interrupthook', Load(), lineno=255, col_offset=12), [], [], None, None, lineno=255, col_offset=12), lineno=255, col_offset=12), Return(Name('None', Load(), lineno=256, col_offset=19), lineno=256, col_offset=12)], [], lineno=253, col_offset=8), If(Compare(Name('how', Load(), lineno=257, col_offset=11), [Eq()], [Str('ERROR', lineno=257, col_offset=18)], lineno=257, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=258, col_offset=12), 'debug', Load(), lineno=258, col_offset=12), [Str('decoderesponse: Internal ERROR:', lineno=258, col_offset=23), Name('what', Load(), lineno=258, col_offset=58)], [], None, None, lineno=258, col_offset=12), lineno=258, col_offset=12), Raise(Name('RuntimeError', Load(), lineno=259, col_offset=18), Name('what', Load(), lineno=259, col_offset=32), None, lineno=259, col_offset=12)], [], lineno=257, col_offset=8), Raise(Name('SystemError', Load(), lineno=260, col_offset=14), Tuple([Name('how', Load(), lineno=260, col_offset=28), Name('what', Load(), lineno=260, col_offset=33)], Load(), lineno=260, col_offset=28), None, lineno=260, col_offset=8)], [], lineno=244, col_offset=4), FunctionDef('decode_interrupthook', arguments([Name('self', Param(), lineno=262, col_offset=29)], None, None, []), [Expr(Str('', lineno=263, col_offset=8), lineno=263, col_offset=8), Raise(Name('EOFError', Load(), lineno=264, col_offset=14), None, None, lineno=264, col_offset=8)], [], lineno=262, col_offset=4), FunctionDef('mainloop', arguments([Name('self', Param(), lineno=266, col_offset=17)], None, None, []), [Expr(Str('Listen on socket until I/O not ready or EOF\n\n        pollresponse() will loop looking for seq number None, which\n        never comes, and exit on EOFError.\n\n        ', lineno=272, col_offset=-1), lineno=272, col_offset=-1), TryExcept([Expr(Call(Attribute(Name('self', Load(), lineno=274, col_offset=12), 'getresponse', Load(), lineno=274, col_offset=12), [], [keyword('myseq', Name('None', Load(), lineno=274, col_offset=35)), keyword('wait', Num(0.05, lineno=274, col_offset=46))], None, None, lineno=274, col_offset=12), lineno=274, col_offset=12)], [ExceptHandler(Name('EOFError', Load(), lineno=275, col_offset=15), None, [Expr(Call(Attribute(Name('self', Load(), lineno=276, col_offset=12), 'debug', Load(), lineno=276, col_offset=12), [Str('mainloop:return', lineno=276, col_offset=23)], [], None, None, lineno=276, col_offset=12), lineno=276, col_offset=12), Return(None, lineno=277, col_offset=12)], lineno=275, col_offset=8)], [], lineno=273, col_offset=8)], [], lineno=266, col_offset=4), FunctionDef('getresponse', arguments([Name('self', Param(), lineno=279, col_offset=20), Name('myseq', Param(), lineno=279, col_offset=26), Name('wait', Param(), lineno=279, col_offset=33)], None, None, []), [Assign([Name('response', Store(), lineno=280, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=280, col_offset=19), '_getresponse', Load(), lineno=280, col_offset=19), [Name('myseq', Load(), lineno=280, col_offset=37), Name('wait', Load(), lineno=280, col_offset=44)], [], None, None, lineno=280, col_offset=19), lineno=280, col_offset=8), If(Compare(Name('response', Load(), lineno=281, col_offset=11), [IsNot()], [Name('None', Load(), lineno=281, col_offset=27)], lineno=281, col_offset=11), [Assign([Tuple([Name('how', Store(), lineno=282, col_offset=12), Name('what', Store(), lineno=282, col_offset=17)], Store(), lineno=282, col_offset=12)], Name('response', Load(), lineno=282, col_offset=24), lineno=282, col_offset=12), If(Compare(Name('how', Load(), lineno=283, col_offset=15), [Eq()], [Str('OK', lineno=283, col_offset=22)], lineno=283, col_offset=15), [Assign([Name('response', Store(), lineno=284, col_offset=16)], Tuple([Name('how', Load(), lineno=284, col_offset=27), Call(Attribute(Name('self', Load(), lineno=284, col_offset=32), '_proxify', Load(), lineno=284, col_offset=32), [Name('what', Load(), lineno=284, col_offset=46)], [], None, None, lineno=284, col_offset=32)], Load(), lineno=284, col_offset=27), lineno=284, col_offset=16)], [], lineno=283, col_offset=12)], [], lineno=281, col_offset=8), Return(Name('response', Load(), lineno=285, col_offset=15), lineno=285, col_offset=8)], [], lineno=279, col_offset=4), FunctionDef('_proxify', arguments([Name('self', Param(), lineno=287, col_offset=17), Name('obj', Param(), lineno=287, col_offset=23)], None, None, []), [If(Call(Name('isinstance', Load(), lineno=288, col_offset=11), [Name('obj', Load(), lineno=288, col_offset=22), Name('RemoteProxy', Load(), lineno=288, col_offset=27)], [], None, None, lineno=288, col_offset=11), [Return(Call(Name('RPCProxy', Load(), lineno=289, col_offset=19), [Name('self', Load(), lineno=289, col_offset=28), Attribute(Name('obj', Load(), lineno=289, col_offset=34), 'oid', Load(), lineno=289, col_offset=34)], [], None, None, lineno=289, col_offset=19), lineno=289, col_offset=12)], [], lineno=288, col_offset=8), If(Call(Name('isinstance', Load(), lineno=290, col_offset=11), [Name('obj', Load(), lineno=290, col_offset=22), Attribute(Name('types', Load(), lineno=290, col_offset=27), 'ListType', Load(), lineno=290, col_offset=27)], [], None, None, lineno=290, col_offset=11), [Return(Call(Name('map', Load(), lineno=291, col_offset=19), [Attribute(Name('self', Load(), lineno=291, col_offset=23), '_proxify', Load(), lineno=291, col_offset=23), Name('obj', Load(), lineno=291, col_offset=38)], [], None, None, lineno=291, col_offset=19), lineno=291, col_offset=12)], [], lineno=290, col_offset=8), Return(Name('obj', Load(), lineno=293, col_offset=15), lineno=293, col_offset=8)], [], lineno=287, col_offset=4), FunctionDef('_getresponse', arguments([Name('self', Param(), lineno=295, col_offset=21), Name('myseq', Param(), lineno=295, col_offset=27), Name('wait', Param(), lineno=295, col_offset=34)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=296, col_offset=8), 'debug', Load(), lineno=296, col_offset=8), [Str('_getresponse:myseq:', lineno=296, col_offset=19), Name('myseq', Load(), lineno=296, col_offset=42)], [], None, None, lineno=296, col_offset=8), lineno=296, col_offset=8), If(Compare(Call(Attribute(Name('threading', Load(), lineno=297, col_offset=11), 'currentThread', Load(), lineno=297, col_offset=11), [], [], None, None, lineno=297, col_offset=11), [Is()], [Attribute(Name('self', Load(), lineno=297, col_offset=40), 'sockthread', Load(), lineno=297, col_offset=40)], lineno=297, col_offset=11), [While(Num(1, lineno=299, col_offset=18), [Assign([Name('response', Store(), lineno=300, col_offset=16)], Call(Attribute(Name('self', Load(), lineno=300, col_offset=27), 'pollresponse', Load(), lineno=300, col_offset=27), [Name('myseq', Load(), lineno=300, col_offset=45), Name('wait', Load(), lineno=300, col_offset=52)], [], None, None, lineno=300, col_offset=27), lineno=300, col_offset=16), If(Compare(Name('response', Load(), lineno=301, col_offset=19), [IsNot()], [Name('None', Load(), lineno=301, col_offset=35)], lineno=301, col_offset=19), [Return(Name('response', Load(), lineno=302, col_offset=27), lineno=302, col_offset=20)], [], lineno=301, col_offset=16)], [], lineno=299, col_offset=12)], [Assign([Name('cvar', Store(), lineno=305, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=305, col_offset=19), 'cvars', Load(), lineno=305, col_offset=19), Index(Name('myseq', Load(), lineno=305, col_offset=30)), Load(), lineno=305, col_offset=19), lineno=305, col_offset=12), Expr(Call(Attribute(Name('cvar', Load(), lineno=306, col_offset=12), 'acquire', Load(), lineno=306, col_offset=12), [], [], None, None, lineno=306, col_offset=12), lineno=306, col_offset=12), While(Compare(Name('myseq', Load(), lineno=307, col_offset=18), [NotIn()], [Attribute(Name('self', Load(), lineno=307, col_offset=31), 'responses', Load(), lineno=307, col_offset=31)], lineno=307, col_offset=18), [Expr(Call(Attribute(Name('cvar', Load(), lineno=308, col_offset=16), 'wait', Load(), lineno=308, col_offset=16), [], [], None, None, lineno=308, col_offset=16), lineno=308, col_offset=16)], [], lineno=307, col_offset=12), Assign([Name('response', Store(), lineno=309, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=309, col_offset=23), 'responses', Load(), lineno=309, col_offset=23), Index(Name('myseq', Load(), lineno=309, col_offset=38)), Load(), lineno=309, col_offset=23), lineno=309, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=310, col_offset=12), 'debug', Load(), lineno=310, col_offset=12), [BinOp(Str('_getresponse:%s: thread woke up: response: %s', lineno=310, col_offset=23), Mod(), Tuple([Name('myseq', Load(), lineno=311, col_offset=24), Name('response', Load(), lineno=311, col_offset=31)], Load(), lineno=311, col_offset=24), lineno=310, col_offset=23)], [], None, None, lineno=310, col_offset=12), lineno=310, col_offset=12), Delete([Subscript(Attribute(Name('self', Load(), lineno=312, col_offset=16), 'responses', Load(), lineno=312, col_offset=16), Index(Name('myseq', Load(), lineno=312, col_offset=31)), Del(), lineno=312, col_offset=16)], lineno=312, col_offset=12), Delete([Subscript(Attribute(Name('self', Load(), lineno=313, col_offset=16), 'cvars', Load(), lineno=313, col_offset=16), Index(Name('myseq', Load(), lineno=313, col_offset=27)), Del(), lineno=313, col_offset=16)], lineno=313, col_offset=12), Expr(Call(Attribute(Name('cvar', Load(), lineno=314, col_offset=12), 'release', Load(), lineno=314, col_offset=12), [], [], None, None, lineno=314, col_offset=12), lineno=314, col_offset=12), Return(Name('response', Load(), lineno=315, col_offset=19), lineno=315, col_offset=12)], lineno=297, col_offset=8)], [], lineno=295, col_offset=4), FunctionDef('newseq', arguments([Name('self', Param(), lineno=317, col_offset=15)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=318, col_offset=8), 'nextseq', Store(), lineno=318, col_offset=8), Name('seq', Store(), lineno=318, col_offset=23)], BinOp(Attribute(Name('self', Load(), lineno=318, col_offset=29), 'nextseq', Load(), lineno=318, col_offset=29), Add(), Num(2, lineno=318, col_offset=44), lineno=318, col_offset=29), lineno=318, col_offset=8), Return(Name('seq', Load(), lineno=319, col_offset=15), lineno=319, col_offset=8)], [], lineno=317, col_offset=4), FunctionDef('putmessage', arguments([Name('self', Param(), lineno=321, col_offset=19), Name('message', Param(), lineno=321, col_offset=25)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=322, col_offset=8), 'debug', Load(), lineno=322, col_offset=8), [BinOp(Str('putmessage:%d:', lineno=322, col_offset=19), Mod(), Subscript(Name('message', Load(), lineno=322, col_offset=38), Index(Num(0, lineno=322, col_offset=46)), Load(), lineno=322, col_offset=38), lineno=322, col_offset=19)], [], None, None, lineno=322, col_offset=8), lineno=322, col_offset=8), TryExcept([Assign([Name('s', Store(), lineno=324, col_offset=12)], Call(Attribute(Name('pickle', Load(), lineno=324, col_offset=16), 'dumps', Load(), lineno=324, col_offset=16), [Name('message', Load(), lineno=324, col_offset=29)], [], None, None, lineno=324, col_offset=16), lineno=324, col_offset=12)], [ExceptHandler(Attribute(Name('pickle', Load(), lineno=325, col_offset=15), 'PicklingError', Load(), lineno=325, col_offset=15), None, [Print(Attribute(Name('sys', Load(), lineno=326, col_offset=20), '__stderr__', Load(), lineno=326, col_offset=20), [Str('Cannot pickle:', lineno=326, col_offset=36), Call(Name('repr', Load(), lineno=326, col_offset=54), [Name('message', Load(), lineno=326, col_offset=59)], [], None, None, lineno=326, col_offset=54)], True, lineno=326, col_offset=12), Raise(None, None, None, lineno=327, col_offset=12)], lineno=325, col_offset=8)], [], lineno=323, col_offset=8), Assign([Name('s', Store(), lineno=328, col_offset=8)], BinOp(Call(Attribute(Name('struct', Load(), lineno=328, col_offset=12), 'pack', Load(), lineno=328, col_offset=12), [Str('<i', lineno=328, col_offset=24), Call(Name('len', Load(), lineno=328, col_offset=30), [Name('s', Load(), lineno=328, col_offset=34)], [], None, None, lineno=328, col_offset=30)], [], None, None, lineno=328, col_offset=12), Add(), Name('s', Load(), lineno=328, col_offset=40), lineno=328, col_offset=12), lineno=328, col_offset=8), While(Compare(Call(Name('len', Load(), lineno=329, col_offset=14), [Name('s', Load(), lineno=329, col_offset=18)], [], None, None, lineno=329, col_offset=14), [Gt()], [Num(0, lineno=329, col_offset=23)], lineno=329, col_offset=14), [TryExcept([Assign([Tuple([Name('r', Store(), lineno=331, col_offset=16), Name('w', Store(), lineno=331, col_offset=19), Name('x', Store(), lineno=331, col_offset=22)], Store(), lineno=331, col_offset=16)], Call(Attribute(Name('select', Load(), lineno=331, col_offset=26), 'select', Load(), lineno=331, col_offset=26), [List([], Load(), lineno=331, col_offset=40), List([Attribute(Name('self', Load(), lineno=331, col_offset=45), 'sock', Load(), lineno=331, col_offset=45)], Load(), lineno=331, col_offset=44), List([], Load(), lineno=331, col_offset=57)], [], None, None, lineno=331, col_offset=26), lineno=331, col_offset=16), Assign([Name('n', Store(), lineno=332, col_offset=16)], Call(Attribute(Attribute(Name('self', Load(), lineno=332, col_offset=20), 'sock', Load(), lineno=332, col_offset=20), 'send', Load(), lineno=332, col_offset=20), [Subscript(Name('s', Load(), lineno=332, col_offset=35), Slice(None, Name('BUFSIZE', Load(), lineno=332, col_offset=38), None), Load(), lineno=332, col_offset=35)], [], None, None, lineno=332, col_offset=20), lineno=332, col_offset=16)], [ExceptHandler(Tuple([Name('AttributeError', Load(), lineno=333, col_offset=20), Name('TypeError', Load(), lineno=333, col_offset=36)], Load(), lineno=333, col_offset=20), None, [Raise(Name('IOError', Load(), lineno=334, col_offset=22), Str('socket no longer exists', lineno=334, col_offset=31), None, lineno=334, col_offset=16)], lineno=333, col_offset=12), ExceptHandler(Attribute(Name('socket', Load(), lineno=335, col_offset=19), 'error', Load(), lineno=335, col_offset=19), None, [Raise(None, None, None, lineno=336, col_offset=16)], lineno=335, col_offset=12)], [Assign([Name('s', Store(), lineno=338, col_offset=16)], Subscript(Name('s', Load(), lineno=338, col_offset=20), Slice(Name('n', Load(), lineno=338, col_offset=22), None, None), Load(), lineno=338, col_offset=20), lineno=338, col_offset=16)], lineno=330, col_offset=12)], [], lineno=329, col_offset=8)], [], lineno=321, col_offset=4), Assign([Name('buffer', Store(), lineno=340, col_offset=4)], Str('', lineno=340, col_offset=13), lineno=340, col_offset=4), Assign([Name('bufneed', Store(), lineno=341, col_offset=4)], Num(4, lineno=341, col_offset=14), lineno=341, col_offset=4), Assign([Name('bufstate', Store(), lineno=342, col_offset=4)], Num(0, lineno=342, col_offset=15), lineno=342, col_offset=4), FunctionDef('pollpacket', arguments([Name('self', Param(), lineno=344, col_offset=19), Name('wait', Param(), lineno=344, col_offset=25)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=345, col_offset=8), '_stage0', Load(), lineno=345, col_offset=8), [], [], None, None, lineno=345, col_offset=8), lineno=345, col_offset=8), If(Compare(Call(Name('len', Load(), lineno=346, col_offset=11), [Attribute(Name('self', Load(), lineno=346, col_offset=15), 'buffer', Load(), lineno=346, col_offset=15)], [], None, None, lineno=346, col_offset=11), [Lt()], [Attribute(Name('self', Load(), lineno=346, col_offset=30), 'bufneed', Load(), lineno=346, col_offset=30)], lineno=346, col_offset=11), [Assign([Tuple([Name('r', Store(), lineno=347, col_offset=12), Name('w', Store(), lineno=347, col_offset=15), Name('x', Store(), lineno=347, col_offset=18)], Store(), lineno=347, col_offset=12)], Call(Attribute(Name('select', Load(), lineno=347, col_offset=22), 'select', Load(), lineno=347, col_offset=22), [List([Call(Attribute(Attribute(Name('self', Load(), lineno=347, col_offset=37), 'sock', Load(), lineno=347, col_offset=37), 'fileno', Load(), lineno=347, col_offset=37), [], [], None, None, lineno=347, col_offset=37)], Load(), lineno=347, col_offset=36), List([], Load(), lineno=347, col_offset=58), List([], Load(), lineno=347, col_offset=62), Name('wait', Load(), lineno=347, col_offset=66)], [], None, None, lineno=347, col_offset=22), lineno=347, col_offset=12), If(Compare(Call(Name('len', Load(), lineno=348, col_offset=15), [Name('r', Load(), lineno=348, col_offset=19)], [], None, None, lineno=348, col_offset=15), [Eq()], [Num(0, lineno=348, col_offset=25)], lineno=348, col_offset=15), [Return(Name('None', Load(), lineno=349, col_offset=23), lineno=349, col_offset=16)], [], lineno=348, col_offset=12), TryExcept([Assign([Name('s', Store(), lineno=351, col_offset=16)], Call(Attribute(Attribute(Name('self', Load(), lineno=351, col_offset=20), 'sock', Load(), lineno=351, col_offset=20), 'recv', Load(), lineno=351, col_offset=20), [Name('BUFSIZE', Load(), lineno=351, col_offset=35)], [], None, None, lineno=351, col_offset=20), lineno=351, col_offset=16)], [ExceptHandler(Attribute(Name('socket', Load(), lineno=352, col_offset=19), 'error', Load(), lineno=352, col_offset=19), None, [Raise(Name('EOFError', Load(), lineno=353, col_offset=22), None, None, lineno=353, col_offset=16)], lineno=352, col_offset=12)], [], lineno=350, col_offset=12), If(Compare(Call(Name('len', Load(), lineno=354, col_offset=15), [Name('s', Load(), lineno=354, col_offset=19)], [], None, None, lineno=354, col_offset=15), [Eq()], [Num(0, lineno=354, col_offset=25)], lineno=354, col_offset=15), [Raise(Name('EOFError', Load(), lineno=355, col_offset=22), None, None, lineno=355, col_offset=16)], [], lineno=354, col_offset=12), AugAssign(Attribute(Name('self', Load(), lineno=356, col_offset=12), 'buffer', Store(), lineno=356, col_offset=12), Add(), Name('s', Load(), lineno=356, col_offset=27), lineno=356, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=357, col_offset=12), '_stage0', Load(), lineno=357, col_offset=12), [], [], None, None, lineno=357, col_offset=12), lineno=357, col_offset=12)], [], lineno=346, col_offset=8), Return(Call(Attribute(Name('self', Load(), lineno=358, col_offset=15), '_stage1', Load(), lineno=358, col_offset=15), [], [], None, None, lineno=358, col_offset=15), lineno=358, col_offset=8)], [], lineno=344, col_offset=4), FunctionDef('_stage0', arguments([Name('self', Param(), lineno=360, col_offset=16)], None, None, []), [If(BoolOp(And(), [Compare(Attribute(Name('self', Load(), lineno=361, col_offset=11), 'bufstate', Load(), lineno=361, col_offset=11), [Eq()], [Num(0, lineno=361, col_offset=28)], lineno=361, col_offset=11), Compare(Call(Name('len', Load(), lineno=361, col_offset=34), [Attribute(Name('self', Load(), lineno=361, col_offset=38), 'buffer', Load(), lineno=361, col_offset=38)], [], None, None, lineno=361, col_offset=34), [GtE()], [Num(4, lineno=361, col_offset=54)], lineno=361, col_offset=34)], lineno=361, col_offset=11), [Assign([Name('s', Store(), lineno=362, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=362, col_offset=16), 'buffer', Load(), lineno=362, col_offset=16), Slice(None, Num(4, lineno=362, col_offset=29), None), Load(), lineno=362, col_offset=16), lineno=362, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=363, col_offset=12), 'buffer', Store(), lineno=363, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=363, col_offset=26), 'buffer', Load(), lineno=363, col_offset=26), Slice(Num(4, lineno=363, col_offset=38), None, None), Load(), lineno=363, col_offset=26), lineno=363, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=364, col_offset=12), 'bufneed', Store(), lineno=364, col_offset=12)], Subscript(Call(Attribute(Name('struct', Load(), lineno=364, col_offset=27), 'unpack', Load(), lineno=364, col_offset=27), [Str('<i', lineno=364, col_offset=41), Name('s', Load(), lineno=364, col_offset=47)], [], None, None, lineno=364, col_offset=27), Index(Num(0, lineno=364, col_offset=50)), Load(), lineno=364, col_offset=27), lineno=364, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=365, col_offset=12), 'bufstate', Store(), lineno=365, col_offset=12)], Num(1, lineno=365, col_offset=28), lineno=365, col_offset=12)], [], lineno=361, col_offset=8)], [], lineno=360, col_offset=4), FunctionDef('_stage1', arguments([Name('self', Param(), lineno=367, col_offset=16)], None, None, []), [If(BoolOp(And(), [Compare(Attribute(Name('self', Load(), lineno=368, col_offset=11), 'bufstate', Load(), lineno=368, col_offset=11), [Eq()], [Num(1, lineno=368, col_offset=28)], lineno=368, col_offset=11), Compare(Call(Name('len', Load(), lineno=368, col_offset=34), [Attribute(Name('self', Load(), lineno=368, col_offset=38), 'buffer', Load(), lineno=368, col_offset=38)], [], None, None, lineno=368, col_offset=34), [GtE()], [Attribute(Name('self', Load(), lineno=368, col_offset=54), 'bufneed', Load(), lineno=368, col_offset=54)], lineno=368, col_offset=34)], lineno=368, col_offset=11), [Assign([Name('packet', Store(), lineno=369, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=369, col_offset=21), 'buffer', Load(), lineno=369, col_offset=21), Slice(None, Attribute(Name('self', Load(), lineno=369, col_offset=34), 'bufneed', Load(), lineno=369, col_offset=34), None), Load(), lineno=369, col_offset=21), lineno=369, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=370, col_offset=12), 'buffer', Store(), lineno=370, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=370, col_offset=26), 'buffer', Load(), lineno=370, col_offset=26), Slice(Attribute(Name('self', Load(), lineno=370, col_offset=38), 'bufneed', Load(), lineno=370, col_offset=38), None, None), Load(), lineno=370, col_offset=26), lineno=370, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=371, col_offset=12), 'bufneed', Store(), lineno=371, col_offset=12)], Num(4, lineno=371, col_offset=27), lineno=371, col_offset=12), Assign([Attribute(Name('self', Load(), lineno=372, col_offset=12), 'bufstate', Store(), lineno=372, col_offset=12)], Num(0, lineno=372, col_offset=28), lineno=372, col_offset=12), Return(Name('packet', Load(), lineno=373, col_offset=19), lineno=373, col_offset=12)], [], lineno=368, col_offset=8)], [], lineno=367, col_offset=4), FunctionDef('pollmessage', arguments([Name('self', Param(), lineno=375, col_offset=20), Name('wait', Param(), lineno=375, col_offset=26)], None, None, []), [Assign([Name('packet', Store(), lineno=376, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=376, col_offset=17), 'pollpacket', Load(), lineno=376, col_offset=17), [Name('wait', Load(), lineno=376, col_offset=33)], [], None, None, lineno=376, col_offset=17), lineno=376, col_offset=8), If(Compare(Name('packet', Load(), lineno=377, col_offset=11), [Is()], [Name('None', Load(), lineno=377, col_offset=21)], lineno=377, col_offset=11), [Return(Name('None', Load(), lineno=378, col_offset=19), lineno=378, col_offset=12)], [], lineno=377, col_offset=8), TryExcept([Assign([Name('message', Store(), lineno=380, col_offset=12)], Call(Attribute(Name('pickle', Load(), lineno=380, col_offset=22), 'loads', Load(), lineno=380, col_offset=22), [Name('packet', Load(), lineno=380, col_offset=35)], [], None, None, lineno=380, col_offset=22), lineno=380, col_offset=12)], [ExceptHandler(Attribute(Name('pickle', Load(), lineno=381, col_offset=15), 'UnpicklingError', Load(), lineno=381, col_offset=15), None, [Print(Attribute(Name('sys', Load(), lineno=382, col_offset=20), '__stderr__', Load(), lineno=382, col_offset=20), [Str('-----------------------', lineno=382, col_offset=36)], True, lineno=382, col_offset=12), Print(Attribute(Name('sys', Load(), lineno=383, col_offset=20), '__stderr__', Load(), lineno=383, col_offset=20), [Str('cannot unpickle packet:', lineno=383, col_offset=36), Call(Name('repr', Load(), lineno=383, col_offset=63), [Name('packet', Load(), lineno=383, col_offset=68)], [], None, None, lineno=383, col_offset=63)], True, lineno=383, col_offset=12), Expr(Call(Attribute(Name('traceback', Load(), lineno=384, col_offset=12), 'print_stack', Load(), lineno=384, col_offset=12), [], [keyword('file', Attribute(Name('sys', Load(), lineno=384, col_offset=39), '__stderr__', Load(), lineno=384, col_offset=39))], None, None, lineno=384, col_offset=12), lineno=384, col_offset=12), Print(Attribute(Name('sys', Load(), lineno=385, col_offset=20), '__stderr__', Load(), lineno=385, col_offset=20), [Str('-----------------------', lineno=385, col_offset=36)], True, lineno=385, col_offset=12), Raise(None, None, None, lineno=386, col_offset=12)], lineno=381, col_offset=8)], [], lineno=379, col_offset=8), Return(Name('message', Load(), lineno=387, col_offset=15), lineno=387, col_offset=8)], [], lineno=375, col_offset=4), FunctionDef('pollresponse', arguments([Name('self', Param(), lineno=389, col_offset=21), Name('myseq', Param(), lineno=389, col_offset=27), Name('wait', Param(), lineno=389, col_offset=34)], None, None, []), [Expr(Str("Handle messages received on the socket.\n\n        Some messages received may be asynchronous 'call' or 'queue' requests,\n        and some may be responses for other threads.\n\n        'call' requests are passed to self.localcall() with the expectation of\n        immediate execution, during which time the socket is not serviced.\n\n        'queue' requests are used for tasks (which may block or hang) to be\n        processed in a different thread.  These requests are fed into\n        request_queue by self.localcall().  Responses to queued requests are\n        taken from response_queue and sent across the link with the associated\n        sequence numbers.  Messages in the queues are (sequence_number,\n        request/response) tuples and code using this module removing messages\n        from the request_queue is responsible for returning the correct\n        sequence number in the response_queue.\n\n        pollresponse() will loop until a response message with the myseq\n        sequence number is received, and will save other responses in\n        self.responses and notify the owning thread.\n\n        ", lineno=411, col_offset=-1), lineno=411, col_offset=-1), While(Num(1, lineno=412, col_offset=14), [TryExcept([Assign([Name('qmsg', Store(), lineno=415, col_offset=16)], Call(Attribute(Name('response_queue', Load(), lineno=415, col_offset=23), 'get', Load(), lineno=415, col_offset=23), [Num(0, lineno=415, col_offset=42)], [], None, None, lineno=415, col_offset=23), lineno=415, col_offset=16)], [ExceptHandler(Attribute(Name('Queue', Load(), lineno=416, col_offset=19), 'Empty', Load(), lineno=416, col_offset=19), None, [Pass( lineno=417, col_offset=16)], lineno=416, col_offset=12)], [Assign([Tuple([Name('seq', Store(), lineno=419, col_offset=16), Name('response', Store(), lineno=419, col_offset=21)], Store(), lineno=419, col_offset=16)], Name('qmsg', Load(), lineno=419, col_offset=32), lineno=419, col_offset=16), Assign([Name('message', Store(), lineno=420, col_offset=16)], Tuple([Name('seq', Load(), lineno=420, col_offset=27), Tuple([Str('OK', lineno=420, col_offset=33), Name('response', Load(), lineno=420, col_offset=39)], Load(), lineno=420, col_offset=33)], Load(), lineno=420, col_offset=27), lineno=420, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=421, col_offset=16), 'putmessage', Load(), lineno=421, col_offset=16), [Name('message', Load(), lineno=421, col_offset=32)], [], None, None, lineno=421, col_offset=16), lineno=421, col_offset=16)], lineno=414, col_offset=12), TryExcept([Assign([Name('message', Store(), lineno=424, col_offset=16)], Call(Attribute(Name('self', Load(), lineno=424, col_offset=26), 'pollmessage', Load(), lineno=424, col_offset=26), [Name('wait', Load(), lineno=424, col_offset=43)], [], None, None, lineno=424, col_offset=26), lineno=424, col_offset=16), If(Compare(Name('message', Load(), lineno=425, col_offset=19), [Is()], [Name('None', Load(), lineno=425, col_offset=30)], lineno=425, col_offset=19), [Return(Name('None', Load(), lineno=426, col_offset=27), lineno=426, col_offset=20)], [], lineno=425, col_offset=16)], [ExceptHandler(Name('EOFError', Load(), lineno=427, col_offset=19), None, [Expr(Call(Attribute(Name('self', Load(), lineno=428, col_offset=16), 'handle_EOF', Load(), lineno=428, col_offset=16), [], [], None, None, lineno=428, col_offset=16), lineno=428, col_offset=16), Return(Name('None', Load(), lineno=429, col_offset=23), lineno=429, col_offset=16)], lineno=427, col_offset=12), ExceptHandler(Name('AttributeError', Load(), lineno=430, col_offset=19), None, [Return(Name('None', Load(), lineno=431, col_offset=23), lineno=431, col_offset=16)], lineno=430, col_offset=12)], [], lineno=423, col_offset=12), Assign([Tuple([Name('seq', Store(), lineno=432, col_offset=12), Name('resq', Store(), lineno=432, col_offset=17)], Store(), lineno=432, col_offset=12)], Name('message', Load(), lineno=432, col_offset=24), lineno=432, col_offset=12), Assign([Name('how', Store(), lineno=433, col_offset=12)], Subscript(Name('resq', Load(), lineno=433, col_offset=18), Index(Num(0, lineno=433, col_offset=23)), Load(), lineno=433, col_offset=18), lineno=433, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=434, col_offset=12), 'debug', Load(), lineno=434, col_offset=12), [BinOp(Str('pollresponse:%d:myseq:%s', lineno=434, col_offset=23), Mod(), Tuple([Name('seq', Load(), lineno=434, col_offset=53), Name('myseq', Load(), lineno=434, col_offset=58)], Load(), lineno=434, col_offset=53), lineno=434, col_offset=23)], [], None, None, lineno=434, col_offset=12), lineno=434, col_offset=12), If(Compare(Name('how', Load(), lineno=436, col_offset=15), [In()], [Tuple([Str('CALL', lineno=436, col_offset=23), Str('QUEUE', lineno=436, col_offset=31)], Load(), lineno=436, col_offset=23)], lineno=436, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=437, col_offset=16), 'debug', Load(), lineno=437, col_offset=16), [BinOp(Str('pollresponse:%d:localcall:call:', lineno=437, col_offset=27), Mod(), Name('seq', Load(), lineno=437, col_offset=63), lineno=437, col_offset=27)], [], None, None, lineno=437, col_offset=16), lineno=437, col_offset=16), Assign([Name('response', Store(), lineno=438, col_offset=16)], Call(Attribute(Name('self', Load(), lineno=438, col_offset=27), 'localcall', Load(), lineno=438, col_offset=27), [Name('seq', Load(), lineno=438, col_offset=42), Name('resq', Load(), lineno=438, col_offset=47)], [], None, None, lineno=438, col_offset=27), lineno=438, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=439, col_offset=16), 'debug', Load(), lineno=439, col_offset=16), [BinOp(Str('pollresponse:%d:localcall:response:%s', lineno=439, col_offset=27), Mod(), Tuple([Name('seq', Load(), lineno=440, col_offset=30), Name('response', Load(), lineno=440, col_offset=35)], Load(), lineno=440, col_offset=30), lineno=439, col_offset=27)], [], None, None, lineno=439, col_offset=16), lineno=439, col_offset=16), If(Compare(Name('how', Load(), lineno=441, col_offset=19), [Eq()], [Str('CALL', lineno=441, col_offset=26)], lineno=441, col_offset=19), [Expr(Call(Attribute(Name('self', Load(), lineno=442, col_offset=20), 'putmessage', Load(), lineno=442, col_offset=20), [Tuple([Name('seq', Load(), lineno=442, col_offset=37), Name('response', Load(), lineno=442, col_offset=42)], Load(), lineno=442, col_offset=37)], [], None, None, lineno=442, col_offset=20), lineno=442, col_offset=20)], [If(Compare(Name('how', Load(), lineno=443, col_offset=21), [Eq()], [Str('QUEUE', lineno=443, col_offset=28)], lineno=443, col_offset=21), [Pass( lineno=445, col_offset=20)], [], lineno=443, col_offset=21)], lineno=441, col_offset=16), Continue( lineno=446, col_offset=16)], [If(Compare(Name('seq', Load(), lineno=448, col_offset=17), [Eq()], [Name('myseq', Load(), lineno=448, col_offset=24)], lineno=448, col_offset=17), [Return(Name('resq', Load(), lineno=449, col_offset=23), lineno=449, col_offset=16)], [Assign([Name('cv', Store(), lineno=452, col_offset=16)], Call(Attribute(Attribute(Name('self', Load(), lineno=452, col_offset=21), 'cvars', Load(), lineno=452, col_offset=21), 'get', Load(), lineno=452, col_offset=21), [Name('seq', Load(), lineno=452, col_offset=36), Name('None', Load(), lineno=452, col_offset=41)], [], None, None, lineno=452, col_offset=21), lineno=452, col_offset=16), If(Compare(Name('cv', Load(), lineno=455, col_offset=19), [IsNot()], [Name('None', Load(), lineno=455, col_offset=29)], lineno=455, col_offset=19), [Expr(Call(Attribute(Name('cv', Load(), lineno=456, col_offset=20), 'acquire', Load(), lineno=456, col_offset=20), [], [], None, None, lineno=456, col_offset=20), lineno=456, col_offset=20), Assign([Subscript(Attribute(Name('self', Load(), lineno=457, col_offset=20), 'responses', Load(), lineno=457, col_offset=20), Index(Name('seq', Load(), lineno=457, col_offset=35)), Store(), lineno=457, col_offset=20)], Name('resq', Load(), lineno=457, col_offset=42), lineno=457, col_offset=20), Expr(Call(Attribute(Name('cv', Load(), lineno=458, col_offset=20), 'notify', Load(), lineno=458, col_offset=20), [], [], None, None, lineno=458, col_offset=20), lineno=458, col_offset=20), Expr(Call(Attribute(Name('cv', Load(), lineno=459, col_offset=20), 'release', Load(), lineno=459, col_offset=20), [], [], None, None, lineno=459, col_offset=20), lineno=459, col_offset=20)], [], lineno=455, col_offset=16), Continue( lineno=460, col_offset=16)], lineno=448, col_offset=17)], lineno=436, col_offset=12)], [], lineno=412, col_offset=8)], [], lineno=389, col_offset=4), FunctionDef('handle_EOF', arguments([Name('self', Param(), lineno=462, col_offset=19)], None, None, []), [Expr(Str('action taken upon link being closed by peer', lineno=463, col_offset=8), lineno=463, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=464, col_offset=8), 'EOFhook', Load(), lineno=464, col_offset=8), [], [], None, None, lineno=464, col_offset=8), lineno=464, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=465, col_offset=8), 'debug', Load(), lineno=465, col_offset=8), [Str('handle_EOF', lineno=465, col_offset=19)], [], None, None, lineno=465, col_offset=8), lineno=465, col_offset=8), For(Name('key', Store(), lineno=466, col_offset=12), Attribute(Name('self', Load(), lineno=466, col_offset=19), 'cvars', Load(), lineno=466, col_offset=19), [Assign([Name('cv', Store(), lineno=467, col_offset=12)], Subscript(Attribute(Name('self', Load(), lineno=467, col_offset=17), 'cvars', Load(), lineno=467, col_offset=17), Index(Name('key', Load(), lineno=467, col_offset=28)), Load(), lineno=467, col_offset=17), lineno=467, col_offset=12), Expr(Call(Attribute(Name('cv', Load(), lineno=468, col_offset=12), 'acquire', Load(), lineno=468, col_offset=12), [], [], None, None, lineno=468, col_offset=12), lineno=468, col_offset=12), Assign([Subscript(Attribute(Name('self', Load(), lineno=469, col_offset=12), 'responses', Load(), lineno=469, col_offset=12), Index(Name('key', Load(), lineno=469, col_offset=27)), Store(), lineno=469, col_offset=12)], Tuple([Str('EOF', lineno=469, col_offset=35), Name('None', Load(), lineno=469, col_offset=42)], Load(), lineno=469, col_offset=35), lineno=469, col_offset=12), Expr(Call(Attribute(Name('cv', Load(), lineno=470, col_offset=12), 'notify', Load(), lineno=470, col_offset=12), [], [], None, None, lineno=470, col_offset=12), lineno=470, col_offset=12), Expr(Call(Attribute(Name('cv', Load(), lineno=471, col_offset=12), 'release', Load(), lineno=471, col_offset=12), [], [], None, None, lineno=471, col_offset=12), lineno=471, col_offset=12)], [], lineno=466, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=473, col_offset=8), 'exithook', Load(), lineno=473, col_offset=8), [], [], None, None, lineno=473, col_offset=8), lineno=473, col_offset=8)], [], lineno=462, col_offset=4), FunctionDef('EOFhook', arguments([Name('self', Param(), lineno=475, col_offset=16)], None, None, []), [Expr(Str('Classes using rpc client/server can override to augment EOF action', lineno=476, col_offset=8), lineno=476, col_offset=8), Pass( lineno=477, col_offset=8)], [], lineno=475, col_offset=4)], [], lineno=124, col_offset=0), ClassDef('RemoteObject', [Name('object', Load(), lineno=481, col_offset=19)], [Pass( lineno=483, col_offset=4)], [], lineno=481, col_offset=0), FunctionDef('remoteref', arguments([Name('obj', Param(), lineno=485, col_offset=14)], None, None, []), [Assign([Name('oid', Store(), lineno=486, col_offset=4)], Call(Name('id', Load(), lineno=486, col_offset=10), [Name('obj', Load(), lineno=486, col_offset=13)], [], None, None, lineno=486, col_offset=10), lineno=486, col_offset=4), Assign([Subscript(Name('objecttable', Load(), lineno=487, col_offset=4), Index(Name('oid', Load(), lineno=487, col_offset=16)), Store(), lineno=487, col_offset=4)], Name('obj', Load(), lineno=487, col_offset=23), lineno=487, col_offset=4), Return(Call(Name('RemoteProxy', Load(), lineno=488, col_offset=11), [Name('oid', Load(), lineno=488, col_offset=23)], [], None, None, lineno=488, col_offset=11), lineno=488, col_offset=4)], [], lineno=485, col_offset=0), ClassDef('RemoteProxy', [Name('object', Load(), lineno=490, col_offset=18)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=492, col_offset=17), Name('oid', Param(), lineno=492, col_offset=23)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=493, col_offset=8), 'oid', Store(), lineno=493, col_offset=8)], Name('oid', Load(), lineno=493, col_offset=19), lineno=493, col_offset=8)], [], lineno=492, col_offset=4)], [], lineno=490, col_offset=0), ClassDef('RPCHandler', [Attribute(Name('SocketServer', Load(), lineno=495, col_offset=17), 'BaseRequestHandler', Load(), lineno=495, col_offset=17), Name('SocketIO', Load(), lineno=495, col_offset=50)], [Assign([Name('debugging', Store(), lineno=497, col_offset=4)], Name('False', Load(), lineno=497, col_offset=16), lineno=497, col_offset=4), Assign([Name('location', Store(), lineno=498, col_offset=4)], Str('#S', lineno=498, col_offset=15), lineno=498, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=500, col_offset=17), Name('sock', Param(), lineno=500, col_offset=23), Name('addr', Param(), lineno=500, col_offset=29), Name('svr', Param(), lineno=500, col_offset=35)], None, None, []), [Assign([Attribute(Name('svr', Load(), lineno=501, col_offset=8), 'current_handler', Store(), lineno=501, col_offset=8)], Name('self', Load(), lineno=501, col_offset=30), lineno=501, col_offset=8), Expr(Call(Attribute(Name('SocketIO', Load(), lineno=502, col_offset=8), '__init__', Load(), lineno=502, col_offset=8), [Name('self', Load(), lineno=502, col_offset=26), Name('sock', Load(), lineno=502, col_offset=32)], [], None, None, lineno=502, col_offset=8), lineno=502, col_offset=8), Expr(Call(Attribute(Attribute(Name('SocketServer', Load(), lineno=503, col_offset=8), 'BaseRequestHandler', Load(), lineno=503, col_offset=8), '__init__', Load(), lineno=503, col_offset=8), [Name('self', Load(), lineno=503, col_offset=49), Name('sock', Load(), lineno=503, col_offset=55), Name('addr', Load(), lineno=503, col_offset=61), Name('svr', Load(), lineno=503, col_offset=67)], [], None, None, lineno=503, col_offset=8), lineno=503, col_offset=8)], [], lineno=500, col_offset=4), FunctionDef('handle', arguments([Name('self', Param(), lineno=505, col_offset=15)], None, None, []), [Expr(Str('handle() method required by SocketServer', lineno=506, col_offset=8), lineno=506, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=507, col_offset=8), 'mainloop', Load(), lineno=507, col_offset=8), [], [], None, None, lineno=507, col_offset=8), lineno=507, col_offset=8)], [], lineno=505, col_offset=4), FunctionDef('get_remote_proxy', arguments([Name('self', Param(), lineno=509, col_offset=25), Name('oid', Param(), lineno=509, col_offset=31)], None, None, []), [Return(Call(Name('RPCProxy', Load(), lineno=510, col_offset=15), [Name('self', Load(), lineno=510, col_offset=24), Name('oid', Load(), lineno=510, col_offset=30)], [], None, None, lineno=510, col_offset=15), lineno=510, col_offset=8)], [], lineno=509, col_offset=4)], [], lineno=495, col_offset=0), ClassDef('RPCClient', [Name('SocketIO', Load(), lineno=512, col_offset=16)], [Assign([Name('debugging', Store(), lineno=514, col_offset=4)], Name('False', Load(), lineno=514, col_offset=16), lineno=514, col_offset=4), Assign([Name('location', Store(), lineno=515, col_offset=4)], Str('#C', lineno=515, col_offset=15), lineno=515, col_offset=4), Assign([Name('nextseq', Store(), lineno=517, col_offset=4)], Num(1, lineno=517, col_offset=14), lineno=517, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=519, col_offset=17), Name('address', Param(), lineno=519, col_offset=23), Name('family', Param(), lineno=519, col_offset=32), Name('type', Param(), lineno=519, col_offset=55)], None, None, [Attribute(Name('socket', Load(), lineno=519, col_offset=39), 'AF_INET', Load(), lineno=519, col_offset=39), Attribute(Name('socket', Load(), lineno=519, col_offset=60), 'SOCK_STREAM', Load(), lineno=519, col_offset=60)]), [Assign([Attribute(Name('self', Load(), lineno=520, col_offset=8), 'listening_sock', Store(), lineno=520, col_offset=8)], Call(Attribute(Name('socket', Load(), lineno=520, col_offset=30), 'socket', Load(), lineno=520, col_offset=30), [Name('family', Load(), lineno=520, col_offset=44), Name('type', Load(), lineno=520, col_offset=52)], [], None, None, lineno=520, col_offset=30), lineno=520, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=521, col_offset=8), 'listening_sock', Load(), lineno=521, col_offset=8), 'bind', Load(), lineno=521, col_offset=8), [Name('address', Load(), lineno=521, col_offset=33)], [], None, None, lineno=521, col_offset=8), lineno=521, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=522, col_offset=8), 'listening_sock', Load(), lineno=522, col_offset=8), 'listen', Load(), lineno=522, col_offset=8), [Num(1, lineno=522, col_offset=35)], [], None, None, lineno=522, col_offset=8), lineno=522, col_offset=8)], [], lineno=519, col_offset=4), FunctionDef('accept', arguments([Name('self', Param(), lineno=524, col_offset=15)], None, None, []), [Assign([Tuple([Name('working_sock', Store(), lineno=525, col_offset=8), Name('address', Store(), lineno=525, col_offset=22)], Store(), lineno=525, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=525, col_offset=32), 'listening_sock', Load(), lineno=525, col_offset=32), 'accept', Load(), lineno=525, col_offset=32), [], [], None, None, lineno=525, col_offset=32), lineno=525, col_offset=8), If(Attribute(Name('self', Load(), lineno=526, col_offset=11), 'debugging', Load(), lineno=526, col_offset=11), [Print(Attribute(Name('sys', Load(), lineno=527, col_offset=19), '__stderr__', Load(), lineno=527, col_offset=19), [Str('****** Connection request from ', lineno=527, col_offset=35), Name('address', Load(), lineno=527, col_offset=70)], True, lineno=527, col_offset=12)], [], lineno=526, col_offset=8), If(Compare(Subscript(Name('address', Load(), lineno=528, col_offset=11), Index(Num(0, lineno=528, col_offset=19)), Load(), lineno=528, col_offset=11), [Eq()], [Name('LOCALHOST', Load(), lineno=528, col_offset=25)], lineno=528, col_offset=11), [Expr(Call(Attribute(Name('SocketIO', Load(), lineno=529, col_offset=12), '__init__', Load(), lineno=529, col_offset=12), [Name('self', Load(), lineno=529, col_offset=30), Name('working_sock', Load(), lineno=529, col_offset=36)], [], None, None, lineno=529, col_offset=12), lineno=529, col_offset=12)], [Print(Attribute(Name('sys', Load(), lineno=531, col_offset=19), '__stderr__', Load(), lineno=531, col_offset=19), [Str('** Invalid host: ', lineno=531, col_offset=35), Name('address', Load(), lineno=531, col_offset=56)], True, lineno=531, col_offset=12), Raise(Attribute(Name('socket', Load(), lineno=532, col_offset=18), 'error', Load(), lineno=532, col_offset=18), None, None, lineno=532, col_offset=12)], lineno=528, col_offset=8)], [], lineno=524, col_offset=4), FunctionDef('get_remote_proxy', arguments([Name('self', Param(), lineno=534, col_offset=25), Name('oid', Param(), lineno=534, col_offset=31)], None, None, []), [Return(Call(Name('RPCProxy', Load(), lineno=535, col_offset=15), [Name('self', Load(), lineno=535, col_offset=24), Name('oid', Load(), lineno=535, col_offset=30)], [], None, None, lineno=535, col_offset=15), lineno=535, col_offset=8)], [], lineno=534, col_offset=4)], [], lineno=512, col_offset=0), ClassDef('RPCProxy', [Name('object', Load(), lineno=537, col_offset=15)], [Assign([Name('__methods', Store(), lineno=539, col_offset=4)], Name('None', Load(), lineno=539, col_offset=16), lineno=539, col_offset=4), Assign([Name('__attributes', Store(), lineno=540, col_offset=4)], Name('None', Load(), lineno=540, col_offset=19), lineno=540, col_offset=4), FunctionDef('__init__', arguments([Name('self', Param(), lineno=542, col_offset=17), Name('sockio', Param(), lineno=542, col_offset=23), Name('oid', Param(), lineno=542, col_offset=31)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=543, col_offset=8), 'sockio', Store(), lineno=543, col_offset=8)], Name('sockio', Load(), lineno=543, col_offset=22), lineno=543, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=544, col_offset=8), 'oid', Store(), lineno=544, col_offset=8)], Name('oid', Load(), lineno=544, col_offset=19), lineno=544, col_offset=8)], [], lineno=542, col_offset=4), FunctionDef('__getattr__', arguments([Name('self', Param(), lineno=546, col_offset=20), Name('name', Param(), lineno=546, col_offset=26)], None, None, []), [If(Compare(Attribute(Name('self', Load(), lineno=547, col_offset=11), '__methods', Load(), lineno=547, col_offset=11), [Is()], [Name('None', Load(), lineno=547, col_offset=29)], lineno=547, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=548, col_offset=12), '__getmethods', Load(), lineno=548, col_offset=12), [], [], None, None, lineno=548, col_offset=12), lineno=548, col_offset=12)], [], lineno=547, col_offset=8), If(Call(Attribute(Attribute(Name('self', Load(), lineno=549, col_offset=11), '__methods', Load(), lineno=549, col_offset=11), 'get', Load(), lineno=549, col_offset=11), [Name('name', Load(), lineno=549, col_offset=30)], [], None, None, lineno=549, col_offset=11), [Return(Call(Name('MethodProxy', Load(), lineno=550, col_offset=19), [Attribute(Name('self', Load(), lineno=550, col_offset=31), 'sockio', Load(), lineno=550, col_offset=31), Attribute(Name('self', Load(), lineno=550, col_offset=44), 'oid', Load(), lineno=550, col_offset=44), Name('name', Load(), lineno=550, col_offset=54)], [], None, None, lineno=550, col_offset=19), lineno=550, col_offset=12)], [], lineno=549, col_offset=8), If(Compare(Attribute(Name('self', Load(), lineno=551, col_offset=11), '__attributes', Load(), lineno=551, col_offset=11), [Is()], [Name('None', Load(), lineno=551, col_offset=32)], lineno=551, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=552, col_offset=12), '__getattributes', Load(), lineno=552, col_offset=12), [], [], None, None, lineno=552, col_offset=12), lineno=552, col_offset=12)], [], lineno=551, col_offset=8), If(Compare(Name('name', Load(), lineno=553, col_offset=11), [In()], [Attribute(Name('self', Load(), lineno=553, col_offset=19), '__attributes', Load(), lineno=553, col_offset=19)], lineno=553, col_offset=11), [Assign([Name('value', Store(), lineno=554, col_offset=12)], Call(Attribute(Attribute(Name('self', Load(), lineno=554, col_offset=20), 'sockio', Load(), lineno=554, col_offset=20), 'remotecall', Load(), lineno=554, col_offset=20), [Attribute(Name('self', Load(), lineno=554, col_offset=43), 'oid', Load(), lineno=554, col_offset=43), Str('__getattribute__', lineno=554, col_offset=53), Tuple([Name('name', Load(), lineno=555, col_offset=44)], Load(), lineno=555, col_offset=44), Dict([], [], lineno=555, col_offset=52)], [], None, None, lineno=554, col_offset=20), lineno=554, col_offset=12), Return(Name('value', Load(), lineno=556, col_offset=19), lineno=556, col_offset=12)], [Raise(Name('AttributeError', Load(), lineno=558, col_offset=18), Name('name', Load(), lineno=558, col_offset=34), None, lineno=558, col_offset=12)], lineno=553, col_offset=8)], [], lineno=546, col_offset=4), FunctionDef('__getattributes', arguments([Name('self', Param(), lineno=560, col_offset=24)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=561, col_offset=8), '__attributes', Store(), lineno=561, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=561, col_offset=28), 'sockio', Load(), lineno=561, col_offset=28), 'remotecall', Load(), lineno=561, col_offset=28), [Attribute(Name('self', Load(), lineno=561, col_offset=51), 'oid', Load(), lineno=561, col_offset=51), Str('__attributes__', lineno=562, col_offset=48), Tuple([], Load(), lineno=562, col_offset=66), Dict([], [], lineno=562, col_offset=70)], [], None, None, lineno=561, col_offset=28), lineno=561, col_offset=8)], [], lineno=560, col_offset=4), FunctionDef('__getmethods', arguments([Name('self', Param(), lineno=564, col_offset=21)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=565, col_offset=8), '__methods', Store(), lineno=565, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=565, col_offset=25), 'sockio', Load(), lineno=565, col_offset=25), 'remotecall', Load(), lineno=565, col_offset=25), [Attribute(Name('self', Load(), lineno=565, col_offset=48), 'oid', Load(), lineno=565, col_offset=48), Str('__methods__', lineno=566, col_offset=48), Tuple([], Load(), lineno=566, col_offset=63), Dict([], [], lineno=566, col_offset=67)], [], None, None, lineno=565, col_offset=25), lineno=565, col_offset=8)], [], lineno=564, col_offset=4)], [], lineno=537, col_offset=0), FunctionDef('_getmethods', arguments([Name('obj', Param(), lineno=568, col_offset=16), Name('methods', Param(), lineno=568, col_offset=21)], None, None, []), [For(Name('name', Store(), lineno=571, col_offset=8), Call(Name('dir', Load(), lineno=571, col_offset=16), [Name('obj', Load(), lineno=571, col_offset=20)], [], None, None, lineno=571, col_offset=16), [Assign([Name('attr', Store(), lineno=572, col_offset=8)], Call(Name('getattr', Load(), lineno=572, col_offset=15), [Name('obj', Load(), lineno=572, col_offset=23), Name('name', Load(), lineno=572, col_offset=28)], [], None, None, lineno=572, col_offset=15), lineno=572, col_offset=8), If(Call(Name('hasattr', Load(), lineno=573, col_offset=11), [Name('attr', Load(), lineno=573, col_offset=19), Str('__call__', lineno=573, col_offset=25)], [], None, None, lineno=573, col_offset=11), [Assign([Subscript(Name('methods', Load(), lineno=574, col_offset=12), Index(Name('name', Load(), lineno=574, col_offset=20)), Store(), lineno=574, col_offset=12)], Num(1, lineno=574, col_offset=28), lineno=574, col_offset=12)], [], lineno=573, col_offset=8)], [], lineno=571, col_offset=4), If(Compare(Call(Name('type', Load(), lineno=575, col_offset=7), [Name('obj', Load(), lineno=575, col_offset=12)], [], None, None, lineno=575, col_offset=7), [Eq()], [Attribute(Name('types', Load(), lineno=575, col_offset=20), 'InstanceType', Load(), lineno=575, col_offset=20)], lineno=575, col_offset=7), [Expr(Call(Name('_getmethods', Load(), lineno=576, col_offset=8), [Attribute(Name('obj', Load(), lineno=576, col_offset=20), '__class__', Load(), lineno=576, col_offset=20), Name('methods', Load(), lineno=576, col_offset=35)], [], None, None, lineno=576, col_offset=8), lineno=576, col_offset=8)], [], lineno=575, col_offset=4), If(Compare(Call(Name('type', Load(), lineno=577, col_offset=7), [Name('obj', Load(), lineno=577, col_offset=12)], [], None, None, lineno=577, col_offset=7), [Eq()], [Attribute(Name('types', Load(), lineno=577, col_offset=20), 'ClassType', Load(), lineno=577, col_offset=20)], lineno=577, col_offset=7), [For(Name('super', Store(), lineno=578, col_offset=12), Attribute(Name('obj', Load(), lineno=578, col_offset=21), '__bases__', Load(), lineno=578, col_offset=21), [Expr(Call(Name('_getmethods', Load(), lineno=579, col_offset=12), [Name('super', Load(), lineno=579, col_offset=24), Name('methods', Load(), lineno=579, col_offset=31)], [], None, None, lineno=579, col_offset=12), lineno=579, col_offset=12)], [], lineno=578, col_offset=8)], [], lineno=577, col_offset=4)], [], lineno=568, col_offset=0), FunctionDef('_getattributes', arguments([Name('obj', Param(), lineno=581, col_offset=19), Name('attributes', Param(), lineno=581, col_offset=24)], None, None, []), [For(Name('name', Store(), lineno=582, col_offset=8), Call(Name('dir', Load(), lineno=582, col_offset=16), [Name('obj', Load(), lineno=582, col_offset=20)], [], None, None, lineno=582, col_offset=16), [Assign([Name('attr', Store(), lineno=583, col_offset=8)], Call(Name('getattr', Load(), lineno=583, col_offset=15), [Name('obj', Load(), lineno=583, col_offset=23), Name('name', Load(), lineno=583, col_offset=28)], [], None, None, lineno=583, col_offset=15), lineno=583, col_offset=8), If(UnaryOp(Not(), Call(Name('hasattr', Load(), lineno=584, col_offset=15), [Name('attr', Load(), lineno=584, col_offset=23), Str('__call__', lineno=584, col_offset=29)], [], None, None, lineno=584, col_offset=15), lineno=584, col_offset=11), [Assign([Subscript(Name('attributes', Load(), lineno=585, col_offset=12), Index(Name('name', Load(), lineno=585, col_offset=23)), Store(), lineno=585, col_offset=12)], Num(1, lineno=585, col_offset=31), lineno=585, col_offset=12)], [], lineno=584, col_offset=8)], [], lineno=582, col_offset=4)], [], lineno=581, col_offset=0), ClassDef('MethodProxy', [Name('object', Load(), lineno=587, col_offset=18)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=589, col_offset=17), Name('sockio', Param(), lineno=589, col_offset=23), Name('oid', Param(), lineno=589, col_offset=31), Name('name', Param(), lineno=589, col_offset=36)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=590, col_offset=8), 'sockio', Store(), lineno=590, col_offset=8)], Name('sockio', Load(), lineno=590, col_offset=22), lineno=590, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=591, col_offset=8), 'oid', Store(), lineno=591, col_offset=8)], Name('oid', Load(), lineno=591, col_offset=19), lineno=591, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=592, col_offset=8), 'name', Store(), lineno=592, col_offset=8)], Name('name', Load(), lineno=592, col_offset=20), lineno=592, col_offset=8)], [], lineno=589, col_offset=4), FunctionDef('__call__', arguments([Name('self', Param(), lineno=594, col_offset=17)], 'args', 'kwargs', []), [Assign([Name('value', Store(), lineno=595, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=595, col_offset=16), 'sockio', Load(), lineno=595, col_offset=16), 'remotecall', Load(), lineno=595, col_offset=16), [Attribute(Name('self', Load(), lineno=595, col_offset=39), 'oid', Load(), lineno=595, col_offset=39), Attribute(Name('self', Load(), lineno=595, col_offset=49), 'name', Load(), lineno=595, col_offset=49), Name('args', Load(), lineno=595, col_offset=60), Name('kwargs', Load(), lineno=595, col_offset=66)], [], None, None, lineno=595, col_offset=16), lineno=595, col_offset=8), Return(Name('value', Load(), lineno=596, col_offset=15), lineno=596, col_offset=8)], [], lineno=594, col_offset=4)], [], lineno=587, col_offset=0)])
