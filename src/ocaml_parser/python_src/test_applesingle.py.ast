Module([Import([alias('unittest', None)], lineno=3, col_offset=0), Import([alias('os', None)], lineno=4, col_offset=0), ImportFrom('test', [alias('test_support', None)], 0, lineno=5, col_offset=0), Import([alias('struct', None)], lineno=6, col_offset=0), Assign([Name('MacOS', Store(), lineno=8, col_offset=0)], Call(Attribute(Name('test_support', Load(), lineno=8, col_offset=8), 'import_module', Load(), lineno=8, col_offset=8), [Str('MacOS', lineno=8, col_offset=35)], [], None, None, lineno=8, col_offset=8), lineno=8, col_offset=0), Import([alias('applesingle', None)], lineno=10, col_offset=0), Assign([Name('AS_MAGIC', Store(), lineno=12, col_offset=0)], Num(333312, lineno=12, col_offset=9), lineno=12, col_offset=0), Assign([Name('AS_VERSION', Store(), lineno=13, col_offset=0)], Num(131072, lineno=13, col_offset=11), lineno=13, col_offset=0), Assign([Name('dataforkdata', Store(), lineno=14, col_offset=0)], Str('hello\r\x00world\n', lineno=14, col_offset=15), lineno=14, col_offset=0), Assign([Name('resourceforkdata', Store(), lineno=15, col_offset=0)], Str('goodbye\ncruel\x00world\r', lineno=15, col_offset=19), lineno=15, col_offset=0), Assign([Name('applesingledata', Store(), lineno=17, col_offset=0)], BinOp(BinOp(BinOp(Call(Attribute(Name('struct', Load(), lineno=17, col_offset=18), 'pack', Load(), lineno=17, col_offset=18), [Str('>ll16sh', lineno=17, col_offset=30), Name('AS_MAGIC', Load(), lineno=17, col_offset=41), Name('AS_VERSION', Load(), lineno=17, col_offset=51), Str('foo', lineno=17, col_offset=63), Num(2, lineno=17, col_offset=70)], [], None, None, lineno=17, col_offset=18), Add(), Call(Attribute(Name('struct', Load(), lineno=18, col_offset=4), 'pack', Load(), lineno=18, col_offset=4), [Str('>llllll', lineno=18, col_offset=16), Num(1, lineno=18, col_offset=27), Num(50, lineno=18, col_offset=30), Call(Name('len', Load(), lineno=18, col_offset=34), [Name('dataforkdata', Load(), lineno=18, col_offset=38)], [], None, None, lineno=18, col_offset=34), Num(2, lineno=19, col_offset=8), BinOp(Num(50, lineno=19, col_offset=11), Add(), Call(Name('len', Load(), lineno=19, col_offset=14), [Name('dataforkdata', Load(), lineno=19, col_offset=18)], [], None, None, lineno=19, col_offset=14), lineno=19, col_offset=11), Call(Name('len', Load(), lineno=19, col_offset=33), [Name('resourceforkdata', Load(), lineno=19, col_offset=37)], [], None, None, lineno=19, col_offset=33)], [], None, None, lineno=18, col_offset=4), lineno=17, col_offset=18), Add(), Name('dataforkdata', Load(), lineno=20, col_offset=4), lineno=19, col_offset=56), Add(), Name('resourceforkdata', Load(), lineno=21, col_offset=4), lineno=20, col_offset=17), lineno=17, col_offset=0), Assign([Name('TESTFN2', Store(), lineno=22, col_offset=0)], BinOp(Attribute(Name('test_support', Load(), lineno=22, col_offset=10), 'TESTFN', Load(), lineno=22, col_offset=10), Add(), Str('2', lineno=22, col_offset=32), lineno=22, col_offset=10), lineno=22, col_offset=0), ClassDef('TestApplesingle', [Attribute(Name('unittest', Load(), lineno=24, col_offset=22), 'TestCase', Load(), lineno=24, col_offset=22)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=26, col_offset=14)], None, None, []), [Assign([Name('fp', Store(), lineno=27, col_offset=8)], Call(Name('open', Load(), lineno=27, col_offset=13), [Attribute(Name('test_support', Load(), lineno=27, col_offset=18), 'TESTFN', Load(), lineno=27, col_offset=18), Str('w', lineno=27, col_offset=39)], [], None, None, lineno=27, col_offset=13), lineno=27, col_offset=8), Expr(Call(Attribute(Name('fp', Load(), lineno=28, col_offset=8), 'write', Load(), lineno=28, col_offset=8), [Name('applesingledata', Load(), lineno=28, col_offset=17)], [], None, None, lineno=28, col_offset=8), lineno=28, col_offset=8), Expr(Call(Attribute(Name('fp', Load(), lineno=29, col_offset=8), 'close', Load(), lineno=29, col_offset=8), [], [], None, None, lineno=29, col_offset=8), lineno=29, col_offset=8)], [], lineno=26, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=31, col_offset=17)], None, None, []), [TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=33, col_offset=12), 'unlink', Load(), lineno=33, col_offset=12), [Attribute(Name('test_support', Load(), lineno=33, col_offset=22), 'TESTFN', Load(), lineno=33, col_offset=22)], [], None, None, lineno=33, col_offset=12), lineno=33, col_offset=12)], [ExceptHandler(None, None, [Pass( lineno=35, col_offset=12)], lineno=34, col_offset=8)], [], lineno=32, col_offset=8), TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=37, col_offset=12), 'unlink', Load(), lineno=37, col_offset=12), [Name('TESTFN2', Load(), lineno=37, col_offset=22)], [], None, None, lineno=37, col_offset=12), lineno=37, col_offset=12)], [ExceptHandler(None, None, [Pass( lineno=39, col_offset=12)], lineno=38, col_offset=8)], [], lineno=36, col_offset=8)], [], lineno=31, col_offset=4), FunctionDef('compareData', arguments([Name('self', Param(), lineno=41, col_offset=20), Name('isrf', Param(), lineno=41, col_offset=26), Name('data', Param(), lineno=41, col_offset=32)], None, None, []), [If(Name('isrf', Load(), lineno=42, col_offset=11), [Assign([Name('fp', Store(), lineno=43, col_offset=12)], Call(Attribute(Name('MacOS', Load(), lineno=43, col_offset=17), 'openrf', Load(), lineno=43, col_offset=17), [Name('TESTFN2', Load(), lineno=43, col_offset=30), Str('*rb', lineno=43, col_offset=39)], [], None, None, lineno=43, col_offset=17), lineno=43, col_offset=12)], [Assign([Name('fp', Store(), lineno=45, col_offset=12)], Call(Name('open', Load(), lineno=45, col_offset=17), [Name('TESTFN2', Load(), lineno=45, col_offset=22), Str('rb', lineno=45, col_offset=31)], [], None, None, lineno=45, col_offset=17), lineno=45, col_offset=12)], lineno=42, col_offset=8), Assign([Name('filedata', Store(), lineno=46, col_offset=8)], Call(Attribute(Name('fp', Load(), lineno=46, col_offset=19), 'read', Load(), lineno=46, col_offset=19), [Num(1000, lineno=46, col_offset=27)], [], None, None, lineno=46, col_offset=19), lineno=46, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=47, col_offset=8), 'assertEqual', Load(), lineno=47, col_offset=8), [Name('data', Load(), lineno=47, col_offset=25), Name('filedata', Load(), lineno=47, col_offset=31)], [], None, None, lineno=47, col_offset=8), lineno=47, col_offset=8)], [], lineno=41, col_offset=4), FunctionDef('test_applesingle', arguments([Name('self', Param(), lineno=49, col_offset=25)], None, None, []), [TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=51, col_offset=12), 'unlink', Load(), lineno=51, col_offset=12), [Name('TESTFN2', Load(), lineno=51, col_offset=22)], [], None, None, lineno=51, col_offset=12), lineno=51, col_offset=12)], [ExceptHandler(None, None, [Pass( lineno=53, col_offset=12)], lineno=52, col_offset=8)], [], lineno=50, col_offset=8), Expr(Call(Attribute(Name('applesingle', Load(), lineno=54, col_offset=8), 'decode', Load(), lineno=54, col_offset=8), [Attribute(Name('test_support', Load(), lineno=54, col_offset=27), 'TESTFN', Load(), lineno=54, col_offset=27), Name('TESTFN2', Load(), lineno=54, col_offset=48)], [], None, None, lineno=54, col_offset=8), lineno=54, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=55, col_offset=8), 'compareData', Load(), lineno=55, col_offset=8), [Name('False', Load(), lineno=55, col_offset=25), Name('dataforkdata', Load(), lineno=55, col_offset=32)], [], None, None, lineno=55, col_offset=8), lineno=55, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=56, col_offset=8), 'compareData', Load(), lineno=56, col_offset=8), [Name('True', Load(), lineno=56, col_offset=25), Name('resourceforkdata', Load(), lineno=56, col_offset=31)], [], None, None, lineno=56, col_offset=8), lineno=56, col_offset=8)], [], lineno=49, col_offset=4), FunctionDef('test_applesingle_resonly', arguments([Name('self', Param(), lineno=58, col_offset=33)], None, None, []), [TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=60, col_offset=12), 'unlink', Load(), lineno=60, col_offset=12), [Name('TESTFN2', Load(), lineno=60, col_offset=22)], [], None, None, lineno=60, col_offset=12), lineno=60, col_offset=12)], [ExceptHandler(None, None, [Pass( lineno=62, col_offset=12)], lineno=61, col_offset=8)], [], lineno=59, col_offset=8), Expr(Call(Attribute(Name('applesingle', Load(), lineno=63, col_offset=8), 'decode', Load(), lineno=63, col_offset=8), [Attribute(Name('test_support', Load(), lineno=63, col_offset=27), 'TESTFN', Load(), lineno=63, col_offset=27), Name('TESTFN2', Load(), lineno=63, col_offset=48)], [keyword('resonly', Name('True', Load(), lineno=63, col_offset=65))], None, None, lineno=63, col_offset=8), lineno=63, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=64, col_offset=8), 'compareData', Load(), lineno=64, col_offset=8), [Name('False', Load(), lineno=64, col_offset=25), Name('resourceforkdata', Load(), lineno=64, col_offset=32)], [], None, None, lineno=64, col_offset=8), lineno=64, col_offset=8)], [], lineno=58, col_offset=4)], [], lineno=24, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Attribute(Name('test_support', Load(), lineno=67, col_offset=4), 'run_unittest', Load(), lineno=67, col_offset=4), [Name('TestApplesingle', Load(), lineno=67, col_offset=30)], [], None, None, lineno=67, col_offset=4), lineno=67, col_offset=4)], [], lineno=66, col_offset=0), If(Compare(Name('__name__', Load(), lineno=70, col_offset=3), [Eq()], [Str('__main__', lineno=70, col_offset=15)], lineno=70, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=71, col_offset=4), [], [], None, None, lineno=71, col_offset=4), lineno=71, col_offset=4)], [], lineno=70, col_offset=0)])
