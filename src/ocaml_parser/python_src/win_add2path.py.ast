Module([Expr(Str('Add Python to the search path on Windows\n\nThis is a simple script to add Python to the Windows search path. It\nmodifies the current user (HKCU) tree of the registry.\n\nCopyright (c) 2008 by Christian Heimes <christian@cheimes.de>\nLicensed to PSF under a Contributor Agreement.\n', lineno=8, col_offset=-1), lineno=8, col_offset=-1), Import([alias('sys', None)], lineno=10, col_offset=0), Import([alias('site', None)], lineno=11, col_offset=0), Import([alias('os', None)], lineno=12, col_offset=0), Import([alias('_winreg', None)], lineno=13, col_offset=0), Assign([Name('HKCU', Store(), lineno=15, col_offset=0)], Attribute(Name('_winreg', Load(), lineno=15, col_offset=7), 'HKEY_CURRENT_USER', Load(), lineno=15, col_offset=7), lineno=15, col_offset=0), Assign([Name('ENV', Store(), lineno=16, col_offset=0)], Str('Environment', lineno=16, col_offset=6), lineno=16, col_offset=0), Assign([Name('PATH', Store(), lineno=17, col_offset=0)], Str('PATH', lineno=17, col_offset=7), lineno=17, col_offset=0), Assign([Name('DEFAULT', Store(), lineno=18, col_offset=0)], Str(u'%PATH%', lineno=18, col_offset=10), lineno=18, col_offset=0), FunctionDef('modify', arguments([], None, None, []), [Assign([Name('pythonpath', Store(), lineno=21, col_offset=4)], Call(Attribute(Attribute(Name('os', Load(), lineno=21, col_offset=17), 'path', Load(), lineno=21, col_offset=17), 'dirname', Load(), lineno=21, col_offset=17), [Call(Attribute(Attribute(Name('os', Load(), lineno=21, col_offset=33), 'path', Load(), lineno=21, col_offset=33), 'normpath', Load(), lineno=21, col_offset=33), [Attribute(Name('sys', Load(), lineno=21, col_offset=50), 'executable', Load(), lineno=21, col_offset=50)], [], None, None, lineno=21, col_offset=33)], [], None, None, lineno=21, col_offset=17), lineno=21, col_offset=4), Assign([Name('scripts', Store(), lineno=22, col_offset=4)], Call(Attribute(Attribute(Name('os', Load(), lineno=22, col_offset=14), 'path', Load(), lineno=22, col_offset=14), 'join', Load(), lineno=22, col_offset=14), [Name('pythonpath', Load(), lineno=22, col_offset=27), Str('Scripts', lineno=22, col_offset=39)], [], None, None, lineno=22, col_offset=14), lineno=22, col_offset=4), Assign([Name('appdata', Store(), lineno=23, col_offset=4)], Subscript(Attribute(Name('os', Load(), lineno=23, col_offset=14), 'environ', Load(), lineno=23, col_offset=14), Index(Str('APPDATA', lineno=23, col_offset=25)), Load(), lineno=23, col_offset=14), lineno=23, col_offset=4), If(Call(Name('hasattr', Load(), lineno=24, col_offset=7), [Name('site', Load(), lineno=24, col_offset=15), Str('USER_SITE', lineno=24, col_offset=21)], [], None, None, lineno=24, col_offset=7), [Assign([Name('userpath', Store(), lineno=25, col_offset=8)], Call(Attribute(Attribute(Name('site', Load(), lineno=25, col_offset=19), 'USER_SITE', Load(), lineno=25, col_offset=19), 'replace', Load(), lineno=25, col_offset=19), [Name('appdata', Load(), lineno=25, col_offset=42), Str('%APPDATA%', lineno=25, col_offset=51)], [], None, None, lineno=25, col_offset=19), lineno=25, col_offset=8), Assign([Name('userscripts', Store(), lineno=26, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=26, col_offset=22), 'path', Load(), lineno=26, col_offset=22), 'join', Load(), lineno=26, col_offset=22), [Name('userpath', Load(), lineno=26, col_offset=35), Str('Scripts', lineno=26, col_offset=45)], [], None, None, lineno=26, col_offset=22), lineno=26, col_offset=8)], [Assign([Name('userscripts', Store(), lineno=28, col_offset=8)], Name('None', Load(), lineno=28, col_offset=22), lineno=28, col_offset=8)], lineno=24, col_offset=4), With(Call(Attribute(Name('_winreg', Load(), lineno=30, col_offset=9), 'CreateKey', Load(), lineno=30, col_offset=9), [Name('HKCU', Load(), lineno=30, col_offset=27), Name('ENV', Load(), lineno=30, col_offset=33)], [], None, None, lineno=30, col_offset=9), Name('key', Store(), lineno=30, col_offset=41), [TryExcept([Assign([Name('envpath', Store(), lineno=32, col_offset=12)], Subscript(Call(Attribute(Name('_winreg', Load(), lineno=32, col_offset=22), 'QueryValueEx', Load(), lineno=32, col_offset=22), [Name('key', Load(), lineno=32, col_offset=43), Name('PATH', Load(), lineno=32, col_offset=48)], [], None, None, lineno=32, col_offset=22), Index(Num(0, lineno=32, col_offset=54)), Load(), lineno=32, col_offset=22), lineno=32, col_offset=12)], [ExceptHandler(Name('WindowsError', Load(), lineno=33, col_offset=15), None, [Assign([Name('envpath', Store(), lineno=34, col_offset=12)], Name('DEFAULT', Load(), lineno=34, col_offset=22), lineno=34, col_offset=12)], lineno=33, col_offset=8)], [], lineno=31, col_offset=8), Assign([Name('paths', Store(), lineno=36, col_offset=8)], List([Name('envpath', Load(), lineno=36, col_offset=17)], Load(), lineno=36, col_offset=16), lineno=36, col_offset=8), For(Name('path', Store(), lineno=37, col_offset=12), Tuple([Name('pythonpath', Load(), lineno=37, col_offset=21), Name('scripts', Load(), lineno=37, col_offset=33), Name('userscripts', Load(), lineno=37, col_offset=42)], Load(), lineno=37, col_offset=21), [If(BoolOp(And(), [Name('path', Load(), lineno=38, col_offset=15), Compare(Name('path', Load(), lineno=38, col_offset=24), [NotIn()], [Name('envpath', Load(), lineno=38, col_offset=36)], lineno=38, col_offset=24), Call(Attribute(Attribute(Name('os', Load(), lineno=38, col_offset=48), 'path', Load(), lineno=38, col_offset=48), 'isdir', Load(), lineno=38, col_offset=48), [Name('path', Load(), lineno=38, col_offset=62)], [], None, None, lineno=38, col_offset=48)], lineno=38, col_offset=15), [Expr(Call(Attribute(Name('paths', Load(), lineno=39, col_offset=16), 'append', Load(), lineno=39, col_offset=16), [Name('path', Load(), lineno=39, col_offset=29)], [], None, None, lineno=39, col_offset=16), lineno=39, col_offset=16)], [], lineno=38, col_offset=12)], [], lineno=37, col_offset=8), Assign([Name('envpath', Store(), lineno=41, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=41, col_offset=18), 'pathsep', Load(), lineno=41, col_offset=18), 'join', Load(), lineno=41, col_offset=18), [Name('paths', Load(), lineno=41, col_offset=34)], [], None, None, lineno=41, col_offset=18), lineno=41, col_offset=8), Expr(Call(Attribute(Name('_winreg', Load(), lineno=42, col_offset=8), 'SetValueEx', Load(), lineno=42, col_offset=8), [Name('key', Load(), lineno=42, col_offset=27), Name('PATH', Load(), lineno=42, col_offset=32), Num(0, lineno=42, col_offset=38), Attribute(Name('_winreg', Load(), lineno=42, col_offset=41), 'REG_EXPAND_SZ', Load(), lineno=42, col_offset=41), Name('envpath', Load(), lineno=42, col_offset=64)], [], None, None, lineno=42, col_offset=8), lineno=42, col_offset=8), Return(Tuple([Name('paths', Load(), lineno=43, col_offset=15), Name('envpath', Load(), lineno=43, col_offset=22)], Load(), lineno=43, col_offset=15), lineno=43, col_offset=8)], lineno=30, col_offset=9)], [], lineno=20, col_offset=0), FunctionDef('main', arguments([], None, None, []), [Assign([Tuple([Name('paths', Store(), lineno=46, col_offset=4), Name('envpath', Store(), lineno=46, col_offset=11)], Store(), lineno=46, col_offset=4)], Call(Name('modify', Load(), lineno=46, col_offset=21), [], [], None, None, lineno=46, col_offset=21), lineno=46, col_offset=4), If(Compare(Call(Name('len', Load(), lineno=47, col_offset=7), [Name('paths', Load(), lineno=47, col_offset=11)], [], None, None, lineno=47, col_offset=7), [Gt()], [Num(1, lineno=47, col_offset=20)], lineno=47, col_offset=7), [Print(None, [Str('Path(s) added:', lineno=48, col_offset=14)], True, lineno=48, col_offset=8), Print(None, [Call(Attribute(Str('\n', lineno=49, col_offset=14), 'join', Load(), lineno=49, col_offset=14), [Subscript(Name('paths', Load(), lineno=49, col_offset=24), Slice(Num(1, lineno=49, col_offset=30), None, None), Load(), lineno=49, col_offset=24)], [], None, None, lineno=49, col_offset=14)], True, lineno=49, col_offset=8)], [Print(None, [Str('No path was added', lineno=51, col_offset=14)], True, lineno=51, col_offset=8)], lineno=47, col_offset=4), Print(None, [BinOp(Str('\nPATH is now:\n%s\n', lineno=52, col_offset=10), Mod(), Name('envpath', Load(), lineno=52, col_offset=35), lineno=52, col_offset=10)], True, lineno=52, col_offset=4), Print(None, [Str('Expanded:', lineno=53, col_offset=10)], True, lineno=53, col_offset=4), Print(None, [Call(Attribute(Name('_winreg', Load(), lineno=54, col_offset=10), 'ExpandEnvironmentStrings', Load(), lineno=54, col_offset=10), [Name('envpath', Load(), lineno=54, col_offset=43)], [], None, None, lineno=54, col_offset=10)], True, lineno=54, col_offset=4)], [], lineno=45, col_offset=0), If(Compare(Name('__name__', Load(), lineno=56, col_offset=3), [Eq()], [Str('__main__', lineno=56, col_offset=15)], lineno=56, col_offset=3), [Expr(Call(Name('main', Load(), lineno=57, col_offset=4), [], [], None, None, lineno=57, col_offset=4), lineno=57, col_offset=4)], [], lineno=56, col_offset=0)])
