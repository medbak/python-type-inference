Module([Import([alias('unittest', None)], lineno=1, col_offset=0), ImportFrom('doctest', [alias('DocTestSuite', None)], 0, lineno=2, col_offset=0), ImportFrom('test', [alias('test_support', None)], 0, lineno=3, col_offset=0), Import([alias('weakref', None)], lineno=4, col_offset=0), Import([alias('gc', None)], lineno=5, col_offset=0), Assign([Name('_thread', Store(), lineno=8, col_offset=0)], Call(Attribute(Name('test_support', Load(), lineno=8, col_offset=10), 'import_module', Load(), lineno=8, col_offset=10), [Str('thread', lineno=8, col_offset=37)], [], None, None, lineno=8, col_offset=10), lineno=8, col_offset=0), Assign([Name('threading', Store(), lineno=9, col_offset=0)], Call(Attribute(Name('test_support', Load(), lineno=9, col_offset=12), 'import_module', Load(), lineno=9, col_offset=12), [Str('threading', lineno=9, col_offset=39)], [], None, None, lineno=9, col_offset=12), lineno=9, col_offset=0), Import([alias('_threading_local', None)], lineno=10, col_offset=0), ClassDef('Weak', [Name('object', Load(), lineno=13, col_offset=11)], [Pass( lineno=14, col_offset=4)], [], lineno=13, col_offset=0), FunctionDef('target', arguments([Name('local', Param(), lineno=16, col_offset=11), Name('weaklist', Param(), lineno=16, col_offset=18)], None, None, []), [Assign([Name('weak', Store(), lineno=17, col_offset=4)], Call(Name('Weak', Load(), lineno=17, col_offset=11), [], [], None, None, lineno=17, col_offset=11), lineno=17, col_offset=4), Assign([Attribute(Name('local', Load(), lineno=18, col_offset=4), 'weak', Store(), lineno=18, col_offset=4)], Name('weak', Load(), lineno=18, col_offset=17), lineno=18, col_offset=4), Expr(Call(Attribute(Name('weaklist', Load(), lineno=19, col_offset=4), 'append', Load(), lineno=19, col_offset=4), [Call(Attribute(Name('weakref', Load(), lineno=19, col_offset=20), 'ref', Load(), lineno=19, col_offset=20), [Name('weak', Load(), lineno=19, col_offset=32)], [], None, None, lineno=19, col_offset=20)], [], None, None, lineno=19, col_offset=4), lineno=19, col_offset=4)], [], lineno=16, col_offset=0), ClassDef('BaseLocalTest', [], [FunctionDef('test_local_refs', arguments([Name('self', Param(), lineno=23, col_offset=24)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=24, col_offset=8), '_local_refs', Load(), lineno=24, col_offset=8), [Num(20, lineno=24, col_offset=25)], [], None, None, lineno=24, col_offset=8), lineno=24, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=25, col_offset=8), '_local_refs', Load(), lineno=25, col_offset=8), [Num(50, lineno=25, col_offset=25)], [], None, None, lineno=25, col_offset=8), lineno=25, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=26, col_offset=8), '_local_refs', Load(), lineno=26, col_offset=8), [Num(100, lineno=26, col_offset=25)], [], None, None, lineno=26, col_offset=8), lineno=26, col_offset=8)], [], lineno=23, col_offset=4), FunctionDef('_local_refs', arguments([Name('self', Param(), lineno=28, col_offset=20), Name('n', Param(), lineno=28, col_offset=26)], None, None, []), [Assign([Name('local', Store(), lineno=29, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=29, col_offset=16), '_local', Load(), lineno=29, col_offset=16), [], [], None, None, lineno=29, col_offset=16), lineno=29, col_offset=8), Assign([Name('weaklist', Store(), lineno=30, col_offset=8)], List([], Load(), lineno=30, col_offset=19), lineno=30, col_offset=8), For(Name('i', Store(), lineno=31, col_offset=12), Call(Name('range', Load(), lineno=31, col_offset=17), [Name('n', Load(), lineno=31, col_offset=23)], [], None, None, lineno=31, col_offset=17), [Assign([Name('t', Store(), lineno=32, col_offset=12)], Call(Attribute(Name('threading', Load(), lineno=32, col_offset=16), 'Thread', Load(), lineno=32, col_offset=16), [], [keyword('target', Name('target', Load(), lineno=32, col_offset=40)), keyword('args', Tuple([Name('local', Load(), lineno=32, col_offset=54), Name('weaklist', Load(), lineno=32, col_offset=61)], Load(), lineno=32, col_offset=54))], None, None, lineno=32, col_offset=16), lineno=32, col_offset=12), Expr(Call(Attribute(Name('t', Load(), lineno=33, col_offset=12), 'start', Load(), lineno=33, col_offset=12), [], [], None, None, lineno=33, col_offset=12), lineno=33, col_offset=12), Expr(Call(Attribute(Name('t', Load(), lineno=34, col_offset=12), 'join', Load(), lineno=34, col_offset=12), [], [], None, None, lineno=34, col_offset=12), lineno=34, col_offset=12)], [], lineno=31, col_offset=8), Delete([Name('t', Del(), lineno=35, col_offset=12)], lineno=35, col_offset=8), Expr(Call(Attribute(Name('gc', Load(), lineno=37, col_offset=8), 'collect', Load(), lineno=37, col_offset=8), [], [], None, None, lineno=37, col_offset=8), lineno=37, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=38, col_offset=8), 'assertEqual', Load(), lineno=38, col_offset=8), [Call(Name('len', Load(), lineno=38, col_offset=25), [Name('weaklist', Load(), lineno=38, col_offset=29)], [], None, None, lineno=38, col_offset=25), Name('n', Load(), lineno=38, col_offset=40)], [], None, None, lineno=38, col_offset=8), lineno=38, col_offset=8), Assign([Name('deadlist', Store(), lineno=41, col_offset=8)], ListComp(Name('weak', Load(), lineno=41, col_offset=20), [comprehension(Name('weak', Store(), lineno=41, col_offset=29), Name('weaklist', Load(), lineno=41, col_offset=37), [Compare(Call(Name('weak', Load(), lineno=41, col_offset=49), [], [], None, None, lineno=41, col_offset=49), [Is()], [Name('None', Load(), lineno=41, col_offset=59)], lineno=41, col_offset=49)])], lineno=41, col_offset=20), lineno=41, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=42, col_offset=8), 'assertIn', Load(), lineno=42, col_offset=8), [Call(Name('len', Load(), lineno=42, col_offset=22), [Name('deadlist', Load(), lineno=42, col_offset=26)], [], None, None, lineno=42, col_offset=22), Tuple([BinOp(Name('n', Load(), lineno=42, col_offset=38), Sub(), Num(1, lineno=42, col_offset=40), lineno=42, col_offset=38), Name('n', Load(), lineno=42, col_offset=43)], Load(), lineno=42, col_offset=38)], [], None, None, lineno=42, col_offset=8), lineno=42, col_offset=8), Assign([Attribute(Name('local', Load(), lineno=45, col_offset=8), 'someothervar', Store(), lineno=45, col_offset=8)], Name('None', Load(), lineno=45, col_offset=29), lineno=45, col_offset=8), Expr(Call(Attribute(Name('gc', Load(), lineno=46, col_offset=8), 'collect', Load(), lineno=46, col_offset=8), [], [], None, None, lineno=46, col_offset=8), lineno=46, col_offset=8), Assign([Name('deadlist', Store(), lineno=47, col_offset=8)], ListComp(Name('weak', Load(), lineno=47, col_offset=20), [comprehension(Name('weak', Store(), lineno=47, col_offset=29), Name('weaklist', Load(), lineno=47, col_offset=37), [Compare(Call(Name('weak', Load(), lineno=47, col_offset=49), [], [], None, None, lineno=47, col_offset=49), [Is()], [Name('None', Load(), lineno=47, col_offset=59)], lineno=47, col_offset=49)])], lineno=47, col_offset=20), lineno=47, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=48, col_offset=8), 'assertIn', Load(), lineno=48, col_offset=8), [Call(Name('len', Load(), lineno=48, col_offset=22), [Name('deadlist', Load(), lineno=48, col_offset=26)], [], None, None, lineno=48, col_offset=22), Tuple([BinOp(Name('n', Load(), lineno=48, col_offset=38), Sub(), Num(1, lineno=48, col_offset=40), lineno=48, col_offset=38), Name('n', Load(), lineno=48, col_offset=43)], Load(), lineno=48, col_offset=38), Tuple([Name('n', Load(), lineno=48, col_offset=48), Call(Name('len', Load(), lineno=48, col_offset=51), [Name('deadlist', Load(), lineno=48, col_offset=55)], [], None, None, lineno=48, col_offset=51)], Load(), lineno=48, col_offset=48)], [], None, None, lineno=48, col_offset=8), lineno=48, col_offset=8)], [], lineno=28, col_offset=4), FunctionDef('test_derived', arguments([Name('self', Param(), lineno=50, col_offset=21)], None, None, []), [Import([alias('time', None)], lineno=55, col_offset=8), ClassDef('Local', [Attribute(Name('self', Load(), lineno=56, col_offset=20), '_local', Load(), lineno=56, col_offset=20)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=57, col_offset=25)], None, None, []), [Expr(Call(Attribute(Name('time', Load(), lineno=58, col_offset=16), 'sleep', Load(), lineno=58, col_offset=16), [Num(0.01, lineno=58, col_offset=27)], [], None, None, lineno=58, col_offset=16), lineno=58, col_offset=16)], [], lineno=57, col_offset=12)], [], lineno=56, col_offset=8), Assign([Name('local', Store(), lineno=59, col_offset=8)], Call(Name('Local', Load(), lineno=59, col_offset=16), [], [], None, None, lineno=59, col_offset=16), lineno=59, col_offset=8), FunctionDef('f', arguments([Name('i', Param(), lineno=61, col_offset=14)], None, None, []), [Assign([Attribute(Name('local', Load(), lineno=62, col_offset=12), 'x', Store(), lineno=62, col_offset=12)], Name('i', Load(), lineno=62, col_offset=22), lineno=62, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=64, col_offset=12), 'assertEqual', Load(), lineno=64, col_offset=12), [Attribute(Name('local', Load(), lineno=64, col_offset=29), 'x', Load(), lineno=64, col_offset=29), Name('i', Load(), lineno=64, col_offset=38)], [], None, None, lineno=64, col_offset=12), lineno=64, col_offset=12)], [], lineno=61, col_offset=8), Assign([Name('threads', Store(), lineno=66, col_offset=8)], List([], Load(), lineno=66, col_offset=17), lineno=66, col_offset=8), For(Name('i', Store(), lineno=67, col_offset=12), Call(Name('range', Load(), lineno=67, col_offset=17), [Num(10, lineno=67, col_offset=23)], [], None, None, lineno=67, col_offset=17), [Assign([Name('t', Store(), lineno=68, col_offset=12)], Call(Attribute(Name('threading', Load(), lineno=68, col_offset=16), 'Thread', Load(), lineno=68, col_offset=16), [], [keyword('target', Name('f', Load(), lineno=68, col_offset=40)), keyword('args', Tuple([Name('i', Load(), lineno=68, col_offset=49)], Load(), lineno=68, col_offset=49))], None, None, lineno=68, col_offset=16), lineno=68, col_offset=12), Expr(Call(Attribute(Name('t', Load(), lineno=69, col_offset=12), 'start', Load(), lineno=69, col_offset=12), [], [], None, None, lineno=69, col_offset=12), lineno=69, col_offset=12), Expr(Call(Attribute(Name('threads', Load(), lineno=70, col_offset=12), 'append', Load(), lineno=70, col_offset=12), [Name('t', Load(), lineno=70, col_offset=27)], [], None, None, lineno=70, col_offset=12), lineno=70, col_offset=12)], [], lineno=67, col_offset=8), For(Name('t', Store(), lineno=72, col_offset=12), Name('threads', Load(), lineno=72, col_offset=17), [Expr(Call(Attribute(Name('t', Load(), lineno=73, col_offset=12), 'join', Load(), lineno=73, col_offset=12), [], [], None, None, lineno=73, col_offset=12), lineno=73, col_offset=12)], [], lineno=72, col_offset=8)], [], lineno=50, col_offset=4), FunctionDef('test_derived_cycle_dealloc', arguments([Name('self', Param(), lineno=75, col_offset=35)], None, None, []), [ClassDef('Local', [Attribute(Name('self', Load(), lineno=77, col_offset=20), '_local', Load(), lineno=77, col_offset=20)], [Pass( lineno=78, col_offset=12)], [], lineno=77, col_offset=8), Assign([Name('locals', Store(), lineno=79, col_offset=8)], Name('None', Load(), lineno=79, col_offset=17), lineno=79, col_offset=8), Assign([Name('passed', Store(), lineno=80, col_offset=8)], List([Name('False', Load(), lineno=80, col_offset=18)], Load(), lineno=80, col_offset=17), lineno=80, col_offset=8), Assign([Name('e1', Store(), lineno=81, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=81, col_offset=13), 'Event', Load(), lineno=81, col_offset=13), [], [], None, None, lineno=81, col_offset=13), lineno=81, col_offset=8), Assign([Name('e2', Store(), lineno=82, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=82, col_offset=13), 'Event', Load(), lineno=82, col_offset=13), [], [], None, None, lineno=82, col_offset=13), lineno=82, col_offset=8), FunctionDef('f', arguments([], None, None, []), [Assign([Name('cycle', Store(), lineno=86, col_offset=12)], List([Call(Name('Local', Load(), lineno=86, col_offset=21), [], [], None, None, lineno=86, col_offset=21)], Load(), lineno=86, col_offset=20), lineno=86, col_offset=12), Expr(Call(Attribute(Name('cycle', Load(), lineno=87, col_offset=12), 'append', Load(), lineno=87, col_offset=12), [Name('cycle', Load(), lineno=87, col_offset=25)], [], None, None, lineno=87, col_offset=12), lineno=87, col_offset=12), Assign([Attribute(Subscript(Name('cycle', Load(), lineno=88, col_offset=12), Index(Num(0, lineno=88, col_offset=18)), Load(), lineno=88, col_offset=12), 'foo', Store(), lineno=88, col_offset=12)], Str('bar', lineno=88, col_offset=27), lineno=88, col_offset=12), Delete([Name('cycle', Del(), lineno=92, col_offset=16)], lineno=92, col_offset=12), Expr(Call(Attribute(Name('gc', Load(), lineno=93, col_offset=12), 'collect', Load(), lineno=93, col_offset=12), [], [], None, None, lineno=93, col_offset=12), lineno=93, col_offset=12), Expr(Call(Attribute(Name('e1', Load(), lineno=94, col_offset=12), 'set', Load(), lineno=94, col_offset=12), [], [], None, None, lineno=94, col_offset=12), lineno=94, col_offset=12), Expr(Call(Attribute(Name('e2', Load(), lineno=95, col_offset=12), 'wait', Load(), lineno=95, col_offset=12), [], [], None, None, lineno=95, col_offset=12), lineno=95, col_offset=12), Assign([Subscript(Name('passed', Load(), lineno=98, col_offset=12), Index(Num(0, lineno=98, col_offset=19)), Store(), lineno=98, col_offset=12)], Call(Name('all', Load(), lineno=98, col_offset=24), [GeneratorExp(UnaryOp(Not(), Call(Name('hasattr', Load(), lineno=98, col_offset=32), [Name('local', Load(), lineno=98, col_offset=40), Str('foo', lineno=98, col_offset=47)], [], None, None, lineno=98, col_offset=32), lineno=98, col_offset=28), [comprehension(Name('local', Store(), lineno=98, col_offset=58), Name('locals', Load(), lineno=98, col_offset=67), [])], lineno=98, col_offset=28)], [], None, None, lineno=98, col_offset=24), lineno=98, col_offset=12)], [], lineno=84, col_offset=8), Assign([Name('t', Store(), lineno=100, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=100, col_offset=12), 'Thread', Load(), lineno=100, col_offset=12), [], [keyword('target', Name('f', Load(), lineno=100, col_offset=36))], None, None, lineno=100, col_offset=12), lineno=100, col_offset=8), Expr(Call(Attribute(Name('t', Load(), lineno=101, col_offset=8), 'start', Load(), lineno=101, col_offset=8), [], [], None, None, lineno=101, col_offset=8), lineno=101, col_offset=8), Expr(Call(Attribute(Name('e1', Load(), lineno=102, col_offset=8), 'wait', Load(), lineno=102, col_offset=8), [], [], None, None, lineno=102, col_offset=8), lineno=102, col_offset=8), Assign([Name('locals', Store(), lineno=107, col_offset=8)], ListComp(Call(Name('Local', Load(), lineno=107, col_offset=18), [], [], None, None, lineno=107, col_offset=18), [comprehension(Name('i', Store(), lineno=107, col_offset=30), Call(Name('range', Load(), lineno=107, col_offset=35), [Num(10, lineno=107, col_offset=41)], [], None, None, lineno=107, col_offset=35), [])], lineno=107, col_offset=18), lineno=107, col_offset=8), Expr(Call(Attribute(Name('e2', Load(), lineno=108, col_offset=8), 'set', Load(), lineno=108, col_offset=8), [], [], None, None, lineno=108, col_offset=8), lineno=108, col_offset=8), Expr(Call(Attribute(Name('t', Load(), lineno=109, col_offset=8), 'join', Load(), lineno=109, col_offset=8), [], [], None, None, lineno=109, col_offset=8), lineno=109, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=111, col_offset=8), 'assertTrue', Load(), lineno=111, col_offset=8), [Subscript(Name('passed', Load(), lineno=111, col_offset=24), Index(Num(0, lineno=111, col_offset=31)), Load(), lineno=111, col_offset=24)], [], None, None, lineno=111, col_offset=8), lineno=111, col_offset=8)], [], lineno=75, col_offset=4), FunctionDef('test_arguments', arguments([Name('self', Param(), lineno=113, col_offset=23)], None, None, []), [ImportFrom('thread', [alias('_local', 'local')], 0, lineno=115, col_offset=8), ImportFrom('_threading_local', [alias('local', 'py_local')], 0, lineno=116, col_offset=8), For(Name('cls', Store(), lineno=118, col_offset=12), Tuple([Name('local', Load(), lineno=118, col_offset=20), Name('py_local', Load(), lineno=118, col_offset=27)], Load(), lineno=118, col_offset=20), [ClassDef('MyLocal', [Name('cls', Load(), lineno=119, col_offset=26)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=120, col_offset=29)], 'args', 'kwargs', []), [Pass( lineno=121, col_offset=20)], [], lineno=120, col_offset=16)], [], lineno=119, col_offset=12), Expr(Call(Name('MyLocal', Load(), lineno=123, col_offset=12), [], [keyword('a', Num(1, lineno=123, col_offset=22))], None, None, lineno=123, col_offset=12), lineno=123, col_offset=12), Expr(Call(Name('MyLocal', Load(), lineno=124, col_offset=12), [Num(1, lineno=124, col_offset=20)], [], None, None, lineno=124, col_offset=12), lineno=124, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=125, col_offset=12), 'assertRaises', Load(), lineno=125, col_offset=12), [Name('TypeError', Load(), lineno=125, col_offset=30), Name('cls', Load(), lineno=125, col_offset=41)], [keyword('a', Num(1, lineno=125, col_offset=48))], None, None, lineno=125, col_offset=12), lineno=125, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=126, col_offset=12), 'assertRaises', Load(), lineno=126, col_offset=12), [Name('TypeError', Load(), lineno=126, col_offset=30), Name('cls', Load(), lineno=126, col_offset=41), Num(1, lineno=126, col_offset=46)], [], None, None, lineno=126, col_offset=12), lineno=126, col_offset=12)], [], lineno=118, col_offset=8)], [], lineno=113, col_offset=4), FunctionDef('_test_one_class', arguments([Name('self', Param(), lineno=128, col_offset=24), Name('c', Param(), lineno=128, col_offset=30)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=129, col_offset=8), '_failed', Store(), lineno=129, col_offset=8)], Str('No error message set or cleared.', lineno=129, col_offset=23), lineno=129, col_offset=8), Assign([Name('obj', Store(), lineno=130, col_offset=8)], Call(Name('c', Load(), lineno=130, col_offset=14), [], [], None, None, lineno=130, col_offset=14), lineno=130, col_offset=8), Assign([Name('e1', Store(), lineno=131, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=131, col_offset=13), 'Event', Load(), lineno=131, col_offset=13), [], [], None, None, lineno=131, col_offset=13), lineno=131, col_offset=8), Assign([Name('e2', Store(), lineno=132, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=132, col_offset=13), 'Event', Load(), lineno=132, col_offset=13), [], [], None, None, lineno=132, col_offset=13), lineno=132, col_offset=8), FunctionDef('f1', arguments([], None, None, []), [Assign([Attribute(Name('obj', Load(), lineno=135, col_offset=12), 'x', Store(), lineno=135, col_offset=12)], Str('foo', lineno=135, col_offset=20), lineno=135, col_offset=12), Assign([Attribute(Name('obj', Load(), lineno=136, col_offset=12), 'y', Store(), lineno=136, col_offset=12)], Str('bar', lineno=136, col_offset=20), lineno=136, col_offset=12), Delete([Attribute(Name('obj', Load(), lineno=137, col_offset=16), 'y', Del(), lineno=137, col_offset=16)], lineno=137, col_offset=12), Expr(Call(Attribute(Name('e1', Load(), lineno=138, col_offset=12), 'set', Load(), lineno=138, col_offset=12), [], [], None, None, lineno=138, col_offset=12), lineno=138, col_offset=12), Expr(Call(Attribute(Name('e2', Load(), lineno=139, col_offset=12), 'wait', Load(), lineno=139, col_offset=12), [], [], None, None, lineno=139, col_offset=12), lineno=139, col_offset=12)], [], lineno=134, col_offset=8), FunctionDef('f2', arguments([], None, None, []), [TryExcept([Assign([Name('foo', Store(), lineno=143, col_offset=16)], Attribute(Name('obj', Load(), lineno=143, col_offset=22), 'x', Load(), lineno=143, col_offset=22), lineno=143, col_offset=16)], [ExceptHandler(Name('AttributeError', Load(), lineno=144, col_offset=19), None, [Assign([Attribute(Name('self', Load(), lineno=146, col_offset=16), '_failed', Store(), lineno=146, col_offset=16)], Str('', lineno=146, col_offset=31), lineno=146, col_offset=16)], lineno=144, col_offset=12)], [Assign([Attribute(Name('self', Load(), lineno=148, col_offset=16), '_failed', Store(), lineno=148, col_offset=16)], BinOp(Str('Incorrectly got value %r from class %r\n', lineno=148, col_offset=32), Mod(), Tuple([Name('foo', Load(), lineno=149, col_offset=33), Name('c', Load(), lineno=149, col_offset=38)], Load(), lineno=149, col_offset=33), lineno=148, col_offset=32), lineno=148, col_offset=16), Expr(Call(Attribute(Attribute(Name('sys', Load(), lineno=150, col_offset=16), 'stderr', Load(), lineno=150, col_offset=16), 'write', Load(), lineno=150, col_offset=16), [Attribute(Name('self', Load(), lineno=150, col_offset=33), '_failed', Load(), lineno=150, col_offset=33)], [], None, None, lineno=150, col_offset=16), lineno=150, col_offset=16)], lineno=142, col_offset=12)], [], lineno=141, col_offset=8), Assign([Name('t1', Store(), lineno=152, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=152, col_offset=13), 'Thread', Load(), lineno=152, col_offset=13), [], [keyword('target', Name('f1', Load(), lineno=152, col_offset=37))], None, None, lineno=152, col_offset=13), lineno=152, col_offset=8), Expr(Call(Attribute(Name('t1', Load(), lineno=153, col_offset=8), 'start', Load(), lineno=153, col_offset=8), [], [], None, None, lineno=153, col_offset=8), lineno=153, col_offset=8), Expr(Call(Attribute(Name('e1', Load(), lineno=154, col_offset=8), 'wait', Load(), lineno=154, col_offset=8), [], [], None, None, lineno=154, col_offset=8), lineno=154, col_offset=8), Assign([Name('t2', Store(), lineno=155, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=155, col_offset=13), 'Thread', Load(), lineno=155, col_offset=13), [], [keyword('target', Name('f2', Load(), lineno=155, col_offset=37))], None, None, lineno=155, col_offset=13), lineno=155, col_offset=8), Expr(Call(Attribute(Name('t2', Load(), lineno=156, col_offset=8), 'start', Load(), lineno=156, col_offset=8), [], [], None, None, lineno=156, col_offset=8), lineno=156, col_offset=8), Expr(Call(Attribute(Name('t2', Load(), lineno=157, col_offset=8), 'join', Load(), lineno=157, col_offset=8), [], [], None, None, lineno=157, col_offset=8), lineno=157, col_offset=8), Expr(Call(Attribute(Name('e2', Load(), lineno=159, col_offset=8), 'set', Load(), lineno=159, col_offset=8), [], [], None, None, lineno=159, col_offset=8), lineno=159, col_offset=8), Expr(Call(Attribute(Name('t1', Load(), lineno=160, col_offset=8), 'join', Load(), lineno=160, col_offset=8), [], [], None, None, lineno=160, col_offset=8), lineno=160, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=162, col_offset=8), 'assertFalse', Load(), lineno=162, col_offset=8), [Attribute(Name('self', Load(), lineno=162, col_offset=25), '_failed', Load(), lineno=162, col_offset=25), Attribute(Name('self', Load(), lineno=162, col_offset=39), '_failed', Load(), lineno=162, col_offset=39)], [], None, None, lineno=162, col_offset=8), lineno=162, col_offset=8)], [], lineno=128, col_offset=4), FunctionDef('test_threading_local', arguments([Name('self', Param(), lineno=164, col_offset=29)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=165, col_offset=8), '_test_one_class', Load(), lineno=165, col_offset=8), [Attribute(Name('self', Load(), lineno=165, col_offset=29), '_local', Load(), lineno=165, col_offset=29)], [], None, None, lineno=165, col_offset=8), lineno=165, col_offset=8)], [], lineno=164, col_offset=4), FunctionDef('test_threading_local_subclass', arguments([Name('self', Param(), lineno=167, col_offset=38)], None, None, []), [ClassDef('LocalSubclass', [Attribute(Name('self', Load(), lineno=168, col_offset=28), '_local', Load(), lineno=168, col_offset=28)], [Expr(Str('To test that subclasses behave properly.', lineno=169, col_offset=12), lineno=169, col_offset=12)], [], lineno=168, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=170, col_offset=8), '_test_one_class', Load(), lineno=170, col_offset=8), [Name('LocalSubclass', Load(), lineno=170, col_offset=29)], [], None, None, lineno=170, col_offset=8), lineno=170, col_offset=8)], [], lineno=167, col_offset=4), FunctionDef('_test_dict_attribute', arguments([Name('self', Param(), lineno=172, col_offset=29), Name('cls', Param(), lineno=172, col_offset=35)], None, None, []), [Assign([Name('obj', Store(), lineno=173, col_offset=8)], Call(Name('cls', Load(), lineno=173, col_offset=14), [], [], None, None, lineno=173, col_offset=14), lineno=173, col_offset=8), Assign([Attribute(Name('obj', Load(), lineno=174, col_offset=8), 'x', Store(), lineno=174, col_offset=8)], Num(5, lineno=174, col_offset=16), lineno=174, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=175, col_offset=8), 'assertEqual', Load(), lineno=175, col_offset=8), [Attribute(Name('obj', Load(), lineno=175, col_offset=25), '__dict__', Load(), lineno=175, col_offset=25), Dict([Str('x', lineno=175, col_offset=40)], [Num(5, lineno=175, col_offset=45)], lineno=175, col_offset=39)], [], None, None, lineno=175, col_offset=8), lineno=175, col_offset=8), With(Call(Attribute(Name('self', Load(), lineno=176, col_offset=13), 'assertRaises', Load(), lineno=176, col_offset=13), [Name('AttributeError', Load(), lineno=176, col_offset=31)], [], None, None, lineno=176, col_offset=13), None, [Assign([Attribute(Name('obj', Load(), lineno=177, col_offset=12), '__dict__', Store(), lineno=177, col_offset=12)], Dict([], [], lineno=177, col_offset=27), lineno=177, col_offset=12)], lineno=176, col_offset=13), With(Call(Attribute(Name('self', Load(), lineno=178, col_offset=13), 'assertRaises', Load(), lineno=178, col_offset=13), [Name('AttributeError', Load(), lineno=178, col_offset=31)], [], None, None, lineno=178, col_offset=13), None, [Delete([Attribute(Name('obj', Load(), lineno=179, col_offset=16), '__dict__', Del(), lineno=179, col_offset=16)], lineno=179, col_offset=12)], lineno=178, col_offset=13)], [], lineno=172, col_offset=4), FunctionDef('test_dict_attribute', arguments([Name('self', Param(), lineno=181, col_offset=28)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=182, col_offset=8), '_test_dict_attribute', Load(), lineno=182, col_offset=8), [Attribute(Name('self', Load(), lineno=182, col_offset=34), '_local', Load(), lineno=182, col_offset=34)], [], None, None, lineno=182, col_offset=8), lineno=182, col_offset=8)], [], lineno=181, col_offset=4), FunctionDef('test_dict_attribute_subclass', arguments([Name('self', Param(), lineno=184, col_offset=37)], None, None, []), [ClassDef('LocalSubclass', [Attribute(Name('self', Load(), lineno=185, col_offset=28), '_local', Load(), lineno=185, col_offset=28)], [Expr(Str('To test that subclasses behave properly.', lineno=186, col_offset=12), lineno=186, col_offset=12)], [], lineno=185, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=187, col_offset=8), '_test_dict_attribute', Load(), lineno=187, col_offset=8), [Name('LocalSubclass', Load(), lineno=187, col_offset=34)], [], None, None, lineno=187, col_offset=8), lineno=187, col_offset=8)], [], lineno=184, col_offset=4)], [], lineno=21, col_offset=0), ClassDef('ThreadLocalTest', [Attribute(Name('unittest', Load(), lineno=190, col_offset=22), 'TestCase', Load(), lineno=190, col_offset=22), Name('BaseLocalTest', Load(), lineno=190, col_offset=41)], [Assign([Name('_local', Store(), lineno=191, col_offset=4)], Attribute(Name('_thread', Load(), lineno=191, col_offset=13), '_local', Load(), lineno=191, col_offset=13), lineno=191, col_offset=4), FunctionDef('test_cycle_collection', arguments([Name('self', Param(), lineno=194, col_offset=30)], None, None, []), [ClassDef('X', [], [Pass( lineno=196, col_offset=12)], [], lineno=195, col_offset=8), Assign([Name('x', Store(), lineno=198, col_offset=8)], Call(Name('X', Load(), lineno=198, col_offset=12), [], [], None, None, lineno=198, col_offset=12), lineno=198, col_offset=8), Assign([Attribute(Name('x', Load(), lineno=199, col_offset=8), 'local', Store(), lineno=199, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=199, col_offset=18), '_local', Load(), lineno=199, col_offset=18), [], [], None, None, lineno=199, col_offset=18), lineno=199, col_offset=8), Assign([Attribute(Attribute(Name('x', Load(), lineno=200, col_offset=8), 'local', Load(), lineno=200, col_offset=8), 'x', Store(), lineno=200, col_offset=8)], Name('x', Load(), lineno=200, col_offset=20), lineno=200, col_offset=8), Assign([Name('wr', Store(), lineno=201, col_offset=8)], Call(Attribute(Name('weakref', Load(), lineno=201, col_offset=13), 'ref', Load(), lineno=201, col_offset=13), [Name('x', Load(), lineno=201, col_offset=25)], [], None, None, lineno=201, col_offset=13), lineno=201, col_offset=8), Delete([Name('x', Del(), lineno=202, col_offset=12)], lineno=202, col_offset=8), Expr(Call(Attribute(Name('gc', Load(), lineno=203, col_offset=8), 'collect', Load(), lineno=203, col_offset=8), [], [], None, None, lineno=203, col_offset=8), lineno=203, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=204, col_offset=8), 'assertIs', Load(), lineno=204, col_offset=8), [Call(Name('wr', Load(), lineno=204, col_offset=22), [], [], None, None, lineno=204, col_offset=22), Name('None', Load(), lineno=204, col_offset=28)], [], None, None, lineno=204, col_offset=8), lineno=204, col_offset=8)], [], lineno=194, col_offset=4)], [], lineno=190, col_offset=0), ClassDef('PyThreadingLocalTest', [Attribute(Name('unittest', Load(), lineno=206, col_offset=27), 'TestCase', Load(), lineno=206, col_offset=27), Name('BaseLocalTest', Load(), lineno=206, col_offset=46)], [Assign([Name('_local', Store(), lineno=207, col_offset=4)], Attribute(Name('_threading_local', Load(), lineno=207, col_offset=13), 'local', Load(), lineno=207, col_offset=13), lineno=207, col_offset=4)], [], lineno=206, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Assign([Name('suite', Store(), lineno=211, col_offset=4)], Call(Attribute(Name('unittest', Load(), lineno=211, col_offset=12), 'TestSuite', Load(), lineno=211, col_offset=12), [], [], None, None, lineno=211, col_offset=12), lineno=211, col_offset=4), Expr(Call(Attribute(Name('suite', Load(), lineno=212, col_offset=4), 'addTest', Load(), lineno=212, col_offset=4), [Call(Name('DocTestSuite', Load(), lineno=212, col_offset=18), [Str('_threading_local', lineno=212, col_offset=31)], [], None, None, lineno=212, col_offset=18)], [], None, None, lineno=212, col_offset=4), lineno=212, col_offset=4), Expr(Call(Attribute(Name('suite', Load(), lineno=213, col_offset=4), 'addTest', Load(), lineno=213, col_offset=4), [Call(Attribute(Name('unittest', Load(), lineno=213, col_offset=18), 'makeSuite', Load(), lineno=213, col_offset=18), [Name('ThreadLocalTest', Load(), lineno=213, col_offset=37)], [], None, None, lineno=213, col_offset=18)], [], None, None, lineno=213, col_offset=4), lineno=213, col_offset=4), Expr(Call(Attribute(Name('suite', Load(), lineno=214, col_offset=4), 'addTest', Load(), lineno=214, col_offset=4), [Call(Attribute(Name('unittest', Load(), lineno=214, col_offset=18), 'makeSuite', Load(), lineno=214, col_offset=18), [Name('PyThreadingLocalTest', Load(), lineno=214, col_offset=37)], [], None, None, lineno=214, col_offset=18)], [], None, None, lineno=214, col_offset=4), lineno=214, col_offset=4), TryExcept([ImportFrom('thread', [alias('_local', None)], 0, lineno=217, col_offset=8)], [ExceptHandler(Name('ImportError', Load(), lineno=218, col_offset=11), None, [Pass( lineno=219, col_offset=8)], lineno=218, col_offset=4)], [Import([alias('_threading_local', None)], lineno=221, col_offset=8), Assign([Name('local_orig', Store(), lineno=222, col_offset=8)], Attribute(Name('_threading_local', Load(), lineno=222, col_offset=21), 'local', Load(), lineno=222, col_offset=21), lineno=222, col_offset=8), FunctionDef('setUp', arguments([Name('test', Param(), lineno=223, col_offset=18)], None, None, []), [Assign([Attribute(Name('_threading_local', Load(), lineno=224, col_offset=12), 'local', Store(), lineno=224, col_offset=12)], Name('_local', Load(), lineno=224, col_offset=37), lineno=224, col_offset=12)], [], lineno=223, col_offset=8), FunctionDef('tearDown', arguments([Name('test', Param(), lineno=225, col_offset=21)], None, None, []), [Assign([Attribute(Name('_threading_local', Load(), lineno=226, col_offset=12), 'local', Store(), lineno=226, col_offset=12)], Name('local_orig', Load(), lineno=226, col_offset=37), lineno=226, col_offset=12)], [], lineno=225, col_offset=8), Expr(Call(Attribute(Name('suite', Load(), lineno=227, col_offset=8), 'addTest', Load(), lineno=227, col_offset=8), [Call(Name('DocTestSuite', Load(), lineno=227, col_offset=22), [Str('_threading_local', lineno=227, col_offset=35)], [keyword('setUp', Name('setUp', Load(), lineno=228, col_offset=41)), keyword('tearDown', Name('tearDown', Load(), lineno=228, col_offset=57))], None, None, lineno=227, col_offset=22)], [], None, None, lineno=227, col_offset=8), lineno=227, col_offset=8)], lineno=216, col_offset=4), Expr(Call(Attribute(Name('test_support', Load(), lineno=231, col_offset=4), 'run_unittest', Load(), lineno=231, col_offset=4), [Name('suite', Load(), lineno=231, col_offset=30)], [], None, None, lineno=231, col_offset=4), lineno=231, col_offset=4)], [], lineno=210, col_offset=0), If(Compare(Name('__name__', Load(), lineno=233, col_offset=3), [Eq()], [Str('__main__', lineno=233, col_offset=15)], lineno=233, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=234, col_offset=4), [], [], None, None, lineno=234, col_offset=4), lineno=234, col_offset=4)], [], lineno=233, col_offset=0)])
