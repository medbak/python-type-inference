Module([Import([alias('unittest', None)], lineno=1, col_offset=0), Import([alias('os', None)], lineno=2, col_offset=0), ImportFrom('test.test_support', [alias('TESTFN', None), alias('run_unittest', None), alias('unlink', None), alias('import_module', None)], 0, lineno=3, col_offset=0), Assign([Name('gdbm', Store(), lineno=4, col_offset=0)], Call(Name('import_module', Load(), lineno=4, col_offset=7), [Str('gdbm', lineno=4, col_offset=21)], [], None, None, lineno=4, col_offset=7), lineno=4, col_offset=0), Assign([Name('filename', Store(), lineno=7, col_offset=0)], Name('TESTFN', Load(), lineno=7, col_offset=11), lineno=7, col_offset=0), ClassDef('TestGdbm', [Attribute(Name('unittest', Load(), lineno=9, col_offset=15), 'TestCase', Load(), lineno=9, col_offset=15)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=11, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=12, col_offset=8), 'g', Store(), lineno=12, col_offset=8)], Name('None', Load(), lineno=12, col_offset=17), lineno=12, col_offset=8)], [], lineno=11, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=14, col_offset=17)], None, None, []), [If(Compare(Attribute(Name('self', Load(), lineno=15, col_offset=11), 'g', Load(), lineno=15, col_offset=11), [IsNot()], [Name('None', Load(), lineno=15, col_offset=25)], lineno=15, col_offset=11), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=16, col_offset=12), 'g', Load(), lineno=16, col_offset=12), 'close', Load(), lineno=16, col_offset=12), [], [], None, None, lineno=16, col_offset=12), lineno=16, col_offset=12)], [], lineno=15, col_offset=8), Expr(Call(Name('unlink', Load(), lineno=17, col_offset=8), [Name('filename', Load(), lineno=17, col_offset=15)], [], None, None, lineno=17, col_offset=8), lineno=17, col_offset=8)], [], lineno=14, col_offset=4), FunctionDef('test_key_methods', arguments([Name('self', Param(), lineno=19, col_offset=25)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=20, col_offset=8), 'g', Store(), lineno=20, col_offset=8)], Call(Attribute(Name('gdbm', Load(), lineno=20, col_offset=17), 'open', Load(), lineno=20, col_offset=17), [Name('filename', Load(), lineno=20, col_offset=27), Str('c', lineno=20, col_offset=37)], [], None, None, lineno=20, col_offset=17), lineno=20, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=21, col_offset=8), 'assertEqual', Load(), lineno=21, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=21, col_offset=25), 'g', Load(), lineno=21, col_offset=25), 'keys', Load(), lineno=21, col_offset=25), [], [], None, None, lineno=21, col_offset=25), List([], Load(), lineno=21, col_offset=40)], [], None, None, lineno=21, col_offset=8), lineno=21, col_offset=8), Assign([Subscript(Attribute(Name('self', Load(), lineno=22, col_offset=8), 'g', Load(), lineno=22, col_offset=8), Index(Str('a', lineno=22, col_offset=15)), Store(), lineno=22, col_offset=8)], Str('b', lineno=22, col_offset=22), lineno=22, col_offset=8), Assign([Subscript(Attribute(Name('self', Load(), lineno=23, col_offset=8), 'g', Load(), lineno=23, col_offset=8), Index(Str('12345678910', lineno=23, col_offset=15)), Store(), lineno=23, col_offset=8)], Str('019237410982340912840198242', lineno=23, col_offset=32), lineno=23, col_offset=8), Assign([Name('key_set', Store(), lineno=24, col_offset=8)], Call(Name('set', Load(), lineno=24, col_offset=18), [Call(Attribute(Attribute(Name('self', Load(), lineno=24, col_offset=22), 'g', Load(), lineno=24, col_offset=22), 'keys', Load(), lineno=24, col_offset=22), [], [], None, None, lineno=24, col_offset=22)], [], None, None, lineno=24, col_offset=18), lineno=24, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=25, col_offset=8), 'assertEqual', Load(), lineno=25, col_offset=8), [Name('key_set', Load(), lineno=25, col_offset=25), Call(Name('frozenset', Load(), lineno=25, col_offset=34), [List([Str('a', lineno=25, col_offset=45), Str('12345678910', lineno=25, col_offset=50)], Load(), lineno=25, col_offset=44)], [], None, None, lineno=25, col_offset=34)], [], None, None, lineno=25, col_offset=8), lineno=25, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=26, col_offset=8), 'assertTrue', Load(), lineno=26, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=26, col_offset=24), 'g', Load(), lineno=26, col_offset=24), 'has_key', Load(), lineno=26, col_offset=24), [Str('a', lineno=26, col_offset=39)], [], None, None, lineno=26, col_offset=24)], [], None, None, lineno=26, col_offset=8), lineno=26, col_offset=8), Assign([Name('key', Store(), lineno=27, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=27, col_offset=14), 'g', Load(), lineno=27, col_offset=14), 'firstkey', Load(), lineno=27, col_offset=14), [], [], None, None, lineno=27, col_offset=14), lineno=27, col_offset=8), While(Name('key', Load(), lineno=28, col_offset=14), [Expr(Call(Attribute(Name('self', Load(), lineno=29, col_offset=12), 'assertIn', Load(), lineno=29, col_offset=12), [Name('key', Load(), lineno=29, col_offset=26), Name('key_set', Load(), lineno=29, col_offset=31)], [], None, None, lineno=29, col_offset=12), lineno=29, col_offset=12), Expr(Call(Attribute(Name('key_set', Load(), lineno=30, col_offset=12), 'remove', Load(), lineno=30, col_offset=12), [Name('key', Load(), lineno=30, col_offset=27)], [], None, None, lineno=30, col_offset=12), lineno=30, col_offset=12), Assign([Name('key', Store(), lineno=31, col_offset=12)], Call(Attribute(Attribute(Name('self', Load(), lineno=31, col_offset=18), 'g', Load(), lineno=31, col_offset=18), 'nextkey', Load(), lineno=31, col_offset=18), [Name('key', Load(), lineno=31, col_offset=33)], [], None, None, lineno=31, col_offset=18), lineno=31, col_offset=12)], [], lineno=28, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=32, col_offset=8), 'assertRaises', Load(), lineno=32, col_offset=8), [Name('KeyError', Load(), lineno=32, col_offset=26), Lambda(arguments([], None, None, []), Subscript(Attribute(Name('self', Load(), lineno=32, col_offset=44), 'g', Load(), lineno=32, col_offset=44), Index(Str('xxx', lineno=32, col_offset=51)), Load(), lineno=32, col_offset=44), lineno=32, col_offset=36)], [], None, None, lineno=32, col_offset=8), lineno=32, col_offset=8)], [], lineno=19, col_offset=4), FunctionDef('test_error_conditions', arguments([Name('self', Param(), lineno=34, col_offset=30)], None, None, []), [Expr(Call(Name('unlink', Load(), lineno=36, col_offset=8), [Name('filename', Load(), lineno=36, col_offset=15)], [], None, None, lineno=36, col_offset=8), lineno=36, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=37, col_offset=8), 'assertRaises', Load(), lineno=37, col_offset=8), [Attribute(Name('gdbm', Load(), lineno=37, col_offset=26), 'error', Load(), lineno=37, col_offset=26), Attribute(Name('gdbm', Load(), lineno=37, col_offset=38), 'open', Load(), lineno=37, col_offset=38), Name('filename', Load(), lineno=37, col_offset=49), Str('r', lineno=37, col_offset=59)], [], None, None, lineno=37, col_offset=8), lineno=37, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=39, col_offset=8), 'g', Store(), lineno=39, col_offset=8)], Call(Attribute(Name('gdbm', Load(), lineno=39, col_offset=17), 'open', Load(), lineno=39, col_offset=17), [Name('filename', Load(), lineno=39, col_offset=27), Str('c', lineno=39, col_offset=37)], [], None, None, lineno=39, col_offset=17), lineno=39, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=40, col_offset=8), 'g', Load(), lineno=40, col_offset=8), 'close', Load(), lineno=40, col_offset=8), [], [], None, None, lineno=40, col_offset=8), lineno=40, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=41, col_offset=8), 'assertRaises', Load(), lineno=41, col_offset=8), [Attribute(Name('gdbm', Load(), lineno=41, col_offset=26), 'error', Load(), lineno=41, col_offset=26), Lambda(arguments([], None, None, []), Subscript(Attribute(Name('self', Load(), lineno=41, col_offset=46), 'g', Load(), lineno=41, col_offset=46), Index(Str('a', lineno=41, col_offset=53)), Load(), lineno=41, col_offset=46), lineno=41, col_offset=38)], [], None, None, lineno=41, col_offset=8), lineno=41, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=43, col_offset=8), 'assertRaises', Load(), lineno=43, col_offset=8), [Attribute(Name('gdbm', Load(), lineno=43, col_offset=26), 'error', Load(), lineno=43, col_offset=26), Lambda(arguments([], None, None, []), Call(Attribute(Call(Attribute(Name('gdbm', Load(), lineno=43, col_offset=46), 'open', Load(), lineno=43, col_offset=46), [Name('filename', Load(), lineno=43, col_offset=56), Str('rx', lineno=43, col_offset=66)], [], None, None, lineno=43, col_offset=46), 'close', Load(), lineno=43, col_offset=46), [], [], None, None, lineno=43, col_offset=46), lineno=43, col_offset=38)], [], None, None, lineno=43, col_offset=8), lineno=43, col_offset=8)], [], lineno=34, col_offset=4), FunctionDef('test_flags', arguments([Name('self', Param(), lineno=45, col_offset=19)], None, None, []), [Assign([Name('all', Store(), lineno=47, col_offset=8)], Call(Name('set', Load(), lineno=47, col_offset=14), [Attribute(Name('gdbm', Load(), lineno=47, col_offset=18), 'open_flags', Load(), lineno=47, col_offset=18)], [], None, None, lineno=47, col_offset=14), lineno=47, col_offset=8), Assign([Name('modes', Store(), lineno=49, col_offset=8)], BinOp(Name('all', Load(), lineno=49, col_offset=16), Sub(), Call(Name('set', Load(), lineno=49, col_offset=22), [Str('fsu', lineno=49, col_offset=26)], [], None, None, lineno=49, col_offset=22), lineno=49, col_offset=16), lineno=49, col_offset=8), For(Name('mode', Store(), lineno=50, col_offset=12), Name('modes', Load(), lineno=50, col_offset=20), [Assign([Attribute(Name('self', Load(), lineno=51, col_offset=12), 'g', Store(), lineno=51, col_offset=12)], Call(Attribute(Name('gdbm', Load(), lineno=51, col_offset=21), 'open', Load(), lineno=51, col_offset=21), [Name('filename', Load(), lineno=51, col_offset=31), Name('mode', Load(), lineno=51, col_offset=41)], [], None, None, lineno=51, col_offset=21), lineno=51, col_offset=12), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=52, col_offset=12), 'g', Load(), lineno=52, col_offset=12), 'close', Load(), lineno=52, col_offset=12), [], [], None, None, lineno=52, col_offset=12), lineno=52, col_offset=12)], [], lineno=50, col_offset=8), Assign([Name('flags', Store(), lineno=55, col_offset=8)], BinOp(Name('all', Load(), lineno=55, col_offset=16), Sub(), Call(Name('set', Load(), lineno=55, col_offset=22), [Str('crwn', lineno=55, col_offset=26)], [], None, None, lineno=55, col_offset=22), lineno=55, col_offset=16), lineno=55, col_offset=8), For(Name('mode', Store(), lineno=56, col_offset=12), Name('modes', Load(), lineno=56, col_offset=20), [For(Name('flag', Store(), lineno=57, col_offset=16), Name('flags', Load(), lineno=57, col_offset=24), [Assign([Attribute(Name('self', Load(), lineno=58, col_offset=16), 'g', Store(), lineno=58, col_offset=16)], Call(Attribute(Name('gdbm', Load(), lineno=58, col_offset=25), 'open', Load(), lineno=58, col_offset=25), [Name('filename', Load(), lineno=58, col_offset=35), BinOp(Name('mode', Load(), lineno=58, col_offset=45), Add(), Name('flag', Load(), lineno=58, col_offset=52), lineno=58, col_offset=45)], [], None, None, lineno=58, col_offset=25), lineno=58, col_offset=16), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=59, col_offset=16), 'g', Load(), lineno=59, col_offset=16), 'close', Load(), lineno=59, col_offset=16), [], [], None, None, lineno=59, col_offset=16), lineno=59, col_offset=16)], [], lineno=57, col_offset=12)], [], lineno=56, col_offset=8)], [], lineno=45, col_offset=4), FunctionDef('test_reorganize', arguments([Name('self', Param(), lineno=61, col_offset=24)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=62, col_offset=8), 'g', Store(), lineno=62, col_offset=8)], Call(Attribute(Name('gdbm', Load(), lineno=62, col_offset=17), 'open', Load(), lineno=62, col_offset=17), [Name('filename', Load(), lineno=62, col_offset=27), Str('c', lineno=62, col_offset=37)], [], None, None, lineno=62, col_offset=17), lineno=62, col_offset=8), Assign([Name('size0', Store(), lineno=63, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=63, col_offset=16), 'path', Load(), lineno=63, col_offset=16), 'getsize', Load(), lineno=63, col_offset=16), [Name('filename', Load(), lineno=63, col_offset=32)], [], None, None, lineno=63, col_offset=16), lineno=63, col_offset=8), Assign([Subscript(Attribute(Name('self', Load(), lineno=65, col_offset=8), 'g', Load(), lineno=65, col_offset=8), Index(Str('x', lineno=65, col_offset=15)), Store(), lineno=65, col_offset=8)], BinOp(Str('x', lineno=65, col_offset=22), Mult(), Num(10000, lineno=65, col_offset=28), lineno=65, col_offset=22), lineno=65, col_offset=8), Assign([Name('size1', Store(), lineno=66, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=66, col_offset=16), 'path', Load(), lineno=66, col_offset=16), 'getsize', Load(), lineno=66, col_offset=16), [Name('filename', Load(), lineno=66, col_offset=32)], [], None, None, lineno=66, col_offset=16), lineno=66, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=67, col_offset=8), 'assertTrue', Load(), lineno=67, col_offset=8), [Compare(Name('size0', Load(), lineno=67, col_offset=24), [Lt()], [Name('size1', Load(), lineno=67, col_offset=32)], lineno=67, col_offset=24)], [], None, None, lineno=67, col_offset=8), lineno=67, col_offset=8), Delete([Subscript(Attribute(Name('self', Load(), lineno=69, col_offset=12), 'g', Load(), lineno=69, col_offset=12), Index(Str('x', lineno=69, col_offset=19)), Del(), lineno=69, col_offset=12)], lineno=69, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=71, col_offset=8), 'assertEqual', Load(), lineno=71, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=71, col_offset=25), 'path', Load(), lineno=71, col_offset=25), 'getsize', Load(), lineno=71, col_offset=25), [Name('filename', Load(), lineno=71, col_offset=41)], [], None, None, lineno=71, col_offset=25), Name('size1', Load(), lineno=71, col_offset=52)], [], None, None, lineno=71, col_offset=8), lineno=71, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=73, col_offset=8), 'g', Load(), lineno=73, col_offset=8), 'reorganize', Load(), lineno=73, col_offset=8), [], [], None, None, lineno=73, col_offset=8), lineno=73, col_offset=8), Assign([Name('size2', Store(), lineno=74, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=74, col_offset=16), 'path', Load(), lineno=74, col_offset=16), 'getsize', Load(), lineno=74, col_offset=16), [Name('filename', Load(), lineno=74, col_offset=32)], [], None, None, lineno=74, col_offset=16), lineno=74, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=75, col_offset=8), 'assertTrue', Load(), lineno=75, col_offset=8), [Compare(Name('size1', Load(), lineno=75, col_offset=24), [Gt(), GtE()], [Name('size2', Load(), lineno=75, col_offset=32), Name('size0', Load(), lineno=75, col_offset=41)], lineno=75, col_offset=24)], [], None, None, lineno=75, col_offset=8), lineno=75, col_offset=8)], [], lineno=61, col_offset=4)], [], lineno=9, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Name('run_unittest', Load(), lineno=79, col_offset=4), [Name('TestGdbm', Load(), lineno=79, col_offset=17)], [], None, None, lineno=79, col_offset=4), lineno=79, col_offset=4)], [], lineno=78, col_offset=0), If(Compare(Name('__name__', Load(), lineno=81, col_offset=3), [Eq()], [Str('__main__', lineno=81, col_offset=15)], lineno=81, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=82, col_offset=4), [], [], None, None, lineno=82, col_offset=4), lineno=82, col_offset=4)], [], lineno=81, col_offset=0)])
