Module([Import([alias('compileall', None)], lineno=1, col_offset=0), Import([alias('imp', None)], lineno=2, col_offset=0), Import([alias('os', None)], lineno=3, col_offset=0), Import([alias('py_compile', None)], lineno=4, col_offset=0), Import([alias('shutil', None)], lineno=5, col_offset=0), Import([alias('struct', None)], lineno=6, col_offset=0), Import([alias('tempfile', None)], lineno=7, col_offset=0), ImportFrom('test', [alias('test_support', None)], 0, lineno=8, col_offset=0), Import([alias('unittest', None)], lineno=9, col_offset=0), ClassDef('CompileallTests', [Attribute(Name('unittest', Load(), lineno=12, col_offset=22), 'TestCase', Load(), lineno=12, col_offset=22)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=14, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=15, col_offset=8), 'directory', Store(), lineno=15, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=15, col_offset=25), 'mkdtemp', Load(), lineno=15, col_offset=25), [], [], None, None, lineno=15, col_offset=25), lineno=15, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=16, col_offset=8), 'source_path', Store(), lineno=16, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=16, col_offset=27), 'path', Load(), lineno=16, col_offset=27), 'join', Load(), lineno=16, col_offset=27), [Attribute(Name('self', Load(), lineno=16, col_offset=40), 'directory', Load(), lineno=16, col_offset=40), Str('_test.py', lineno=16, col_offset=56)], [], None, None, lineno=16, col_offset=27), lineno=16, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=17, col_offset=8), 'bc_path', Store(), lineno=17, col_offset=8)], BinOp(Attribute(Name('self', Load(), lineno=17, col_offset=23), 'source_path', Load(), lineno=17, col_offset=23), Add(), IfExp(Name('__debug__', Load(), lineno=17, col_offset=50), Str('c', lineno=17, col_offset=43), Str('o', lineno=17, col_offset=65), lineno=17, col_offset=43), lineno=17, col_offset=23), lineno=17, col_offset=8), With(Call(Name('open', Load(), lineno=18, col_offset=13), [Attribute(Name('self', Load(), lineno=18, col_offset=18), 'source_path', Load(), lineno=18, col_offset=18), Str('w', lineno=18, col_offset=36)], [], None, None, lineno=18, col_offset=13), Name('file', Store(), lineno=18, col_offset=44), [Expr(Call(Attribute(Name('file', Load(), lineno=19, col_offset=12), 'write', Load(), lineno=19, col_offset=12), [Str('x = 123\n', lineno=19, col_offset=23)], [], None, None, lineno=19, col_offset=12), lineno=19, col_offset=12)], lineno=18, col_offset=13), Assign([Attribute(Name('self', Load(), lineno=20, col_offset=8), 'source_path2', Store(), lineno=20, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=20, col_offset=28), 'path', Load(), lineno=20, col_offset=28), 'join', Load(), lineno=20, col_offset=28), [Attribute(Name('self', Load(), lineno=20, col_offset=41), 'directory', Load(), lineno=20, col_offset=41), Str('_test2.py', lineno=20, col_offset=57)], [], None, None, lineno=20, col_offset=28), lineno=20, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=21, col_offset=8), 'bc_path2', Store(), lineno=21, col_offset=8)], BinOp(Attribute(Name('self', Load(), lineno=21, col_offset=24), 'source_path2', Load(), lineno=21, col_offset=24), Add(), IfExp(Name('__debug__', Load(), lineno=21, col_offset=52), Str('c', lineno=21, col_offset=45), Str('o', lineno=21, col_offset=67), lineno=21, col_offset=45), lineno=21, col_offset=24), lineno=21, col_offset=8), Expr(Call(Attribute(Name('shutil', Load(), lineno=22, col_offset=8), 'copyfile', Load(), lineno=22, col_offset=8), [Attribute(Name('self', Load(), lineno=22, col_offset=24), 'source_path', Load(), lineno=22, col_offset=24), Attribute(Name('self', Load(), lineno=22, col_offset=42), 'source_path2', Load(), lineno=22, col_offset=42)], [], None, None, lineno=22, col_offset=8), lineno=22, col_offset=8)], [], lineno=14, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=24, col_offset=17)], None, None, []), [Expr(Call(Attribute(Name('shutil', Load(), lineno=25, col_offset=8), 'rmtree', Load(), lineno=25, col_offset=8), [Attribute(Name('self', Load(), lineno=25, col_offset=22), 'directory', Load(), lineno=25, col_offset=22)], [], None, None, lineno=25, col_offset=8), lineno=25, col_offset=8)], [], lineno=24, col_offset=4), FunctionDef('data', arguments([Name('self', Param(), lineno=27, col_offset=13)], None, None, []), [With(Call(Name('open', Load(), lineno=28, col_offset=13), [Attribute(Name('self', Load(), lineno=28, col_offset=18), 'bc_path', Load(), lineno=28, col_offset=18), Str('rb', lineno=28, col_offset=32)], [], None, None, lineno=28, col_offset=13), Name('file', Store(), lineno=28, col_offset=41), [Assign([Name('data', Store(), lineno=29, col_offset=12)], Call(Attribute(Name('file', Load(), lineno=29, col_offset=19), 'read', Load(), lineno=29, col_offset=19), [Num(8, lineno=29, col_offset=29)], [], None, None, lineno=29, col_offset=19), lineno=29, col_offset=12)], lineno=28, col_offset=13), Assign([Name('mtime', Store(), lineno=30, col_offset=8)], Call(Name('int', Load(), lineno=30, col_offset=16), [Attribute(Call(Attribute(Name('os', Load(), lineno=30, col_offset=20), 'stat', Load(), lineno=30, col_offset=20), [Attribute(Name('self', Load(), lineno=30, col_offset=28), 'source_path', Load(), lineno=30, col_offset=28)], [], None, None, lineno=30, col_offset=20), 'st_mtime', Load(), lineno=30, col_offset=20)], [], None, None, lineno=30, col_offset=16), lineno=30, col_offset=8), Assign([Name('compare', Store(), lineno=31, col_offset=8)], Call(Attribute(Name('struct', Load(), lineno=31, col_offset=18), 'pack', Load(), lineno=31, col_offset=18), [Str('<4sl', lineno=31, col_offset=30), Call(Attribute(Name('imp', Load(), lineno=31, col_offset=38), 'get_magic', Load(), lineno=31, col_offset=38), [], [], None, None, lineno=31, col_offset=38), Name('mtime', Load(), lineno=31, col_offset=55)], [], None, None, lineno=31, col_offset=18), lineno=31, col_offset=8), Return(Tuple([Name('data', Load(), lineno=32, col_offset=15), Name('compare', Load(), lineno=32, col_offset=21)], Load(), lineno=32, col_offset=15), lineno=32, col_offset=8)], [], lineno=27, col_offset=4), FunctionDef('recreation_check', arguments([Name('self', Param(), lineno=34, col_offset=25), Name('metadata', Param(), lineno=34, col_offset=31)], None, None, []), [Expr(Str('Check that compileall recreates bytecode when the new metadata is\n        used.', lineno=36, col_offset=-1), lineno=36, col_offset=-1), If(UnaryOp(Not(), Call(Name('hasattr', Load(), lineno=37, col_offset=15), [Name('os', Load(), lineno=37, col_offset=23), Str('stat', lineno=37, col_offset=27)], [], None, None, lineno=37, col_offset=15), lineno=37, col_offset=11), [Return(None, lineno=38, col_offset=12)], [], lineno=37, col_offset=8), Expr(Call(Attribute(Name('py_compile', Load(), lineno=39, col_offset=8), 'compile', Load(), lineno=39, col_offset=8), [Attribute(Name('self', Load(), lineno=39, col_offset=27), 'source_path', Load(), lineno=39, col_offset=27)], [], None, None, lineno=39, col_offset=8), lineno=39, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=40, col_offset=8), 'assertEqual', Load(), lineno=40, col_offset=8), [], [], Call(Attribute(Name('self', Load(), lineno=40, col_offset=26), 'data', Load(), lineno=40, col_offset=26), [], [], None, None, lineno=40, col_offset=26), None, lineno=40, col_offset=8), lineno=40, col_offset=8), With(Call(Name('open', Load(), lineno=41, col_offset=13), [Attribute(Name('self', Load(), lineno=41, col_offset=18), 'bc_path', Load(), lineno=41, col_offset=18), Str('rb', lineno=41, col_offset=32)], [], None, None, lineno=41, col_offset=13), Name('file', Store(), lineno=41, col_offset=41), [Assign([Name('bc', Store(), lineno=42, col_offset=12)], Subscript(Call(Attribute(Name('file', Load(), lineno=42, col_offset=17), 'read', Load(), lineno=42, col_offset=17), [], [], None, None, lineno=42, col_offset=17), Slice(Call(Name('len', Load(), lineno=42, col_offset=29), [Name('metadata', Load(), lineno=42, col_offset=33)], [], None, None, lineno=42, col_offset=29), None, None), Load(), lineno=42, col_offset=17), lineno=42, col_offset=12)], lineno=41, col_offset=13), With(Call(Name('open', Load(), lineno=43, col_offset=13), [Attribute(Name('self', Load(), lineno=43, col_offset=18), 'bc_path', Load(), lineno=43, col_offset=18), Str('wb', lineno=43, col_offset=32)], [], None, None, lineno=43, col_offset=13), Name('file', Store(), lineno=43, col_offset=41), [Expr(Call(Attribute(Name('file', Load(), lineno=44, col_offset=12), 'write', Load(), lineno=44, col_offset=12), [Name('metadata', Load(), lineno=44, col_offset=23)], [], None, None, lineno=44, col_offset=12), lineno=44, col_offset=12), Expr(Call(Attribute(Name('file', Load(), lineno=45, col_offset=12), 'write', Load(), lineno=45, col_offset=12), [Name('bc', Load(), lineno=45, col_offset=23)], [], None, None, lineno=45, col_offset=12), lineno=45, col_offset=12)], lineno=43, col_offset=13), Expr(Call(Attribute(Name('self', Load(), lineno=46, col_offset=8), 'assertNotEqual', Load(), lineno=46, col_offset=8), [], [], Call(Attribute(Name('self', Load(), lineno=46, col_offset=29), 'data', Load(), lineno=46, col_offset=29), [], [], None, None, lineno=46, col_offset=29), None, lineno=46, col_offset=8), lineno=46, col_offset=8), Expr(Call(Attribute(Name('compileall', Load(), lineno=47, col_offset=8), 'compile_dir', Load(), lineno=47, col_offset=8), [Attribute(Name('self', Load(), lineno=47, col_offset=31), 'directory', Load(), lineno=47, col_offset=31)], [keyword('force', Name('False', Load(), lineno=47, col_offset=53)), keyword('quiet', Name('True', Load(), lineno=47, col_offset=66))], None, None, lineno=47, col_offset=8), lineno=47, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=48, col_offset=8), 'assertTrue', Load(), lineno=48, col_offset=8), [], [], Call(Attribute(Name('self', Load(), lineno=48, col_offset=25), 'data', Load(), lineno=48, col_offset=25), [], [], None, None, lineno=48, col_offset=25), None, lineno=48, col_offset=8), lineno=48, col_offset=8)], [], lineno=34, col_offset=4), FunctionDef('test_mtime', arguments([Name('self', Param(), lineno=50, col_offset=19)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=52, col_offset=8), 'recreation_check', Load(), lineno=52, col_offset=8), [Call(Attribute(Name('struct', Load(), lineno=52, col_offset=30), 'pack', Load(), lineno=52, col_offset=30), [Str('<4sl', lineno=52, col_offset=42), Call(Attribute(Name('imp', Load(), lineno=52, col_offset=50), 'get_magic', Load(), lineno=52, col_offset=50), [], [], None, None, lineno=52, col_offset=50), Num(1, lineno=52, col_offset=67)], [], None, None, lineno=52, col_offset=30)], [], None, None, lineno=52, col_offset=8), lineno=52, col_offset=8)], [], lineno=50, col_offset=4), FunctionDef('test_magic_number', arguments([Name('self', Param(), lineno=54, col_offset=26)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=56, col_offset=8), 'recreation_check', Load(), lineno=56, col_offset=8), [Str('\x00\x00\x00\x00', lineno=56, col_offset=30)], [], None, None, lineno=56, col_offset=8), lineno=56, col_offset=8)], [], lineno=54, col_offset=4), FunctionDef('test_compile_files', arguments([Name('self', Param(), lineno=58, col_offset=27)], None, None, []), [For(Name('fn', Store(), lineno=60, col_offset=12), Tuple([Attribute(Name('self', Load(), lineno=60, col_offset=19), 'bc_path', Load(), lineno=60, col_offset=19), Attribute(Name('self', Load(), lineno=60, col_offset=33), 'bc_path2', Load(), lineno=60, col_offset=33)], Load(), lineno=60, col_offset=19), [TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=62, col_offset=16), 'unlink', Load(), lineno=62, col_offset=16), [Name('fn', Load(), lineno=62, col_offset=26)], [], None, None, lineno=62, col_offset=16), lineno=62, col_offset=16)], [ExceptHandler(None, None, [Pass( lineno=64, col_offset=16)], lineno=63, col_offset=12)], [], lineno=61, col_offset=12)], [], lineno=60, col_offset=8), Expr(Call(Attribute(Name('compileall', Load(), lineno=65, col_offset=8), 'compile_file', Load(), lineno=65, col_offset=8), [Attribute(Name('self', Load(), lineno=65, col_offset=32), 'source_path', Load(), lineno=65, col_offset=32)], [keyword('force', Name('False', Load(), lineno=65, col_offset=56)), keyword('quiet', Name('True', Load(), lineno=65, col_offset=69))], None, None, lineno=65, col_offset=8), lineno=65, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=66, col_offset=8), 'assertTrue', Load(), lineno=66, col_offset=8), [BoolOp(And(), [Call(Attribute(Attribute(Name('os', Load(), lineno=66, col_offset=24), 'path', Load(), lineno=66, col_offset=24), 'isfile', Load(), lineno=66, col_offset=24), [Attribute(Name('self', Load(), lineno=66, col_offset=39), 'bc_path', Load(), lineno=66, col_offset=39)], [], None, None, lineno=66, col_offset=24), UnaryOp(Not(), Call(Attribute(Attribute(Name('os', Load(), lineno=67, col_offset=32), 'path', Load(), lineno=67, col_offset=32), 'isfile', Load(), lineno=67, col_offset=32), [Attribute(Name('self', Load(), lineno=67, col_offset=47), 'bc_path2', Load(), lineno=67, col_offset=47)], [], None, None, lineno=67, col_offset=32), lineno=67, col_offset=28)], lineno=66, col_offset=24)], [], None, None, lineno=66, col_offset=8), lineno=66, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=68, col_offset=8), 'unlink', Load(), lineno=68, col_offset=8), [Attribute(Name('self', Load(), lineno=68, col_offset=18), 'bc_path', Load(), lineno=68, col_offset=18)], [], None, None, lineno=68, col_offset=8), lineno=68, col_offset=8), Expr(Call(Attribute(Name('compileall', Load(), lineno=69, col_offset=8), 'compile_dir', Load(), lineno=69, col_offset=8), [Attribute(Name('self', Load(), lineno=69, col_offset=31), 'directory', Load(), lineno=69, col_offset=31)], [keyword('force', Name('False', Load(), lineno=69, col_offset=53)), keyword('quiet', Name('True', Load(), lineno=69, col_offset=66))], None, None, lineno=69, col_offset=8), lineno=69, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=70, col_offset=8), 'assertTrue', Load(), lineno=70, col_offset=8), [BoolOp(And(), [Call(Attribute(Attribute(Name('os', Load(), lineno=70, col_offset=24), 'path', Load(), lineno=70, col_offset=24), 'isfile', Load(), lineno=70, col_offset=24), [Attribute(Name('self', Load(), lineno=70, col_offset=39), 'bc_path', Load(), lineno=70, col_offset=39)], [], None, None, lineno=70, col_offset=24), Call(Attribute(Attribute(Name('os', Load(), lineno=71, col_offset=28), 'path', Load(), lineno=71, col_offset=28), 'isfile', Load(), lineno=71, col_offset=28), [Attribute(Name('self', Load(), lineno=71, col_offset=43), 'bc_path2', Load(), lineno=71, col_offset=43)], [], None, None, lineno=71, col_offset=28)], lineno=70, col_offset=24)], [], None, None, lineno=70, col_offset=8), lineno=70, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=72, col_offset=8), 'unlink', Load(), lineno=72, col_offset=8), [Attribute(Name('self', Load(), lineno=72, col_offset=18), 'bc_path', Load(), lineno=72, col_offset=18)], [], None, None, lineno=72, col_offset=8), lineno=72, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=73, col_offset=8), 'unlink', Load(), lineno=73, col_offset=8), [Attribute(Name('self', Load(), lineno=73, col_offset=18), 'bc_path2', Load(), lineno=73, col_offset=18)], [], None, None, lineno=73, col_offset=8), lineno=73, col_offset=8)], [], lineno=58, col_offset=4)], [], lineno=12, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Attribute(Name('test_support', Load(), lineno=76, col_offset=4), 'run_unittest', Load(), lineno=76, col_offset=4), [Name('CompileallTests', Load(), lineno=76, col_offset=30)], [], None, None, lineno=76, col_offset=4), lineno=76, col_offset=4)], [], lineno=75, col_offset=0), If(Compare(Name('__name__', Load(), lineno=79, col_offset=3), [Eq()], [Str('__main__', lineno=79, col_offset=15)], lineno=79, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=80, col_offset=4), [], [], None, None, lineno=80, col_offset=4), lineno=80, col_offset=4)], [], lineno=79, col_offset=0)])
