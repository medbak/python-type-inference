Module([Expr(Str("Fixer for operator functions.\n\noperator.isCallable(obj)       -> hasattr(obj, '__call__')\noperator.sequenceIncludes(obj) -> operator.contains(obj)\noperator.isSequenceType(obj)   -> isinstance(obj, collections.Sequence)\noperator.isMappingType(obj)    -> isinstance(obj, collections.Mapping)\noperator.isNumberType(obj)     -> isinstance(obj, numbers.Number)\noperator.repeat(obj, n)        -> operator.mul(obj, n)\noperator.irepeat(obj, n)       -> operator.imul(obj, n)\n", lineno=10, col_offset=-1), lineno=10, col_offset=-1), ImportFrom('lib2to3', [alias('fixer_base', None)], 0, lineno=13, col_offset=0), ImportFrom('lib2to3.fixer_util', [alias('Call', None), alias('Name', None), alias('String', None), alias('touch_import', None)], 0, lineno=14, col_offset=0), FunctionDef('invocation', arguments([Name('s', Param(), lineno=17, col_offset=15)], None, None, []), [FunctionDef('dec', arguments([Name('f', Param(), lineno=18, col_offset=12)], None, None, []), [Assign([Attribute(Name('f', Load(), lineno=19, col_offset=8), 'invocation', Store(), lineno=19, col_offset=8)], Name('s', Load(), lineno=19, col_offset=23), lineno=19, col_offset=8), Return(Name('f', Load(), lineno=20, col_offset=15), lineno=20, col_offset=8)], [], lineno=18, col_offset=4), Return(Name('dec', Load(), lineno=21, col_offset=11), lineno=21, col_offset=4)], [], lineno=17, col_offset=0), ClassDef('FixOperator', [Attribute(Name('fixer_base', Load(), lineno=24, col_offset=18), 'BaseFix', Load(), lineno=24, col_offset=18)], [Assign([Name('BM_compatible', Store(), lineno=25, col_offset=4)], Name('True', Load(), lineno=25, col_offset=20), lineno=25, col_offset=4), Assign([Name('order', Store(), lineno=26, col_offset=4)], Str('pre', lineno=26, col_offset=12), lineno=26, col_offset=4), Assign([Name('methods', Store(), lineno=28, col_offset=4)], Str("\n              method=('isCallable'|'sequenceIncludes'\n                     |'isSequenceType'|'isMappingType'|'isNumberType'\n                     |'repeat'|'irepeat')\n              ", lineno=32, col_offset=-1), lineno=28, col_offset=4), Assign([Name('obj', Store(), lineno=33, col_offset=4)], Str("'(' obj=any ')'", lineno=33, col_offset=10), lineno=33, col_offset=4), Assign([Name('PATTERN', Store(), lineno=34, col_offset=4)], BinOp(Str("\n              power< module='operator'\n                trailer< '.' %(methods)s > trailer< %(obj)s > >\n              |\n              power< %(methods)s trailer< %(obj)s > >\n              ", lineno=39, col_offset=-1), Mod(), Call(Name('dict', Load(), lineno=39, col_offset=20), [], [keyword('methods', Name('methods', Load(), lineno=39, col_offset=33)), keyword('obj', Name('obj', Load(), lineno=39, col_offset=46))], None, None, lineno=39, col_offset=20), lineno=39, col_offset=-1), lineno=34, col_offset=4), FunctionDef('transform', arguments([Name('self', Param(), lineno=41, col_offset=18), Name('node', Param(), lineno=41, col_offset=24), Name('results', Param(), lineno=41, col_offset=30)], None, None, []), [Assign([Name('method', Store(), lineno=42, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=42, col_offset=17), '_check_method', Load(), lineno=42, col_offset=17), [Name('node', Load(), lineno=42, col_offset=36), Name('results', Load(), lineno=42, col_offset=42)], [], None, None, lineno=42, col_offset=17), lineno=42, col_offset=8), If(Compare(Name('method', Load(), lineno=43, col_offset=11), [IsNot()], [Name('None', Load(), lineno=43, col_offset=25)], lineno=43, col_offset=11), [Return(Call(Name('method', Load(), lineno=44, col_offset=19), [Name('node', Load(), lineno=44, col_offset=26), Name('results', Load(), lineno=44, col_offset=32)], [], None, None, lineno=44, col_offset=19), lineno=44, col_offset=12)], [], lineno=43, col_offset=8)], [], lineno=41, col_offset=4), FunctionDef('_sequenceIncludes', arguments([Name('self', Param(), lineno=47, col_offset=26), Name('node', Param(), lineno=47, col_offset=32), Name('results', Param(), lineno=47, col_offset=38)], None, None, []), [Return(Call(Attribute(Name('self', Load(), lineno=48, col_offset=15), '_handle_rename', Load(), lineno=48, col_offset=15), [Name('node', Load(), lineno=48, col_offset=35), Name('results', Load(), lineno=48, col_offset=41), Str(u'contains', lineno=48, col_offset=50)], [], None, None, lineno=48, col_offset=15), lineno=48, col_offset=8)], [Call(Name('invocation', Load(), lineno=46, col_offset=5), [Str('operator.contains(%s)', lineno=46, col_offset=16)], [], None, None, lineno=46, col_offset=5)], lineno=46, col_offset=4), FunctionDef('_isCallable', arguments([Name('self', Param(), lineno=51, col_offset=20), Name('node', Param(), lineno=51, col_offset=26), Name('results', Param(), lineno=51, col_offset=32)], None, None, []), [Assign([Name('obj', Store(), lineno=52, col_offset=8)], Subscript(Name('results', Load(), lineno=52, col_offset=14), Index(Str('obj', lineno=52, col_offset=22)), Load(), lineno=52, col_offset=14), lineno=52, col_offset=8), Assign([Name('args', Store(), lineno=53, col_offset=8)], List([Call(Attribute(Name('obj', Load(), lineno=53, col_offset=16), 'clone', Load(), lineno=53, col_offset=16), [], [], None, None, lineno=53, col_offset=16), Call(Name('String', Load(), lineno=53, col_offset=29), [Str(u', ', lineno=53, col_offset=36)], [], None, None, lineno=53, col_offset=29), Call(Name('String', Load(), lineno=53, col_offset=44), [Str(u"'__call__'", lineno=53, col_offset=51)], [], None, None, lineno=53, col_offset=44)], Load(), lineno=53, col_offset=15), lineno=53, col_offset=8), Return(Call(Name('Call', Load(), lineno=54, col_offset=15), [Call(Name('Name', Load(), lineno=54, col_offset=20), [Str(u'hasattr', lineno=54, col_offset=25)], [], None, None, lineno=54, col_offset=20), Name('args', Load(), lineno=54, col_offset=38)], [keyword('prefix', Attribute(Name('node', Load(), lineno=54, col_offset=51), 'prefix', Load(), lineno=54, col_offset=51))], None, None, lineno=54, col_offset=15), lineno=54, col_offset=8)], [Call(Name('invocation', Load(), lineno=50, col_offset=5), [Str("hasattr(%s, '__call__')", lineno=50, col_offset=16)], [], None, None, lineno=50, col_offset=5)], lineno=50, col_offset=4), FunctionDef('_repeat', arguments([Name('self', Param(), lineno=57, col_offset=16), Name('node', Param(), lineno=57, col_offset=22), Name('results', Param(), lineno=57, col_offset=28)], None, None, []), [Return(Call(Attribute(Name('self', Load(), lineno=58, col_offset=15), '_handle_rename', Load(), lineno=58, col_offset=15), [Name('node', Load(), lineno=58, col_offset=35), Name('results', Load(), lineno=58, col_offset=41), Str(u'mul', lineno=58, col_offset=50)], [], None, None, lineno=58, col_offset=15), lineno=58, col_offset=8)], [Call(Name('invocation', Load(), lineno=56, col_offset=5), [Str('operator.mul(%s)', lineno=56, col_offset=16)], [], None, None, lineno=56, col_offset=5)], lineno=56, col_offset=4), FunctionDef('_irepeat', arguments([Name('self', Param(), lineno=61, col_offset=17), Name('node', Param(), lineno=61, col_offset=23), Name('results', Param(), lineno=61, col_offset=29)], None, None, []), [Return(Call(Attribute(Name('self', Load(), lineno=62, col_offset=15), '_handle_rename', Load(), lineno=62, col_offset=15), [Name('node', Load(), lineno=62, col_offset=35), Name('results', Load(), lineno=62, col_offset=41), Str(u'imul', lineno=62, col_offset=50)], [], None, None, lineno=62, col_offset=15), lineno=62, col_offset=8)], [Call(Name('invocation', Load(), lineno=60, col_offset=5), [Str('operator.imul(%s)', lineno=60, col_offset=16)], [], None, None, lineno=60, col_offset=5)], lineno=60, col_offset=4), FunctionDef('_isSequenceType', arguments([Name('self', Param(), lineno=65, col_offset=24), Name('node', Param(), lineno=65, col_offset=30), Name('results', Param(), lineno=65, col_offset=36)], None, None, []), [Return(Call(Attribute(Name('self', Load(), lineno=66, col_offset=15), '_handle_type2abc', Load(), lineno=66, col_offset=15), [Name('node', Load(), lineno=66, col_offset=37), Name('results', Load(), lineno=66, col_offset=43), Str(u'collections', lineno=66, col_offset=52), Str(u'Sequence', lineno=66, col_offset=68)], [], None, None, lineno=66, col_offset=15), lineno=66, col_offset=8)], [Call(Name('invocation', Load(), lineno=64, col_offset=5), [Str('isinstance(%s, collections.Sequence)', lineno=64, col_offset=16)], [], None, None, lineno=64, col_offset=5)], lineno=64, col_offset=4), FunctionDef('_isMappingType', arguments([Name('self', Param(), lineno=69, col_offset=23), Name('node', Param(), lineno=69, col_offset=29), Name('results', Param(), lineno=69, col_offset=35)], None, None, []), [Return(Call(Attribute(Name('self', Load(), lineno=70, col_offset=15), '_handle_type2abc', Load(), lineno=70, col_offset=15), [Name('node', Load(), lineno=70, col_offset=37), Name('results', Load(), lineno=70, col_offset=43), Str(u'collections', lineno=70, col_offset=52), Str(u'Mapping', lineno=70, col_offset=68)], [], None, None, lineno=70, col_offset=15), lineno=70, col_offset=8)], [Call(Name('invocation', Load(), lineno=68, col_offset=5), [Str('isinstance(%s, collections.Mapping)', lineno=68, col_offset=16)], [], None, None, lineno=68, col_offset=5)], lineno=68, col_offset=4), FunctionDef('_isNumberType', arguments([Name('self', Param(), lineno=73, col_offset=22), Name('node', Param(), lineno=73, col_offset=28), Name('results', Param(), lineno=73, col_offset=34)], None, None, []), [Return(Call(Attribute(Name('self', Load(), lineno=74, col_offset=15), '_handle_type2abc', Load(), lineno=74, col_offset=15), [Name('node', Load(), lineno=74, col_offset=37), Name('results', Load(), lineno=74, col_offset=43), Str(u'numbers', lineno=74, col_offset=52), Str(u'Number', lineno=74, col_offset=64)], [], None, None, lineno=74, col_offset=15), lineno=74, col_offset=8)], [Call(Name('invocation', Load(), lineno=72, col_offset=5), [Str('isinstance(%s, numbers.Number)', lineno=72, col_offset=16)], [], None, None, lineno=72, col_offset=5)], lineno=72, col_offset=4), FunctionDef('_handle_rename', arguments([Name('self', Param(), lineno=76, col_offset=23), Name('node', Param(), lineno=76, col_offset=29), Name('results', Param(), lineno=76, col_offset=35), Name('name', Param(), lineno=76, col_offset=44)], None, None, []), [Assign([Name('method', Store(), lineno=77, col_offset=8)], Subscript(Subscript(Name('results', Load(), lineno=77, col_offset=17), Index(Str('method', lineno=77, col_offset=25)), Load(), lineno=77, col_offset=17), Index(Num(0, lineno=77, col_offset=35)), Load(), lineno=77, col_offset=17), lineno=77, col_offset=8), Assign([Attribute(Name('method', Load(), lineno=78, col_offset=8), 'value', Store(), lineno=78, col_offset=8)], Name('name', Load(), lineno=78, col_offset=23), lineno=78, col_offset=8), Expr(Call(Attribute(Name('method', Load(), lineno=79, col_offset=8), 'changed', Load(), lineno=79, col_offset=8), [], [], None, None, lineno=79, col_offset=8), lineno=79, col_offset=8)], [], lineno=76, col_offset=4), FunctionDef('_handle_type2abc', arguments([Name('self', Param(), lineno=81, col_offset=25), Name('node', Param(), lineno=81, col_offset=31), Name('results', Param(), lineno=81, col_offset=37), Name('module', Param(), lineno=81, col_offset=46), Name('abc', Param(), lineno=81, col_offset=54)], None, None, []), [Expr(Call(Name('touch_import', Load(), lineno=82, col_offset=8), [Name('None', Load(), lineno=82, col_offset=21), Name('module', Load(), lineno=82, col_offset=27), Name('node', Load(), lineno=82, col_offset=35)], [], None, None, lineno=82, col_offset=8), lineno=82, col_offset=8), Assign([Name('obj', Store(), lineno=83, col_offset=8)], Subscript(Name('results', Load(), lineno=83, col_offset=14), Index(Str('obj', lineno=83, col_offset=22)), Load(), lineno=83, col_offset=14), lineno=83, col_offset=8), Assign([Name('args', Store(), lineno=84, col_offset=8)], List([Call(Attribute(Name('obj', Load(), lineno=84, col_offset=16), 'clone', Load(), lineno=84, col_offset=16), [], [], None, None, lineno=84, col_offset=16), Call(Name('String', Load(), lineno=84, col_offset=29), [BinOp(Str(u', ', lineno=84, col_offset=36), Add(), Call(Attribute(Str(u'.', lineno=84, col_offset=44), 'join', Load(), lineno=84, col_offset=44), [List([Name('module', Load(), lineno=84, col_offset=55), Name('abc', Load(), lineno=84, col_offset=63)], Load(), lineno=84, col_offset=54)], [], None, None, lineno=84, col_offset=44), lineno=84, col_offset=36)], [], None, None, lineno=84, col_offset=29)], Load(), lineno=84, col_offset=15), lineno=84, col_offset=8), Return(Call(Name('Call', Load(), lineno=85, col_offset=15), [Call(Name('Name', Load(), lineno=85, col_offset=20), [Str(u'isinstance', lineno=85, col_offset=25)], [], None, None, lineno=85, col_offset=20), Name('args', Load(), lineno=85, col_offset=41)], [keyword('prefix', Attribute(Name('node', Load(), lineno=85, col_offset=54), 'prefix', Load(), lineno=85, col_offset=54))], None, None, lineno=85, col_offset=15), lineno=85, col_offset=8)], [], lineno=81, col_offset=4), FunctionDef('_check_method', arguments([Name('self', Param(), lineno=87, col_offset=22), Name('node', Param(), lineno=87, col_offset=28), Name('results', Param(), lineno=87, col_offset=34)], None, None, []), [Assign([Name('method', Store(), lineno=88, col_offset=8)], Call(Name('getattr', Load(), lineno=88, col_offset=17), [Name('self', Load(), lineno=88, col_offset=25), BinOp(Str('_', lineno=88, col_offset=31), Add(), Call(Attribute(Attribute(Subscript(Subscript(Name('results', Load(), lineno=88, col_offset=37), Index(Str('method', lineno=88, col_offset=45)), Load(), lineno=88, col_offset=37), Index(Num(0, lineno=88, col_offset=55)), Load(), lineno=88, col_offset=37), 'value', Load(), lineno=88, col_offset=37), 'encode', Load(), lineno=88, col_offset=37), [Str('ascii', lineno=88, col_offset=71)], [], None, None, lineno=88, col_offset=37), lineno=88, col_offset=31)], [], None, None, lineno=88, col_offset=17), lineno=88, col_offset=8), If(Call(Name('callable', Load(), lineno=89, col_offset=11), [Name('method', Load(), lineno=89, col_offset=20)], [], None, None, lineno=89, col_offset=11), [If(Compare(Str('module', lineno=90, col_offset=15), [In()], [Name('results', Load(), lineno=90, col_offset=27)], lineno=90, col_offset=15), [Return(Name('method', Load(), lineno=91, col_offset=23), lineno=91, col_offset=16)], [Assign([Name('sub', Store(), lineno=93, col_offset=16)], Tuple([Call(Name('unicode', Load(), lineno=93, col_offset=23), [Subscript(Name('results', Load(), lineno=93, col_offset=31), Index(Str('obj', lineno=93, col_offset=39)), Load(), lineno=93, col_offset=31)], [], None, None, lineno=93, col_offset=23)], Load(), lineno=93, col_offset=23), lineno=93, col_offset=16), Assign([Name('invocation_str', Store(), lineno=94, col_offset=16)], BinOp(Call(Name('unicode', Load(), lineno=94, col_offset=33), [Attribute(Name('method', Load(), lineno=94, col_offset=41), 'invocation', Load(), lineno=94, col_offset=41)], [], None, None, lineno=94, col_offset=33), Mod(), Name('sub', Load(), lineno=94, col_offset=62), lineno=94, col_offset=33), lineno=94, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=95, col_offset=16), 'warning', Load(), lineno=95, col_offset=16), [Name('node', Load(), lineno=95, col_offset=29), BinOp(Str(u"You should use '%s' here.", lineno=95, col_offset=35), Mod(), Name('invocation_str', Load(), lineno=95, col_offset=66), lineno=95, col_offset=35)], [], None, None, lineno=95, col_offset=16), lineno=95, col_offset=16)], lineno=90, col_offset=12)], [], lineno=89, col_offset=8), Return(Name('None', Load(), lineno=96, col_offset=15), lineno=96, col_offset=8)], [], lineno=87, col_offset=4)], [], lineno=24, col_offset=0)])
