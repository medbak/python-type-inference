Module([Expr(Str('Tests for distutils.text_file.', lineno=1, col_offset=0), lineno=1, col_offset=0), Import([alias('os', None)], lineno=2, col_offset=0), Import([alias('unittest', None)], lineno=3, col_offset=0), ImportFrom('distutils.text_file', [alias('TextFile', None)], 0, lineno=4, col_offset=0), ImportFrom('distutils.tests', [alias('support', None)], 0, lineno=5, col_offset=0), Assign([Name('TEST_DATA', Store(), lineno=7, col_offset=0)], Str('# test file\n\nline 3 \\\n# intervening comment\n  continues on next line\n', lineno=12, col_offset=-1), lineno=7, col_offset=0), ClassDef('TextFileTestCase', [Attribute(Name('support', Load(), lineno=14, col_offset=23), 'TempdirManager', Load(), lineno=14, col_offset=23), Attribute(Name('unittest', Load(), lineno=14, col_offset=47), 'TestCase', Load(), lineno=14, col_offset=47)], [FunctionDef('test_class', arguments([Name('self', Param(), lineno=16, col_offset=19)], None, None, []), [Assign([Name('result1', Store(), lineno=21, col_offset=8)], List([Str('# test file\n', lineno=21, col_offset=19), Str('\n', lineno=21, col_offset=36), Str('line 3 \\\n', lineno=21, col_offset=42), Str('# intervening comment\n', lineno=22, col_offset=19), Str('  continues on next line\n', lineno=23, col_offset=19)], Load(), lineno=21, col_offset=18), lineno=21, col_offset=8), Assign([Name('result2', Store(), lineno=26, col_offset=8)], List([Str('\n', lineno=26, col_offset=19), Str('line 3 \\\n', lineno=27, col_offset=19), Str('  continues on next line\n', lineno=28, col_offset=19)], Load(), lineno=26, col_offset=18), lineno=26, col_offset=8), Assign([Name('result3', Store(), lineno=31, col_offset=8)], List([Str('# test file\n', lineno=31, col_offset=19), Str('line 3 \\\n', lineno=32, col_offset=19), Str('# intervening comment\n', lineno=33, col_offset=19), Str('  continues on next line\n', lineno=34, col_offset=19)], Load(), lineno=31, col_offset=18), lineno=31, col_offset=8), Assign([Name('result4', Store(), lineno=38, col_offset=8)], List([Str('line 3 \\', lineno=38, col_offset=19), Str('  continues on next line', lineno=39, col_offset=19)], Load(), lineno=38, col_offset=18), lineno=38, col_offset=8), Assign([Name('result5', Store(), lineno=43, col_offset=8)], List([Str('line 3   continues on next line', lineno=43, col_offset=19)], Load(), lineno=43, col_offset=18), lineno=43, col_offset=8), Assign([Name('result6', Store(), lineno=47, col_offset=8)], List([Str('line 3 continues on next line', lineno=47, col_offset=19)], Load(), lineno=47, col_offset=18), lineno=47, col_offset=8), FunctionDef('test_input', arguments([Name('count', Param(), lineno=49, col_offset=23), Name('description', Param(), lineno=49, col_offset=30), Name('file', Param(), lineno=49, col_offset=43), Name('expected_result', Param(), lineno=49, col_offset=49)], None, None, []), [Assign([Name('result', Store(), lineno=50, col_offset=12)], Call(Attribute(Name('file', Load(), lineno=50, col_offset=21), 'readlines', Load(), lineno=50, col_offset=21), [], [], None, None, lineno=50, col_offset=21), lineno=50, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=51, col_offset=12), 'assertEqual', Load(), lineno=51, col_offset=12), [Name('result', Load(), lineno=51, col_offset=29), Name('expected_result', Load(), lineno=51, col_offset=37)], [], None, None, lineno=51, col_offset=12), lineno=51, col_offset=12)], [], lineno=49, col_offset=8), Assign([Name('tmpdir', Store(), lineno=53, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=53, col_offset=17), 'mkdtemp', Load(), lineno=53, col_offset=17), [], [], None, None, lineno=53, col_offset=17), lineno=53, col_offset=8), Assign([Name('filename', Store(), lineno=54, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=54, col_offset=19), 'path', Load(), lineno=54, col_offset=19), 'join', Load(), lineno=54, col_offset=19), [Name('tmpdir', Load(), lineno=54, col_offset=32), Str('test.txt', lineno=54, col_offset=40)], [], None, None, lineno=54, col_offset=19), lineno=54, col_offset=8), Assign([Name('out_file', Store(), lineno=55, col_offset=8)], Call(Name('open', Load(), lineno=55, col_offset=19), [Name('filename', Load(), lineno=55, col_offset=24), Str('w', lineno=55, col_offset=34)], [], None, None, lineno=55, col_offset=19), lineno=55, col_offset=8), TryFinally([Expr(Call(Attribute(Name('out_file', Load(), lineno=57, col_offset=12), 'write', Load(), lineno=57, col_offset=12), [Name('TEST_DATA', Load(), lineno=57, col_offset=27)], [], None, None, lineno=57, col_offset=12), lineno=57, col_offset=12)], [Expr(Call(Attribute(Name('out_file', Load(), lineno=59, col_offset=12), 'close', Load(), lineno=59, col_offset=12), [], [], None, None, lineno=59, col_offset=12), lineno=59, col_offset=12)], lineno=56, col_offset=8), Assign([Name('in_file', Store(), lineno=61, col_offset=8)], Call(Name('TextFile', Load(), lineno=61, col_offset=18), [Name('filename', Load(), lineno=61, col_offset=27)], [keyword('strip_comments', Num(0, lineno=61, col_offset=52)), keyword('skip_blanks', Num(0, lineno=61, col_offset=67)), keyword('lstrip_ws', Num(0, lineno=62, col_offset=37)), keyword('rstrip_ws', Num(0, lineno=62, col_offset=50))], None, None, lineno=61, col_offset=18), lineno=61, col_offset=8), TryFinally([Expr(Call(Name('test_input', Load(), lineno=64, col_offset=12), [Num(1, lineno=64, col_offset=23), Str('no processing', lineno=64, col_offset=26), Name('in_file', Load(), lineno=64, col_offset=43), Name('result1', Load(), lineno=64, col_offset=52)], [], None, None, lineno=64, col_offset=12), lineno=64, col_offset=12)], [Expr(Call(Attribute(Name('in_file', Load(), lineno=66, col_offset=12), 'close', Load(), lineno=66, col_offset=12), [], [], None, None, lineno=66, col_offset=12), lineno=66, col_offset=12)], lineno=63, col_offset=8), Assign([Name('in_file', Store(), lineno=68, col_offset=8)], Call(Name('TextFile', Load(), lineno=68, col_offset=18), [Name('filename', Load(), lineno=68, col_offset=27)], [keyword('strip_comments', Num(1, lineno=68, col_offset=52)), keyword('skip_blanks', Num(0, lineno=68, col_offset=67)), keyword('lstrip_ws', Num(0, lineno=69, col_offset=37)), keyword('rstrip_ws', Num(0, lineno=69, col_offset=50))], None, None, lineno=68, col_offset=18), lineno=68, col_offset=8), TryFinally([Expr(Call(Name('test_input', Load(), lineno=71, col_offset=12), [Num(2, lineno=71, col_offset=23), Str('strip comments', lineno=71, col_offset=26), Name('in_file', Load(), lineno=71, col_offset=44), Name('result2', Load(), lineno=71, col_offset=53)], [], None, None, lineno=71, col_offset=12), lineno=71, col_offset=12)], [Expr(Call(Attribute(Name('in_file', Load(), lineno=73, col_offset=12), 'close', Load(), lineno=73, col_offset=12), [], [], None, None, lineno=73, col_offset=12), lineno=73, col_offset=12)], lineno=70, col_offset=8), Assign([Name('in_file', Store(), lineno=75, col_offset=8)], Call(Name('TextFile', Load(), lineno=75, col_offset=18), [Name('filename', Load(), lineno=75, col_offset=27)], [keyword('strip_comments', Num(0, lineno=75, col_offset=52)), keyword('skip_blanks', Num(1, lineno=75, col_offset=67)), keyword('lstrip_ws', Num(0, lineno=76, col_offset=37)), keyword('rstrip_ws', Num(0, lineno=76, col_offset=50))], None, None, lineno=75, col_offset=18), lineno=75, col_offset=8), TryFinally([Expr(Call(Name('test_input', Load(), lineno=78, col_offset=12), [Num(3, lineno=78, col_offset=23), Str('strip blanks', lineno=78, col_offset=26), Name('in_file', Load(), lineno=78, col_offset=42), Name('result3', Load(), lineno=78, col_offset=51)], [], None, None, lineno=78, col_offset=12), lineno=78, col_offset=12)], [Expr(Call(Attribute(Name('in_file', Load(), lineno=80, col_offset=12), 'close', Load(), lineno=80, col_offset=12), [], [], None, None, lineno=80, col_offset=12), lineno=80, col_offset=12)], lineno=77, col_offset=8), Assign([Name('in_file', Store(), lineno=82, col_offset=8)], Call(Name('TextFile', Load(), lineno=82, col_offset=18), [Name('filename', Load(), lineno=82, col_offset=27)], [], None, None, lineno=82, col_offset=18), lineno=82, col_offset=8), TryFinally([Expr(Call(Name('test_input', Load(), lineno=84, col_offset=12), [Num(4, lineno=84, col_offset=23), Str('default processing', lineno=84, col_offset=26), Name('in_file', Load(), lineno=84, col_offset=48), Name('result4', Load(), lineno=84, col_offset=57)], [], None, None, lineno=84, col_offset=12), lineno=84, col_offset=12)], [Expr(Call(Attribute(Name('in_file', Load(), lineno=86, col_offset=12), 'close', Load(), lineno=86, col_offset=12), [], [], None, None, lineno=86, col_offset=12), lineno=86, col_offset=12)], lineno=83, col_offset=8), Assign([Name('in_file', Store(), lineno=88, col_offset=8)], Call(Name('TextFile', Load(), lineno=88, col_offset=18), [Name('filename', Load(), lineno=88, col_offset=27)], [keyword('strip_comments', Num(1, lineno=88, col_offset=52)), keyword('skip_blanks', Num(1, lineno=88, col_offset=67)), keyword('join_lines', Num(1, lineno=89, col_offset=38)), keyword('rstrip_ws', Num(1, lineno=89, col_offset=51))], None, None, lineno=88, col_offset=18), lineno=88, col_offset=8), TryFinally([Expr(Call(Name('test_input', Load(), lineno=91, col_offset=12), [Num(5, lineno=91, col_offset=23), Str('join lines without collapsing', lineno=91, col_offset=26), Name('in_file', Load(), lineno=91, col_offset=59), Name('result5', Load(), lineno=91, col_offset=68)], [], None, None, lineno=91, col_offset=12), lineno=91, col_offset=12)], [Expr(Call(Attribute(Name('in_file', Load(), lineno=93, col_offset=12), 'close', Load(), lineno=93, col_offset=12), [], [], None, None, lineno=93, col_offset=12), lineno=93, col_offset=12)], lineno=90, col_offset=8), Assign([Name('in_file', Store(), lineno=95, col_offset=8)], Call(Name('TextFile', Load(), lineno=95, col_offset=18), [Name('filename', Load(), lineno=95, col_offset=27)], [keyword('strip_comments', Num(1, lineno=95, col_offset=52)), keyword('skip_blanks', Num(1, lineno=95, col_offset=67)), keyword('join_lines', Num(1, lineno=96, col_offset=38)), keyword('rstrip_ws', Num(1, lineno=96, col_offset=51)), keyword('collapse_join', Num(1, lineno=96, col_offset=68))], None, None, lineno=95, col_offset=18), lineno=95, col_offset=8), TryFinally([Expr(Call(Name('test_input', Load(), lineno=98, col_offset=12), [Num(6, lineno=98, col_offset=23), Str('join lines with collapsing', lineno=98, col_offset=26), Name('in_file', Load(), lineno=98, col_offset=56), Name('result6', Load(), lineno=98, col_offset=65)], [], None, None, lineno=98, col_offset=12), lineno=98, col_offset=12)], [Expr(Call(Attribute(Name('in_file', Load(), lineno=100, col_offset=12), 'close', Load(), lineno=100, col_offset=12), [], [], None, None, lineno=100, col_offset=12), lineno=100, col_offset=12)], lineno=97, col_offset=8)], [], lineno=16, col_offset=4)], [], lineno=14, col_offset=0), FunctionDef('test_suite', arguments([], None, None, []), [Return(Call(Attribute(Name('unittest', Load(), lineno=103, col_offset=11), 'makeSuite', Load(), lineno=103, col_offset=11), [Name('TextFileTestCase', Load(), lineno=103, col_offset=30)], [], None, None, lineno=103, col_offset=11), lineno=103, col_offset=4)], [], lineno=102, col_offset=0), If(Compare(Name('__name__', Load(), lineno=105, col_offset=3), [Eq()], [Str('__main__', lineno=105, col_offset=15)], lineno=105, col_offset=3), [Expr(Call(Attribute(Name('unittest', Load(), lineno=106, col_offset=4), 'main', Load(), lineno=106, col_offset=4), [], [keyword('defaultTest', Str('test_suite', lineno=106, col_offset=30))], None, None, lineno=106, col_offset=4), lineno=106, col_offset=4)], [], lineno=105, col_offset=0)])
