Module([Expr(Str('Tests for cookielib.py.', lineno=2, col_offset=0), lineno=2, col_offset=0), Import([alias('cookielib', None)], lineno=4, col_offset=0), Import([alias('os', None)], lineno=5, col_offset=0), Import([alias('re', None)], lineno=6, col_offset=0), Import([alias('time', None)], lineno=7, col_offset=0), ImportFrom('unittest', [alias('TestCase', None)], 0, lineno=9, col_offset=0), ImportFrom('test', [alias('test_support', None)], 0, lineno=11, col_offset=0), ClassDef('DateTimeTests', [Name('TestCase', Load(), lineno=14, col_offset=20)], [FunctionDef('test_time2isoz', arguments([Name('self', Param(), lineno=16, col_offset=23)], None, None, []), [ImportFrom('cookielib', [alias('time2isoz', None)], 0, lineno=17, col_offset=8), Assign([Name('base', Store(), lineno=19, col_offset=8)], Num(1019227000, lineno=19, col_offset=15), lineno=19, col_offset=8), Assign([Name('day', Store(), lineno=20, col_offset=8)], BinOp(Num(24, lineno=20, col_offset=14), Mult(), Num(3600, lineno=20, col_offset=17), lineno=20, col_offset=14), lineno=20, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=21, col_offset=8), 'assertEqual', Load(), lineno=21, col_offset=8), [Call(Name('time2isoz', Load(), lineno=21, col_offset=25), [Name('base', Load(), lineno=21, col_offset=35)], [], None, None, lineno=21, col_offset=25), Str('2002-04-19 14:36:40Z', lineno=21, col_offset=42)], [], None, None, lineno=21, col_offset=8), lineno=21, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=22, col_offset=8), 'assertEqual', Load(), lineno=22, col_offset=8), [Call(Name('time2isoz', Load(), lineno=22, col_offset=25), [BinOp(Name('base', Load(), lineno=22, col_offset=35), Add(), Name('day', Load(), lineno=22, col_offset=40), lineno=22, col_offset=35)], [], None, None, lineno=22, col_offset=25), Str('2002-04-20 14:36:40Z', lineno=22, col_offset=46)], [], None, None, lineno=22, col_offset=8), lineno=22, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=23, col_offset=8), 'assertEqual', Load(), lineno=23, col_offset=8), [Call(Name('time2isoz', Load(), lineno=23, col_offset=25), [BinOp(Name('base', Load(), lineno=23, col_offset=35), Add(), BinOp(Num(2, lineno=23, col_offset=40), Mult(), Name('day', Load(), lineno=23, col_offset=42), lineno=23, col_offset=40), lineno=23, col_offset=35)], [], None, None, lineno=23, col_offset=25), Str('2002-04-21 14:36:40Z', lineno=23, col_offset=48)], [], None, None, lineno=23, col_offset=8), lineno=23, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=24, col_offset=8), 'assertEqual', Load(), lineno=24, col_offset=8), [Call(Name('time2isoz', Load(), lineno=24, col_offset=25), [BinOp(Name('base', Load(), lineno=24, col_offset=35), Add(), BinOp(Num(3, lineno=24, col_offset=40), Mult(), Name('day', Load(), lineno=24, col_offset=42), lineno=24, col_offset=40), lineno=24, col_offset=35)], [], None, None, lineno=24, col_offset=25), Str('2002-04-22 14:36:40Z', lineno=24, col_offset=48)], [], None, None, lineno=24, col_offset=8), lineno=24, col_offset=8), Assign([Name('az', Store(), lineno=26, col_offset=8)], Call(Name('time2isoz', Load(), lineno=26, col_offset=13), [], [], None, None, lineno=26, col_offset=13), lineno=26, col_offset=8), Assign([Name('bz', Store(), lineno=27, col_offset=8)], Call(Name('time2isoz', Load(), lineno=27, col_offset=13), [Num(500000, lineno=27, col_offset=23)], [], None, None, lineno=27, col_offset=13), lineno=27, col_offset=8), For(Name('text', Store(), lineno=28, col_offset=12), Tuple([Name('az', Load(), lineno=28, col_offset=21), Name('bz', Load(), lineno=28, col_offset=25)], Load(), lineno=28, col_offset=21), [Expr(Call(Attribute(Name('self', Load(), lineno=29, col_offset=12), 'assertTrue', Load(), lineno=29, col_offset=12), [Call(Attribute(Name('re', Load(), lineno=29, col_offset=28), 'search', Load(), lineno=29, col_offset=28), [Str('^\\d{4}-\\d\\d-\\d\\d \\d\\d:\\d\\d:\\d\\dZ$', lineno=29, col_offset=38), Name('text', Load(), lineno=29, col_offset=76)], [], None, None, lineno=29, col_offset=28), BinOp(Str('bad time2isoz format: %s %s', lineno=30, col_offset=25), Mod(), Tuple([Name('az', Load(), lineno=30, col_offset=58), Name('bz', Load(), lineno=30, col_offset=62)], Load(), lineno=30, col_offset=58), lineno=30, col_offset=25)], [], None, None, lineno=29, col_offset=12), lineno=29, col_offset=12)], [], lineno=28, col_offset=8)], [], lineno=16, col_offset=4), FunctionDef('test_http2time', arguments([Name('self', Param(), lineno=32, col_offset=23)], None, None, []), [ImportFrom('cookielib', [alias('http2time', None)], 0, lineno=33, col_offset=8), FunctionDef('parse_date', arguments([Name('text', Param(), lineno=35, col_offset=23)], None, None, []), [Return(Subscript(Call(Attribute(Name('time', Load(), lineno=36, col_offset=19), 'gmtime', Load(), lineno=36, col_offset=19), [Call(Name('http2time', Load(), lineno=36, col_offset=31), [Name('text', Load(), lineno=36, col_offset=41)], [], None, None, lineno=36, col_offset=31)], [], None, None, lineno=36, col_offset=19), Slice(None, Num(6, lineno=36, col_offset=49), None), Load(), lineno=36, col_offset=19), lineno=36, col_offset=12)], [], lineno=35, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=38, col_offset=8), 'assertEqual', Load(), lineno=38, col_offset=8), [Call(Name('parse_date', Load(), lineno=38, col_offset=25), [Str('01 Jan 2001', lineno=38, col_offset=36)], [], None, None, lineno=38, col_offset=25), Tuple([Num(2001, lineno=38, col_offset=53), Num(1, lineno=38, col_offset=59), Num(1, lineno=38, col_offset=62), Num(0, lineno=38, col_offset=65), Num(0, lineno=38, col_offset=68), Num(0.0, lineno=38, col_offset=71)], Load(), lineno=38, col_offset=53)], [], None, None, lineno=38, col_offset=8), lineno=38, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=41, col_offset=8), 'assertEqual', Load(), lineno=41, col_offset=8), [Call(Name('parse_date', Load(), lineno=41, col_offset=25), [Str('03-Feb-20', lineno=41, col_offset=36)], [], None, None, lineno=41, col_offset=25), Tuple([Num(2020, lineno=41, col_offset=51), Num(2, lineno=41, col_offset=57), Num(3, lineno=41, col_offset=60), Num(0, lineno=41, col_offset=63), Num(0, lineno=41, col_offset=66), Num(0.0, lineno=41, col_offset=69)], Load(), lineno=41, col_offset=51)], [], None, None, lineno=41, col_offset=8), lineno=41, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=44, col_offset=8), 'assertEqual', Load(), lineno=44, col_offset=8), [Call(Name('parse_date', Load(), lineno=44, col_offset=25), [Str('03-Feb-98', lineno=44, col_offset=36)], [], None, None, lineno=44, col_offset=25), Tuple([Num(1998, lineno=44, col_offset=51), Num(2, lineno=44, col_offset=57), Num(3, lineno=44, col_offset=60), Num(0, lineno=44, col_offset=63), Num(0, lineno=44, col_offset=66), Num(0.0, lineno=44, col_offset=69)], Load(), lineno=44, col_offset=51)], [], None, None, lineno=44, col_offset=8), lineno=44, col_offset=8)], [], lineno=32, col_offset=4), FunctionDef('test_http2time_formats', arguments([Name('self', Param(), lineno=46, col_offset=31)], None, None, []), [ImportFrom('cookielib', [alias('http2time', None), alias('time2isoz', None)], 0, lineno=47, col_offset=8), Assign([Name('tests', Store(), lineno=51, col_offset=8)], List([Str('Thu, 03 Feb 1994 00:00:00 GMT', lineno=52, col_offset=9), Str('Thursday, 03-Feb-94 00:00:00 GMT', lineno=53, col_offset=9), Str('Thursday, 03-Feb-1994 00:00:00 GMT', lineno=54, col_offset=9), Str('03 Feb 1994 00:00:00 GMT', lineno=56, col_offset=9), Str('03-Feb-94 00:00:00 GMT', lineno=57, col_offset=9), Str('03-Feb-1994 00:00:00 GMT', lineno=58, col_offset=9), Str('03-Feb-1994 00:00 GMT', lineno=59, col_offset=9), Str('03-Feb-1994 00:00', lineno=60, col_offset=9), Str('03-Feb-94', lineno=62, col_offset=9), Str('03-Feb-1994', lineno=63, col_offset=9), Str('03 Feb 1994', lineno=64, col_offset=9), Str('  03   Feb   1994  0:00  ', lineno=67, col_offset=9), Str('  03-Feb-1994  ', lineno=68, col_offset=9)], Load(), lineno=51, col_offset=16), lineno=51, col_offset=8), Assign([Name('test_t', Store(), lineno=71, col_offset=8)], Num(760233600, lineno=71, col_offset=17), lineno=71, col_offset=8), Assign([Name('result', Store(), lineno=72, col_offset=8)], Call(Name('time2isoz', Load(), lineno=72, col_offset=17), [Name('test_t', Load(), lineno=72, col_offset=27)], [], None, None, lineno=72, col_offset=17), lineno=72, col_offset=8), Assign([Name('expected', Store(), lineno=73, col_offset=8)], Str('1994-02-03 00:00:00Z', lineno=73, col_offset=19), lineno=73, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=74, col_offset=8), 'assertEqual', Load(), lineno=74, col_offset=8), [Name('result', Load(), lineno=74, col_offset=25), Name('expected', Load(), lineno=74, col_offset=33), BinOp(Str("%s  =>  '%s' (%s)", lineno=75, col_offset=25), Mod(), Tuple([Name('test_t', Load(), lineno=75, col_offset=48), Name('result', Load(), lineno=75, col_offset=56), Name('expected', Load(), lineno=75, col_offset=64)], Load(), lineno=75, col_offset=48), lineno=75, col_offset=25)], [], None, None, lineno=74, col_offset=8), lineno=74, col_offset=8), For(Name('s', Store(), lineno=77, col_offset=12), Name('tests', Load(), lineno=77, col_offset=17), [Assign([Name('t', Store(), lineno=78, col_offset=12)], Call(Name('http2time', Load(), lineno=78, col_offset=16), [Name('s', Load(), lineno=78, col_offset=26)], [], None, None, lineno=78, col_offset=16), lineno=78, col_offset=12), Assign([Name('t2', Store(), lineno=79, col_offset=12)], Call(Name('http2time', Load(), lineno=79, col_offset=17), [Call(Attribute(Name('s', Load(), lineno=79, col_offset=27), 'lower', Load(), lineno=79, col_offset=27), [], [], None, None, lineno=79, col_offset=27)], [], None, None, lineno=79, col_offset=17), lineno=79, col_offset=12), Assign([Name('t3', Store(), lineno=80, col_offset=12)], Call(Name('http2time', Load(), lineno=80, col_offset=17), [Call(Attribute(Name('s', Load(), lineno=80, col_offset=27), 'upper', Load(), lineno=80, col_offset=27), [], [], None, None, lineno=80, col_offset=27)], [], None, None, lineno=80, col_offset=17), lineno=80, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=82, col_offset=12), 'assertTrue', Load(), lineno=82, col_offset=12), [Compare(Name('t', Load(), lineno=82, col_offset=28), [Eq(), Eq(), Eq()], [Name('t2', Load(), lineno=82, col_offset=33), Name('t3', Load(), lineno=82, col_offset=39), Name('test_t', Load(), lineno=82, col_offset=45)], lineno=82, col_offset=28), BinOp(Str("'%s'  =>  %s, %s, %s (%s)", lineno=83, col_offset=25), Mod(), Tuple([Name('s', Load(), lineno=83, col_offset=56), Name('t', Load(), lineno=83, col_offset=59), Name('t2', Load(), lineno=83, col_offset=62), Name('t3', Load(), lineno=83, col_offset=66), Name('test_t', Load(), lineno=83, col_offset=70)], Load(), lineno=83, col_offset=56), lineno=83, col_offset=25)], [], None, None, lineno=82, col_offset=12), lineno=82, col_offset=12)], [], lineno=77, col_offset=8)], [], lineno=46, col_offset=4), FunctionDef('test_http2time_garbage', arguments([Name('self', Param(), lineno=85, col_offset=31)], None, None, []), [ImportFrom('cookielib', [alias('http2time', None)], 0, lineno=86, col_offset=8), For(Name('test', Store(), lineno=88, col_offset=12), List([Str('', lineno=89, col_offset=12), Str('Garbage', lineno=90, col_offset=12), Str('Mandag 16. September 1996', lineno=91, col_offset=12), Str('01-00-1980', lineno=92, col_offset=12), Str('01-13-1980', lineno=93, col_offset=12), Str('00-01-1980', lineno=94, col_offset=12), Str('32-01-1980', lineno=95, col_offset=12), Str('01-01-1980 25:00:00', lineno=96, col_offset=12), Str('01-01-1980 00:61:00', lineno=97, col_offset=12), Str('01-01-1980 00:00:62', lineno=98, col_offset=12)], Load(), lineno=88, col_offset=20), [Expr(Call(Attribute(Name('self', Load(), lineno=100, col_offset=12), 'assertTrue', Load(), lineno=100, col_offset=12), [Compare(Call(Name('http2time', Load(), lineno=100, col_offset=28), [Name('test', Load(), lineno=100, col_offset=38)], [], None, None, lineno=100, col_offset=28), [Is()], [Name('None', Load(), lineno=100, col_offset=47)], lineno=100, col_offset=28), BinOp(Str('http2time(%s) is not None\nhttp2time(test) %s', lineno=101, col_offset=25), Mod(), Tuple([Name('test', Load(), lineno=102, col_offset=49), Call(Name('http2time', Load(), lineno=102, col_offset=55), [Name('test', Load(), lineno=102, col_offset=65)], [], None, None, lineno=102, col_offset=55)], Load(), lineno=102, col_offset=49), lineno=101, col_offset=25)], [], None, None, lineno=100, col_offset=12), lineno=100, col_offset=12)], [], lineno=88, col_offset=8)], [], lineno=85, col_offset=4)], [], lineno=14, col_offset=0), ClassDef('HeaderTests', [Name('TestCase', Load(), lineno=106, col_offset=18)], [FunctionDef('test_parse_ns_headers_expires', arguments([Name('self', Param(), lineno=108, col_offset=38)], None, None, []), [ImportFrom('cookielib', [alias('parse_ns_headers', None)], 0, lineno=109, col_offset=8), Assign([Name('expected', Store(), lineno=112, col_offset=8)], List([List([Tuple([Str('foo', lineno=112, col_offset=22), Str('bar', lineno=112, col_offset=29)], Load(), lineno=112, col_offset=22), Tuple([Str('expires', lineno=112, col_offset=38), Num(2209069412L, lineno=112, col_offset=49)], Load(), lineno=112, col_offset=38), Tuple([Str('version', lineno=112, col_offset=64), Str('0', lineno=112, col_offset=75)], Load(), lineno=112, col_offset=64)], Load(), lineno=112, col_offset=20)], Load(), lineno=112, col_offset=19), lineno=112, col_offset=8), For(Name('hdr', Store(), lineno=113, col_offset=12), List([Str('foo=bar; expires=01 Jan 2040 22:23:32 GMT', lineno=114, col_offset=12), Str('foo=bar; expires="01 Jan 2040 22:23:32 GMT"', lineno=115, col_offset=12)], Load(), lineno=113, col_offset=19), [Expr(Call(Attribute(Name('self', Load(), lineno=117, col_offset=12), 'assertEqual', Load(), lineno=117, col_offset=12), [Call(Name('parse_ns_headers', Load(), lineno=117, col_offset=29), [List([Name('hdr', Load(), lineno=117, col_offset=47)], Load(), lineno=117, col_offset=46)], [], None, None, lineno=117, col_offset=29), Name('expected', Load(), lineno=117, col_offset=54)], [], None, None, lineno=117, col_offset=12), lineno=117, col_offset=12)], [], lineno=113, col_offset=8)], [], lineno=108, col_offset=4), FunctionDef('test_parse_ns_headers_version', arguments([Name('self', Param(), lineno=119, col_offset=38)], None, None, []), [ImportFrom('cookielib', [alias('parse_ns_headers', None)], 0, lineno=120, col_offset=8), Assign([Name('expected', Store(), lineno=123, col_offset=8)], List([List([Tuple([Str('foo', lineno=123, col_offset=22), Str('bar', lineno=123, col_offset=29)], Load(), lineno=123, col_offset=22), Tuple([Str('version', lineno=123, col_offset=38), Str('1', lineno=123, col_offset=49)], Load(), lineno=123, col_offset=38)], Load(), lineno=123, col_offset=20)], Load(), lineno=123, col_offset=19), lineno=123, col_offset=8), For(Name('hdr', Store(), lineno=124, col_offset=12), List([Str('foo=bar; version="1"', lineno=125, col_offset=12), Str('foo=bar; Version="1"', lineno=126, col_offset=12)], Load(), lineno=124, col_offset=19), [Expr(Call(Attribute(Name('self', Load(), lineno=128, col_offset=12), 'assertEqual', Load(), lineno=128, col_offset=12), [Call(Name('parse_ns_headers', Load(), lineno=128, col_offset=29), [List([Name('hdr', Load(), lineno=128, col_offset=47)], Load(), lineno=128, col_offset=46)], [], None, None, lineno=128, col_offset=29), Name('expected', Load(), lineno=128, col_offset=54)], [], None, None, lineno=128, col_offset=12), lineno=128, col_offset=12)], [], lineno=124, col_offset=8)], [], lineno=119, col_offset=4), FunctionDef('test_parse_ns_headers_special_names', arguments([Name('self', Param(), lineno=130, col_offset=44)], None, None, []), [ImportFrom('cookielib', [alias('parse_ns_headers', None)], 0, lineno=133, col_offset=8), Assign([Name('hdr', Store(), lineno=136, col_offset=8)], Str('expires=01 Jan 2040 22:23:32 GMT', lineno=136, col_offset=14), lineno=136, col_offset=8), Assign([Name('expected', Store(), lineno=137, col_offset=8)], List([List([Tuple([Str('expires', lineno=137, col_offset=22), Str('01 Jan 2040 22:23:32 GMT', lineno=137, col_offset=33)], Load(), lineno=137, col_offset=22), Tuple([Str('version', lineno=137, col_offset=63), Str('0', lineno=137, col_offset=74)], Load(), lineno=137, col_offset=63)], Load(), lineno=137, col_offset=20)], Load(), lineno=137, col_offset=19), lineno=137, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=138, col_offset=8), 'assertEqual', Load(), lineno=138, col_offset=8), [Call(Name('parse_ns_headers', Load(), lineno=138, col_offset=25), [List([Name('hdr', Load(), lineno=138, col_offset=43)], Load(), lineno=138, col_offset=42)], [], None, None, lineno=138, col_offset=25), Name('expected', Load(), lineno=138, col_offset=50)], [], None, None, lineno=138, col_offset=8), lineno=138, col_offset=8)], [], lineno=130, col_offset=4), FunctionDef('test_join_header_words', arguments([Name('self', Param(), lineno=140, col_offset=31)], None, None, []), [ImportFrom('cookielib', [alias('join_header_words', None)], 0, lineno=141, col_offset=8), Assign([Name('joined', Store(), lineno=143, col_offset=8)], Call(Name('join_header_words', Load(), lineno=143, col_offset=17), [List([List([Tuple([Str('foo', lineno=143, col_offset=38), Name('None', Load(), lineno=143, col_offset=45)], Load(), lineno=143, col_offset=38), Tuple([Str('bar', lineno=143, col_offset=53), Str('baz', lineno=143, col_offset=60)], Load(), lineno=143, col_offset=53)], Load(), lineno=143, col_offset=36)], Load(), lineno=143, col_offset=35)], [], None, None, lineno=143, col_offset=17), lineno=143, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=144, col_offset=8), 'assertEqual', Load(), lineno=144, col_offset=8), [Name('joined', Load(), lineno=144, col_offset=25), Str('foo; bar=baz', lineno=144, col_offset=33)], [], None, None, lineno=144, col_offset=8), lineno=144, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=146, col_offset=8), 'assertEqual', Load(), lineno=146, col_offset=8), [Call(Name('join_header_words', Load(), lineno=146, col_offset=25), [List([List([], Load(), lineno=146, col_offset=44)], Load(), lineno=146, col_offset=43)], [], None, None, lineno=146, col_offset=25), Str('', lineno=146, col_offset=50)], [], None, None, lineno=146, col_offset=8), lineno=146, col_offset=8)], [], lineno=140, col_offset=4), FunctionDef('test_split_header_words', arguments([Name('self', Param(), lineno=148, col_offset=32)], None, None, []), [ImportFrom('cookielib', [alias('split_header_words', None)], 0, lineno=149, col_offset=8), Assign([Name('tests', Store(), lineno=151, col_offset=8)], List([Tuple([Str('foo', lineno=152, col_offset=13), List([List([Tuple([Str('foo', lineno=152, col_offset=23), Name('None', Load(), lineno=152, col_offset=30)], Load(), lineno=152, col_offset=23)], Load(), lineno=152, col_offset=21)], Load(), lineno=152, col_offset=20)], Load(), lineno=152, col_offset=13), Tuple([Str('foo=bar', lineno=153, col_offset=13), List([List([Tuple([Str('foo', lineno=153, col_offset=27), Str('bar', lineno=153, col_offset=34)], Load(), lineno=153, col_offset=27)], Load(), lineno=153, col_offset=25)], Load(), lineno=153, col_offset=24)], Load(), lineno=153, col_offset=13), Tuple([Str('   foo   ', lineno=154, col_offset=13), List([List([Tuple([Str('foo', lineno=154, col_offset=29), Name('None', Load(), lineno=154, col_offset=36)], Load(), lineno=154, col_offset=29)], Load(), lineno=154, col_offset=27)], Load(), lineno=154, col_offset=26)], Load(), lineno=154, col_offset=13), Tuple([Str('   foo=   ', lineno=155, col_offset=13), List([List([Tuple([Str('foo', lineno=155, col_offset=30), Str('', lineno=155, col_offset=37)], Load(), lineno=155, col_offset=30)], Load(), lineno=155, col_offset=28)], Load(), lineno=155, col_offset=27)], Load(), lineno=155, col_offset=13), Tuple([Str('   foo=', lineno=156, col_offset=13), List([List([Tuple([Str('foo', lineno=156, col_offset=27), Str('', lineno=156, col_offset=34)], Load(), lineno=156, col_offset=27)], Load(), lineno=156, col_offset=25)], Load(), lineno=156, col_offset=24)], Load(), lineno=156, col_offset=13), Tuple([Str('   foo=   ; ', lineno=157, col_offset=13), List([List([Tuple([Str('foo', lineno=157, col_offset=32), Str('', lineno=157, col_offset=39)], Load(), lineno=157, col_offset=32)], Load(), lineno=157, col_offset=30)], Load(), lineno=157, col_offset=29)], Load(), lineno=157, col_offset=13), Tuple([Str('   foo=   ; bar= baz ', lineno=158, col_offset=13), List([List([Tuple([Str('foo', lineno=158, col_offset=41), Str('', lineno=158, col_offset=48)], Load(), lineno=158, col_offset=41), Tuple([Str('bar', lineno=158, col_offset=54), Str('baz', lineno=158, col_offset=61)], Load(), lineno=158, col_offset=54)], Load(), lineno=158, col_offset=39)], Load(), lineno=158, col_offset=38)], Load(), lineno=158, col_offset=13), Tuple([Str('foo=bar bar=baz', lineno=159, col_offset=13), List([List([Tuple([Str('foo', lineno=159, col_offset=35), Str('bar', lineno=159, col_offset=42)], Load(), lineno=159, col_offset=35), Tuple([Str('bar', lineno=159, col_offset=51), Str('baz', lineno=159, col_offset=58)], Load(), lineno=159, col_offset=51)], Load(), lineno=159, col_offset=33)], Load(), lineno=159, col_offset=32)], Load(), lineno=159, col_offset=13), Tuple([Str('foo= bar=baz', lineno=161, col_offset=13), List([List([Tuple([Str('foo', lineno=161, col_offset=32), Str('bar=baz', lineno=161, col_offset=39)], Load(), lineno=161, col_offset=32)], Load(), lineno=161, col_offset=30)], Load(), lineno=161, col_offset=29)], Load(), lineno=161, col_offset=13), Tuple([Str('foo=bar;bar=baz', lineno=162, col_offset=13), List([List([Tuple([Str('foo', lineno=162, col_offset=35), Str('bar', lineno=162, col_offset=42)], Load(), lineno=162, col_offset=35), Tuple([Str('bar', lineno=162, col_offset=51), Str('baz', lineno=162, col_offset=58)], Load(), lineno=162, col_offset=51)], Load(), lineno=162, col_offset=33)], Load(), lineno=162, col_offset=32)], Load(), lineno=162, col_offset=13), Tuple([Str('foo bar baz', lineno=163, col_offset=13), List([List([Tuple([Str('foo', lineno=163, col_offset=31), Name('None', Load(), lineno=163, col_offset=38)], Load(), lineno=163, col_offset=31), Tuple([Str('bar', lineno=163, col_offset=46), Name('None', Load(), lineno=163, col_offset=53)], Load(), lineno=163, col_offset=46), Tuple([Str('baz', lineno=163, col_offset=61), Name('None', Load(), lineno=163, col_offset=68)], Load(), lineno=163, col_offset=61)], Load(), lineno=163, col_offset=29)], Load(), lineno=163, col_offset=28)], Load(), lineno=163, col_offset=13), Tuple([Str('a, b, c', lineno=164, col_offset=13), List([List([Tuple([Str('a', lineno=164, col_offset=27), Name('None', Load(), lineno=164, col_offset=32)], Load(), lineno=164, col_offset=27)], Load(), lineno=164, col_offset=25), List([Tuple([Str('b', lineno=164, col_offset=42), Name('None', Load(), lineno=164, col_offset=47)], Load(), lineno=164, col_offset=42)], Load(), lineno=164, col_offset=40), List([Tuple([Str('c', lineno=164, col_offset=57), Name('None', Load(), lineno=164, col_offset=62)], Load(), lineno=164, col_offset=57)], Load(), lineno=164, col_offset=55)], Load(), lineno=164, col_offset=24)], Load(), lineno=164, col_offset=13), Tuple([Str('foo; bar=baz, spam=, foo="\\,\\;\\"", bar= ', lineno=165, col_offset=13), List([List([Tuple([Str('foo', lineno=166, col_offset=16), Name('None', Load(), lineno=166, col_offset=23)], Load(), lineno=166, col_offset=16), Tuple([Str('bar', lineno=166, col_offset=31), Str('baz', lineno=166, col_offset=38)], Load(), lineno=166, col_offset=31)], Load(), lineno=166, col_offset=14), List([Tuple([Str('spam', lineno=167, col_offset=16), Str('', lineno=167, col_offset=24)], Load(), lineno=167, col_offset=16)], Load(), lineno=167, col_offset=14), List([Tuple([Str('foo', lineno=167, col_offset=32), Str(',;"', lineno=167, col_offset=39)], Load(), lineno=167, col_offset=32)], Load(), lineno=167, col_offset=30), List([Tuple([Str('bar', lineno=167, col_offset=50), Str('', lineno=167, col_offset=57)], Load(), lineno=167, col_offset=50)], Load(), lineno=167, col_offset=48)], Load(), lineno=166, col_offset=13)], Load(), lineno=165, col_offset=13)], Load(), lineno=151, col_offset=16), lineno=151, col_offset=8), For(Tuple([Name('arg', Store(), lineno=170, col_offset=12), Name('expect', Store(), lineno=170, col_offset=17)], Store(), lineno=170, col_offset=12), Name('tests', Load(), lineno=170, col_offset=27), [TryExcept([Assign([Name('result', Store(), lineno=172, col_offset=16)], Call(Name('split_header_words', Load(), lineno=172, col_offset=25), [List([Name('arg', Load(), lineno=172, col_offset=45)], Load(), lineno=172, col_offset=44)], [], None, None, lineno=172, col_offset=25), lineno=172, col_offset=16)], [ExceptHandler(None, None, [Import([alias('traceback', None), alias('StringIO', None)], lineno=174, col_offset=16), Assign([Name('f', Store(), lineno=175, col_offset=16)], Call(Attribute(Name('StringIO', Load(), lineno=175, col_offset=20), 'StringIO', Load(), lineno=175, col_offset=20), [], [], None, None, lineno=175, col_offset=20), lineno=175, col_offset=16), Expr(Call(Attribute(Name('traceback', Load(), lineno=176, col_offset=16), 'print_exc', Load(), lineno=176, col_offset=16), [Name('None', Load(), lineno=176, col_offset=36), Name('f', Load(), lineno=176, col_offset=42)], [], None, None, lineno=176, col_offset=16), lineno=176, col_offset=16), Assign([Name('result', Store(), lineno=177, col_offset=16)], BinOp(Str('(error -- traceback follows)\n\n%s', lineno=177, col_offset=25), Mod(), Call(Attribute(Name('f', Load(), lineno=177, col_offset=64), 'getvalue', Load(), lineno=177, col_offset=64), [], [], None, None, lineno=177, col_offset=64), lineno=177, col_offset=25), lineno=177, col_offset=16)], lineno=173, col_offset=12)], [], lineno=171, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=178, col_offset=12), 'assertEqual', Load(), lineno=178, col_offset=12), [Name('result', Load(), lineno=178, col_offset=29), Name('expect', Load(), lineno=178, col_offset=38), BinOp(Str("\nWhen parsing: '%s'\nExpected:     '%s'\nGot:          '%s'\n", lineno=182, col_offset=-1), Mod(), Tuple([Name('arg', Load(), lineno=182, col_offset=7), Name('expect', Load(), lineno=182, col_offset=12), Name('result', Load(), lineno=182, col_offset=20)], Load(), lineno=182, col_offset=7), lineno=182, col_offset=-1)], [], None, None, lineno=178, col_offset=12), lineno=178, col_offset=12)], [], lineno=170, col_offset=8)], [], lineno=148, col_offset=4), FunctionDef('test_roundtrip', arguments([Name('self', Param(), lineno=184, col_offset=23)], None, None, []), [ImportFrom('cookielib', [alias('split_header_words', None), alias('join_header_words', None)], 0, lineno=185, col_offset=8), Assign([Name('tests', Store(), lineno=187, col_offset=8)], List([Tuple([Str('foo', lineno=188, col_offset=13), Str('foo', lineno=188, col_offset=20)], Load(), lineno=188, col_offset=13), Tuple([Str('foo=bar', lineno=189, col_offset=13), Str('foo=bar', lineno=189, col_offset=24)], Load(), lineno=189, col_offset=13), Tuple([Str('   foo   ', lineno=190, col_offset=13), Str('foo', lineno=190, col_offset=26)], Load(), lineno=190, col_offset=13), Tuple([Str('foo=', lineno=191, col_offset=13), Str('foo=""', lineno=191, col_offset=21)], Load(), lineno=191, col_offset=13), Tuple([Str('foo=bar bar=baz', lineno=192, col_offset=13), Str('foo=bar; bar=baz', lineno=192, col_offset=32)], Load(), lineno=192, col_offset=13), Tuple([Str('foo=bar;bar=baz', lineno=193, col_offset=13), Str('foo=bar; bar=baz', lineno=193, col_offset=32)], Load(), lineno=193, col_offset=13), Tuple([Str('foo bar baz', lineno=194, col_offset=13), Str('foo; bar; baz', lineno=194, col_offset=28)], Load(), lineno=194, col_offset=13), Tuple([Str('foo="\\"" bar="\\\\"', lineno=195, col_offset=13), Str('foo="\\""; bar="\\\\"', lineno=195, col_offset=35)], Load(), lineno=195, col_offset=13), Tuple([Str('foo,,,bar', lineno=196, col_offset=13), Str('foo, bar', lineno=196, col_offset=26)], Load(), lineno=196, col_offset=13), Tuple([Str('foo=bar,bar=baz', lineno=197, col_offset=13), Str('foo=bar, bar=baz', lineno=197, col_offset=32)], Load(), lineno=197, col_offset=13), Tuple([Str('text/html; charset=iso-8859-1', lineno=199, col_offset=13), Str('text/html; charset="iso-8859-1"', lineno=200, col_offset=13)], Load(), lineno=199, col_offset=13), Tuple([Str('foo="bar"; port="80,81"; discard, bar=baz', lineno=202, col_offset=13), Str('foo=bar; port="80,81"; discard, bar=baz', lineno=203, col_offset=13)], Load(), lineno=202, col_offset=13), Tuple([Str('Basic realm="\\"foo\\\\\\\\bar\\""', lineno=205, col_offset=13), Str('Basic; realm="\\"foo\\\\\\\\bar\\""', lineno=206, col_offset=13)], Load(), lineno=205, col_offset=13)], Load(), lineno=187, col_offset=16), lineno=187, col_offset=8), For(Tuple([Name('arg', Store(), lineno=209, col_offset=12), Name('expect', Store(), lineno=209, col_offset=17)], Store(), lineno=209, col_offset=12), Name('tests', Load(), lineno=209, col_offset=27), [Assign([Name('input', Store(), lineno=210, col_offset=12)], Call(Name('split_header_words', Load(), lineno=210, col_offset=20), [List([Name('arg', Load(), lineno=210, col_offset=40)], Load(), lineno=210, col_offset=39)], [], None, None, lineno=210, col_offset=20), lineno=210, col_offset=12), Assign([Name('res', Store(), lineno=211, col_offset=12)], Call(Name('join_header_words', Load(), lineno=211, col_offset=18), [Name('input', Load(), lineno=211, col_offset=36)], [], None, None, lineno=211, col_offset=18), lineno=211, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=212, col_offset=12), 'assertEqual', Load(), lineno=212, col_offset=12), [Name('res', Load(), lineno=212, col_offset=29), Name('expect', Load(), lineno=212, col_offset=34), BinOp(Str("\nWhen parsing: '%s'\nExpected:     '%s'\nGot:          '%s'\nInput was:    '%s'\n", lineno=217, col_offset=-1), Mod(), Tuple([Name('arg', Load(), lineno=217, col_offset=7), Name('expect', Load(), lineno=217, col_offset=12), Name('res', Load(), lineno=217, col_offset=20), Name('input', Load(), lineno=217, col_offset=25)], Load(), lineno=217, col_offset=7), lineno=217, col_offset=-1)], [], None, None, lineno=212, col_offset=12), lineno=212, col_offset=12)], [], lineno=209, col_offset=8)], [], lineno=184, col_offset=4)], [], lineno=106, col_offset=0), ClassDef('FakeResponse', [], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=221, col_offset=17), Name('headers', Param(), lineno=221, col_offset=23), Name('url', Param(), lineno=221, col_offset=35)], None, None, [List([], Load(), lineno=221, col_offset=31), Name('None', Load(), lineno=221, col_offset=39)]), [Expr(Str("\n        headers: list of RFC822-style 'Key: value' strings\n        ", lineno=224, col_offset=-1), lineno=224, col_offset=-1), Import([alias('mimetools', None), alias('StringIO', None)], lineno=225, col_offset=8), Assign([Name('f', Store(), lineno=226, col_offset=8)], Call(Attribute(Name('StringIO', Load(), lineno=226, col_offset=12), 'StringIO', Load(), lineno=226, col_offset=12), [Call(Attribute(Str('\n', lineno=226, col_offset=30), 'join', Load(), lineno=226, col_offset=30), [Name('headers', Load(), lineno=226, col_offset=40)], [], None, None, lineno=226, col_offset=30)], [], None, None, lineno=226, col_offset=12), lineno=226, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=227, col_offset=8), '_headers', Store(), lineno=227, col_offset=8)], Call(Attribute(Name('mimetools', Load(), lineno=227, col_offset=24), 'Message', Load(), lineno=227, col_offset=24), [Name('f', Load(), lineno=227, col_offset=42)], [], None, None, lineno=227, col_offset=24), lineno=227, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=228, col_offset=8), '_url', Store(), lineno=228, col_offset=8)], Name('url', Load(), lineno=228, col_offset=20), lineno=228, col_offset=8)], [], lineno=221, col_offset=4), FunctionDef('info', arguments([Name('self', Param(), lineno=229, col_offset=13)], None, None, []), [Return(Attribute(Name('self', Load(), lineno=229, col_offset=27), '_headers', Load(), lineno=229, col_offset=27), lineno=229, col_offset=20)], [], lineno=229, col_offset=4)], [], lineno=220, col_offset=0), FunctionDef('interact_2965', arguments([Name('cookiejar', Param(), lineno=231, col_offset=18), Name('url', Param(), lineno=231, col_offset=29)], 'set_cookie_hdrs', None, []), [Return(Call(Name('_interact', Load(), lineno=232, col_offset=11), [Name('cookiejar', Load(), lineno=232, col_offset=21), Name('url', Load(), lineno=232, col_offset=32), Name('set_cookie_hdrs', Load(), lineno=232, col_offset=37), Str('Set-Cookie2', lineno=232, col_offset=54)], [], None, None, lineno=232, col_offset=11), lineno=232, col_offset=4)], [], lineno=231, col_offset=0), FunctionDef('interact_netscape', arguments([Name('cookiejar', Param(), lineno=234, col_offset=22), Name('url', Param(), lineno=234, col_offset=33)], 'set_cookie_hdrs', None, []), [Return(Call(Name('_interact', Load(), lineno=235, col_offset=11), [Name('cookiejar', Load(), lineno=235, col_offset=21), Name('url', Load(), lineno=235, col_offset=32), Name('set_cookie_hdrs', Load(), lineno=235, col_offset=37), Str('Set-Cookie', lineno=235, col_offset=54)], [], None, None, lineno=235, col_offset=11), lineno=235, col_offset=4)], [], lineno=234, col_offset=0), FunctionDef('_interact', arguments([Name('cookiejar', Param(), lineno=237, col_offset=14), Name('url', Param(), lineno=237, col_offset=25), Name('set_cookie_hdrs', Param(), lineno=237, col_offset=30), Name('hdr_name', Param(), lineno=237, col_offset=47)], None, None, []), [Expr(Str('Perform a single request / response cycle, returning Cookie: header.', lineno=238, col_offset=4), lineno=238, col_offset=4), ImportFrom('urllib2', [alias('Request', None)], 0, lineno=239, col_offset=4), Assign([Name('req', Store(), lineno=240, col_offset=4)], Call(Name('Request', Load(), lineno=240, col_offset=10), [Name('url', Load(), lineno=240, col_offset=18)], [], None, None, lineno=240, col_offset=10), lineno=240, col_offset=4), Expr(Call(Attribute(Name('cookiejar', Load(), lineno=241, col_offset=4), 'add_cookie_header', Load(), lineno=241, col_offset=4), [Name('req', Load(), lineno=241, col_offset=32)], [], None, None, lineno=241, col_offset=4), lineno=241, col_offset=4), Assign([Name('cookie_hdr', Store(), lineno=242, col_offset=4)], Call(Attribute(Name('req', Load(), lineno=242, col_offset=17), 'get_header', Load(), lineno=242, col_offset=17), [Str('Cookie', lineno=242, col_offset=32), Str('', lineno=242, col_offset=42)], [], None, None, lineno=242, col_offset=17), lineno=242, col_offset=4), Assign([Name('headers', Store(), lineno=243, col_offset=4)], List([], Load(), lineno=243, col_offset=14), lineno=243, col_offset=4), For(Name('hdr', Store(), lineno=244, col_offset=8), Name('set_cookie_hdrs', Load(), lineno=244, col_offset=15), [Expr(Call(Attribute(Name('headers', Load(), lineno=245, col_offset=8), 'append', Load(), lineno=245, col_offset=8), [BinOp(Str('%s: %s', lineno=245, col_offset=23), Mod(), Tuple([Name('hdr_name', Load(), lineno=245, col_offset=35), Name('hdr', Load(), lineno=245, col_offset=45)], Load(), lineno=245, col_offset=35), lineno=245, col_offset=23)], [], None, None, lineno=245, col_offset=8), lineno=245, col_offset=8)], [], lineno=244, col_offset=4), Assign([Name('res', Store(), lineno=246, col_offset=4)], Call(Name('FakeResponse', Load(), lineno=246, col_offset=10), [Name('headers', Load(), lineno=246, col_offset=23), Name('url', Load(), lineno=246, col_offset=32)], [], None, None, lineno=246, col_offset=10), lineno=246, col_offset=4), Expr(Call(Attribute(Name('cookiejar', Load(), lineno=247, col_offset=4), 'extract_cookies', Load(), lineno=247, col_offset=4), [Name('res', Load(), lineno=247, col_offset=30), Name('req', Load(), lineno=247, col_offset=35)], [], None, None, lineno=247, col_offset=4), lineno=247, col_offset=4), Return(Name('cookie_hdr', Load(), lineno=248, col_offset=11), lineno=248, col_offset=4)], [], lineno=237, col_offset=0), ClassDef('FileCookieJarTests', [Name('TestCase', Load(), lineno=251, col_offset=25)], [FunctionDef('test_lwp_valueless_cookie', arguments([Name('self', Param(), lineno=252, col_offset=34)], None, None, []), [ImportFrom('cookielib', [alias('LWPCookieJar', None)], 0, lineno=254, col_offset=8), Assign([Name('filename', Store(), lineno=255, col_offset=8)], Attribute(Name('test_support', Load(), lineno=255, col_offset=19), 'TESTFN', Load(), lineno=255, col_offset=19), lineno=255, col_offset=8), Assign([Name('c', Store(), lineno=256, col_offset=8)], Call(Name('LWPCookieJar', Load(), lineno=256, col_offset=12), [], [], None, None, lineno=256, col_offset=12), lineno=256, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=257, col_offset=8), [Name('c', Load(), lineno=257, col_offset=26), Str('http://www.acme.com/', lineno=257, col_offset=29), Str('boo', lineno=257, col_offset=53)], [], None, None, lineno=257, col_offset=8), lineno=257, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=258, col_offset=8), 'assertEqual', Load(), lineno=258, col_offset=8), [Attribute(Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=258, col_offset=25), '_cookies', Load(), lineno=258, col_offset=25), Index(Str('www.acme.com', lineno=258, col_offset=36)), Load(), lineno=258, col_offset=25), Index(Str('/', lineno=258, col_offset=52)), Load(), lineno=258, col_offset=25), Index(Str('boo', lineno=258, col_offset=57)), Load(), lineno=258, col_offset=25), 'value', Load(), lineno=258, col_offset=25), Name('None', Load(), lineno=258, col_offset=71)], [], None, None, lineno=258, col_offset=8), lineno=258, col_offset=8), TryFinally([Expr(Call(Attribute(Name('c', Load(), lineno=260, col_offset=12), 'save', Load(), lineno=260, col_offset=12), [Name('filename', Load(), lineno=260, col_offset=19)], [keyword('ignore_discard', Name('True', Load(), lineno=260, col_offset=44))], None, None, lineno=260, col_offset=12), lineno=260, col_offset=12), Assign([Name('c', Store(), lineno=261, col_offset=12)], Call(Name('LWPCookieJar', Load(), lineno=261, col_offset=16), [], [], None, None, lineno=261, col_offset=16), lineno=261, col_offset=12), Expr(Call(Attribute(Name('c', Load(), lineno=262, col_offset=12), 'load', Load(), lineno=262, col_offset=12), [Name('filename', Load(), lineno=262, col_offset=19)], [keyword('ignore_discard', Name('True', Load(), lineno=262, col_offset=44))], None, None, lineno=262, col_offset=12), lineno=262, col_offset=12)], [TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=264, col_offset=17), 'unlink', Load(), lineno=264, col_offset=17), [Name('filename', Load(), lineno=264, col_offset=27)], [], None, None, lineno=264, col_offset=17), lineno=264, col_offset=17)], [ExceptHandler(Name('OSError', Load(), lineno=265, col_offset=19), None, [Pass( lineno=265, col_offset=28)], lineno=265, col_offset=12)], [], lineno=264, col_offset=12)], lineno=259, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=266, col_offset=8), 'assertEqual', Load(), lineno=266, col_offset=8), [Attribute(Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=266, col_offset=25), '_cookies', Load(), lineno=266, col_offset=25), Index(Str('www.acme.com', lineno=266, col_offset=36)), Load(), lineno=266, col_offset=25), Index(Str('/', lineno=266, col_offset=52)), Load(), lineno=266, col_offset=25), Index(Str('boo', lineno=266, col_offset=57)), Load(), lineno=266, col_offset=25), 'value', Load(), lineno=266, col_offset=25), Name('None', Load(), lineno=266, col_offset=71)], [], None, None, lineno=266, col_offset=8), lineno=266, col_offset=8)], [], lineno=252, col_offset=4), FunctionDef('test_bad_magic', arguments([Name('self', Param(), lineno=268, col_offset=23)], None, None, []), [ImportFrom('cookielib', [alias('LWPCookieJar', None), alias('MozillaCookieJar', None), alias('LoadError', None)], 0, lineno=269, col_offset=8), Assign([Name('filename', Store(), lineno=271, col_offset=8)], Attribute(Name('test_support', Load(), lineno=271, col_offset=19), 'TESTFN', Load(), lineno=271, col_offset=19), lineno=271, col_offset=8), For(Name('cookiejar_class', Store(), lineno=272, col_offset=12), Tuple([Name('LWPCookieJar', Load(), lineno=272, col_offset=31), Name('MozillaCookieJar', Load(), lineno=272, col_offset=45)], Load(), lineno=272, col_offset=31), [Assign([Name('c', Store(), lineno=273, col_offset=12)], Call(Name('cookiejar_class', Load(), lineno=273, col_offset=16), [], [], None, None, lineno=273, col_offset=16), lineno=273, col_offset=12), TryExcept([Expr(Call(Attribute(Name('c', Load(), lineno=275, col_offset=16), 'load', Load(), lineno=275, col_offset=16), [], [keyword('filename', Str('for this test to work, a file with this filename should not exist', lineno=275, col_offset=32))], None, None, lineno=275, col_offset=16), lineno=275, col_offset=16)], [ExceptHandler(Name('IOError', Load(), lineno=277, col_offset=19), Name('exc', Store(), lineno=277, col_offset=28), [Expr(Call(Attribute(Name('self', Load(), lineno=279, col_offset=16), 'assertEqual', Load(), lineno=279, col_offset=16), [Attribute(Name('exc', Load(), lineno=279, col_offset=33), '__class__', Load(), lineno=279, col_offset=33), Name('IOError', Load(), lineno=279, col_offset=48)], [], None, None, lineno=279, col_offset=16), lineno=279, col_offset=16)], lineno=277, col_offset=12)], [Expr(Call(Attribute(Name('self', Load(), lineno=281, col_offset=16), 'fail', Load(), lineno=281, col_offset=16), [Str('expected IOError for invalid filename', lineno=281, col_offset=26)], [], None, None, lineno=281, col_offset=16), lineno=281, col_offset=16)], lineno=274, col_offset=12)], [], lineno=272, col_offset=8), TryFinally([Assign([Name('f', Store(), lineno=285, col_offset=12)], Call(Name('open', Load(), lineno=285, col_offset=16), [Name('filename', Load(), lineno=285, col_offset=21), Str('w', lineno=285, col_offset=31)], [], None, None, lineno=285, col_offset=16), lineno=285, col_offset=12), Expr(Call(Attribute(Name('f', Load(), lineno=286, col_offset=12), 'write', Load(), lineno=286, col_offset=12), [Str('oops\n', lineno=286, col_offset=20)], [], None, None, lineno=286, col_offset=12), lineno=286, col_offset=12), For(Name('cookiejar_class', Store(), lineno=287, col_offset=16), Tuple([Name('LWPCookieJar', Load(), lineno=287, col_offset=35), Name('MozillaCookieJar', Load(), lineno=287, col_offset=49)], Load(), lineno=287, col_offset=35), [Assign([Name('c', Store(), lineno=288, col_offset=16)], Call(Name('cookiejar_class', Load(), lineno=288, col_offset=20), [], [], None, None, lineno=288, col_offset=20), lineno=288, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=289, col_offset=16), 'assertRaises', Load(), lineno=289, col_offset=16), [Name('LoadError', Load(), lineno=289, col_offset=34), Attribute(Name('c', Load(), lineno=289, col_offset=45), 'load', Load(), lineno=289, col_offset=45), Name('filename', Load(), lineno=289, col_offset=53)], [], None, None, lineno=289, col_offset=16), lineno=289, col_offset=16)], [], lineno=287, col_offset=12)], [TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=291, col_offset=17), 'unlink', Load(), lineno=291, col_offset=17), [Name('filename', Load(), lineno=291, col_offset=27)], [], None, None, lineno=291, col_offset=17), lineno=291, col_offset=17)], [ExceptHandler(Name('OSError', Load(), lineno=292, col_offset=19), None, [Pass( lineno=292, col_offset=28)], lineno=292, col_offset=12)], [], lineno=291, col_offset=12)], lineno=284, col_offset=8)], [], lineno=268, col_offset=4)], [], lineno=251, col_offset=0), ClassDef('CookieTests', [Name('TestCase', Load(), lineno=294, col_offset=18)], [FunctionDef('test_domain_return_ok', arguments([Name('self', Param(), lineno=341, col_offset=30)], None, None, []), [Import([alias('cookielib', None), alias('urllib2', None)], lineno=347, col_offset=8), Assign([Name('pol', Store(), lineno=348, col_offset=8)], Call(Attribute(Name('cookielib', Load(), lineno=348, col_offset=14), 'DefaultCookiePolicy', Load(), lineno=348, col_offset=14), [], [], None, None, lineno=348, col_offset=14), lineno=348, col_offset=8), For(Tuple([Name('url', Store(), lineno=349, col_offset=12), Name('domain', Store(), lineno=349, col_offset=17), Name('ok', Store(), lineno=349, col_offset=25)], Store(), lineno=349, col_offset=12), List([Tuple([Str('http://foo.bar.com/', lineno=350, col_offset=13), Str('blah.com', lineno=350, col_offset=36), Name('False', Load(), lineno=350, col_offset=48)], Load(), lineno=350, col_offset=13), Tuple([Str('http://foo.bar.com/', lineno=351, col_offset=13), Str('rhubarb.blah.com', lineno=351, col_offset=36), Name('False', Load(), lineno=351, col_offset=56)], Load(), lineno=351, col_offset=13), Tuple([Str('http://foo.bar.com/', lineno=352, col_offset=13), Str('rhubarb.foo.bar.com', lineno=352, col_offset=36), Name('False', Load(), lineno=352, col_offset=59)], Load(), lineno=352, col_offset=13), Tuple([Str('http://foo.bar.com/', lineno=353, col_offset=13), Str('.foo.bar.com', lineno=353, col_offset=36), Name('True', Load(), lineno=353, col_offset=52)], Load(), lineno=353, col_offset=13), Tuple([Str('http://foo.bar.com/', lineno=354, col_offset=13), Str('foo.bar.com', lineno=354, col_offset=36), Name('True', Load(), lineno=354, col_offset=51)], Load(), lineno=354, col_offset=13), Tuple([Str('http://foo.bar.com/', lineno=355, col_offset=13), Str('.bar.com', lineno=355, col_offset=36), Name('True', Load(), lineno=355, col_offset=48)], Load(), lineno=355, col_offset=13), Tuple([Str('http://foo.bar.com/', lineno=356, col_offset=13), Str('com', lineno=356, col_offset=36), Name('True', Load(), lineno=356, col_offset=43)], Load(), lineno=356, col_offset=13), Tuple([Str('http://foo.com/', lineno=357, col_offset=13), Str('rhubarb.foo.com', lineno=357, col_offset=32), Name('False', Load(), lineno=357, col_offset=51)], Load(), lineno=357, col_offset=13), Tuple([Str('http://foo.com/', lineno=358, col_offset=13), Str('.foo.com', lineno=358, col_offset=32), Name('True', Load(), lineno=358, col_offset=44)], Load(), lineno=358, col_offset=13), Tuple([Str('http://foo.com/', lineno=359, col_offset=13), Str('foo.com', lineno=359, col_offset=32), Name('True', Load(), lineno=359, col_offset=43)], Load(), lineno=359, col_offset=13), Tuple([Str('http://foo.com/', lineno=360, col_offset=13), Str('com', lineno=360, col_offset=32), Name('True', Load(), lineno=360, col_offset=39)], Load(), lineno=360, col_offset=13), Tuple([Str('http://foo/', lineno=361, col_offset=13), Str('rhubarb.foo', lineno=361, col_offset=28), Name('False', Load(), lineno=361, col_offset=43)], Load(), lineno=361, col_offset=13), Tuple([Str('http://foo/', lineno=362, col_offset=13), Str('.foo', lineno=362, col_offset=28), Name('True', Load(), lineno=362, col_offset=36)], Load(), lineno=362, col_offset=13), Tuple([Str('http://foo/', lineno=363, col_offset=13), Str('foo', lineno=363, col_offset=28), Name('True', Load(), lineno=363, col_offset=35)], Load(), lineno=363, col_offset=13), Tuple([Str('http://foo/', lineno=364, col_offset=13), Str('foo.local', lineno=364, col_offset=28), Name('True', Load(), lineno=364, col_offset=41)], Load(), lineno=364, col_offset=13), Tuple([Str('http://foo/', lineno=365, col_offset=13), Str('.local', lineno=365, col_offset=28), Name('True', Load(), lineno=365, col_offset=38)], Load(), lineno=365, col_offset=13)], Load(), lineno=349, col_offset=31), [Assign([Name('request', Store(), lineno=367, col_offset=12)], Call(Attribute(Name('urllib2', Load(), lineno=367, col_offset=22), 'Request', Load(), lineno=367, col_offset=22), [Name('url', Load(), lineno=367, col_offset=38)], [], None, None, lineno=367, col_offset=22), lineno=367, col_offset=12), Assign([Name('r', Store(), lineno=368, col_offset=12)], Call(Attribute(Name('pol', Load(), lineno=368, col_offset=16), 'domain_return_ok', Load(), lineno=368, col_offset=16), [Name('domain', Load(), lineno=368, col_offset=37), Name('request', Load(), lineno=368, col_offset=45)], [], None, None, lineno=368, col_offset=16), lineno=368, col_offset=12), If(Name('ok', Load(), lineno=369, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=369, col_offset=19), 'assertTrue', Load(), lineno=369, col_offset=19), [Name('r', Load(), lineno=369, col_offset=35)], [], None, None, lineno=369, col_offset=19), lineno=369, col_offset=19)], [Expr(Call(Attribute(Name('self', Load(), lineno=370, col_offset=18), 'assertTrue', Load(), lineno=370, col_offset=18), [UnaryOp(Not(), Name('r', Load(), lineno=370, col_offset=38), lineno=370, col_offset=34)], [], None, None, lineno=370, col_offset=18), lineno=370, col_offset=18)], lineno=369, col_offset=12)], [], lineno=349, col_offset=8)], [], lineno=341, col_offset=4), FunctionDef('test_missing_value', arguments([Name('self', Param(), lineno=372, col_offset=27)], None, None, []), [ImportFrom('cookielib', [alias('MozillaCookieJar', None), alias('lwp_cookie_str', None)], 0, lineno=373, col_offset=8), Assign([Name('filename', Store(), lineno=377, col_offset=8)], Attribute(Name('test_support', Load(), lineno=377, col_offset=19), 'TESTFN', Load(), lineno=377, col_offset=19), lineno=377, col_offset=8), Assign([Name('c', Store(), lineno=378, col_offset=8)], Call(Name('MozillaCookieJar', Load(), lineno=378, col_offset=12), [Name('filename', Load(), lineno=378, col_offset=29)], [], None, None, lineno=378, col_offset=12), lineno=378, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=379, col_offset=8), [Name('c', Load(), lineno=379, col_offset=26), Str('http://www.acme.com/', lineno=379, col_offset=29), Str('eggs', lineno=379, col_offset=53)], [], None, None, lineno=379, col_offset=8), lineno=379, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=380, col_offset=8), [Name('c', Load(), lineno=380, col_offset=26), Str('http://www.acme.com/', lineno=380, col_offset=29), Str('"spam"; path=/foo/', lineno=380, col_offset=53)], [], None, None, lineno=380, col_offset=8), lineno=380, col_offset=8), Assign([Name('cookie', Store(), lineno=381, col_offset=8)], Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=381, col_offset=17), '_cookies', Load(), lineno=381, col_offset=17), Index(Str('www.acme.com', lineno=381, col_offset=28)), Load(), lineno=381, col_offset=17), Index(Str('/', lineno=381, col_offset=44)), Load(), lineno=381, col_offset=17), Index(Str('eggs', lineno=381, col_offset=49)), Load(), lineno=381, col_offset=17), lineno=381, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=382, col_offset=8), 'assertTrue', Load(), lineno=382, col_offset=8), [Compare(Attribute(Name('cookie', Load(), lineno=382, col_offset=24), 'value', Load(), lineno=382, col_offset=24), [Is()], [Name('None', Load(), lineno=382, col_offset=40)], lineno=382, col_offset=24)], [], None, None, lineno=382, col_offset=8), lineno=382, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=383, col_offset=8), 'assertEqual', Load(), lineno=383, col_offset=8), [Attribute(Name('cookie', Load(), lineno=383, col_offset=25), 'name', Load(), lineno=383, col_offset=25), Str('eggs', lineno=383, col_offset=38)], [], None, None, lineno=383, col_offset=8), lineno=383, col_offset=8), Assign([Name('cookie', Store(), lineno=384, col_offset=8)], Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=384, col_offset=17), '_cookies', Load(), lineno=384, col_offset=17), Index(Str('www.acme.com', lineno=384, col_offset=28)), Load(), lineno=384, col_offset=17), Index(Str('/foo/', lineno=384, col_offset=44)), Load(), lineno=384, col_offset=17), Index(Str('"spam"', lineno=384, col_offset=53)), Load(), lineno=384, col_offset=17), lineno=384, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=385, col_offset=8), 'assertTrue', Load(), lineno=385, col_offset=8), [Compare(Attribute(Name('cookie', Load(), lineno=385, col_offset=24), 'value', Load(), lineno=385, col_offset=24), [Is()], [Name('None', Load(), lineno=385, col_offset=40)], lineno=385, col_offset=24)], [], None, None, lineno=385, col_offset=8), lineno=385, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=386, col_offset=8), 'assertEqual', Load(), lineno=386, col_offset=8), [Attribute(Name('cookie', Load(), lineno=386, col_offset=25), 'name', Load(), lineno=386, col_offset=25), Str('"spam"', lineno=386, col_offset=38)], [], None, None, lineno=386, col_offset=8), lineno=386, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=387, col_offset=8), 'assertEqual', Load(), lineno=387, col_offset=8), [Call(Name('lwp_cookie_str', Load(), lineno=387, col_offset=25), [Name('cookie', Load(), lineno=387, col_offset=40)], [], None, None, lineno=387, col_offset=25), Str('"spam"; path="/foo/"; domain="www.acme.com"; path_spec; discard; version=0', lineno=388, col_offset=12)], [], None, None, lineno=387, col_offset=8), lineno=387, col_offset=8), Assign([Name('old_str', Store(), lineno=390, col_offset=8)], Call(Name('repr', Load(), lineno=390, col_offset=18), [Name('c', Load(), lineno=390, col_offset=23)], [], None, None, lineno=390, col_offset=18), lineno=390, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=391, col_offset=8), 'save', Load(), lineno=391, col_offset=8), [], [keyword('ignore_expires', Name('True', Load(), lineno=391, col_offset=30)), keyword('ignore_discard', Name('True', Load(), lineno=391, col_offset=51))], None, None, lineno=391, col_offset=8), lineno=391, col_offset=8), TryFinally([Assign([Name('c', Store(), lineno=393, col_offset=12)], Call(Name('MozillaCookieJar', Load(), lineno=393, col_offset=16), [Name('filename', Load(), lineno=393, col_offset=33)], [], None, None, lineno=393, col_offset=16), lineno=393, col_offset=12), Expr(Call(Attribute(Name('c', Load(), lineno=394, col_offset=12), 'revert', Load(), lineno=394, col_offset=12), [], [keyword('ignore_expires', Name('True', Load(), lineno=394, col_offset=36)), keyword('ignore_discard', Name('True', Load(), lineno=394, col_offset=57))], None, None, lineno=394, col_offset=12), lineno=394, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=396, col_offset=12), 'unlink', Load(), lineno=396, col_offset=12), [Attribute(Name('c', Load(), lineno=396, col_offset=22), 'filename', Load(), lineno=396, col_offset=22)], [], None, None, lineno=396, col_offset=12), lineno=396, col_offset=12)], lineno=392, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=398, col_offset=8), 'assertEqual', Load(), lineno=398, col_offset=8), [Call(Name('repr', Load(), lineno=399, col_offset=12), [Name('c', Load(), lineno=399, col_offset=17)], [], None, None, lineno=399, col_offset=12), Call(Attribute(Name('re', Load(), lineno=400, col_offset=12), 'sub', Load(), lineno=400, col_offset=12), [BinOp(Str('path_specified=%s', lineno=400, col_offset=19), Mod(), Name('True', Load(), lineno=400, col_offset=41), lineno=400, col_offset=19), BinOp(Str('path_specified=%s', lineno=400, col_offset=47), Mod(), Name('False', Load(), lineno=400, col_offset=69), lineno=400, col_offset=47), Name('old_str', Load(), lineno=401, col_offset=19)], [], None, None, lineno=400, col_offset=12)], [], None, None, lineno=398, col_offset=8), lineno=398, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=403, col_offset=8), 'assertEqual', Load(), lineno=403, col_offset=8), [Call(Name('interact_netscape', Load(), lineno=403, col_offset=25), [Name('c', Load(), lineno=403, col_offset=43), Str('http://www.acme.com/foo/', lineno=403, col_offset=46)], [], None, None, lineno=403, col_offset=25), Str('"spam"; eggs', lineno=404, col_offset=25)], [], None, None, lineno=403, col_offset=8), lineno=403, col_offset=8)], [], lineno=372, col_offset=4), FunctionDef('test_rfc2109_handling', arguments([Name('self', Param(), lineno=406, col_offset=30)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=409, col_offset=8), For(Tuple([Name('rfc2109_as_netscape', Store(), lineno=411, col_offset=12), Name('rfc2965', Store(), lineno=411, col_offset=33), Name('version', Store(), lineno=411, col_offset=42)], Store(), lineno=411, col_offset=12), List([Tuple([Name('None', Load(), lineno=413, col_offset=13), Name('False', Load(), lineno=413, col_offset=19), Num(0, lineno=413, col_offset=26)], Load(), lineno=413, col_offset=13), Tuple([Name('None', Load(), lineno=414, col_offset=13), Name('True', Load(), lineno=414, col_offset=19), Num(1, lineno=414, col_offset=25)], Load(), lineno=414, col_offset=13), Tuple([Name('False', Load(), lineno=416, col_offset=13), Name('False', Load(), lineno=416, col_offset=20), Name('None', Load(), lineno=416, col_offset=27)], Load(), lineno=416, col_offset=13), Tuple([Name('False', Load(), lineno=417, col_offset=13), Name('True', Load(), lineno=417, col_offset=20), Num(1, lineno=417, col_offset=26)], Load(), lineno=417, col_offset=13), Tuple([Name('True', Load(), lineno=418, col_offset=13), Name('False', Load(), lineno=418, col_offset=19), Num(0, lineno=418, col_offset=26)], Load(), lineno=418, col_offset=13), Tuple([Name('True', Load(), lineno=419, col_offset=13), Name('True', Load(), lineno=419, col_offset=19), Num(0, lineno=419, col_offset=25)], Load(), lineno=419, col_offset=13)], Load(), lineno=411, col_offset=53), [Assign([Name('policy', Store(), lineno=421, col_offset=12)], Call(Name('DefaultCookiePolicy', Load(), lineno=421, col_offset=21), [], [keyword('rfc2109_as_netscape', Name('rfc2109_as_netscape', Load(), lineno=422, col_offset=36)), keyword('rfc2965', Name('rfc2965', Load(), lineno=423, col_offset=24))], None, None, lineno=421, col_offset=21), lineno=421, col_offset=12), Assign([Name('c', Store(), lineno=424, col_offset=12)], Call(Name('CookieJar', Load(), lineno=424, col_offset=16), [Name('policy', Load(), lineno=424, col_offset=26)], [], None, None, lineno=424, col_offset=16), lineno=424, col_offset=12), Expr(Call(Name('interact_netscape', Load(), lineno=425, col_offset=12), [Name('c', Load(), lineno=425, col_offset=30), Str('http://www.example.com/', lineno=425, col_offset=33), Str('ni=ni; Version=1', lineno=425, col_offset=60)], [], None, None, lineno=425, col_offset=12), lineno=425, col_offset=12), TryExcept([Assign([Name('cookie', Store(), lineno=427, col_offset=16)], Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=427, col_offset=25), '_cookies', Load(), lineno=427, col_offset=25), Index(Str('www.example.com', lineno=427, col_offset=36)), Load(), lineno=427, col_offset=25), Index(Str('/', lineno=427, col_offset=55)), Load(), lineno=427, col_offset=25), Index(Str('ni', lineno=427, col_offset=60)), Load(), lineno=427, col_offset=25), lineno=427, col_offset=16)], [ExceptHandler(Name('KeyError', Load(), lineno=428, col_offset=19), None, [Expr(Call(Attribute(Name('self', Load(), lineno=429, col_offset=16), 'assertTrue', Load(), lineno=429, col_offset=16), [Compare(Name('version', Load(), lineno=429, col_offset=32), [Is()], [Name('None', Load(), lineno=429, col_offset=43)], lineno=429, col_offset=32)], [], None, None, lineno=429, col_offset=16), lineno=429, col_offset=16)], lineno=428, col_offset=12)], [Expr(Call(Attribute(Name('self', Load(), lineno=431, col_offset=16), 'assertEqual', Load(), lineno=431, col_offset=16), [Attribute(Name('cookie', Load(), lineno=431, col_offset=33), 'version', Load(), lineno=431, col_offset=33), Name('version', Load(), lineno=431, col_offset=49)], [], None, None, lineno=431, col_offset=16), lineno=431, col_offset=16), Expr(Call(Name('interact_2965', Load(), lineno=433, col_offset=16), [Name('c', Load(), lineno=433, col_offset=30), Str('http://www.example.com/', lineno=433, col_offset=33), Str('foo=bar; Version=1', lineno=434, col_offset=30)], [], None, None, lineno=433, col_offset=16), lineno=433, col_offset=16), If(Name('rfc2965', Load(), lineno=435, col_offset=19), [Assign([Name('cookie2965', Store(), lineno=436, col_offset=20)], Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=436, col_offset=33), '_cookies', Load(), lineno=436, col_offset=33), Index(Str('www.example.com', lineno=436, col_offset=44)), Load(), lineno=436, col_offset=33), Index(Str('/', lineno=436, col_offset=63)), Load(), lineno=436, col_offset=33), Index(Str('foo', lineno=436, col_offset=68)), Load(), lineno=436, col_offset=33), lineno=436, col_offset=20), Expr(Call(Attribute(Name('self', Load(), lineno=437, col_offset=20), 'assertEqual', Load(), lineno=437, col_offset=20), [Attribute(Name('cookie2965', Load(), lineno=437, col_offset=37), 'version', Load(), lineno=437, col_offset=37), Num(1, lineno=437, col_offset=57)], [], None, None, lineno=437, col_offset=20), lineno=437, col_offset=20)], [], lineno=435, col_offset=16)], lineno=426, col_offset=12)], [], lineno=411, col_offset=8)], [], lineno=406, col_offset=4), FunctionDef('test_ns_parser', arguments([Name('self', Param(), lineno=439, col_offset=23)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DEFAULT_HTTP_PORT', None)], 0, lineno=440, col_offset=8), Assign([Name('c', Store(), lineno=442, col_offset=8)], Call(Name('CookieJar', Load(), lineno=442, col_offset=12), [], [], None, None, lineno=442, col_offset=12), lineno=442, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=443, col_offset=8), [Name('c', Load(), lineno=443, col_offset=26), Str('http://www.acme.com/', lineno=443, col_offset=29), Str('spam=eggs; DoMain=.acme.com; port; blArgh="feep"', lineno=444, col_offset=26)], [], None, None, lineno=443, col_offset=8), lineno=443, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=445, col_offset=8), [Name('c', Load(), lineno=445, col_offset=26), Str('http://www.acme.com/', lineno=445, col_offset=29), Str('ni=ni; port=80,8080', lineno=445, col_offset=53)], [], None, None, lineno=445, col_offset=8), lineno=445, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=446, col_offset=8), [Name('c', Load(), lineno=446, col_offset=26), Str('http://www.acme.com:80/', lineno=446, col_offset=29), Str('nini=ni', lineno=446, col_offset=56)], [], None, None, lineno=446, col_offset=8), lineno=446, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=447, col_offset=8), [Name('c', Load(), lineno=447, col_offset=26), Str('http://www.acme.com:80/', lineno=447, col_offset=29), Str('foo=bar; expires=', lineno=447, col_offset=56)], [], None, None, lineno=447, col_offset=8), lineno=447, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=448, col_offset=8), [Name('c', Load(), lineno=448, col_offset=26), Str('http://www.acme.com:80/', lineno=448, col_offset=29), Str('spam=eggs; expires="Foo Bar 25 33:22:11 3022"', lineno=448, col_offset=56)], [], None, None, lineno=448, col_offset=8), lineno=448, col_offset=8), Assign([Name('cookie', Store(), lineno=451, col_offset=8)], Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=451, col_offset=17), '_cookies', Load(), lineno=451, col_offset=17), Index(Str('.acme.com', lineno=451, col_offset=28)), Load(), lineno=451, col_offset=17), Index(Str('/', lineno=451, col_offset=41)), Load(), lineno=451, col_offset=17), Index(Str('spam', lineno=451, col_offset=46)), Load(), lineno=451, col_offset=17), lineno=451, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=452, col_offset=8), 'assertEqual', Load(), lineno=452, col_offset=8), [Attribute(Name('cookie', Load(), lineno=452, col_offset=25), 'domain', Load(), lineno=452, col_offset=25), Str('.acme.com', lineno=452, col_offset=40)], [], None, None, lineno=452, col_offset=8), lineno=452, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=453, col_offset=8), 'assertTrue', Load(), lineno=453, col_offset=8), [Attribute(Name('cookie', Load(), lineno=453, col_offset=24), 'domain_specified', Load(), lineno=453, col_offset=24)], [], None, None, lineno=453, col_offset=8), lineno=453, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=454, col_offset=8), 'assertEqual', Load(), lineno=454, col_offset=8), [Attribute(Name('cookie', Load(), lineno=454, col_offset=25), 'port', Load(), lineno=454, col_offset=25), Name('DEFAULT_HTTP_PORT', Load(), lineno=454, col_offset=38)], [], None, None, lineno=454, col_offset=8), lineno=454, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=455, col_offset=8), 'assertTrue', Load(), lineno=455, col_offset=8), [UnaryOp(Not(), Attribute(Name('cookie', Load(), lineno=455, col_offset=28), 'port_specified', Load(), lineno=455, col_offset=28), lineno=455, col_offset=24)], [], None, None, lineno=455, col_offset=8), lineno=455, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=457, col_offset=8), 'assertTrue', Load(), lineno=457, col_offset=8), [BoolOp(And(), [Call(Attribute(Name('cookie', Load(), lineno=457, col_offset=24), 'has_nonstandard_attr', Load(), lineno=457, col_offset=24), [Str('blArgh', lineno=457, col_offset=52)], [], None, None, lineno=457, col_offset=24), UnaryOp(Not(), Call(Attribute(Name('cookie', Load(), lineno=458, col_offset=25), 'has_nonstandard_attr', Load(), lineno=458, col_offset=25), [Str('blargh', lineno=458, col_offset=53)], [], None, None, lineno=458, col_offset=25), lineno=458, col_offset=21)], lineno=457, col_offset=24)], [], None, None, lineno=457, col_offset=8), lineno=457, col_offset=8), Assign([Name('cookie', Store(), lineno=460, col_offset=8)], Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=460, col_offset=17), '_cookies', Load(), lineno=460, col_offset=17), Index(Str('www.acme.com', lineno=460, col_offset=28)), Load(), lineno=460, col_offset=17), Index(Str('/', lineno=460, col_offset=44)), Load(), lineno=460, col_offset=17), Index(Str('ni', lineno=460, col_offset=49)), Load(), lineno=460, col_offset=17), lineno=460, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=461, col_offset=8), 'assertEqual', Load(), lineno=461, col_offset=8), [Attribute(Name('cookie', Load(), lineno=461, col_offset=25), 'domain', Load(), lineno=461, col_offset=25), Str('www.acme.com', lineno=461, col_offset=40)], [], None, None, lineno=461, col_offset=8), lineno=461, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=462, col_offset=8), 'assertTrue', Load(), lineno=462, col_offset=8), [UnaryOp(Not(), Attribute(Name('cookie', Load(), lineno=462, col_offset=28), 'domain_specified', Load(), lineno=462, col_offset=28), lineno=462, col_offset=24)], [], None, None, lineno=462, col_offset=8), lineno=462, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=463, col_offset=8), 'assertEqual', Load(), lineno=463, col_offset=8), [Attribute(Name('cookie', Load(), lineno=463, col_offset=25), 'port', Load(), lineno=463, col_offset=25), Str('80,8080', lineno=463, col_offset=38)], [], None, None, lineno=463, col_offset=8), lineno=463, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=464, col_offset=8), 'assertTrue', Load(), lineno=464, col_offset=8), [Attribute(Name('cookie', Load(), lineno=464, col_offset=24), 'port_specified', Load(), lineno=464, col_offset=24)], [], None, None, lineno=464, col_offset=8), lineno=464, col_offset=8), Assign([Name('cookie', Store(), lineno=466, col_offset=8)], Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=466, col_offset=17), '_cookies', Load(), lineno=466, col_offset=17), Index(Str('www.acme.com', lineno=466, col_offset=28)), Load(), lineno=466, col_offset=17), Index(Str('/', lineno=466, col_offset=44)), Load(), lineno=466, col_offset=17), Index(Str('nini', lineno=466, col_offset=49)), Load(), lineno=466, col_offset=17), lineno=466, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=467, col_offset=8), 'assertTrue', Load(), lineno=467, col_offset=8), [Compare(Attribute(Name('cookie', Load(), lineno=467, col_offset=24), 'port', Load(), lineno=467, col_offset=24), [Is()], [Name('None', Load(), lineno=467, col_offset=39)], lineno=467, col_offset=24)], [], None, None, lineno=467, col_offset=8), lineno=467, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=468, col_offset=8), 'assertTrue', Load(), lineno=468, col_offset=8), [UnaryOp(Not(), Attribute(Name('cookie', Load(), lineno=468, col_offset=28), 'port_specified', Load(), lineno=468, col_offset=28), lineno=468, col_offset=24)], [], None, None, lineno=468, col_offset=8), lineno=468, col_offset=8), Assign([Name('foo', Store(), lineno=471, col_offset=8)], Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=471, col_offset=14), '_cookies', Load(), lineno=471, col_offset=14), Index(Str('www.acme.com', lineno=471, col_offset=25)), Load(), lineno=471, col_offset=14), Index(Str('/', lineno=471, col_offset=41)), Load(), lineno=471, col_offset=14), Index(Str('foo', lineno=471, col_offset=46)), Load(), lineno=471, col_offset=14), lineno=471, col_offset=8), Assign([Name('spam', Store(), lineno=472, col_offset=8)], Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=472, col_offset=15), '_cookies', Load(), lineno=472, col_offset=15), Index(Str('www.acme.com', lineno=472, col_offset=26)), Load(), lineno=472, col_offset=15), Index(Str('/', lineno=472, col_offset=42)), Load(), lineno=472, col_offset=15), Index(Str('foo', lineno=472, col_offset=47)), Load(), lineno=472, col_offset=15), lineno=472, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=473, col_offset=8), 'assertTrue', Load(), lineno=473, col_offset=8), [Compare(Attribute(Name('foo', Load(), lineno=473, col_offset=24), 'expires', Load(), lineno=473, col_offset=24), [Is()], [Name('None', Load(), lineno=473, col_offset=39)], lineno=473, col_offset=24)], [], None, None, lineno=473, col_offset=8), lineno=473, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=474, col_offset=8), 'assertTrue', Load(), lineno=474, col_offset=8), [Compare(Attribute(Name('spam', Load(), lineno=474, col_offset=24), 'expires', Load(), lineno=474, col_offset=24), [Is()], [Name('None', Load(), lineno=474, col_offset=40)], lineno=474, col_offset=24)], [], None, None, lineno=474, col_offset=8), lineno=474, col_offset=8)], [], lineno=439, col_offset=4), FunctionDef('test_ns_parser_special_names', arguments([Name('self', Param(), lineno=476, col_offset=37)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None)], 0, lineno=479, col_offset=8), Assign([Name('c', Store(), lineno=481, col_offset=8)], Call(Name('CookieJar', Load(), lineno=481, col_offset=12), [], [], None, None, lineno=481, col_offset=12), lineno=481, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=482, col_offset=8), [Name('c', Load(), lineno=482, col_offset=26), Str('http://www.acme.com/', lineno=482, col_offset=29), Str('expires=eggs', lineno=482, col_offset=53)], [], None, None, lineno=482, col_offset=8), lineno=482, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=483, col_offset=8), [Name('c', Load(), lineno=483, col_offset=26), Str('http://www.acme.com/', lineno=483, col_offset=29), Str('version=eggs; spam=eggs', lineno=483, col_offset=53)], [], None, None, lineno=483, col_offset=8), lineno=483, col_offset=8), Assign([Name('cookies', Store(), lineno=485, col_offset=8)], Subscript(Subscript(Attribute(Name('c', Load(), lineno=485, col_offset=18), '_cookies', Load(), lineno=485, col_offset=18), Index(Str('www.acme.com', lineno=485, col_offset=29)), Load(), lineno=485, col_offset=18), Index(Str('/', lineno=485, col_offset=45)), Load(), lineno=485, col_offset=18), lineno=485, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=486, col_offset=8), 'assertTrue', Load(), lineno=486, col_offset=8), [Compare(Str('expires', lineno=486, col_offset=24), [In()], [Name('cookies', Load(), lineno=486, col_offset=37)], lineno=486, col_offset=24)], [], None, None, lineno=486, col_offset=8), lineno=486, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=487, col_offset=8), 'assertTrue', Load(), lineno=487, col_offset=8), [Compare(Str('version', lineno=487, col_offset=24), [In()], [Name('cookies', Load(), lineno=487, col_offset=37)], lineno=487, col_offset=24)], [], None, None, lineno=487, col_offset=8), lineno=487, col_offset=8)], [], lineno=476, col_offset=4), FunctionDef('test_expires', arguments([Name('self', Param(), lineno=489, col_offset=21)], None, None, []), [ImportFrom('cookielib', [alias('time2netscape', None), alias('CookieJar', None)], 0, lineno=490, col_offset=8), Assign([Name('c', Store(), lineno=493, col_offset=8)], Call(Name('CookieJar', Load(), lineno=493, col_offset=12), [], [], None, None, lineno=493, col_offset=12), lineno=493, col_offset=8), Assign([Name('future', Store(), lineno=494, col_offset=8)], Call(Name('time2netscape', Load(), lineno=494, col_offset=17), [BinOp(Call(Attribute(Name('time', Load(), lineno=494, col_offset=31), 'time', Load(), lineno=494, col_offset=31), [], [], None, None, lineno=494, col_offset=31), Add(), Num(3600, lineno=494, col_offset=43), lineno=494, col_offset=31)], [], None, None, lineno=494, col_offset=17), lineno=494, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=495, col_offset=8), [Name('c', Load(), lineno=495, col_offset=26), Str('http://www.acme.com/', lineno=495, col_offset=29), BinOp(Str('spam="bar"; expires=%s', lineno=495, col_offset=53), Mod(), Name('future', Load(), lineno=496, col_offset=26), lineno=495, col_offset=53)], [], None, None, lineno=495, col_offset=8), lineno=495, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=497, col_offset=8), 'assertEqual', Load(), lineno=497, col_offset=8), [Call(Name('len', Load(), lineno=497, col_offset=25), [Name('c', Load(), lineno=497, col_offset=29)], [], None, None, lineno=497, col_offset=25), Num(1, lineno=497, col_offset=33)], [], None, None, lineno=497, col_offset=8), lineno=497, col_offset=8), Assign([Name('now', Store(), lineno=498, col_offset=8)], Call(Name('time2netscape', Load(), lineno=498, col_offset=14), [BinOp(Call(Attribute(Name('time', Load(), lineno=498, col_offset=28), 'time', Load(), lineno=498, col_offset=28), [], [], None, None, lineno=498, col_offset=28), Sub(), Num(1, lineno=498, col_offset=40), lineno=498, col_offset=28)], [], None, None, lineno=498, col_offset=14), lineno=498, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=500, col_offset=8), [Name('c', Load(), lineno=500, col_offset=26), Str('http://www.acme.com/', lineno=500, col_offset=29), BinOp(Str('foo="eggs"; expires=%s', lineno=500, col_offset=53), Mod(), Name('now', Load(), lineno=501, col_offset=26), lineno=500, col_offset=53)], [], None, None, lineno=500, col_offset=8), lineno=500, col_offset=8), Assign([Name('h', Store(), lineno=502, col_offset=8)], Call(Name('interact_netscape', Load(), lineno=502, col_offset=12), [Name('c', Load(), lineno=502, col_offset=30), Str('http://www.acme.com/', lineno=502, col_offset=33)], [], None, None, lineno=502, col_offset=12), lineno=502, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=503, col_offset=8), 'assertEqual', Load(), lineno=503, col_offset=8), [Call(Name('len', Load(), lineno=503, col_offset=25), [Name('c', Load(), lineno=503, col_offset=29)], [], None, None, lineno=503, col_offset=25), Num(1, lineno=503, col_offset=33)], [], None, None, lineno=503, col_offset=8), lineno=503, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=504, col_offset=8), 'assertTrue', Load(), lineno=504, col_offset=8), [BoolOp(And(), [Compare(Str('spam="bar"', lineno=504, col_offset=24), [In()], [Name('h', Load(), lineno=504, col_offset=40)], lineno=504, col_offset=24), Compare(Str('foo', lineno=504, col_offset=46), [NotIn()], [Name('h', Load(), lineno=504, col_offset=59)], lineno=504, col_offset=46)], lineno=504, col_offset=24)], [], None, None, lineno=504, col_offset=8), lineno=504, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=508, col_offset=8), [Name('c', Load(), lineno=508, col_offset=26), Str('http://www.acme.com/', lineno=508, col_offset=29), BinOp(Str('eggs="bar"; expires=%s', lineno=508, col_offset=53), Mod(), Name('future', Load(), lineno=509, col_offset=26), lineno=508, col_offset=53)], [], None, None, lineno=508, col_offset=8), lineno=508, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=510, col_offset=8), [Name('c', Load(), lineno=510, col_offset=26), Str('http://www.acme.com/', lineno=510, col_offset=29), BinOp(Str('bar="bar"; expires=%s', lineno=510, col_offset=53), Mod(), Name('future', Load(), lineno=511, col_offset=26), lineno=510, col_offset=53)], [], None, None, lineno=510, col_offset=8), lineno=510, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=512, col_offset=8), 'assertEqual', Load(), lineno=512, col_offset=8), [Call(Name('len', Load(), lineno=512, col_offset=25), [Name('c', Load(), lineno=512, col_offset=29)], [], None, None, lineno=512, col_offset=25), Num(3, lineno=512, col_offset=33)], [], None, None, lineno=512, col_offset=8), lineno=512, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=513, col_offset=8), [Name('c', Load(), lineno=513, col_offset=26), Str('http://www.acme.com/', lineno=513, col_offset=29), BinOp(Str('eggs="bar"; expires=%s; max-age=0', lineno=513, col_offset=53), Mod(), Name('future', Load(), lineno=514, col_offset=52), lineno=513, col_offset=53)], [], None, None, lineno=513, col_offset=8), lineno=513, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=515, col_offset=8), [Name('c', Load(), lineno=515, col_offset=26), Str('http://www.acme.com/', lineno=515, col_offset=29), BinOp(Str('bar="bar"; max-age=0; expires=%s', lineno=515, col_offset=53), Mod(), Name('future', Load(), lineno=516, col_offset=52), lineno=515, col_offset=53)], [], None, None, lineno=515, col_offset=8), lineno=515, col_offset=8), Assign([Name('h', Store(), lineno=517, col_offset=8)], Call(Name('interact_netscape', Load(), lineno=517, col_offset=12), [Name('c', Load(), lineno=517, col_offset=30), Str('http://www.acme.com/', lineno=517, col_offset=33)], [], None, None, lineno=517, col_offset=12), lineno=517, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=518, col_offset=8), 'assertEqual', Load(), lineno=518, col_offset=8), [Call(Name('len', Load(), lineno=518, col_offset=25), [Name('c', Load(), lineno=518, col_offset=29)], [], None, None, lineno=518, col_offset=25), Num(1, lineno=518, col_offset=33)], [], None, None, lineno=518, col_offset=8), lineno=518, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=521, col_offset=8), [Name('c', Load(), lineno=521, col_offset=26), Str('http://www.rhubarb.net/', lineno=521, col_offset=29), Str('whum="fizz"', lineno=521, col_offset=56)], [], None, None, lineno=521, col_offset=8), lineno=521, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=522, col_offset=8), 'assertEqual', Load(), lineno=522, col_offset=8), [Call(Name('len', Load(), lineno=522, col_offset=25), [Name('c', Load(), lineno=522, col_offset=29)], [], None, None, lineno=522, col_offset=25), Num(2, lineno=522, col_offset=33)], [], None, None, lineno=522, col_offset=8), lineno=522, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=523, col_offset=8), 'clear_session_cookies', Load(), lineno=523, col_offset=8), [], [], None, None, lineno=523, col_offset=8), lineno=523, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=524, col_offset=8), 'assertEqual', Load(), lineno=524, col_offset=8), [Call(Name('len', Load(), lineno=524, col_offset=25), [Name('c', Load(), lineno=524, col_offset=29)], [], None, None, lineno=524, col_offset=25), Num(1, lineno=524, col_offset=33)], [], None, None, lineno=524, col_offset=8), lineno=524, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=525, col_offset=8), 'assertIn', Load(), lineno=525, col_offset=8), [Str('spam="bar"', lineno=525, col_offset=22), Name('h', Load(), lineno=525, col_offset=36)], [], None, None, lineno=525, col_offset=8), lineno=525, col_offset=8)], [], lineno=489, col_offset=4), FunctionDef('test_default_path', arguments([Name('self', Param(), lineno=529, col_offset=26)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=530, col_offset=8), Assign([Name('pol', Store(), lineno=533, col_offset=8)], Call(Name('DefaultCookiePolicy', Load(), lineno=533, col_offset=14), [], [keyword('rfc2965', Name('True', Load(), lineno=533, col_offset=42))], None, None, lineno=533, col_offset=14), lineno=533, col_offset=8), Assign([Name('c', Store(), lineno=535, col_offset=8)], Call(Name('CookieJar', Load(), lineno=535, col_offset=12), [Name('pol', Load(), lineno=535, col_offset=22)], [], None, None, lineno=535, col_offset=12), lineno=535, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=536, col_offset=8), [Name('c', Load(), lineno=536, col_offset=22), Str('http://www.acme.com/', lineno=536, col_offset=25), Str('spam="bar"; Version="1"', lineno=536, col_offset=49)], [], None, None, lineno=536, col_offset=8), lineno=536, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=537, col_offset=8), 'assertIn', Load(), lineno=537, col_offset=8), [Str('/', lineno=537, col_offset=22), Subscript(Attribute(Name('c', Load(), lineno=537, col_offset=27), '_cookies', Load(), lineno=537, col_offset=27), Index(Str('www.acme.com', lineno=537, col_offset=38)), Load(), lineno=537, col_offset=27)], [], None, None, lineno=537, col_offset=8), lineno=537, col_offset=8), Assign([Name('c', Store(), lineno=539, col_offset=8)], Call(Name('CookieJar', Load(), lineno=539, col_offset=12), [Name('pol', Load(), lineno=539, col_offset=22)], [], None, None, lineno=539, col_offset=12), lineno=539, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=540, col_offset=8), [Name('c', Load(), lineno=540, col_offset=22), Str('http://www.acme.com/blah', lineno=540, col_offset=25), Str('eggs="bar"; Version="1"', lineno=540, col_offset=53)], [], None, None, lineno=540, col_offset=8), lineno=540, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=541, col_offset=8), 'assertIn', Load(), lineno=541, col_offset=8), [Str('/', lineno=541, col_offset=22), Subscript(Attribute(Name('c', Load(), lineno=541, col_offset=27), '_cookies', Load(), lineno=541, col_offset=27), Index(Str('www.acme.com', lineno=541, col_offset=38)), Load(), lineno=541, col_offset=27)], [], None, None, lineno=541, col_offset=8), lineno=541, col_offset=8), Assign([Name('c', Store(), lineno=543, col_offset=8)], Call(Name('CookieJar', Load(), lineno=543, col_offset=12), [Name('pol', Load(), lineno=543, col_offset=22)], [], None, None, lineno=543, col_offset=12), lineno=543, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=544, col_offset=8), [Name('c', Load(), lineno=544, col_offset=22), Str('http://www.acme.com/blah/rhubarb', lineno=544, col_offset=25), Str('eggs="bar"; Version="1"', lineno=545, col_offset=22)], [], None, None, lineno=544, col_offset=8), lineno=544, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=546, col_offset=8), 'assertIn', Load(), lineno=546, col_offset=8), [Str('/blah/', lineno=546, col_offset=22), Subscript(Attribute(Name('c', Load(), lineno=546, col_offset=32), '_cookies', Load(), lineno=546, col_offset=32), Index(Str('www.acme.com', lineno=546, col_offset=43)), Load(), lineno=546, col_offset=32)], [], None, None, lineno=546, col_offset=8), lineno=546, col_offset=8), Assign([Name('c', Store(), lineno=548, col_offset=8)], Call(Name('CookieJar', Load(), lineno=548, col_offset=12), [Name('pol', Load(), lineno=548, col_offset=22)], [], None, None, lineno=548, col_offset=12), lineno=548, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=549, col_offset=8), [Name('c', Load(), lineno=549, col_offset=22), Str('http://www.acme.com/blah/rhubarb/', lineno=549, col_offset=25), Str('eggs="bar"; Version="1"', lineno=550, col_offset=22)], [], None, None, lineno=549, col_offset=8), lineno=549, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=551, col_offset=8), 'assertIn', Load(), lineno=551, col_offset=8), [Str('/blah/rhubarb/', lineno=551, col_offset=22), Subscript(Attribute(Name('c', Load(), lineno=551, col_offset=40), '_cookies', Load(), lineno=551, col_offset=40), Index(Str('www.acme.com', lineno=551, col_offset=51)), Load(), lineno=551, col_offset=40)], [], None, None, lineno=551, col_offset=8), lineno=551, col_offset=8), Assign([Name('c', Store(), lineno=555, col_offset=8)], Call(Name('CookieJar', Load(), lineno=555, col_offset=12), [], [], None, None, lineno=555, col_offset=12), lineno=555, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=556, col_offset=8), [Name('c', Load(), lineno=556, col_offset=26), Str('http://www.acme.com/', lineno=556, col_offset=29), Str('spam="bar"', lineno=556, col_offset=53)], [], None, None, lineno=556, col_offset=8), lineno=556, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=557, col_offset=8), 'assertIn', Load(), lineno=557, col_offset=8), [Str('/', lineno=557, col_offset=22), Subscript(Attribute(Name('c', Load(), lineno=557, col_offset=27), '_cookies', Load(), lineno=557, col_offset=27), Index(Str('www.acme.com', lineno=557, col_offset=38)), Load(), lineno=557, col_offset=27)], [], None, None, lineno=557, col_offset=8), lineno=557, col_offset=8), Assign([Name('c', Store(), lineno=559, col_offset=8)], Call(Name('CookieJar', Load(), lineno=559, col_offset=12), [], [], None, None, lineno=559, col_offset=12), lineno=559, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=560, col_offset=8), [Name('c', Load(), lineno=560, col_offset=26), Str('http://www.acme.com/blah', lineno=560, col_offset=29), Str('eggs="bar"', lineno=560, col_offset=57)], [], None, None, lineno=560, col_offset=8), lineno=560, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=561, col_offset=8), 'assertIn', Load(), lineno=561, col_offset=8), [Str('/', lineno=561, col_offset=22), Subscript(Attribute(Name('c', Load(), lineno=561, col_offset=27), '_cookies', Load(), lineno=561, col_offset=27), Index(Str('www.acme.com', lineno=561, col_offset=38)), Load(), lineno=561, col_offset=27)], [], None, None, lineno=561, col_offset=8), lineno=561, col_offset=8), Assign([Name('c', Store(), lineno=563, col_offset=8)], Call(Name('CookieJar', Load(), lineno=563, col_offset=12), [], [], None, None, lineno=563, col_offset=12), lineno=563, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=564, col_offset=8), [Name('c', Load(), lineno=564, col_offset=26), Str('http://www.acme.com/blah/rhubarb', lineno=564, col_offset=29), Str('eggs="bar"', lineno=564, col_offset=65)], [], None, None, lineno=564, col_offset=8), lineno=564, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=565, col_offset=8), 'assertIn', Load(), lineno=565, col_offset=8), [Str('/blah', lineno=565, col_offset=22), Subscript(Attribute(Name('c', Load(), lineno=565, col_offset=31), '_cookies', Load(), lineno=565, col_offset=31), Index(Str('www.acme.com', lineno=565, col_offset=42)), Load(), lineno=565, col_offset=31)], [], None, None, lineno=565, col_offset=8), lineno=565, col_offset=8), Assign([Name('c', Store(), lineno=567, col_offset=8)], Call(Name('CookieJar', Load(), lineno=567, col_offset=12), [], [], None, None, lineno=567, col_offset=12), lineno=567, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=568, col_offset=8), [Name('c', Load(), lineno=568, col_offset=26), Str('http://www.acme.com/blah/rhubarb/', lineno=568, col_offset=29), Str('eggs="bar"', lineno=568, col_offset=66)], [], None, None, lineno=568, col_offset=8), lineno=568, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=569, col_offset=8), 'assertIn', Load(), lineno=569, col_offset=8), [Str('/blah/rhubarb', lineno=569, col_offset=22), Subscript(Attribute(Name('c', Load(), lineno=569, col_offset=39), '_cookies', Load(), lineno=569, col_offset=39), Index(Str('www.acme.com', lineno=569, col_offset=50)), Load(), lineno=569, col_offset=39)], [], None, None, lineno=569, col_offset=8), lineno=569, col_offset=8)], [], lineno=529, col_offset=4), FunctionDef('test_default_path_with_query', arguments([Name('self', Param(), lineno=571, col_offset=37)], None, None, []), [Assign([Name('cj', Store(), lineno=572, col_offset=8)], Call(Attribute(Name('cookielib', Load(), lineno=572, col_offset=13), 'CookieJar', Load(), lineno=572, col_offset=13), [], [], None, None, lineno=572, col_offset=13), lineno=572, col_offset=8), Assign([Name('uri', Store(), lineno=573, col_offset=8)], Str('http://example.com/?spam/eggs', lineno=573, col_offset=14), lineno=573, col_offset=8), Assign([Name('value', Store(), lineno=574, col_offset=8)], Str('eggs="bar"', lineno=574, col_offset=16), lineno=574, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=575, col_offset=8), [Name('cj', Load(), lineno=575, col_offset=26), Name('uri', Load(), lineno=575, col_offset=30), Name('value', Load(), lineno=575, col_offset=35)], [], None, None, lineno=575, col_offset=8), lineno=575, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=577, col_offset=8), 'assertIn', Load(), lineno=577, col_offset=8), [Str('/', lineno=577, col_offset=22), Subscript(Attribute(Name('cj', Load(), lineno=577, col_offset=27), '_cookies', Load(), lineno=577, col_offset=27), Index(Str('example.com', lineno=577, col_offset=39)), Load(), lineno=577, col_offset=27)], [], None, None, lineno=577, col_offset=8), lineno=577, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=579, col_offset=8), 'assertEqual', Load(), lineno=579, col_offset=8), [Call(Name('interact_netscape', Load(), lineno=579, col_offset=25), [Name('cj', Load(), lineno=579, col_offset=43), Name('uri', Load(), lineno=579, col_offset=47)], [], None, None, lineno=579, col_offset=25), Name('value', Load(), lineno=579, col_offset=53)], [], None, None, lineno=579, col_offset=8), lineno=579, col_offset=8)], [], lineno=571, col_offset=4), FunctionDef('test_escape_path', arguments([Name('self', Param(), lineno=581, col_offset=25)], None, None, []), [ImportFrom('cookielib', [alias('escape_path', None)], 0, lineno=582, col_offset=8), Assign([Name('cases', Store(), lineno=583, col_offset=8)], List([Tuple([Str('/foo%2f/bar', lineno=585, col_offset=13), Str('/foo%2F/bar', lineno=585, col_offset=28)], Load(), lineno=585, col_offset=13), Tuple([Str('/foo%2F/bar', lineno=586, col_offset=13), Str('/foo%2F/bar', lineno=586, col_offset=28)], Load(), lineno=586, col_offset=13), Tuple([Str('/foo%%/bar', lineno=588, col_offset=13), Str('/foo%%/bar', lineno=588, col_offset=27)], Load(), lineno=588, col_offset=13), Tuple([Str('/fo%19o/bar', lineno=590, col_offset=13), Str('/fo%19o/bar', lineno=590, col_offset=28)], Load(), lineno=590, col_offset=13), Tuple([Str('/fo%7do/bar', lineno=591, col_offset=13), Str('/fo%7Do/bar', lineno=591, col_offset=28)], Load(), lineno=591, col_offset=13), Tuple([Str('/foo/bar&', lineno=593, col_offset=13), Str('/foo/bar&', lineno=593, col_offset=26)], Load(), lineno=593, col_offset=13), Tuple([Str('/foo//bar', lineno=594, col_offset=13), Str('/foo//bar', lineno=594, col_offset=26)], Load(), lineno=594, col_offset=13), Tuple([Str('~/foo/bar', lineno=595, col_offset=13), Str('~/foo/bar', lineno=595, col_offset=29)], Load(), lineno=595, col_offset=13), Tuple([Str('/foo\x19/bar', lineno=597, col_offset=13), Str('/foo%19/bar', lineno=597, col_offset=29)], Load(), lineno=597, col_offset=13), Tuple([Str('/}foo/bar', lineno=598, col_offset=13), Str('/%7Dfoo/bar', lineno=598, col_offset=29)], Load(), lineno=598, col_offset=13), Tuple([Str(u'/foo/bar\uabcd', lineno=600, col_offset=13), Str('/foo/bar%EA%AF%8D', lineno=600, col_offset=32)], Load(), lineno=600, col_offset=13)], Load(), lineno=583, col_offset=16), lineno=583, col_offset=8), For(Tuple([Name('arg', Store(), lineno=602, col_offset=12), Name('result', Store(), lineno=602, col_offset=17)], Store(), lineno=602, col_offset=12), Name('cases', Load(), lineno=602, col_offset=27), [Expr(Call(Attribute(Name('self', Load(), lineno=603, col_offset=12), 'assertEqual', Load(), lineno=603, col_offset=12), [Call(Name('escape_path', Load(), lineno=603, col_offset=29), [Name('arg', Load(), lineno=603, col_offset=41)], [], None, None, lineno=603, col_offset=29), Name('result', Load(), lineno=603, col_offset=47)], [], None, None, lineno=603, col_offset=12), lineno=603, col_offset=12)], [], lineno=602, col_offset=8)], [], lineno=581, col_offset=4), FunctionDef('test_request_path', arguments([Name('self', Param(), lineno=605, col_offset=26)], None, None, []), [ImportFrom('urllib2', [alias('Request', None)], 0, lineno=606, col_offset=8), ImportFrom('cookielib', [alias('request_path', None)], 0, lineno=607, col_offset=8), Assign([Name('req', Store(), lineno=609, col_offset=8)], Call(Name('Request', Load(), lineno=609, col_offset=14), [Str('http://www.example.com/rheum/rhaponticum;foo=bar;sing=song?apples=pears&spam=eggs#ni', lineno=609, col_offset=22)], [], None, None, lineno=609, col_offset=14), lineno=609, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=611, col_offset=8), 'assertEqual', Load(), lineno=611, col_offset=8), [Call(Name('request_path', Load(), lineno=611, col_offset=25), [Name('req', Load(), lineno=611, col_offset=38)], [], None, None, lineno=611, col_offset=25), Str('/rheum/rhaponticum;foo=bar;sing=song', lineno=612, col_offset=25)], [], None, None, lineno=611, col_offset=8), lineno=611, col_offset=8), Assign([Name('req', Store(), lineno=614, col_offset=8)], Call(Name('Request', Load(), lineno=614, col_offset=14), [Str('http://www.example.com/rheum/rhaponticum?apples=pears&spam=eggs#ni', lineno=614, col_offset=22)], [], None, None, lineno=614, col_offset=14), lineno=614, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=616, col_offset=8), 'assertEqual', Load(), lineno=616, col_offset=8), [Call(Name('request_path', Load(), lineno=616, col_offset=25), [Name('req', Load(), lineno=616, col_offset=38)], [], None, None, lineno=616, col_offset=25), Str('/rheum/rhaponticum', lineno=616, col_offset=44)], [], None, None, lineno=616, col_offset=8), lineno=616, col_offset=8), Assign([Name('req', Store(), lineno=618, col_offset=8)], Call(Name('Request', Load(), lineno=618, col_offset=14), [Str('http://www.example.com', lineno=618, col_offset=22)], [], None, None, lineno=618, col_offset=14), lineno=618, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=619, col_offset=8), 'assertEqual', Load(), lineno=619, col_offset=8), [Call(Name('request_path', Load(), lineno=619, col_offset=25), [Name('req', Load(), lineno=619, col_offset=38)], [], None, None, lineno=619, col_offset=25), Str('/', lineno=619, col_offset=44)], [], None, None, lineno=619, col_offset=8), lineno=619, col_offset=8)], [], lineno=605, col_offset=4), FunctionDef('test_request_port', arguments([Name('self', Param(), lineno=621, col_offset=26)], None, None, []), [ImportFrom('urllib2', [alias('Request', None)], 0, lineno=622, col_offset=8), ImportFrom('cookielib', [alias('request_port', None), alias('DEFAULT_HTTP_PORT', None)], 0, lineno=623, col_offset=8), Assign([Name('req', Store(), lineno=624, col_offset=8)], Call(Name('Request', Load(), lineno=624, col_offset=14), [Str('http://www.acme.com:1234/', lineno=624, col_offset=22)], [keyword('headers', Dict([Str('Host', lineno=625, col_offset=31)], [Str('www.acme.com:4321', lineno=625, col_offset=39)], lineno=625, col_offset=30))], None, None, lineno=624, col_offset=14), lineno=624, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=626, col_offset=8), 'assertEqual', Load(), lineno=626, col_offset=8), [Call(Name('request_port', Load(), lineno=626, col_offset=25), [Name('req', Load(), lineno=626, col_offset=38)], [], None, None, lineno=626, col_offset=25), Str('1234', lineno=626, col_offset=44)], [], None, None, lineno=626, col_offset=8), lineno=626, col_offset=8), Assign([Name('req', Store(), lineno=627, col_offset=8)], Call(Name('Request', Load(), lineno=627, col_offset=14), [Str('http://www.acme.com/', lineno=627, col_offset=22)], [keyword('headers', Dict([Str('Host', lineno=628, col_offset=31)], [Str('www.acme.com:4321', lineno=628, col_offset=39)], lineno=628, col_offset=30))], None, None, lineno=627, col_offset=14), lineno=627, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=629, col_offset=8), 'assertEqual', Load(), lineno=629, col_offset=8), [Call(Name('request_port', Load(), lineno=629, col_offset=25), [Name('req', Load(), lineno=629, col_offset=38)], [], None, None, lineno=629, col_offset=25), Name('DEFAULT_HTTP_PORT', Load(), lineno=629, col_offset=44)], [], None, None, lineno=629, col_offset=8), lineno=629, col_offset=8)], [], lineno=621, col_offset=4), FunctionDef('test_request_host', arguments([Name('self', Param(), lineno=631, col_offset=26)], None, None, []), [ImportFrom('urllib2', [alias('Request', None)], 0, lineno=632, col_offset=8), ImportFrom('cookielib', [alias('request_host', None)], 0, lineno=633, col_offset=8), Assign([Name('req', Store(), lineno=635, col_offset=8)], Call(Name('Request', Load(), lineno=635, col_offset=14), [Str('http://1.1.1.1/', lineno=635, col_offset=22)], [keyword('headers', Dict([Str('Host', lineno=636, col_offset=31)], [Str('www.acme.com:80', lineno=636, col_offset=39)], lineno=636, col_offset=30))], None, None, lineno=635, col_offset=14), lineno=635, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=640, col_offset=8), 'assertEqual', Load(), lineno=640, col_offset=8), [Call(Name('request_host', Load(), lineno=640, col_offset=25), [Name('req', Load(), lineno=640, col_offset=38)], [], None, None, lineno=640, col_offset=25), Str('1.1.1.1', lineno=640, col_offset=44)], [], None, None, lineno=640, col_offset=8), lineno=640, col_offset=8), Assign([Name('req', Store(), lineno=641, col_offset=8)], Call(Name('Request', Load(), lineno=641, col_offset=14), [Str('http://www.acme.com/', lineno=641, col_offset=22)], [keyword('headers', Dict([Str('Host', lineno=642, col_offset=31)], [Str('irrelevant.com', lineno=642, col_offset=39)], lineno=642, col_offset=30))], None, None, lineno=641, col_offset=14), lineno=641, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=643, col_offset=8), 'assertEqual', Load(), lineno=643, col_offset=8), [Call(Name('request_host', Load(), lineno=643, col_offset=25), [Name('req', Load(), lineno=643, col_offset=38)], [], None, None, lineno=643, col_offset=25), Str('www.acme.com', lineno=643, col_offset=44)], [], None, None, lineno=643, col_offset=8), lineno=643, col_offset=8), Assign([Name('req', Store(), lineno=646, col_offset=8)], Call(Name('Request', Load(), lineno=646, col_offset=14), [Str('/resource.html', lineno=646, col_offset=22)], [keyword('headers', Dict([Str('Host', lineno=647, col_offset=31)], [Str('www.acme.com', lineno=647, col_offset=39)], lineno=647, col_offset=30))], None, None, lineno=646, col_offset=14), lineno=646, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=648, col_offset=8), 'assertEqual', Load(), lineno=648, col_offset=8), [Call(Name('request_host', Load(), lineno=648, col_offset=25), [Name('req', Load(), lineno=648, col_offset=38)], [], None, None, lineno=648, col_offset=25), Str('www.acme.com', lineno=648, col_offset=44)], [], None, None, lineno=648, col_offset=8), lineno=648, col_offset=8), Assign([Name('req', Store(), lineno=650, col_offset=8)], Call(Name('Request', Load(), lineno=650, col_offset=14), [Str('http://www.acme.com:2345/resource.html', lineno=650, col_offset=22)], [keyword('headers', Dict([Str('Host', lineno=651, col_offset=31)], [Str('www.acme.com:5432', lineno=651, col_offset=39)], lineno=651, col_offset=30))], None, None, lineno=650, col_offset=14), lineno=650, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=652, col_offset=8), 'assertEqual', Load(), lineno=652, col_offset=8), [Call(Name('request_host', Load(), lineno=652, col_offset=25), [Name('req', Load(), lineno=652, col_offset=38)], [], None, None, lineno=652, col_offset=25), Str('www.acme.com', lineno=652, col_offset=44)], [], None, None, lineno=652, col_offset=8), lineno=652, col_offset=8)], [], lineno=631, col_offset=4), FunctionDef('test_is_HDN', arguments([Name('self', Param(), lineno=654, col_offset=20)], None, None, []), [ImportFrom('cookielib', [alias('is_HDN', None)], 0, lineno=655, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=656, col_offset=8), 'assertTrue', Load(), lineno=656, col_offset=8), [Call(Name('is_HDN', Load(), lineno=656, col_offset=24), [Str('foo.bar.com', lineno=656, col_offset=31)], [], None, None, lineno=656, col_offset=24)], [], None, None, lineno=656, col_offset=8), lineno=656, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=657, col_offset=8), 'assertTrue', Load(), lineno=657, col_offset=8), [Call(Name('is_HDN', Load(), lineno=657, col_offset=24), [Str('1foo2.3bar4.5com', lineno=657, col_offset=31)], [], None, None, lineno=657, col_offset=24)], [], None, None, lineno=657, col_offset=8), lineno=657, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=658, col_offset=8), 'assertTrue', Load(), lineno=658, col_offset=8), [UnaryOp(Not(), Call(Name('is_HDN', Load(), lineno=658, col_offset=28), [Str('192.168.1.1', lineno=658, col_offset=35)], [], None, None, lineno=658, col_offset=28), lineno=658, col_offset=24)], [], None, None, lineno=658, col_offset=8), lineno=658, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=659, col_offset=8), 'assertTrue', Load(), lineno=659, col_offset=8), [UnaryOp(Not(), Call(Name('is_HDN', Load(), lineno=659, col_offset=28), [Str('', lineno=659, col_offset=35)], [], None, None, lineno=659, col_offset=28), lineno=659, col_offset=24)], [], None, None, lineno=659, col_offset=8), lineno=659, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=660, col_offset=8), 'assertTrue', Load(), lineno=660, col_offset=8), [UnaryOp(Not(), Call(Name('is_HDN', Load(), lineno=660, col_offset=28), [Str('.', lineno=660, col_offset=35)], [], None, None, lineno=660, col_offset=28), lineno=660, col_offset=24)], [], None, None, lineno=660, col_offset=8), lineno=660, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=661, col_offset=8), 'assertTrue', Load(), lineno=661, col_offset=8), [UnaryOp(Not(), Call(Name('is_HDN', Load(), lineno=661, col_offset=28), [Str('.foo.bar.com', lineno=661, col_offset=35)], [], None, None, lineno=661, col_offset=28), lineno=661, col_offset=24)], [], None, None, lineno=661, col_offset=8), lineno=661, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=662, col_offset=8), 'assertTrue', Load(), lineno=662, col_offset=8), [UnaryOp(Not(), Call(Name('is_HDN', Load(), lineno=662, col_offset=28), [Str('..foo', lineno=662, col_offset=35)], [], None, None, lineno=662, col_offset=28), lineno=662, col_offset=24)], [], None, None, lineno=662, col_offset=8), lineno=662, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=663, col_offset=8), 'assertTrue', Load(), lineno=663, col_offset=8), [UnaryOp(Not(), Call(Name('is_HDN', Load(), lineno=663, col_offset=28), [Str('foo.', lineno=663, col_offset=35)], [], None, None, lineno=663, col_offset=28), lineno=663, col_offset=24)], [], None, None, lineno=663, col_offset=8), lineno=663, col_offset=8)], [], lineno=654, col_offset=4), FunctionDef('test_reach', arguments([Name('self', Param(), lineno=665, col_offset=19)], None, None, []), [ImportFrom('cookielib', [alias('reach', None)], 0, lineno=666, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=667, col_offset=8), 'assertEqual', Load(), lineno=667, col_offset=8), [Call(Name('reach', Load(), lineno=667, col_offset=25), [Str('www.acme.com', lineno=667, col_offset=31)], [], None, None, lineno=667, col_offset=25), Str('.acme.com', lineno=667, col_offset=48)], [], None, None, lineno=667, col_offset=8), lineno=667, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=668, col_offset=8), 'assertEqual', Load(), lineno=668, col_offset=8), [Call(Name('reach', Load(), lineno=668, col_offset=25), [Str('acme.com', lineno=668, col_offset=31)], [], None, None, lineno=668, col_offset=25), Str('acme.com', lineno=668, col_offset=44)], [], None, None, lineno=668, col_offset=8), lineno=668, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=669, col_offset=8), 'assertEqual', Load(), lineno=669, col_offset=8), [Call(Name('reach', Load(), lineno=669, col_offset=25), [Str('acme.local', lineno=669, col_offset=31)], [], None, None, lineno=669, col_offset=25), Str('.local', lineno=669, col_offset=46)], [], None, None, lineno=669, col_offset=8), lineno=669, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=670, col_offset=8), 'assertEqual', Load(), lineno=670, col_offset=8), [Call(Name('reach', Load(), lineno=670, col_offset=25), [Str('.local', lineno=670, col_offset=31)], [], None, None, lineno=670, col_offset=25), Str('.local', lineno=670, col_offset=42)], [], None, None, lineno=670, col_offset=8), lineno=670, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=671, col_offset=8), 'assertEqual', Load(), lineno=671, col_offset=8), [Call(Name('reach', Load(), lineno=671, col_offset=25), [Str('.com', lineno=671, col_offset=31)], [], None, None, lineno=671, col_offset=25), Str('.com', lineno=671, col_offset=40)], [], None, None, lineno=671, col_offset=8), lineno=671, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=672, col_offset=8), 'assertEqual', Load(), lineno=672, col_offset=8), [Call(Name('reach', Load(), lineno=672, col_offset=25), [Str('.', lineno=672, col_offset=31)], [], None, None, lineno=672, col_offset=25), Str('.', lineno=672, col_offset=37)], [], None, None, lineno=672, col_offset=8), lineno=672, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=673, col_offset=8), 'assertEqual', Load(), lineno=673, col_offset=8), [Call(Name('reach', Load(), lineno=673, col_offset=25), [Str('', lineno=673, col_offset=31)], [], None, None, lineno=673, col_offset=25), Str('', lineno=673, col_offset=36)], [], None, None, lineno=673, col_offset=8), lineno=673, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=674, col_offset=8), 'assertEqual', Load(), lineno=674, col_offset=8), [Call(Name('reach', Load(), lineno=674, col_offset=25), [Str('192.168.0.1', lineno=674, col_offset=31)], [], None, None, lineno=674, col_offset=25), Str('192.168.0.1', lineno=674, col_offset=47)], [], None, None, lineno=674, col_offset=8), lineno=674, col_offset=8)], [], lineno=665, col_offset=4), FunctionDef('test_domain_match', arguments([Name('self', Param(), lineno=676, col_offset=26)], None, None, []), [ImportFrom('cookielib', [alias('domain_match', None), alias('user_domain_match', None)], 0, lineno=677, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=678, col_offset=8), 'assertTrue', Load(), lineno=678, col_offset=8), [Call(Name('domain_match', Load(), lineno=678, col_offset=24), [Str('192.168.1.1', lineno=678, col_offset=37), Str('192.168.1.1', lineno=678, col_offset=52)], [], None, None, lineno=678, col_offset=24)], [], None, None, lineno=678, col_offset=8), lineno=678, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=679, col_offset=8), 'assertTrue', Load(), lineno=679, col_offset=8), [UnaryOp(Not(), Call(Name('domain_match', Load(), lineno=679, col_offset=28), [Str('192.168.1.1', lineno=679, col_offset=41), Str('.168.1.1', lineno=679, col_offset=56)], [], None, None, lineno=679, col_offset=28), lineno=679, col_offset=24)], [], None, None, lineno=679, col_offset=8), lineno=679, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=680, col_offset=8), 'assertTrue', Load(), lineno=680, col_offset=8), [Call(Name('domain_match', Load(), lineno=680, col_offset=24), [Str('x.y.com', lineno=680, col_offset=37), Str('x.Y.com', lineno=680, col_offset=48)], [], None, None, lineno=680, col_offset=24)], [], None, None, lineno=680, col_offset=8), lineno=680, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=681, col_offset=8), 'assertTrue', Load(), lineno=681, col_offset=8), [Call(Name('domain_match', Load(), lineno=681, col_offset=24), [Str('x.y.com', lineno=681, col_offset=37), Str('.Y.com', lineno=681, col_offset=48)], [], None, None, lineno=681, col_offset=24)], [], None, None, lineno=681, col_offset=8), lineno=681, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=682, col_offset=8), 'assertTrue', Load(), lineno=682, col_offset=8), [UnaryOp(Not(), Call(Name('domain_match', Load(), lineno=682, col_offset=28), [Str('x.y.com', lineno=682, col_offset=41), Str('Y.com', lineno=682, col_offset=52)], [], None, None, lineno=682, col_offset=28), lineno=682, col_offset=24)], [], None, None, lineno=682, col_offset=8), lineno=682, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=683, col_offset=8), 'assertTrue', Load(), lineno=683, col_offset=8), [Call(Name('domain_match', Load(), lineno=683, col_offset=24), [Str('a.b.c.com', lineno=683, col_offset=37), Str('.c.com', lineno=683, col_offset=50)], [], None, None, lineno=683, col_offset=24)], [], None, None, lineno=683, col_offset=8), lineno=683, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=684, col_offset=8), 'assertTrue', Load(), lineno=684, col_offset=8), [UnaryOp(Not(), Call(Name('domain_match', Load(), lineno=684, col_offset=28), [Str('.c.com', lineno=684, col_offset=41), Str('a.b.c.com', lineno=684, col_offset=51)], [], None, None, lineno=684, col_offset=28), lineno=684, col_offset=24)], [], None, None, lineno=684, col_offset=8), lineno=684, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=685, col_offset=8), 'assertTrue', Load(), lineno=685, col_offset=8), [Call(Name('domain_match', Load(), lineno=685, col_offset=24), [Str('example.local', lineno=685, col_offset=37), Str('.local', lineno=685, col_offset=54)], [], None, None, lineno=685, col_offset=24)], [], None, None, lineno=685, col_offset=8), lineno=685, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=686, col_offset=8), 'assertTrue', Load(), lineno=686, col_offset=8), [UnaryOp(Not(), Call(Name('domain_match', Load(), lineno=686, col_offset=28), [Str('blah.blah', lineno=686, col_offset=41), Str('', lineno=686, col_offset=54)], [], None, None, lineno=686, col_offset=28), lineno=686, col_offset=24)], [], None, None, lineno=686, col_offset=8), lineno=686, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=687, col_offset=8), 'assertTrue', Load(), lineno=687, col_offset=8), [UnaryOp(Not(), Call(Name('domain_match', Load(), lineno=687, col_offset=28), [Str('', lineno=687, col_offset=41), Str('.rhubarb.rhubarb', lineno=687, col_offset=45)], [], None, None, lineno=687, col_offset=28), lineno=687, col_offset=24)], [], None, None, lineno=687, col_offset=8), lineno=687, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=688, col_offset=8), 'assertTrue', Load(), lineno=688, col_offset=8), [Call(Name('domain_match', Load(), lineno=688, col_offset=24), [Str('', lineno=688, col_offset=37), Str('', lineno=688, col_offset=41)], [], None, None, lineno=688, col_offset=24)], [], None, None, lineno=688, col_offset=8), lineno=688, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=690, col_offset=8), 'assertTrue', Load(), lineno=690, col_offset=8), [Call(Name('user_domain_match', Load(), lineno=690, col_offset=24), [Str('acme.com', lineno=690, col_offset=42), Str('acme.com', lineno=690, col_offset=54)], [], None, None, lineno=690, col_offset=24)], [], None, None, lineno=690, col_offset=8), lineno=690, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=691, col_offset=8), 'assertTrue', Load(), lineno=691, col_offset=8), [UnaryOp(Not(), Call(Name('user_domain_match', Load(), lineno=691, col_offset=28), [Str('acme.com', lineno=691, col_offset=46), Str('.acme.com', lineno=691, col_offset=58)], [], None, None, lineno=691, col_offset=28), lineno=691, col_offset=24)], [], None, None, lineno=691, col_offset=8), lineno=691, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=692, col_offset=8), 'assertTrue', Load(), lineno=692, col_offset=8), [Call(Name('user_domain_match', Load(), lineno=692, col_offset=24), [Str('rhubarb.acme.com', lineno=692, col_offset=42), Str('.acme.com', lineno=692, col_offset=62)], [], None, None, lineno=692, col_offset=24)], [], None, None, lineno=692, col_offset=8), lineno=692, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=693, col_offset=8), 'assertTrue', Load(), lineno=693, col_offset=8), [Call(Name('user_domain_match', Load(), lineno=693, col_offset=24), [Str('www.rhubarb.acme.com', lineno=693, col_offset=42), Str('.acme.com', lineno=693, col_offset=66)], [], None, None, lineno=693, col_offset=24)], [], None, None, lineno=693, col_offset=8), lineno=693, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=694, col_offset=8), 'assertTrue', Load(), lineno=694, col_offset=8), [Call(Name('user_domain_match', Load(), lineno=694, col_offset=24), [Str('x.y.com', lineno=694, col_offset=42), Str('x.Y.com', lineno=694, col_offset=53)], [], None, None, lineno=694, col_offset=24)], [], None, None, lineno=694, col_offset=8), lineno=694, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=695, col_offset=8), 'assertTrue', Load(), lineno=695, col_offset=8), [Call(Name('user_domain_match', Load(), lineno=695, col_offset=24), [Str('x.y.com', lineno=695, col_offset=42), Str('.Y.com', lineno=695, col_offset=53)], [], None, None, lineno=695, col_offset=24)], [], None, None, lineno=695, col_offset=8), lineno=695, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=696, col_offset=8), 'assertTrue', Load(), lineno=696, col_offset=8), [UnaryOp(Not(), Call(Name('user_domain_match', Load(), lineno=696, col_offset=28), [Str('x.y.com', lineno=696, col_offset=46), Str('Y.com', lineno=696, col_offset=57)], [], None, None, lineno=696, col_offset=28), lineno=696, col_offset=24)], [], None, None, lineno=696, col_offset=8), lineno=696, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=697, col_offset=8), 'assertTrue', Load(), lineno=697, col_offset=8), [Call(Name('user_domain_match', Load(), lineno=697, col_offset=24), [Str('y.com', lineno=697, col_offset=42), Str('Y.com', lineno=697, col_offset=51)], [], None, None, lineno=697, col_offset=24)], [], None, None, lineno=697, col_offset=8), lineno=697, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=698, col_offset=8), 'assertTrue', Load(), lineno=698, col_offset=8), [UnaryOp(Not(), Call(Name('user_domain_match', Load(), lineno=698, col_offset=28), [Str('.y.com', lineno=698, col_offset=46), Str('Y.com', lineno=698, col_offset=56)], [], None, None, lineno=698, col_offset=28), lineno=698, col_offset=24)], [], None, None, lineno=698, col_offset=8), lineno=698, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=699, col_offset=8), 'assertTrue', Load(), lineno=699, col_offset=8), [Call(Name('user_domain_match', Load(), lineno=699, col_offset=24), [Str('.y.com', lineno=699, col_offset=42), Str('.Y.com', lineno=699, col_offset=52)], [], None, None, lineno=699, col_offset=24)], [], None, None, lineno=699, col_offset=8), lineno=699, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=700, col_offset=8), 'assertTrue', Load(), lineno=700, col_offset=8), [Call(Name('user_domain_match', Load(), lineno=700, col_offset=24), [Str('x.y.com', lineno=700, col_offset=42), Str('.com', lineno=700, col_offset=53)], [], None, None, lineno=700, col_offset=24)], [], None, None, lineno=700, col_offset=8), lineno=700, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=701, col_offset=8), 'assertTrue', Load(), lineno=701, col_offset=8), [UnaryOp(Not(), Call(Name('user_domain_match', Load(), lineno=701, col_offset=28), [Str('x.y.com', lineno=701, col_offset=46), Str('com', lineno=701, col_offset=57)], [], None, None, lineno=701, col_offset=28), lineno=701, col_offset=24)], [], None, None, lineno=701, col_offset=8), lineno=701, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=702, col_offset=8), 'assertTrue', Load(), lineno=702, col_offset=8), [UnaryOp(Not(), Call(Name('user_domain_match', Load(), lineno=702, col_offset=28), [Str('x.y.com', lineno=702, col_offset=46), Str('m', lineno=702, col_offset=57)], [], None, None, lineno=702, col_offset=28), lineno=702, col_offset=24)], [], None, None, lineno=702, col_offset=8), lineno=702, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=703, col_offset=8), 'assertTrue', Load(), lineno=703, col_offset=8), [UnaryOp(Not(), Call(Name('user_domain_match', Load(), lineno=703, col_offset=28), [Str('x.y.com', lineno=703, col_offset=46), Str('.m', lineno=703, col_offset=57)], [], None, None, lineno=703, col_offset=28), lineno=703, col_offset=24)], [], None, None, lineno=703, col_offset=8), lineno=703, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=704, col_offset=8), 'assertTrue', Load(), lineno=704, col_offset=8), [UnaryOp(Not(), Call(Name('user_domain_match', Load(), lineno=704, col_offset=28), [Str('x.y.com', lineno=704, col_offset=46), Str('', lineno=704, col_offset=57)], [], None, None, lineno=704, col_offset=28), lineno=704, col_offset=24)], [], None, None, lineno=704, col_offset=8), lineno=704, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=705, col_offset=8), 'assertTrue', Load(), lineno=705, col_offset=8), [UnaryOp(Not(), Call(Name('user_domain_match', Load(), lineno=705, col_offset=28), [Str('x.y.com', lineno=705, col_offset=46), Str('.', lineno=705, col_offset=57)], [], None, None, lineno=705, col_offset=28), lineno=705, col_offset=24)], [], None, None, lineno=705, col_offset=8), lineno=705, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=706, col_offset=8), 'assertTrue', Load(), lineno=706, col_offset=8), [Call(Name('user_domain_match', Load(), lineno=706, col_offset=24), [Str('192.168.1.1', lineno=706, col_offset=42), Str('192.168.1.1', lineno=706, col_offset=57)], [], None, None, lineno=706, col_offset=24)], [], None, None, lineno=706, col_offset=8), lineno=706, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=708, col_offset=8), 'assertTrue', Load(), lineno=708, col_offset=8), [UnaryOp(Not(), Call(Name('user_domain_match', Load(), lineno=708, col_offset=28), [Str('192.168.1.1', lineno=708, col_offset=46), Str('.168.1.1', lineno=708, col_offset=61)], [], None, None, lineno=708, col_offset=28), lineno=708, col_offset=24)], [], None, None, lineno=708, col_offset=8), lineno=708, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=709, col_offset=8), 'assertTrue', Load(), lineno=709, col_offset=8), [UnaryOp(Not(), Call(Name('user_domain_match', Load(), lineno=709, col_offset=28), [Str('192.168.1.1', lineno=709, col_offset=46), Str('.', lineno=709, col_offset=61)], [], None, None, lineno=709, col_offset=28), lineno=709, col_offset=24)], [], None, None, lineno=709, col_offset=8), lineno=709, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=711, col_offset=8), 'assertTrue', Load(), lineno=711, col_offset=8), [UnaryOp(Not(), Call(Name('user_domain_match', Load(), lineno=711, col_offset=28), [Str('192.168.1.1', lineno=711, col_offset=46), Str('', lineno=711, col_offset=61)], [], None, None, lineno=711, col_offset=28), lineno=711, col_offset=24)], [], None, None, lineno=711, col_offset=8), lineno=711, col_offset=8)], [], lineno=676, col_offset=4), FunctionDef('test_wrong_domain', arguments([Name('self', Param(), lineno=713, col_offset=26)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None)], 0, lineno=718, col_offset=8), Assign([Name('c', Store(), lineno=719, col_offset=8)], Call(Name('CookieJar', Load(), lineno=719, col_offset=12), [], [], None, None, lineno=719, col_offset=12), lineno=719, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=720, col_offset=8), [Name('c', Load(), lineno=720, col_offset=22), Str('http://www.nasty.com/', lineno=720, col_offset=25), Str('foo=bar; domain=friendly.org; Version="1"', lineno=721, col_offset=22)], [], None, None, lineno=720, col_offset=8), lineno=720, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=722, col_offset=8), 'assertEqual', Load(), lineno=722, col_offset=8), [Call(Name('len', Load(), lineno=722, col_offset=25), [Name('c', Load(), lineno=722, col_offset=29)], [], None, None, lineno=722, col_offset=25), Num(0, lineno=722, col_offset=33)], [], None, None, lineno=722, col_offset=8), lineno=722, col_offset=8)], [], lineno=713, col_offset=4), FunctionDef('test_strict_domain', arguments([Name('self', Param(), lineno=724, col_offset=27)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=727, col_offset=8), Assign([Name('cp', Store(), lineno=729, col_offset=8)], Call(Name('DefaultCookiePolicy', Load(), lineno=729, col_offset=13), [], [keyword('strict_domain', Name('True', Load(), lineno=729, col_offset=47))], None, None, lineno=729, col_offset=13), lineno=729, col_offset=8), Assign([Name('cj', Store(), lineno=730, col_offset=8)], Call(Name('CookieJar', Load(), lineno=730, col_offset=13), [], [keyword('policy', Name('cp', Load(), lineno=730, col_offset=30))], None, None, lineno=730, col_offset=13), lineno=730, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=731, col_offset=8), [Name('cj', Load(), lineno=731, col_offset=26), Str('http://example.co.uk/', lineno=731, col_offset=30), Str('no=problemo', lineno=731, col_offset=55)], [], None, None, lineno=731, col_offset=8), lineno=731, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=732, col_offset=8), [Name('cj', Load(), lineno=732, col_offset=26), Str('http://example.co.uk/', lineno=732, col_offset=30), Str('okey=dokey; Domain=.example.co.uk', lineno=733, col_offset=26)], [], None, None, lineno=732, col_offset=8), lineno=732, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=734, col_offset=8), 'assertEqual', Load(), lineno=734, col_offset=8), [Call(Name('len', Load(), lineno=734, col_offset=25), [Name('cj', Load(), lineno=734, col_offset=29)], [], None, None, lineno=734, col_offset=25), Num(2, lineno=734, col_offset=34)], [], None, None, lineno=734, col_offset=8), lineno=734, col_offset=8), For(Name('pseudo_tld', Store(), lineno=735, col_offset=12), List([Str('.co.uk', lineno=735, col_offset=27), Str('.org.za', lineno=735, col_offset=37), Str('.tx.us', lineno=735, col_offset=48), Str('.name.us', lineno=735, col_offset=58)], Load(), lineno=735, col_offset=26), [Expr(Call(Name('interact_netscape', Load(), lineno=736, col_offset=12), [Name('cj', Load(), lineno=736, col_offset=30), BinOp(Str('http://example.%s/', lineno=736, col_offset=34), Mod(), Name('pseudo_tld', Load(), lineno=736, col_offset=57), lineno=736, col_offset=34), Str('spam=eggs; Domain=.co.uk', lineno=737, col_offset=30)], [], None, None, lineno=736, col_offset=12), lineno=736, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=738, col_offset=12), 'assertEqual', Load(), lineno=738, col_offset=12), [Call(Name('len', Load(), lineno=738, col_offset=29), [Name('cj', Load(), lineno=738, col_offset=33)], [], None, None, lineno=738, col_offset=29), Num(2, lineno=738, col_offset=38)], [], None, None, lineno=738, col_offset=12), lineno=738, col_offset=12)], [], lineno=735, col_offset=8)], [], lineno=724, col_offset=4), FunctionDef('test_two_component_domain_ns', arguments([Name('self', Param(), lineno=740, col_offset=37)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=744, col_offset=8), Assign([Name('c', Store(), lineno=746, col_offset=8)], Call(Name('CookieJar', Load(), lineno=746, col_offset=12), [], [], None, None, lineno=746, col_offset=12), lineno=746, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=749, col_offset=8), [Name('c', Load(), lineno=749, col_offset=26), Str('http://foo.net/', lineno=749, col_offset=29), Str('ns=bar', lineno=749, col_offset=48)], [], None, None, lineno=749, col_offset=8), lineno=749, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=750, col_offset=8), 'assertEqual', Load(), lineno=750, col_offset=8), [Call(Name('len', Load(), lineno=750, col_offset=25), [Name('c', Load(), lineno=750, col_offset=29)], [], None, None, lineno=750, col_offset=25), Num(1, lineno=750, col_offset=33)], [], None, None, lineno=750, col_offset=8), lineno=750, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=751, col_offset=8), 'assertEqual', Load(), lineno=751, col_offset=8), [Attribute(Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=751, col_offset=25), '_cookies', Load(), lineno=751, col_offset=25), Index(Str('foo.net', lineno=751, col_offset=36)), Load(), lineno=751, col_offset=25), Index(Str('/', lineno=751, col_offset=47)), Load(), lineno=751, col_offset=25), Index(Str('ns', lineno=751, col_offset=52)), Load(), lineno=751, col_offset=25), 'value', Load(), lineno=751, col_offset=25), Str('bar', lineno=751, col_offset=65)], [], None, None, lineno=751, col_offset=8), lineno=751, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=752, col_offset=8), 'assertEqual', Load(), lineno=752, col_offset=8), [Call(Name('interact_netscape', Load(), lineno=752, col_offset=25), [Name('c', Load(), lineno=752, col_offset=43), Str('http://foo.net/', lineno=752, col_offset=46)], [], None, None, lineno=752, col_offset=25), Str('ns=bar', lineno=752, col_offset=66)], [], None, None, lineno=752, col_offset=8), lineno=752, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=754, col_offset=8), 'assertEqual', Load(), lineno=754, col_offset=8), [Call(Name('interact_netscape', Load(), lineno=754, col_offset=25), [Name('c', Load(), lineno=754, col_offset=43), Str('http://www.foo.net/', lineno=754, col_offset=46)], [], None, None, lineno=754, col_offset=25), Str('ns=bar', lineno=755, col_offset=25)], [], None, None, lineno=754, col_offset=8), lineno=754, col_offset=8), Assign([Name('pol', Store(), lineno=757, col_offset=8)], Call(Name('DefaultCookiePolicy', Load(), lineno=757, col_offset=14), [], [keyword('strict_ns_domain', Attribute(Name('DefaultCookiePolicy', Load(), lineno=758, col_offset=29), 'DomainStrictNonDomain', Load(), lineno=758, col_offset=29))], None, None, lineno=757, col_offset=14), lineno=757, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=759, col_offset=8), 'set_policy', Load(), lineno=759, col_offset=8), [Name('pol', Load(), lineno=759, col_offset=21)], [], None, None, lineno=759, col_offset=8), lineno=759, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=760, col_offset=8), 'assertEqual', Load(), lineno=760, col_offset=8), [Call(Name('interact_netscape', Load(), lineno=760, col_offset=25), [Name('c', Load(), lineno=760, col_offset=43), Str('http://www.foo.net/', lineno=760, col_offset=46)], [], None, None, lineno=760, col_offset=25), Str('', lineno=760, col_offset=70)], [], None, None, lineno=760, col_offset=8), lineno=760, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=764, col_offset=8), [Name('c', Load(), lineno=764, col_offset=26), Str('http://foo.net/foo/', lineno=764, col_offset=29), Str('spam1=eggs; domain=foo.net', lineno=765, col_offset=26)], [], None, None, lineno=764, col_offset=8), lineno=764, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=767, col_offset=8), [Name('c', Load(), lineno=767, col_offset=26), Str('http://foo.net/foo/bar/', lineno=767, col_offset=29), Str('spam2=eggs; domain=.foo.net', lineno=768, col_offset=26)], [], None, None, lineno=767, col_offset=8), lineno=767, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=769, col_offset=8), 'assertEqual', Load(), lineno=769, col_offset=8), [Call(Name('len', Load(), lineno=769, col_offset=25), [Name('c', Load(), lineno=769, col_offset=29)], [], None, None, lineno=769, col_offset=25), Num(3, lineno=769, col_offset=33)], [], None, None, lineno=769, col_offset=8), lineno=769, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=770, col_offset=8), 'assertEqual', Load(), lineno=770, col_offset=8), [Attribute(Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=770, col_offset=25), '_cookies', Load(), lineno=770, col_offset=25), Index(Str('.foo.net', lineno=770, col_offset=36)), Load(), lineno=770, col_offset=25), Index(Str('/foo', lineno=770, col_offset=48)), Load(), lineno=770, col_offset=25), Index(Str('spam1', lineno=770, col_offset=56)), Load(), lineno=770, col_offset=25), 'value', Load(), lineno=770, col_offset=25), Str('eggs', lineno=771, col_offset=25)], [], None, None, lineno=770, col_offset=8), lineno=770, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=772, col_offset=8), 'assertEqual', Load(), lineno=772, col_offset=8), [Attribute(Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=772, col_offset=25), '_cookies', Load(), lineno=772, col_offset=25), Index(Str('.foo.net', lineno=772, col_offset=36)), Load(), lineno=772, col_offset=25), Index(Str('/foo/bar', lineno=772, col_offset=48)), Load(), lineno=772, col_offset=25), Index(Str('spam2', lineno=772, col_offset=60)), Load(), lineno=772, col_offset=25), 'value', Load(), lineno=772, col_offset=25), Str('eggs', lineno=773, col_offset=25)], [], None, None, lineno=772, col_offset=8), lineno=772, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=774, col_offset=8), 'assertEqual', Load(), lineno=774, col_offset=8), [Call(Name('interact_netscape', Load(), lineno=774, col_offset=25), [Name('c', Load(), lineno=774, col_offset=43), Str('http://foo.net/foo/bar/', lineno=774, col_offset=46)], [], None, None, lineno=774, col_offset=25), Str('spam2=eggs; spam1=eggs; ns=bar', lineno=775, col_offset=25)], [], None, None, lineno=774, col_offset=8), lineno=774, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=778, col_offset=8), [Name('c', Load(), lineno=778, col_offset=26), Str('http://foo.net/', lineno=778, col_offset=29), Str('nini="ni"; domain=.net', lineno=778, col_offset=48)], [], None, None, lineno=778, col_offset=8), lineno=778, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=779, col_offset=8), 'assertEqual', Load(), lineno=779, col_offset=8), [Call(Name('len', Load(), lineno=779, col_offset=25), [Name('c', Load(), lineno=779, col_offset=29)], [], None, None, lineno=779, col_offset=25), Num(3, lineno=779, col_offset=33)], [], None, None, lineno=779, col_offset=8), lineno=779, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=786, col_offset=8), [Name('c', Load(), lineno=786, col_offset=26), Str('http://foo.co.uk', lineno=786, col_offset=29), Str('nasty=trick; domain=.co.uk', lineno=786, col_offset=49)], [], None, None, lineno=786, col_offset=8), lineno=786, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=788, col_offset=8), 'assertEqual', Load(), lineno=788, col_offset=8), [Call(Name('len', Load(), lineno=788, col_offset=25), [Name('c', Load(), lineno=788, col_offset=29)], [], None, None, lineno=788, col_offset=25), Num(4, lineno=788, col_offset=33)], [], None, None, lineno=788, col_offset=8), lineno=788, col_offset=8)], [], lineno=740, col_offset=4), FunctionDef('test_two_component_domain_rfc2965', arguments([Name('self', Param(), lineno=790, col_offset=42)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=791, col_offset=8), Assign([Name('pol', Store(), lineno=793, col_offset=8)], Call(Name('DefaultCookiePolicy', Load(), lineno=793, col_offset=14), [], [keyword('rfc2965', Name('True', Load(), lineno=793, col_offset=42))], None, None, lineno=793, col_offset=14), lineno=793, col_offset=8), Assign([Name('c', Store(), lineno=794, col_offset=8)], Call(Name('CookieJar', Load(), lineno=794, col_offset=12), [Name('pol', Load(), lineno=794, col_offset=22)], [], None, None, lineno=794, col_offset=12), lineno=794, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=797, col_offset=8), [Name('c', Load(), lineno=797, col_offset=22), Str('http://foo.net/', lineno=797, col_offset=25), Str('foo=bar; Version="1"', lineno=797, col_offset=44)], [], None, None, lineno=797, col_offset=8), lineno=797, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=798, col_offset=8), 'assertEqual', Load(), lineno=798, col_offset=8), [Call(Name('len', Load(), lineno=798, col_offset=25), [Name('c', Load(), lineno=798, col_offset=29)], [], None, None, lineno=798, col_offset=25), Num(1, lineno=798, col_offset=33)], [], None, None, lineno=798, col_offset=8), lineno=798, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=799, col_offset=8), 'assertEqual', Load(), lineno=799, col_offset=8), [Attribute(Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=799, col_offset=25), '_cookies', Load(), lineno=799, col_offset=25), Index(Str('foo.net', lineno=799, col_offset=36)), Load(), lineno=799, col_offset=25), Index(Str('/', lineno=799, col_offset=47)), Load(), lineno=799, col_offset=25), Index(Str('foo', lineno=799, col_offset=52)), Load(), lineno=799, col_offset=25), 'value', Load(), lineno=799, col_offset=25), Str('bar', lineno=799, col_offset=66)], [], None, None, lineno=799, col_offset=8), lineno=799, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=800, col_offset=8), 'assertEqual', Load(), lineno=800, col_offset=8), [Call(Name('interact_2965', Load(), lineno=800, col_offset=25), [Name('c', Load(), lineno=800, col_offset=39), Str('http://foo.net/', lineno=800, col_offset=42)], [], None, None, lineno=800, col_offset=25), Str('$Version=1; foo=bar', lineno=801, col_offset=25)], [], None, None, lineno=800, col_offset=8), lineno=800, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=803, col_offset=8), 'assertEqual', Load(), lineno=803, col_offset=8), [Call(Name('interact_2965', Load(), lineno=803, col_offset=25), [Name('c', Load(), lineno=803, col_offset=39), Str('http://www.foo.net/', lineno=803, col_offset=42)], [], None, None, lineno=803, col_offset=25), Str('', lineno=803, col_offset=66)], [], None, None, lineno=803, col_offset=8), lineno=803, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=808, col_offset=8), [Name('c', Load(), lineno=808, col_offset=22), Str('http://foo.net/foo', lineno=808, col_offset=25), Str('spam=eggs; domain=foo.net; path=/foo; Version="1"', lineno=809, col_offset=22)], [], None, None, lineno=808, col_offset=8), lineno=808, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=810, col_offset=8), 'assertEqual', Load(), lineno=810, col_offset=8), [Call(Name('len', Load(), lineno=810, col_offset=25), [Name('c', Load(), lineno=810, col_offset=29)], [], None, None, lineno=810, col_offset=25), Num(1, lineno=810, col_offset=33)], [], None, None, lineno=810, col_offset=8), lineno=810, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=811, col_offset=8), 'assertEqual', Load(), lineno=811, col_offset=8), [Call(Name('interact_2965', Load(), lineno=811, col_offset=25), [Name('c', Load(), lineno=811, col_offset=39), Str('http://foo.net/foo', lineno=811, col_offset=42)], [], None, None, lineno=811, col_offset=25), Str('$Version=1; foo=bar', lineno=812, col_offset=25)], [], None, None, lineno=811, col_offset=8), lineno=811, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=816, col_offset=8), [Name('c', Load(), lineno=816, col_offset=22), Str('http://www.foo.net/foo/', lineno=816, col_offset=25), Str('spam=eggs; domain=foo.net; Version="1"', lineno=817, col_offset=22)], [], None, None, lineno=816, col_offset=8), lineno=816, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=818, col_offset=8), 'assertEqual', Load(), lineno=818, col_offset=8), [Attribute(Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=818, col_offset=25), '_cookies', Load(), lineno=818, col_offset=25), Index(Str('.foo.net', lineno=818, col_offset=36)), Load(), lineno=818, col_offset=25), Index(Str('/foo/', lineno=818, col_offset=48)), Load(), lineno=818, col_offset=25), Index(Str('spam', lineno=818, col_offset=57)), Load(), lineno=818, col_offset=25), 'value', Load(), lineno=818, col_offset=25), Str('eggs', lineno=819, col_offset=25)], [], None, None, lineno=818, col_offset=8), lineno=818, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=820, col_offset=8), 'assertEqual', Load(), lineno=820, col_offset=8), [Call(Name('len', Load(), lineno=820, col_offset=25), [Name('c', Load(), lineno=820, col_offset=29)], [], None, None, lineno=820, col_offset=25), Num(2, lineno=820, col_offset=33)], [], None, None, lineno=820, col_offset=8), lineno=820, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=821, col_offset=8), 'assertEqual', Load(), lineno=821, col_offset=8), [Call(Name('interact_2965', Load(), lineno=821, col_offset=25), [Name('c', Load(), lineno=821, col_offset=39), Str('http://foo.net/foo/', lineno=821, col_offset=42)], [], None, None, lineno=821, col_offset=25), Str('$Version=1; foo=bar', lineno=822, col_offset=25)], [], None, None, lineno=821, col_offset=8), lineno=821, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=823, col_offset=8), 'assertEqual', Load(), lineno=823, col_offset=8), [Call(Name('interact_2965', Load(), lineno=823, col_offset=25), [Name('c', Load(), lineno=823, col_offset=39), Str('http://www.foo.net/foo/', lineno=823, col_offset=42)], [], None, None, lineno=823, col_offset=25), Str('$Version=1; spam=eggs; $Domain="foo.net"', lineno=824, col_offset=25)], [], None, None, lineno=823, col_offset=8), lineno=823, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=827, col_offset=8), [Name('c', Load(), lineno=827, col_offset=22), Str('http://foo.net/', lineno=827, col_offset=25), Str('ni="ni"; domain=".net"; Version="1"', lineno=828, col_offset=22)], [], None, None, lineno=827, col_offset=8), lineno=827, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=829, col_offset=8), 'assertEqual', Load(), lineno=829, col_offset=8), [Call(Name('len', Load(), lineno=829, col_offset=25), [Name('c', Load(), lineno=829, col_offset=29)], [], None, None, lineno=829, col_offset=25), Num(2, lineno=829, col_offset=33)], [], None, None, lineno=829, col_offset=8), lineno=829, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=832, col_offset=8), [Name('c', Load(), lineno=832, col_offset=22), Str('http://foo.co.uk/', lineno=832, col_offset=25), Str('nasty=trick; domain=.co.uk; Version="1"', lineno=833, col_offset=22)], [], None, None, lineno=832, col_offset=8), lineno=832, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=834, col_offset=8), 'assertEqual', Load(), lineno=834, col_offset=8), [Call(Name('len', Load(), lineno=834, col_offset=25), [Name('c', Load(), lineno=834, col_offset=29)], [], None, None, lineno=834, col_offset=25), Num(3, lineno=834, col_offset=33)], [], None, None, lineno=834, col_offset=8), lineno=834, col_offset=8)], [], lineno=790, col_offset=4), FunctionDef('test_domain_allow', arguments([Name('self', Param(), lineno=836, col_offset=26)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=837, col_offset=8), ImportFrom('urllib2', [alias('Request', None)], 0, lineno=838, col_offset=8), Assign([Name('c', Store(), lineno=840, col_offset=8)], Call(Name('CookieJar', Load(), lineno=840, col_offset=12), [], [keyword('policy', Call(Name('DefaultCookiePolicy', Load(), lineno=840, col_offset=29), [], [keyword('blocked_domains', List([Str('acme.com', lineno=841, col_offset=29)], Load(), lineno=841, col_offset=28)), keyword('allowed_domains', List([Str('www.acme.com', lineno=842, col_offset=29)], Load(), lineno=842, col_offset=28))], None, None, lineno=840, col_offset=29))], None, None, lineno=840, col_offset=12), lineno=840, col_offset=8), Assign([Name('req', Store(), lineno=844, col_offset=8)], Call(Name('Request', Load(), lineno=844, col_offset=14), [Str('http://acme.com/', lineno=844, col_offset=22)], [], None, None, lineno=844, col_offset=14), lineno=844, col_offset=8), Assign([Name('headers', Store(), lineno=845, col_offset=8)], List([Str('Set-Cookie: CUSTOMER=WILE_E_COYOTE; path=/', lineno=845, col_offset=19)], Load(), lineno=845, col_offset=18), lineno=845, col_offset=8), Assign([Name('res', Store(), lineno=846, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=846, col_offset=14), [Name('headers', Load(), lineno=846, col_offset=27), Str('http://acme.com/', lineno=846, col_offset=36)], [], None, None, lineno=846, col_offset=14), lineno=846, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=847, col_offset=8), 'extract_cookies', Load(), lineno=847, col_offset=8), [Name('res', Load(), lineno=847, col_offset=26), Name('req', Load(), lineno=847, col_offset=31)], [], None, None, lineno=847, col_offset=8), lineno=847, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=848, col_offset=8), 'assertEqual', Load(), lineno=848, col_offset=8), [Call(Name('len', Load(), lineno=848, col_offset=25), [Name('c', Load(), lineno=848, col_offset=29)], [], None, None, lineno=848, col_offset=25), Num(0, lineno=848, col_offset=33)], [], None, None, lineno=848, col_offset=8), lineno=848, col_offset=8), Assign([Name('req', Store(), lineno=850, col_offset=8)], Call(Name('Request', Load(), lineno=850, col_offset=14), [Str('http://www.acme.com/', lineno=850, col_offset=22)], [], None, None, lineno=850, col_offset=14), lineno=850, col_offset=8), Assign([Name('res', Store(), lineno=851, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=851, col_offset=14), [Name('headers', Load(), lineno=851, col_offset=27), Str('http://www.acme.com/', lineno=851, col_offset=36)], [], None, None, lineno=851, col_offset=14), lineno=851, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=852, col_offset=8), 'extract_cookies', Load(), lineno=852, col_offset=8), [Name('res', Load(), lineno=852, col_offset=26), Name('req', Load(), lineno=852, col_offset=31)], [], None, None, lineno=852, col_offset=8), lineno=852, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=853, col_offset=8), 'assertEqual', Load(), lineno=853, col_offset=8), [Call(Name('len', Load(), lineno=853, col_offset=25), [Name('c', Load(), lineno=853, col_offset=29)], [], None, None, lineno=853, col_offset=25), Num(1, lineno=853, col_offset=33)], [], None, None, lineno=853, col_offset=8), lineno=853, col_offset=8), Assign([Name('req', Store(), lineno=855, col_offset=8)], Call(Name('Request', Load(), lineno=855, col_offset=14), [Str('http://www.coyote.com/', lineno=855, col_offset=22)], [], None, None, lineno=855, col_offset=14), lineno=855, col_offset=8), Assign([Name('res', Store(), lineno=856, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=856, col_offset=14), [Name('headers', Load(), lineno=856, col_offset=27), Str('http://www.coyote.com/', lineno=856, col_offset=36)], [], None, None, lineno=856, col_offset=14), lineno=856, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=857, col_offset=8), 'extract_cookies', Load(), lineno=857, col_offset=8), [Name('res', Load(), lineno=857, col_offset=26), Name('req', Load(), lineno=857, col_offset=31)], [], None, None, lineno=857, col_offset=8), lineno=857, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=858, col_offset=8), 'assertEqual', Load(), lineno=858, col_offset=8), [Call(Name('len', Load(), lineno=858, col_offset=25), [Name('c', Load(), lineno=858, col_offset=29)], [], None, None, lineno=858, col_offset=25), Num(1, lineno=858, col_offset=33)], [], None, None, lineno=858, col_offset=8), lineno=858, col_offset=8), Assign([Name('req', Store(), lineno=861, col_offset=8)], Call(Name('Request', Load(), lineno=861, col_offset=14), [Str('http://www.coyote.com/', lineno=861, col_offset=22)], [], None, None, lineno=861, col_offset=14), lineno=861, col_offset=8), Assign([Name('res', Store(), lineno=862, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=862, col_offset=14), [Name('headers', Load(), lineno=862, col_offset=27), Str('http://www.coyote.com/', lineno=862, col_offset=36)], [], None, None, lineno=862, col_offset=14), lineno=862, col_offset=8), Assign([Name('cookies', Store(), lineno=863, col_offset=8)], Call(Attribute(Name('c', Load(), lineno=863, col_offset=18), 'make_cookies', Load(), lineno=863, col_offset=18), [Name('res', Load(), lineno=863, col_offset=33), Name('req', Load(), lineno=863, col_offset=38)], [], None, None, lineno=863, col_offset=18), lineno=863, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=864, col_offset=8), 'set_cookie', Load(), lineno=864, col_offset=8), [Subscript(Name('cookies', Load(), lineno=864, col_offset=21), Index(Num(0, lineno=864, col_offset=29)), Load(), lineno=864, col_offset=21)], [], None, None, lineno=864, col_offset=8), lineno=864, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=865, col_offset=8), 'assertEqual', Load(), lineno=865, col_offset=8), [Call(Name('len', Load(), lineno=865, col_offset=25), [Name('c', Load(), lineno=865, col_offset=29)], [], None, None, lineno=865, col_offset=25), Num(2, lineno=865, col_offset=33)], [], None, None, lineno=865, col_offset=8), lineno=865, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=867, col_offset=8), 'add_cookie_header', Load(), lineno=867, col_offset=8), [Name('req', Load(), lineno=867, col_offset=28)], [], None, None, lineno=867, col_offset=8), lineno=867, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=868, col_offset=8), 'assertTrue', Load(), lineno=868, col_offset=8), [UnaryOp(Not(), Call(Attribute(Name('req', Load(), lineno=868, col_offset=28), 'has_header', Load(), lineno=868, col_offset=28), [Str('Cookie', lineno=868, col_offset=43)], [], None, None, lineno=868, col_offset=28), lineno=868, col_offset=24)], [], None, None, lineno=868, col_offset=8), lineno=868, col_offset=8)], [], lineno=836, col_offset=4), FunctionDef('test_domain_block', arguments([Name('self', Param(), lineno=870, col_offset=26)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=871, col_offset=8), ImportFrom('urllib2', [alias('Request', None)], 0, lineno=872, col_offset=8), Assign([Name('pol', Store(), lineno=874, col_offset=8)], Call(Name('DefaultCookiePolicy', Load(), lineno=874, col_offset=14), [], [keyword('rfc2965', Name('True', Load(), lineno=875, col_offset=20)), keyword('blocked_domains', List([Str('.acme.com', lineno=875, col_offset=43)], Load(), lineno=875, col_offset=42))], None, None, lineno=874, col_offset=14), lineno=874, col_offset=8), Assign([Name('c', Store(), lineno=876, col_offset=8)], Call(Name('CookieJar', Load(), lineno=876, col_offset=12), [], [keyword('policy', Name('pol', Load(), lineno=876, col_offset=29))], None, None, lineno=876, col_offset=12), lineno=876, col_offset=8), Assign([Name('headers', Store(), lineno=877, col_offset=8)], List([Str('Set-Cookie: CUSTOMER=WILE_E_COYOTE; path=/', lineno=877, col_offset=19)], Load(), lineno=877, col_offset=18), lineno=877, col_offset=8), Assign([Name('req', Store(), lineno=879, col_offset=8)], Call(Name('Request', Load(), lineno=879, col_offset=14), [Str('http://www.acme.com/', lineno=879, col_offset=22)], [], None, None, lineno=879, col_offset=14), lineno=879, col_offset=8), Assign([Name('res', Store(), lineno=880, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=880, col_offset=14), [Name('headers', Load(), lineno=880, col_offset=27), Str('http://www.acme.com/', lineno=880, col_offset=36)], [], None, None, lineno=880, col_offset=14), lineno=880, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=881, col_offset=8), 'extract_cookies', Load(), lineno=881, col_offset=8), [Name('res', Load(), lineno=881, col_offset=26), Name('req', Load(), lineno=881, col_offset=31)], [], None, None, lineno=881, col_offset=8), lineno=881, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=882, col_offset=8), 'assertEqual', Load(), lineno=882, col_offset=8), [Call(Name('len', Load(), lineno=882, col_offset=25), [Name('c', Load(), lineno=882, col_offset=29)], [], None, None, lineno=882, col_offset=25), Num(0, lineno=882, col_offset=33)], [], None, None, lineno=882, col_offset=8), lineno=882, col_offset=8), Assign([Name('p', Store(), lineno=884, col_offset=8)], Call(Attribute(Name('pol', Load(), lineno=884, col_offset=12), 'set_blocked_domains', Load(), lineno=884, col_offset=12), [List([Str('acme.com', lineno=884, col_offset=37)], Load(), lineno=884, col_offset=36)], [], None, None, lineno=884, col_offset=12), lineno=884, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=885, col_offset=8), 'extract_cookies', Load(), lineno=885, col_offset=8), [Name('res', Load(), lineno=885, col_offset=26), Name('req', Load(), lineno=885, col_offset=31)], [], None, None, lineno=885, col_offset=8), lineno=885, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=886, col_offset=8), 'assertEqual', Load(), lineno=886, col_offset=8), [Call(Name('len', Load(), lineno=886, col_offset=25), [Name('c', Load(), lineno=886, col_offset=29)], [], None, None, lineno=886, col_offset=25), Num(1, lineno=886, col_offset=33)], [], None, None, lineno=886, col_offset=8), lineno=886, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=888, col_offset=8), 'clear', Load(), lineno=888, col_offset=8), [], [], None, None, lineno=888, col_offset=8), lineno=888, col_offset=8), Assign([Name('req', Store(), lineno=889, col_offset=8)], Call(Name('Request', Load(), lineno=889, col_offset=14), [Str('http://www.roadrunner.net/', lineno=889, col_offset=22)], [], None, None, lineno=889, col_offset=14), lineno=889, col_offset=8), Assign([Name('res', Store(), lineno=890, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=890, col_offset=14), [Name('headers', Load(), lineno=890, col_offset=27), Str('http://www.roadrunner.net/', lineno=890, col_offset=36)], [], None, None, lineno=890, col_offset=14), lineno=890, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=891, col_offset=8), 'extract_cookies', Load(), lineno=891, col_offset=8), [Name('res', Load(), lineno=891, col_offset=26), Name('req', Load(), lineno=891, col_offset=31)], [], None, None, lineno=891, col_offset=8), lineno=891, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=892, col_offset=8), 'assertEqual', Load(), lineno=892, col_offset=8), [Call(Name('len', Load(), lineno=892, col_offset=25), [Name('c', Load(), lineno=892, col_offset=29)], [], None, None, lineno=892, col_offset=25), Num(1, lineno=892, col_offset=33)], [], None, None, lineno=892, col_offset=8), lineno=892, col_offset=8), Assign([Name('req', Store(), lineno=893, col_offset=8)], Call(Name('Request', Load(), lineno=893, col_offset=14), [Str('http://www.roadrunner.net/', lineno=893, col_offset=22)], [], None, None, lineno=893, col_offset=14), lineno=893, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=894, col_offset=8), 'add_cookie_header', Load(), lineno=894, col_offset=8), [Name('req', Load(), lineno=894, col_offset=28)], [], None, None, lineno=894, col_offset=8), lineno=894, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=895, col_offset=8), 'assertTrue', Load(), lineno=895, col_offset=8), [BoolOp(And(), [Call(Attribute(Name('req', Load(), lineno=895, col_offset=25), 'has_header', Load(), lineno=895, col_offset=25), [Str('Cookie', lineno=895, col_offset=40)], [], None, None, lineno=895, col_offset=25), Call(Attribute(Name('req', Load(), lineno=896, col_offset=22), 'has_header', Load(), lineno=896, col_offset=22), [Str('Cookie2', lineno=896, col_offset=37)], [], None, None, lineno=896, col_offset=22)], lineno=895, col_offset=25)], [], None, None, lineno=895, col_offset=8), lineno=895, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=898, col_offset=8), 'clear', Load(), lineno=898, col_offset=8), [], [], None, None, lineno=898, col_offset=8), lineno=898, col_offset=8), Expr(Call(Attribute(Name('pol', Load(), lineno=899, col_offset=8), 'set_blocked_domains', Load(), lineno=899, col_offset=8), [List([Str('.acme.com', lineno=899, col_offset=33)], Load(), lineno=899, col_offset=32)], [], None, None, lineno=899, col_offset=8), lineno=899, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=900, col_offset=8), 'extract_cookies', Load(), lineno=900, col_offset=8), [Name('res', Load(), lineno=900, col_offset=26), Name('req', Load(), lineno=900, col_offset=31)], [], None, None, lineno=900, col_offset=8), lineno=900, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=901, col_offset=8), 'assertEqual', Load(), lineno=901, col_offset=8), [Call(Name('len', Load(), lineno=901, col_offset=25), [Name('c', Load(), lineno=901, col_offset=29)], [], None, None, lineno=901, col_offset=25), Num(1, lineno=901, col_offset=33)], [], None, None, lineno=901, col_offset=8), lineno=901, col_offset=8), Assign([Name('req', Store(), lineno=904, col_offset=8)], Call(Name('Request', Load(), lineno=904, col_offset=14), [Str('http://www.acme.com/', lineno=904, col_offset=22)], [], None, None, lineno=904, col_offset=14), lineno=904, col_offset=8), Assign([Name('res', Store(), lineno=905, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=905, col_offset=14), [Name('headers', Load(), lineno=905, col_offset=27), Str('http://www.acme.com/', lineno=905, col_offset=36)], [], None, None, lineno=905, col_offset=14), lineno=905, col_offset=8), Assign([Name('cookies', Store(), lineno=906, col_offset=8)], Call(Attribute(Name('c', Load(), lineno=906, col_offset=18), 'make_cookies', Load(), lineno=906, col_offset=18), [Name('res', Load(), lineno=906, col_offset=33), Name('req', Load(), lineno=906, col_offset=38)], [], None, None, lineno=906, col_offset=18), lineno=906, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=907, col_offset=8), 'set_cookie', Load(), lineno=907, col_offset=8), [Subscript(Name('cookies', Load(), lineno=907, col_offset=21), Index(Num(0, lineno=907, col_offset=29)), Load(), lineno=907, col_offset=21)], [], None, None, lineno=907, col_offset=8), lineno=907, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=908, col_offset=8), 'assertEqual', Load(), lineno=908, col_offset=8), [Call(Name('len', Load(), lineno=908, col_offset=25), [Name('c', Load(), lineno=908, col_offset=29)], [], None, None, lineno=908, col_offset=25), Num(2, lineno=908, col_offset=33)], [], None, None, lineno=908, col_offset=8), lineno=908, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=910, col_offset=8), 'add_cookie_header', Load(), lineno=910, col_offset=8), [Name('req', Load(), lineno=910, col_offset=28)], [], None, None, lineno=910, col_offset=8), lineno=910, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=911, col_offset=8), 'assertTrue', Load(), lineno=911, col_offset=8), [UnaryOp(Not(), Call(Attribute(Name('req', Load(), lineno=911, col_offset=28), 'has_header', Load(), lineno=911, col_offset=28), [Str('Cookie', lineno=911, col_offset=43)], [], None, None, lineno=911, col_offset=28), lineno=911, col_offset=24)], [], None, None, lineno=911, col_offset=8), lineno=911, col_offset=8)], [], lineno=870, col_offset=4), FunctionDef('test_secure', arguments([Name('self', Param(), lineno=913, col_offset=20)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=914, col_offset=8), For(Name('ns', Store(), lineno=916, col_offset=12), Tuple([Name('True', Load(), lineno=916, col_offset=18), Name('False', Load(), lineno=916, col_offset=24)], Load(), lineno=916, col_offset=18), [For(Name('whitespace', Store(), lineno=917, col_offset=16), Tuple([Str(' ', lineno=917, col_offset=30), Str('', lineno=917, col_offset=35)], Load(), lineno=917, col_offset=30), [Assign([Name('c', Store(), lineno=918, col_offset=16)], Call(Name('CookieJar', Load(), lineno=918, col_offset=20), [], [], None, None, lineno=918, col_offset=20), lineno=918, col_offset=16), If(Name('ns', Load(), lineno=919, col_offset=19), [Assign([Name('pol', Store(), lineno=920, col_offset=20)], Call(Name('DefaultCookiePolicy', Load(), lineno=920, col_offset=26), [], [keyword('rfc2965', Name('False', Load(), lineno=920, col_offset=54))], None, None, lineno=920, col_offset=26), lineno=920, col_offset=20), Assign([Name('int', Store(), lineno=921, col_offset=20)], Name('interact_netscape', Load(), lineno=921, col_offset=26), lineno=921, col_offset=20), Assign([Name('vs', Store(), lineno=922, col_offset=20)], Str('', lineno=922, col_offset=25), lineno=922, col_offset=20)], [Assign([Name('pol', Store(), lineno=924, col_offset=20)], Call(Name('DefaultCookiePolicy', Load(), lineno=924, col_offset=26), [], [keyword('rfc2965', Name('True', Load(), lineno=924, col_offset=54))], None, None, lineno=924, col_offset=26), lineno=924, col_offset=20), Assign([Name('int', Store(), lineno=925, col_offset=20)], Name('interact_2965', Load(), lineno=925, col_offset=26), lineno=925, col_offset=20), Assign([Name('vs', Store(), lineno=926, col_offset=20)], Str('; Version=1', lineno=926, col_offset=25), lineno=926, col_offset=20)], lineno=919, col_offset=16), Expr(Call(Attribute(Name('c', Load(), lineno=927, col_offset=16), 'set_policy', Load(), lineno=927, col_offset=16), [Name('pol', Load(), lineno=927, col_offset=29)], [], None, None, lineno=927, col_offset=16), lineno=927, col_offset=16), Assign([Name('url', Store(), lineno=928, col_offset=16)], Str('http://www.acme.com/', lineno=928, col_offset=22), lineno=928, col_offset=16), Expr(Call(Name('int', Load(), lineno=929, col_offset=16), [Name('c', Load(), lineno=929, col_offset=20), Name('url', Load(), lineno=929, col_offset=23), BinOp(Str('foo1=bar%s%s', lineno=929, col_offset=28), Mod(), Tuple([Name('vs', Load(), lineno=929, col_offset=46), Name('whitespace', Load(), lineno=929, col_offset=50)], Load(), lineno=929, col_offset=46), lineno=929, col_offset=28)], [], None, None, lineno=929, col_offset=16), lineno=929, col_offset=16), Expr(Call(Name('int', Load(), lineno=930, col_offset=16), [Name('c', Load(), lineno=930, col_offset=20), Name('url', Load(), lineno=930, col_offset=23), BinOp(Str('foo2=bar%s; secure%s', lineno=930, col_offset=28), Mod(), Tuple([Name('vs', Load(), lineno=930, col_offset=55), Name('whitespace', Load(), lineno=930, col_offset=59)], Load(), lineno=930, col_offset=55), lineno=930, col_offset=28)], [], None, None, lineno=930, col_offset=16), lineno=930, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=931, col_offset=16), 'assertTrue', Load(), lineno=931, col_offset=16), [UnaryOp(Not(), Attribute(Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=932, col_offset=24), '_cookies', Load(), lineno=932, col_offset=24), Index(Str('www.acme.com', lineno=932, col_offset=35)), Load(), lineno=932, col_offset=24), Index(Str('/', lineno=932, col_offset=51)), Load(), lineno=932, col_offset=24), Index(Str('foo1', lineno=932, col_offset=56)), Load(), lineno=932, col_offset=24), 'secure', Load(), lineno=932, col_offset=24), lineno=932, col_offset=20), Str('non-secure cookie registered secure', lineno=933, col_offset=20)], [], None, None, lineno=931, col_offset=16), lineno=931, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=934, col_offset=16), 'assertTrue', Load(), lineno=934, col_offset=16), [Attribute(Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=935, col_offset=20), '_cookies', Load(), lineno=935, col_offset=20), Index(Str('www.acme.com', lineno=935, col_offset=31)), Load(), lineno=935, col_offset=20), Index(Str('/', lineno=935, col_offset=47)), Load(), lineno=935, col_offset=20), Index(Str('foo2', lineno=935, col_offset=52)), Load(), lineno=935, col_offset=20), 'secure', Load(), lineno=935, col_offset=20), Str('secure cookie registered non-secure', lineno=936, col_offset=20)], [], None, None, lineno=934, col_offset=16), lineno=934, col_offset=16)], [], lineno=917, col_offset=12)], [], lineno=916, col_offset=8)], [], lineno=913, col_offset=4), FunctionDef('test_quote_cookie_value', arguments([Name('self', Param(), lineno=938, col_offset=32)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=939, col_offset=8), Assign([Name('c', Store(), lineno=940, col_offset=8)], Call(Name('CookieJar', Load(), lineno=940, col_offset=12), [], [keyword('policy', Call(Name('DefaultCookiePolicy', Load(), lineno=940, col_offset=29), [], [keyword('rfc2965', Name('True', Load(), lineno=940, col_offset=57))], None, None, lineno=940, col_offset=29))], None, None, lineno=940, col_offset=12), lineno=940, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=941, col_offset=8), [Name('c', Load(), lineno=941, col_offset=22), Str('http://www.acme.com/', lineno=941, col_offset=25), Str('foo=\\b"a"r; Version=1', lineno=941, col_offset=49)], [], None, None, lineno=941, col_offset=8), lineno=941, col_offset=8), Assign([Name('h', Store(), lineno=942, col_offset=8)], Call(Name('interact_2965', Load(), lineno=942, col_offset=12), [Name('c', Load(), lineno=942, col_offset=26), Str('http://www.acme.com/', lineno=942, col_offset=29)], [], None, None, lineno=942, col_offset=12), lineno=942, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=943, col_offset=8), 'assertEqual', Load(), lineno=943, col_offset=8), [Name('h', Load(), lineno=943, col_offset=25), Str('$Version=1; foo=\\\\b\\"a\\"r', lineno=943, col_offset=28)], [], None, None, lineno=943, col_offset=8), lineno=943, col_offset=8)], [], lineno=938, col_offset=4), FunctionDef('test_missing_final_slash', arguments([Name('self', Param(), lineno=945, col_offset=33)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=947, col_offset=8), ImportFrom('urllib2', [alias('Request', None)], 0, lineno=948, col_offset=8), Assign([Name('url', Store(), lineno=949, col_offset=8)], Str('http://www.acme.com', lineno=949, col_offset=14), lineno=949, col_offset=8), Assign([Name('c', Store(), lineno=950, col_offset=8)], Call(Name('CookieJar', Load(), lineno=950, col_offset=12), [Call(Name('DefaultCookiePolicy', Load(), lineno=950, col_offset=22), [], [keyword('rfc2965', Name('True', Load(), lineno=950, col_offset=50))], None, None, lineno=950, col_offset=22)], [], None, None, lineno=950, col_offset=12), lineno=950, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=951, col_offset=8), [Name('c', Load(), lineno=951, col_offset=22), Name('url', Load(), lineno=951, col_offset=25), Str('foo=bar; Version=1', lineno=951, col_offset=30)], [], None, None, lineno=951, col_offset=8), lineno=951, col_offset=8), Assign([Name('req', Store(), lineno=952, col_offset=8)], Call(Name('Request', Load(), lineno=952, col_offset=14), [Name('url', Load(), lineno=952, col_offset=22)], [], None, None, lineno=952, col_offset=14), lineno=952, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=953, col_offset=8), 'assertEqual', Load(), lineno=953, col_offset=8), [Call(Name('len', Load(), lineno=953, col_offset=25), [Name('c', Load(), lineno=953, col_offset=29)], [], None, None, lineno=953, col_offset=25), Num(1, lineno=953, col_offset=33)], [], None, None, lineno=953, col_offset=8), lineno=953, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=954, col_offset=8), 'add_cookie_header', Load(), lineno=954, col_offset=8), [Name('req', Load(), lineno=954, col_offset=28)], [], None, None, lineno=954, col_offset=8), lineno=954, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=955, col_offset=8), 'assertTrue', Load(), lineno=955, col_offset=8), [Call(Attribute(Name('req', Load(), lineno=955, col_offset=24), 'has_header', Load(), lineno=955, col_offset=24), [Str('Cookie', lineno=955, col_offset=39)], [], None, None, lineno=955, col_offset=24)], [], None, None, lineno=955, col_offset=8), lineno=955, col_offset=8)], [], lineno=945, col_offset=4), FunctionDef('test_domain_mirror', arguments([Name('self', Param(), lineno=957, col_offset=27)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=958, col_offset=8), Assign([Name('pol', Store(), lineno=960, col_offset=8)], Call(Name('DefaultCookiePolicy', Load(), lineno=960, col_offset=14), [], [keyword('rfc2965', Name('True', Load(), lineno=960, col_offset=42))], None, None, lineno=960, col_offset=14), lineno=960, col_offset=8), Assign([Name('c', Store(), lineno=962, col_offset=8)], Call(Name('CookieJar', Load(), lineno=962, col_offset=12), [Name('pol', Load(), lineno=962, col_offset=22)], [], None, None, lineno=962, col_offset=12), lineno=962, col_offset=8), Assign([Name('url', Store(), lineno=963, col_offset=8)], Str('http://foo.bar.com/', lineno=963, col_offset=14), lineno=963, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=964, col_offset=8), [Name('c', Load(), lineno=964, col_offset=22), Name('url', Load(), lineno=964, col_offset=25), Str('spam=eggs; Version=1', lineno=964, col_offset=30)], [], None, None, lineno=964, col_offset=8), lineno=964, col_offset=8), Assign([Name('h', Store(), lineno=965, col_offset=8)], Call(Name('interact_2965', Load(), lineno=965, col_offset=12), [Name('c', Load(), lineno=965, col_offset=26), Name('url', Load(), lineno=965, col_offset=29)], [], None, None, lineno=965, col_offset=12), lineno=965, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=966, col_offset=8), 'assertNotIn', Load(), lineno=966, col_offset=8), [Str('Domain', lineno=966, col_offset=25), Name('h', Load(), lineno=966, col_offset=35), Str('absent domain returned with domain present', lineno=967, col_offset=25)], [], None, None, lineno=966, col_offset=8), lineno=966, col_offset=8), Assign([Name('c', Store(), lineno=969, col_offset=8)], Call(Name('CookieJar', Load(), lineno=969, col_offset=12), [Name('pol', Load(), lineno=969, col_offset=22)], [], None, None, lineno=969, col_offset=12), lineno=969, col_offset=8), Assign([Name('url', Store(), lineno=970, col_offset=8)], Str('http://foo.bar.com/', lineno=970, col_offset=14), lineno=970, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=971, col_offset=8), [Name('c', Load(), lineno=971, col_offset=22), Name('url', Load(), lineno=971, col_offset=25), Str('spam=eggs; Version=1; Domain=.bar.com', lineno=971, col_offset=30)], [], None, None, lineno=971, col_offset=8), lineno=971, col_offset=8), Assign([Name('h', Store(), lineno=972, col_offset=8)], Call(Name('interact_2965', Load(), lineno=972, col_offset=12), [Name('c', Load(), lineno=972, col_offset=26), Name('url', Load(), lineno=972, col_offset=29)], [], None, None, lineno=972, col_offset=12), lineno=972, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=973, col_offset=8), 'assertIn', Load(), lineno=973, col_offset=8), [Str('$Domain=".bar.com"', lineno=973, col_offset=22), Name('h', Load(), lineno=973, col_offset=44), Str('domain not returned', lineno=973, col_offset=47)], [], None, None, lineno=973, col_offset=8), lineno=973, col_offset=8), Assign([Name('c', Store(), lineno=975, col_offset=8)], Call(Name('CookieJar', Load(), lineno=975, col_offset=12), [Name('pol', Load(), lineno=975, col_offset=22)], [], None, None, lineno=975, col_offset=12), lineno=975, col_offset=8), Assign([Name('url', Store(), lineno=976, col_offset=8)], Str('http://foo.bar.com/', lineno=976, col_offset=14), lineno=976, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=978, col_offset=8), [Name('c', Load(), lineno=978, col_offset=22), Name('url', Load(), lineno=978, col_offset=25), Str('spam=eggs; Version=1; Domain=bar.com', lineno=978, col_offset=30)], [], None, None, lineno=978, col_offset=8), lineno=978, col_offset=8), Assign([Name('h', Store(), lineno=979, col_offset=8)], Call(Name('interact_2965', Load(), lineno=979, col_offset=12), [Name('c', Load(), lineno=979, col_offset=26), Name('url', Load(), lineno=979, col_offset=29)], [], None, None, lineno=979, col_offset=12), lineno=979, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=980, col_offset=8), 'assertIn', Load(), lineno=980, col_offset=8), [Str('$Domain="bar.com"', lineno=980, col_offset=22), Name('h', Load(), lineno=980, col_offset=43), Str('domain not returned', lineno=980, col_offset=46)], [], None, None, lineno=980, col_offset=8), lineno=980, col_offset=8)], [], lineno=957, col_offset=4), FunctionDef('test_path_mirror', arguments([Name('self', Param(), lineno=982, col_offset=25)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=983, col_offset=8), Assign([Name('pol', Store(), lineno=985, col_offset=8)], Call(Name('DefaultCookiePolicy', Load(), lineno=985, col_offset=14), [], [keyword('rfc2965', Name('True', Load(), lineno=985, col_offset=42))], None, None, lineno=985, col_offset=14), lineno=985, col_offset=8), Assign([Name('c', Store(), lineno=987, col_offset=8)], Call(Name('CookieJar', Load(), lineno=987, col_offset=12), [Name('pol', Load(), lineno=987, col_offset=22)], [], None, None, lineno=987, col_offset=12), lineno=987, col_offset=8), Assign([Name('url', Store(), lineno=988, col_offset=8)], Str('http://foo.bar.com/', lineno=988, col_offset=14), lineno=988, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=989, col_offset=8), [Name('c', Load(), lineno=989, col_offset=22), Name('url', Load(), lineno=989, col_offset=25), Str('spam=eggs; Version=1', lineno=989, col_offset=30)], [], None, None, lineno=989, col_offset=8), lineno=989, col_offset=8), Assign([Name('h', Store(), lineno=990, col_offset=8)], Call(Name('interact_2965', Load(), lineno=990, col_offset=12), [Name('c', Load(), lineno=990, col_offset=26), Name('url', Load(), lineno=990, col_offset=29)], [], None, None, lineno=990, col_offset=12), lineno=990, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=991, col_offset=8), 'assertNotIn', Load(), lineno=991, col_offset=8), [Str('Path', lineno=991, col_offset=25), Name('h', Load(), lineno=991, col_offset=33), Str('absent path returned with path present', lineno=991, col_offset=36)], [], None, None, lineno=991, col_offset=8), lineno=991, col_offset=8), Assign([Name('c', Store(), lineno=993, col_offset=8)], Call(Name('CookieJar', Load(), lineno=993, col_offset=12), [Name('pol', Load(), lineno=993, col_offset=22)], [], None, None, lineno=993, col_offset=12), lineno=993, col_offset=8), Assign([Name('url', Store(), lineno=994, col_offset=8)], Str('http://foo.bar.com/', lineno=994, col_offset=14), lineno=994, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=995, col_offset=8), [Name('c', Load(), lineno=995, col_offset=22), Name('url', Load(), lineno=995, col_offset=25), Str('spam=eggs; Version=1; Path=/', lineno=995, col_offset=30)], [], None, None, lineno=995, col_offset=8), lineno=995, col_offset=8), Assign([Name('h', Store(), lineno=996, col_offset=8)], Call(Name('interact_2965', Load(), lineno=996, col_offset=12), [Name('c', Load(), lineno=996, col_offset=26), Name('url', Load(), lineno=996, col_offset=29)], [], None, None, lineno=996, col_offset=12), lineno=996, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=997, col_offset=8), 'assertIn', Load(), lineno=997, col_offset=8), [Str('$Path="/"', lineno=997, col_offset=22), Name('h', Load(), lineno=997, col_offset=35), Str('path not returned', lineno=997, col_offset=38)], [], None, None, lineno=997, col_offset=8), lineno=997, col_offset=8)], [], lineno=982, col_offset=4), FunctionDef('test_port_mirror', arguments([Name('self', Param(), lineno=999, col_offset=25)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=1000, col_offset=8), Assign([Name('pol', Store(), lineno=1002, col_offset=8)], Call(Name('DefaultCookiePolicy', Load(), lineno=1002, col_offset=14), [], [keyword('rfc2965', Name('True', Load(), lineno=1002, col_offset=42))], None, None, lineno=1002, col_offset=14), lineno=1002, col_offset=8), Assign([Name('c', Store(), lineno=1004, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1004, col_offset=12), [Name('pol', Load(), lineno=1004, col_offset=22)], [], None, None, lineno=1004, col_offset=12), lineno=1004, col_offset=8), Assign([Name('url', Store(), lineno=1005, col_offset=8)], Str('http://foo.bar.com/', lineno=1005, col_offset=14), lineno=1005, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1006, col_offset=8), [Name('c', Load(), lineno=1006, col_offset=22), Name('url', Load(), lineno=1006, col_offset=25), Str('spam=eggs; Version=1', lineno=1006, col_offset=30)], [], None, None, lineno=1006, col_offset=8), lineno=1006, col_offset=8), Assign([Name('h', Store(), lineno=1007, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1007, col_offset=12), [Name('c', Load(), lineno=1007, col_offset=26), Name('url', Load(), lineno=1007, col_offset=29)], [], None, None, lineno=1007, col_offset=12), lineno=1007, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1008, col_offset=8), 'assertNotIn', Load(), lineno=1008, col_offset=8), [Str('Port', lineno=1008, col_offset=25), Name('h', Load(), lineno=1008, col_offset=33), Str('absent port returned with port present', lineno=1008, col_offset=36)], [], None, None, lineno=1008, col_offset=8), lineno=1008, col_offset=8), Assign([Name('c', Store(), lineno=1010, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1010, col_offset=12), [Name('pol', Load(), lineno=1010, col_offset=22)], [], None, None, lineno=1010, col_offset=12), lineno=1010, col_offset=8), Assign([Name('url', Store(), lineno=1011, col_offset=8)], Str('http://foo.bar.com/', lineno=1011, col_offset=14), lineno=1011, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1012, col_offset=8), [Name('c', Load(), lineno=1012, col_offset=22), Name('url', Load(), lineno=1012, col_offset=25), Str('spam=eggs; Version=1; Port', lineno=1012, col_offset=30)], [], None, None, lineno=1012, col_offset=8), lineno=1012, col_offset=8), Assign([Name('h', Store(), lineno=1013, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1013, col_offset=12), [Name('c', Load(), lineno=1013, col_offset=26), Name('url', Load(), lineno=1013, col_offset=29)], [], None, None, lineno=1013, col_offset=12), lineno=1013, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1014, col_offset=8), 'assertTrue', Load(), lineno=1014, col_offset=8), [Call(Attribute(Name('re', Load(), lineno=1014, col_offset=24), 'search', Load(), lineno=1014, col_offset=24), [Str('\\$Port([^=]|$)', lineno=1014, col_offset=34), Name('h', Load(), lineno=1014, col_offset=52)], [], None, None, lineno=1014, col_offset=24), Str('port with no value not returned with no value', lineno=1015, col_offset=21)], [], None, None, lineno=1014, col_offset=8), lineno=1014, col_offset=8), Assign([Name('c', Store(), lineno=1017, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1017, col_offset=12), [Name('pol', Load(), lineno=1017, col_offset=22)], [], None, None, lineno=1017, col_offset=12), lineno=1017, col_offset=8), Assign([Name('url', Store(), lineno=1018, col_offset=8)], Str('http://foo.bar.com/', lineno=1018, col_offset=14), lineno=1018, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1019, col_offset=8), [Name('c', Load(), lineno=1019, col_offset=22), Name('url', Load(), lineno=1019, col_offset=25), Str('spam=eggs; Version=1; Port="80"', lineno=1019, col_offset=30)], [], None, None, lineno=1019, col_offset=8), lineno=1019, col_offset=8), Assign([Name('h', Store(), lineno=1020, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1020, col_offset=12), [Name('c', Load(), lineno=1020, col_offset=26), Name('url', Load(), lineno=1020, col_offset=29)], [], None, None, lineno=1020, col_offset=12), lineno=1020, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1021, col_offset=8), 'assertIn', Load(), lineno=1021, col_offset=8), [Str('$Port="80"', lineno=1021, col_offset=22), Name('h', Load(), lineno=1021, col_offset=36), Str('port with single value not returned with single value', lineno=1022, col_offset=22)], [], None, None, lineno=1021, col_offset=8), lineno=1021, col_offset=8), Assign([Name('c', Store(), lineno=1024, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1024, col_offset=12), [Name('pol', Load(), lineno=1024, col_offset=22)], [], None, None, lineno=1024, col_offset=12), lineno=1024, col_offset=8), Assign([Name('url', Store(), lineno=1025, col_offset=8)], Str('http://foo.bar.com/', lineno=1025, col_offset=14), lineno=1025, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1026, col_offset=8), [Name('c', Load(), lineno=1026, col_offset=22), Name('url', Load(), lineno=1026, col_offset=25), Str('spam=eggs; Version=1; Port="80,8080"', lineno=1026, col_offset=30)], [], None, None, lineno=1026, col_offset=8), lineno=1026, col_offset=8), Assign([Name('h', Store(), lineno=1027, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1027, col_offset=12), [Name('c', Load(), lineno=1027, col_offset=26), Name('url', Load(), lineno=1027, col_offset=29)], [], None, None, lineno=1027, col_offset=12), lineno=1027, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1028, col_offset=8), 'assertIn', Load(), lineno=1028, col_offset=8), [Str('$Port="80,8080"', lineno=1028, col_offset=22), Name('h', Load(), lineno=1028, col_offset=41), Str('port with multiple values not returned with multiple values', lineno=1029, col_offset=22)], [], None, None, lineno=1028, col_offset=8), lineno=1028, col_offset=8)], [], lineno=999, col_offset=4), FunctionDef('test_no_return_comment', arguments([Name('self', Param(), lineno=1032, col_offset=31)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=1033, col_offset=8), Assign([Name('c', Store(), lineno=1035, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1035, col_offset=12), [Call(Name('DefaultCookiePolicy', Load(), lineno=1035, col_offset=22), [], [keyword('rfc2965', Name('True', Load(), lineno=1035, col_offset=50))], None, None, lineno=1035, col_offset=22)], [], None, None, lineno=1035, col_offset=12), lineno=1035, col_offset=8), Assign([Name('url', Store(), lineno=1036, col_offset=8)], Str('http://foo.bar.com/', lineno=1036, col_offset=14), lineno=1036, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1037, col_offset=8), [Name('c', Load(), lineno=1037, col_offset=22), Name('url', Load(), lineno=1037, col_offset=25), Str('spam=eggs; Version=1; Comment="does anybody read these?"; CommentURL="http://foo.bar.net/comment.html"', lineno=1037, col_offset=30)], [], None, None, lineno=1037, col_offset=8), lineno=1037, col_offset=8), Assign([Name('h', Store(), lineno=1040, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1040, col_offset=12), [Name('c', Load(), lineno=1040, col_offset=26), Name('url', Load(), lineno=1040, col_offset=29)], [], None, None, lineno=1040, col_offset=12), lineno=1040, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1041, col_offset=8), 'assertTrue', Load(), lineno=1041, col_offset=8), [Compare(Str('Comment', lineno=1042, col_offset=12), [NotIn()], [Name('h', Load(), lineno=1042, col_offset=29)], lineno=1042, col_offset=12), Str('Comment or CommentURL cookie-attributes returned to server', lineno=1043, col_offset=12)], [], None, None, lineno=1041, col_offset=8), lineno=1041, col_offset=8)], [], lineno=1032, col_offset=4), FunctionDef('test_Cookie_iterator', arguments([Name('self', Param(), lineno=1045, col_offset=29)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('Cookie', None), alias('DefaultCookiePolicy', None)], 0, lineno=1046, col_offset=8), Assign([Name('cs', Store(), lineno=1048, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1048, col_offset=13), [Call(Name('DefaultCookiePolicy', Load(), lineno=1048, col_offset=23), [], [keyword('rfc2965', Name('True', Load(), lineno=1048, col_offset=51))], None, None, lineno=1048, col_offset=23)], [], None, None, lineno=1048, col_offset=13), lineno=1048, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1050, col_offset=8), [Name('cs', Load(), lineno=1050, col_offset=22), Str('http://blah.spam.org/', lineno=1050, col_offset=26), Str('foo=eggs; Version=1; Comment="does anybody read these?"; CommentURL="http://foo.bar.net/comment.html"', lineno=1050, col_offset=51)], [], None, None, lineno=1050, col_offset=8), lineno=1050, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=1053, col_offset=8), [Name('cs', Load(), lineno=1053, col_offset=26), Str('http://www.acme.com/blah/', lineno=1053, col_offset=30), Str('spam=bar; secure', lineno=1053, col_offset=59)], [], None, None, lineno=1053, col_offset=8), lineno=1053, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1054, col_offset=8), [Name('cs', Load(), lineno=1054, col_offset=22), Str('http://www.acme.com/blah/', lineno=1054, col_offset=26), Str('foo=bar; secure; Version=1', lineno=1055, col_offset=22)], [], None, None, lineno=1054, col_offset=8), lineno=1054, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1056, col_offset=8), [Name('cs', Load(), lineno=1056, col_offset=22), Str('http://www.acme.com/blah/', lineno=1056, col_offset=26), Str('foo=bar; path=/; Version=1', lineno=1057, col_offset=22)], [], None, None, lineno=1056, col_offset=8), lineno=1056, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1058, col_offset=8), [Name('cs', Load(), lineno=1058, col_offset=22), Str('http://www.sol.no', lineno=1058, col_offset=26), Str('bang=wallop; version=1; domain=".sol.no"; port="90,100, 80,8080"; max-age=100; Comment = "Just kidding! (\\"|\\\\\\\\) "', lineno=1059, col_offset=22)], [], None, None, lineno=1058, col_offset=8), lineno=1058, col_offset=8), Assign([Name('versions', Store(), lineno=1063, col_offset=8)], List([Num(1, lineno=1063, col_offset=20), Num(1, lineno=1063, col_offset=23), Num(1, lineno=1063, col_offset=26), Num(0, lineno=1063, col_offset=29), Num(1, lineno=1063, col_offset=32)], Load(), lineno=1063, col_offset=19), lineno=1063, col_offset=8), Assign([Name('names', Store(), lineno=1064, col_offset=8)], List([Str('bang', lineno=1064, col_offset=17), Str('foo', lineno=1064, col_offset=25), Str('foo', lineno=1064, col_offset=32), Str('spam', lineno=1064, col_offset=39), Str('foo', lineno=1064, col_offset=47)], Load(), lineno=1064, col_offset=16), lineno=1064, col_offset=8), Assign([Name('domains', Store(), lineno=1065, col_offset=8)], List([Str('.sol.no', lineno=1065, col_offset=19), Str('blah.spam.org', lineno=1065, col_offset=30), Str('www.acme.com', lineno=1065, col_offset=47), Str('www.acme.com', lineno=1066, col_offset=19), Str('www.acme.com', lineno=1066, col_offset=35)], Load(), lineno=1065, col_offset=18), lineno=1065, col_offset=8), Assign([Name('paths', Store(), lineno=1067, col_offset=8)], List([Str('/', lineno=1067, col_offset=17), Str('/', lineno=1067, col_offset=22), Str('/', lineno=1067, col_offset=27), Str('/blah', lineno=1067, col_offset=32), Str('/blah/', lineno=1067, col_offset=41)], Load(), lineno=1067, col_offset=16), lineno=1067, col_offset=8), For(Name('i', Store(), lineno=1069, col_offset=12), Call(Name('range', Load(), lineno=1069, col_offset=17), [Num(4, lineno=1069, col_offset=23)], [], None, None, lineno=1069, col_offset=17), [Assign([Name('i', Store(), lineno=1070, col_offset=12)], Num(0, lineno=1070, col_offset=16), lineno=1070, col_offset=12), For(Name('c', Store(), lineno=1071, col_offset=16), Name('cs', Load(), lineno=1071, col_offset=21), [Expr(Call(Attribute(Name('self', Load(), lineno=1072, col_offset=16), 'assertIsInstance', Load(), lineno=1072, col_offset=16), [Name('c', Load(), lineno=1072, col_offset=38), Name('Cookie', Load(), lineno=1072, col_offset=41)], [], None, None, lineno=1072, col_offset=16), lineno=1072, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=1073, col_offset=16), 'assertEqual', Load(), lineno=1073, col_offset=16), [Attribute(Name('c', Load(), lineno=1073, col_offset=33), 'version', Load(), lineno=1073, col_offset=33), Subscript(Name('versions', Load(), lineno=1073, col_offset=44), Index(Name('i', Load(), lineno=1073, col_offset=53)), Load(), lineno=1073, col_offset=44)], [], None, None, lineno=1073, col_offset=16), lineno=1073, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=1074, col_offset=16), 'assertEqual', Load(), lineno=1074, col_offset=16), [Attribute(Name('c', Load(), lineno=1074, col_offset=33), 'name', Load(), lineno=1074, col_offset=33), Subscript(Name('names', Load(), lineno=1074, col_offset=41), Index(Name('i', Load(), lineno=1074, col_offset=47)), Load(), lineno=1074, col_offset=41)], [], None, None, lineno=1074, col_offset=16), lineno=1074, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=1075, col_offset=16), 'assertEqual', Load(), lineno=1075, col_offset=16), [Attribute(Name('c', Load(), lineno=1075, col_offset=33), 'domain', Load(), lineno=1075, col_offset=33), Subscript(Name('domains', Load(), lineno=1075, col_offset=43), Index(Name('i', Load(), lineno=1075, col_offset=51)), Load(), lineno=1075, col_offset=43)], [], None, None, lineno=1075, col_offset=16), lineno=1075, col_offset=16), Expr(Call(Attribute(Name('self', Load(), lineno=1076, col_offset=16), 'assertEqual', Load(), lineno=1076, col_offset=16), [Attribute(Name('c', Load(), lineno=1076, col_offset=33), 'path', Load(), lineno=1076, col_offset=33), Subscript(Name('paths', Load(), lineno=1076, col_offset=41), Index(Name('i', Load(), lineno=1076, col_offset=47)), Load(), lineno=1076, col_offset=41)], [], None, None, lineno=1076, col_offset=16), lineno=1076, col_offset=16), Assign([Name('i', Store(), lineno=1077, col_offset=16)], BinOp(Name('i', Load(), lineno=1077, col_offset=20), Add(), Num(1, lineno=1077, col_offset=24), lineno=1077, col_offset=20), lineno=1077, col_offset=16)], [], lineno=1071, col_offset=12)], [], lineno=1069, col_offset=8)], [], lineno=1045, col_offset=4), FunctionDef('test_parse_ns_headers', arguments([Name('self', Param(), lineno=1079, col_offset=30)], None, None, []), [ImportFrom('cookielib', [alias('parse_ns_headers', None)], 0, lineno=1080, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1083, col_offset=8), 'assertEqual', Load(), lineno=1083, col_offset=8), [Call(Name('parse_ns_headers', Load(), lineno=1084, col_offset=12), [List([Str('foo=bar; path=/; domain', lineno=1084, col_offset=30)], Load(), lineno=1084, col_offset=29)], [], None, None, lineno=1084, col_offset=12), List([List([Tuple([Str('foo', lineno=1085, col_offset=15), Str('bar', lineno=1085, col_offset=22)], Load(), lineno=1085, col_offset=15), Tuple([Str('path', lineno=1086, col_offset=15), Str('/', lineno=1086, col_offset=23)], Load(), lineno=1086, col_offset=15), Tuple([Str('domain', lineno=1086, col_offset=30), Name('None', Load(), lineno=1086, col_offset=40)], Load(), lineno=1086, col_offset=30), Tuple([Str('version', lineno=1086, col_offset=48), Str('0', lineno=1086, col_offset=59)], Load(), lineno=1086, col_offset=48)], Load(), lineno=1085, col_offset=13)], Load(), lineno=1085, col_offset=12)], [], None, None, lineno=1083, col_offset=8), lineno=1083, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1089, col_offset=8), 'assertEqual', Load(), lineno=1089, col_offset=8), [Call(Name('parse_ns_headers', Load(), lineno=1090, col_offset=12), [List([Str('foo=bar; expires=Foo Bar 12 33:22:11 2000', lineno=1090, col_offset=30)], Load(), lineno=1090, col_offset=29)], [], None, None, lineno=1090, col_offset=12), List([List([Tuple([Str('foo', lineno=1091, col_offset=15), Str('bar', lineno=1091, col_offset=22)], Load(), lineno=1091, col_offset=15), Tuple([Str('expires', lineno=1091, col_offset=31), Name('None', Load(), lineno=1091, col_offset=42)], Load(), lineno=1091, col_offset=31), Tuple([Str('version', lineno=1091, col_offset=50), Str('0', lineno=1091, col_offset=61)], Load(), lineno=1091, col_offset=50)], Load(), lineno=1091, col_offset=13)], Load(), lineno=1091, col_offset=12)], [], None, None, lineno=1089, col_offset=8), lineno=1089, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1094, col_offset=8), 'assertEqual', Load(), lineno=1094, col_offset=8), [Call(Name('parse_ns_headers', Load(), lineno=1095, col_offset=12), [List([Str('foo', lineno=1095, col_offset=30)], Load(), lineno=1095, col_offset=29)], [], None, None, lineno=1095, col_offset=12), List([List([Tuple([Str('foo', lineno=1096, col_offset=15), Name('None', Load(), lineno=1096, col_offset=22)], Load(), lineno=1096, col_offset=15), Tuple([Str('version', lineno=1096, col_offset=30), Str('0', lineno=1096, col_offset=41)], Load(), lineno=1096, col_offset=30)], Load(), lineno=1096, col_offset=13)], Load(), lineno=1096, col_offset=12)], [], None, None, lineno=1094, col_offset=8), lineno=1094, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1099, col_offset=8), 'assertEqual', Load(), lineno=1099, col_offset=8), [Call(Name('parse_ns_headers', Load(), lineno=1099, col_offset=25), [List([Str('', lineno=1099, col_offset=43)], Load(), lineno=1099, col_offset=42)], [], None, None, lineno=1099, col_offset=25), List([], Load(), lineno=1099, col_offset=49)], [], None, None, lineno=1099, col_offset=8), lineno=1099, col_offset=8)], [], lineno=1079, col_offset=4), FunctionDef('test_bad_cookie_header', arguments([Name('self', Param(), lineno=1101, col_offset=31)], None, None, []), [FunctionDef('cookiejar_from_cookie_headers', arguments([Name('headers', Param(), lineno=1103, col_offset=42)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None)], 0, lineno=1104, col_offset=12), ImportFrom('urllib2', [alias('Request', None)], 0, lineno=1105, col_offset=12), Assign([Name('c', Store(), lineno=1106, col_offset=12)], Call(Name('CookieJar', Load(), lineno=1106, col_offset=16), [], [], None, None, lineno=1106, col_offset=16), lineno=1106, col_offset=12), Assign([Name('req', Store(), lineno=1107, col_offset=12)], Call(Name('Request', Load(), lineno=1107, col_offset=18), [Str('http://www.example.com/', lineno=1107, col_offset=26)], [], None, None, lineno=1107, col_offset=18), lineno=1107, col_offset=12), Assign([Name('r', Store(), lineno=1108, col_offset=12)], Call(Name('FakeResponse', Load(), lineno=1108, col_offset=16), [Name('headers', Load(), lineno=1108, col_offset=29), Str('http://www.example.com/', lineno=1108, col_offset=38)], [], None, None, lineno=1108, col_offset=16), lineno=1108, col_offset=12), Expr(Call(Attribute(Name('c', Load(), lineno=1109, col_offset=12), 'extract_cookies', Load(), lineno=1109, col_offset=12), [Name('r', Load(), lineno=1109, col_offset=30), Name('req', Load(), lineno=1109, col_offset=33)], [], None, None, lineno=1109, col_offset=12), lineno=1109, col_offset=12), Return(Name('c', Load(), lineno=1110, col_offset=19), lineno=1110, col_offset=12)], [], lineno=1103, col_offset=8), For(Name('headers', Store(), lineno=1113, col_offset=12), List([List([Str('Set-Cookie: ', lineno=1114, col_offset=13)], Load(), lineno=1114, col_offset=12), List([Str('Set-Cookie2: ', lineno=1115, col_offset=13)], Load(), lineno=1115, col_offset=12), List([Str('Set-Cookie2: a=foo; path=/; Version=1; domain', lineno=1117, col_offset=13)], Load(), lineno=1117, col_offset=12), List([Str('Set-Cookie: b=foo; max-age=oops', lineno=1119, col_offset=13)], Load(), lineno=1119, col_offset=12), List([Str('Set-Cookie: b=foo; version=spam', lineno=1121, col_offset=13)], Load(), lineno=1121, col_offset=12)], Load(), lineno=1113, col_offset=23), [Assign([Name('c', Store(), lineno=1123, col_offset=12)], Call(Name('cookiejar_from_cookie_headers', Load(), lineno=1123, col_offset=16), [Name('headers', Load(), lineno=1123, col_offset=46)], [], None, None, lineno=1123, col_offset=16), lineno=1123, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=1125, col_offset=12), 'assertEqual', Load(), lineno=1125, col_offset=12), [Call(Name('len', Load(), lineno=1125, col_offset=29), [Name('c', Load(), lineno=1125, col_offset=33)], [], None, None, lineno=1125, col_offset=29), Num(0, lineno=1125, col_offset=37)], [], None, None, lineno=1125, col_offset=12), lineno=1125, col_offset=12)], [], lineno=1113, col_offset=8), Assign([Name('headers', Store(), lineno=1128, col_offset=8)], List([Str('Set-Cookie: c=foo; expires=Foo Bar 12 33:22:11 2000', lineno=1128, col_offset=19)], Load(), lineno=1128, col_offset=18), lineno=1128, col_offset=8), Assign([Name('c', Store(), lineno=1129, col_offset=8)], Call(Name('cookiejar_from_cookie_headers', Load(), lineno=1129, col_offset=12), [Name('headers', Load(), lineno=1129, col_offset=42)], [], None, None, lineno=1129, col_offset=12), lineno=1129, col_offset=8), Assign([Name('cookie', Store(), lineno=1130, col_offset=8)], Subscript(Subscript(Subscript(Attribute(Name('c', Load(), lineno=1130, col_offset=17), '_cookies', Load(), lineno=1130, col_offset=17), Index(Str('www.example.com', lineno=1130, col_offset=28)), Load(), lineno=1130, col_offset=17), Index(Str('/', lineno=1130, col_offset=47)), Load(), lineno=1130, col_offset=17), Index(Str('c', lineno=1130, col_offset=52)), Load(), lineno=1130, col_offset=17), lineno=1130, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1131, col_offset=8), 'assertTrue', Load(), lineno=1131, col_offset=8), [Compare(Attribute(Name('cookie', Load(), lineno=1131, col_offset=24), 'expires', Load(), lineno=1131, col_offset=24), [Is()], [Name('None', Load(), lineno=1131, col_offset=42)], lineno=1131, col_offset=24)], [], None, None, lineno=1131, col_offset=8), lineno=1131, col_offset=8)], [], lineno=1101, col_offset=4)], [], lineno=294, col_offset=0), ClassDef('LWPCookieTests', [Name('TestCase', Load(), lineno=1134, col_offset=21)], [FunctionDef('test_netscape_example_1', arguments([Name('self', Param(), lineno=1137, col_offset=32)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=1138, col_offset=8), ImportFrom('urllib2', [alias('Request', None)], 0, lineno=1139, col_offset=8), Assign([Name('year_plus_one', Store(), lineno=1177, col_offset=8)], BinOp(Subscript(Call(Attribute(Name('time', Load(), lineno=1177, col_offset=24), 'localtime', Load(), lineno=1177, col_offset=24), [], [], None, None, lineno=1177, col_offset=24), Index(Num(0, lineno=1177, col_offset=41)), Load(), lineno=1177, col_offset=24), Add(), Num(1, lineno=1177, col_offset=46), lineno=1177, col_offset=24), lineno=1177, col_offset=8), Assign([Name('headers', Store(), lineno=1179, col_offset=8)], List([], Load(), lineno=1179, col_offset=18), lineno=1179, col_offset=8), Assign([Name('c', Store(), lineno=1181, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1181, col_offset=12), [Call(Name('DefaultCookiePolicy', Load(), lineno=1181, col_offset=22), [], [keyword('rfc2965', Name('True', Load(), lineno=1181, col_offset=52))], None, None, lineno=1181, col_offset=22)], [], None, None, lineno=1181, col_offset=12), lineno=1181, col_offset=8), Assign([Name('req', Store(), lineno=1185, col_offset=8)], Call(Name('Request', Load(), lineno=1185, col_offset=14), [Str('http://www.acme.com:80/', lineno=1185, col_offset=22)], [keyword('headers', Dict([Str('Host', lineno=1186, col_offset=31)], [Str('www.acme.com:80', lineno=1186, col_offset=39)], lineno=1186, col_offset=30))], None, None, lineno=1185, col_offset=14), lineno=1185, col_offset=8), Expr(Call(Attribute(Name('headers', Load(), lineno=1188, col_offset=8), 'append', Load(), lineno=1188, col_offset=8), [BinOp(Str('Set-Cookie: CUSTOMER=WILE_E_COYOTE; path=/ ; expires=Wednesday, 09-Nov-%d 23:12:40 GMT', lineno=1189, col_offset=12), Mod(), Name('year_plus_one', Load(), lineno=1190, col_offset=58), lineno=1189, col_offset=12)], [], None, None, lineno=1188, col_offset=8), lineno=1188, col_offset=8), Assign([Name('res', Store(), lineno=1191, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=1191, col_offset=14), [Name('headers', Load(), lineno=1191, col_offset=27), Str('http://www.acme.com/', lineno=1191, col_offset=36)], [], None, None, lineno=1191, col_offset=14), lineno=1191, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1192, col_offset=8), 'extract_cookies', Load(), lineno=1192, col_offset=8), [Name('res', Load(), lineno=1192, col_offset=26), Name('req', Load(), lineno=1192, col_offset=31)], [], None, None, lineno=1192, col_offset=8), lineno=1192, col_offset=8), Assign([Name('req', Store(), lineno=1194, col_offset=8)], Call(Name('Request', Load(), lineno=1194, col_offset=14), [Str('http://www.acme.com/', lineno=1194, col_offset=22)], [], None, None, lineno=1194, col_offset=14), lineno=1194, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1195, col_offset=8), 'add_cookie_header', Load(), lineno=1195, col_offset=8), [Name('req', Load(), lineno=1195, col_offset=28)], [], None, None, lineno=1195, col_offset=8), lineno=1195, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1197, col_offset=8), 'assertEqual', Load(), lineno=1197, col_offset=8), [Call(Attribute(Name('req', Load(), lineno=1197, col_offset=25), 'get_header', Load(), lineno=1197, col_offset=25), [Str('Cookie', lineno=1197, col_offset=40)], [], None, None, lineno=1197, col_offset=25), Str('CUSTOMER=WILE_E_COYOTE', lineno=1197, col_offset=51)], [], None, None, lineno=1197, col_offset=8), lineno=1197, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1198, col_offset=8), 'assertEqual', Load(), lineno=1198, col_offset=8), [Call(Attribute(Name('req', Load(), lineno=1198, col_offset=25), 'get_header', Load(), lineno=1198, col_offset=25), [Str('Cookie2', lineno=1198, col_offset=40)], [], None, None, lineno=1198, col_offset=25), Str('$Version="1"', lineno=1198, col_offset=52)], [], None, None, lineno=1198, col_offset=8), lineno=1198, col_offset=8), Expr(Call(Attribute(Name('headers', Load(), lineno=1200, col_offset=8), 'append', Load(), lineno=1200, col_offset=8), [Str('Set-Cookie: PART_NUMBER=ROCKET_LAUNCHER_0001; path=/', lineno=1200, col_offset=23)], [], None, None, lineno=1200, col_offset=8), lineno=1200, col_offset=8), Assign([Name('res', Store(), lineno=1201, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=1201, col_offset=14), [Name('headers', Load(), lineno=1201, col_offset=27), Str('http://www.acme.com/', lineno=1201, col_offset=36)], [], None, None, lineno=1201, col_offset=14), lineno=1201, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1202, col_offset=8), 'extract_cookies', Load(), lineno=1202, col_offset=8), [Name('res', Load(), lineno=1202, col_offset=26), Name('req', Load(), lineno=1202, col_offset=31)], [], None, None, lineno=1202, col_offset=8), lineno=1202, col_offset=8), Assign([Name('req', Store(), lineno=1204, col_offset=8)], Call(Name('Request', Load(), lineno=1204, col_offset=14), [Str('http://www.acme.com/foo/bar', lineno=1204, col_offset=22)], [], None, None, lineno=1204, col_offset=14), lineno=1204, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1205, col_offset=8), 'add_cookie_header', Load(), lineno=1205, col_offset=8), [Name('req', Load(), lineno=1205, col_offset=28)], [], None, None, lineno=1205, col_offset=8), lineno=1205, col_offset=8), Assign([Name('h', Store(), lineno=1207, col_offset=8)], Call(Attribute(Name('req', Load(), lineno=1207, col_offset=12), 'get_header', Load(), lineno=1207, col_offset=12), [Str('Cookie', lineno=1207, col_offset=27)], [], None, None, lineno=1207, col_offset=12), lineno=1207, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1208, col_offset=8), 'assertIn', Load(), lineno=1208, col_offset=8), [Str('PART_NUMBER=ROCKET_LAUNCHER_0001', lineno=1208, col_offset=22), Name('h', Load(), lineno=1208, col_offset=58)], [], None, None, lineno=1208, col_offset=8), lineno=1208, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1209, col_offset=8), 'assertIn', Load(), lineno=1209, col_offset=8), [Str('CUSTOMER=WILE_E_COYOTE', lineno=1209, col_offset=22), Name('h', Load(), lineno=1209, col_offset=48)], [], None, None, lineno=1209, col_offset=8), lineno=1209, col_offset=8), Expr(Call(Attribute(Name('headers', Load(), lineno=1211, col_offset=8), 'append', Load(), lineno=1211, col_offset=8), [Str('Set-Cookie: SHIPPING=FEDEX; path=/foo', lineno=1211, col_offset=23)], [], None, None, lineno=1211, col_offset=8), lineno=1211, col_offset=8), Assign([Name('res', Store(), lineno=1212, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=1212, col_offset=14), [Name('headers', Load(), lineno=1212, col_offset=27), Str('http://www.acme.com', lineno=1212, col_offset=36)], [], None, None, lineno=1212, col_offset=14), lineno=1212, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1213, col_offset=8), 'extract_cookies', Load(), lineno=1213, col_offset=8), [Name('res', Load(), lineno=1213, col_offset=26), Name('req', Load(), lineno=1213, col_offset=31)], [], None, None, lineno=1213, col_offset=8), lineno=1213, col_offset=8), Assign([Name('req', Store(), lineno=1215, col_offset=8)], Call(Name('Request', Load(), lineno=1215, col_offset=14), [Str('http://www.acme.com/', lineno=1215, col_offset=22)], [], None, None, lineno=1215, col_offset=14), lineno=1215, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1216, col_offset=8), 'add_cookie_header', Load(), lineno=1216, col_offset=8), [Name('req', Load(), lineno=1216, col_offset=28)], [], None, None, lineno=1216, col_offset=8), lineno=1216, col_offset=8), Assign([Name('h', Store(), lineno=1218, col_offset=8)], Call(Attribute(Name('req', Load(), lineno=1218, col_offset=12), 'get_header', Load(), lineno=1218, col_offset=12), [Str('Cookie', lineno=1218, col_offset=27)], [], None, None, lineno=1218, col_offset=12), lineno=1218, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1219, col_offset=8), 'assertIn', Load(), lineno=1219, col_offset=8), [Str('PART_NUMBER=ROCKET_LAUNCHER_0001', lineno=1219, col_offset=22), Name('h', Load(), lineno=1219, col_offset=58)], [], None, None, lineno=1219, col_offset=8), lineno=1219, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1220, col_offset=8), 'assertIn', Load(), lineno=1220, col_offset=8), [Str('CUSTOMER=WILE_E_COYOTE', lineno=1220, col_offset=22), Name('h', Load(), lineno=1220, col_offset=48)], [], None, None, lineno=1220, col_offset=8), lineno=1220, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1221, col_offset=8), 'assertNotIn', Load(), lineno=1221, col_offset=8), [Str('SHIPPING=FEDEX', lineno=1221, col_offset=25), Name('h', Load(), lineno=1221, col_offset=43)], [], None, None, lineno=1221, col_offset=8), lineno=1221, col_offset=8), Assign([Name('req', Store(), lineno=1223, col_offset=8)], Call(Name('Request', Load(), lineno=1223, col_offset=14), [Str('http://www.acme.com/foo/', lineno=1223, col_offset=22)], [], None, None, lineno=1223, col_offset=14), lineno=1223, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1224, col_offset=8), 'add_cookie_header', Load(), lineno=1224, col_offset=8), [Name('req', Load(), lineno=1224, col_offset=28)], [], None, None, lineno=1224, col_offset=8), lineno=1224, col_offset=8), Assign([Name('h', Store(), lineno=1226, col_offset=8)], Call(Attribute(Name('req', Load(), lineno=1226, col_offset=12), 'get_header', Load(), lineno=1226, col_offset=12), [Str('Cookie', lineno=1226, col_offset=27)], [], None, None, lineno=1226, col_offset=12), lineno=1226, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1227, col_offset=8), 'assertIn', Load(), lineno=1227, col_offset=8), [Str('PART_NUMBER=ROCKET_LAUNCHER_0001', lineno=1227, col_offset=22), Name('h', Load(), lineno=1227, col_offset=58)], [], None, None, lineno=1227, col_offset=8), lineno=1227, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1228, col_offset=8), 'assertIn', Load(), lineno=1228, col_offset=8), [Str('CUSTOMER=WILE_E_COYOTE', lineno=1228, col_offset=22), Name('h', Load(), lineno=1228, col_offset=48)], [], None, None, lineno=1228, col_offset=8), lineno=1228, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1229, col_offset=8), 'assertTrue', Load(), lineno=1229, col_offset=8), [Call(Attribute(Name('h', Load(), lineno=1229, col_offset=24), 'startswith', Load(), lineno=1229, col_offset=24), [Str('SHIPPING=FEDEX;', lineno=1229, col_offset=37)], [], None, None, lineno=1229, col_offset=24)], [], None, None, lineno=1229, col_offset=8), lineno=1229, col_offset=8)], [], lineno=1137, col_offset=4), FunctionDef('test_netscape_example_2', arguments([Name('self', Param(), lineno=1231, col_offset=32)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None)], 0, lineno=1232, col_offset=8), ImportFrom('urllib2', [alias('Request', None)], 0, lineno=1233, col_offset=8), Assign([Name('c', Store(), lineno=1258, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1258, col_offset=12), [], [], None, None, lineno=1258, col_offset=12), lineno=1258, col_offset=8), Assign([Name('headers', Store(), lineno=1259, col_offset=8)], List([], Load(), lineno=1259, col_offset=18), lineno=1259, col_offset=8), Assign([Name('req', Store(), lineno=1261, col_offset=8)], Call(Name('Request', Load(), lineno=1261, col_offset=14), [Str('http://www.acme.com/', lineno=1261, col_offset=22)], [], None, None, lineno=1261, col_offset=14), lineno=1261, col_offset=8), Expr(Call(Attribute(Name('headers', Load(), lineno=1262, col_offset=8), 'append', Load(), lineno=1262, col_offset=8), [Str('Set-Cookie: PART_NUMBER=ROCKET_LAUNCHER_0001; path=/', lineno=1262, col_offset=23)], [], None, None, lineno=1262, col_offset=8), lineno=1262, col_offset=8), Assign([Name('res', Store(), lineno=1263, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=1263, col_offset=14), [Name('headers', Load(), lineno=1263, col_offset=27), Str('http://www.acme.com/', lineno=1263, col_offset=36)], [], None, None, lineno=1263, col_offset=14), lineno=1263, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1265, col_offset=8), 'extract_cookies', Load(), lineno=1265, col_offset=8), [Name('res', Load(), lineno=1265, col_offset=26), Name('req', Load(), lineno=1265, col_offset=31)], [], None, None, lineno=1265, col_offset=8), lineno=1265, col_offset=8), Assign([Name('req', Store(), lineno=1267, col_offset=8)], Call(Name('Request', Load(), lineno=1267, col_offset=14), [Str('http://www.acme.com/', lineno=1267, col_offset=22)], [], None, None, lineno=1267, col_offset=14), lineno=1267, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1268, col_offset=8), 'add_cookie_header', Load(), lineno=1268, col_offset=8), [Name('req', Load(), lineno=1268, col_offset=28)], [], None, None, lineno=1268, col_offset=8), lineno=1268, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1270, col_offset=8), 'assertEqual', Load(), lineno=1270, col_offset=8), [Call(Attribute(Name('req', Load(), lineno=1270, col_offset=25), 'get_header', Load(), lineno=1270, col_offset=25), [Str('Cookie', lineno=1270, col_offset=40)], [], None, None, lineno=1270, col_offset=25), Str('PART_NUMBER=ROCKET_LAUNCHER_0001', lineno=1271, col_offset=26)], [], None, None, lineno=1270, col_offset=8), lineno=1270, col_offset=8), Expr(Call(Attribute(Name('headers', Load(), lineno=1273, col_offset=8), 'append', Load(), lineno=1273, col_offset=8), [Str('Set-Cookie: PART_NUMBER=RIDING_ROCKET_0023; path=/ammo', lineno=1274, col_offset=12)], [], None, None, lineno=1273, col_offset=8), lineno=1273, col_offset=8), Assign([Name('res', Store(), lineno=1275, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=1275, col_offset=14), [Name('headers', Load(), lineno=1275, col_offset=27), Str('http://www.acme.com/', lineno=1275, col_offset=36)], [], None, None, lineno=1275, col_offset=14), lineno=1275, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1276, col_offset=8), 'extract_cookies', Load(), lineno=1276, col_offset=8), [Name('res', Load(), lineno=1276, col_offset=26), Name('req', Load(), lineno=1276, col_offset=31)], [], None, None, lineno=1276, col_offset=8), lineno=1276, col_offset=8), Assign([Name('req', Store(), lineno=1278, col_offset=8)], Call(Name('Request', Load(), lineno=1278, col_offset=14), [Str('http://www.acme.com/ammo', lineno=1278, col_offset=22)], [], None, None, lineno=1278, col_offset=14), lineno=1278, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1279, col_offset=8), 'add_cookie_header', Load(), lineno=1279, col_offset=8), [Name('req', Load(), lineno=1279, col_offset=28)], [], None, None, lineno=1279, col_offset=8), lineno=1279, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1281, col_offset=8), 'assertTrue', Load(), lineno=1281, col_offset=8), [Call(Attribute(Name('re', Load(), lineno=1281, col_offset=24), 'search', Load(), lineno=1281, col_offset=24), [Str('PART_NUMBER=RIDING_ROCKET_0023;\\s*PART_NUMBER=ROCKET_LAUNCHER_0001', lineno=1281, col_offset=34), Call(Attribute(Name('req', Load(), lineno=1283, col_offset=31), 'get_header', Load(), lineno=1283, col_offset=31), [Str('Cookie', lineno=1283, col_offset=46)], [], None, None, lineno=1283, col_offset=31)], [], None, None, lineno=1281, col_offset=24)], [], None, None, lineno=1281, col_offset=8), lineno=1281, col_offset=8)], [], lineno=1231, col_offset=4), FunctionDef('test_ietf_example_1', arguments([Name('self', Param(), lineno=1285, col_offset=28)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=1286, col_offset=8), Assign([Name('c', Store(), lineno=1292, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1292, col_offset=12), [Call(Name('DefaultCookiePolicy', Load(), lineno=1292, col_offset=22), [], [keyword('rfc2965', Name('True', Load(), lineno=1292, col_offset=50))], None, None, lineno=1292, col_offset=22)], [], None, None, lineno=1292, col_offset=12), lineno=1292, col_offset=8), Assign([Name('cookie', Store(), lineno=1314, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1314, col_offset=17), [Name('c', Load(), lineno=1315, col_offset=12), Str('http://www.acme.com/acme/login', lineno=1315, col_offset=15), Str('Customer="WILE_E_COYOTE"; Version="1"; Path="/acme"', lineno=1316, col_offset=12)], [], None, None, lineno=1314, col_offset=17), lineno=1314, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1317, col_offset=8), 'assertTrue', Load(), lineno=1317, col_offset=8), [UnaryOp(Not(), Name('cookie', Load(), lineno=1317, col_offset=28), lineno=1317, col_offset=24)], [], None, None, lineno=1317, col_offset=8), lineno=1317, col_offset=8), Assign([Name('cookie', Store(), lineno=1336, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1336, col_offset=17), [Name('c', Load(), lineno=1336, col_offset=31), Str('http://www.acme.com/acme/pickitem', lineno=1336, col_offset=34), Str('Part_Number="Rocket_Launcher_0001"; Version="1"; Path="/acme"', lineno=1337, col_offset=31)], [], None, None, lineno=1336, col_offset=17), lineno=1336, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1339, col_offset=8), 'assertTrue', Load(), lineno=1339, col_offset=8), [Call(Attribute(Name('re', Load(), lineno=1339, col_offset=24), 'search', Load(), lineno=1339, col_offset=24), [Str('^\\$Version="?1"?; Customer="?WILE_E_COYOTE"?; \\$Path="/acme"$', lineno=1340, col_offset=12), Name('cookie', Load(), lineno=1341, col_offset=12)], [], None, None, lineno=1339, col_offset=24)], [], None, None, lineno=1339, col_offset=8), lineno=1339, col_offset=8), Assign([Name('cookie', Store(), lineno=1361, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1361, col_offset=17), [Name('c', Load(), lineno=1361, col_offset=31), Str('http://www.acme.com/acme/shipping', lineno=1361, col_offset=34), Str('Shipping="FedEx"; Version="1"; Path="/acme"', lineno=1362, col_offset=31)], [], None, None, lineno=1361, col_offset=17), lineno=1361, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1364, col_offset=8), 'assertTrue', Load(), lineno=1364, col_offset=8), [Call(Attribute(Name('re', Load(), lineno=1364, col_offset=24), 'search', Load(), lineno=1364, col_offset=24), [Str('^\\$Version="?1"?;', lineno=1364, col_offset=34), Name('cookie', Load(), lineno=1364, col_offset=56)], [], None, None, lineno=1364, col_offset=24)], [], None, None, lineno=1364, col_offset=8), lineno=1364, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1365, col_offset=8), 'assertTrue', Load(), lineno=1365, col_offset=8), [Call(Attribute(Name('re', Load(), lineno=1365, col_offset=24), 'search', Load(), lineno=1365, col_offset=24), [Str('Part_Number="?Rocket_Launcher_0001"?;\\s*\\$Path="\\/acme"', lineno=1365, col_offset=34), Name('cookie', Load(), lineno=1366, col_offset=53)], [], None, None, lineno=1365, col_offset=24)], [], None, None, lineno=1365, col_offset=8), lineno=1365, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1367, col_offset=8), 'assertTrue', Load(), lineno=1367, col_offset=8), [Call(Attribute(Name('re', Load(), lineno=1367, col_offset=24), 'search', Load(), lineno=1367, col_offset=24), [Str('Customer="?WILE_E_COYOTE"?;\\s*\\$Path="\\/acme"', lineno=1367, col_offset=34), Name('cookie', Load(), lineno=1368, col_offset=31)], [], None, None, lineno=1367, col_offset=24)], [], None, None, lineno=1367, col_offset=8), lineno=1367, col_offset=8), Assign([Name('cookie', Store(), lineno=1388, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1388, col_offset=17), [Name('c', Load(), lineno=1388, col_offset=31), Str('http://www.acme.com/acme/process', lineno=1388, col_offset=34)], [], None, None, lineno=1388, col_offset=17), lineno=1388, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1389, col_offset=8), 'assertTrue', Load(), lineno=1389, col_offset=8), [BoolOp(And(), [Call(Attribute(Name('re', Load(), lineno=1390, col_offset=12), 'search', Load(), lineno=1390, col_offset=12), [Str('Shipping="?FedEx"?;\\s*\\$Path="\\/acme"', lineno=1390, col_offset=22), Name('cookie', Load(), lineno=1390, col_offset=64)], [], None, None, lineno=1390, col_offset=12), Compare(Str('WILE_E_COYOTE', lineno=1391, col_offset=12), [In()], [Name('cookie', Load(), lineno=1391, col_offset=31)], lineno=1391, col_offset=12)], lineno=1390, col_offset=12)], [], None, None, lineno=1389, col_offset=8), lineno=1389, col_offset=8)], [], lineno=1285, col_offset=4), FunctionDef('test_ietf_example_2', arguments([Name('self', Param(), lineno=1400, col_offset=28)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=1401, col_offset=8), Assign([Name('c', Store(), lineno=1409, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1409, col_offset=12), [Call(Name('DefaultCookiePolicy', Load(), lineno=1409, col_offset=22), [], [keyword('rfc2965', Name('True', Load(), lineno=1409, col_offset=50))], None, None, lineno=1409, col_offset=22)], [], None, None, lineno=1409, col_offset=12), lineno=1409, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1422, col_offset=8), [Name('c', Load(), lineno=1423, col_offset=12), Str('http://www.acme.com/acme/ammo/specific', lineno=1423, col_offset=15), Str('Part_Number="Rocket_Launcher_0001"; Version="1"; Path="/acme"', lineno=1424, col_offset=12), Str('Part_Number="Riding_Rocket_0023"; Version="1"; Path="/acme/ammo"', lineno=1425, col_offset=12)], [], None, None, lineno=1422, col_offset=8), lineno=1422, col_offset=8), Assign([Name('cookie', Store(), lineno=1439, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1439, col_offset=17), [Name('c', Load(), lineno=1439, col_offset=31), Str('http://www.acme.com/acme/ammo/...', lineno=1439, col_offset=34)], [], None, None, lineno=1439, col_offset=17), lineno=1439, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1440, col_offset=8), 'assertTrue', Load(), lineno=1440, col_offset=8), [Call(Attribute(Name('re', Load(), lineno=1441, col_offset=12), 'search', Load(), lineno=1441, col_offset=12), [Str('Riding_Rocket_0023.*Rocket_Launcher_0001', lineno=1441, col_offset=22), Name('cookie', Load(), lineno=1441, col_offset=67)], [], None, None, lineno=1441, col_offset=12)], [], None, None, lineno=1440, col_offset=8), lineno=1440, col_offset=8), Assign([Name('cookie', Store(), lineno=1452, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1452, col_offset=17), [Name('c', Load(), lineno=1452, col_offset=31), Str('http://www.acme.com/acme/parts/', lineno=1452, col_offset=34)], [], None, None, lineno=1452, col_offset=17), lineno=1452, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1453, col_offset=8), 'assertIn', Load(), lineno=1453, col_offset=8), [Str('Rocket_Launcher_0001', lineno=1453, col_offset=22), Name('cookie', Load(), lineno=1453, col_offset=46)], [], None, None, lineno=1453, col_offset=8), lineno=1453, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1454, col_offset=8), 'assertNotIn', Load(), lineno=1454, col_offset=8), [Str('Riding_Rocket_0023', lineno=1454, col_offset=25), Name('cookie', Load(), lineno=1454, col_offset=47)], [], None, None, lineno=1454, col_offset=8), lineno=1454, col_offset=8)], [], lineno=1400, col_offset=4), FunctionDef('test_rejection', arguments([Name('self', Param(), lineno=1456, col_offset=23)], None, None, []), [ImportFrom('cookielib', [alias('DefaultCookiePolicy', None), alias('LWPCookieJar', None)], 0, lineno=1458, col_offset=8), Assign([Name('pol', Store(), lineno=1460, col_offset=8)], Call(Name('DefaultCookiePolicy', Load(), lineno=1460, col_offset=14), [], [keyword('rfc2965', Name('True', Load(), lineno=1460, col_offset=42))], None, None, lineno=1460, col_offset=14), lineno=1460, col_offset=8), Assign([Name('c', Store(), lineno=1462, col_offset=8)], Call(Name('LWPCookieJar', Load(), lineno=1462, col_offset=12), [], [keyword('policy', Name('pol', Load(), lineno=1462, col_offset=32))], None, None, lineno=1462, col_offset=12), lineno=1462, col_offset=8), Assign([Name('max_age', Store(), lineno=1464, col_offset=8)], Str('max-age=3600', lineno=1464, col_offset=18), lineno=1464, col_offset=8), Assign([Name('cookie', Store(), lineno=1467, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1467, col_offset=17), [Name('c', Load(), lineno=1467, col_offset=31), Str('http://www.acme.com', lineno=1467, col_offset=34), Str('foo=bar; domain=".com"; version=1', lineno=1468, col_offset=31)], [], None, None, lineno=1467, col_offset=17), lineno=1467, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1469, col_offset=8), 'assertTrue', Load(), lineno=1469, col_offset=8), [UnaryOp(Not(), Name('c', Load(), lineno=1469, col_offset=28), lineno=1469, col_offset=24)], [], None, None, lineno=1469, col_offset=8), lineno=1469, col_offset=8), Assign([Name('cookie', Store(), lineno=1472, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1472, col_offset=17), [Name('c', Load(), lineno=1472, col_offset=31), Str('http://www.acme.com', lineno=1472, col_offset=34), Str('ping=pong; domain="acme.com"; version=1', lineno=1473, col_offset=31)], [], None, None, lineno=1472, col_offset=17), lineno=1472, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1474, col_offset=8), 'assertEqual', Load(), lineno=1474, col_offset=8), [Call(Name('len', Load(), lineno=1474, col_offset=25), [Name('c', Load(), lineno=1474, col_offset=29)], [], None, None, lineno=1474, col_offset=25), Num(1, lineno=1474, col_offset=33)], [], None, None, lineno=1474, col_offset=8), lineno=1474, col_offset=8), Assign([Name('cookie', Store(), lineno=1477, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1477, col_offset=17), [Name('c', Load(), lineno=1477, col_offset=31), Str('http://www.a.acme.com', lineno=1477, col_offset=34), Str('whiz=bang; domain="acme.com"; version=1', lineno=1478, col_offset=31)], [], None, None, lineno=1477, col_offset=17), lineno=1477, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1479, col_offset=8), 'assertEqual', Load(), lineno=1479, col_offset=8), [Call(Name('len', Load(), lineno=1479, col_offset=25), [Name('c', Load(), lineno=1479, col_offset=29)], [], None, None, lineno=1479, col_offset=25), Num(1, lineno=1479, col_offset=33)], [], None, None, lineno=1479, col_offset=8), lineno=1479, col_offset=8), Assign([Name('cookie', Store(), lineno=1482, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1482, col_offset=17), [Name('c', Load(), lineno=1482, col_offset=31), Str('http://www.a.acme.com', lineno=1482, col_offset=34), Str('wow=flutter; domain=".a.acme.com"; version=1', lineno=1483, col_offset=31)], [], None, None, lineno=1482, col_offset=17), lineno=1482, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1484, col_offset=8), 'assertEqual', Load(), lineno=1484, col_offset=8), [Call(Name('len', Load(), lineno=1484, col_offset=25), [Name('c', Load(), lineno=1484, col_offset=29)], [], None, None, lineno=1484, col_offset=25), Num(2, lineno=1484, col_offset=33)], [], None, None, lineno=1484, col_offset=8), lineno=1484, col_offset=8), Assign([Name('cookie', Store(), lineno=1487, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1487, col_offset=17), [Name('c', Load(), lineno=1487, col_offset=31), Str('http://125.125.125.125', lineno=1487, col_offset=34), Str('zzzz=ping; domain="125.125.125"; version=1', lineno=1488, col_offset=31)], [], None, None, lineno=1487, col_offset=17), lineno=1487, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1489, col_offset=8), 'assertEqual', Load(), lineno=1489, col_offset=8), [Call(Name('len', Load(), lineno=1489, col_offset=25), [Name('c', Load(), lineno=1489, col_offset=29)], [], None, None, lineno=1489, col_offset=25), Num(2, lineno=1489, col_offset=33)], [], None, None, lineno=1489, col_offset=8), lineno=1489, col_offset=8), Assign([Name('cookie', Store(), lineno=1492, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1492, col_offset=17), [Name('c', Load(), lineno=1492, col_offset=31), Str('http://www.sol.no', lineno=1492, col_offset=34), Str('blah=rhubarb; domain=".sol.no"; path="/foo"; version=1', lineno=1493, col_offset=31)], [], None, None, lineno=1492, col_offset=17), lineno=1492, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1495, col_offset=8), 'assertEqual', Load(), lineno=1495, col_offset=8), [Call(Name('len', Load(), lineno=1495, col_offset=25), [Name('c', Load(), lineno=1495, col_offset=29)], [], None, None, lineno=1495, col_offset=25), Num(2, lineno=1495, col_offset=33)], [], None, None, lineno=1495, col_offset=8), lineno=1495, col_offset=8), Assign([Name('cookie', Store(), lineno=1498, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1498, col_offset=17), [Name('c', Load(), lineno=1498, col_offset=31), Str('http://www.sol.no/foo/bar', lineno=1498, col_offset=34), Str('bing=bong; domain=".sol.no"; path="/foo"; version=1', lineno=1499, col_offset=31)], [], None, None, lineno=1498, col_offset=17), lineno=1498, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1501, col_offset=8), 'assertEqual', Load(), lineno=1501, col_offset=8), [Call(Name('len', Load(), lineno=1501, col_offset=25), [Name('c', Load(), lineno=1501, col_offset=29)], [], None, None, lineno=1501, col_offset=25), Num(3, lineno=1501, col_offset=33)], [], None, None, lineno=1501, col_offset=8), lineno=1501, col_offset=8), Assign([Name('cookie', Store(), lineno=1504, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1504, col_offset=17), [Name('c', Load(), lineno=1504, col_offset=31), Str('http://www.sol.no', lineno=1504, col_offset=34), Str('whiz=ffft; domain=".sol.no"; port="90,100"; version=1', lineno=1505, col_offset=31)], [], None, None, lineno=1504, col_offset=17), lineno=1504, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1507, col_offset=8), 'assertEqual', Load(), lineno=1507, col_offset=8), [Call(Name('len', Load(), lineno=1507, col_offset=25), [Name('c', Load(), lineno=1507, col_offset=29)], [], None, None, lineno=1507, col_offset=25), Num(3, lineno=1507, col_offset=33)], [], None, None, lineno=1507, col_offset=8), lineno=1507, col_offset=8), Assign([Name('cookie', Store(), lineno=1510, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1510, col_offset=17), [Name('c', Load(), lineno=1511, col_offset=12), Str('http://www.sol.no', lineno=1511, col_offset=15), Str('bang=wallop; version=1; domain=".sol.no"; port="90,100, 80,8080"; max-age=100; Comment = "Just kidding! (\\"|\\\\\\\\) "', lineno=1512, col_offset=12)], [], None, None, lineno=1510, col_offset=17), lineno=1510, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1515, col_offset=8), 'assertEqual', Load(), lineno=1515, col_offset=8), [Call(Name('len', Load(), lineno=1515, col_offset=25), [Name('c', Load(), lineno=1515, col_offset=29)], [], None, None, lineno=1515, col_offset=25), Num(4, lineno=1515, col_offset=33)], [], None, None, lineno=1515, col_offset=8), lineno=1515, col_offset=8), Assign([Name('cookie', Store(), lineno=1518, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1518, col_offset=17), [Name('c', Load(), lineno=1518, col_offset=31), Str('http://www.sol.no', lineno=1518, col_offset=34), Str('foo9=bar; version=1; domain=".sol.no"; port; max-age=100;', lineno=1519, col_offset=31)], [], None, None, lineno=1518, col_offset=17), lineno=1518, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1521, col_offset=8), 'assertEqual', Load(), lineno=1521, col_offset=8), [Call(Name('len', Load(), lineno=1521, col_offset=25), [Name('c', Load(), lineno=1521, col_offset=29)], [], None, None, lineno=1521, col_offset=25), Num(5, lineno=1521, col_offset=33)], [], None, None, lineno=1521, col_offset=8), lineno=1521, col_offset=8), Assign([Name('cookie', Store(), lineno=1530, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1530, col_offset=17), [Name('c', Load(), lineno=1530, col_offset=31), Str('http://www.sol.no/<oo/', lineno=1530, col_offset=34), Str('foo8=bar; version=1; path="/%3coo"', lineno=1531, col_offset=31)], [], None, None, lineno=1530, col_offset=17), lineno=1530, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1532, col_offset=8), 'assertEqual', Load(), lineno=1532, col_offset=8), [Call(Name('len', Load(), lineno=1532, col_offset=25), [Name('c', Load(), lineno=1532, col_offset=29)], [], None, None, lineno=1532, col_offset=25), Num(6, lineno=1532, col_offset=33)], [], None, None, lineno=1532, col_offset=8), lineno=1532, col_offset=8), Assign([Name('filename', Store(), lineno=1535, col_offset=8)], Attribute(Name('test_support', Load(), lineno=1535, col_offset=19), 'TESTFN', Load(), lineno=1535, col_offset=19), lineno=1535, col_offset=8), TryFinally([Expr(Call(Attribute(Name('c', Load(), lineno=1538, col_offset=12), 'save', Load(), lineno=1538, col_offset=12), [Name('filename', Load(), lineno=1538, col_offset=19)], [keyword('ignore_discard', Name('True', Load(), lineno=1538, col_offset=44))], None, None, lineno=1538, col_offset=12), lineno=1538, col_offset=12), Assign([Name('old', Store(), lineno=1539, col_offset=12)], Call(Name('repr', Load(), lineno=1539, col_offset=18), [Name('c', Load(), lineno=1539, col_offset=23)], [], None, None, lineno=1539, col_offset=18), lineno=1539, col_offset=12), Assign([Name('c', Store(), lineno=1541, col_offset=12)], Call(Name('LWPCookieJar', Load(), lineno=1541, col_offset=16), [], [keyword('policy', Name('pol', Load(), lineno=1541, col_offset=36))], None, None, lineno=1541, col_offset=16), lineno=1541, col_offset=12), Expr(Call(Attribute(Name('c', Load(), lineno=1542, col_offset=12), 'load', Load(), lineno=1542, col_offset=12), [Name('filename', Load(), lineno=1542, col_offset=19)], [keyword('ignore_discard', Name('True', Load(), lineno=1542, col_offset=44))], None, None, lineno=1542, col_offset=12), lineno=1542, col_offset=12)], [TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=1544, col_offset=17), 'unlink', Load(), lineno=1544, col_offset=17), [Name('filename', Load(), lineno=1544, col_offset=27)], [], None, None, lineno=1544, col_offset=17), lineno=1544, col_offset=17)], [ExceptHandler(Name('OSError', Load(), lineno=1545, col_offset=19), None, [Pass( lineno=1545, col_offset=28)], lineno=1545, col_offset=12)], [], lineno=1544, col_offset=12)], lineno=1537, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1547, col_offset=8), 'assertEqual', Load(), lineno=1547, col_offset=8), [Name('old', Load(), lineno=1547, col_offset=25), Call(Name('repr', Load(), lineno=1547, col_offset=30), [Name('c', Load(), lineno=1547, col_offset=35)], [], None, None, lineno=1547, col_offset=30)], [], None, None, lineno=1547, col_offset=8), lineno=1547, col_offset=8)], [], lineno=1456, col_offset=4), FunctionDef('test_url_encoding', arguments([Name('self', Param(), lineno=1549, col_offset=26)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=1552, col_offset=8), Assign([Name('c', Store(), lineno=1554, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1554, col_offset=12), [Call(Name('DefaultCookiePolicy', Load(), lineno=1554, col_offset=22), [], [keyword('rfc2965', Name('True', Load(), lineno=1554, col_offset=50))], None, None, lineno=1554, col_offset=22)], [], None, None, lineno=1554, col_offset=12), lineno=1554, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1555, col_offset=8), [Name('c', Load(), lineno=1555, col_offset=22), Str('http://www.acme.com/foo%2f%25/%3c%3c%0Anew%E5/%E5', lineno=1555, col_offset=25), Str('foo  =   bar; version    =   1', lineno=1556, col_offset=22)], [], None, None, lineno=1555, col_offset=8), lineno=1555, col_offset=8), Assign([Name('cookie', Store(), lineno=1558, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1558, col_offset=17), [Name('c', Load(), lineno=1559, col_offset=12), Str('http://www.acme.com/foo%2f%25/<<%0anew\xe5/\xe6\xf8\xe5', lineno=1559, col_offset=15), Str('bar=baz; path="/foo/"; version=1', lineno=1560, col_offset=12)], [], None, None, lineno=1558, col_offset=17), lineno=1558, col_offset=8), Assign([Name('version_re', Store(), lineno=1561, col_offset=8)], Call(Attribute(Name('re', Load(), lineno=1561, col_offset=21), 'compile', Load(), lineno=1561, col_offset=21), [Str('^\\$version=\\"?1\\"?', lineno=1561, col_offset=32), Attribute(Name('re', Load(), lineno=1561, col_offset=55), 'I', Load(), lineno=1561, col_offset=55)], [], None, None, lineno=1561, col_offset=21), lineno=1561, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1562, col_offset=8), 'assertTrue', Load(), lineno=1562, col_offset=8), [BoolOp(And(), [Compare(Str('foo=bar', lineno=1562, col_offset=24), [In()], [Name('cookie', Load(), lineno=1562, col_offset=37)], lineno=1562, col_offset=24), Call(Attribute(Name('version_re', Load(), lineno=1562, col_offset=48), 'search', Load(), lineno=1562, col_offset=48), [Name('cookie', Load(), lineno=1562, col_offset=66)], [], None, None, lineno=1562, col_offset=48)], lineno=1562, col_offset=24)], [], None, None, lineno=1562, col_offset=8), lineno=1562, col_offset=8), Assign([Name('cookie', Store(), lineno=1564, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1564, col_offset=17), [Name('c', Load(), lineno=1565, col_offset=12), Str('http://www.acme.com/foo/%25/<<%0anew\xe5/\xe6\xf8\xe5', lineno=1565, col_offset=15)], [], None, None, lineno=1564, col_offset=17), lineno=1564, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1566, col_offset=8), 'assertTrue', Load(), lineno=1566, col_offset=8), [UnaryOp(Not(), Name('cookie', Load(), lineno=1566, col_offset=28), lineno=1566, col_offset=24)], [], None, None, lineno=1566, col_offset=8), lineno=1566, col_offset=8), Assign([Name('cookie', Store(), lineno=1569, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1569, col_offset=17), [Name('c', Load(), lineno=1569, col_offset=31), Str(u'http://www.acme.com/\xfc', lineno=1569, col_offset=34)], [], None, None, lineno=1569, col_offset=17), lineno=1569, col_offset=8)], [], lineno=1549, col_offset=4), FunctionDef('test_mozilla', arguments([Name('self', Param(), lineno=1571, col_offset=21)], None, None, []), [ImportFrom('cookielib', [alias('MozillaCookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=1573, col_offset=8), Assign([Name('year_plus_one', Store(), lineno=1575, col_offset=8)], BinOp(Subscript(Call(Attribute(Name('time', Load(), lineno=1575, col_offset=24), 'localtime', Load(), lineno=1575, col_offset=24), [], [], None, None, lineno=1575, col_offset=24), Index(Num(0, lineno=1575, col_offset=41)), Load(), lineno=1575, col_offset=24), Add(), Num(1, lineno=1575, col_offset=46), lineno=1575, col_offset=24), lineno=1575, col_offset=8), Assign([Name('filename', Store(), lineno=1577, col_offset=8)], Attribute(Name('test_support', Load(), lineno=1577, col_offset=19), 'TESTFN', Load(), lineno=1577, col_offset=19), lineno=1577, col_offset=8), Assign([Name('c', Store(), lineno=1579, col_offset=8)], Call(Name('MozillaCookieJar', Load(), lineno=1579, col_offset=12), [Name('filename', Load(), lineno=1579, col_offset=29)], [keyword('policy', Call(Name('DefaultCookiePolicy', Load(), lineno=1580, col_offset=36), [], [keyword('rfc2965', Name('True', Load(), lineno=1580, col_offset=64))], None, None, lineno=1580, col_offset=36))], None, None, lineno=1579, col_offset=12), lineno=1579, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1581, col_offset=8), [Name('c', Load(), lineno=1581, col_offset=22), Str('http://www.acme.com/', lineno=1581, col_offset=25), Str('foo1=bar; max-age=100; Version=1', lineno=1582, col_offset=22)], [], None, None, lineno=1581, col_offset=8), lineno=1581, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1583, col_offset=8), [Name('c', Load(), lineno=1583, col_offset=22), Str('http://www.acme.com/', lineno=1583, col_offset=25), Str('foo2=bar; port="80"; max-age=100; Discard; Version=1', lineno=1584, col_offset=22)], [], None, None, lineno=1583, col_offset=8), lineno=1583, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1585, col_offset=8), [Name('c', Load(), lineno=1585, col_offset=22), Str('http://www.acme.com/', lineno=1585, col_offset=25), Str('foo3=bar; secure; Version=1', lineno=1585, col_offset=49)], [], None, None, lineno=1585, col_offset=8), lineno=1585, col_offset=8), Assign([Name('expires', Store(), lineno=1587, col_offset=8)], BinOp(Str('expires=09-Nov-%d 23:12:40 GMT', lineno=1587, col_offset=18), Mod(), Tuple([Name('year_plus_one', Load(), lineno=1587, col_offset=54)], Load(), lineno=1587, col_offset=54), lineno=1587, col_offset=18), lineno=1587, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=1588, col_offset=8), [Name('c', Load(), lineno=1588, col_offset=26), Str('http://www.foo.com/', lineno=1588, col_offset=29), BinOp(Str('fooa=bar; %s', lineno=1589, col_offset=26), Mod(), Name('expires', Load(), lineno=1589, col_offset=43), lineno=1589, col_offset=26)], [], None, None, lineno=1588, col_offset=8), lineno=1588, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=1590, col_offset=8), [Name('c', Load(), lineno=1590, col_offset=26), Str('http://www.foo.com/', lineno=1590, col_offset=29), BinOp(Str('foob=bar; Domain=.foo.com; %s', lineno=1591, col_offset=26), Mod(), Name('expires', Load(), lineno=1591, col_offset=60), lineno=1591, col_offset=26)], [], None, None, lineno=1590, col_offset=8), lineno=1590, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=1592, col_offset=8), [Name('c', Load(), lineno=1592, col_offset=26), Str('http://www.foo.com/', lineno=1592, col_offset=29), BinOp(Str('fooc=bar; Domain=www.foo.com; %s', lineno=1593, col_offset=26), Mod(), Name('expires', Load(), lineno=1593, col_offset=63), lineno=1593, col_offset=26)], [], None, None, lineno=1592, col_offset=8), lineno=1592, col_offset=8), FunctionDef('save_and_restore', arguments([Name('cj', Param(), lineno=1595, col_offset=29), Name('ignore_discard', Param(), lineno=1595, col_offset=33)], None, None, []), [TryFinally([Expr(Call(Attribute(Name('cj', Load(), lineno=1597, col_offset=16), 'save', Load(), lineno=1597, col_offset=16), [], [keyword('ignore_discard', Name('ignore_discard', Load(), lineno=1597, col_offset=39))], None, None, lineno=1597, col_offset=16), lineno=1597, col_offset=16), Assign([Name('new_c', Store(), lineno=1598, col_offset=16)], Call(Name('MozillaCookieJar', Load(), lineno=1598, col_offset=24), [Name('filename', Load(), lineno=1598, col_offset=41), Call(Name('DefaultCookiePolicy', Load(), lineno=1599, col_offset=41), [], [keyword('rfc2965', Name('True', Load(), lineno=1599, col_offset=69))], None, None, lineno=1599, col_offset=41)], [], None, None, lineno=1598, col_offset=24), lineno=1598, col_offset=16), Expr(Call(Attribute(Name('new_c', Load(), lineno=1600, col_offset=16), 'load', Load(), lineno=1600, col_offset=16), [], [keyword('ignore_discard', Name('ignore_discard', Load(), lineno=1600, col_offset=42))], None, None, lineno=1600, col_offset=16), lineno=1600, col_offset=16)], [TryExcept([Expr(Call(Attribute(Name('os', Load(), lineno=1602, col_offset=21), 'unlink', Load(), lineno=1602, col_offset=21), [Name('filename', Load(), lineno=1602, col_offset=31)], [], None, None, lineno=1602, col_offset=21), lineno=1602, col_offset=21)], [ExceptHandler(Name('OSError', Load(), lineno=1603, col_offset=23), None, [Pass( lineno=1603, col_offset=32)], lineno=1603, col_offset=16)], [], lineno=1602, col_offset=16)], lineno=1596, col_offset=12), Return(Name('new_c', Load(), lineno=1604, col_offset=19), lineno=1604, col_offset=12)], [], lineno=1595, col_offset=8), Assign([Name('new_c', Store(), lineno=1606, col_offset=8)], Call(Name('save_and_restore', Load(), lineno=1606, col_offset=16), [Name('c', Load(), lineno=1606, col_offset=33), Name('True', Load(), lineno=1606, col_offset=36)], [], None, None, lineno=1606, col_offset=16), lineno=1606, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1607, col_offset=8), 'assertEqual', Load(), lineno=1607, col_offset=8), [Call(Name('len', Load(), lineno=1607, col_offset=25), [Name('new_c', Load(), lineno=1607, col_offset=29)], [], None, None, lineno=1607, col_offset=25), Num(6, lineno=1607, col_offset=37)], [], None, None, lineno=1607, col_offset=8), lineno=1607, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1608, col_offset=8), 'assertIn', Load(), lineno=1608, col_offset=8), [Str("name='foo1', value='bar'", lineno=1608, col_offset=22), Call(Name('repr', Load(), lineno=1608, col_offset=50), [Name('new_c', Load(), lineno=1608, col_offset=55)], [], None, None, lineno=1608, col_offset=50)], [], None, None, lineno=1608, col_offset=8), lineno=1608, col_offset=8), Assign([Name('new_c', Store(), lineno=1610, col_offset=8)], Call(Name('save_and_restore', Load(), lineno=1610, col_offset=16), [Name('c', Load(), lineno=1610, col_offset=33), Name('False', Load(), lineno=1610, col_offset=36)], [], None, None, lineno=1610, col_offset=16), lineno=1610, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1611, col_offset=8), 'assertEqual', Load(), lineno=1611, col_offset=8), [Call(Name('len', Load(), lineno=1611, col_offset=25), [Name('new_c', Load(), lineno=1611, col_offset=29)], [], None, None, lineno=1611, col_offset=25), Num(4, lineno=1611, col_offset=37)], [], None, None, lineno=1611, col_offset=8), lineno=1611, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1612, col_offset=8), 'assertIn', Load(), lineno=1612, col_offset=8), [Str("name='foo1', value='bar'", lineno=1612, col_offset=22), Call(Name('repr', Load(), lineno=1612, col_offset=50), [Name('new_c', Load(), lineno=1612, col_offset=55)], [], None, None, lineno=1612, col_offset=50)], [], None, None, lineno=1612, col_offset=8), lineno=1612, col_offset=8)], [], lineno=1571, col_offset=4), FunctionDef('test_netscape_misc', arguments([Name('self', Param(), lineno=1614, col_offset=27)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None)], 0, lineno=1616, col_offset=8), ImportFrom('urllib2', [alias('Request', None)], 0, lineno=1617, col_offset=8), Assign([Name('c', Store(), lineno=1619, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1619, col_offset=12), [], [], None, None, lineno=1619, col_offset=12), lineno=1619, col_offset=8), Assign([Name('headers', Store(), lineno=1620, col_offset=8)], List([], Load(), lineno=1620, col_offset=18), lineno=1620, col_offset=8), Assign([Name('req', Store(), lineno=1621, col_offset=8)], Call(Name('Request', Load(), lineno=1621, col_offset=14), [Str('http://foo.bar.acme.com/foo', lineno=1621, col_offset=22)], [], None, None, lineno=1621, col_offset=14), lineno=1621, col_offset=8), Expr(Call(Attribute(Name('headers', Load(), lineno=1624, col_offset=8), 'append', Load(), lineno=1624, col_offset=8), [Str('Set-Cookie: Customer=WILE_E_COYOTE; domain=.acme.com', lineno=1624, col_offset=23)], [], None, None, lineno=1624, col_offset=8), lineno=1624, col_offset=8), Assign([Name('res', Store(), lineno=1625, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=1625, col_offset=14), [Name('headers', Load(), lineno=1625, col_offset=27), Str('http://www.acme.com/foo', lineno=1625, col_offset=36)], [], None, None, lineno=1625, col_offset=14), lineno=1625, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1626, col_offset=8), 'extract_cookies', Load(), lineno=1626, col_offset=8), [Name('res', Load(), lineno=1626, col_offset=26), Name('req', Load(), lineno=1626, col_offset=31)], [], None, None, lineno=1626, col_offset=8), lineno=1626, col_offset=8), Expr(Call(Attribute(Name('headers', Load(), lineno=1631, col_offset=8), 'append', Load(), lineno=1631, col_offset=8), [Str('Set-Cookie: PART_NUMBER=3,4; domain=foo.bar.acme.com', lineno=1631, col_offset=23)], [], None, None, lineno=1631, col_offset=8), lineno=1631, col_offset=8), Assign([Name('res', Store(), lineno=1632, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=1632, col_offset=14), [Name('headers', Load(), lineno=1632, col_offset=27), Str('http://www.acme.com/foo', lineno=1632, col_offset=36)], [], None, None, lineno=1632, col_offset=14), lineno=1632, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1633, col_offset=8), 'extract_cookies', Load(), lineno=1633, col_offset=8), [Name('res', Load(), lineno=1633, col_offset=26), Name('req', Load(), lineno=1633, col_offset=31)], [], None, None, lineno=1633, col_offset=8), lineno=1633, col_offset=8), Assign([Name('req', Store(), lineno=1635, col_offset=8)], Call(Name('Request', Load(), lineno=1635, col_offset=14), [Str('http://foo.bar.acme.com/foo', lineno=1635, col_offset=22)], [], None, None, lineno=1635, col_offset=14), lineno=1635, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1636, col_offset=8), 'add_cookie_header', Load(), lineno=1636, col_offset=8), [Name('req', Load(), lineno=1636, col_offset=28)], [], None, None, lineno=1636, col_offset=8), lineno=1636, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1637, col_offset=8), 'assertTrue', Load(), lineno=1637, col_offset=8), [BoolOp(And(), [Compare(Str('PART_NUMBER=3,4', lineno=1638, col_offset=12), [In()], [Call(Attribute(Name('req', Load(), lineno=1638, col_offset=33), 'get_header', Load(), lineno=1638, col_offset=33), [Str('Cookie', lineno=1638, col_offset=48)], [], None, None, lineno=1638, col_offset=33)], lineno=1638, col_offset=12), Compare(Str('Customer=WILE_E_COYOTE', lineno=1639, col_offset=12), [In()], [Call(Attribute(Name('req', Load(), lineno=1639, col_offset=40), 'get_header', Load(), lineno=1639, col_offset=40), [Str('Cookie', lineno=1639, col_offset=55)], [], None, None, lineno=1639, col_offset=40)], lineno=1639, col_offset=12)], lineno=1638, col_offset=12)], [], None, None, lineno=1637, col_offset=8), lineno=1637, col_offset=8)], [], lineno=1614, col_offset=4), FunctionDef('test_intranet_domains_2965', arguments([Name('self', Param(), lineno=1641, col_offset=35)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=1643, col_offset=8), Assign([Name('c', Store(), lineno=1645, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1645, col_offset=12), [Call(Name('DefaultCookiePolicy', Load(), lineno=1645, col_offset=22), [], [keyword('rfc2965', Name('True', Load(), lineno=1645, col_offset=50))], None, None, lineno=1645, col_offset=22)], [], None, None, lineno=1645, col_offset=12), lineno=1645, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1646, col_offset=8), [Name('c', Load(), lineno=1646, col_offset=22), Str('http://example/', lineno=1646, col_offset=25), Str('foo1=bar; PORT; Discard; Version=1;', lineno=1647, col_offset=22)], [], None, None, lineno=1646, col_offset=8), lineno=1646, col_offset=8), Assign([Name('cookie', Store(), lineno=1648, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1648, col_offset=17), [Name('c', Load(), lineno=1648, col_offset=31), Str('http://example/', lineno=1648, col_offset=34), Str('foo2=bar; domain=".local"; Version=1', lineno=1649, col_offset=31)], [], None, None, lineno=1648, col_offset=17), lineno=1648, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1650, col_offset=8), 'assertIn', Load(), lineno=1650, col_offset=8), [Str('foo1=bar', lineno=1650, col_offset=22), Name('cookie', Load(), lineno=1650, col_offset=34)], [], None, None, lineno=1650, col_offset=8), lineno=1650, col_offset=8), Expr(Call(Name('interact_2965', Load(), lineno=1652, col_offset=8), [Name('c', Load(), lineno=1652, col_offset=22), Str('http://example/', lineno=1652, col_offset=25), Str('foo3=bar; Version=1', lineno=1652, col_offset=44)], [], None, None, lineno=1652, col_offset=8), lineno=1652, col_offset=8), Assign([Name('cookie', Store(), lineno=1653, col_offset=8)], Call(Name('interact_2965', Load(), lineno=1653, col_offset=17), [Name('c', Load(), lineno=1653, col_offset=31), Str('http://example/', lineno=1653, col_offset=34)], [], None, None, lineno=1653, col_offset=17), lineno=1653, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1654, col_offset=8), 'assertIn', Load(), lineno=1654, col_offset=8), [Str('foo2=bar', lineno=1654, col_offset=22), Name('cookie', Load(), lineno=1654, col_offset=34)], [], None, None, lineno=1654, col_offset=8), lineno=1654, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1655, col_offset=8), 'assertEqual', Load(), lineno=1655, col_offset=8), [Call(Name('len', Load(), lineno=1655, col_offset=25), [Name('c', Load(), lineno=1655, col_offset=29)], [], None, None, lineno=1655, col_offset=25), Num(3, lineno=1655, col_offset=33)], [], None, None, lineno=1655, col_offset=8), lineno=1655, col_offset=8)], [], lineno=1641, col_offset=4), FunctionDef('test_intranet_domains_ns', arguments([Name('self', Param(), lineno=1657, col_offset=33)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=1658, col_offset=8), Assign([Name('c', Store(), lineno=1660, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1660, col_offset=12), [Call(Name('DefaultCookiePolicy', Load(), lineno=1660, col_offset=22), [], [keyword('rfc2965', Name('False', Load(), lineno=1660, col_offset=52))], None, None, lineno=1660, col_offset=22)], [], None, None, lineno=1660, col_offset=12), lineno=1660, col_offset=8), Expr(Call(Name('interact_netscape', Load(), lineno=1661, col_offset=8), [Name('c', Load(), lineno=1661, col_offset=26), Str('http://example/', lineno=1661, col_offset=29), Str('foo1=bar', lineno=1661, col_offset=48)], [], None, None, lineno=1661, col_offset=8), lineno=1661, col_offset=8), Assign([Name('cookie', Store(), lineno=1662, col_offset=8)], Call(Name('interact_netscape', Load(), lineno=1662, col_offset=17), [Name('c', Load(), lineno=1662, col_offset=35), Str('http://example/', lineno=1662, col_offset=38), Str('foo2=bar; domain=.local', lineno=1663, col_offset=35)], [], None, None, lineno=1662, col_offset=17), lineno=1662, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1664, col_offset=8), 'assertEqual', Load(), lineno=1664, col_offset=8), [Call(Name('len', Load(), lineno=1664, col_offset=25), [Name('c', Load(), lineno=1664, col_offset=29)], [], None, None, lineno=1664, col_offset=25), Num(2, lineno=1664, col_offset=33)], [], None, None, lineno=1664, col_offset=8), lineno=1664, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1665, col_offset=8), 'assertIn', Load(), lineno=1665, col_offset=8), [Str('foo1=bar', lineno=1665, col_offset=22), Name('cookie', Load(), lineno=1665, col_offset=34)], [], None, None, lineno=1665, col_offset=8), lineno=1665, col_offset=8), Assign([Name('cookie', Store(), lineno=1667, col_offset=8)], Call(Name('interact_netscape', Load(), lineno=1667, col_offset=17), [Name('c', Load(), lineno=1667, col_offset=35), Str('http://example/', lineno=1667, col_offset=38)], [], None, None, lineno=1667, col_offset=17), lineno=1667, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1668, col_offset=8), 'assertIn', Load(), lineno=1668, col_offset=8), [Str('foo2=bar', lineno=1668, col_offset=22), Name('cookie', Load(), lineno=1668, col_offset=34)], [], None, None, lineno=1668, col_offset=8), lineno=1668, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1669, col_offset=8), 'assertEqual', Load(), lineno=1669, col_offset=8), [Call(Name('len', Load(), lineno=1669, col_offset=25), [Name('c', Load(), lineno=1669, col_offset=29)], [], None, None, lineno=1669, col_offset=25), Num(2, lineno=1669, col_offset=33)], [], None, None, lineno=1669, col_offset=8), lineno=1669, col_offset=8)], [], lineno=1657, col_offset=4), FunctionDef('test_empty_path', arguments([Name('self', Param(), lineno=1671, col_offset=24)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None), alias('DefaultCookiePolicy', None)], 0, lineno=1672, col_offset=8), ImportFrom('urllib2', [alias('Request', None)], 0, lineno=1673, col_offset=8), Assign([Name('c', Store(), lineno=1682, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1682, col_offset=12), [Call(Name('DefaultCookiePolicy', Load(), lineno=1682, col_offset=22), [], [keyword('rfc2965', Name('True', Load(), lineno=1682, col_offset=52))], None, None, lineno=1682, col_offset=22)], [], None, None, lineno=1682, col_offset=12), lineno=1682, col_offset=8), Assign([Name('headers', Store(), lineno=1683, col_offset=8)], List([], Load(), lineno=1683, col_offset=18), lineno=1683, col_offset=8), Assign([Name('req', Store(), lineno=1685, col_offset=8)], Call(Name('Request', Load(), lineno=1685, col_offset=14), [Str('http://www.ants.com/', lineno=1685, col_offset=22)], [], None, None, lineno=1685, col_offset=14), lineno=1685, col_offset=8), Expr(Call(Attribute(Name('headers', Load(), lineno=1686, col_offset=8), 'append', Load(), lineno=1686, col_offset=8), [Str('Set-Cookie: JSESSIONID=ABCDERANDOM123; Path=', lineno=1686, col_offset=23)], [], None, None, lineno=1686, col_offset=8), lineno=1686, col_offset=8), Assign([Name('res', Store(), lineno=1687, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=1687, col_offset=14), [Name('headers', Load(), lineno=1687, col_offset=27), Str('http://www.ants.com/', lineno=1687, col_offset=36)], [], None, None, lineno=1687, col_offset=14), lineno=1687, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1688, col_offset=8), 'extract_cookies', Load(), lineno=1688, col_offset=8), [Name('res', Load(), lineno=1688, col_offset=26), Name('req', Load(), lineno=1688, col_offset=31)], [], None, None, lineno=1688, col_offset=8), lineno=1688, col_offset=8), Assign([Name('req', Store(), lineno=1690, col_offset=8)], Call(Name('Request', Load(), lineno=1690, col_offset=14), [Str('http://www.ants.com/', lineno=1690, col_offset=22)], [], None, None, lineno=1690, col_offset=14), lineno=1690, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1691, col_offset=8), 'add_cookie_header', Load(), lineno=1691, col_offset=8), [Name('req', Load(), lineno=1691, col_offset=28)], [], None, None, lineno=1691, col_offset=8), lineno=1691, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1693, col_offset=8), 'assertEqual', Load(), lineno=1693, col_offset=8), [Call(Attribute(Name('req', Load(), lineno=1693, col_offset=25), 'get_header', Load(), lineno=1693, col_offset=25), [Str('Cookie', lineno=1693, col_offset=40)], [], None, None, lineno=1693, col_offset=25), Str('JSESSIONID=ABCDERANDOM123', lineno=1694, col_offset=25)], [], None, None, lineno=1693, col_offset=8), lineno=1693, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1695, col_offset=8), 'assertEqual', Load(), lineno=1695, col_offset=8), [Call(Attribute(Name('req', Load(), lineno=1695, col_offset=25), 'get_header', Load(), lineno=1695, col_offset=25), [Str('Cookie2', lineno=1695, col_offset=40)], [], None, None, lineno=1695, col_offset=25), Str('$Version="1"', lineno=1695, col_offset=52)], [], None, None, lineno=1695, col_offset=8), lineno=1695, col_offset=8), Assign([Name('req', Store(), lineno=1698, col_offset=8)], Call(Name('Request', Load(), lineno=1698, col_offset=14), [Str('http://www.ants.com:8080', lineno=1698, col_offset=22)], [], None, None, lineno=1698, col_offset=14), lineno=1698, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1699, col_offset=8), 'add_cookie_header', Load(), lineno=1699, col_offset=8), [Name('req', Load(), lineno=1699, col_offset=28)], [], None, None, lineno=1699, col_offset=8), lineno=1699, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1701, col_offset=8), 'assertEqual', Load(), lineno=1701, col_offset=8), [Call(Attribute(Name('req', Load(), lineno=1701, col_offset=25), 'get_header', Load(), lineno=1701, col_offset=25), [Str('Cookie', lineno=1701, col_offset=40)], [], None, None, lineno=1701, col_offset=25), Str('JSESSIONID=ABCDERANDOM123', lineno=1702, col_offset=25)], [], None, None, lineno=1701, col_offset=8), lineno=1701, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1703, col_offset=8), 'assertEqual', Load(), lineno=1703, col_offset=8), [Call(Attribute(Name('req', Load(), lineno=1703, col_offset=25), 'get_header', Load(), lineno=1703, col_offset=25), [Str('Cookie2', lineno=1703, col_offset=40)], [], None, None, lineno=1703, col_offset=25), Str('$Version="1"', lineno=1703, col_offset=52)], [], None, None, lineno=1703, col_offset=8), lineno=1703, col_offset=8)], [], lineno=1671, col_offset=4), FunctionDef('test_session_cookies', arguments([Name('self', Param(), lineno=1705, col_offset=29)], None, None, []), [ImportFrom('cookielib', [alias('CookieJar', None)], 0, lineno=1706, col_offset=8), ImportFrom('urllib2', [alias('Request', None)], 0, lineno=1707, col_offset=8), Assign([Name('year_plus_one', Store(), lineno=1709, col_offset=8)], BinOp(Subscript(Call(Attribute(Name('time', Load(), lineno=1709, col_offset=24), 'localtime', Load(), lineno=1709, col_offset=24), [], [], None, None, lineno=1709, col_offset=24), Index(Num(0, lineno=1709, col_offset=41)), Load(), lineno=1709, col_offset=24), Add(), Num(1, lineno=1709, col_offset=46), lineno=1709, col_offset=24), lineno=1709, col_offset=8), Assign([Name('req', Store(), lineno=1714, col_offset=8)], Call(Name('Request', Load(), lineno=1714, col_offset=14), [Str('http://www.perlmeister.com/scripts', lineno=1714, col_offset=22)], [], None, None, lineno=1714, col_offset=14), lineno=1714, col_offset=8), Assign([Name('headers', Store(), lineno=1715, col_offset=8)], List([], Load(), lineno=1715, col_offset=18), lineno=1715, col_offset=8), Expr(Call(Attribute(Name('headers', Load(), lineno=1716, col_offset=8), 'append', Load(), lineno=1716, col_offset=8), [Str('Set-Cookie: s1=session;Path=/scripts', lineno=1716, col_offset=23)], [], None, None, lineno=1716, col_offset=8), lineno=1716, col_offset=8), Expr(Call(Attribute(Name('headers', Load(), lineno=1717, col_offset=8), 'append', Load(), lineno=1717, col_offset=8), [BinOp(Str('Set-Cookie: p1=perm; Domain=.perlmeister.com;Path=/;expires=Fri, 02-Feb-%d 23:24:20 GMT', lineno=1717, col_offset=23), Mod(), Name('year_plus_one', Load(), lineno=1719, col_offset=23), lineno=1717, col_offset=23)], [], None, None, lineno=1717, col_offset=8), lineno=1717, col_offset=8), Expr(Call(Attribute(Name('headers', Load(), lineno=1720, col_offset=8), 'append', Load(), lineno=1720, col_offset=8), [BinOp(Str('Set-Cookie: p2=perm;Path=/;expires=Fri, 02-Feb-%d 23:24:20 GMT', lineno=1720, col_offset=23), Mod(), Name('year_plus_one', Load(), lineno=1721, col_offset=50), lineno=1720, col_offset=23)], [], None, None, lineno=1720, col_offset=8), lineno=1720, col_offset=8), Expr(Call(Attribute(Name('headers', Load(), lineno=1722, col_offset=8), 'append', Load(), lineno=1722, col_offset=8), [Str('Set-Cookie: s2=session;Path=/scripts;Domain=.perlmeister.com', lineno=1722, col_offset=23)], [], None, None, lineno=1722, col_offset=8), lineno=1722, col_offset=8), Expr(Call(Attribute(Name('headers', Load(), lineno=1724, col_offset=8), 'append', Load(), lineno=1724, col_offset=8), [Str('Set-Cookie2: s3=session;Version=1;Discard;Path="/"', lineno=1724, col_offset=23)], [], None, None, lineno=1724, col_offset=8), lineno=1724, col_offset=8), Assign([Name('res', Store(), lineno=1725, col_offset=8)], Call(Name('FakeResponse', Load(), lineno=1725, col_offset=14), [Name('headers', Load(), lineno=1725, col_offset=27), Str('http://www.perlmeister.com/scripts', lineno=1725, col_offset=36)], [], None, None, lineno=1725, col_offset=14), lineno=1725, col_offset=8), Assign([Name('c', Store(), lineno=1727, col_offset=8)], Call(Name('CookieJar', Load(), lineno=1727, col_offset=12), [], [], None, None, lineno=1727, col_offset=12), lineno=1727, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1728, col_offset=8), 'extract_cookies', Load(), lineno=1728, col_offset=8), [Name('res', Load(), lineno=1728, col_offset=26), Name('req', Load(), lineno=1728, col_offset=31)], [], None, None, lineno=1728, col_offset=8), lineno=1728, col_offset=8), Assign([Name('counter', Store(), lineno=1730, col_offset=8)], Dict([Str('session_after', lineno=1730, col_offset=19), Str('perm_after', lineno=1731, col_offset=19), Str('session_before', lineno=1732, col_offset=19), Str('perm_before', lineno=1733, col_offset=19)], [Num(0, lineno=1730, col_offset=36), Num(0, lineno=1731, col_offset=33), Num(0, lineno=1732, col_offset=37), Num(0, lineno=1733, col_offset=34)], lineno=1730, col_offset=18), lineno=1730, col_offset=8), For(Name('cookie', Store(), lineno=1734, col_offset=12), Name('c', Load(), lineno=1734, col_offset=22), [Assign([Name('key', Store(), lineno=1735, col_offset=12)], BinOp(Str('%s_before', lineno=1735, col_offset=18), Mod(), Attribute(Name('cookie', Load(), lineno=1735, col_offset=32), 'value', Load(), lineno=1735, col_offset=32), lineno=1735, col_offset=18), lineno=1735, col_offset=12), Assign([Subscript(Name('counter', Load(), lineno=1736, col_offset=12), Index(Name('key', Load(), lineno=1736, col_offset=20)), Store(), lineno=1736, col_offset=12)], BinOp(Subscript(Name('counter', Load(), lineno=1736, col_offset=27), Index(Name('key', Load(), lineno=1736, col_offset=35)), Load(), lineno=1736, col_offset=27), Add(), Num(1, lineno=1736, col_offset=42), lineno=1736, col_offset=27), lineno=1736, col_offset=12)], [], lineno=1734, col_offset=8), Expr(Call(Attribute(Name('c', Load(), lineno=1737, col_offset=8), 'clear_session_cookies', Load(), lineno=1737, col_offset=8), [], [], None, None, lineno=1737, col_offset=8), lineno=1737, col_offset=8), For(Name('cookie', Store(), lineno=1739, col_offset=12), Name('c', Load(), lineno=1739, col_offset=22), [Assign([Name('key', Store(), lineno=1740, col_offset=12)], BinOp(Str('%s_after', lineno=1740, col_offset=18), Mod(), Attribute(Name('cookie', Load(), lineno=1740, col_offset=31), 'value', Load(), lineno=1740, col_offset=31), lineno=1740, col_offset=18), lineno=1740, col_offset=12), Assign([Subscript(Name('counter', Load(), lineno=1741, col_offset=12), Index(Name('key', Load(), lineno=1741, col_offset=20)), Store(), lineno=1741, col_offset=12)], BinOp(Subscript(Name('counter', Load(), lineno=1741, col_offset=27), Index(Name('key', Load(), lineno=1741, col_offset=35)), Load(), lineno=1741, col_offset=27), Add(), Num(1, lineno=1741, col_offset=42), lineno=1741, col_offset=27), lineno=1741, col_offset=12)], [], lineno=1739, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=1743, col_offset=8), 'assertTrue', Load(), lineno=1743, col_offset=8), [UnaryOp(Not(), BoolOp(Or(), [Compare(Subscript(Name('counter', Load(), lineno=1745, col_offset=12), Index(Str('perm_after', lineno=1745, col_offset=20)), Load(), lineno=1745, col_offset=12), [NotEq()], [Subscript(Name('counter', Load(), lineno=1745, col_offset=37), Index(Str('perm_before', lineno=1745, col_offset=45)), Load(), lineno=1745, col_offset=37)], lineno=1745, col_offset=12), Compare(Subscript(Name('counter', Load(), lineno=1747, col_offset=12), Index(Str('session_after', lineno=1747, col_offset=20)), Load(), lineno=1747, col_offset=12), [NotEq()], [Num(0, lineno=1747, col_offset=40)], lineno=1747, col_offset=12), Compare(Subscript(Name('counter', Load(), lineno=1749, col_offset=12), Index(Str('session_before', lineno=1749, col_offset=20)), Load(), lineno=1749, col_offset=12), [Eq()], [Num(0, lineno=1749, col_offset=41)], lineno=1749, col_offset=12)], lineno=1745, col_offset=12), lineno=1743, col_offset=24)], [], None, None, lineno=1743, col_offset=8), lineno=1743, col_offset=8)], [], lineno=1705, col_offset=4)], [], lineno=1134, col_offset=0), FunctionDef('test_main', arguments([Name('verbose', Param(), lineno=1752, col_offset=14)], None, None, [Name('None', Load(), lineno=1752, col_offset=22)]), [Expr(Call(Attribute(Name('test_support', Load(), lineno=1753, col_offset=4), 'run_unittest', Load(), lineno=1753, col_offset=4), [Name('DateTimeTests', Load(), lineno=1754, col_offset=8), Name('HeaderTests', Load(), lineno=1755, col_offset=8), Name('CookieTests', Load(), lineno=1756, col_offset=8), Name('FileCookieJarTests', Load(), lineno=1757, col_offset=8), Name('LWPCookieTests', Load(), lineno=1758, col_offset=8)], [], None, None, lineno=1753, col_offset=4), lineno=1753, col_offset=4)], [], lineno=1752, col_offset=0), If(Compare(Name('__name__', Load(), lineno=1761, col_offset=3), [Eq()], [Str('__main__', lineno=1761, col_offset=15)], lineno=1761, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=1762, col_offset=4), [], [keyword('verbose', Name('True', Load(), lineno=1762, col_offset=22))], None, None, lineno=1762, col_offset=4), lineno=1762, col_offset=4)], [], lineno=1761, col_offset=0)])
