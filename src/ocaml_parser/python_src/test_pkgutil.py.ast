Module([ImportFrom('test.test_support', [alias('run_unittest', None)], 0, lineno=1, col_offset=0), Import([alias('unittest', None)], lineno=2, col_offset=0), Import([alias('sys', None)], lineno=3, col_offset=0), Import([alias('imp', None)], lineno=4, col_offset=0), Import([alias('pkgutil', None)], lineno=5, col_offset=0), Import([alias('os', None)], lineno=6, col_offset=0), Import([alias('os.path', None)], lineno=7, col_offset=0), Import([alias('tempfile', None)], lineno=8, col_offset=0), Import([alias('shutil', None)], lineno=9, col_offset=0), Import([alias('zipfile', None)], lineno=10, col_offset=0), ClassDef('PkgutilTests', [Attribute(Name('unittest', Load(), lineno=14, col_offset=19), 'TestCase', Load(), lineno=14, col_offset=19)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=16, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=17, col_offset=8), 'dirname', Store(), lineno=17, col_offset=8)], Call(Attribute(Name('tempfile', Load(), lineno=17, col_offset=23), 'mkdtemp', Load(), lineno=17, col_offset=23), [], [], None, None, lineno=17, col_offset=23), lineno=17, col_offset=8), Expr(Call(Attribute(Attribute(Name('sys', Load(), lineno=18, col_offset=8), 'path', Load(), lineno=18, col_offset=8), 'insert', Load(), lineno=18, col_offset=8), [Num(0, lineno=18, col_offset=24), Attribute(Name('self', Load(), lineno=18, col_offset=27), 'dirname', Load(), lineno=18, col_offset=27)], [], None, None, lineno=18, col_offset=8), lineno=18, col_offset=8)], [], lineno=16, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=20, col_offset=17)], None, None, []), [Delete([Subscript(Attribute(Name('sys', Load(), lineno=21, col_offset=12), 'path', Load(), lineno=21, col_offset=12), Index(Num(0, lineno=21, col_offset=21)), Del(), lineno=21, col_offset=12)], lineno=21, col_offset=8), Expr(Call(Attribute(Name('shutil', Load(), lineno=22, col_offset=8), 'rmtree', Load(), lineno=22, col_offset=8), [Attribute(Name('self', Load(), lineno=22, col_offset=22), 'dirname', Load(), lineno=22, col_offset=22)], [], None, None, lineno=22, col_offset=8), lineno=22, col_offset=8)], [], lineno=20, col_offset=4), FunctionDef('test_getdata_filesys', arguments([Name('self', Param(), lineno=24, col_offset=29)], None, None, []), [Assign([Name('pkg', Store(), lineno=25, col_offset=8)], Str('test_getdata_filesys', lineno=25, col_offset=14), lineno=25, col_offset=8), Assign([Name('RESOURCE_DATA', Store(), lineno=28, col_offset=8)], Str('Hello, world!\nSecond line\r\nThird line', lineno=28, col_offset=24), lineno=28, col_offset=8), Assign([Name('package_dir', Store(), lineno=31, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=31, col_offset=22), 'path', Load(), lineno=31, col_offset=22), 'join', Load(), lineno=31, col_offset=22), [Attribute(Name('self', Load(), lineno=31, col_offset=35), 'dirname', Load(), lineno=31, col_offset=35), Name('pkg', Load(), lineno=31, col_offset=49)], [], None, None, lineno=31, col_offset=22), lineno=31, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=32, col_offset=8), 'mkdir', Load(), lineno=32, col_offset=8), [Name('package_dir', Load(), lineno=32, col_offset=17)], [], None, None, lineno=32, col_offset=8), lineno=32, col_offset=8), Assign([Name('f', Store(), lineno=34, col_offset=8)], Call(Name('open', Load(), lineno=34, col_offset=12), [Call(Attribute(Attribute(Name('os', Load(), lineno=34, col_offset=17), 'path', Load(), lineno=34, col_offset=17), 'join', Load(), lineno=34, col_offset=17), [Name('package_dir', Load(), lineno=34, col_offset=30), Str('__init__.py', lineno=34, col_offset=43)], [], None, None, lineno=34, col_offset=17), Str('wb', lineno=34, col_offset=59)], [], None, None, lineno=34, col_offset=12), lineno=34, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=35, col_offset=8), 'close', Load(), lineno=35, col_offset=8), [], [], None, None, lineno=35, col_offset=8), lineno=35, col_offset=8), Assign([Name('f', Store(), lineno=37, col_offset=8)], Call(Name('open', Load(), lineno=37, col_offset=12), [Call(Attribute(Attribute(Name('os', Load(), lineno=37, col_offset=17), 'path', Load(), lineno=37, col_offset=17), 'join', Load(), lineno=37, col_offset=17), [Name('package_dir', Load(), lineno=37, col_offset=30), Str('res.txt', lineno=37, col_offset=43)], [], None, None, lineno=37, col_offset=17), Str('wb', lineno=37, col_offset=55)], [], None, None, lineno=37, col_offset=12), lineno=37, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=38, col_offset=8), 'write', Load(), lineno=38, col_offset=8), [Name('RESOURCE_DATA', Load(), lineno=38, col_offset=16)], [], None, None, lineno=38, col_offset=8), lineno=38, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=39, col_offset=8), 'close', Load(), lineno=39, col_offset=8), [], [], None, None, lineno=39, col_offset=8), lineno=39, col_offset=8), Expr(Call(Attribute(Name('os', Load(), lineno=40, col_offset=8), 'mkdir', Load(), lineno=40, col_offset=8), [Call(Attribute(Attribute(Name('os', Load(), lineno=40, col_offset=17), 'path', Load(), lineno=40, col_offset=17), 'join', Load(), lineno=40, col_offset=17), [Name('package_dir', Load(), lineno=40, col_offset=30), Str('sub', lineno=40, col_offset=43)], [], None, None, lineno=40, col_offset=17)], [], None, None, lineno=40, col_offset=8), lineno=40, col_offset=8), Assign([Name('f', Store(), lineno=41, col_offset=8)], Call(Name('open', Load(), lineno=41, col_offset=12), [Call(Attribute(Attribute(Name('os', Load(), lineno=41, col_offset=17), 'path', Load(), lineno=41, col_offset=17), 'join', Load(), lineno=41, col_offset=17), [Name('package_dir', Load(), lineno=41, col_offset=30), Str('sub', lineno=41, col_offset=43), Str('res.txt', lineno=41, col_offset=50)], [], None, None, lineno=41, col_offset=17), Str('wb', lineno=41, col_offset=62)], [], None, None, lineno=41, col_offset=12), lineno=41, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=42, col_offset=8), 'write', Load(), lineno=42, col_offset=8), [Name('RESOURCE_DATA', Load(), lineno=42, col_offset=16)], [], None, None, lineno=42, col_offset=8), lineno=42, col_offset=8), Expr(Call(Attribute(Name('f', Load(), lineno=43, col_offset=8), 'close', Load(), lineno=43, col_offset=8), [], [], None, None, lineno=43, col_offset=8), lineno=43, col_offset=8), Assign([Name('res1', Store(), lineno=46, col_offset=8)], Call(Attribute(Name('pkgutil', Load(), lineno=46, col_offset=15), 'get_data', Load(), lineno=46, col_offset=15), [Name('pkg', Load(), lineno=46, col_offset=32), Str('res.txt', lineno=46, col_offset=37)], [], None, None, lineno=46, col_offset=15), lineno=46, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=47, col_offset=8), 'assertEqual', Load(), lineno=47, col_offset=8), [Name('res1', Load(), lineno=47, col_offset=25), Name('RESOURCE_DATA', Load(), lineno=47, col_offset=31)], [], None, None, lineno=47, col_offset=8), lineno=47, col_offset=8), Assign([Name('res2', Store(), lineno=48, col_offset=8)], Call(Attribute(Name('pkgutil', Load(), lineno=48, col_offset=15), 'get_data', Load(), lineno=48, col_offset=15), [Name('pkg', Load(), lineno=48, col_offset=32), Str('sub/res.txt', lineno=48, col_offset=37)], [], None, None, lineno=48, col_offset=15), lineno=48, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=49, col_offset=8), 'assertEqual', Load(), lineno=49, col_offset=8), [Name('res2', Load(), lineno=49, col_offset=25), Name('RESOURCE_DATA', Load(), lineno=49, col_offset=31)], [], None, None, lineno=49, col_offset=8), lineno=49, col_offset=8), Delete([Subscript(Attribute(Name('sys', Load(), lineno=51, col_offset=12), 'modules', Load(), lineno=51, col_offset=12), Index(Name('pkg', Load(), lineno=51, col_offset=24)), Del(), lineno=51, col_offset=12)], lineno=51, col_offset=8)], [], lineno=24, col_offset=4), FunctionDef('test_getdata_zipfile', arguments([Name('self', Param(), lineno=53, col_offset=29)], None, None, []), [Assign([Name('zip', Store(), lineno=54, col_offset=8)], Str('test_getdata_zipfile.zip', lineno=54, col_offset=14), lineno=54, col_offset=8), Assign([Name('pkg', Store(), lineno=55, col_offset=8)], Str('test_getdata_zipfile', lineno=55, col_offset=14), lineno=55, col_offset=8), Assign([Name('RESOURCE_DATA', Store(), lineno=58, col_offset=8)], Str('Hello, world!\nSecond line\r\nThird line', lineno=58, col_offset=24), lineno=58, col_offset=8), Assign([Name('zip_file', Store(), lineno=61, col_offset=8)], Call(Attribute(Attribute(Name('os', Load(), lineno=61, col_offset=19), 'path', Load(), lineno=61, col_offset=19), 'join', Load(), lineno=61, col_offset=19), [Attribute(Name('self', Load(), lineno=61, col_offset=32), 'dirname', Load(), lineno=61, col_offset=32), Name('zip', Load(), lineno=61, col_offset=46)], [], None, None, lineno=61, col_offset=19), lineno=61, col_offset=8), Assign([Name('z', Store(), lineno=62, col_offset=8)], Call(Attribute(Name('zipfile', Load(), lineno=62, col_offset=12), 'ZipFile', Load(), lineno=62, col_offset=12), [Name('zip_file', Load(), lineno=62, col_offset=28), Str('w', lineno=62, col_offset=38)], [], None, None, lineno=62, col_offset=12), lineno=62, col_offset=8), Expr(Call(Attribute(Name('z', Load(), lineno=65, col_offset=8), 'writestr', Load(), lineno=65, col_offset=8), [BinOp(Name('pkg', Load(), lineno=65, col_offset=19), Add(), Str('/__init__.py', lineno=65, col_offset=25), lineno=65, col_offset=19), Str('', lineno=65, col_offset=41)], [], None, None, lineno=65, col_offset=8), lineno=65, col_offset=8), Expr(Call(Attribute(Name('z', Load(), lineno=67, col_offset=8), 'writestr', Load(), lineno=67, col_offset=8), [BinOp(Name('pkg', Load(), lineno=67, col_offset=19), Add(), Str('/res.txt', lineno=67, col_offset=25), lineno=67, col_offset=19), Name('RESOURCE_DATA', Load(), lineno=67, col_offset=37)], [], None, None, lineno=67, col_offset=8), lineno=67, col_offset=8), Expr(Call(Attribute(Name('z', Load(), lineno=68, col_offset=8), 'writestr', Load(), lineno=68, col_offset=8), [BinOp(Name('pkg', Load(), lineno=68, col_offset=19), Add(), Str('/sub/res.txt', lineno=68, col_offset=25), lineno=68, col_offset=19), Name('RESOURCE_DATA', Load(), lineno=68, col_offset=41)], [], None, None, lineno=68, col_offset=8), lineno=68, col_offset=8), Expr(Call(Attribute(Name('z', Load(), lineno=69, col_offset=8), 'close', Load(), lineno=69, col_offset=8), [], [], None, None, lineno=69, col_offset=8), lineno=69, col_offset=8), Expr(Call(Attribute(Attribute(Name('sys', Load(), lineno=72, col_offset=8), 'path', Load(), lineno=72, col_offset=8), 'insert', Load(), lineno=72, col_offset=8), [Num(0, lineno=72, col_offset=24), Name('zip_file', Load(), lineno=72, col_offset=27)], [], None, None, lineno=72, col_offset=8), lineno=72, col_offset=8), Assign([Name('res1', Store(), lineno=73, col_offset=8)], Call(Attribute(Name('pkgutil', Load(), lineno=73, col_offset=15), 'get_data', Load(), lineno=73, col_offset=15), [Name('pkg', Load(), lineno=73, col_offset=32), Str('res.txt', lineno=73, col_offset=37)], [], None, None, lineno=73, col_offset=15), lineno=73, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=74, col_offset=8), 'assertEqual', Load(), lineno=74, col_offset=8), [Name('res1', Load(), lineno=74, col_offset=25), Name('RESOURCE_DATA', Load(), lineno=74, col_offset=31)], [], None, None, lineno=74, col_offset=8), lineno=74, col_offset=8), Assign([Name('res2', Store(), lineno=75, col_offset=8)], Call(Attribute(Name('pkgutil', Load(), lineno=75, col_offset=15), 'get_data', Load(), lineno=75, col_offset=15), [Name('pkg', Load(), lineno=75, col_offset=32), Str('sub/res.txt', lineno=75, col_offset=37)], [], None, None, lineno=75, col_offset=15), lineno=75, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=76, col_offset=8), 'assertEqual', Load(), lineno=76, col_offset=8), [Name('res2', Load(), lineno=76, col_offset=25), Name('RESOURCE_DATA', Load(), lineno=76, col_offset=31)], [], None, None, lineno=76, col_offset=8), lineno=76, col_offset=8), Delete([Subscript(Attribute(Name('sys', Load(), lineno=77, col_offset=12), 'path', Load(), lineno=77, col_offset=12), Index(Num(0, lineno=77, col_offset=21)), Del(), lineno=77, col_offset=12)], lineno=77, col_offset=8), Delete([Subscript(Attribute(Name('sys', Load(), lineno=79, col_offset=12), 'modules', Load(), lineno=79, col_offset=12), Index(Name('pkg', Load(), lineno=79, col_offset=24)), Del(), lineno=79, col_offset=12)], lineno=79, col_offset=8)], [], lineno=53, col_offset=4)], [], lineno=14, col_offset=0), ClassDef('PkgutilPEP302Tests', [Attribute(Name('unittest', Load(), lineno=81, col_offset=25), 'TestCase', Load(), lineno=81, col_offset=25)], [ClassDef('MyTestLoader', [Name('object', Load(), lineno=83, col_offset=23)], [FunctionDef('load_module', arguments([Name('self', Param(), lineno=84, col_offset=24), Name('fullname', Param(), lineno=84, col_offset=30)], None, None, []), [Assign([Name('mod', Store(), lineno=86, col_offset=12)], Call(Attribute(Attribute(Name('sys', Load(), lineno=86, col_offset=18), 'modules', Load(), lineno=86, col_offset=18), 'setdefault', Load(), lineno=86, col_offset=18), [Name('fullname', Load(), lineno=86, col_offset=41), Call(Attribute(Name('imp', Load(), lineno=86, col_offset=51), 'new_module', Load(), lineno=86, col_offset=51), [Name('fullname', Load(), lineno=86, col_offset=66)], [], None, None, lineno=86, col_offset=51)], [], None, None, lineno=86, col_offset=18), lineno=86, col_offset=12), Assign([Attribute(Name('mod', Load(), lineno=87, col_offset=12), '__file__', Store(), lineno=87, col_offset=12)], BinOp(Str('<%s>', lineno=87, col_offset=27), Mod(), Attribute(Attribute(Name('self', Load(), lineno=87, col_offset=36), '__class__', Load(), lineno=87, col_offset=36), '__name__', Load(), lineno=87, col_offset=36), lineno=87, col_offset=27), lineno=87, col_offset=12), Assign([Attribute(Name('mod', Load(), lineno=88, col_offset=12), '__loader__', Store(), lineno=88, col_offset=12)], Name('self', Load(), lineno=88, col_offset=29), lineno=88, col_offset=12), Assign([Attribute(Name('mod', Load(), lineno=90, col_offset=12), '__path__', Store(), lineno=90, col_offset=12)], List([], Load(), lineno=90, col_offset=27), lineno=90, col_offset=12), Assign([Subscript(Attribute(Name('mod', Load(), lineno=92, col_offset=12), '__dict__', Load(), lineno=92, col_offset=12), Index(Str('loads', lineno=92, col_offset=25)), Store(), lineno=92, col_offset=12)], BinOp(Call(Attribute(Attribute(Name('mod', Load(), lineno=92, col_offset=36), '__dict__', Load(), lineno=92, col_offset=36), 'get', Load(), lineno=92, col_offset=36), [Str('loads', lineno=92, col_offset=53), Num(0, lineno=92, col_offset=61)], [], None, None, lineno=92, col_offset=36), Add(), Num(1, lineno=92, col_offset=66), lineno=92, col_offset=36), lineno=92, col_offset=12), Return(Name('mod', Load(), lineno=93, col_offset=19), lineno=93, col_offset=12)], [], lineno=84, col_offset=8), FunctionDef('get_data', arguments([Name('self', Param(), lineno=95, col_offset=21), Name('path', Param(), lineno=95, col_offset=27)], None, None, []), [Return(Str('Hello, world!', lineno=96, col_offset=19), lineno=96, col_offset=12)], [], lineno=95, col_offset=8)], [], lineno=83, col_offset=4), ClassDef('MyTestImporter', [Name('object', Load(), lineno=98, col_offset=25)], [FunctionDef('find_module', arguments([Name('self', Param(), lineno=99, col_offset=24), Name('fullname', Param(), lineno=99, col_offset=30), Name('path', Param(), lineno=99, col_offset=40)], None, None, [Name('None', Load(), lineno=99, col_offset=45)]), [Return(Call(Attribute(Name('PkgutilPEP302Tests', Load(), lineno=100, col_offset=19), 'MyTestLoader', Load(), lineno=100, col_offset=19), [], [], None, None, lineno=100, col_offset=19), lineno=100, col_offset=12)], [], lineno=99, col_offset=8)], [], lineno=98, col_offset=4), FunctionDef('setUp', arguments([Name('self', Param(), lineno=102, col_offset=14)], None, None, []), [Expr(Call(Attribute(Attribute(Name('sys', Load(), lineno=103, col_offset=8), 'meta_path', Load(), lineno=103, col_offset=8), 'insert', Load(), lineno=103, col_offset=8), [Num(0, lineno=103, col_offset=29), Call(Attribute(Name('self', Load(), lineno=103, col_offset=32), 'MyTestImporter', Load(), lineno=103, col_offset=32), [], [], None, None, lineno=103, col_offset=32)], [], None, None, lineno=103, col_offset=8), lineno=103, col_offset=8)], [], lineno=102, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=105, col_offset=17)], None, None, []), [Delete([Subscript(Attribute(Name('sys', Load(), lineno=106, col_offset=12), 'meta_path', Load(), lineno=106, col_offset=12), Index(Num(0, lineno=106, col_offset=26)), Del(), lineno=106, col_offset=12)], lineno=106, col_offset=8)], [], lineno=105, col_offset=4), FunctionDef('test_getdata_pep302', arguments([Name('self', Param(), lineno=108, col_offset=28)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=110, col_offset=8), 'assertEqual', Load(), lineno=110, col_offset=8), [Call(Attribute(Name('pkgutil', Load(), lineno=110, col_offset=25), 'get_data', Load(), lineno=110, col_offset=25), [Str('foo', lineno=110, col_offset=42), Str('dummy', lineno=110, col_offset=49)], [], None, None, lineno=110, col_offset=25), Str('Hello, world!', lineno=110, col_offset=59)], [], None, None, lineno=110, col_offset=8), lineno=110, col_offset=8), Delete([Subscript(Attribute(Name('sys', Load(), lineno=111, col_offset=12), 'modules', Load(), lineno=111, col_offset=12), Index(Str('foo', lineno=111, col_offset=24)), Del(), lineno=111, col_offset=12)], lineno=111, col_offset=8)], [], lineno=108, col_offset=4), FunctionDef('test_alreadyloaded', arguments([Name('self', Param(), lineno=113, col_offset=27)], None, None, []), [Import([alias('foo', None)], lineno=117, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=118, col_offset=8), 'assertEqual', Load(), lineno=118, col_offset=8), [Attribute(Name('foo', Load(), lineno=118, col_offset=25), 'loads', Load(), lineno=118, col_offset=25), Num(1, lineno=118, col_offset=36)], [], None, None, lineno=118, col_offset=8), lineno=118, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=119, col_offset=8), 'assertEqual', Load(), lineno=119, col_offset=8), [Call(Attribute(Name('pkgutil', Load(), lineno=119, col_offset=25), 'get_data', Load(), lineno=119, col_offset=25), [Str('foo', lineno=119, col_offset=42), Str('dummy', lineno=119, col_offset=49)], [], None, None, lineno=119, col_offset=25), Str('Hello, world!', lineno=119, col_offset=59)], [], None, None, lineno=119, col_offset=8), lineno=119, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=120, col_offset=8), 'assertEqual', Load(), lineno=120, col_offset=8), [Attribute(Name('foo', Load(), lineno=120, col_offset=25), 'loads', Load(), lineno=120, col_offset=25), Num(1, lineno=120, col_offset=36)], [], None, None, lineno=120, col_offset=8), lineno=120, col_offset=8), Delete([Subscript(Attribute(Name('sys', Load(), lineno=121, col_offset=12), 'modules', Load(), lineno=121, col_offset=12), Index(Str('foo', lineno=121, col_offset=24)), Del(), lineno=121, col_offset=12)], lineno=121, col_offset=8)], [], lineno=113, col_offset=4)], [], lineno=81, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Name('run_unittest', Load(), lineno=124, col_offset=4), [Name('PkgutilTests', Load(), lineno=124, col_offset=17), Name('PkgutilPEP302Tests', Load(), lineno=124, col_offset=31)], [], None, None, lineno=124, col_offset=4), lineno=124, col_offset=4), Import([alias('zipimport', None)], lineno=126, col_offset=4), Expr(Call(Attribute(Attribute(Name('zipimport', Load(), lineno=127, col_offset=4), '_zip_directory_cache', Load(), lineno=127, col_offset=4), 'clear', Load(), lineno=127, col_offset=4), [], [], None, None, lineno=127, col_offset=4), lineno=127, col_offset=4)], [], lineno=123, col_offset=0), If(Compare(Name('__name__', Load(), lineno=129, col_offset=3), [Eq()], [Str('__main__', lineno=129, col_offset=15)], lineno=129, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=130, col_offset=4), [], [], None, None, lineno=130, col_offset=4), lineno=130, col_offset=4)], [], lineno=129, col_offset=0)])
