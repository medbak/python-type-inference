Module([Import([alias('mimetypes', None)], lineno=1, col_offset=0), Import([alias('StringIO', None)], lineno=2, col_offset=0), Import([alias('unittest', None)], lineno=3, col_offset=0), Import([alias('sys', None)], lineno=4, col_offset=0), ImportFrom('test', [alias('test_support', None)], 0, lineno=6, col_offset=0), Assign([Attribute(Name('mimetypes', Load(), lineno=9, col_offset=0), 'knownfiles', Store(), lineno=9, col_offset=0)], List([], Load(), lineno=9, col_offset=23), lineno=9, col_offset=0), Assign([Attribute(Name('mimetypes', Load(), lineno=10, col_offset=0), 'inited', Store(), lineno=10, col_offset=0)], Name('False', Load(), lineno=10, col_offset=19), lineno=10, col_offset=0), Expr(Call(Attribute(Name('mimetypes', Load(), lineno=11, col_offset=0), '_default_mime_types', Load(), lineno=11, col_offset=0), [], [], None, None, lineno=11, col_offset=0), lineno=11, col_offset=0), ClassDef('MimeTypesTestCase', [Attribute(Name('unittest', Load(), lineno=14, col_offset=24), 'TestCase', Load(), lineno=14, col_offset=24)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=15, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=16, col_offset=8), 'db', Store(), lineno=16, col_offset=8)], Call(Attribute(Name('mimetypes', Load(), lineno=16, col_offset=18), 'MimeTypes', Load(), lineno=16, col_offset=18), [], [], None, None, lineno=16, col_offset=18), lineno=16, col_offset=8)], [], lineno=15, col_offset=4), FunctionDef('test_default_data', arguments([Name('self', Param(), lineno=18, col_offset=26)], None, None, []), [Assign([Name('eq', Store(), lineno=19, col_offset=8)], Attribute(Name('self', Load(), lineno=19, col_offset=13), 'assertEqual', Load(), lineno=19, col_offset=13), lineno=19, col_offset=8), Expr(Call(Name('eq', Load(), lineno=20, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=20, col_offset=11), 'db', Load(), lineno=20, col_offset=11), 'guess_type', Load(), lineno=20, col_offset=11), [Str('foo.html', lineno=20, col_offset=30)], [], None, None, lineno=20, col_offset=11), Tuple([Str('text/html', lineno=20, col_offset=44), Name('None', Load(), lineno=20, col_offset=57)], Load(), lineno=20, col_offset=44)], [], None, None, lineno=20, col_offset=8), lineno=20, col_offset=8), Expr(Call(Name('eq', Load(), lineno=21, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=21, col_offset=11), 'db', Load(), lineno=21, col_offset=11), 'guess_type', Load(), lineno=21, col_offset=11), [Str('foo.tgz', lineno=21, col_offset=30)], [], None, None, lineno=21, col_offset=11), Tuple([Str('application/x-tar', lineno=21, col_offset=43), Str('gzip', lineno=21, col_offset=64)], Load(), lineno=21, col_offset=43)], [], None, None, lineno=21, col_offset=8), lineno=21, col_offset=8), Expr(Call(Name('eq', Load(), lineno=22, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=22, col_offset=11), 'db', Load(), lineno=22, col_offset=11), 'guess_type', Load(), lineno=22, col_offset=11), [Str('foo.tar.gz', lineno=22, col_offset=30)], [], None, None, lineno=22, col_offset=11), Tuple([Str('application/x-tar', lineno=22, col_offset=46), Str('gzip', lineno=22, col_offset=67)], Load(), lineno=22, col_offset=46)], [], None, None, lineno=22, col_offset=8), lineno=22, col_offset=8), Expr(Call(Name('eq', Load(), lineno=23, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=23, col_offset=11), 'db', Load(), lineno=23, col_offset=11), 'guess_type', Load(), lineno=23, col_offset=11), [Str('foo.tar.Z', lineno=23, col_offset=30)], [], None, None, lineno=23, col_offset=11), Tuple([Str('application/x-tar', lineno=23, col_offset=45), Str('compress', lineno=23, col_offset=66)], Load(), lineno=23, col_offset=45)], [], None, None, lineno=23, col_offset=8), lineno=23, col_offset=8)], [], lineno=18, col_offset=4), FunctionDef('test_data_urls', arguments([Name('self', Param(), lineno=25, col_offset=23)], None, None, []), [Assign([Name('eq', Store(), lineno=26, col_offset=8)], Attribute(Name('self', Load(), lineno=26, col_offset=13), 'assertEqual', Load(), lineno=26, col_offset=13), lineno=26, col_offset=8), Assign([Name('guess_type', Store(), lineno=27, col_offset=8)], Attribute(Attribute(Name('self', Load(), lineno=27, col_offset=21), 'db', Load(), lineno=27, col_offset=21), 'guess_type', Load(), lineno=27, col_offset=21), lineno=27, col_offset=8), Expr(Call(Name('eq', Load(), lineno=28, col_offset=8), [Call(Name('guess_type', Load(), lineno=28, col_offset=11), [Str('data:,thisIsTextPlain', lineno=28, col_offset=22)], [], None, None, lineno=28, col_offset=11), Tuple([Str('text/plain', lineno=28, col_offset=49), Name('None', Load(), lineno=28, col_offset=63)], Load(), lineno=28, col_offset=49)], [], None, None, lineno=28, col_offset=8), lineno=28, col_offset=8), Expr(Call(Name('eq', Load(), lineno=29, col_offset=8), [Call(Name('guess_type', Load(), lineno=29, col_offset=11), [Str('data:;base64,thisIsTextPlain', lineno=29, col_offset=22)], [], None, None, lineno=29, col_offset=11), Tuple([Str('text/plain', lineno=29, col_offset=56), Name('None', Load(), lineno=29, col_offset=70)], Load(), lineno=29, col_offset=56)], [], None, None, lineno=29, col_offset=8), lineno=29, col_offset=8), Expr(Call(Name('eq', Load(), lineno=30, col_offset=8), [Call(Name('guess_type', Load(), lineno=30, col_offset=11), [Str('data:text/x-foo,thisIsTextXFoo', lineno=30, col_offset=22)], [], None, None, lineno=30, col_offset=11), Tuple([Str('text/x-foo', lineno=30, col_offset=58), Name('None', Load(), lineno=30, col_offset=72)], Load(), lineno=30, col_offset=58)], [], None, None, lineno=30, col_offset=8), lineno=30, col_offset=8)], [], lineno=25, col_offset=4), FunctionDef('test_file_parsing', arguments([Name('self', Param(), lineno=32, col_offset=26)], None, None, []), [Assign([Name('eq', Store(), lineno=33, col_offset=8)], Attribute(Name('self', Load(), lineno=33, col_offset=13), 'assertEqual', Load(), lineno=33, col_offset=13), lineno=33, col_offset=8), Assign([Name('sio', Store(), lineno=34, col_offset=8)], Call(Attribute(Name('StringIO', Load(), lineno=34, col_offset=14), 'StringIO', Load(), lineno=34, col_offset=14), [Str('x-application/x-unittest pyunit\n', lineno=34, col_offset=32)], [], None, None, lineno=34, col_offset=14), lineno=34, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=35, col_offset=8), 'db', Load(), lineno=35, col_offset=8), 'readfp', Load(), lineno=35, col_offset=8), [Name('sio', Load(), lineno=35, col_offset=23)], [], None, None, lineno=35, col_offset=8), lineno=35, col_offset=8), Expr(Call(Name('eq', Load(), lineno=36, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=36, col_offset=11), 'db', Load(), lineno=36, col_offset=11), 'guess_type', Load(), lineno=36, col_offset=11), [Str('foo.pyunit', lineno=36, col_offset=30)], [], None, None, lineno=36, col_offset=11), Tuple([Str('x-application/x-unittest', lineno=37, col_offset=12), Name('None', Load(), lineno=37, col_offset=40)], Load(), lineno=37, col_offset=12)], [], None, None, lineno=36, col_offset=8), lineno=36, col_offset=8), Expr(Call(Name('eq', Load(), lineno=38, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=38, col_offset=11), 'db', Load(), lineno=38, col_offset=11), 'guess_extension', Load(), lineno=38, col_offset=11), [Str('x-application/x-unittest', lineno=38, col_offset=35)], [], None, None, lineno=38, col_offset=11), Str('.pyunit', lineno=38, col_offset=64)], [], None, None, lineno=38, col_offset=8), lineno=38, col_offset=8)], [], lineno=32, col_offset=4), FunctionDef('test_non_standard_types', arguments([Name('self', Param(), lineno=40, col_offset=32)], None, None, []), [Assign([Name('eq', Store(), lineno=41, col_offset=8)], Attribute(Name('self', Load(), lineno=41, col_offset=13), 'assertEqual', Load(), lineno=41, col_offset=13), lineno=41, col_offset=8), Expr(Call(Name('eq', Load(), lineno=43, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=43, col_offset=11), 'db', Load(), lineno=43, col_offset=11), 'guess_type', Load(), lineno=43, col_offset=11), [Str('foo.xul', lineno=43, col_offset=30)], [keyword('strict', Name('True', Load(), lineno=43, col_offset=48))], None, None, lineno=43, col_offset=11), Tuple([Name('None', Load(), lineno=43, col_offset=56), Name('None', Load(), lineno=43, col_offset=62)], Load(), lineno=43, col_offset=56)], [], None, None, lineno=43, col_offset=8), lineno=43, col_offset=8), Expr(Call(Name('eq', Load(), lineno=44, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=44, col_offset=11), 'db', Load(), lineno=44, col_offset=11), 'guess_extension', Load(), lineno=44, col_offset=11), [Str('image/jpg', lineno=44, col_offset=35)], [keyword('strict', Name('True', Load(), lineno=44, col_offset=55))], None, None, lineno=44, col_offset=11), Name('None', Load(), lineno=44, col_offset=62)], [], None, None, lineno=44, col_offset=8), lineno=44, col_offset=8), Expr(Call(Name('eq', Load(), lineno=46, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=46, col_offset=11), 'db', Load(), lineno=46, col_offset=11), 'guess_type', Load(), lineno=46, col_offset=11), [Str('foo.xul', lineno=46, col_offset=30)], [keyword('strict', Name('False', Load(), lineno=46, col_offset=48))], None, None, lineno=46, col_offset=11), Tuple([Str('text/xul', lineno=46, col_offset=57), Name('None', Load(), lineno=46, col_offset=69)], Load(), lineno=46, col_offset=57)], [], None, None, lineno=46, col_offset=8), lineno=46, col_offset=8), Expr(Call(Name('eq', Load(), lineno=47, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=47, col_offset=11), 'db', Load(), lineno=47, col_offset=11), 'guess_extension', Load(), lineno=47, col_offset=11), [Str('image/jpg', lineno=47, col_offset=35)], [keyword('strict', Name('False', Load(), lineno=47, col_offset=55))], None, None, lineno=47, col_offset=11), Str('.jpg', lineno=47, col_offset=63)], [], None, None, lineno=47, col_offset=8), lineno=47, col_offset=8)], [], lineno=40, col_offset=4), FunctionDef('test_guess_all_types', arguments([Name('self', Param(), lineno=49, col_offset=29)], None, None, []), [Assign([Name('eq', Store(), lineno=50, col_offset=8)], Attribute(Name('self', Load(), lineno=50, col_offset=13), 'assertEqual', Load(), lineno=50, col_offset=13), lineno=50, col_offset=8), Assign([Name('unless', Store(), lineno=51, col_offset=8)], Attribute(Name('self', Load(), lineno=51, col_offset=17), 'assertTrue', Load(), lineno=51, col_offset=17), lineno=51, col_offset=8), Assign([Name('all', Store(), lineno=55, col_offset=8)], Call(Name('set', Load(), lineno=55, col_offset=14), [Call(Attribute(Attribute(Name('self', Load(), lineno=55, col_offset=18), 'db', Load(), lineno=55, col_offset=18), 'guess_all_extensions', Load(), lineno=55, col_offset=18), [Str('text/plain', lineno=55, col_offset=47)], [keyword('strict', Name('True', Load(), lineno=55, col_offset=68))], None, None, lineno=55, col_offset=18)], [], None, None, lineno=55, col_offset=14), lineno=55, col_offset=8), Expr(Call(Name('unless', Load(), lineno=56, col_offset=8), [Compare(Name('all', Load(), lineno=56, col_offset=15), [GtE()], [Call(Name('set', Load(), lineno=56, col_offset=22), [List([Str('.bat', lineno=56, col_offset=27), Str('.c', lineno=56, col_offset=35), Str('.h', lineno=56, col_offset=41), Str('.ksh', lineno=56, col_offset=47), Str('.pl', lineno=56, col_offset=55), Str('.txt', lineno=56, col_offset=62)], Load(), lineno=56, col_offset=26)], [], None, None, lineno=56, col_offset=22)], lineno=56, col_offset=15)], [], None, None, lineno=56, col_offset=8), lineno=56, col_offset=8), Assign([Name('all', Store(), lineno=58, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=58, col_offset=14), 'db', Load(), lineno=58, col_offset=14), 'guess_all_extensions', Load(), lineno=58, col_offset=14), [Str('image/jpg', lineno=58, col_offset=43)], [keyword('strict', Name('False', Load(), lineno=58, col_offset=63))], None, None, lineno=58, col_offset=14), lineno=58, col_offset=8), Expr(Call(Attribute(Name('all', Load(), lineno=59, col_offset=8), 'sort', Load(), lineno=59, col_offset=8), [], [], None, None, lineno=59, col_offset=8), lineno=59, col_offset=8), Expr(Call(Name('eq', Load(), lineno=60, col_offset=8), [Name('all', Load(), lineno=60, col_offset=11), List([Str('.jpg', lineno=60, col_offset=17)], Load(), lineno=60, col_offset=16)], [], None, None, lineno=60, col_offset=8), lineno=60, col_offset=8), Assign([Name('all', Store(), lineno=62, col_offset=8)], Call(Attribute(Attribute(Name('self', Load(), lineno=62, col_offset=14), 'db', Load(), lineno=62, col_offset=14), 'guess_all_extensions', Load(), lineno=62, col_offset=14), [Str('image/jpg', lineno=62, col_offset=43)], [keyword('strict', Name('True', Load(), lineno=62, col_offset=63))], None, None, lineno=62, col_offset=14), lineno=62, col_offset=8), Expr(Call(Name('eq', Load(), lineno=63, col_offset=8), [Name('all', Load(), lineno=63, col_offset=11), List([], Load(), lineno=63, col_offset=16)], [], None, None, lineno=63, col_offset=8), lineno=63, col_offset=8)], [], lineno=49, col_offset=4)], [], lineno=14, col_offset=0), ClassDef('Win32MimeTypesTestCase', [Attribute(Name('unittest', Load(), lineno=67, col_offset=29), 'TestCase', Load(), lineno=67, col_offset=29)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=68, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=70, col_offset=8), 'original_types_map', Store(), lineno=70, col_offset=8)], Call(Attribute(Attribute(Name('mimetypes', Load(), lineno=70, col_offset=34), 'types_map', Load(), lineno=70, col_offset=34), 'copy', Load(), lineno=70, col_offset=34), [], [], None, None, lineno=70, col_offset=34), lineno=70, col_offset=8), Expr(Call(Attribute(Attribute(Name('mimetypes', Load(), lineno=71, col_offset=8), 'types_map', Load(), lineno=71, col_offset=8), 'clear', Load(), lineno=71, col_offset=8), [], [], None, None, lineno=71, col_offset=8), lineno=71, col_offset=8), Expr(Call(Attribute(Name('mimetypes', Load(), lineno=72, col_offset=8), 'init', Load(), lineno=72, col_offset=8), [], [], None, None, lineno=72, col_offset=8), lineno=72, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=73, col_offset=8), 'db', Store(), lineno=73, col_offset=8)], Call(Attribute(Name('mimetypes', Load(), lineno=73, col_offset=18), 'MimeTypes', Load(), lineno=73, col_offset=18), [], [], None, None, lineno=73, col_offset=18), lineno=73, col_offset=8)], [], lineno=68, col_offset=4), FunctionDef('tearDown', arguments([Name('self', Param(), lineno=75, col_offset=17)], None, None, []), [Expr(Call(Attribute(Attribute(Name('mimetypes', Load(), lineno=77, col_offset=8), 'types_map', Load(), lineno=77, col_offset=8), 'clear', Load(), lineno=77, col_offset=8), [], [], None, None, lineno=77, col_offset=8), lineno=77, col_offset=8), Expr(Call(Attribute(Attribute(Name('mimetypes', Load(), lineno=78, col_offset=8), 'types_map', Load(), lineno=78, col_offset=8), 'update', Load(), lineno=78, col_offset=8), [Attribute(Name('self', Load(), lineno=78, col_offset=35), 'original_types_map', Load(), lineno=78, col_offset=35)], [], None, None, lineno=78, col_offset=8), lineno=78, col_offset=8)], [], lineno=75, col_offset=4), FunctionDef('test_registry_parsing', arguments([Name('self', Param(), lineno=80, col_offset=30)], None, None, []), [Assign([Name('eq', Store(), lineno=84, col_offset=8)], Attribute(Name('self', Load(), lineno=84, col_offset=13), 'assertEqual', Load(), lineno=84, col_offset=13), lineno=84, col_offset=8), Expr(Call(Name('eq', Load(), lineno=85, col_offset=8), [Call(Attribute(Attribute(Name('self', Load(), lineno=85, col_offset=11), 'db', Load(), lineno=85, col_offset=11), 'guess_type', Load(), lineno=85, col_offset=11), [Str('foo.txt', lineno=85, col_offset=30)], [], None, None, lineno=85, col_offset=11), Tuple([Str('text/plain', lineno=85, col_offset=43), Name('None', Load(), lineno=85, col_offset=57)], Load(), lineno=85, col_offset=43)], [], None, None, lineno=85, col_offset=8), lineno=85, col_offset=8)], [], lineno=80, col_offset=4)], [Call(Attribute(Name('unittest', Load(), lineno=66, col_offset=1), 'skipUnless', Load(), lineno=66, col_offset=1), [Call(Attribute(Attribute(Name('sys', Load(), lineno=66, col_offset=21), 'platform', Load(), lineno=66, col_offset=21), 'startswith', Load(), lineno=66, col_offset=21), [Str('win', lineno=66, col_offset=45)], [], None, None, lineno=66, col_offset=21), Str('Windows only', lineno=66, col_offset=53)], [], None, None, lineno=66, col_offset=1)], lineno=66, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Attribute(Name('test_support', Load(), lineno=88, col_offset=4), 'run_unittest', Load(), lineno=88, col_offset=4), [Name('MimeTypesTestCase', Load(), lineno=88, col_offset=30), Name('Win32MimeTypesTestCase', Load(), lineno=89, col_offset=8)], [], None, None, lineno=88, col_offset=4), lineno=88, col_offset=4)], [], lineno=87, col_offset=0), If(Compare(Name('__name__', Load(), lineno=93, col_offset=3), [Eq()], [Str('__main__', lineno=93, col_offset=15)], lineno=93, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=94, col_offset=4), [], [], None, None, lineno=94, col_offset=4), lineno=94, col_offset=4)], [], lineno=93, col_offset=0)])
