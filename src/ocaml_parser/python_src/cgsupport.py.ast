Module([Import([alias('string', None)], lineno=8, col_offset=0), Assign([Name('MODNAME', Store(), lineno=11, col_offset=0)], Str('_CG', lineno=11, col_offset=10), lineno=11, col_offset=0), Assign([Name('MODPREFIX', Store(), lineno=14, col_offset=0)], Str('CG', lineno=14, col_offset=12), lineno=14, col_offset=0), Assign([Name('INPUTFILE', Store(), lineno=15, col_offset=0)], BinOp(Call(Attribute(Name('string', Load(), lineno=15, col_offset=12), 'lower', Load(), lineno=15, col_offset=12), [Name('MODPREFIX', Load(), lineno=15, col_offset=25)], [], None, None, lineno=15, col_offset=12), Add(), Str('gen.py', lineno=15, col_offset=38), lineno=15, col_offset=12), lineno=15, col_offset=0), Assign([Name('OUTPUTFILE', Store(), lineno=16, col_offset=0)], BinOp(Name('MODNAME', Load(), lineno=16, col_offset=13), Add(), Str('module.c', lineno=16, col_offset=23), lineno=16, col_offset=13), lineno=16, col_offset=0), ImportFrom('macsupport', [alias('*', None)], 0, lineno=18, col_offset=0), Assign([Name('CGrafPtr', Store(), lineno=20, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=20, col_offset=11), [Str('CGrafPtr', lineno=20, col_offset=29), Str('GrafObj', lineno=20, col_offset=41)], [], None, None, lineno=20, col_offset=11), lineno=20, col_offset=0), Assign([Name('RgnHandle', Store(), lineno=21, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=21, col_offset=12), [Str('RgnHandle', lineno=21, col_offset=30), Str('ResObj', lineno=21, col_offset=43)], [], None, None, lineno=21, col_offset=12), lineno=21, col_offset=0), Assign([Name('includestuff', Store(), lineno=25, col_offset=0)], BinOp(Name('includestuff', Load(), lineno=25, col_offset=15), Add(), Str('\n#include <ApplicationServices/ApplicationServices.h>\n\nextern int GrafObj_Convert(PyObject *, GrafPtr *);\n\n/*\n** Manual converters\n*/\n\nPyObject *CGPoint_New(CGPoint *itself)\n{\n\n        return Py_BuildValue("(ff)",\n                        itself->x,\n                        itself->y);\n}\n\nint\nCGPoint_Convert(PyObject *v, CGPoint *p_itself)\n{\n        if( !PyArg_Parse(v, "(ff)",\n                        &p_itself->x,\n                        &p_itself->y) )\n                return 0;\n        return 1;\n}\n\nPyObject *CGRect_New(CGRect *itself)\n{\n\n        return Py_BuildValue("(ffff)",\n                        itself->origin.x,\n                        itself->origin.y,\n                        itself->size.width,\n                        itself->size.height);\n}\n\nint\nCGRect_Convert(PyObject *v, CGRect *p_itself)\n{\n        if( !PyArg_Parse(v, "(ffff)",\n                        &p_itself->origin.x,\n                        &p_itself->origin.y,\n                        &p_itself->size.width,\n                        &p_itself->size.height) )\n                return 0;\n        return 1;\n}\n\nPyObject *CGAffineTransform_New(CGAffineTransform *itself)\n{\n\n        return Py_BuildValue("(ffffff)",\n                        itself->a,\n                        itself->b,\n                        itself->c,\n                        itself->d,\n                        itself->tx,\n                        itself->ty);\n}\n\nint\nCGAffineTransform_Convert(PyObject *v, CGAffineTransform *p_itself)\n{\n        if( !PyArg_Parse(v, "(ffffff)",\n                        &p_itself->a,\n                        &p_itself->b,\n                        &p_itself->c,\n                        &p_itself->d,\n                        &p_itself->tx,\n                        &p_itself->ty) )\n                return 0;\n        return 1;\n}\n', lineno=99, col_offset=-1), lineno=25, col_offset=15), lineno=25, col_offset=0), ClassDef('MyOpaqueByValueType', [Name('OpaqueByValueType', Load(), lineno=101, col_offset=26)], [Expr(Str('Sort of a mix between OpaqueByValueType and OpaqueType.', lineno=102, col_offset=4), lineno=102, col_offset=4), FunctionDef('mkvalueArgs', arguments([Name('self', Param(), lineno=103, col_offset=20), Name('name', Param(), lineno=103, col_offset=26)], None, None, []), [Return(BinOp(Str('%s, &%s', lineno=104, col_offset=15), Mod(), Tuple([Attribute(Name('self', Load(), lineno=104, col_offset=28), 'new', Load(), lineno=104, col_offset=28), Name('name', Load(), lineno=104, col_offset=38)], Load(), lineno=104, col_offset=28), lineno=104, col_offset=15), lineno=104, col_offset=8)], [], lineno=103, col_offset=4)], [], lineno=101, col_offset=0), Assign([Name('CGPoint', Store(), lineno=106, col_offset=0)], Call(Name('MyOpaqueByValueType', Load(), lineno=106, col_offset=10), [Str('CGPoint', lineno=106, col_offset=30), Str('CGPoint', lineno=106, col_offset=41)], [], None, None, lineno=106, col_offset=10), lineno=106, col_offset=0), Assign([Name('CGRect', Store(), lineno=107, col_offset=0)], Call(Name('MyOpaqueByValueType', Load(), lineno=107, col_offset=9), [Str('CGRect', lineno=107, col_offset=29), Str('CGRect', lineno=107, col_offset=39)], [], None, None, lineno=107, col_offset=9), lineno=107, col_offset=0), Assign([Name('CGAffineTransform', Store(), lineno=108, col_offset=0)], Call(Name('MyOpaqueByValueType', Load(), lineno=108, col_offset=20), [Str('CGAffineTransform', lineno=108, col_offset=40), Str('CGAffineTransform', lineno=108, col_offset=61)], [], None, None, lineno=108, col_offset=20), lineno=108, col_offset=0), Assign([Name('char_ptr', Store(), lineno=110, col_offset=0)], Call(Name('Type', Load(), lineno=110, col_offset=11), [Str('char *', lineno=110, col_offset=16), Str('s', lineno=110, col_offset=26)], [], None, None, lineno=110, col_offset=11), lineno=110, col_offset=0), Assign([Name('CGTextEncoding', Store(), lineno=112, col_offset=0)], Name('int', Load(), lineno=112, col_offset=17), lineno=112, col_offset=0), Assign([Name('CGLineCap', Store(), lineno=113, col_offset=0)], Name('int', Load(), lineno=113, col_offset=12), lineno=113, col_offset=0), Assign([Name('CGLineJoin', Store(), lineno=114, col_offset=0)], Name('int', Load(), lineno=114, col_offset=13), lineno=114, col_offset=0), Assign([Name('CGTextDrawingMode', Store(), lineno=115, col_offset=0)], Name('int', Load(), lineno=115, col_offset=20), lineno=115, col_offset=0), Assign([Name('CGPathDrawingMode', Store(), lineno=116, col_offset=0)], Name('int', Load(), lineno=116, col_offset=20), lineno=116, col_offset=0), Assign([Name('CGInterpolationQuality', Store(), lineno=117, col_offset=0)], Name('int', Load(), lineno=117, col_offset=25), lineno=117, col_offset=0), Assign([Name('CGContextRef', Store(), lineno=120, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=120, col_offset=15), [Str('CGContextRef', lineno=120, col_offset=33), Str('CGContextRefObj', lineno=120, col_offset=49)], [], None, None, lineno=120, col_offset=15), lineno=120, col_offset=0), ClassDef('MyObjectDefinition', [Name('PEP253Mixin', Load(), lineno=123, col_offset=25), Name('GlobalObjectDefinition', Load(), lineno=123, col_offset=38)], [FunctionDef('outputStructMembers', arguments([Name('self', Param(), lineno=124, col_offset=28)], None, None, []), [Expr(Call(Attribute(Name('ObjectDefinition', Load(), lineno=125, col_offset=8), 'outputStructMembers', Load(), lineno=125, col_offset=8), [Name('self', Load(), lineno=125, col_offset=45)], [], None, None, lineno=125, col_offset=8), lineno=125, col_offset=8)], [], lineno=124, col_offset=4), FunctionDef('outputCleanupStructMembers', arguments([Name('self', Param(), lineno=126, col_offset=35)], None, None, []), [Expr(Call(Name('Output', Load(), lineno=127, col_offset=8), [Str('CGContextRelease(self->ob_itself);', lineno=127, col_offset=15)], [], None, None, lineno=127, col_offset=8), lineno=127, col_offset=8)], [], lineno=126, col_offset=4)], [], lineno=123, col_offset=0), Assign([Name('module', Store(), lineno=131, col_offset=0)], Call(Name('MacModule', Load(), lineno=131, col_offset=9), [Name('MODNAME', Load(), lineno=131, col_offset=19), Name('MODPREFIX', Load(), lineno=131, col_offset=28), Name('includestuff', Load(), lineno=131, col_offset=39), Name('finalstuff', Load(), lineno=131, col_offset=53), Name('initstuff', Load(), lineno=131, col_offset=65)], [], None, None, lineno=131, col_offset=9), lineno=131, col_offset=0), Assign([Name('CGContextRef_object', Store(), lineno=133, col_offset=0)], Call(Name('MyObjectDefinition', Load(), lineno=133, col_offset=22), [Str('CGContextRef', lineno=133, col_offset=41), Str('CGContextRefObj', lineno=133, col_offset=57), Str('CGContextRef', lineno=133, col_offset=76)], [], None, None, lineno=133, col_offset=22), lineno=133, col_offset=0), Expr(Call(Attribute(Name('module', Load(), lineno=138, col_offset=0), 'addobject', Load(), lineno=138, col_offset=0), [Name('CGContextRef_object', Load(), lineno=138, col_offset=17)], [], None, None, lineno=138, col_offset=0), lineno=138, col_offset=0), Assign([Name('Function', Store(), lineno=142, col_offset=0)], Name('FunctionGenerator', Load(), lineno=142, col_offset=11), lineno=142, col_offset=0), Assign([Name('Method', Store(), lineno=143, col_offset=0)], Name('MethodGenerator', Load(), lineno=143, col_offset=9), lineno=143, col_offset=0), Assign([Name('CGContextRef_methods', Store(), lineno=145, col_offset=0)], List([], Load(), lineno=145, col_offset=23), lineno=145, col_offset=0), Expr(Call(Name('execfile', Load(), lineno=148, col_offset=0), [Name('INPUTFILE', Load(), lineno=148, col_offset=9)], [], None, None, lineno=148, col_offset=0), lineno=148, col_offset=0), Assign([Name('f', Store(), lineno=151, col_offset=0)], Call(Name('Method', Load(), lineno=151, col_offset=4), [Name('void', Load(), lineno=151, col_offset=11), Str('SyncCGContextOriginWithPort', lineno=151, col_offset=17), Tuple([Name('CGContextRef', Load(), lineno=152, col_offset=5), Str('ctx', lineno=152, col_offset=19), Name('InMode', Load(), lineno=152, col_offset=26)], Load(), lineno=152, col_offset=5), Tuple([Name('CGrafPtr', Load(), lineno=153, col_offset=5), Str('port', lineno=153, col_offset=15), Name('InMode', Load(), lineno=153, col_offset=23)], Load(), lineno=153, col_offset=5)], [], None, None, lineno=151, col_offset=4), lineno=151, col_offset=0), Expr(Call(Attribute(Name('CGContextRef_methods', Load(), lineno=155, col_offset=0), 'append', Load(), lineno=155, col_offset=0), [Name('f', Load(), lineno=155, col_offset=28)], [], None, None, lineno=155, col_offset=0), lineno=155, col_offset=0), Assign([Name('f', Store(), lineno=158, col_offset=0)], Call(Name('Method', Load(), lineno=158, col_offset=4), [Name('void', Load(), lineno=158, col_offset=11), Str('ClipCGContextToRegion', lineno=158, col_offset=17), Tuple([Name('CGContextRef', Load(), lineno=159, col_offset=5), Str('ctx', lineno=159, col_offset=19), Name('InMode', Load(), lineno=159, col_offset=26)], Load(), lineno=159, col_offset=5), Tuple([Name('Rect', Load(), lineno=160, col_offset=5), Str('portRect', lineno=160, col_offset=11), Name('InMode', Load(), lineno=160, col_offset=23)], Load(), lineno=160, col_offset=5), Tuple([Name('RgnHandle', Load(), lineno=161, col_offset=5), Str('region', lineno=161, col_offset=16), Name('InMode', Load(), lineno=161, col_offset=26)], Load(), lineno=161, col_offset=5)], [], None, None, lineno=158, col_offset=4), lineno=158, col_offset=0), Expr(Call(Attribute(Name('CGContextRef_methods', Load(), lineno=163, col_offset=0), 'append', Load(), lineno=163, col_offset=0), [Name('f', Load(), lineno=163, col_offset=28)], [], None, None, lineno=163, col_offset=0), lineno=163, col_offset=0), Assign([Name('CreateCGContextForPort_body', Store(), lineno=166, col_offset=0)], Str('GrafPtr port;\nCGContextRef ctx;\nOSStatus _err;\n\nif (!PyArg_ParseTuple(_args, "O&", GrafObj_Convert, &port))\n        return NULL;\n\n_err = CreateCGContextForPort(port, &ctx);\nif (_err != noErr)\n        if (_err != noErr) return PyMac_Error(_err);\n_res = Py_BuildValue("O&", CGContextRefObj_New, ctx);\nreturn _res;\n', lineno=179, col_offset=-1), lineno=166, col_offset=0), Assign([Name('f', Store(), lineno=181, col_offset=0)], Call(Name('ManualGenerator', Load(), lineno=181, col_offset=4), [Str('CreateCGContextForPort', lineno=181, col_offset=20), Name('CreateCGContextForPort_body', Load(), lineno=181, col_offset=46)], [], None, None, lineno=181, col_offset=4), lineno=181, col_offset=0), Assign([Attribute(Name('f', Load(), lineno=182, col_offset=0), 'docstring', Store(), lineno=182, col_offset=0)], Lambda(arguments([], None, None, []), Str('(CGrafPtr) -> CGContextRef', lineno=182, col_offset=22), lineno=182, col_offset=14), lineno=182, col_offset=0), Expr(Call(Attribute(Name('module', Load(), lineno=183, col_offset=0), 'add', Load(), lineno=183, col_offset=0), [Name('f', Load(), lineno=183, col_offset=11)], [], None, None, lineno=183, col_offset=0), lineno=183, col_offset=0), For(Name('f', Store(), lineno=187, col_offset=4), Name('CGContextRef_methods', Load(), lineno=187, col_offset=9), [Expr(Call(Attribute(Name('CGContextRef_object', Load(), lineno=188, col_offset=4), 'add', Load(), lineno=188, col_offset=4), [Name('f', Load(), lineno=188, col_offset=28)], [], None, None, lineno=188, col_offset=4), lineno=188, col_offset=4)], [], lineno=187, col_offset=0), Expr(Call(Name('SetOutputFileName', Load(), lineno=191, col_offset=0), [Name('OUTPUTFILE', Load(), lineno=191, col_offset=18)], [], None, None, lineno=191, col_offset=0), lineno=191, col_offset=0), Expr(Call(Attribute(Name('module', Load(), lineno=192, col_offset=0), 'generate', Load(), lineno=192, col_offset=0), [], [], None, None, lineno=192, col_offset=0), lineno=192, col_offset=0)])
