Module([Import([alias('thread', None)], lineno=69, col_offset=0), Import([alias('sync', None)], lineno=70, col_offset=0), ClassDef('_CoEvent', [], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=73, col_offset=17), Name('func', Param(), lineno=73, col_offset=23)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=74, col_offset=8), 'f', Store(), lineno=74, col_offset=8)], Name('func', Load(), lineno=74, col_offset=17), lineno=74, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=75, col_offset=8), 'e', Store(), lineno=75, col_offset=8)], Call(Attribute(Name('sync', Load(), lineno=75, col_offset=17), 'event', Load(), lineno=75, col_offset=17), [], [], None, None, lineno=75, col_offset=17), lineno=75, col_offset=8)], [], lineno=73, col_offset=4), FunctionDef('__repr__', arguments([Name('self', Param(), lineno=77, col_offset=17)], None, None, []), [If(Compare(Attribute(Name('self', Load(), lineno=78, col_offset=11), 'f', Load(), lineno=78, col_offset=11), [Is()], [Name('None', Load(), lineno=78, col_offset=21)], lineno=78, col_offset=11), [Return(Str('main coroutine', lineno=79, col_offset=19), lineno=79, col_offset=12)], [Return(BinOp(Str('coroutine for func ', lineno=81, col_offset=19), Add(), Attribute(Attribute(Name('self', Load(), lineno=81, col_offset=43), 'f', Load(), lineno=81, col_offset=43), 'func_name', Load(), lineno=81, col_offset=43), lineno=81, col_offset=19), lineno=81, col_offset=12)], lineno=78, col_offset=8)], [], lineno=77, col_offset=4), FunctionDef('__hash__', arguments([Name('self', Param(), lineno=83, col_offset=17)], None, None, []), [Return(Call(Name('id', Load(), lineno=84, col_offset=15), [Name('self', Load(), lineno=84, col_offset=18)], [], None, None, lineno=84, col_offset=15), lineno=84, col_offset=8)], [], lineno=83, col_offset=4), FunctionDef('__cmp__', arguments([Name('x', Param(), lineno=86, col_offset=16), Name('y', Param(), lineno=86, col_offset=18)], None, None, []), [Return(Call(Name('cmp', Load(), lineno=87, col_offset=15), [Call(Name('id', Load(), lineno=87, col_offset=19), [Name('x', Load(), lineno=87, col_offset=22)], [], None, None, lineno=87, col_offset=19), Call(Name('id', Load(), lineno=87, col_offset=26), [Name('y', Load(), lineno=87, col_offset=29)], [], None, None, lineno=87, col_offset=26)], [], None, None, lineno=87, col_offset=15), lineno=87, col_offset=8)], [], lineno=86, col_offset=4), FunctionDef('resume', arguments([Name('self', Param(), lineno=89, col_offset=15)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=90, col_offset=8), 'e', Load(), lineno=90, col_offset=8), 'post', Load(), lineno=90, col_offset=8), [], [], None, None, lineno=90, col_offset=8), lineno=90, col_offset=8)], [], lineno=89, col_offset=4), FunctionDef('wait', arguments([Name('self', Param(), lineno=92, col_offset=13)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=93, col_offset=8), 'e', Load(), lineno=93, col_offset=8), 'wait', Load(), lineno=93, col_offset=8), [], [], None, None, lineno=93, col_offset=8), lineno=93, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=94, col_offset=8), 'e', Load(), lineno=94, col_offset=8), 'clear', Load(), lineno=94, col_offset=8), [], [], None, None, lineno=94, col_offset=8), lineno=94, col_offset=8)], [], lineno=92, col_offset=4)], [], lineno=72, col_offset=0), ClassDef('Killed', [Name('Exception', Load(), lineno=96, col_offset=13)], [Pass( lineno=96, col_offset=25)], [], lineno=96, col_offset=0), ClassDef('EarlyExit', [Name('Exception', Load(), lineno=97, col_offset=16)], [Pass( lineno=97, col_offset=28)], [], lineno=97, col_offset=0), ClassDef('Coroutine', [], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=100, col_offset=17)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=101, col_offset=8), 'active', Store(), lineno=101, col_offset=8), Attribute(Name('self', Load(), lineno=101, col_offset=22), 'main', Store(), lineno=101, col_offset=22)], Call(Name('_CoEvent', Load(), lineno=101, col_offset=34), [Name('None', Load(), lineno=101, col_offset=43)], [], None, None, lineno=101, col_offset=34), lineno=101, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=102, col_offset=8), 'invokedby', Store(), lineno=102, col_offset=8)], Dict([Attribute(Name('self', Load(), lineno=102, col_offset=26), 'main', Load(), lineno=102, col_offset=26)], [Name('None', Load(), lineno=102, col_offset=37)], lineno=102, col_offset=25), lineno=102, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=103, col_offset=8), 'killed', Store(), lineno=103, col_offset=8)], Num(0, lineno=103, col_offset=22), lineno=103, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=104, col_offset=8), 'value', Store(), lineno=104, col_offset=8)], Name('None', Load(), lineno=104, col_offset=22), lineno=104, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=105, col_offset=8), 'terminated_by', Store(), lineno=105, col_offset=8)], Name('None', Load(), lineno=105, col_offset=29), lineno=105, col_offset=8)], [], lineno=100, col_offset=4), FunctionDef('create', arguments([Name('self', Param(), lineno=107, col_offset=15), Name('func', Param(), lineno=107, col_offset=21)], 'args', None, []), [Assign([Name('me', Store(), lineno=108, col_offset=8)], Call(Name('_CoEvent', Load(), lineno=108, col_offset=13), [Name('func', Load(), lineno=108, col_offset=22)], [], None, None, lineno=108, col_offset=13), lineno=108, col_offset=8), Assign([Subscript(Attribute(Name('self', Load(), lineno=109, col_offset=8), 'invokedby', Load(), lineno=109, col_offset=8), Index(Name('me', Load(), lineno=109, col_offset=23)), Store(), lineno=109, col_offset=8)], Name('None', Load(), lineno=109, col_offset=29), lineno=109, col_offset=8), Expr(Call(Attribute(Name('thread', Load(), lineno=110, col_offset=8), 'start_new_thread', Load(), lineno=110, col_offset=8), [Attribute(Name('self', Load(), lineno=110, col_offset=32), '_start', Load(), lineno=110, col_offset=32), BinOp(Tuple([Name('me', Load(), lineno=110, col_offset=46)], Load(), lineno=110, col_offset=46), Add(), Name('args', Load(), lineno=110, col_offset=53), lineno=110, col_offset=45)], [], None, None, lineno=110, col_offset=8), lineno=110, col_offset=8), Return(Name('me', Load(), lineno=111, col_offset=15), lineno=111, col_offset=8)], [], lineno=107, col_offset=4), FunctionDef('_start', arguments([Name('self', Param(), lineno=113, col_offset=15), Name('me', Param(), lineno=113, col_offset=21)], 'args', None, []), [Expr(Call(Attribute(Name('me', Load(), lineno=114, col_offset=8), 'wait', Load(), lineno=114, col_offset=8), [], [], None, None, lineno=114, col_offset=8), lineno=114, col_offset=8), If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=115, col_offset=15), 'killed', Load(), lineno=115, col_offset=15), lineno=115, col_offset=11), [TryFinally([TryExcept([Expr(Call(Name('apply', Load(), lineno=118, col_offset=20), [Attribute(Name('me', Load(), lineno=118, col_offset=26), 'f', Load(), lineno=118, col_offset=26), Name('args', Load(), lineno=118, col_offset=32)], [], None, None, lineno=118, col_offset=20), lineno=118, col_offset=20)], [ExceptHandler(Name('Killed', Load(), lineno=119, col_offset=23), None, [Pass( lineno=120, col_offset=20)], lineno=119, col_offset=16)], [], lineno=117, col_offset=16)], [If(UnaryOp(Not(), Attribute(Name('self', Load(), lineno=122, col_offset=23), 'killed', Load(), lineno=122, col_offset=23), lineno=122, col_offset=19), [Assign([Attribute(Name('self', Load(), lineno=123, col_offset=20), 'terminated_by', Store(), lineno=123, col_offset=20)], Name('me', Load(), lineno=123, col_offset=41), lineno=123, col_offset=20), Expr(Call(Attribute(Name('self', Load(), lineno=124, col_offset=20), 'kill', Load(), lineno=124, col_offset=20), [], [], None, None, lineno=124, col_offset=20), lineno=124, col_offset=20)], [], lineno=122, col_offset=16)], lineno=116, col_offset=12)], [], lineno=115, col_offset=8)], [], lineno=113, col_offset=4), FunctionDef('kill', arguments([Name('self', Param(), lineno=126, col_offset=13)], None, None, []), [If(Attribute(Name('self', Load(), lineno=127, col_offset=11), 'killed', Load(), lineno=127, col_offset=11), [Raise(Name('TypeError', Load(), lineno=128, col_offset=18), Str('kill() called on dead coroutines', lineno=128, col_offset=29), None, lineno=128, col_offset=12)], [], lineno=127, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=129, col_offset=8), 'killed', Store(), lineno=129, col_offset=8)], Num(1, lineno=129, col_offset=22), lineno=129, col_offset=8), For(Name('coroutine', Store(), lineno=130, col_offset=12), Call(Attribute(Attribute(Name('self', Load(), lineno=130, col_offset=25), 'invokedby', Load(), lineno=130, col_offset=25), 'keys', Load(), lineno=130, col_offset=25), [], [], None, None, lineno=130, col_offset=25), [Expr(Call(Attribute(Name('coroutine', Load(), lineno=131, col_offset=12), 'resume', Load(), lineno=131, col_offset=12), [], [], None, None, lineno=131, col_offset=12), lineno=131, col_offset=12)], [], lineno=130, col_offset=8)], [], lineno=126, col_offset=4), FunctionDef('back', arguments([Name('self', Param(), lineno=133, col_offset=13), Name('data', Param(), lineno=133, col_offset=19)], None, None, [Name('None', Load(), lineno=133, col_offset=24)]), [Return(Call(Attribute(Name('self', Load(), lineno=134, col_offset=15), 'tran', Load(), lineno=134, col_offset=15), [Subscript(Attribute(Name('self', Load(), lineno=134, col_offset=26), 'invokedby', Load(), lineno=134, col_offset=26), Index(Attribute(Name('self', Load(), lineno=134, col_offset=41), 'active', Load(), lineno=134, col_offset=41)), Load(), lineno=134, col_offset=26), Name('data', Load(), lineno=134, col_offset=55)], [], None, None, lineno=134, col_offset=15), lineno=134, col_offset=8)], [], lineno=133, col_offset=4), FunctionDef('detach', arguments([Name('self', Param(), lineno=136, col_offset=15), Name('data', Param(), lineno=136, col_offset=21)], None, None, [Name('None', Load(), lineno=136, col_offset=26)]), [Return(Call(Attribute(Name('self', Load(), lineno=137, col_offset=15), 'tran', Load(), lineno=137, col_offset=15), [Attribute(Name('self', Load(), lineno=137, col_offset=26), 'main', Load(), lineno=137, col_offset=26), Name('data', Load(), lineno=137, col_offset=37)], [], None, None, lineno=137, col_offset=15), lineno=137, col_offset=8)], [], lineno=136, col_offset=4), FunctionDef('tran', arguments([Name('self', Param(), lineno=139, col_offset=13), Name('target', Param(), lineno=139, col_offset=19), Name('data', Param(), lineno=139, col_offset=27)], None, None, [Name('None', Load(), lineno=139, col_offset=32)]), [If(UnaryOp(Not(), Call(Attribute(Attribute(Name('self', Load(), lineno=140, col_offset=15), 'invokedby', Load(), lineno=140, col_offset=15), 'has_key', Load(), lineno=140, col_offset=15), [Name('target', Load(), lineno=140, col_offset=38)], [], None, None, lineno=140, col_offset=15), lineno=140, col_offset=11), [Raise(Name('TypeError', Load(), lineno=141, col_offset=18), BinOp(Str('.tran target %r is not an active coroutine', lineno=141, col_offset=29), Mod(), Tuple([Name('target', Load(), lineno=141, col_offset=77)], Load(), lineno=141, col_offset=77), lineno=141, col_offset=29), None, lineno=141, col_offset=12)], [], lineno=140, col_offset=8), If(Attribute(Name('self', Load(), lineno=142, col_offset=11), 'killed', Load(), lineno=142, col_offset=11), [Raise(Name('TypeError', Load(), lineno=143, col_offset=18), BinOp(Str('.tran target %r is killed', lineno=143, col_offset=29), Mod(), Tuple([Name('target', Load(), lineno=143, col_offset=60)], Load(), lineno=143, col_offset=60), lineno=143, col_offset=29), None, lineno=143, col_offset=12)], [], lineno=142, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=144, col_offset=8), 'value', Store(), lineno=144, col_offset=8)], Name('data', Load(), lineno=144, col_offset=21), lineno=144, col_offset=8), Assign([Name('me', Store(), lineno=145, col_offset=8)], Attribute(Name('self', Load(), lineno=145, col_offset=13), 'active', Load(), lineno=145, col_offset=13), lineno=145, col_offset=8), Assign([Subscript(Attribute(Name('self', Load(), lineno=146, col_offset=8), 'invokedby', Load(), lineno=146, col_offset=8), Index(Name('target', Load(), lineno=146, col_offset=23)), Store(), lineno=146, col_offset=8)], Name('me', Load(), lineno=146, col_offset=33), lineno=146, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=147, col_offset=8), 'active', Store(), lineno=147, col_offset=8)], Name('target', Load(), lineno=147, col_offset=22), lineno=147, col_offset=8), Expr(Call(Attribute(Name('target', Load(), lineno=148, col_offset=8), 'resume', Load(), lineno=148, col_offset=8), [], [], None, None, lineno=148, col_offset=8), lineno=148, col_offset=8), Expr(Call(Attribute(Name('me', Load(), lineno=150, col_offset=8), 'wait', Load(), lineno=150, col_offset=8), [], [], None, None, lineno=150, col_offset=8), lineno=150, col_offset=8), If(Attribute(Name('self', Load(), lineno=151, col_offset=11), 'killed', Load(), lineno=151, col_offset=11), [If(Compare(Attribute(Name('self', Load(), lineno=152, col_offset=15), 'main', Load(), lineno=152, col_offset=15), [IsNot()], [Name('me', Load(), lineno=152, col_offset=32)], lineno=152, col_offset=15), [Raise(Name('Killed', Load(), lineno=153, col_offset=22), None, None, lineno=153, col_offset=16)], [], lineno=152, col_offset=12), If(Compare(Attribute(Name('self', Load(), lineno=154, col_offset=15), 'terminated_by', Load(), lineno=154, col_offset=15), [IsNot()], [Name('None', Load(), lineno=154, col_offset=41)], lineno=154, col_offset=15), [Raise(Name('EarlyExit', Load(), lineno=155, col_offset=22), BinOp(Str('%r terminated early', lineno=155, col_offset=33), Mod(), Tuple([Attribute(Name('self', Load(), lineno=155, col_offset=58), 'terminated_by', Load(), lineno=155, col_offset=58)], Load(), lineno=155, col_offset=58), lineno=155, col_offset=33), None, lineno=155, col_offset=16)], [], lineno=154, col_offset=12)], [], lineno=151, col_offset=8), Return(Attribute(Name('self', Load(), lineno=157, col_offset=15), 'value', Load(), lineno=157, col_offset=15), lineno=157, col_offset=8)], [], lineno=139, col_offset=4)], [], lineno=99, col_offset=0)])
