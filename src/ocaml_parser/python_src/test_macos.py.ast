Module([Import([alias('unittest', None)], lineno=1, col_offset=0), ImportFrom('test', [alias('test_support', None)], 0, lineno=2, col_offset=0), Import([alias('os', None)], lineno=3, col_offset=0), Import([alias('subprocess', None)], lineno=4, col_offset=0), Assign([Name('MacOS', Store(), lineno=6, col_offset=0)], Call(Attribute(Name('test_support', Load(), lineno=6, col_offset=8), 'import_module', Load(), lineno=6, col_offset=8), [Str('MacOS', lineno=6, col_offset=35)], [], None, None, lineno=6, col_offset=8), lineno=6, col_offset=0), Assign([Name('TESTFN2', Store(), lineno=8, col_offset=0)], BinOp(Attribute(Name('test_support', Load(), lineno=8, col_offset=10), 'TESTFN', Load(), lineno=8, col_offset=10), Add(), Str('2', lineno=8, col_offset=32), lineno=8, col_offset=10), lineno=8, col_offset=0), ClassDef('TestMacOS', [Attribute(Name('unittest', Load(), lineno=10, col_offset=16), 'TestCase', Load(), lineno=10, col_offset=16)], [FunctionDef('testGetCreatorAndType', arguments([Name('self', Param(), lineno=12, col_offset=30)], None, None, []), [If(UnaryOp(Not(), Call(Attribute(Attribute(Name('os', Load(), lineno=13, col_offset=15), 'path', Load(), lineno=13, col_offset=15), 'exists', Load(), lineno=13, col_offset=15), [Str('/Developer/Tools/SetFile', lineno=13, col_offset=30)], [], None, None, lineno=13, col_offset=15), lineno=13, col_offset=11), [Return(None, lineno=14, col_offset=12)], [], lineno=13, col_offset=8), TryFinally([Assign([Name('fp', Store(), lineno=17, col_offset=12)], Call(Name('open', Load(), lineno=17, col_offset=17), [Attribute(Name('test_support', Load(), lineno=17, col_offset=22), 'TESTFN', Load(), lineno=17, col_offset=22), Str('w', lineno=17, col_offset=43)], [], None, None, lineno=17, col_offset=17), lineno=17, col_offset=12), Expr(Call(Attribute(Name('fp', Load(), lineno=18, col_offset=12), 'write', Load(), lineno=18, col_offset=12), [Str('\n', lineno=18, col_offset=21)], [], None, None, lineno=18, col_offset=12), lineno=18, col_offset=12), Expr(Call(Attribute(Name('fp', Load(), lineno=19, col_offset=12), 'close', Load(), lineno=19, col_offset=12), [], [], None, None, lineno=19, col_offset=12), lineno=19, col_offset=12), Expr(Call(Attribute(Name('subprocess', Load(), lineno=21, col_offset=12), 'call', Load(), lineno=21, col_offset=12), [List([Str('/Developer/Tools/SetFile', lineno=22, col_offset=21), Str('-t', lineno=22, col_offset=49), Str('ABCD', lineno=22, col_offset=55), Str('-c', lineno=22, col_offset=63), Str('EFGH', lineno=22, col_offset=69), Attribute(Name('test_support', Load(), lineno=23, col_offset=24), 'TESTFN', Load(), lineno=23, col_offset=24)], Load(), lineno=22, col_offset=20)], [], None, None, lineno=21, col_offset=12), lineno=21, col_offset=12), Assign([Tuple([Name('cr', Store(), lineno=25, col_offset=12), Name('tp', Store(), lineno=25, col_offset=16)], Store(), lineno=25, col_offset=12)], Call(Attribute(Name('MacOS', Load(), lineno=25, col_offset=21), 'GetCreatorAndType', Load(), lineno=25, col_offset=21), [Attribute(Name('test_support', Load(), lineno=25, col_offset=45), 'TESTFN', Load(), lineno=25, col_offset=45)], [], None, None, lineno=25, col_offset=21), lineno=25, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=26, col_offset=12), 'assertEqual', Load(), lineno=26, col_offset=12), [Name('tp', Load(), lineno=26, col_offset=29), Str('ABCD', lineno=26, col_offset=33)], [], None, None, lineno=26, col_offset=12), lineno=26, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=27, col_offset=12), 'assertEqual', Load(), lineno=27, col_offset=12), [Name('cr', Load(), lineno=27, col_offset=29), Str('EFGH', lineno=27, col_offset=33)], [], None, None, lineno=27, col_offset=12), lineno=27, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=30, col_offset=12), 'unlink', Load(), lineno=30, col_offset=12), [Attribute(Name('test_support', Load(), lineno=30, col_offset=22), 'TESTFN', Load(), lineno=30, col_offset=22)], [], None, None, lineno=30, col_offset=12), lineno=30, col_offset=12)], lineno=16, col_offset=8)], [], lineno=12, col_offset=4), FunctionDef('testSetCreatorAndType', arguments([Name('self', Param(), lineno=32, col_offset=30)], None, None, []), [If(UnaryOp(Not(), Call(Attribute(Attribute(Name('os', Load(), lineno=33, col_offset=15), 'path', Load(), lineno=33, col_offset=15), 'exists', Load(), lineno=33, col_offset=15), [Str('/Developer/Tools/GetFileInfo', lineno=33, col_offset=30)], [], None, None, lineno=33, col_offset=15), lineno=33, col_offset=11), [Return(None, lineno=34, col_offset=12)], [], lineno=33, col_offset=8), TryFinally([Assign([Name('fp', Store(), lineno=37, col_offset=12)], Call(Name('open', Load(), lineno=37, col_offset=17), [Attribute(Name('test_support', Load(), lineno=37, col_offset=22), 'TESTFN', Load(), lineno=37, col_offset=22), Str('w', lineno=37, col_offset=43)], [], None, None, lineno=37, col_offset=17), lineno=37, col_offset=12), Expr(Call(Attribute(Name('fp', Load(), lineno=38, col_offset=12), 'write', Load(), lineno=38, col_offset=12), [Str('\n', lineno=38, col_offset=21)], [], None, None, lineno=38, col_offset=12), lineno=38, col_offset=12), Expr(Call(Attribute(Name('fp', Load(), lineno=39, col_offset=12), 'close', Load(), lineno=39, col_offset=12), [], [], None, None, lineno=39, col_offset=12), lineno=39, col_offset=12), Expr(Call(Attribute(Name('MacOS', Load(), lineno=41, col_offset=12), 'SetCreatorAndType', Load(), lineno=41, col_offset=12), [Attribute(Name('test_support', Load(), lineno=41, col_offset=36), 'TESTFN', Load(), lineno=41, col_offset=36), Str('ABCD', lineno=42, col_offset=20), Str('EFGH', lineno=42, col_offset=28)], [], None, None, lineno=41, col_offset=12), lineno=41, col_offset=12), Assign([Tuple([Name('cr', Store(), lineno=44, col_offset=12), Name('tp', Store(), lineno=44, col_offset=16)], Store(), lineno=44, col_offset=12)], Call(Attribute(Name('MacOS', Load(), lineno=44, col_offset=21), 'GetCreatorAndType', Load(), lineno=44, col_offset=21), [Attribute(Name('test_support', Load(), lineno=44, col_offset=45), 'TESTFN', Load(), lineno=44, col_offset=45)], [], None, None, lineno=44, col_offset=21), lineno=44, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=45, col_offset=12), 'assertEqual', Load(), lineno=45, col_offset=12), [Name('cr', Load(), lineno=45, col_offset=29), Str('ABCD', lineno=45, col_offset=33)], [], None, None, lineno=45, col_offset=12), lineno=45, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=46, col_offset=12), 'assertEqual', Load(), lineno=46, col_offset=12), [Name('tp', Load(), lineno=46, col_offset=29), Str('EFGH', lineno=46, col_offset=33)], [], None, None, lineno=46, col_offset=12), lineno=46, col_offset=12), Assign([Name('data', Store(), lineno=48, col_offset=12)], Subscript(Call(Attribute(Call(Attribute(Name('subprocess', Load(), lineno=48, col_offset=19), 'Popen', Load(), lineno=48, col_offset=19), [List([Str('/Developer/Tools/GetFileInfo', lineno=48, col_offset=37), Attribute(Name('test_support', Load(), lineno=48, col_offset=69), 'TESTFN', Load(), lineno=48, col_offset=69)], Load(), lineno=48, col_offset=36)], [keyword('stdout', Attribute(Name('subprocess', Load(), lineno=49, col_offset=27), 'PIPE', Load(), lineno=49, col_offset=27))], None, None, lineno=48, col_offset=19), 'communicate', Load(), lineno=48, col_offset=19), [], [], None, None, lineno=48, col_offset=19), Index(Num(0, lineno=49, col_offset=58)), Load(), lineno=48, col_offset=19), lineno=48, col_offset=12), Assign([Name('tp', Store(), lineno=51, col_offset=12)], Name('None', Load(), lineno=51, col_offset=17), lineno=51, col_offset=12), Assign([Name('cr', Store(), lineno=52, col_offset=12)], Name('None', Load(), lineno=52, col_offset=17), lineno=52, col_offset=12), For(Name('ln', Store(), lineno=53, col_offset=17), Call(Attribute(Name('data', Load(), lineno=53, col_offset=23), 'splitlines', Load(), lineno=53, col_offset=23), [], [], None, None, lineno=53, col_offset=23), [If(Call(Attribute(Name('ln', Load(), lineno=54, col_offset=19), 'startswith', Load(), lineno=54, col_offset=19), [Str('type:', lineno=54, col_offset=33)], [], None, None, lineno=54, col_offset=19), [Assign([Name('tp', Store(), lineno=55, col_offset=20)], Subscript(Subscript(Call(Attribute(Name('ln', Load(), lineno=55, col_offset=25), 'split', Load(), lineno=55, col_offset=25), [], [], None, None, lineno=55, col_offset=25), Index(Num(-1, lineno=55, col_offset=37)), Load(), lineno=55, col_offset=25), Slice(Num(1, lineno=55, col_offset=40), Num(-1, lineno=55, col_offset=43), None), Load(), lineno=55, col_offset=25), lineno=55, col_offset=20)], [], lineno=54, col_offset=16), If(Call(Attribute(Name('ln', Load(), lineno=56, col_offset=19), 'startswith', Load(), lineno=56, col_offset=19), [Str('creator:', lineno=56, col_offset=33)], [], None, None, lineno=56, col_offset=19), [Assign([Name('cr', Store(), lineno=57, col_offset=20)], Subscript(Subscript(Call(Attribute(Name('ln', Load(), lineno=57, col_offset=25), 'split', Load(), lineno=57, col_offset=25), [], [], None, None, lineno=57, col_offset=25), Index(Num(-1, lineno=57, col_offset=37)), Load(), lineno=57, col_offset=25), Slice(Num(1, lineno=57, col_offset=40), Num(-1, lineno=57, col_offset=43), None), Load(), lineno=57, col_offset=25), lineno=57, col_offset=20)], [], lineno=56, col_offset=16)], [], lineno=53, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=59, col_offset=12), 'assertEqual', Load(), lineno=59, col_offset=12), [Name('cr', Load(), lineno=59, col_offset=29), Str('ABCD', lineno=59, col_offset=33)], [], None, None, lineno=59, col_offset=12), lineno=59, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=60, col_offset=12), 'assertEqual', Load(), lineno=60, col_offset=12), [Name('tp', Load(), lineno=60, col_offset=29), Str('EFGH', lineno=60, col_offset=33)], [], None, None, lineno=60, col_offset=12), lineno=60, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=63, col_offset=12), 'unlink', Load(), lineno=63, col_offset=12), [Attribute(Name('test_support', Load(), lineno=63, col_offset=22), 'TESTFN', Load(), lineno=63, col_offset=22)], [], None, None, lineno=63, col_offset=12), lineno=63, col_offset=12)], lineno=36, col_offset=8)], [], lineno=32, col_offset=4), FunctionDef('testOpenRF', arguments([Name('self', Param(), lineno=66, col_offset=19)], None, None, []), [TryFinally([Assign([Name('fp', Store(), lineno=68, col_offset=12)], Call(Name('open', Load(), lineno=68, col_offset=17), [Attribute(Name('test_support', Load(), lineno=68, col_offset=22), 'TESTFN', Load(), lineno=68, col_offset=22), Str('w', lineno=68, col_offset=43)], [], None, None, lineno=68, col_offset=17), lineno=68, col_offset=12), Expr(Call(Attribute(Name('fp', Load(), lineno=69, col_offset=12), 'write', Load(), lineno=69, col_offset=12), [Str('hello world\n', lineno=69, col_offset=21)], [], None, None, lineno=69, col_offset=12), lineno=69, col_offset=12), Expr(Call(Attribute(Name('fp', Load(), lineno=70, col_offset=12), 'close', Load(), lineno=70, col_offset=12), [], [], None, None, lineno=70, col_offset=12), lineno=70, col_offset=12), Assign([Name('rfp', Store(), lineno=72, col_offset=12)], Call(Attribute(Name('MacOS', Load(), lineno=72, col_offset=18), 'openrf', Load(), lineno=72, col_offset=18), [Attribute(Name('test_support', Load(), lineno=72, col_offset=31), 'TESTFN', Load(), lineno=72, col_offset=31), Str('*wb', lineno=72, col_offset=52)], [], None, None, lineno=72, col_offset=18), lineno=72, col_offset=12), Expr(Call(Attribute(Name('rfp', Load(), lineno=73, col_offset=12), 'write', Load(), lineno=73, col_offset=12), [Str('goodbye world\n', lineno=73, col_offset=22)], [], None, None, lineno=73, col_offset=12), lineno=73, col_offset=12), Expr(Call(Attribute(Name('rfp', Load(), lineno=74, col_offset=12), 'close', Load(), lineno=74, col_offset=12), [], [], None, None, lineno=74, col_offset=12), lineno=74, col_offset=12), Assign([Name('fp', Store(), lineno=77, col_offset=12)], Call(Name('open', Load(), lineno=77, col_offset=17), [Attribute(Name('test_support', Load(), lineno=77, col_offset=22), 'TESTFN', Load(), lineno=77, col_offset=22), Str('r', lineno=77, col_offset=43)], [], None, None, lineno=77, col_offset=17), lineno=77, col_offset=12), Assign([Name('data', Store(), lineno=78, col_offset=12)], Call(Attribute(Name('fp', Load(), lineno=78, col_offset=19), 'read', Load(), lineno=78, col_offset=19), [], [], None, None, lineno=78, col_offset=19), lineno=78, col_offset=12), Expr(Call(Attribute(Name('fp', Load(), lineno=79, col_offset=12), 'close', Load(), lineno=79, col_offset=12), [], [], None, None, lineno=79, col_offset=12), lineno=79, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=80, col_offset=12), 'assertEqual', Load(), lineno=80, col_offset=12), [Name('data', Load(), lineno=80, col_offset=29), Str('hello world\n', lineno=80, col_offset=35)], [], None, None, lineno=80, col_offset=12), lineno=80, col_offset=12), Assign([Name('rfp', Store(), lineno=82, col_offset=12)], Call(Attribute(Name('MacOS', Load(), lineno=82, col_offset=18), 'openrf', Load(), lineno=82, col_offset=18), [Attribute(Name('test_support', Load(), lineno=82, col_offset=31), 'TESTFN', Load(), lineno=82, col_offset=31), Str('*rb', lineno=82, col_offset=52)], [], None, None, lineno=82, col_offset=18), lineno=82, col_offset=12), Assign([Name('data', Store(), lineno=83, col_offset=12)], Call(Attribute(Name('rfp', Load(), lineno=83, col_offset=19), 'read', Load(), lineno=83, col_offset=19), [Num(100, lineno=83, col_offset=28)], [], None, None, lineno=83, col_offset=19), lineno=83, col_offset=12), Assign([Name('data2', Store(), lineno=84, col_offset=12)], Call(Attribute(Name('rfp', Load(), lineno=84, col_offset=20), 'read', Load(), lineno=84, col_offset=20), [Num(100, lineno=84, col_offset=29)], [], None, None, lineno=84, col_offset=20), lineno=84, col_offset=12), Expr(Call(Attribute(Name('rfp', Load(), lineno=85, col_offset=12), 'close', Load(), lineno=85, col_offset=12), [], [], None, None, lineno=85, col_offset=12), lineno=85, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=86, col_offset=12), 'assertEqual', Load(), lineno=86, col_offset=12), [Name('data', Load(), lineno=86, col_offset=29), Str('goodbye world\n', lineno=86, col_offset=35)], [], None, None, lineno=86, col_offset=12), lineno=86, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=87, col_offset=12), 'assertEqual', Load(), lineno=87, col_offset=12), [Name('data2', Load(), lineno=87, col_offset=29), Str('', lineno=87, col_offset=36)], [], None, None, lineno=87, col_offset=12), lineno=87, col_offset=12)], [Expr(Call(Attribute(Name('os', Load(), lineno=91, col_offset=12), 'unlink', Load(), lineno=91, col_offset=12), [Attribute(Name('test_support', Load(), lineno=91, col_offset=22), 'TESTFN', Load(), lineno=91, col_offset=22)], [], None, None, lineno=91, col_offset=12), lineno=91, col_offset=12)], lineno=67, col_offset=8)], [], lineno=66, col_offset=4)], [], lineno=10, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Attribute(Name('test_support', Load(), lineno=94, col_offset=4), 'run_unittest', Load(), lineno=94, col_offset=4), [Name('TestMacOS', Load(), lineno=94, col_offset=30)], [], None, None, lineno=94, col_offset=4), lineno=94, col_offset=4)], [], lineno=93, col_offset=0), If(Compare(Name('__name__', Load(), lineno=97, col_offset=3), [Eq()], [Str('__main__', lineno=97, col_offset=15)], lineno=97, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=98, col_offset=4), [], [], None, None, lineno=98, col_offset=4), lineno=98, col_offset=4)], [], lineno=97, col_offset=0)])
