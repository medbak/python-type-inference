Module([Import([alias('Queue', None)], lineno=3, col_offset=0), Import([alias('time', None)], lineno=4, col_offset=0), Import([alias('unittest', None)], lineno=5, col_offset=0), ImportFrom('test', [alias('test_support', None)], 0, lineno=6, col_offset=0), Assign([Name('threading', Store(), lineno=7, col_offset=0)], Call(Attribute(Name('test_support', Load(), lineno=7, col_offset=12), 'import_module', Load(), lineno=7, col_offset=12), [Str('threading', lineno=7, col_offset=39)], [], None, None, lineno=7, col_offset=12), lineno=7, col_offset=0), Assign([Name('QUEUE_SIZE', Store(), lineno=9, col_offset=0)], Num(5, lineno=9, col_offset=13), lineno=9, col_offset=0), ClassDef('_TriggerThread', [Attribute(Name('threading', Load(), lineno=12, col_offset=21), 'Thread', Load(), lineno=12, col_offset=21)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=13, col_offset=17), Name('fn', Param(), lineno=13, col_offset=23), Name('args', Param(), lineno=13, col_offset=27)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=14, col_offset=8), 'fn', Store(), lineno=14, col_offset=8)], Name('fn', Load(), lineno=14, col_offset=18), lineno=14, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=15, col_offset=8), 'args', Store(), lineno=15, col_offset=8)], Name('args', Load(), lineno=15, col_offset=20), lineno=15, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=16, col_offset=8), 'startedEvent', Store(), lineno=16, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=16, col_offset=28), 'Event', Load(), lineno=16, col_offset=28), [], [], None, None, lineno=16, col_offset=28), lineno=16, col_offset=8), Expr(Call(Attribute(Attribute(Name('threading', Load(), lineno=17, col_offset=8), 'Thread', Load(), lineno=17, col_offset=8), '__init__', Load(), lineno=17, col_offset=8), [Name('self', Load(), lineno=17, col_offset=34)], [], None, None, lineno=17, col_offset=8), lineno=17, col_offset=8)], [], lineno=13, col_offset=4), FunctionDef('run', arguments([Name('self', Param(), lineno=19, col_offset=12)], None, None, []), [Expr(Call(Attribute(Name('time', Load(), lineno=28, col_offset=8), 'sleep', Load(), lineno=28, col_offset=8), [Num(0.1, lineno=28, col_offset=19)], [], None, None, lineno=28, col_offset=8), lineno=28, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=29, col_offset=8), 'startedEvent', Load(), lineno=29, col_offset=8), 'set', Load(), lineno=29, col_offset=8), [], [], None, None, lineno=29, col_offset=8), lineno=29, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=30, col_offset=8), 'fn', Load(), lineno=30, col_offset=8), [], [], Attribute(Name('self', Load(), lineno=30, col_offset=17), 'args', Load(), lineno=30, col_offset=17), None, lineno=30, col_offset=8), lineno=30, col_offset=8)], [], lineno=19, col_offset=4)], [], lineno=12, col_offset=0), ClassDef('BlockingTestMixin', [], [FunctionDef('do_blocking_test', arguments([Name('self', Param(), lineno=46, col_offset=25), Name('block_func', Param(), lineno=46, col_offset=31), Name('block_args', Param(), lineno=46, col_offset=43), Name('trigger_func', Param(), lineno=46, col_offset=55), Name('trigger_args', Param(), lineno=46, col_offset=69)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=47, col_offset=8), 't', Store(), lineno=47, col_offset=8)], Call(Name('_TriggerThread', Load(), lineno=47, col_offset=17), [Name('trigger_func', Load(), lineno=47, col_offset=32), Name('trigger_args', Load(), lineno=47, col_offset=46)], [], None, None, lineno=47, col_offset=17), lineno=47, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=48, col_offset=8), 't', Load(), lineno=48, col_offset=8), 'start', Load(), lineno=48, col_offset=8), [], [], None, None, lineno=48, col_offset=8), lineno=48, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=49, col_offset=8), 'result', Store(), lineno=49, col_offset=8)], Call(Name('block_func', Load(), lineno=49, col_offset=22), [], [], Name('block_args', Load(), lineno=49, col_offset=34), None, lineno=49, col_offset=22), lineno=49, col_offset=8), If(UnaryOp(Not(), Call(Attribute(Attribute(Attribute(Name('self', Load(), lineno=51, col_offset=15), 't', Load(), lineno=51, col_offset=15), 'startedEvent', Load(), lineno=51, col_offset=15), 'is_set', Load(), lineno=51, col_offset=15), [], [], None, None, lineno=51, col_offset=15), lineno=51, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=52, col_offset=12), 'fail', Load(), lineno=52, col_offset=12), [BinOp(Str("blocking function '%r' appeared not to block", lineno=52, col_offset=22), Mod(), Name('block_func', Load(), lineno=53, col_offset=22), lineno=52, col_offset=22)], [], None, None, lineno=52, col_offset=12), lineno=52, col_offset=12)], [], lineno=51, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=54, col_offset=8), 't', Load(), lineno=54, col_offset=8), 'join', Load(), lineno=54, col_offset=8), [Num(10, lineno=54, col_offset=20)], [], None, None, lineno=54, col_offset=8), lineno=54, col_offset=8), If(Call(Attribute(Attribute(Name('self', Load(), lineno=55, col_offset=11), 't', Load(), lineno=55, col_offset=11), 'is_alive', Load(), lineno=55, col_offset=11), [], [], None, None, lineno=55, col_offset=11), [Expr(Call(Attribute(Name('self', Load(), lineno=56, col_offset=12), 'fail', Load(), lineno=56, col_offset=12), [BinOp(Str("trigger function '%r' appeared to not return", lineno=56, col_offset=22), Mod(), Name('trigger_func', Load(), lineno=57, col_offset=22), lineno=56, col_offset=22)], [], None, None, lineno=56, col_offset=12), lineno=56, col_offset=12)], [], lineno=55, col_offset=8), Return(Attribute(Name('self', Load(), lineno=58, col_offset=15), 'result', Load(), lineno=58, col_offset=15), lineno=58, col_offset=8)], [], lineno=46, col_offset=4), FunctionDef('do_exceptional_blocking_test', arguments([Name('self', Param(), lineno=61, col_offset=37), Name('block_func', Param(), lineno=61, col_offset=42), Name('block_args', Param(), lineno=61, col_offset=54), Name('trigger_func', Param(), lineno=61, col_offset=66), Name('trigger_args', Param(), lineno=62, col_offset=35), Name('expected_exception_class', Param(), lineno=62, col_offset=49)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=63, col_offset=8), 't', Store(), lineno=63, col_offset=8)], Call(Name('_TriggerThread', Load(), lineno=63, col_offset=17), [Name('trigger_func', Load(), lineno=63, col_offset=32), Name('trigger_args', Load(), lineno=63, col_offset=46)], [], None, None, lineno=63, col_offset=17), lineno=63, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=64, col_offset=8), 't', Load(), lineno=64, col_offset=8), 'start', Load(), lineno=64, col_offset=8), [], [], None, None, lineno=64, col_offset=8), lineno=64, col_offset=8), TryFinally([TryExcept([Expr(Call(Name('block_func', Load(), lineno=67, col_offset=16), [], [], Name('block_args', Load(), lineno=67, col_offset=28), None, lineno=67, col_offset=16), lineno=67, col_offset=16)], [ExceptHandler(Name('expected_exception_class', Load(), lineno=68, col_offset=19), None, [Raise(None, None, None, lineno=69, col_offset=16)], lineno=68, col_offset=12)], [Expr(Call(Attribute(Name('self', Load(), lineno=71, col_offset=16), 'fail', Load(), lineno=71, col_offset=16), [BinOp(Str('expected exception of kind %r', lineno=71, col_offset=26), Mod(), Name('expected_exception_class', Load(), lineno=72, col_offset=33), lineno=71, col_offset=26)], [], None, None, lineno=71, col_offset=16), lineno=71, col_offset=16)], lineno=66, col_offset=12)], [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=74, col_offset=12), 't', Load(), lineno=74, col_offset=12), 'join', Load(), lineno=74, col_offset=12), [Num(10, lineno=74, col_offset=24)], [], None, None, lineno=74, col_offset=12), lineno=74, col_offset=12), If(Call(Attribute(Attribute(Name('self', Load(), lineno=75, col_offset=15), 't', Load(), lineno=75, col_offset=15), 'is_alive', Load(), lineno=75, col_offset=15), [], [], None, None, lineno=75, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=76, col_offset=16), 'fail', Load(), lineno=76, col_offset=16), [BinOp(Str("trigger function '%r' appeared to not return", lineno=76, col_offset=26), Mod(), Name('trigger_func', Load(), lineno=77, col_offset=33), lineno=76, col_offset=26)], [], None, None, lineno=76, col_offset=16), lineno=76, col_offset=16)], [], lineno=75, col_offset=12), If(UnaryOp(Not(), Call(Attribute(Attribute(Attribute(Name('self', Load(), lineno=78, col_offset=19), 't', Load(), lineno=78, col_offset=19), 'startedEvent', Load(), lineno=78, col_offset=19), 'is_set', Load(), lineno=78, col_offset=19), [], [], None, None, lineno=78, col_offset=19), lineno=78, col_offset=15), [Expr(Call(Attribute(Name('self', Load(), lineno=79, col_offset=16), 'fail', Load(), lineno=79, col_offset=16), [Str('trigger thread ended but event never set', lineno=79, col_offset=26)], [], None, None, lineno=79, col_offset=16), lineno=79, col_offset=16)], [], lineno=78, col_offset=12)], lineno=65, col_offset=8)], [], lineno=61, col_offset=4)], [], lineno=44, col_offset=0), ClassDef('BaseQueueTest', [Attribute(Name('unittest', Load(), lineno=82, col_offset=20), 'TestCase', Load(), lineno=82, col_offset=20), Name('BlockingTestMixin', Load(), lineno=82, col_offset=39)], [FunctionDef('setUp', arguments([Name('self', Param(), lineno=83, col_offset=14)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=84, col_offset=8), 'cum', Store(), lineno=84, col_offset=8)], Num(0, lineno=84, col_offset=19), lineno=84, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=85, col_offset=8), 'cumlock', Store(), lineno=85, col_offset=8)], Call(Attribute(Name('threading', Load(), lineno=85, col_offset=23), 'Lock', Load(), lineno=85, col_offset=23), [], [], None, None, lineno=85, col_offset=23), lineno=85, col_offset=8)], [], lineno=83, col_offset=4), FunctionDef('simple_queue_test', arguments([Name('self', Param(), lineno=87, col_offset=26), Name('q', Param(), lineno=87, col_offset=32)], None, None, []), [If(UnaryOp(Not(), Call(Attribute(Name('q', Load(), lineno=88, col_offset=15), 'empty', Load(), lineno=88, col_offset=15), [], [], None, None, lineno=88, col_offset=15), lineno=88, col_offset=11), [Raise(Name('RuntimeError', Load(), lineno=89, col_offset=18), Str('Call this function with an empty queue', lineno=89, col_offset=32), None, lineno=89, col_offset=12)], [], lineno=88, col_offset=8), Expr(Call(Attribute(Name('q', Load(), lineno=91, col_offset=8), 'put', Load(), lineno=91, col_offset=8), [Num(111, lineno=91, col_offset=14)], [], None, None, lineno=91, col_offset=8), lineno=91, col_offset=8), Expr(Call(Attribute(Name('q', Load(), lineno=92, col_offset=8), 'put', Load(), lineno=92, col_offset=8), [Num(333, lineno=92, col_offset=14)], [], None, None, lineno=92, col_offset=8), lineno=92, col_offset=8), Expr(Call(Attribute(Name('q', Load(), lineno=93, col_offset=8), 'put', Load(), lineno=93, col_offset=8), [Num(222, lineno=93, col_offset=14)], [], None, None, lineno=93, col_offset=8), lineno=93, col_offset=8), Assign([Name('target_order', Store(), lineno=94, col_offset=8)], Call(Name('dict', Load(), lineno=94, col_offset=23), [], [keyword('Queue', List([Num(111, lineno=94, col_offset=37), Num(333, lineno=94, col_offset=42), Num(222, lineno=94, col_offset=47)], Load(), lineno=94, col_offset=36)), keyword('LifoQueue', List([Num(222, lineno=95, col_offset=41), Num(333, lineno=95, col_offset=46), Num(111, lineno=95, col_offset=51)], Load(), lineno=95, col_offset=40)), keyword('PriorityQueue', List([Num(111, lineno=96, col_offset=45), Num(222, lineno=96, col_offset=50), Num(333, lineno=96, col_offset=55)], Load(), lineno=96, col_offset=44))], None, None, lineno=94, col_offset=23), lineno=94, col_offset=8), Assign([Name('actual_order', Store(), lineno=97, col_offset=8)], List([Call(Attribute(Name('q', Load(), lineno=97, col_offset=24), 'get', Load(), lineno=97, col_offset=24), [], [], None, None, lineno=97, col_offset=24), Call(Attribute(Name('q', Load(), lineno=97, col_offset=33), 'get', Load(), lineno=97, col_offset=33), [], [], None, None, lineno=97, col_offset=33), Call(Attribute(Name('q', Load(), lineno=97, col_offset=42), 'get', Load(), lineno=97, col_offset=42), [], [], None, None, lineno=97, col_offset=42)], Load(), lineno=97, col_offset=23), lineno=97, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=98, col_offset=8), 'assertEqual', Load(), lineno=98, col_offset=8), [Name('actual_order', Load(), lineno=98, col_offset=25), Subscript(Name('target_order', Load(), lineno=98, col_offset=39), Index(Attribute(Attribute(Name('q', Load(), lineno=98, col_offset=52), '__class__', Load(), lineno=98, col_offset=52), '__name__', Load(), lineno=98, col_offset=52)), Load(), lineno=98, col_offset=39), Str("Didn't seem to queue the correct data!", lineno=99, col_offset=25)], [], None, None, lineno=98, col_offset=8), lineno=98, col_offset=8), For(Name('i', Store(), lineno=100, col_offset=12), Call(Name('range', Load(), lineno=100, col_offset=17), [BinOp(Name('QUEUE_SIZE', Load(), lineno=100, col_offset=23), Sub(), Num(1, lineno=100, col_offset=34), lineno=100, col_offset=23)], [], None, None, lineno=100, col_offset=17), [Expr(Call(Attribute(Name('q', Load(), lineno=101, col_offset=12), 'put', Load(), lineno=101, col_offset=12), [Name('i', Load(), lineno=101, col_offset=18)], [], None, None, lineno=101, col_offset=12), lineno=101, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=102, col_offset=12), 'assertTrue', Load(), lineno=102, col_offset=12), [UnaryOp(Not(), Call(Attribute(Name('q', Load(), lineno=102, col_offset=32), 'empty', Load(), lineno=102, col_offset=32), [], [], None, None, lineno=102, col_offset=32), lineno=102, col_offset=28), Str('Queue should not be empty', lineno=102, col_offset=43)], [], None, None, lineno=102, col_offset=12), lineno=102, col_offset=12)], [], lineno=100, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=103, col_offset=8), 'assertTrue', Load(), lineno=103, col_offset=8), [UnaryOp(Not(), Call(Attribute(Name('q', Load(), lineno=103, col_offset=28), 'full', Load(), lineno=103, col_offset=28), [], [], None, None, lineno=103, col_offset=28), lineno=103, col_offset=24), Str('Queue should not be full', lineno=103, col_offset=38)], [], None, None, lineno=103, col_offset=8), lineno=103, col_offset=8), Assign([Name('last', Store(), lineno=104, col_offset=8)], BinOp(Num(2, lineno=104, col_offset=15), Mult(), Name('QUEUE_SIZE', Load(), lineno=104, col_offset=19), lineno=104, col_offset=15), lineno=104, col_offset=8), Assign([Name('full', Store(), lineno=105, col_offset=8)], BinOp(BinOp(Num(3, lineno=105, col_offset=15), Mult(), Num(2, lineno=105, col_offset=19), lineno=105, col_offset=15), Mult(), Name('QUEUE_SIZE', Load(), lineno=105, col_offset=23), lineno=105, col_offset=21), lineno=105, col_offset=8), Expr(Call(Attribute(Name('q', Load(), lineno=106, col_offset=8), 'put', Load(), lineno=106, col_offset=8), [Name('last', Load(), lineno=106, col_offset=14)], [], None, None, lineno=106, col_offset=8), lineno=106, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=107, col_offset=8), 'assertTrue', Load(), lineno=107, col_offset=8), [Call(Attribute(Name('q', Load(), lineno=107, col_offset=24), 'full', Load(), lineno=107, col_offset=24), [], [], None, None, lineno=107, col_offset=24), Str('Queue should be full', lineno=107, col_offset=34)], [], None, None, lineno=107, col_offset=8), lineno=107, col_offset=8), TryExcept([Expr(Call(Attribute(Name('q', Load(), lineno=109, col_offset=12), 'put', Load(), lineno=109, col_offset=12), [Name('full', Load(), lineno=109, col_offset=18)], [keyword('block', Num(0, lineno=109, col_offset=30))], None, None, lineno=109, col_offset=12), lineno=109, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=110, col_offset=12), 'fail', Load(), lineno=110, col_offset=12), [Str("Didn't appear to block with a full queue", lineno=110, col_offset=22)], [], None, None, lineno=110, col_offset=12), lineno=110, col_offset=12)], [ExceptHandler(Attribute(Name('Queue', Load(), lineno=111, col_offset=15), 'Full', Load(), lineno=111, col_offset=15), None, [Pass( lineno=112, col_offset=12)], lineno=111, col_offset=8)], [], lineno=108, col_offset=8), TryExcept([Expr(Call(Attribute(Name('q', Load(), lineno=114, col_offset=12), 'put', Load(), lineno=114, col_offset=12), [Name('full', Load(), lineno=114, col_offset=18)], [keyword('timeout', Num(0.01, lineno=114, col_offset=32))], None, None, lineno=114, col_offset=12), lineno=114, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=115, col_offset=12), 'fail', Load(), lineno=115, col_offset=12), [Str("Didn't appear to time-out with a full queue", lineno=115, col_offset=22)], [], None, None, lineno=115, col_offset=12), lineno=115, col_offset=12)], [ExceptHandler(Attribute(Name('Queue', Load(), lineno=116, col_offset=15), 'Full', Load(), lineno=116, col_offset=15), None, [Pass( lineno=117, col_offset=12)], lineno=116, col_offset=8)], [], lineno=113, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=119, col_offset=8), 'do_blocking_test', Load(), lineno=119, col_offset=8), [Attribute(Name('q', Load(), lineno=119, col_offset=30), 'put', Load(), lineno=119, col_offset=30), Tuple([Name('full', Load(), lineno=119, col_offset=38)], Load(), lineno=119, col_offset=38), Attribute(Name('q', Load(), lineno=119, col_offset=46), 'get', Load(), lineno=119, col_offset=46), Tuple([], Load(), lineno=119, col_offset=53)], [], None, None, lineno=119, col_offset=8), lineno=119, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=120, col_offset=8), 'do_blocking_test', Load(), lineno=120, col_offset=8), [Attribute(Name('q', Load(), lineno=120, col_offset=30), 'put', Load(), lineno=120, col_offset=30), Tuple([Name('full', Load(), lineno=120, col_offset=38), Name('True', Load(), lineno=120, col_offset=44), Num(10, lineno=120, col_offset=50)], Load(), lineno=120, col_offset=38), Attribute(Name('q', Load(), lineno=120, col_offset=55), 'get', Load(), lineno=120, col_offset=55), Tuple([], Load(), lineno=120, col_offset=62)], [], None, None, lineno=120, col_offset=8), lineno=120, col_offset=8), For(Name('i', Store(), lineno=122, col_offset=12), Call(Name('range', Load(), lineno=122, col_offset=17), [Name('QUEUE_SIZE', Load(), lineno=122, col_offset=23)], [], None, None, lineno=122, col_offset=17), [Expr(Call(Attribute(Name('q', Load(), lineno=123, col_offset=12), 'get', Load(), lineno=123, col_offset=12), [], [], None, None, lineno=123, col_offset=12), lineno=123, col_offset=12)], [], lineno=122, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=124, col_offset=8), 'assertTrue', Load(), lineno=124, col_offset=8), [Call(Attribute(Name('q', Load(), lineno=124, col_offset=24), 'empty', Load(), lineno=124, col_offset=24), [], [], None, None, lineno=124, col_offset=24), Str('Queue should be empty', lineno=124, col_offset=35)], [], None, None, lineno=124, col_offset=8), lineno=124, col_offset=8), TryExcept([Expr(Call(Attribute(Name('q', Load(), lineno=126, col_offset=12), 'get', Load(), lineno=126, col_offset=12), [], [keyword('block', Num(0, lineno=126, col_offset=24))], None, None, lineno=126, col_offset=12), lineno=126, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=127, col_offset=12), 'fail', Load(), lineno=127, col_offset=12), [Str("Didn't appear to block with an empty queue", lineno=127, col_offset=22)], [], None, None, lineno=127, col_offset=12), lineno=127, col_offset=12)], [ExceptHandler(Attribute(Name('Queue', Load(), lineno=128, col_offset=15), 'Empty', Load(), lineno=128, col_offset=15), None, [Pass( lineno=129, col_offset=12)], lineno=128, col_offset=8)], [], lineno=125, col_offset=8), TryExcept([Expr(Call(Attribute(Name('q', Load(), lineno=131, col_offset=12), 'get', Load(), lineno=131, col_offset=12), [], [keyword('timeout', Num(0.01, lineno=131, col_offset=26))], None, None, lineno=131, col_offset=12), lineno=131, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=132, col_offset=12), 'fail', Load(), lineno=132, col_offset=12), [Str("Didn't appear to time-out with an empty queue", lineno=132, col_offset=22)], [], None, None, lineno=132, col_offset=12), lineno=132, col_offset=12)], [ExceptHandler(Attribute(Name('Queue', Load(), lineno=133, col_offset=15), 'Empty', Load(), lineno=133, col_offset=15), None, [Pass( lineno=134, col_offset=12)], lineno=133, col_offset=8)], [], lineno=130, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=136, col_offset=8), 'do_blocking_test', Load(), lineno=136, col_offset=8), [Attribute(Name('q', Load(), lineno=136, col_offset=30), 'get', Load(), lineno=136, col_offset=30), Tuple([], Load(), lineno=136, col_offset=37), Attribute(Name('q', Load(), lineno=136, col_offset=41), 'put', Load(), lineno=136, col_offset=41), Tuple([Str('empty', lineno=136, col_offset=49)], Load(), lineno=136, col_offset=49)], [], None, None, lineno=136, col_offset=8), lineno=136, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=137, col_offset=8), 'do_blocking_test', Load(), lineno=137, col_offset=8), [Attribute(Name('q', Load(), lineno=137, col_offset=30), 'get', Load(), lineno=137, col_offset=30), Tuple([Name('True', Load(), lineno=137, col_offset=38), Num(10, lineno=137, col_offset=44)], Load(), lineno=137, col_offset=38), Attribute(Name('q', Load(), lineno=137, col_offset=49), 'put', Load(), lineno=137, col_offset=49), Tuple([Str('empty', lineno=137, col_offset=57)], Load(), lineno=137, col_offset=57)], [], None, None, lineno=137, col_offset=8), lineno=137, col_offset=8)], [], lineno=87, col_offset=4), FunctionDef('worker', arguments([Name('self', Param(), lineno=140, col_offset=15), Name('q', Param(), lineno=140, col_offset=21)], None, None, []), [While(Name('True', Load(), lineno=141, col_offset=14), [Assign([Name('x', Store(), lineno=142, col_offset=12)], Call(Attribute(Name('q', Load(), lineno=142, col_offset=16), 'get', Load(), lineno=142, col_offset=16), [], [], None, None, lineno=142, col_offset=16), lineno=142, col_offset=12), If(Compare(Name('x', Load(), lineno=143, col_offset=15), [Is()], [Name('None', Load(), lineno=143, col_offset=20)], lineno=143, col_offset=15), [Expr(Call(Attribute(Name('q', Load(), lineno=144, col_offset=16), 'task_done', Load(), lineno=144, col_offset=16), [], [], None, None, lineno=144, col_offset=16), lineno=144, col_offset=16), Return(None, lineno=145, col_offset=16)], [], lineno=143, col_offset=12), With(Attribute(Name('self', Load(), lineno=146, col_offset=17), 'cumlock', Load(), lineno=146, col_offset=17), None, [AugAssign(Attribute(Name('self', Load(), lineno=147, col_offset=16), 'cum', Store(), lineno=147, col_offset=16), Add(), Name('x', Load(), lineno=147, col_offset=28), lineno=147, col_offset=16)], lineno=146, col_offset=17), Expr(Call(Attribute(Name('q', Load(), lineno=148, col_offset=12), 'task_done', Load(), lineno=148, col_offset=12), [], [], None, None, lineno=148, col_offset=12), lineno=148, col_offset=12)], [], lineno=141, col_offset=8)], [], lineno=140, col_offset=4), FunctionDef('queue_join_test', arguments([Name('self', Param(), lineno=150, col_offset=24), Name('q', Param(), lineno=150, col_offset=30)], None, None, []), [Assign([Attribute(Name('self', Load(), lineno=151, col_offset=8), 'cum', Store(), lineno=151, col_offset=8)], Num(0, lineno=151, col_offset=19), lineno=151, col_offset=8), For(Name('i', Store(), lineno=152, col_offset=12), Tuple([Num(0, lineno=152, col_offset=18), Num(1, lineno=152, col_offset=20)], Load(), lineno=152, col_offset=18), [Expr(Call(Attribute(Call(Attribute(Name('threading', Load(), lineno=153, col_offset=12), 'Thread', Load(), lineno=153, col_offset=12), [], [keyword('target', Attribute(Name('self', Load(), lineno=153, col_offset=36), 'worker', Load(), lineno=153, col_offset=36)), keyword('args', Tuple([Name('q', Load(), lineno=153, col_offset=55)], Load(), lineno=153, col_offset=55))], None, None, lineno=153, col_offset=12), 'start', Load(), lineno=153, col_offset=12), [], [], None, None, lineno=153, col_offset=12), lineno=153, col_offset=12)], [], lineno=152, col_offset=8), For(Name('i', Store(), lineno=154, col_offset=12), Call(Name('xrange', Load(), lineno=154, col_offset=17), [Num(100, lineno=154, col_offset=24)], [], None, None, lineno=154, col_offset=17), [Expr(Call(Attribute(Name('q', Load(), lineno=155, col_offset=12), 'put', Load(), lineno=155, col_offset=12), [Name('i', Load(), lineno=155, col_offset=18)], [], None, None, lineno=155, col_offset=12), lineno=155, col_offset=12)], [], lineno=154, col_offset=8), Expr(Call(Attribute(Name('q', Load(), lineno=156, col_offset=8), 'join', Load(), lineno=156, col_offset=8), [], [], None, None, lineno=156, col_offset=8), lineno=156, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=157, col_offset=8), 'assertEqual', Load(), lineno=157, col_offset=8), [Attribute(Name('self', Load(), lineno=157, col_offset=25), 'cum', Load(), lineno=157, col_offset=25), Call(Name('sum', Load(), lineno=157, col_offset=35), [Call(Name('range', Load(), lineno=157, col_offset=39), [Num(100, lineno=157, col_offset=45)], [], None, None, lineno=157, col_offset=39)], [], None, None, lineno=157, col_offset=35), Str('q.join() did not block until all tasks were done', lineno=158, col_offset=25)], [], None, None, lineno=157, col_offset=8), lineno=157, col_offset=8), For(Name('i', Store(), lineno=159, col_offset=12), Tuple([Num(0, lineno=159, col_offset=18), Num(1, lineno=159, col_offset=20)], Load(), lineno=159, col_offset=18), [Expr(Call(Attribute(Name('q', Load(), lineno=160, col_offset=12), 'put', Load(), lineno=160, col_offset=12), [Name('None', Load(), lineno=160, col_offset=18)], [], None, None, lineno=160, col_offset=12), lineno=160, col_offset=12)], [], lineno=159, col_offset=8), Expr(Call(Attribute(Name('q', Load(), lineno=161, col_offset=8), 'join', Load(), lineno=161, col_offset=8), [], [], None, None, lineno=161, col_offset=8), lineno=161, col_offset=8)], [], lineno=150, col_offset=4), FunctionDef('test_queue_task_done', arguments([Name('self', Param(), lineno=163, col_offset=29)], None, None, []), [Assign([Name('q', Store(), lineno=165, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=165, col_offset=12), 'type2test', Load(), lineno=165, col_offset=12), [], [], None, None, lineno=165, col_offset=12), lineno=165, col_offset=8), TryExcept([Expr(Call(Attribute(Name('q', Load(), lineno=167, col_offset=12), 'task_done', Load(), lineno=167, col_offset=12), [], [], None, None, lineno=167, col_offset=12), lineno=167, col_offset=12)], [ExceptHandler(Name('ValueError', Load(), lineno=168, col_offset=15), None, [Pass( lineno=169, col_offset=12)], lineno=168, col_offset=8)], [Expr(Call(Attribute(Name('self', Load(), lineno=171, col_offset=12), 'fail', Load(), lineno=171, col_offset=12), [Str('Did not detect task count going negative', lineno=171, col_offset=22)], [], None, None, lineno=171, col_offset=12), lineno=171, col_offset=12)], lineno=166, col_offset=8)], [], lineno=163, col_offset=4), FunctionDef('test_queue_join', arguments([Name('self', Param(), lineno=173, col_offset=24)], None, None, []), [Assign([Name('q', Store(), lineno=176, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=176, col_offset=12), 'type2test', Load(), lineno=176, col_offset=12), [], [], None, None, lineno=176, col_offset=12), lineno=176, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=177, col_offset=8), 'queue_join_test', Load(), lineno=177, col_offset=8), [Name('q', Load(), lineno=177, col_offset=29)], [], None, None, lineno=177, col_offset=8), lineno=177, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=178, col_offset=8), 'queue_join_test', Load(), lineno=178, col_offset=8), [Name('q', Load(), lineno=178, col_offset=29)], [], None, None, lineno=178, col_offset=8), lineno=178, col_offset=8), TryExcept([Expr(Call(Attribute(Name('q', Load(), lineno=180, col_offset=12), 'task_done', Load(), lineno=180, col_offset=12), [], [], None, None, lineno=180, col_offset=12), lineno=180, col_offset=12)], [ExceptHandler(Name('ValueError', Load(), lineno=181, col_offset=15), None, [Pass( lineno=182, col_offset=12)], lineno=181, col_offset=8)], [Expr(Call(Attribute(Name('self', Load(), lineno=184, col_offset=12), 'fail', Load(), lineno=184, col_offset=12), [Str('Did not detect task count going negative', lineno=184, col_offset=22)], [], None, None, lineno=184, col_offset=12), lineno=184, col_offset=12)], lineno=179, col_offset=8)], [], lineno=173, col_offset=4), FunctionDef('test_simple_queue', arguments([Name('self', Param(), lineno=186, col_offset=26)], None, None, []), [Assign([Name('q', Store(), lineno=189, col_offset=8)], Call(Attribute(Name('self', Load(), lineno=189, col_offset=12), 'type2test', Load(), lineno=189, col_offset=12), [Name('QUEUE_SIZE', Load(), lineno=189, col_offset=27)], [], None, None, lineno=189, col_offset=12), lineno=189, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=190, col_offset=8), 'simple_queue_test', Load(), lineno=190, col_offset=8), [Name('q', Load(), lineno=190, col_offset=31)], [], None, None, lineno=190, col_offset=8), lineno=190, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=191, col_offset=8), 'simple_queue_test', Load(), lineno=191, col_offset=8), [Name('q', Load(), lineno=191, col_offset=31)], [], None, None, lineno=191, col_offset=8), lineno=191, col_offset=8)], [], lineno=186, col_offset=4)], [], lineno=82, col_offset=0), ClassDef('QueueTest', [Name('BaseQueueTest', Load(), lineno=194, col_offset=16)], [Assign([Name('type2test', Store(), lineno=195, col_offset=4)], Attribute(Name('Queue', Load(), lineno=195, col_offset=16), 'Queue', Load(), lineno=195, col_offset=16), lineno=195, col_offset=4)], [], lineno=194, col_offset=0), ClassDef('LifoQueueTest', [Name('BaseQueueTest', Load(), lineno=197, col_offset=20)], [Assign([Name('type2test', Store(), lineno=198, col_offset=4)], Attribute(Name('Queue', Load(), lineno=198, col_offset=16), 'LifoQueue', Load(), lineno=198, col_offset=16), lineno=198, col_offset=4)], [], lineno=197, col_offset=0), ClassDef('PriorityQueueTest', [Name('BaseQueueTest', Load(), lineno=200, col_offset=24)], [Assign([Name('type2test', Store(), lineno=201, col_offset=4)], Attribute(Name('Queue', Load(), lineno=201, col_offset=16), 'PriorityQueue', Load(), lineno=201, col_offset=16), lineno=201, col_offset=4)], [], lineno=200, col_offset=0), ClassDef('FailingQueueException', [Name('Exception', Load(), lineno=206, col_offset=28)], [Pass( lineno=207, col_offset=4)], [], lineno=206, col_offset=0), ClassDef('FailingQueue', [Attribute(Name('Queue', Load(), lineno=209, col_offset=19), 'Queue', Load(), lineno=209, col_offset=19)], [FunctionDef('__init__', arguments([Name('self', Param(), lineno=210, col_offset=17)], 'args', None, []), [Assign([Attribute(Name('self', Load(), lineno=211, col_offset=8), 'fail_next_put', Store(), lineno=211, col_offset=8)], Name('False', Load(), lineno=211, col_offset=29), lineno=211, col_offset=8), Assign([Attribute(Name('self', Load(), lineno=212, col_offset=8), 'fail_next_get', Store(), lineno=212, col_offset=8)], Name('False', Load(), lineno=212, col_offset=29), lineno=212, col_offset=8), Expr(Call(Attribute(Attribute(Name('Queue', Load(), lineno=213, col_offset=8), 'Queue', Load(), lineno=213, col_offset=8), '__init__', Load(), lineno=213, col_offset=8), [Name('self', Load(), lineno=213, col_offset=29)], [], Name('args', Load(), lineno=213, col_offset=36), None, lineno=213, col_offset=8), lineno=213, col_offset=8)], [], lineno=210, col_offset=4), FunctionDef('_put', arguments([Name('self', Param(), lineno=214, col_offset=13), Name('item', Param(), lineno=214, col_offset=19)], None, None, []), [If(Attribute(Name('self', Load(), lineno=215, col_offset=11), 'fail_next_put', Load(), lineno=215, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=216, col_offset=12), 'fail_next_put', Store(), lineno=216, col_offset=12)], Name('False', Load(), lineno=216, col_offset=33), lineno=216, col_offset=12), Raise(Name('FailingQueueException', Load(), lineno=217, col_offset=18), Str('You Lose', lineno=217, col_offset=41), None, lineno=217, col_offset=12)], [], lineno=215, col_offset=8), Return(Call(Attribute(Attribute(Name('Queue', Load(), lineno=218, col_offset=15), 'Queue', Load(), lineno=218, col_offset=15), '_put', Load(), lineno=218, col_offset=15), [Name('self', Load(), lineno=218, col_offset=32), Name('item', Load(), lineno=218, col_offset=38)], [], None, None, lineno=218, col_offset=15), lineno=218, col_offset=8)], [], lineno=214, col_offset=4), FunctionDef('_get', arguments([Name('self', Param(), lineno=219, col_offset=13)], None, None, []), [If(Attribute(Name('self', Load(), lineno=220, col_offset=11), 'fail_next_get', Load(), lineno=220, col_offset=11), [Assign([Attribute(Name('self', Load(), lineno=221, col_offset=12), 'fail_next_get', Store(), lineno=221, col_offset=12)], Name('False', Load(), lineno=221, col_offset=33), lineno=221, col_offset=12), Raise(Name('FailingQueueException', Load(), lineno=222, col_offset=18), Str('You Lose', lineno=222, col_offset=41), None, lineno=222, col_offset=12)], [], lineno=220, col_offset=8), Return(Call(Attribute(Attribute(Name('Queue', Load(), lineno=223, col_offset=15), 'Queue', Load(), lineno=223, col_offset=15), '_get', Load(), lineno=223, col_offset=15), [Name('self', Load(), lineno=223, col_offset=32)], [], None, None, lineno=223, col_offset=15), lineno=223, col_offset=8)], [], lineno=219, col_offset=4)], [], lineno=209, col_offset=0), ClassDef('FailingQueueTest', [Attribute(Name('unittest', Load(), lineno=225, col_offset=23), 'TestCase', Load(), lineno=225, col_offset=23), Name('BlockingTestMixin', Load(), lineno=225, col_offset=42)], [FunctionDef('failing_queue_test', arguments([Name('self', Param(), lineno=227, col_offset=27), Name('q', Param(), lineno=227, col_offset=33)], None, None, []), [If(UnaryOp(Not(), Call(Attribute(Name('q', Load(), lineno=228, col_offset=15), 'empty', Load(), lineno=228, col_offset=15), [], [], None, None, lineno=228, col_offset=15), lineno=228, col_offset=11), [Raise(Name('RuntimeError', Load(), lineno=229, col_offset=18), Str('Call this function with an empty queue', lineno=229, col_offset=32), None, lineno=229, col_offset=12)], [], lineno=228, col_offset=8), For(Name('i', Store(), lineno=230, col_offset=12), Call(Name('range', Load(), lineno=230, col_offset=17), [BinOp(Name('QUEUE_SIZE', Load(), lineno=230, col_offset=23), Sub(), Num(1, lineno=230, col_offset=34), lineno=230, col_offset=23)], [], None, None, lineno=230, col_offset=17), [Expr(Call(Attribute(Name('q', Load(), lineno=231, col_offset=12), 'put', Load(), lineno=231, col_offset=12), [Name('i', Load(), lineno=231, col_offset=18)], [], None, None, lineno=231, col_offset=12), lineno=231, col_offset=12)], [], lineno=230, col_offset=8), Assign([Attribute(Name('q', Load(), lineno=233, col_offset=8), 'fail_next_put', Store(), lineno=233, col_offset=8)], Name('True', Load(), lineno=233, col_offset=26), lineno=233, col_offset=8), TryExcept([Expr(Call(Attribute(Name('q', Load(), lineno=235, col_offset=12), 'put', Load(), lineno=235, col_offset=12), [Str('oops', lineno=235, col_offset=18)], [keyword('block', Num(0, lineno=235, col_offset=32))], None, None, lineno=235, col_offset=12), lineno=235, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=236, col_offset=12), 'fail', Load(), lineno=236, col_offset=12), [Str("The queue didn't fail when it should have", lineno=236, col_offset=22)], [], None, None, lineno=236, col_offset=12), lineno=236, col_offset=12)], [ExceptHandler(Name('FailingQueueException', Load(), lineno=237, col_offset=15), None, [Pass( lineno=238, col_offset=12)], lineno=237, col_offset=8)], [], lineno=234, col_offset=8), Assign([Attribute(Name('q', Load(), lineno=239, col_offset=8), 'fail_next_put', Store(), lineno=239, col_offset=8)], Name('True', Load(), lineno=239, col_offset=26), lineno=239, col_offset=8), TryExcept([Expr(Call(Attribute(Name('q', Load(), lineno=241, col_offset=12), 'put', Load(), lineno=241, col_offset=12), [Str('oops', lineno=241, col_offset=18)], [keyword('timeout', Num(0.1, lineno=241, col_offset=34))], None, None, lineno=241, col_offset=12), lineno=241, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=242, col_offset=12), 'fail', Load(), lineno=242, col_offset=12), [Str("The queue didn't fail when it should have", lineno=242, col_offset=22)], [], None, None, lineno=242, col_offset=12), lineno=242, col_offset=12)], [ExceptHandler(Name('FailingQueueException', Load(), lineno=243, col_offset=15), None, [Pass( lineno=244, col_offset=12)], lineno=243, col_offset=8)], [], lineno=240, col_offset=8), Expr(Call(Attribute(Name('q', Load(), lineno=245, col_offset=8), 'put', Load(), lineno=245, col_offset=8), [Str('last', lineno=245, col_offset=14)], [], None, None, lineno=245, col_offset=8), lineno=245, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=246, col_offset=8), 'assertTrue', Load(), lineno=246, col_offset=8), [Call(Attribute(Name('q', Load(), lineno=246, col_offset=24), 'full', Load(), lineno=246, col_offset=24), [], [], None, None, lineno=246, col_offset=24), Str('Queue should be full', lineno=246, col_offset=34)], [], None, None, lineno=246, col_offset=8), lineno=246, col_offset=8), Assign([Attribute(Name('q', Load(), lineno=248, col_offset=8), 'fail_next_put', Store(), lineno=248, col_offset=8)], Name('True', Load(), lineno=248, col_offset=26), lineno=248, col_offset=8), TryExcept([Expr(Call(Attribute(Name('self', Load(), lineno=250, col_offset=12), 'do_blocking_test', Load(), lineno=250, col_offset=12), [Attribute(Name('q', Load(), lineno=250, col_offset=34), 'put', Load(), lineno=250, col_offset=34), Tuple([Str('full', lineno=250, col_offset=42)], Load(), lineno=250, col_offset=42), Attribute(Name('q', Load(), lineno=250, col_offset=52), 'get', Load(), lineno=250, col_offset=52), Tuple([], Load(), lineno=250, col_offset=59)], [], None, None, lineno=250, col_offset=12), lineno=250, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=251, col_offset=12), 'fail', Load(), lineno=251, col_offset=12), [Str("The queue didn't fail when it should have", lineno=251, col_offset=22)], [], None, None, lineno=251, col_offset=12), lineno=251, col_offset=12)], [ExceptHandler(Name('FailingQueueException', Load(), lineno=252, col_offset=15), None, [Pass( lineno=253, col_offset=12)], lineno=252, col_offset=8)], [], lineno=249, col_offset=8), Expr(Call(Attribute(Name('q', Load(), lineno=256, col_offset=8), 'put', Load(), lineno=256, col_offset=8), [Str('last', lineno=256, col_offset=14)], [], None, None, lineno=256, col_offset=8), lineno=256, col_offset=8), Assign([Attribute(Name('q', Load(), lineno=258, col_offset=8), 'fail_next_put', Store(), lineno=258, col_offset=8)], Name('True', Load(), lineno=258, col_offset=26), lineno=258, col_offset=8), TryExcept([Expr(Call(Attribute(Name('self', Load(), lineno=260, col_offset=12), 'do_exceptional_blocking_test', Load(), lineno=260, col_offset=12), [Attribute(Name('q', Load(), lineno=260, col_offset=46), 'put', Load(), lineno=260, col_offset=46), Tuple([Str('full', lineno=260, col_offset=54), Name('True', Load(), lineno=260, col_offset=62), Num(10, lineno=260, col_offset=68)], Load(), lineno=260, col_offset=54), Attribute(Name('q', Load(), lineno=260, col_offset=73), 'get', Load(), lineno=260, col_offset=73), Tuple([], Load(), lineno=260, col_offset=80), Name('FailingQueueException', Load(), lineno=261, col_offset=46)], [], None, None, lineno=260, col_offset=12), lineno=260, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=262, col_offset=12), 'fail', Load(), lineno=262, col_offset=12), [Str("The queue didn't fail when it should have", lineno=262, col_offset=22)], [], None, None, lineno=262, col_offset=12), lineno=262, col_offset=12)], [ExceptHandler(Name('FailingQueueException', Load(), lineno=263, col_offset=15), None, [Pass( lineno=264, col_offset=12)], lineno=263, col_offset=8)], [], lineno=259, col_offset=8), Expr(Call(Attribute(Name('q', Load(), lineno=267, col_offset=8), 'put', Load(), lineno=267, col_offset=8), [Str('last', lineno=267, col_offset=14)], [], None, None, lineno=267, col_offset=8), lineno=267, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=268, col_offset=8), 'assertTrue', Load(), lineno=268, col_offset=8), [Call(Attribute(Name('q', Load(), lineno=268, col_offset=24), 'full', Load(), lineno=268, col_offset=24), [], [], None, None, lineno=268, col_offset=24), Str('Queue should be full', lineno=268, col_offset=34)], [], None, None, lineno=268, col_offset=8), lineno=268, col_offset=8), Expr(Call(Attribute(Name('q', Load(), lineno=269, col_offset=8), 'get', Load(), lineno=269, col_offset=8), [], [], None, None, lineno=269, col_offset=8), lineno=269, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=270, col_offset=8), 'assertTrue', Load(), lineno=270, col_offset=8), [UnaryOp(Not(), Call(Attribute(Name('q', Load(), lineno=270, col_offset=28), 'full', Load(), lineno=270, col_offset=28), [], [], None, None, lineno=270, col_offset=28), lineno=270, col_offset=24), Str('Queue should not be full', lineno=270, col_offset=38)], [], None, None, lineno=270, col_offset=8), lineno=270, col_offset=8), Expr(Call(Attribute(Name('q', Load(), lineno=271, col_offset=8), 'put', Load(), lineno=271, col_offset=8), [Str('last', lineno=271, col_offset=14)], [], None, None, lineno=271, col_offset=8), lineno=271, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=272, col_offset=8), 'assertTrue', Load(), lineno=272, col_offset=8), [Call(Attribute(Name('q', Load(), lineno=272, col_offset=24), 'full', Load(), lineno=272, col_offset=24), [], [], None, None, lineno=272, col_offset=24), Str('Queue should be full', lineno=272, col_offset=34)], [], None, None, lineno=272, col_offset=8), lineno=272, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=274, col_offset=8), 'do_blocking_test', Load(), lineno=274, col_offset=8), [Attribute(Name('q', Load(), lineno=274, col_offset=30), 'put', Load(), lineno=274, col_offset=30), Tuple([Str('full', lineno=274, col_offset=38)], Load(), lineno=274, col_offset=38), Attribute(Name('q', Load(), lineno=274, col_offset=48), 'get', Load(), lineno=274, col_offset=48), Tuple([], Load(), lineno=274, col_offset=55)], [], None, None, lineno=274, col_offset=8), lineno=274, col_offset=8), For(Name('i', Store(), lineno=276, col_offset=12), Call(Name('range', Load(), lineno=276, col_offset=17), [Name('QUEUE_SIZE', Load(), lineno=276, col_offset=23)], [], None, None, lineno=276, col_offset=17), [Expr(Call(Attribute(Name('q', Load(), lineno=277, col_offset=12), 'get', Load(), lineno=277, col_offset=12), [], [], None, None, lineno=277, col_offset=12), lineno=277, col_offset=12)], [], lineno=276, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=278, col_offset=8), 'assertTrue', Load(), lineno=278, col_offset=8), [Call(Attribute(Name('q', Load(), lineno=278, col_offset=24), 'empty', Load(), lineno=278, col_offset=24), [], [], None, None, lineno=278, col_offset=24), Str('Queue should be empty', lineno=278, col_offset=35)], [], None, None, lineno=278, col_offset=8), lineno=278, col_offset=8), Expr(Call(Attribute(Name('q', Load(), lineno=279, col_offset=8), 'put', Load(), lineno=279, col_offset=8), [Str('first', lineno=279, col_offset=14)], [], None, None, lineno=279, col_offset=8), lineno=279, col_offset=8), Assign([Attribute(Name('q', Load(), lineno=280, col_offset=8), 'fail_next_get', Store(), lineno=280, col_offset=8)], Name('True', Load(), lineno=280, col_offset=26), lineno=280, col_offset=8), TryExcept([Expr(Call(Attribute(Name('q', Load(), lineno=282, col_offset=12), 'get', Load(), lineno=282, col_offset=12), [], [], None, None, lineno=282, col_offset=12), lineno=282, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=283, col_offset=12), 'fail', Load(), lineno=283, col_offset=12), [Str("The queue didn't fail when it should have", lineno=283, col_offset=22)], [], None, None, lineno=283, col_offset=12), lineno=283, col_offset=12)], [ExceptHandler(Name('FailingQueueException', Load(), lineno=284, col_offset=15), None, [Pass( lineno=285, col_offset=12)], lineno=284, col_offset=8)], [], lineno=281, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=286, col_offset=8), 'assertTrue', Load(), lineno=286, col_offset=8), [UnaryOp(Not(), Call(Attribute(Name('q', Load(), lineno=286, col_offset=28), 'empty', Load(), lineno=286, col_offset=28), [], [], None, None, lineno=286, col_offset=28), lineno=286, col_offset=24), Str('Queue should not be empty', lineno=286, col_offset=39)], [], None, None, lineno=286, col_offset=8), lineno=286, col_offset=8), Assign([Attribute(Name('q', Load(), lineno=287, col_offset=8), 'fail_next_get', Store(), lineno=287, col_offset=8)], Name('True', Load(), lineno=287, col_offset=26), lineno=287, col_offset=8), TryExcept([Expr(Call(Attribute(Name('q', Load(), lineno=289, col_offset=12), 'get', Load(), lineno=289, col_offset=12), [], [keyword('timeout', Num(0.1, lineno=289, col_offset=26))], None, None, lineno=289, col_offset=12), lineno=289, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=290, col_offset=12), 'fail', Load(), lineno=290, col_offset=12), [Str("The queue didn't fail when it should have", lineno=290, col_offset=22)], [], None, None, lineno=290, col_offset=12), lineno=290, col_offset=12)], [ExceptHandler(Name('FailingQueueException', Load(), lineno=291, col_offset=15), None, [Pass( lineno=292, col_offset=12)], lineno=291, col_offset=8)], [], lineno=288, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=293, col_offset=8), 'assertTrue', Load(), lineno=293, col_offset=8), [UnaryOp(Not(), Call(Attribute(Name('q', Load(), lineno=293, col_offset=28), 'empty', Load(), lineno=293, col_offset=28), [], [], None, None, lineno=293, col_offset=28), lineno=293, col_offset=24), Str('Queue should not be empty', lineno=293, col_offset=39)], [], None, None, lineno=293, col_offset=8), lineno=293, col_offset=8), Expr(Call(Attribute(Name('q', Load(), lineno=294, col_offset=8), 'get', Load(), lineno=294, col_offset=8), [], [], None, None, lineno=294, col_offset=8), lineno=294, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=295, col_offset=8), 'assertTrue', Load(), lineno=295, col_offset=8), [Call(Attribute(Name('q', Load(), lineno=295, col_offset=24), 'empty', Load(), lineno=295, col_offset=24), [], [], None, None, lineno=295, col_offset=24), Str('Queue should be empty', lineno=295, col_offset=35)], [], None, None, lineno=295, col_offset=8), lineno=295, col_offset=8), Assign([Attribute(Name('q', Load(), lineno=296, col_offset=8), 'fail_next_get', Store(), lineno=296, col_offset=8)], Name('True', Load(), lineno=296, col_offset=26), lineno=296, col_offset=8), TryExcept([Expr(Call(Attribute(Name('self', Load(), lineno=298, col_offset=12), 'do_exceptional_blocking_test', Load(), lineno=298, col_offset=12), [Attribute(Name('q', Load(), lineno=298, col_offset=46), 'get', Load(), lineno=298, col_offset=46), Tuple([], Load(), lineno=298, col_offset=53), Attribute(Name('q', Load(), lineno=298, col_offset=57), 'put', Load(), lineno=298, col_offset=57), Tuple([Str('empty', lineno=298, col_offset=65)], Load(), lineno=298, col_offset=65), Name('FailingQueueException', Load(), lineno=299, col_offset=46)], [], None, None, lineno=298, col_offset=12), lineno=298, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=300, col_offset=12), 'fail', Load(), lineno=300, col_offset=12), [Str("The queue didn't fail when it should have", lineno=300, col_offset=22)], [], None, None, lineno=300, col_offset=12), lineno=300, col_offset=12)], [ExceptHandler(Name('FailingQueueException', Load(), lineno=301, col_offset=15), None, [Pass( lineno=302, col_offset=12)], lineno=301, col_offset=8)], [], lineno=297, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=304, col_offset=8), 'assertTrue', Load(), lineno=304, col_offset=8), [UnaryOp(Not(), Call(Attribute(Name('q', Load(), lineno=304, col_offset=28), 'empty', Load(), lineno=304, col_offset=28), [], [], None, None, lineno=304, col_offset=28), lineno=304, col_offset=24), Str('Queue should not be empty', lineno=304, col_offset=39)], [], None, None, lineno=304, col_offset=8), lineno=304, col_offset=8), Expr(Call(Attribute(Name('q', Load(), lineno=305, col_offset=8), 'get', Load(), lineno=305, col_offset=8), [], [], None, None, lineno=305, col_offset=8), lineno=305, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=306, col_offset=8), 'assertTrue', Load(), lineno=306, col_offset=8), [Call(Attribute(Name('q', Load(), lineno=306, col_offset=24), 'empty', Load(), lineno=306, col_offset=24), [], [], None, None, lineno=306, col_offset=24), Str('Queue should be empty', lineno=306, col_offset=35)], [], None, None, lineno=306, col_offset=8), lineno=306, col_offset=8)], [], lineno=227, col_offset=4), FunctionDef('test_failing_queue', arguments([Name('self', Param(), lineno=308, col_offset=27)], None, None, []), [Assign([Name('q', Store(), lineno=311, col_offset=8)], Call(Name('FailingQueue', Load(), lineno=311, col_offset=12), [Name('QUEUE_SIZE', Load(), lineno=311, col_offset=25)], [], None, None, lineno=311, col_offset=12), lineno=311, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=312, col_offset=8), 'failing_queue_test', Load(), lineno=312, col_offset=8), [Name('q', Load(), lineno=312, col_offset=32)], [], None, None, lineno=312, col_offset=8), lineno=312, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=313, col_offset=8), 'failing_queue_test', Load(), lineno=313, col_offset=8), [Name('q', Load(), lineno=313, col_offset=32)], [], None, None, lineno=313, col_offset=8), lineno=313, col_offset=8)], [], lineno=308, col_offset=4)], [], lineno=225, col_offset=0), FunctionDef('test_main', arguments([], None, None, []), [Expr(Call(Attribute(Name('test_support', Load(), lineno=317, col_offset=4), 'run_unittest', Load(), lineno=317, col_offset=4), [Name('QueueTest', Load(), lineno=317, col_offset=30), Name('LifoQueueTest', Load(), lineno=317, col_offset=41), Name('PriorityQueueTest', Load(), lineno=317, col_offset=56), Name('FailingQueueTest', Load(), lineno=318, col_offset=30)], [], None, None, lineno=317, col_offset=4), lineno=317, col_offset=4)], [], lineno=316, col_offset=0), If(Compare(Name('__name__', Load(), lineno=321, col_offset=3), [Eq()], [Str('__main__', lineno=321, col_offset=15)], lineno=321, col_offset=3), [Expr(Call(Name('test_main', Load(), lineno=322, col_offset=4), [], [], None, None, lineno=322, col_offset=4), lineno=322, col_offset=4)], [], lineno=321, col_offset=0)])
