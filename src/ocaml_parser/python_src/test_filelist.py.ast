Module([Expr(Str('Tests for distutils.filelist.', lineno=1, col_offset=0), lineno=1, col_offset=0), ImportFrom('os.path', [alias('join', None)], 0, lineno=2, col_offset=0), Import([alias('unittest', None)], lineno=3, col_offset=0), ImportFrom('test.test_support', [alias('captured_stdout', None)], 0, lineno=4, col_offset=0), ImportFrom('distutils.filelist', [alias('glob_to_re', None), alias('FileList', None)], 0, lineno=6, col_offset=0), ImportFrom('distutils', [alias('debug', None)], 0, lineno=7, col_offset=0), Assign([Name('MANIFEST_IN', Store(), lineno=9, col_offset=0)], Str('include ok\ninclude xo\nexclude xo\ninclude foo.tmp\nglobal-include *.x\nglobal-include *.txt\nglobal-exclude *.tmp\nrecursive-include f *.oo\nrecursive-exclude global *.x\ngraft dir\nprune dir3\n', lineno=21, col_offset=-1), lineno=9, col_offset=0), ClassDef('FileListTestCase', [Attribute(Name('unittest', Load(), lineno=23, col_offset=23), 'TestCase', Load(), lineno=23, col_offset=23)], [FunctionDef('test_glob_to_re', arguments([Name('self', Param(), lineno=25, col_offset=24)], None, None, []), [Expr(Call(Attribute(Name('self', Load(), lineno=27, col_offset=8), 'assertEqual', Load(), lineno=27, col_offset=8), [Call(Name('glob_to_re', Load(), lineno=27, col_offset=25), [Str('foo*', lineno=27, col_offset=36)], [], None, None, lineno=27, col_offset=25), Str('foo[^/]*\\Z(?ms)', lineno=27, col_offset=45)], [], None, None, lineno=27, col_offset=8), lineno=27, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=28, col_offset=8), 'assertEqual', Load(), lineno=28, col_offset=8), [Call(Name('glob_to_re', Load(), lineno=28, col_offset=25), [Str('foo?', lineno=28, col_offset=36)], [], None, None, lineno=28, col_offset=25), Str('foo[^/]\\Z(?ms)', lineno=28, col_offset=45)], [], None, None, lineno=28, col_offset=8), lineno=28, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=29, col_offset=8), 'assertEqual', Load(), lineno=29, col_offset=8), [Call(Name('glob_to_re', Load(), lineno=29, col_offset=25), [Str('foo??', lineno=29, col_offset=36)], [], None, None, lineno=29, col_offset=25), Str('foo[^/][^/]\\Z(?ms)', lineno=29, col_offset=46)], [], None, None, lineno=29, col_offset=8), lineno=29, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=32, col_offset=8), 'assertEqual', Load(), lineno=32, col_offset=8), [Call(Name('glob_to_re', Load(), lineno=32, col_offset=25), [Str('foo\\\\*', lineno=32, col_offset=36)], [], None, None, lineno=32, col_offset=25), Str('foo\\\\\\\\[^/]*\\Z(?ms)', lineno=32, col_offset=48)], [], None, None, lineno=32, col_offset=8), lineno=32, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=33, col_offset=8), 'assertEqual', Load(), lineno=33, col_offset=8), [Call(Name('glob_to_re', Load(), lineno=33, col_offset=25), [Str('foo\\\\\\*', lineno=33, col_offset=36)], [], None, None, lineno=33, col_offset=25), Str('foo\\\\\\\\\\\\[^/]*\\Z(?ms)', lineno=33, col_offset=49)], [], None, None, lineno=33, col_offset=8), lineno=33, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=34, col_offset=8), 'assertEqual', Load(), lineno=34, col_offset=8), [Call(Name('glob_to_re', Load(), lineno=34, col_offset=25), [Str('foo????', lineno=34, col_offset=36)], [], None, None, lineno=34, col_offset=25), Str('foo[^/][^/][^/][^/]\\Z(?ms)', lineno=34, col_offset=48)], [], None, None, lineno=34, col_offset=8), lineno=34, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=35, col_offset=8), 'assertEqual', Load(), lineno=35, col_offset=8), [Call(Name('glob_to_re', Load(), lineno=35, col_offset=25), [Str('foo\\\\??', lineno=35, col_offset=36)], [], None, None, lineno=35, col_offset=25), Str('foo\\\\\\\\[^/][^/]\\Z(?ms)', lineno=35, col_offset=49)], [], None, None, lineno=35, col_offset=8), lineno=35, col_offset=8)], [], lineno=25, col_offset=4), FunctionDef('test_process_template_line', arguments([Name('self', Param(), lineno=37, col_offset=35)], None, None, []), [Assign([Name('file_list', Store(), lineno=39, col_offset=8)], Call(Name('FileList', Load(), lineno=39, col_offset=20), [], [], None, None, lineno=39, col_offset=20), lineno=39, col_offset=8), Assign([Attribute(Name('file_list', Load(), lineno=42, col_offset=8), 'allfiles', Store(), lineno=42, col_offset=8)], List([Str('foo.tmp', lineno=42, col_offset=30), Str('ok', lineno=42, col_offset=41), Str('xo', lineno=42, col_offset=47), Str('four.txt', lineno=42, col_offset=53), Call(Name('join', Load(), lineno=43, col_offset=30), [Str('global', lineno=43, col_offset=35), Str('one.txt', lineno=43, col_offset=45)], [], None, None, lineno=43, col_offset=30), Call(Name('join', Load(), lineno=44, col_offset=30), [Str('global', lineno=44, col_offset=35), Str('two.txt', lineno=44, col_offset=45)], [], None, None, lineno=44, col_offset=30), Call(Name('join', Load(), lineno=45, col_offset=30), [Str('global', lineno=45, col_offset=35), Str('files.x', lineno=45, col_offset=45)], [], None, None, lineno=45, col_offset=30), Call(Name('join', Load(), lineno=46, col_offset=30), [Str('global', lineno=46, col_offset=35), Str('here.tmp', lineno=46, col_offset=45)], [], None, None, lineno=46, col_offset=30), Call(Name('join', Load(), lineno=47, col_offset=30), [Str('f', lineno=47, col_offset=35), Str('o', lineno=47, col_offset=40), Str('f.oo', lineno=47, col_offset=45)], [], None, None, lineno=47, col_offset=30), Call(Name('join', Load(), lineno=48, col_offset=30), [Str('dir', lineno=48, col_offset=35), Str('graft-one', lineno=48, col_offset=42)], [], None, None, lineno=48, col_offset=30), Call(Name('join', Load(), lineno=49, col_offset=30), [Str('dir', lineno=49, col_offset=35), Str('dir2', lineno=49, col_offset=42), Str('graft2', lineno=49, col_offset=50)], [], None, None, lineno=49, col_offset=30), Call(Name('join', Load(), lineno=50, col_offset=30), [Str('dir3', lineno=50, col_offset=35), Str('ok', lineno=50, col_offset=43)], [], None, None, lineno=50, col_offset=30), Call(Name('join', Load(), lineno=51, col_offset=30), [Str('dir3', lineno=51, col_offset=35), Str('sub', lineno=51, col_offset=43), Str('ok.txt', lineno=51, col_offset=50)], [], None, None, lineno=51, col_offset=30)], Load(), lineno=42, col_offset=29), lineno=42, col_offset=8), For(Name('line', Store(), lineno=54, col_offset=12), Call(Attribute(Name('MANIFEST_IN', Load(), lineno=54, col_offset=20), 'split', Load(), lineno=54, col_offset=20), [Str('\n', lineno=54, col_offset=38)], [], None, None, lineno=54, col_offset=20), [If(Compare(Call(Attribute(Name('line', Load(), lineno=55, col_offset=15), 'strip', Load(), lineno=55, col_offset=15), [], [], None, None, lineno=55, col_offset=15), [Eq()], [Str('', lineno=55, col_offset=31)], lineno=55, col_offset=15), [Continue( lineno=56, col_offset=16)], [], lineno=55, col_offset=12), Expr(Call(Attribute(Name('file_list', Load(), lineno=57, col_offset=12), 'process_template_line', Load(), lineno=57, col_offset=12), [Name('line', Load(), lineno=57, col_offset=44)], [], None, None, lineno=57, col_offset=12), lineno=57, col_offset=12)], [], lineno=54, col_offset=8), Assign([Name('wanted', Store(), lineno=59, col_offset=8)], List([Str('ok', lineno=59, col_offset=18), Str('four.txt', lineno=59, col_offset=24), Call(Name('join', Load(), lineno=59, col_offset=36), [Str('global', lineno=59, col_offset=41), Str('one.txt', lineno=59, col_offset=51)], [], None, None, lineno=59, col_offset=36), Call(Name('join', Load(), lineno=60, col_offset=18), [Str('global', lineno=60, col_offset=23), Str('two.txt', lineno=60, col_offset=33)], [], None, None, lineno=60, col_offset=18), Call(Name('join', Load(), lineno=60, col_offset=45), [Str('f', lineno=60, col_offset=50), Str('o', lineno=60, col_offset=55), Str('f.oo', lineno=60, col_offset=60)], [], None, None, lineno=60, col_offset=45), Call(Name('join', Load(), lineno=61, col_offset=18), [Str('dir', lineno=61, col_offset=23), Str('graft-one', lineno=61, col_offset=30)], [], None, None, lineno=61, col_offset=18), Call(Name('join', Load(), lineno=61, col_offset=44), [Str('dir', lineno=61, col_offset=49), Str('dir2', lineno=61, col_offset=56), Str('graft2', lineno=61, col_offset=64)], [], None, None, lineno=61, col_offset=44)], Load(), lineno=59, col_offset=17), lineno=59, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=63, col_offset=8), 'assertEqual', Load(), lineno=63, col_offset=8), [Attribute(Name('file_list', Load(), lineno=63, col_offset=25), 'files', Load(), lineno=63, col_offset=25), Name('wanted', Load(), lineno=63, col_offset=42)], [], None, None, lineno=63, col_offset=8), lineno=63, col_offset=8)], [], lineno=37, col_offset=4), FunctionDef('test_debug_print', arguments([Name('self', Param(), lineno=65, col_offset=25)], None, None, []), [Assign([Name('file_list', Store(), lineno=66, col_offset=8)], Call(Name('FileList', Load(), lineno=66, col_offset=20), [], [], None, None, lineno=66, col_offset=20), lineno=66, col_offset=8), With(Call(Name('captured_stdout', Load(), lineno=67, col_offset=13), [], [], None, None, lineno=67, col_offset=13), Name('stdout', Store(), lineno=67, col_offset=34), [Expr(Call(Attribute(Name('file_list', Load(), lineno=68, col_offset=12), 'debug_print', Load(), lineno=68, col_offset=12), [Str('xxx', lineno=68, col_offset=34)], [], None, None, lineno=68, col_offset=12), lineno=68, col_offset=12)], lineno=67, col_offset=13), Expr(Call(Attribute(Name('stdout', Load(), lineno=69, col_offset=8), 'seek', Load(), lineno=69, col_offset=8), [Num(0, lineno=69, col_offset=20)], [], None, None, lineno=69, col_offset=8), lineno=69, col_offset=8), Expr(Call(Attribute(Name('self', Load(), lineno=70, col_offset=8), 'assertEqual', Load(), lineno=70, col_offset=8), [Call(Attribute(Name('stdout', Load(), lineno=70, col_offset=25), 'read', Load(), lineno=70, col_offset=25), [], [], None, None, lineno=70, col_offset=25), Str('', lineno=70, col_offset=40)], [], None, None, lineno=70, col_offset=8), lineno=70, col_offset=8), Assign([Attribute(Name('debug', Load(), lineno=72, col_offset=8), 'DEBUG', Store(), lineno=72, col_offset=8)], Name('True', Load(), lineno=72, col_offset=22), lineno=72, col_offset=8), TryFinally([With(Call(Name('captured_stdout', Load(), lineno=74, col_offset=17), [], [], None, None, lineno=74, col_offset=17), Name('stdout', Store(), lineno=74, col_offset=38), [Expr(Call(Attribute(Name('file_list', Load(), lineno=75, col_offset=16), 'debug_print', Load(), lineno=75, col_offset=16), [Str('xxx', lineno=75, col_offset=38)], [], None, None, lineno=75, col_offset=16), lineno=75, col_offset=16)], lineno=74, col_offset=17), Expr(Call(Attribute(Name('stdout', Load(), lineno=76, col_offset=12), 'seek', Load(), lineno=76, col_offset=12), [Num(0, lineno=76, col_offset=24)], [], None, None, lineno=76, col_offset=12), lineno=76, col_offset=12), Expr(Call(Attribute(Name('self', Load(), lineno=77, col_offset=12), 'assertEqual', Load(), lineno=77, col_offset=12), [Call(Attribute(Name('stdout', Load(), lineno=77, col_offset=29), 'read', Load(), lineno=77, col_offset=29), [], [], None, None, lineno=77, col_offset=29), Str('xxx\n', lineno=77, col_offset=44)], [], None, None, lineno=77, col_offset=12), lineno=77, col_offset=12)], [Assign([Attribute(Name('debug', Load(), lineno=79, col_offset=12), 'DEBUG', Store(), lineno=79, col_offset=12)], Name('False', Load(), lineno=79, col_offset=26), lineno=79, col_offset=12)], lineno=73, col_offset=8)], [], lineno=65, col_offset=4)], [], lineno=23, col_offset=0), FunctionDef('test_suite', arguments([], None, None, []), [Return(Call(Attribute(Name('unittest', Load(), lineno=82, col_offset=11), 'makeSuite', Load(), lineno=82, col_offset=11), [Name('FileListTestCase', Load(), lineno=82, col_offset=30)], [], None, None, lineno=82, col_offset=11), lineno=82, col_offset=4)], [], lineno=81, col_offset=0), If(Compare(Name('__name__', Load(), lineno=84, col_offset=3), [Eq()], [Str('__main__', lineno=84, col_offset=15)], lineno=84, col_offset=3), [Expr(Call(Attribute(Name('unittest', Load(), lineno=85, col_offset=4), 'main', Load(), lineno=85, col_offset=4), [], [keyword('defaultTest', Str('test_suite', lineno=85, col_offset=30))], None, None, lineno=85, col_offset=4), lineno=85, col_offset=4)], [], lineno=84, col_offset=0)])
