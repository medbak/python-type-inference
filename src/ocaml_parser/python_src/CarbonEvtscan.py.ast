Module([Import([alias('sys', None)], lineno=3, col_offset=0), Import([alias('MacOS', None)], lineno=4, col_offset=0), Import([alias('sys', None)], lineno=5, col_offset=0), ImportFrom('bgenlocations', [alias('TOOLBOXDIR', None), alias('BGENDIR', None)], 0, lineno=7, col_offset=0), Expr(Call(Attribute(Attribute(Name('sys', Load(), lineno=8, col_offset=0), 'path', Load(), lineno=8, col_offset=0), 'append', Load(), lineno=8, col_offset=0), [Name('BGENDIR', Load(), lineno=8, col_offset=16)], [], None, None, lineno=8, col_offset=0), lineno=8, col_offset=0), ImportFrom('scantools', [alias('Scanner', None), alias('Scanner_OSX', None)], 0, lineno=10, col_offset=0), FunctionDef('main', arguments([], None, None, []), [Print(None, [Str('---Scanning CarbonEvents.h---', lineno=13, col_offset=10)], True, lineno=13, col_offset=4), Assign([Name('input', Store(), lineno=14, col_offset=4)], List([Str('CarbonEvents.h', lineno=14, col_offset=13)], Load(), lineno=14, col_offset=12), lineno=14, col_offset=4), Assign([Name('output', Store(), lineno=15, col_offset=4)], Str('CarbonEventsgen.py', lineno=15, col_offset=13), lineno=15, col_offset=4), Assign([Name('defsoutput', Store(), lineno=16, col_offset=4)], BinOp(Name('TOOLBOXDIR', Load(), lineno=16, col_offset=17), Add(), Str('CarbonEvents.py', lineno=16, col_offset=30), lineno=16, col_offset=17), lineno=16, col_offset=4), Assign([Name('scanner', Store(), lineno=17, col_offset=4)], Call(Name('CarbonEvents_Scanner', Load(), lineno=17, col_offset=14), [Name('input', Load(), lineno=17, col_offset=35), Name('output', Load(), lineno=17, col_offset=42), Name('defsoutput', Load(), lineno=17, col_offset=50)], [], None, None, lineno=17, col_offset=14), lineno=17, col_offset=4), Expr(Call(Attribute(Name('scanner', Load(), lineno=18, col_offset=4), 'scan', Load(), lineno=18, col_offset=4), [], [], None, None, lineno=18, col_offset=4), lineno=18, col_offset=4), Expr(Call(Attribute(Name('scanner', Load(), lineno=19, col_offset=4), 'close', Load(), lineno=19, col_offset=4), [], [], None, None, lineno=19, col_offset=4), lineno=19, col_offset=4), Print(None, [Str('=== Testing definitions output code ===', lineno=20, col_offset=10)], True, lineno=20, col_offset=4), Expr(Call(Name('execfile', Load(), lineno=21, col_offset=4), [Name('defsoutput', Load(), lineno=21, col_offset=13), Dict([], [], lineno=21, col_offset=25), Dict([], [], lineno=21, col_offset=29)], [], None, None, lineno=21, col_offset=4), lineno=21, col_offset=4), Print(None, [Str('--done scanning, importing--', lineno=22, col_offset=10)], True, lineno=22, col_offset=4), Import([alias('CarbonEvtsupport', None)], lineno=23, col_offset=4), Print(None, [Str('done', lineno=24, col_offset=10)], True, lineno=24, col_offset=4)], [], lineno=12, col_offset=0), Assign([Name('RefObjectTypes', Store(), lineno=26, col_offset=0)], List([Str('EventRef', lineno=26, col_offset=18), Str('EventQueueRef', lineno=27, col_offset=32), Str('EventLoopRef', lineno=28, col_offset=32), Str('EventLoopTimerRef', lineno=29, col_offset=32), Str('EventHandlerRef', lineno=30, col_offset=32), Str('EventHandlerCallRef', lineno=31, col_offset=32), Str('EventTargetRef', lineno=32, col_offset=32), Str('EventHotKeyRef', lineno=33, col_offset=32)], Load(), lineno=26, col_offset=17), lineno=26, col_offset=0), ClassDef('CarbonEvents_Scanner', [Name('Scanner_OSX', Load(), lineno=36, col_offset=27)], [FunctionDef('destination', arguments([Name('self', Param(), lineno=37, col_offset=20), Name('type', Param(), lineno=37, col_offset=26), Name('name', Param(), lineno=37, col_offset=32), Name('arglist', Param(), lineno=37, col_offset=38)], None, None, []), [Assign([Name('classname', Store(), lineno=38, col_offset=8)], Str('CarbonEventsFunction', lineno=38, col_offset=20), lineno=38, col_offset=8), Assign([Name('listname', Store(), lineno=39, col_offset=8)], Str('functions', lineno=39, col_offset=19), lineno=39, col_offset=8), If(Name('arglist', Load(), lineno=40, col_offset=11), [Assign([Tuple([Name('t', Store(), lineno=41, col_offset=12), Name('n', Store(), lineno=41, col_offset=15), Name('m', Store(), lineno=41, col_offset=18)], Store(), lineno=41, col_offset=12)], Subscript(Name('arglist', Load(), lineno=41, col_offset=22), Index(Num(0, lineno=41, col_offset=30)), Load(), lineno=41, col_offset=22), lineno=41, col_offset=12), If(BoolOp(And(), [Compare(Name('t', Load(), lineno=42, col_offset=15), [In()], [Name('RefObjectTypes', Load(), lineno=42, col_offset=20)], lineno=42, col_offset=15), Compare(Name('m', Load(), lineno=42, col_offset=39), [Eq()], [Str('InMode', lineno=42, col_offset=44)], lineno=42, col_offset=39)], lineno=42, col_offset=15), [If(Compare(Name('t', Load(), lineno=43, col_offset=19), [Eq()], [Str('EventHandlerRef', lineno=43, col_offset=24)], lineno=43, col_offset=19), [Assign([Name('classname', Store(), lineno=44, col_offset=20)], Str('EventHandlerRefMethod', lineno=44, col_offset=32), lineno=44, col_offset=20)], [Assign([Name('classname', Store(), lineno=46, col_offset=20)], Str('CarbonEventsMethod', lineno=46, col_offset=32), lineno=46, col_offset=20)], lineno=43, col_offset=16), Assign([Name('listname', Store(), lineno=47, col_offset=16)], BinOp(Name('t', Load(), lineno=47, col_offset=27), Add(), Str('methods', lineno=47, col_offset=31), lineno=47, col_offset=27), lineno=47, col_offset=16)], [], lineno=42, col_offset=12)], [], lineno=40, col_offset=8), Return(Tuple([Name('classname', Load(), lineno=50, col_offset=15), Name('listname', Load(), lineno=50, col_offset=26)], Load(), lineno=50, col_offset=15), lineno=50, col_offset=8)], [], lineno=37, col_offset=4), FunctionDef('writeinitialdefs', arguments([Name('self', Param(), lineno=52, col_offset=25)], None, None, []), [Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=53, col_offset=8), 'defsfile', Load(), lineno=53, col_offset=8), 'write', Load(), lineno=53, col_offset=8), [Str('def FOUR_CHAR_CODE(x): return x\n', lineno=53, col_offset=28)], [], None, None, lineno=53, col_offset=8), lineno=53, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=54, col_offset=8), 'defsfile', Load(), lineno=54, col_offset=8), 'write', Load(), lineno=54, col_offset=8), [Str('def FOUR_CHAR_CODE(x): return x\n', lineno=54, col_offset=28)], [], None, None, lineno=54, col_offset=8), lineno=54, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=55, col_offset=8), 'defsfile', Load(), lineno=55, col_offset=8), 'write', Load(), lineno=55, col_offset=8), [Str('false = 0\n', lineno=55, col_offset=28)], [], None, None, lineno=55, col_offset=8), lineno=55, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=56, col_offset=8), 'defsfile', Load(), lineno=56, col_offset=8), 'write', Load(), lineno=56, col_offset=8), [Str('true = 1\n', lineno=56, col_offset=28)], [], None, None, lineno=56, col_offset=8), lineno=56, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=57, col_offset=8), 'defsfile', Load(), lineno=57, col_offset=8), 'write', Load(), lineno=57, col_offset=8), [Str("keyAEEventClass = FOUR_CHAR_CODE('evcl')\n", lineno=57, col_offset=28)], [], None, None, lineno=57, col_offset=8), lineno=57, col_offset=8), Expr(Call(Attribute(Attribute(Name('self', Load(), lineno=58, col_offset=8), 'defsfile', Load(), lineno=58, col_offset=8), 'write', Load(), lineno=58, col_offset=8), [Str("keyAEEventID = FOUR_CHAR_CODE('evti')\n", lineno=58, col_offset=28)], [], None, None, lineno=58, col_offset=8), lineno=58, col_offset=8)], [], lineno=52, col_offset=4), FunctionDef('makeblacklistnames', arguments([Name('self', Param(), lineno=60, col_offset=27)], None, None, []), [Return(List([Str('sHandler', lineno=62, col_offset=16), Str('MacCreateEvent', lineno=63, col_offset=16), Str('RegisterToolboxObjectClass', lineno=67, col_offset=16), Str('UnregisterToolboxObjectClass', lineno=68, col_offset=16), Str('ProcessHICommand', lineno=69, col_offset=16), Str('GetCFRunLoopFromEventLoop', lineno=70, col_offset=16), Str('InvokeEventHandlerUPP', lineno=72, col_offset=16), Str('InvokeEventComparatorUPP', lineno=73, col_offset=16), Str('InvokeEventLoopTimerUPP', lineno=74, col_offset=16), Str('NewEventComparatorUPP', lineno=75, col_offset=16), Str('NewEventLoopTimerUPP', lineno=76, col_offset=16), Str('NewEventHandlerUPP', lineno=77, col_offset=16), Str('DisposeEventComparatorUPP', lineno=78, col_offset=16), Str('DisposeEventLoopTimerUPP', lineno=79, col_offset=16), Str('DisposeEventHandlerUPP', lineno=80, col_offset=16), Str('InstallEventHandler', lineno=83, col_offset=16), Str('RemoveEventHandler', lineno=84, col_offset=16), Str('GetEventParameter', lineno=87, col_offset=16), Str('FlushSpecificEventsFromQueue', lineno=88, col_offset=16), Str('FindSpecificEventInQueue', lineno=89, col_offset=16), Str('InstallEventLoopTimer', lineno=90, col_offset=16), Str('CreateTypeStringWithOSType', lineno=93, col_offset=16), Str('CopyEvent', lineno=94, col_offset=16)], Load(), lineno=61, col_offset=15), lineno=61, col_offset=8)], [], lineno=60, col_offset=4), FunctionDef('makerepairinstructions', arguments([Name('self', Param(), lineno=106, col_offset=31)], None, None, []), [Return(List([Tuple([List([Tuple([Str('UInt32', lineno=108, col_offset=19), Str('inSize', lineno=108, col_offset=29), Str('InMode', lineno=108, col_offset=39)], Load(), lineno=108, col_offset=19), Tuple([Str('void_ptr', lineno=108, col_offset=51), Str('inDataPtr', lineno=108, col_offset=63), Str('InMode', lineno=108, col_offset=76)], Load(), lineno=108, col_offset=51)], Load(), lineno=108, col_offset=17), List([Tuple([Str('MyInBuffer', lineno=109, col_offset=19), Str('inDataPtr', lineno=109, col_offset=33), Str('InMode', lineno=109, col_offset=46)], Load(), lineno=109, col_offset=19)], Load(), lineno=109, col_offset=17)], Load(), lineno=108, col_offset=17), Tuple([List([Tuple([Str('Boolean', lineno=110, col_offset=19), Str('ioWasInRgn', lineno=110, col_offset=30), Str('OutMode', lineno=110, col_offset=44)], Load(), lineno=110, col_offset=19)], Load(), lineno=110, col_offset=17), List([Tuple([Str('Boolean', lineno=111, col_offset=19), Str('ioWasInRgn', lineno=111, col_offset=30), Str('InOutMode', lineno=111, col_offset=44)], Load(), lineno=111, col_offset=19)], Load(), lineno=111, col_offset=17)], Load(), lineno=110, col_offset=17)], Load(), lineno=107, col_offset=15), lineno=107, col_offset=8)], [], lineno=106, col_offset=4)], [], lineno=36, col_offset=0), If(Compare(Name('__name__', Load(), lineno=114, col_offset=3), [Eq()], [Str('__main__', lineno=114, col_offset=15)], lineno=114, col_offset=3), [Expr(Call(Name('main', Load(), lineno=115, col_offset=4), [], [], None, None, lineno=115, col_offset=4), lineno=115, col_offset=4)], [], lineno=114, col_offset=0)])
