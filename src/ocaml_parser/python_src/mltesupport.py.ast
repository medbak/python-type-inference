Module([Import([alias('string', None)], lineno=8, col_offset=0), Assign([Name('MODNAME', Store(), lineno=11, col_offset=0)], Str('_Mlte', lineno=11, col_offset=10), lineno=11, col_offset=0), Assign([Name('MODPREFIX', Store(), lineno=14, col_offset=0)], Str('Mlte', lineno=14, col_offset=12), lineno=14, col_offset=0), Assign([Name('INPUTFILE', Store(), lineno=15, col_offset=0)], BinOp(Call(Attribute(Name('string', Load(), lineno=15, col_offset=12), 'lower', Load(), lineno=15, col_offset=12), [Name('MODPREFIX', Load(), lineno=15, col_offset=25)], [], None, None, lineno=15, col_offset=12), Add(), Str('gen.py', lineno=15, col_offset=38), lineno=15, col_offset=12), lineno=15, col_offset=0), Assign([Name('OUTPUTFILE', Store(), lineno=16, col_offset=0)], BinOp(Name('MODNAME', Load(), lineno=16, col_offset=13), Add(), Str('module.c', lineno=16, col_offset=23), lineno=16, col_offset=13), lineno=16, col_offset=0), ImportFrom('macsupport', [alias('*', None)], 0, lineno=18, col_offset=0), Assign([Name('includestuff', Store(), lineno=22, col_offset=0)], BinOp(Name('includestuff', Load(), lineno=22, col_offset=15), Add(), Str("\n#include <Carbon/Carbon.h>\n\n/* For now we declare them forward here. They'll go to mactoolbox later */\nstatic PyObject *TXNObj_New(TXNObject);\nstatic int TXNObj_Convert(PyObject *, TXNObject *);\nstatic PyObject *TXNFontMenuObj_New(TXNFontMenuObject);\nstatic int TXNFontMenuObj_Convert(PyObject *, TXNFontMenuObject *);\n\n// ADD declarations\n#ifdef NOTYET_USE_TOOLBOX_OBJECT_GLUE\n//extern PyObject *_CFTypeRefObj_New(CFTypeRef);\n//extern int _CFTypeRefObj_Convert(PyObject *, CFTypeRef *);\n\n//#define CFTypeRefObj_New _CFTypeRefObj_New\n//#define CFTypeRefObj_Convert _CFTypeRefObj_Convert\n#endif\n\n/*\n** Parse an optional fsspec\n*/\nstatic int\nOptFSSpecPtr_Convert(PyObject *v, FSSpec **p_itself)\n{\n        static FSSpec fss;\n        if (v == Py_None)\n        {\n                *p_itself = NULL;\n                return 1;\n        }\n        *p_itself = &fss;\n        return PyMac_GetFSSpec(v, *p_itself);\n}\n\n/*\n** Parse an optional rect\n*/\nstatic int\nOptRectPtr_Convert(PyObject *v, Rect **p_itself)\n{\n        static Rect r;\n\n        if (v == Py_None)\n        {\n                *p_itself = NULL;\n                return 1;\n        }\n        *p_itself = &r;\n        return PyMac_GetRect(v, *p_itself);\n}\n\n/*\n** Parse an optional GWorld\n*/\nstatic int\nOptGWorldObj_Convert(PyObject *v, GWorldPtr *p_itself)\n{\n        if (v == Py_None)\n        {\n                *p_itself = NULL;\n                return 1;\n        }\n        return GWorldObj_Convert(v, p_itself);\n}\n\n", lineno=87, col_offset=-1), lineno=22, col_offset=15), lineno=22, col_offset=0), Assign([Name('initstuff', Store(), lineno=89, col_offset=0)], BinOp(Name('initstuff', Load(), lineno=89, col_offset=12), Add(), Str('\n//      PyMac_INIT_TOOLBOX_OBJECT_NEW(xxxx);\n', lineno=91, col_offset=-1), lineno=89, col_offset=12), lineno=89, col_offset=0), Assign([Name('TXNObject', Store(), lineno=92, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=92, col_offset=12), [Str('TXNObject', lineno=92, col_offset=30), Str('TXNObj', lineno=92, col_offset=43)], [], None, None, lineno=92, col_offset=12), lineno=92, col_offset=0), Assign([Name('TXNFontMenuObject', Store(), lineno=93, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=93, col_offset=20), [Str('TXNFontMenuObject', lineno=93, col_offset=38), Str('TXNFontMenuObj', lineno=93, col_offset=59)], [], None, None, lineno=93, col_offset=20), lineno=93, col_offset=0), Assign([Name('TXNFrameID', Store(), lineno=95, col_offset=0)], Call(Name('Type', Load(), lineno=95, col_offset=13), [Str('TXNFrameID', lineno=95, col_offset=18), Str('l', lineno=95, col_offset=32)], [], None, None, lineno=95, col_offset=13), lineno=95, col_offset=0), Assign([Name('TXNVersionValue', Store(), lineno=96, col_offset=0)], Call(Name('Type', Load(), lineno=96, col_offset=18), [Str('TXNVersionValue', lineno=96, col_offset=23), Str('l', lineno=96, col_offset=42)], [], None, None, lineno=96, col_offset=18), lineno=96, col_offset=0), Assign([Name('TXNFeatureBits', Store(), lineno=97, col_offset=0)], Call(Name('Type', Load(), lineno=97, col_offset=17), [Str('TXNFeatureBits', lineno=97, col_offset=22), Str('l', lineno=97, col_offset=40)], [], None, None, lineno=97, col_offset=17), lineno=97, col_offset=0), Assign([Name('TXNInitOptions', Store(), lineno=98, col_offset=0)], Call(Name('Type', Load(), lineno=98, col_offset=17), [Str('TXNInitOptions', lineno=98, col_offset=22), Str('l', lineno=98, col_offset=40)], [], None, None, lineno=98, col_offset=17), lineno=98, col_offset=0), Assign([Name('TXNFrameOptions', Store(), lineno=99, col_offset=0)], Call(Name('Type', Load(), lineno=99, col_offset=18), [Str('TXNFrameOptions', lineno=99, col_offset=23), Str('l', lineno=99, col_offset=42)], [], None, None, lineno=99, col_offset=18), lineno=99, col_offset=0), Assign([Name('TXNContinuousFlags', Store(), lineno=100, col_offset=0)], Call(Name('Type', Load(), lineno=100, col_offset=21), [Str('TXNContinuousFlags', lineno=100, col_offset=26), Str('l', lineno=100, col_offset=48)], [], None, None, lineno=100, col_offset=21), lineno=100, col_offset=0), Assign([Name('TXNMatchOptions', Store(), lineno=101, col_offset=0)], Call(Name('Type', Load(), lineno=101, col_offset=18), [Str('TXNMatchOptions', lineno=101, col_offset=23), Str('l', lineno=101, col_offset=42)], [], None, None, lineno=101, col_offset=18), lineno=101, col_offset=0), Assign([Name('TXNFileType', Store(), lineno=102, col_offset=0)], Call(Name('OSTypeType', Load(), lineno=102, col_offset=14), [Str('TXNFileType', lineno=102, col_offset=25)], [], None, None, lineno=102, col_offset=14), lineno=102, col_offset=0), Assign([Name('TXNFrameType', Store(), lineno=103, col_offset=0)], Call(Name('Type', Load(), lineno=103, col_offset=15), [Str('TXNFrameType', lineno=103, col_offset=20), Str('l', lineno=103, col_offset=36)], [], None, None, lineno=103, col_offset=15), lineno=103, col_offset=0), Assign([Name('TXNDataType', Store(), lineno=104, col_offset=0)], Call(Name('OSTypeType', Load(), lineno=104, col_offset=14), [Str('TXNDataType', lineno=104, col_offset=25)], [], None, None, lineno=104, col_offset=14), lineno=104, col_offset=0), Assign([Name('TXNControlTag', Store(), lineno=105, col_offset=0)], Call(Name('OSTypeType', Load(), lineno=105, col_offset=16), [Str('TXNControlTag', lineno=105, col_offset=27)], [], None, None, lineno=105, col_offset=16), lineno=105, col_offset=0), Assign([Name('TXNActionKey', Store(), lineno=106, col_offset=0)], Call(Name('Type', Load(), lineno=106, col_offset=15), [Str('TXNActionKey', lineno=106, col_offset=20), Str('l', lineno=106, col_offset=36)], [], None, None, lineno=106, col_offset=15), lineno=106, col_offset=0), Assign([Name('TXNTabType', Store(), lineno=107, col_offset=0)], Call(Name('Type', Load(), lineno=107, col_offset=13), [Str('TXNTabType', lineno=107, col_offset=18), Str('b', lineno=107, col_offset=32)], [], None, None, lineno=107, col_offset=13), lineno=107, col_offset=0), Assign([Name('TXNScrollBarState', Store(), lineno=108, col_offset=0)], Call(Name('Type', Load(), lineno=108, col_offset=20), [Str('TXNScrollBarState', lineno=108, col_offset=25), Str('l', lineno=108, col_offset=46)], [], None, None, lineno=108, col_offset=20), lineno=108, col_offset=0), Assign([Name('TXNOffset', Store(), lineno=109, col_offset=0)], Call(Name('Type', Load(), lineno=109, col_offset=12), [Str('TXNOffset', lineno=109, col_offset=17), Str('l', lineno=109, col_offset=30)], [], None, None, lineno=109, col_offset=12), lineno=109, col_offset=0), Assign([Name('TXNObjectRefcon', Store(), lineno=110, col_offset=0)], Call(Name('FakeType', Load(), lineno=110, col_offset=18), [Str('(TXNObjectRefcon)0', lineno=110, col_offset=27)], [], None, None, lineno=110, col_offset=18), lineno=110, col_offset=0), Assign([Name('TXNErrors', Store(), lineno=111, col_offset=0)], Call(Name('OSErrType', Load(), lineno=111, col_offset=12), [Str('TXNErrors', lineno=111, col_offset=22), Str('l', lineno=111, col_offset=35)], [], None, None, lineno=111, col_offset=12), lineno=111, col_offset=0), Assign([Name('TXNTypeRunAttributes', Store(), lineno=112, col_offset=0)], Call(Name('OSTypeType', Load(), lineno=112, col_offset=23), [Str('TXNTypeRunAttributes', lineno=112, col_offset=34)], [], None, None, lineno=112, col_offset=23), lineno=112, col_offset=0), Assign([Name('TXNTypeRunAttributeSizes', Store(), lineno=113, col_offset=0)], Call(Name('Type', Load(), lineno=113, col_offset=27), [Str('TXNTypeRunAttributeSizes', lineno=113, col_offset=32), Str('l', lineno=113, col_offset=60)], [], None, None, lineno=113, col_offset=27), lineno=113, col_offset=0), Assign([Name('TXNPermanentTextEncodingType', Store(), lineno=114, col_offset=0)], Call(Name('Type', Load(), lineno=114, col_offset=31), [Str('TXNPermanentTextEncodingType', lineno=114, col_offset=36), Str('l', lineno=114, col_offset=68)], [], None, None, lineno=114, col_offset=31), lineno=114, col_offset=0), Assign([Name('TXTNTag', Store(), lineno=115, col_offset=0)], Call(Name('OSTypeType', Load(), lineno=115, col_offset=10), [Str('TXTNTag', lineno=115, col_offset=21)], [], None, None, lineno=115, col_offset=10), lineno=115, col_offset=0), Assign([Name('TXNBackgroundType', Store(), lineno=116, col_offset=0)], Call(Name('Type', Load(), lineno=116, col_offset=20), [Str('TXNBackgroundType', lineno=116, col_offset=25), Str('l', lineno=116, col_offset=46)], [], None, None, lineno=116, col_offset=20), lineno=116, col_offset=0), Assign([Name('DragReference', Store(), lineno=117, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=117, col_offset=16), [Str('DragReference', lineno=117, col_offset=34), Str('DragObj', lineno=117, col_offset=51)], [], None, None, lineno=117, col_offset=16), lineno=117, col_offset=0), Assign([Name('DragTrackingMessage', Store(), lineno=118, col_offset=0)], Call(Name('Type', Load(), lineno=118, col_offset=22), [Str('DragTrackingMessage', lineno=118, col_offset=27), Str('h', lineno=118, col_offset=50)], [], None, None, lineno=118, col_offset=22), lineno=118, col_offset=0), Assign([Name('RgnHandle', Store(), lineno=119, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=119, col_offset=12), [Str('RgnHandle', lineno=119, col_offset=30), Str('ResObj', lineno=119, col_offset=43)], [], None, None, lineno=119, col_offset=12), lineno=119, col_offset=0), Assign([Name('OptRgnHandle', Store(), lineno=120, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=120, col_offset=15), [Str('RgnHandle', lineno=120, col_offset=33), Str('OptResObj', lineno=120, col_offset=46)], [], None, None, lineno=120, col_offset=15), lineno=120, col_offset=0), Assign([Name('GWorldPtr', Store(), lineno=121, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=121, col_offset=12), [Str('GWorldPtr', lineno=121, col_offset=30), Str('GWorldObj', lineno=121, col_offset=43)], [], None, None, lineno=121, col_offset=12), lineno=121, col_offset=0), Assign([Name('OptGWorldPtr', Store(), lineno=122, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=122, col_offset=15), [Str('GWorldPtr', lineno=122, col_offset=33), Str('OptGWorldObj', lineno=122, col_offset=46)], [], None, None, lineno=122, col_offset=15), lineno=122, col_offset=0), Assign([Name('MlteInBuffer', Store(), lineno=123, col_offset=0)], Call(Name('VarInputBufferType', Load(), lineno=123, col_offset=15), [Str('void *', lineno=123, col_offset=34), Str('ByteCount', lineno=123, col_offset=44), Str('l', lineno=123, col_offset=57)], [], None, None, lineno=123, col_offset=15), lineno=123, col_offset=0), Assign([Name('OptFSSpecPtr', Store(), lineno=125, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=125, col_offset=15), [Str('FSSpec *', lineno=125, col_offset=33), Str('OptFSSpecPtr', lineno=125, col_offset=45)], [], None, None, lineno=125, col_offset=15), lineno=125, col_offset=0), Assign([Name('OptRectPtr', Store(), lineno=126, col_offset=0)], Call(Name('OpaqueByValueType', Load(), lineno=126, col_offset=13), [Str('Rect *', lineno=126, col_offset=31), Str('OptRectPtr', lineno=126, col_offset=41)], [], None, None, lineno=126, col_offset=13), lineno=126, col_offset=0), Assign([Name('UniChar', Store(), lineno=128, col_offset=0)], Call(Name('Type', Load(), lineno=128, col_offset=10), [Str('UniChar', lineno=128, col_offset=15), Str('h', lineno=128, col_offset=26)], [], None, None, lineno=128, col_offset=10), lineno=128, col_offset=0), Expr(Call(Name('execfile', Load(), lineno=131, col_offset=0), [Str('mltetypetest.py', lineno=131, col_offset=9)], [], None, None, lineno=131, col_offset=0), lineno=131, col_offset=0), ClassDef('TXNObjDefinition', [Name('PEP253Mixin', Load(), lineno=135, col_offset=23), Name('GlobalObjectDefinition', Load(), lineno=135, col_offset=36)], [FunctionDef('outputCheckNewArg', arguments([Name('self', Param(), lineno=136, col_offset=26)], None, None, []), [Expr(Call(Name('Output', Load(), lineno=137, col_offset=8), [Str('if (itself == NULL) return PyMac_Error(resNotFound);', lineno=137, col_offset=15)], [], None, None, lineno=137, col_offset=8), lineno=137, col_offset=8)], [], lineno=136, col_offset=4)], [], lineno=135, col_offset=0), ClassDef('TXNFontMenuObjDefinition', [Name('PEP253Mixin', Load(), lineno=139, col_offset=31), Name('GlobalObjectDefinition', Load(), lineno=139, col_offset=44)], [FunctionDef('outputCheckNewArg', arguments([Name('self', Param(), lineno=140, col_offset=26)], None, None, []), [Expr(Call(Name('Output', Load(), lineno=141, col_offset=8), [Str('if (itself == NULL) return PyMac_Error(resNotFound);', lineno=141, col_offset=15)], [], None, None, lineno=141, col_offset=8), lineno=141, col_offset=8)], [], lineno=140, col_offset=4)], [], lineno=139, col_offset=0), Assign([Name('module', Store(), lineno=149, col_offset=0)], Call(Name('MacModule', Load(), lineno=149, col_offset=9), [Name('MODNAME', Load(), lineno=149, col_offset=19), Name('MODPREFIX', Load(), lineno=149, col_offset=28), Name('includestuff', Load(), lineno=149, col_offset=39), Name('finalstuff', Load(), lineno=149, col_offset=53), Name('initstuff', Load(), lineno=149, col_offset=65)], [], None, None, lineno=149, col_offset=9), lineno=149, col_offset=0), Assign([Name('TXNObject_object', Store(), lineno=150, col_offset=0)], Call(Name('TXNObjDefinition', Load(), lineno=150, col_offset=19), [Str('TXNObject', lineno=150, col_offset=36), Str('TXNObj', lineno=150, col_offset=49), Str('TXNObject', lineno=150, col_offset=59)], [], None, None, lineno=150, col_offset=19), lineno=150, col_offset=0), Assign([Name('TXNFontMenuObject_object', Store(), lineno=151, col_offset=0)], Call(Name('TXNFontMenuObjDefinition', Load(), lineno=151, col_offset=27), [Str('TXNFontMenuObject', lineno=151, col_offset=52), Str('TXNFontMenuObj', lineno=151, col_offset=73), Str('TXNFontMenuObject', lineno=151, col_offset=91)], [], None, None, lineno=151, col_offset=27), lineno=151, col_offset=0), Expr(Call(Attribute(Name('module', Load(), lineno=155, col_offset=0), 'addobject', Load(), lineno=155, col_offset=0), [Name('TXNObject_object', Load(), lineno=155, col_offset=17)], [], None, None, lineno=155, col_offset=0), lineno=155, col_offset=0), Expr(Call(Attribute(Name('module', Load(), lineno=156, col_offset=0), 'addobject', Load(), lineno=156, col_offset=0), [Name('TXNFontMenuObject_object', Load(), lineno=156, col_offset=17)], [], None, None, lineno=156, col_offset=0), lineno=156, col_offset=0), Assign([Name('Function', Store(), lineno=160, col_offset=0)], Name('OSErrWeakLinkFunctionGenerator', Load(), lineno=160, col_offset=11), lineno=160, col_offset=0), Assign([Name('Method', Store(), lineno=161, col_offset=0)], Name('OSErrWeakLinkMethodGenerator', Load(), lineno=161, col_offset=9), lineno=161, col_offset=0), Assign([Name('functions', Store(), lineno=164, col_offset=0)], List([], Load(), lineno=164, col_offset=12), lineno=164, col_offset=0), Assign([Name('TXNObject_methods', Store(), lineno=165, col_offset=0)], List([], Load(), lineno=165, col_offset=20), lineno=165, col_offset=0), Assign([Name('TXNFontMenuObject_methods', Store(), lineno=166, col_offset=0)], List([], Load(), lineno=166, col_offset=28), lineno=166, col_offset=0), Expr(Call(Name('execfile', Load(), lineno=169, col_offset=0), [Name('INPUTFILE', Load(), lineno=169, col_offset=9)], [], None, None, lineno=169, col_offset=0), lineno=169, col_offset=0), For(Name('f', Store(), lineno=174, col_offset=4), Name('functions', Load(), lineno=174, col_offset=9), [Expr(Call(Attribute(Name('module', Load(), lineno=174, col_offset=20), 'add', Load(), lineno=174, col_offset=20), [Name('f', Load(), lineno=174, col_offset=31)], [], None, None, lineno=174, col_offset=20), lineno=174, col_offset=20)], [], lineno=174, col_offset=0), For(Name('f', Store(), lineno=175, col_offset=4), Name('TXNObject_methods', Load(), lineno=175, col_offset=9), [Expr(Call(Attribute(Name('TXNObject_object', Load(), lineno=175, col_offset=28), 'add', Load(), lineno=175, col_offset=28), [Name('f', Load(), lineno=175, col_offset=49)], [], None, None, lineno=175, col_offset=28), lineno=175, col_offset=28)], [], lineno=175, col_offset=0), For(Name('f', Store(), lineno=176, col_offset=4), Name('TXNFontMenuObject_methods', Load(), lineno=176, col_offset=9), [Expr(Call(Attribute(Name('TXNFontMenuObject_object', Load(), lineno=176, col_offset=36), 'add', Load(), lineno=176, col_offset=36), [Name('f', Load(), lineno=176, col_offset=65)], [], None, None, lineno=176, col_offset=36), lineno=176, col_offset=36)], [], lineno=176, col_offset=0), Assign([Name('inittextension_body', Store(), lineno=179, col_offset=0)], Str('\nOSStatus _err;\nTXNMacOSPreferredFontDescription * iDefaultFonts = NULL;\nItemCount iCountDefaultFonts = 0;\nTXNInitOptions iUsageFlags;\nPyMac_PRECHECK(TXNInitTextension);\nif (!PyArg_ParseTuple(_args, "l", &iUsageFlags))\n        return NULL;\n_err = TXNInitTextension(iDefaultFonts,\n                         iCountDefaultFonts,\n                         iUsageFlags);\nif (_err != noErr) return PyMac_Error(_err);\nPy_INCREF(Py_None);\n_res = Py_None;\nreturn _res;\n', lineno=194, col_offset=-1), lineno=179, col_offset=0), Assign([Name('f', Store(), lineno=196, col_offset=0)], Call(Name('ManualGenerator', Load(), lineno=196, col_offset=4), [Str('TXNInitTextension', lineno=196, col_offset=20), Name('inittextension_body', Load(), lineno=196, col_offset=41)], [], None, None, lineno=196, col_offset=4), lineno=196, col_offset=0), Assign([Attribute(Name('f', Load(), lineno=197, col_offset=0), 'docstring', Store(), lineno=197, col_offset=0)], Lambda(arguments([], None, None, []), Str('(TXNInitOptions) -> None', lineno=197, col_offset=22), lineno=197, col_offset=14), lineno=197, col_offset=0), Expr(Call(Attribute(Name('module', Load(), lineno=198, col_offset=0), 'add', Load(), lineno=198, col_offset=0), [Name('f', Load(), lineno=198, col_offset=11)], [], None, None, lineno=198, col_offset=0), lineno=198, col_offset=0), Expr(Call(Name('SetOutputFileName', Load(), lineno=201, col_offset=0), [Name('OUTPUTFILE', Load(), lineno=201, col_offset=18)], [], None, None, lineno=201, col_offset=0), lineno=201, col_offset=0), Expr(Call(Attribute(Name('module', Load(), lineno=202, col_offset=0), 'generate', Load(), lineno=202, col_offset=0), [], [], None, None, lineno=202, col_offset=0), lineno=202, col_offset=0)])
